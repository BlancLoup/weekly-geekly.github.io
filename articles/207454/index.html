<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Great guide to Yiinitializr</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The guys from Yii Software are preparing a bomb. So far I am only watching the new version of the framework from around the corner, but I am already s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Great guide to Yiinitializr</h1><div class="post__text post__text-html js-mediator-article">  The guys from Yii Software are preparing a bomb.  So far I am only watching the new version of the framework from around the corner, but I am already seeing improvements in everything - from using new language features to conveniently creating my own structures for large projects. <br><br>  However, now things are in such a way that the train only gets on the rails (do not look for analogies, although they are there) and you will have to wait for a stable version, and new projects have to be done today.  For a happy development, there‚Äôs just not enough, namely, the convenient structure of the application, deployment without unnecessary problems, and of different buns at will.  At the moment, the most pleasant solution is Yiinitializr. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/688/6f6/6b1/6886f66b101515b23a86fe6c17a7e0a3.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>Yiinitializr</b> is a library that helps simplify and speed up the development cycle of an application based on the Yii framework.  Out of the box there are 3 options for structural patterns: <br><ul><li>  Basic - created for small-scale projects; </li><li>  Intermediate - suitable for most projects of medium complexity; </li><li>  Advanced - would be a good choice for more complex projects with the need to provide your own API. </li></ul><br>  <b>Why it is worth reading this article?</b>  The lack of intelligible documentation introduces even inexperienced developers into a stupor (checked on themselves), and a bunch of different surprises (for example, in the form of bugs) remarkably complement this feeling.  I tried to disassemble the process of working with Yiinitializr cogs to protect you from most of the troubles in the way of its development. <br><br>  On this, I think, descriptive words are enough.  If you are reading this article, it means that you most likely already know what Yiinitializr is, and want to get answers to specific questions about its use.  And if you still do not know, the main point, I hope, you have caught, so do not be afraid to read further. <br><a name="habracut"></a><br><blockquote>  <b>Attention!</b>  Since Yiinitializr continues to develop (albeit extremely slowly), any bug or any behavior described in this article can be corrected / changed at the time of reading.  Even the emergence of a new, more advanced tool (for example, the built-in capabilities of the second version of the framework) is not excluded. </blockquote><br><h3>  Installation </h3><br><h4>  Step 1. Downloading Yiinitializr </h4><br>  First of all, Yiinitializr must be downloaded.  This can be done in <i>two ways</i> - from the <a href="http://yiinitializr.2amigos.us/">official site</a> , or from the repository on GitHub ( <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a> ).  Using the first method, we are able to add various extensions for Yii to the package, but for some reason the Intermediate-template build is based on the old version of Yiinitializr, which contains an incorrect initialization script ( <b>Warning!</b> This <i>only</i> applies <i>to the</i> Intermediate-template).  At the same time, the source code from the main repository branch offers us another unpleasant surprise, namely, an extra dependency in the Composer configuration file, due to which an error occurs during the installation.  But do not despair, together we can definitely solve these problems. <br><br>  So, depending on which method you choose, open the corresponding spoiler. <br><br><div class="spoiler">  <b class="spoiler_title">I downloaded the archive from the official site</b> <div class="spoiler_text"> Now we have to run a little ahead.  But in order not to lose the thread of the story, we will only correct the initializing script, and leave all the explanations for later. <br>  Unpack the archive and change the contents of the two files.  Content <code>./frontend/www/index.php</code> to: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(<span class="hljs-string"><span class="hljs-string">'./../../common/lib/vendor/autoload.php'</span></span>); Yiinitializr\Helpers\Initializer::create(<span class="hljs-string"><span class="hljs-string">'./../'</span></span>, <span class="hljs-string"><span class="hljs-string">'frontend'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-keyword"><span class="hljs-keyword">__DIR__</span></span> . <span class="hljs-string"><span class="hljs-string">'/../../common/config/main.php'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">__DIR__</span></span> . <span class="hljs-string"><span class="hljs-string">'/../../common/config/env.php'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">__DIR__</span></span> . <span class="hljs-string"><span class="hljs-string">'/../../common/config/local.php'</span></span> ))-&gt;run();</code> </pre><br>  Content <code>./backend/www/index.php</code> to: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(<span class="hljs-string"><span class="hljs-string">'./../../common/lib/vendor/autoload.php'</span></span>); Yiinitializr\Helpers\Initializer::create(<span class="hljs-string"><span class="hljs-string">'./../'</span></span>, <span class="hljs-string"><span class="hljs-string">'backend'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-keyword"><span class="hljs-keyword">__DIR__</span></span> . <span class="hljs-string"><span class="hljs-string">'/../../common/config/main.php'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">__DIR__</span></span> . <span class="hljs-string"><span class="hljs-string">'/../../common/config/env.php'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">__DIR__</span></span> . <span class="hljs-string"><span class="hljs-string">'/../../common/config/local.php'</span></span> ))-&gt;run();</code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">I used the services of GitHub</b> <div class="spoiler_text">  Everything is in order with the initializing script, but it is necessary to get rid of the Composer unnecessary dependency.  To do this, open the file <code>./composer.json</code> and delete the line. <br><br><pre> <code class="javascript hljs"><span class="hljs-string"><span class="hljs-string">"2amigos/yiistrap"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span>,</code> </pre><br>  from the <code>require</code> block. <br></div></div><br>  Now that the current version of the freshly uploaded Intermediate-template Yiinitializr on our computer, I propose to study its structure (with two other versions, things are similar, so there should be no difficulty with understanding).  The application is divided into 4 parts ( <code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code><code><code><code><code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code></code> <code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code><code><code><code><code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code></code> <ul><li> <code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code><code><code><code><code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code></code> </li> <li> <code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code><code><code><code><code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code></code> </li> <li> <code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code><code><code><code><code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> </li> </ul> <code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code><code><code><code><code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> <ul><li> <code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code><code><code><code><code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> </li> <li> <code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code><code><code><code><code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> </li> <li> <code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code><code><code><code><code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> </li> <li> <code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code><code><code><code><code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> </li> </ul> <code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code><code><code><code><code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> <h4> <code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code><code><code><code><code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> </h4> <code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code><code><code><code><code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> <pre> <code class="hljs ruby"><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part<span class="hljs-number"><span class="hljs-number">_</span></span>&gt;<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span></code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  <span class="hljs-number"><span class="hljs-number">2</span></span>.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/<span class="hljs-keyword"><span class="hljs-keyword">end</span></span>/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;<span class="hljs-regexp"><span class="hljs-regexp">/config/</span></span>&lt;part&gt;.php ./&lt;part&gt;<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/&lt;environment&gt;.php</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">       , -,   ( </span></span><code><code><code><code><code><span class="hljs-regexp"><span class="hljs-regexp">), , -,   (). </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp"></span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> () ‚Äî    ,    . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp"></span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> () ‚Äî  ,    . -: dev</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> ( )  </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">prod</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> ( ). </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">   ( )   </span></span><code><code><code><span class="hljs-regexp"><span class="hljs-regexp">./</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php      ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php . ,     ,      . ,    ,     .    : </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">   ,        ‚Äî     .      ./comon</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/dev.php</span></span></code><span class="hljs-regexp"><span class="hljs-regexp">    .        ,      ,          . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  ? !     . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  3.    Composer </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">     Yii,        : </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  Yiinitializr      Composer,           . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">!</span></span></b><span class="hljs-regexp"><span class="hljs-regexp">  ,             ,   PhpUnit.         ,       ,    ,    .      . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><a href="http://getcomposer.org/"><span class="hljs-regexp"><span class="hljs-regexp">Composer</span></span></a><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî </span></span><a href="http://habrahabr.ru/post/145946/"><span class="hljs-regexp"><span class="hljs-regexp">   PHP</span></span></a><span class="hljs-regexp"><span class="hljs-regexp"> .               ,     . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">      </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./composer</span></span>.json</code> .         ,       <code><span class="hljs-keyword"><span class="hljs-keyword">require</span></span></code> : <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"require"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"yiisoft/yii"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.1.14"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"2amigos/yiiwheels"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.0.3"</span></span></span></span> },</code> <br>     ‚Äî         Yii,     (        )   <span class="hljs-symbol"><span class="hljs-symbol">Yiinitializr:</span></span> Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"require-dev"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"phpunit/php-invoker"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.1.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/dbunit"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.3.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit-story"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit-selenium"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span> },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     <span class="hljs-symbol"><span class="hljs-symbol">Git:</span></span> <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"repositories"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>[ { <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"composer"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"url"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"http://packages.phundament.com"</span></span></span></span> }, { <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"package"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"package"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"name"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"phpunit/php-invoker"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"version"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.1.0"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"source"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"git"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"url"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"http://github.com/sebastianbergmann/php-invoker"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"reference"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"master"</span></span></span></span> }, <span class="hljs-string"><span class="hljs-string">"autoload"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"classmap"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"PHP/"</span></span> ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    <span class="hljs-symbol"><span class="hljs-symbol">Enter:</span></span> <br> <br> <code class="bash">Please, enter your environment -ie. <span class="hljs-string"><span class="hljs-string">"dev | prod | stage"</span></span>: [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (<span class="hljs-number"><span class="hljs-number">4</span></span> ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php, . .    -  Git     ,  ¬´¬ª.            ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php. </span></span><br></code></code></code><span class="hljs-regexp"><span class="hljs-regexp">   Yiinitializr </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">          Yiinitializr,       . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">Yiinitializr</span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  .  Yiinitializr     ,       .    /common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/extensions/components</span></span><span class="hljs-regexp"><span class="hljs-regexp">/</span></span></code><span class="hljs-regexp"><span class="hljs-regexp">  ,     ,   . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">EWebApplication</span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/lib/</span></span>Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication(<span class="hljs-string"><span class="hljs-string">'EWebApplication'</span></span>, $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yii.handleErrors'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.debug'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.traceLevel'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">3</span></span>, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yii.handleErrors'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.debug'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.traceLevel'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">0</span></span>, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into <span class="hljs-string"><span class="hljs-string">'yiinitializr-prod'</span></span>... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'gii'</span></span> =&gt; array( ... <span class="hljs-string"><span class="hljs-string">'generatorPaths'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'common.gii'</span></span>), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php, . .    -  Git     ,  ¬´¬ª.            ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php.        Composer.      ,     ./common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>./<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span>    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>./<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span>.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'composer.callbacks'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'post-update'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'migrate'</span></span>), <span class="hljs-string"><span class="hljs-string">'post-install'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'migrate'</span></span>), ) ),</code> <br>     <code><span class="hljs-string"><span class="hljs-string">`./yiic migrate`</span></span></code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> <span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'composer.callbacks'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yiisoft/yii-install'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'webapp'</span></span>, realpath(dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php"><span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(__DIR_<span class="hljs-number"><span class="hljs-number">_</span></span> . <span class="hljs-string"><span class="hljs-string">'/../../common/lib/vendor/autoload.php'</span></span>); $config = Yiinitializr\Helpers\Initializer::config(<span class="hljs-string"><span class="hljs-string">'frontend'</span></span>, array( dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/main.php'</span></span>, dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/env.php'</span></span>, dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/test.php'</span></span>, )); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CTestCase'</span></span>); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CDbTestCase'</span></span>); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CWebTestCase'</span></span>); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> </pre> <code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code><code><code><code><code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> <pre> <code class="hljs ruby"><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part<span class="hljs-number"><span class="hljs-number">_</span></span>&gt;<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span></code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  <span class="hljs-number"><span class="hljs-number">2</span></span>.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/<span class="hljs-keyword"><span class="hljs-keyword">end</span></span>/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;<span class="hljs-regexp"><span class="hljs-regexp">/config/</span></span>&lt;part&gt;.php ./&lt;part&gt;<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/&lt;environment&gt;.php</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">       , -,   ( </span></span><code><code><code><code><code><span class="hljs-regexp"><span class="hljs-regexp">), , -,   (). </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp"></span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> () ‚Äî    ,    . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp"></span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> () ‚Äî  ,    . -: dev</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> ( )  </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">prod</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> ( ). </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">   ( )   </span></span><code><code><code><span class="hljs-regexp"><span class="hljs-regexp">./</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php      ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php . ,     ,      . ,    ,     .    : </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">   ,        ‚Äî     .      ./comon</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/dev.php</span></span></code><span class="hljs-regexp"><span class="hljs-regexp">    .        ,      ,          . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  ? !     . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  3.    Composer </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">     Yii,        : </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  Yiinitializr      Composer,           . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">!</span></span></b><span class="hljs-regexp"><span class="hljs-regexp">  ,             ,   PhpUnit.         ,       ,    ,    .      . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><a href="http://getcomposer.org/"><span class="hljs-regexp"><span class="hljs-regexp">Composer</span></span></a><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî </span></span><a href="http://habrahabr.ru/post/145946/"><span class="hljs-regexp"><span class="hljs-regexp">   PHP</span></span></a><span class="hljs-regexp"><span class="hljs-regexp"> .               ,     . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">      </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./composer</span></span>.json</code> .         ,       <code><span class="hljs-keyword"><span class="hljs-keyword">require</span></span></code> : <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"require"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"yiisoft/yii"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.1.14"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"2amigos/yiiwheels"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.0.3"</span></span></span></span> },</code> <br>     ‚Äî         Yii,     (        )   <span class="hljs-symbol"><span class="hljs-symbol">Yiinitializr:</span></span> Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"require-dev"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"phpunit/php-invoker"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.1.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/dbunit"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.3.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit-story"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit-selenium"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span> },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     <span class="hljs-symbol"><span class="hljs-symbol">Git:</span></span> <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"repositories"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>[ { <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"composer"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"url"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"http://packages.phundament.com"</span></span></span></span> }, { <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"package"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"package"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"name"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"phpunit/php-invoker"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"version"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.1.0"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"source"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"git"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"url"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"http://github.com/sebastianbergmann/php-invoker"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"reference"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"master"</span></span></span></span> }, <span class="hljs-string"><span class="hljs-string">"autoload"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"classmap"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"PHP/"</span></span> ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    <span class="hljs-symbol"><span class="hljs-symbol">Enter:</span></span> <br> <br> <code class="bash">Please, enter your environment -ie. <span class="hljs-string"><span class="hljs-string">"dev | prod | stage"</span></span>: [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (<span class="hljs-number"><span class="hljs-number">4</span></span> ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php, . .    -  Git     ,  ¬´¬ª.            ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php. </span></span><br></code></code></code><span class="hljs-regexp"><span class="hljs-regexp">   Yiinitializr </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">          Yiinitializr,       . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">Yiinitializr</span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  .  Yiinitializr     ,       .    /common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/extensions/components</span></span><span class="hljs-regexp"><span class="hljs-regexp">/</span></span></code><span class="hljs-regexp"><span class="hljs-regexp">  ,     ,   . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">EWebApplication</span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/lib/</span></span>Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication(<span class="hljs-string"><span class="hljs-string">'EWebApplication'</span></span>, $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yii.handleErrors'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.debug'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.traceLevel'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">3</span></span>, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yii.handleErrors'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.debug'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.traceLevel'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">0</span></span>, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into <span class="hljs-string"><span class="hljs-string">'yiinitializr-prod'</span></span>... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'gii'</span></span> =&gt; array( ... <span class="hljs-string"><span class="hljs-string">'generatorPaths'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'common.gii'</span></span>), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php, . .    -  Git     ,  ¬´¬ª.            ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php.        Composer.      ,     ./common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>./<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span>    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>./<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span>.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'composer.callbacks'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'post-update'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'migrate'</span></span>), <span class="hljs-string"><span class="hljs-string">'post-install'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'migrate'</span></span>), ) ),</code> <br>     <code><span class="hljs-string"><span class="hljs-string">`./yiic migrate`</span></span></code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> <span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'composer.callbacks'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yiisoft/yii-install'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'webapp'</span></span>, realpath(dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php"><span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(__DIR_<span class="hljs-number"><span class="hljs-number">_</span></span> . <span class="hljs-string"><span class="hljs-string">'/../../common/lib/vendor/autoload.php'</span></span>); $config = Yiinitializr\Helpers\Initializer::config(<span class="hljs-string"><span class="hljs-string">'frontend'</span></span>, array( dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/main.php'</span></span>, dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/env.php'</span></span>, dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/test.php'</span></span>, )); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CTestCase'</span></span>); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CDbTestCase'</span></span>); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CWebTestCase'</span></span>); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> </pre> <code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code><code><code><code><code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> <h4> <code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code></code> </h4> <code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code></code> <ul><li> <code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code></code> </li> <li> <code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code></code> </li> <li> <code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code></code> </li> </ul> <code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code></code> <blockquote> <code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code></code> </blockquote> <code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code></code> <pre> <code class="hljs ruby"><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part<span class="hljs-number"><span class="hljs-number">_</span></span>&gt;<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span></code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  <span class="hljs-number"><span class="hljs-number">2</span></span>.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/<span class="hljs-keyword"><span class="hljs-keyword">end</span></span>/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;<span class="hljs-regexp"><span class="hljs-regexp">/config/</span></span>&lt;part&gt;.php ./&lt;part&gt;<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/&lt;environment&gt;.php</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">       , -,   ( </span></span><code><code><code><code><code><span class="hljs-regexp"><span class="hljs-regexp">), , -,   (). </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp"></span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> () ‚Äî    ,    . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp"></span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> () ‚Äî  ,    . -: dev</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> ( )  </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">prod</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> ( ). </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">   ( )   </span></span><code><code><code><span class="hljs-regexp"><span class="hljs-regexp">./</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php      ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php . ,     ,      . ,    ,     .    : </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">   ,        ‚Äî     .      ./comon</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/dev.php</span></span></code><span class="hljs-regexp"><span class="hljs-regexp">    .        ,      ,          . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  ? !     . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  3.    Composer </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">     Yii,        : </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  Yiinitializr      Composer,           . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">!</span></span></b><span class="hljs-regexp"><span class="hljs-regexp">  ,             ,   PhpUnit.         ,       ,    ,    .      . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><a href="http://getcomposer.org/"><span class="hljs-regexp"><span class="hljs-regexp">Composer</span></span></a><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî </span></span><a href="http://habrahabr.ru/post/145946/"><span class="hljs-regexp"><span class="hljs-regexp">   PHP</span></span></a><span class="hljs-regexp"><span class="hljs-regexp"> .               ,     . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">      </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./composer</span></span>.json</code> .         ,       <code><span class="hljs-keyword"><span class="hljs-keyword">require</span></span></code> : <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"require"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"yiisoft/yii"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.1.14"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"2amigos/yiiwheels"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.0.3"</span></span></span></span> },</code> <br>     ‚Äî         Yii,     (        )   <span class="hljs-symbol"><span class="hljs-symbol">Yiinitializr:</span></span> Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"require-dev"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"phpunit/php-invoker"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.1.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/dbunit"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.3.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit-story"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit-selenium"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span> },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     <span class="hljs-symbol"><span class="hljs-symbol">Git:</span></span> <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"repositories"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>[ { <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"composer"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"url"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"http://packages.phundament.com"</span></span></span></span> }, { <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"package"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"package"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"name"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"phpunit/php-invoker"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"version"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.1.0"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"source"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"git"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"url"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"http://github.com/sebastianbergmann/php-invoker"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"reference"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"master"</span></span></span></span> }, <span class="hljs-string"><span class="hljs-string">"autoload"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"classmap"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"PHP/"</span></span> ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    <span class="hljs-symbol"><span class="hljs-symbol">Enter:</span></span> <br> <br> <code class="bash">Please, enter your environment -ie. <span class="hljs-string"><span class="hljs-string">"dev | prod | stage"</span></span>: [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (<span class="hljs-number"><span class="hljs-number">4</span></span> ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php, . .    -  Git     ,  ¬´¬ª.            ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php. </span></span><br></code></code></code><span class="hljs-regexp"><span class="hljs-regexp">   Yiinitializr </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">          Yiinitializr,       . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">Yiinitializr</span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  .  Yiinitializr     ,       .    /common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/extensions/components</span></span><span class="hljs-regexp"><span class="hljs-regexp">/</span></span></code><span class="hljs-regexp"><span class="hljs-regexp">  ,     ,   . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">EWebApplication</span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/lib/</span></span>Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication(<span class="hljs-string"><span class="hljs-string">'EWebApplication'</span></span>, $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yii.handleErrors'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.debug'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.traceLevel'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">3</span></span>, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yii.handleErrors'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.debug'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.traceLevel'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">0</span></span>, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into <span class="hljs-string"><span class="hljs-string">'yiinitializr-prod'</span></span>... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'gii'</span></span> =&gt; array( ... <span class="hljs-string"><span class="hljs-string">'generatorPaths'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'common.gii'</span></span>), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php, . .    -  Git     ,  ¬´¬ª.            ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php.        Composer.      ,     ./common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>./<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span>    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>./<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span>.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'composer.callbacks'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'post-update'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'migrate'</span></span>), <span class="hljs-string"><span class="hljs-string">'post-install'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'migrate'</span></span>), ) ),</code> <br>     <code><span class="hljs-string"><span class="hljs-string">`./yiic migrate`</span></span></code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> <span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'composer.callbacks'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yiisoft/yii-install'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'webapp'</span></span>, realpath(dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php"><span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(__DIR_<span class="hljs-number"><span class="hljs-number">_</span></span> . <span class="hljs-string"><span class="hljs-string">'/../../common/lib/vendor/autoload.php'</span></span>); $config = Yiinitializr\Helpers\Initializer::config(<span class="hljs-string"><span class="hljs-string">'frontend'</span></span>, array( dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/main.php'</span></span>, dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/env.php'</span></span>, dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/test.php'</span></span>, )); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CTestCase'</span></span>); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CDbTestCase'</span></span>); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CWebTestCase'</span></span>); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> </pre> <code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code></code> <pre> <code class="hljs ruby"><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part<span class="hljs-number"><span class="hljs-number">_</span></span>&gt;<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span></code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  <span class="hljs-number"><span class="hljs-number">2</span></span>.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/<span class="hljs-keyword"><span class="hljs-keyword">end</span></span>/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;<span class="hljs-regexp"><span class="hljs-regexp">/config/</span></span>&lt;part&gt;.php ./&lt;part&gt;<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/&lt;environment&gt;.php</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">       , -,   ( </span></span><code><code><code><code><code><span class="hljs-regexp"><span class="hljs-regexp">), , -,   (). </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp"></span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> () ‚Äî    ,    . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp"></span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> () ‚Äî  ,    . -: dev</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> ( )  </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">prod</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> ( ). </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">   ( )   </span></span><code><code><code><span class="hljs-regexp"><span class="hljs-regexp">./</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php      ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php . ,     ,      . ,    ,     .    : </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">   ,        ‚Äî     .      ./comon</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/dev.php</span></span></code><span class="hljs-regexp"><span class="hljs-regexp">    .        ,      ,          . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  ? !     . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  3.    Composer </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">     Yii,        : </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  Yiinitializr      Composer,           . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">!</span></span></b><span class="hljs-regexp"><span class="hljs-regexp">  ,             ,   PhpUnit.         ,       ,    ,    .      . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><a href="http://getcomposer.org/"><span class="hljs-regexp"><span class="hljs-regexp">Composer</span></span></a><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî </span></span><a href="http://habrahabr.ru/post/145946/"><span class="hljs-regexp"><span class="hljs-regexp">   PHP</span></span></a><span class="hljs-regexp"><span class="hljs-regexp"> .               ,     . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">      </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./composer</span></span>.json</code> .         ,       <code><span class="hljs-keyword"><span class="hljs-keyword">require</span></span></code> : <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"require"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"yiisoft/yii"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.1.14"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"2amigos/yiiwheels"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.0.3"</span></span></span></span> },</code> <br>     ‚Äî         Yii,     (        )   <span class="hljs-symbol"><span class="hljs-symbol">Yiinitializr:</span></span> Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"require-dev"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"phpunit/php-invoker"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.1.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/dbunit"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.3.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit-story"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit-selenium"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span> },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     <span class="hljs-symbol"><span class="hljs-symbol">Git:</span></span> <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"repositories"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>[ { <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"composer"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"url"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"http://packages.phundament.com"</span></span></span></span> }, { <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"package"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"package"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"name"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"phpunit/php-invoker"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"version"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.1.0"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"source"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"git"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"url"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"http://github.com/sebastianbergmann/php-invoker"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"reference"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"master"</span></span></span></span> }, <span class="hljs-string"><span class="hljs-string">"autoload"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"classmap"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"PHP/"</span></span> ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    <span class="hljs-symbol"><span class="hljs-symbol">Enter:</span></span> <br> <br> <code class="bash">Please, enter your environment -ie. <span class="hljs-string"><span class="hljs-string">"dev | prod | stage"</span></span>: [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (<span class="hljs-number"><span class="hljs-number">4</span></span> ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php, . .    -  Git     ,  ¬´¬ª.            ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php. </span></span><br></code></code></code><span class="hljs-regexp"><span class="hljs-regexp">   Yiinitializr </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">          Yiinitializr,       . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">Yiinitializr</span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  .  Yiinitializr     ,       .    /common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/extensions/components</span></span><span class="hljs-regexp"><span class="hljs-regexp">/</span></span></code><span class="hljs-regexp"><span class="hljs-regexp">  ,     ,   . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">EWebApplication</span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/lib/</span></span>Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication(<span class="hljs-string"><span class="hljs-string">'EWebApplication'</span></span>, $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yii.handleErrors'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.debug'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.traceLevel'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">3</span></span>, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yii.handleErrors'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.debug'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.traceLevel'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">0</span></span>, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into <span class="hljs-string"><span class="hljs-string">'yiinitializr-prod'</span></span>... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'gii'</span></span> =&gt; array( ... <span class="hljs-string"><span class="hljs-string">'generatorPaths'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'common.gii'</span></span>), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php, . .    -  Git     ,  ¬´¬ª.            ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php.        Composer.      ,     ./common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>./<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span>    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>./<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span>.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'composer.callbacks'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'post-update'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'migrate'</span></span>), <span class="hljs-string"><span class="hljs-string">'post-install'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'migrate'</span></span>), ) ),</code> <br>     <code><span class="hljs-string"><span class="hljs-string">`./yiic migrate`</span></span></code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> <span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'composer.callbacks'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yiisoft/yii-install'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'webapp'</span></span>, realpath(dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php"><span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(__DIR_<span class="hljs-number"><span class="hljs-number">_</span></span> . <span class="hljs-string"><span class="hljs-string">'/../../common/lib/vendor/autoload.php'</span></span>); $config = Yiinitializr\Helpers\Initializer::config(<span class="hljs-string"><span class="hljs-string">'frontend'</span></span>, array( dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/main.php'</span></span>, dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/env.php'</span></span>, dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/test.php'</span></span>, )); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CTestCase'</span></span>); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CDbTestCase'</span></span>); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CWebTestCase'</span></span>); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> </pre> <code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code></code> <pre> <code class="hljs ruby"><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part<span class="hljs-number"><span class="hljs-number">_</span></span>&gt;<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span></code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  <span class="hljs-number"><span class="hljs-number">2</span></span>.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/<span class="hljs-keyword"><span class="hljs-keyword">end</span></span>/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;<span class="hljs-regexp"><span class="hljs-regexp">/config/</span></span>&lt;part&gt;.php ./&lt;part&gt;<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/&lt;environment&gt;.php</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">       , -,   ( </span></span><code><code><code><code><code><span class="hljs-regexp"><span class="hljs-regexp">), , -,   (). </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp"></span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> () ‚Äî    ,    . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp"></span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> () ‚Äî  ,    . -: dev</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> ( )  </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">prod</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> ( ). </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">   ( )   </span></span><code><code><code><span class="hljs-regexp"><span class="hljs-regexp">./</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php      ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php . ,     ,      . ,    ,     .    : </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">   ,        ‚Äî     .      ./comon</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/dev.php</span></span></code><span class="hljs-regexp"><span class="hljs-regexp">    .        ,      ,          . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  ? !     . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  3.    Composer </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">     Yii,        : </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  Yiinitializr      Composer,           . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">!</span></span></b><span class="hljs-regexp"><span class="hljs-regexp">  ,             ,   PhpUnit.         ,       ,    ,    .      . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><a href="http://getcomposer.org/"><span class="hljs-regexp"><span class="hljs-regexp">Composer</span></span></a><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî </span></span><a href="http://habrahabr.ru/post/145946/"><span class="hljs-regexp"><span class="hljs-regexp">   PHP</span></span></a><span class="hljs-regexp"><span class="hljs-regexp"> .               ,     . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">      </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./composer</span></span>.json</code> .         ,       <code><span class="hljs-keyword"><span class="hljs-keyword">require</span></span></code> : <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"require"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"yiisoft/yii"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.1.14"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"2amigos/yiiwheels"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.0.3"</span></span></span></span> },</code> <br>     ‚Äî         Yii,     (        )   <span class="hljs-symbol"><span class="hljs-symbol">Yiinitializr:</span></span> Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"require-dev"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"phpunit/php-invoker"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.1.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/dbunit"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.3.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit-story"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit-selenium"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span> },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     <span class="hljs-symbol"><span class="hljs-symbol">Git:</span></span> <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"repositories"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>[ { <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"composer"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"url"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"http://packages.phundament.com"</span></span></span></span> }, { <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"package"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"package"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"name"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"phpunit/php-invoker"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"version"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.1.0"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"source"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"git"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"url"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"http://github.com/sebastianbergmann/php-invoker"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"reference"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"master"</span></span></span></span> }, <span class="hljs-string"><span class="hljs-string">"autoload"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"classmap"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"PHP/"</span></span> ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    <span class="hljs-symbol"><span class="hljs-symbol">Enter:</span></span> <br> <br> <code class="bash">Please, enter your environment -ie. <span class="hljs-string"><span class="hljs-string">"dev | prod | stage"</span></span>: [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (<span class="hljs-number"><span class="hljs-number">4</span></span> ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php, . .    -  Git     ,  ¬´¬ª.            ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php. </span></span><br></code></code></code><span class="hljs-regexp"><span class="hljs-regexp">   Yiinitializr </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">          Yiinitializr,       . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">Yiinitializr</span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  .  Yiinitializr     ,       .    /common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/extensions/components</span></span><span class="hljs-regexp"><span class="hljs-regexp">/</span></span></code><span class="hljs-regexp"><span class="hljs-regexp">  ,     ,   . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">EWebApplication</span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/lib/</span></span>Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication(<span class="hljs-string"><span class="hljs-string">'EWebApplication'</span></span>, $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yii.handleErrors'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.debug'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.traceLevel'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">3</span></span>, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yii.handleErrors'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.debug'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.traceLevel'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">0</span></span>, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into <span class="hljs-string"><span class="hljs-string">'yiinitializr-prod'</span></span>... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'gii'</span></span> =&gt; array( ... <span class="hljs-string"><span class="hljs-string">'generatorPaths'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'common.gii'</span></span>), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php, . .    -  Git     ,  ¬´¬ª.            ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php.        Composer.      ,     ./common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>./<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span>    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>./<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span>.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'composer.callbacks'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'post-update'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'migrate'</span></span>), <span class="hljs-string"><span class="hljs-string">'post-install'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'migrate'</span></span>), ) ),</code> <br>     <code><span class="hljs-string"><span class="hljs-string">`./yiic migrate`</span></span></code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> <span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'composer.callbacks'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yiisoft/yii-install'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'webapp'</span></span>, realpath(dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php"><span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(__DIR_<span class="hljs-number"><span class="hljs-number">_</span></span> . <span class="hljs-string"><span class="hljs-string">'/../../common/lib/vendor/autoload.php'</span></span>); $config = Yiinitializr\Helpers\Initializer::config(<span class="hljs-string"><span class="hljs-string">'frontend'</span></span>, array( dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/main.php'</span></span>, dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/env.php'</span></span>, dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/test.php'</span></span>, )); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CTestCase'</span></span>); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CDbTestCase'</span></span>); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CWebTestCase'</span></span>); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> </pre> <code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code></code> <blockquote> <code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code></code> </blockquote> <code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code></code> <pre> <code class="hljs ruby"><code><code><code><code><code><code><code class="bash"><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part<span class="hljs-number"><span class="hljs-number">_</span></span>&gt;<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span></code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  <span class="hljs-number"><span class="hljs-number">2</span></span>.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/<span class="hljs-keyword"><span class="hljs-keyword">end</span></span>/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;<span class="hljs-regexp"><span class="hljs-regexp">/config/</span></span>&lt;part&gt;.php ./&lt;part&gt;<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/&lt;environment&gt;.php</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">       , -,   ( </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">), , -,   (). </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp"></span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> () ‚Äî    ,    . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp"></span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> () ‚Äî  ,    . -: dev</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> ( )  </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">prod</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> ( ). </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">   ( )   </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php      ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php . ,     ,      . ,    ,     .    : </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">   ,        ‚Äî     .      ./comon</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/dev.php</span></span></code><span class="hljs-regexp"><span class="hljs-regexp">    .        ,      ,          . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  ? !     . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  3.    Composer </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">     Yii,        : </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  Yiinitializr      Composer,           . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">!</span></span></b><span class="hljs-regexp"><span class="hljs-regexp">  ,             ,   PhpUnit.         ,       ,    ,    .      . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><a href="http://getcomposer.org/"><span class="hljs-regexp"><span class="hljs-regexp">Composer</span></span></a><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî </span></span><a href="http://habrahabr.ru/post/145946/"><span class="hljs-regexp"><span class="hljs-regexp">   PHP</span></span></a><span class="hljs-regexp"><span class="hljs-regexp"> .               ,     . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">      </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./composer</span></span>.json</code> .         ,       <code><span class="hljs-keyword"><span class="hljs-keyword">require</span></span></code> : <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"require"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"yiisoft/yii"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.1.14"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"2amigos/yiiwheels"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.0.3"</span></span></span></span> },</code> <br>     ‚Äî         Yii,     (        )   <span class="hljs-symbol"><span class="hljs-symbol">Yiinitializr:</span></span> Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"require-dev"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"phpunit/php-invoker"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.1.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/dbunit"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.3.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit-story"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit-selenium"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span> },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     <span class="hljs-symbol"><span class="hljs-symbol">Git:</span></span> <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"repositories"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>[ { <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"composer"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"url"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"http://packages.phundament.com"</span></span></span></span> }, { <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"package"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"package"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"name"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"phpunit/php-invoker"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"version"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.1.0"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"source"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"git"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"url"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"http://github.com/sebastianbergmann/php-invoker"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"reference"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"master"</span></span></span></span> }, <span class="hljs-string"><span class="hljs-string">"autoload"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"classmap"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"PHP/"</span></span> ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> &gt; php composer.phar <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>-update <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    <span class="hljs-symbol"><span class="hljs-symbol">Enter:</span></span> <br> <br> <code class="bash">Please, enter your environment -ie. <span class="hljs-string"><span class="hljs-string">"dev | prod | stage"</span></span>: [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (<span class="hljs-number"><span class="hljs-number">4</span></span> ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php, . .    -  Git     ,  ¬´¬ª.            ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php. </span></span><br></code></code></code><span class="hljs-regexp"><span class="hljs-regexp">   Yiinitializr </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">          Yiinitializr,       . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">Yiinitializr</span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  .  Yiinitializr     ,       .    /common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/extensions/components</span></span><span class="hljs-regexp"><span class="hljs-regexp">/  ,     ,   . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">EWebApplication</span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/lib/</span></span>Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication(<span class="hljs-string"><span class="hljs-string">'EWebApplication'</span></span>, $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yii.handleErrors'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.debug'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.traceLevel'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">3</span></span>, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yii.handleErrors'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.debug'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.traceLevel'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">0</span></span>, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into <span class="hljs-string"><span class="hljs-string">'yiinitializr-prod'</span></span>... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'gii'</span></span> =&gt; array( ... <span class="hljs-string"><span class="hljs-string">'generatorPaths'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'common.gii'</span></span>), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php, . .    -  Git     ,  ¬´¬ª.            ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php.        Composer.      ,     ./common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>./<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span>    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>./<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span>.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'composer.callbacks'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'post-update'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'migrate'</span></span>), <span class="hljs-string"><span class="hljs-string">'post-install'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'migrate'</span></span>), ) ),</code> <br>     <code><span class="hljs-string"><span class="hljs-string">`./yiic migrate`</span></span></code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> <span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'composer.callbacks'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yiisoft/yii-install'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'webapp'</span></span>, realpath(dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php"><span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(__DIR_<span class="hljs-number"><span class="hljs-number">_</span></span> . <span class="hljs-string"><span class="hljs-string">'/../../common/lib/vendor/autoload.php'</span></span>); $config = Yiinitializr\Helpers\Initializer::config(<span class="hljs-string"><span class="hljs-string">'frontend'</span></span>, array( dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/main.php'</span></span>, dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/env.php'</span></span>, dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/test.php'</span></span>, )); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CTestCase'</span></span>); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CDbTestCase'</span></span>); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CWebTestCase'</span></span>); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code></code></code> </pre> <code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code></code> <pre> <code class="hljs ruby"><code><code><code><code><code><code><code class="bash"><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part<span class="hljs-number"><span class="hljs-number">_</span></span>&gt;<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span></code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  <span class="hljs-number"><span class="hljs-number">2</span></span>.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/<span class="hljs-keyword"><span class="hljs-keyword">end</span></span>/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;<span class="hljs-regexp"><span class="hljs-regexp">/config/</span></span>&lt;part&gt;.php ./&lt;part&gt;<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/&lt;environment&gt;.php</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">       , -,   ( </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">), , -,   (). </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp"></span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> () ‚Äî    ,    . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp"></span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> () ‚Äî  ,    . -: dev</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> ( )  </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">prod</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> ( ). </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">   ( )   </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php      ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php . ,     ,      . ,    ,     .    : </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">   ,        ‚Äî     .      ./comon</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/dev.php</span></span></code><span class="hljs-regexp"><span class="hljs-regexp">    .        ,      ,          . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  ? !     . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  3.    Composer </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">     Yii,        : </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  Yiinitializr      Composer,           . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">!</span></span></b><span class="hljs-regexp"><span class="hljs-regexp">  ,             ,   PhpUnit.         ,       ,    ,    .      . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><a href="http://getcomposer.org/"><span class="hljs-regexp"><span class="hljs-regexp">Composer</span></span></a><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî </span></span><a href="http://habrahabr.ru/post/145946/"><span class="hljs-regexp"><span class="hljs-regexp">   PHP</span></span></a><span class="hljs-regexp"><span class="hljs-regexp"> .               ,     . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">      </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./composer</span></span>.json</code> .         ,       <code><span class="hljs-keyword"><span class="hljs-keyword">require</span></span></code> : <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"require"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"yiisoft/yii"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.1.14"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"2amigos/yiiwheels"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.0.3"</span></span></span></span> },</code> <br>     ‚Äî         Yii,     (        )   <span class="hljs-symbol"><span class="hljs-symbol">Yiinitializr:</span></span> Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"require-dev"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"phpunit/php-invoker"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.1.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/dbunit"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.3.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit-story"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit-selenium"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span> },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     <span class="hljs-symbol"><span class="hljs-symbol">Git:</span></span> <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"repositories"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>[ { <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"composer"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"url"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"http://packages.phundament.com"</span></span></span></span> }, { <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"package"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"package"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"name"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"phpunit/php-invoker"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"version"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.1.0"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"source"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"git"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"url"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"http://github.com/sebastianbergmann/php-invoker"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"reference"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"master"</span></span></span></span> }, <span class="hljs-string"><span class="hljs-string">"autoload"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"classmap"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"PHP/"</span></span> ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>-update</code> <br>       : <br> <br> &gt; php composer.phar install <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    <span class="hljs-symbol"><span class="hljs-symbol">Enter:</span></span> <br> <br> <code class="bash">Please, enter your environment -ie. <span class="hljs-string"><span class="hljs-string">"dev | prod | stage"</span></span>: [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (<span class="hljs-number"><span class="hljs-number">4</span></span> ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php, . .    -  Git     ,  ¬´¬ª.            ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php. </span></span><br></code></code></code><span class="hljs-regexp"><span class="hljs-regexp">   Yiinitializr </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">          Yiinitializr,       . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">Yiinitializr</span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  .  Yiinitializr     ,       .    /common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/extensions/components</span></span><span class="hljs-regexp"><span class="hljs-regexp">/  ,     ,   . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">EWebApplication</span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/lib/</span></span>Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication(<span class="hljs-string"><span class="hljs-string">'EWebApplication'</span></span>, $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yii.handleErrors'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.debug'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.traceLevel'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">3</span></span>, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yii.handleErrors'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.debug'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.traceLevel'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">0</span></span>, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into <span class="hljs-string"><span class="hljs-string">'yiinitializr-prod'</span></span>... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'gii'</span></span> =&gt; array( ... <span class="hljs-string"><span class="hljs-string">'generatorPaths'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'common.gii'</span></span>), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php, . .    -  Git     ,  ¬´¬ª.            ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php.        Composer.      ,     ./common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>./<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span>    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>./<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span>.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'composer.callbacks'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'post-update'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'migrate'</span></span>), <span class="hljs-string"><span class="hljs-string">'post-install'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'migrate'</span></span>), ) ),</code> <br>     <code><span class="hljs-string"><span class="hljs-string">`./yiic migrate`</span></span></code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> <span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'composer.callbacks'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yiisoft/yii-install'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'webapp'</span></span>, realpath(dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php"><span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(__DIR_<span class="hljs-number"><span class="hljs-number">_</span></span> . <span class="hljs-string"><span class="hljs-string">'/../../common/lib/vendor/autoload.php'</span></span>); $config = Yiinitializr\Helpers\Initializer::config(<span class="hljs-string"><span class="hljs-string">'frontend'</span></span>, array( dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/main.php'</span></span>, dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/env.php'</span></span>, dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/test.php'</span></span>, )); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CTestCase'</span></span>); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CDbTestCase'</span></span>); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CWebTestCase'</span></span>); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code></code></code> </pre> <code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code></code> <blockquote> <code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code></code> </blockquote> <code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code></code> <pre> <code class="hljs ruby"><code><code><code><code><code><code><code class="bash"><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part<span class="hljs-number"><span class="hljs-number">_</span></span>&gt;<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span></code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  <span class="hljs-number"><span class="hljs-number">2</span></span>.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/<span class="hljs-keyword"><span class="hljs-keyword">end</span></span>/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;<span class="hljs-regexp"><span class="hljs-regexp">/config/</span></span>&lt;part&gt;.php ./&lt;part&gt;<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/&lt;environment&gt;.php</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">       , -,   ( </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">), , -,   (). </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp"></span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> () ‚Äî    ,    . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp"></span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> () ‚Äî  ,    . -: dev</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> ( )  </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">prod</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> ( ). </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">   ( )   </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php      ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php . ,     ,      . ,    ,     .    : </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">   ,        ‚Äî     .      ./comon</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/dev.php</span></span></code><span class="hljs-regexp"><span class="hljs-regexp">    .        ,      ,          . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  ? !     . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  3.    Composer </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">     Yii,        : </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  Yiinitializr      Composer,           . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">!</span></span></b><span class="hljs-regexp"><span class="hljs-regexp">  ,             ,   PhpUnit.         ,       ,    ,    .      . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><a href="http://getcomposer.org/"><span class="hljs-regexp"><span class="hljs-regexp">Composer</span></span></a><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî </span></span><a href="http://habrahabr.ru/post/145946/"><span class="hljs-regexp"><span class="hljs-regexp">   PHP</span></span></a><span class="hljs-regexp"><span class="hljs-regexp"> .               ,     . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">      </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./composer</span></span>.json</code> .         ,       <code><span class="hljs-keyword"><span class="hljs-keyword">require</span></span></code> : <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"require"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"yiisoft/yii"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.1.14"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"2amigos/yiiwheels"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.0.3"</span></span></span></span> },</code> <br>     ‚Äî         Yii,     (        )   <span class="hljs-symbol"><span class="hljs-symbol">Yiinitializr:</span></span> Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"require-dev"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"phpunit/php-invoker"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.1.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/dbunit"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.3.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit-story"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit-selenium"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span> },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     <span class="hljs-symbol"><span class="hljs-symbol">Git:</span></span> <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"repositories"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>[ { <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"composer"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"url"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"http://packages.phundament.com"</span></span></span></span> }, { <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"package"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"package"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"name"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"phpunit/php-invoker"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"version"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.1.0"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"source"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"git"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"url"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"http://github.com/sebastianbergmann/php-invoker"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"reference"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"master"</span></span></span></span> }, <span class="hljs-string"><span class="hljs-string">"autoload"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"classmap"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"PHP/"</span></span> ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> Start Installation? [y/n]: y <br>   ,  .          .      ,   <code>dev</code>    <span class="hljs-symbol"><span class="hljs-symbol">Enter:</span></span> <br> <br> <code class="bash">Please, enter your environment -ie. <span class="hljs-string"><span class="hljs-string">"dev | prod | stage"</span></span>: [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (<span class="hljs-number"><span class="hljs-number">4</span></span> ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php, . .    -  Git     ,  ¬´¬ª.            ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php. </span></span><br></code></code></code><span class="hljs-regexp"><span class="hljs-regexp">   Yiinitializr </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">          Yiinitializr,       . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">Yiinitializr</span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  .  Yiinitializr     ,       .    /common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/extensions/components</span></span><span class="hljs-regexp"><span class="hljs-regexp">/  ,     ,   . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">EWebApplication</span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/lib/</span></span>Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication(<span class="hljs-string"><span class="hljs-string">'EWebApplication'</span></span>, $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yii.handleErrors'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.debug'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.traceLevel'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">3</span></span>, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yii.handleErrors'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.debug'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.traceLevel'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">0</span></span>, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into <span class="hljs-string"><span class="hljs-string">'yiinitializr-prod'</span></span>... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'gii'</span></span> =&gt; array( ... <span class="hljs-string"><span class="hljs-string">'generatorPaths'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'common.gii'</span></span>), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php, . .    -  Git     ,  ¬´¬ª.            ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php.        Composer.      ,     ./common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>./<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span>    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>./<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span>.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'composer.callbacks'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'post-update'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'migrate'</span></span>), <span class="hljs-string"><span class="hljs-string">'post-install'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'migrate'</span></span>), ) ),</code> <br>     <code><span class="hljs-string"><span class="hljs-string">`./yiic migrate`</span></span></code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> <span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'composer.callbacks'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yiisoft/yii-install'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'webapp'</span></span>, realpath(dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php"><span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(__DIR_<span class="hljs-number"><span class="hljs-number">_</span></span> . <span class="hljs-string"><span class="hljs-string">'/../../common/lib/vendor/autoload.php'</span></span>); $config = Yiinitializr\Helpers\Initializer::config(<span class="hljs-string"><span class="hljs-string">'frontend'</span></span>, array( dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/main.php'</span></span>, dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/env.php'</span></span>, dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/test.php'</span></span>, )); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CTestCase'</span></span>); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CDbTestCase'</span></span>); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CWebTestCase'</span></span>); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code></code></code> </pre> <code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code></code> <pre> <code class="hljs ruby"><code><code><code><code><code><code><code class="bash"><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part<span class="hljs-number"><span class="hljs-number">_</span></span>&gt;<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span></code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  <span class="hljs-number"><span class="hljs-number">2</span></span>.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/<span class="hljs-keyword"><span class="hljs-keyword">end</span></span>/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;<span class="hljs-regexp"><span class="hljs-regexp">/config/</span></span>&lt;part&gt;.php ./&lt;part&gt;<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/&lt;environment&gt;.php</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">       , -,   ( </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">), , -,   (). </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp"></span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> () ‚Äî    ,    . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp"></span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> () ‚Äî  ,    . -: dev</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> ( )  </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">prod</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> ( ). </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">   ( )   </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php      ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php . ,     ,      . ,    ,     .    : </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">   ,        ‚Äî     .      ./comon</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/dev.php</span></span></code><span class="hljs-regexp"><span class="hljs-regexp">    .        ,      ,          . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  ? !     . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  3.    Composer </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">     Yii,        : </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  Yiinitializr      Composer,           . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">!</span></span></b><span class="hljs-regexp"><span class="hljs-regexp">  ,             ,   PhpUnit.         ,       ,    ,    .      . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><a href="http://getcomposer.org/"><span class="hljs-regexp"><span class="hljs-regexp">Composer</span></span></a><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî </span></span><a href="http://habrahabr.ru/post/145946/"><span class="hljs-regexp"><span class="hljs-regexp">   PHP</span></span></a><span class="hljs-regexp"><span class="hljs-regexp"> .               ,     . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">      </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./composer</span></span>.json</code> .         ,       <code><span class="hljs-keyword"><span class="hljs-keyword">require</span></span></code> : <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"require"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"yiisoft/yii"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.1.14"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"2amigos/yiiwheels"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.0.3"</span></span></span></span> },</code> <br>     ‚Äî         Yii,     (        )   <span class="hljs-symbol"><span class="hljs-symbol">Yiinitializr:</span></span> Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"require-dev"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"phpunit/php-invoker"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.1.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/dbunit"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.3.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit-story"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit-selenium"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span> },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     <span class="hljs-symbol"><span class="hljs-symbol">Git:</span></span> <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"repositories"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>[ { <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"composer"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"url"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"http://packages.phundament.com"</span></span></span></span> }, { <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"package"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"package"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"name"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"phpunit/php-invoker"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"version"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.1.0"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"source"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"git"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"url"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"http://github.com/sebastianbergmann/php-invoker"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"reference"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"master"</span></span></span></span> }, <span class="hljs-string"><span class="hljs-string">"autoload"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"classmap"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"PHP/"</span></span> ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    <span class="hljs-symbol"><span class="hljs-symbol">Enter:</span></span> <br> <br> Please, enter your environment -ie. <span class="hljs-string"><span class="hljs-string">"dev | prod | stage"</span></span>: [dev]: dev <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (<span class="hljs-number"><span class="hljs-number">4</span></span> ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php, . .    -  Git     ,  ¬´¬ª.            ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php. </span></span><br></code></code></code><span class="hljs-regexp"><span class="hljs-regexp">   Yiinitializr </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">          Yiinitializr,       . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">Yiinitializr</span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  .  Yiinitializr     ,       .    /common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/extensions/components</span></span><span class="hljs-regexp"><span class="hljs-regexp">/  ,     ,   . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">EWebApplication</span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/lib/</span></span>Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication(<span class="hljs-string"><span class="hljs-string">'EWebApplication'</span></span>, $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yii.handleErrors'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.debug'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.traceLevel'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">3</span></span>, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yii.handleErrors'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.debug'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.traceLevel'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">0</span></span>, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into <span class="hljs-string"><span class="hljs-string">'yiinitializr-prod'</span></span>... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'gii'</span></span> =&gt; array( ... <span class="hljs-string"><span class="hljs-string">'generatorPaths'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'common.gii'</span></span>), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php, . .    -  Git     ,  ¬´¬ª.            ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php.        Composer.      ,     ./common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>./<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span>    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>./<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span>.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'composer.callbacks'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'post-update'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'migrate'</span></span>), <span class="hljs-string"><span class="hljs-string">'post-install'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'migrate'</span></span>), ) ),</code> <br>     <code><span class="hljs-string"><span class="hljs-string">`./yiic migrate`</span></span></code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> <span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'composer.callbacks'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yiisoft/yii-install'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'webapp'</span></span>, realpath(dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php"><span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(__DIR_<span class="hljs-number"><span class="hljs-number">_</span></span> . <span class="hljs-string"><span class="hljs-string">'/../../common/lib/vendor/autoload.php'</span></span>); $config = Yiinitializr\Helpers\Initializer::config(<span class="hljs-string"><span class="hljs-string">'frontend'</span></span>, array( dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/main.php'</span></span>, dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/env.php'</span></span>, dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/test.php'</span></span>, )); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CTestCase'</span></span>); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CDbTestCase'</span></span>); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CWebTestCase'</span></span>); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code></code></code> </pre> <code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code></code> <ol><li> <code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code></code> </li> <li> <code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code></code> </li> <li> <code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code></code> </li> <li> <code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code></code> </li> <li> <code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code></code> </li> <li> <code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code></code> </li> </ol> <code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code></code> <blockquote> <code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code></code> <h3> <code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code></code> </h3> <code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> <pre> <code class="hljs ruby"><code><code><code><code><code><code class="php"><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part<span class="hljs-number"><span class="hljs-number">_</span></span>&gt;<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span></code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  <span class="hljs-number"><span class="hljs-number">2</span></span>.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/<span class="hljs-keyword"><span class="hljs-keyword">end</span></span>/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;<span class="hljs-regexp"><span class="hljs-regexp">/config/</span></span>&lt;part&gt;.php ./&lt;part&gt;<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/&lt;environment&gt;.php</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">       , -,   ( </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">), , -,   (). </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp"></span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> () ‚Äî    ,    . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp"></span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> () ‚Äî  ,    . -: dev</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> ( )  </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">prod</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> ( ). </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">   ( )   </span></span><code><code><span class="hljs-regexp"><span class="hljs-regexp">./</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php      ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php . ,     ,      . ,    ,     .    : </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">   ,        ‚Äî     .      ./comon</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/dev.php</span></span></code><span class="hljs-regexp"><span class="hljs-regexp">    .        ,      ,          . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  ? !     . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  3.    Composer </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">     Yii,        : </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  Yiinitializr      Composer,           . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">!</span></span></b><span class="hljs-regexp"><span class="hljs-regexp">  ,             ,   PhpUnit.         ,       ,    ,    .      . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><a href="http://getcomposer.org/"><span class="hljs-regexp"><span class="hljs-regexp">Composer</span></span></a><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî </span></span><a href="http://habrahabr.ru/post/145946/"><span class="hljs-regexp"><span class="hljs-regexp">   PHP</span></span></a><span class="hljs-regexp"><span class="hljs-regexp"> .               ,     . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">      </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./composer</span></span>.json</code> .         ,       <code><span class="hljs-keyword"><span class="hljs-keyword">require</span></span></code> : <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"require"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"yiisoft/yii"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.1.14"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"2amigos/yiiwheels"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.0.3"</span></span></span></span> },</code> <br>     ‚Äî         Yii,     (        )   <span class="hljs-symbol"><span class="hljs-symbol">Yiinitializr:</span></span> Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"require-dev"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"phpunit/php-invoker"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.1.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/dbunit"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.3.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit-story"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit-selenium"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span> },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     <span class="hljs-symbol"><span class="hljs-symbol">Git:</span></span> <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"repositories"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>[ { <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"composer"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"url"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"http://packages.phundament.com"</span></span></span></span> }, { <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"package"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"package"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"name"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"phpunit/php-invoker"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"version"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.1.0"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"source"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"git"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"url"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"http://github.com/sebastianbergmann/php-invoker"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"reference"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"master"</span></span></span></span> }, <span class="hljs-string"><span class="hljs-string">"autoload"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"classmap"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"PHP/"</span></span> ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    <span class="hljs-symbol"><span class="hljs-symbol">Enter:</span></span> <br> <br> <code class="bash">Please, enter your environment -ie. <span class="hljs-string"><span class="hljs-string">"dev | prod | stage"</span></span>: [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (<span class="hljs-number"><span class="hljs-number">4</span></span> ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php, . .    -  Git     ,  ¬´¬ª.            ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php. </span></span><br></code></code></code><span class="hljs-regexp"><span class="hljs-regexp">   Yiinitializr </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">          Yiinitializr,       . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">Yiinitializr</span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  .  Yiinitializr     ,       .    /common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/extensions/components</span></span><span class="hljs-regexp"><span class="hljs-regexp">/</span></span></code></code></code></code><span class="hljs-regexp"><span class="hljs-regexp">  ,     ,   . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">EWebApplication</span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/lib/</span></span>Yiinitializr/Helpers/Initializer.php</code>  <br> <br> $app = \Yii::createWebApplication($config); <br>  <br> <br> <code class="php">$app = \Yii::createApplication(<span class="hljs-string"><span class="hljs-string">'EWebApplication'</span></span>, $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yii.handleErrors'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.debug'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.traceLevel'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">3</span></span>, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yii.handleErrors'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.debug'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.traceLevel'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">0</span></span>, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into <span class="hljs-string"><span class="hljs-string">'yiinitializr-prod'</span></span>... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'gii'</span></span> =&gt; array( ... <span class="hljs-string"><span class="hljs-string">'generatorPaths'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'common.gii'</span></span>), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php, . .    -  Git     ,  ¬´¬ª.            ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php.        Composer.      ,     ./common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>./<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span>    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>./<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span>.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'composer.callbacks'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'post-update'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'migrate'</span></span>), <span class="hljs-string"><span class="hljs-string">'post-install'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'migrate'</span></span>), ) ),</code> <br>     <code><span class="hljs-string"><span class="hljs-string">`./yiic migrate`</span></span></code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> <span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'composer.callbacks'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yiisoft/yii-install'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'webapp'</span></span>, realpath(dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php"><span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(__DIR_<span class="hljs-number"><span class="hljs-number">_</span></span> . <span class="hljs-string"><span class="hljs-string">'/../../common/lib/vendor/autoload.php'</span></span>); $config = Yiinitializr\Helpers\Initializer::config(<span class="hljs-string"><span class="hljs-string">'frontend'</span></span>, array( dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/main.php'</span></span>, dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/env.php'</span></span>, dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/test.php'</span></span>, )); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CTestCase'</span></span>); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CDbTestCase'</span></span>); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CWebTestCase'</span></span>); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code> </pre> <code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> <pre> <code class="hljs ruby"><code><code><code><code><code><code class="php"><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part<span class="hljs-number"><span class="hljs-number">_</span></span>&gt;<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span></code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  <span class="hljs-number"><span class="hljs-number">2</span></span>.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/<span class="hljs-keyword"><span class="hljs-keyword">end</span></span>/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;<span class="hljs-regexp"><span class="hljs-regexp">/config/</span></span>&lt;part&gt;.php ./&lt;part&gt;<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/&lt;environment&gt;.php</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">       , -,   ( </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">), , -,   (). </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp"></span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> () ‚Äî    ,    . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp"></span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> () ‚Äî  ,    . -: dev</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> ( )  </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">prod</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> ( ). </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">   ( )   </span></span><code><code><span class="hljs-regexp"><span class="hljs-regexp">./</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php      ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php . ,     ,      . ,    ,     .    : </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">   ,        ‚Äî     .      ./comon</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/dev.php</span></span></code><span class="hljs-regexp"><span class="hljs-regexp">    .        ,      ,          . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  ? !     . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  3.    Composer </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">     Yii,        : </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  Yiinitializr      Composer,           . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">!</span></span></b><span class="hljs-regexp"><span class="hljs-regexp">  ,             ,   PhpUnit.         ,       ,    ,    .      . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><a href="http://getcomposer.org/"><span class="hljs-regexp"><span class="hljs-regexp">Composer</span></span></a><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî </span></span><a href="http://habrahabr.ru/post/145946/"><span class="hljs-regexp"><span class="hljs-regexp">   PHP</span></span></a><span class="hljs-regexp"><span class="hljs-regexp"> .               ,     . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">      </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./composer</span></span>.json</code> .         ,       <code><span class="hljs-keyword"><span class="hljs-keyword">require</span></span></code> : <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"require"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"yiisoft/yii"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.1.14"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"2amigos/yiiwheels"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.0.3"</span></span></span></span> },</code> <br>     ‚Äî         Yii,     (        )   <span class="hljs-symbol"><span class="hljs-symbol">Yiinitializr:</span></span> Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"require-dev"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"phpunit/php-invoker"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.1.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/dbunit"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.3.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit-story"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit-selenium"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span> },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     <span class="hljs-symbol"><span class="hljs-symbol">Git:</span></span> <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"repositories"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>[ { <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"composer"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"url"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"http://packages.phundament.com"</span></span></span></span> }, { <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"package"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"package"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"name"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"phpunit/php-invoker"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"version"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.1.0"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"source"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"git"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"url"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"http://github.com/sebastianbergmann/php-invoker"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"reference"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"master"</span></span></span></span> }, <span class="hljs-string"><span class="hljs-string">"autoload"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"classmap"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"PHP/"</span></span> ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    <span class="hljs-symbol"><span class="hljs-symbol">Enter:</span></span> <br> <br> <code class="bash">Please, enter your environment -ie. <span class="hljs-string"><span class="hljs-string">"dev | prod | stage"</span></span>: [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (<span class="hljs-number"><span class="hljs-number">4</span></span> ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php, . .    -  Git     ,  ¬´¬ª.            ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php. </span></span><br></code></code></code><span class="hljs-regexp"><span class="hljs-regexp">   Yiinitializr </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">          Yiinitializr,       . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">Yiinitializr</span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  .  Yiinitializr     ,       .    /common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/extensions/components</span></span><span class="hljs-regexp"><span class="hljs-regexp">/</span></span></code></code></code></code><span class="hljs-regexp"><span class="hljs-regexp">  ,     ,   . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">EWebApplication</span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/lib/</span></span>Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> $app = \Yii::createApplication(<span class="hljs-string"><span class="hljs-string">'EWebApplication'</span></span>, $config); <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yii.handleErrors'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.debug'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.traceLevel'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">3</span></span>, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yii.handleErrors'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.debug'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.traceLevel'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">0</span></span>, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into <span class="hljs-string"><span class="hljs-string">'yiinitializr-prod'</span></span>... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'gii'</span></span> =&gt; array( ... <span class="hljs-string"><span class="hljs-string">'generatorPaths'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'common.gii'</span></span>), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php, . .    -  Git     ,  ¬´¬ª.            ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php.        Composer.      ,     ./common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>./<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span>    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>./<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span>.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'composer.callbacks'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'post-update'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'migrate'</span></span>), <span class="hljs-string"><span class="hljs-string">'post-install'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'migrate'</span></span>), ) ),</code> <br>     <code><span class="hljs-string"><span class="hljs-string">`./yiic migrate`</span></span></code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> <span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'composer.callbacks'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yiisoft/yii-install'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'webapp'</span></span>, realpath(dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php"><span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(__DIR_<span class="hljs-number"><span class="hljs-number">_</span></span> . <span class="hljs-string"><span class="hljs-string">'/../../common/lib/vendor/autoload.php'</span></span>); $config = Yiinitializr\Helpers\Initializer::config(<span class="hljs-string"><span class="hljs-string">'frontend'</span></span>, array( dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/main.php'</span></span>, dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/env.php'</span></span>, dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/test.php'</span></span>, )); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CTestCase'</span></span>); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CDbTestCase'</span></span>); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CWebTestCase'</span></span>); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code> </pre> <code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> <blockquote> <code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> </blockquote> <code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> <ul><li> <code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> </li> <li> <code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> </li> <li> <code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> </li> <li> <code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> </li> <li> <code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> </li> </ul> <code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> <pre> <code class="hljs ruby"><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part<span class="hljs-number"><span class="hljs-number">_</span></span>&gt;<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span></code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  <span class="hljs-number"><span class="hljs-number">2</span></span>.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/<span class="hljs-keyword"><span class="hljs-keyword">end</span></span>/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;<span class="hljs-regexp"><span class="hljs-regexp">/config/</span></span>&lt;part&gt;.php ./&lt;part&gt;<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/&lt;environment&gt;.php</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">       , -,   ( </span></span><code><code><code><code><code><span class="hljs-regexp"><span class="hljs-regexp">), , -,   (). </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp"></span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> () ‚Äî    ,    . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp"></span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> () ‚Äî  ,    . -: dev</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> ( )  </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">prod</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> ( ). </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">   ( )   </span></span><code><code><code><span class="hljs-regexp"><span class="hljs-regexp">./</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php      ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php . ,     ,      . ,    ,     .    : </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">   ,        ‚Äî     .      ./comon</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/dev.php</span></span></code><span class="hljs-regexp"><span class="hljs-regexp">    .        ,      ,          . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  ? !     . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  3.    Composer </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">     Yii,        : </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  Yiinitializr      Composer,           . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">!</span></span></b><span class="hljs-regexp"><span class="hljs-regexp">  ,             ,   PhpUnit.         ,       ,    ,    .      . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><a href="http://getcomposer.org/"><span class="hljs-regexp"><span class="hljs-regexp">Composer</span></span></a><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî </span></span><a href="http://habrahabr.ru/post/145946/"><span class="hljs-regexp"><span class="hljs-regexp">   PHP</span></span></a><span class="hljs-regexp"><span class="hljs-regexp"> .               ,     . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">      </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./composer</span></span>.json</code> .         ,       <code><span class="hljs-keyword"><span class="hljs-keyword">require</span></span></code> : <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"require"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"yiisoft/yii"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.1.14"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"2amigos/yiiwheels"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.0.3"</span></span></span></span> },</code> <br>     ‚Äî         Yii,     (        )   <span class="hljs-symbol"><span class="hljs-symbol">Yiinitializr:</span></span> Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"require-dev"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"phpunit/php-invoker"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.1.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/dbunit"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.3.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit-story"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit-selenium"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span> },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     <span class="hljs-symbol"><span class="hljs-symbol">Git:</span></span> <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"repositories"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>[ { <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"composer"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"url"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"http://packages.phundament.com"</span></span></span></span> }, { <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"package"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"package"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"name"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"phpunit/php-invoker"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"version"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.1.0"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"source"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"git"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"url"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"http://github.com/sebastianbergmann/php-invoker"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"reference"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"master"</span></span></span></span> }, <span class="hljs-string"><span class="hljs-string">"autoload"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"classmap"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"PHP/"</span></span> ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    <span class="hljs-symbol"><span class="hljs-symbol">Enter:</span></span> <br> <br> <code class="bash">Please, enter your environment -ie. <span class="hljs-string"><span class="hljs-string">"dev | prod | stage"</span></span>: [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (<span class="hljs-number"><span class="hljs-number">4</span></span> ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php, . .    -  Git     ,  ¬´¬ª.            ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php. </span></span><br></code></code></code><span class="hljs-regexp"><span class="hljs-regexp">   Yiinitializr </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">          Yiinitializr,       . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">Yiinitializr</span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  .  Yiinitializr     ,       .    /common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/extensions/components</span></span><span class="hljs-regexp"><span class="hljs-regexp">/</span></span></code><span class="hljs-regexp"><span class="hljs-regexp">  ,     ,   . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">EWebApplication</span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/lib/</span></span>Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication(<span class="hljs-string"><span class="hljs-string">'EWebApplication'</span></span>, $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yii.handleErrors'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.debug'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.traceLevel'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">3</span></span>, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yii.handleErrors'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.debug'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.traceLevel'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">0</span></span>, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into <span class="hljs-string"><span class="hljs-string">'yiinitializr-prod'</span></span>... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'gii'</span></span> =&gt; array( ... <span class="hljs-string"><span class="hljs-string">'generatorPaths'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'common.gii'</span></span>), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php, . .    -  Git     ,  ¬´¬ª.            ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php.        Composer.      ,     ./common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>./<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span>    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>./<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span>.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'composer.callbacks'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'post-update'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'migrate'</span></span>), <span class="hljs-string"><span class="hljs-string">'post-install'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'migrate'</span></span>), ) ),</code> <br>     <code><span class="hljs-string"><span class="hljs-string">`./yiic migrate`</span></span></code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> <span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'composer.callbacks'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yiisoft/yii-install'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'webapp'</span></span>, realpath(dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php"><span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(__DIR_<span class="hljs-number"><span class="hljs-number">_</span></span> . <span class="hljs-string"><span class="hljs-string">'/../../common/lib/vendor/autoload.php'</span></span>); $config = Yiinitializr\Helpers\Initializer::config(<span class="hljs-string"><span class="hljs-string">'frontend'</span></span>, array( dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/main.php'</span></span>, dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/env.php'</span></span>, dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/test.php'</span></span>, )); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CTestCase'</span></span>); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CDbTestCase'</span></span>); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CWebTestCase'</span></span>); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> </pre> <code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> <pre> <code class="hljs ruby"><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part<span class="hljs-number"><span class="hljs-number">_</span></span>&gt;<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span></code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  <span class="hljs-number"><span class="hljs-number">2</span></span>.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/<span class="hljs-keyword"><span class="hljs-keyword">end</span></span>/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;<span class="hljs-regexp"><span class="hljs-regexp">/config/</span></span>&lt;part&gt;.php ./&lt;part&gt;<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/&lt;environment&gt;.php</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">       , -,   ( </span></span><code><code><code><code><code><span class="hljs-regexp"><span class="hljs-regexp">), , -,   (). </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp"></span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> () ‚Äî    ,    . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp"></span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> () ‚Äî  ,    . -: dev</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> ( )  </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">prod</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> ( ). </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">   ( )   </span></span><code><code><code><span class="hljs-regexp"><span class="hljs-regexp">./</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php      ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php . ,     ,      . ,    ,     .    : </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">   ,        ‚Äî     .      ./comon</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/dev.php</span></span></code><span class="hljs-regexp"><span class="hljs-regexp">    .        ,      ,          . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  ? !     . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  3.    Composer </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">     Yii,        : </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  Yiinitializr      Composer,           . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">!</span></span></b><span class="hljs-regexp"><span class="hljs-regexp">  ,             ,   PhpUnit.         ,       ,    ,    .      . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><a href="http://getcomposer.org/"><span class="hljs-regexp"><span class="hljs-regexp">Composer</span></span></a><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî </span></span><a href="http://habrahabr.ru/post/145946/"><span class="hljs-regexp"><span class="hljs-regexp">   PHP</span></span></a><span class="hljs-regexp"><span class="hljs-regexp"> .               ,     . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">      </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./composer</span></span>.json</code> .         ,       <code><span class="hljs-keyword"><span class="hljs-keyword">require</span></span></code> : <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"require"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"yiisoft/yii"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.1.14"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"2amigos/yiiwheels"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.0.3"</span></span></span></span> },</code> <br>     ‚Äî         Yii,     (        )   <span class="hljs-symbol"><span class="hljs-symbol">Yiinitializr:</span></span> Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"require-dev"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"phpunit/php-invoker"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.1.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/dbunit"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.3.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit-story"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit-selenium"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span> },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     <span class="hljs-symbol"><span class="hljs-symbol">Git:</span></span> <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"repositories"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>[ { <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"composer"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"url"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"http://packages.phundament.com"</span></span></span></span> }, { <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"package"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"package"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"name"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"phpunit/php-invoker"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"version"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.1.0"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"source"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"git"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"url"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"http://github.com/sebastianbergmann/php-invoker"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"reference"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"master"</span></span></span></span> }, <span class="hljs-string"><span class="hljs-string">"autoload"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"classmap"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"PHP/"</span></span> ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    <span class="hljs-symbol"><span class="hljs-symbol">Enter:</span></span> <br> <br> <code class="bash">Please, enter your environment -ie. <span class="hljs-string"><span class="hljs-string">"dev | prod | stage"</span></span>: [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (<span class="hljs-number"><span class="hljs-number">4</span></span> ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php, . .    -  Git     ,  ¬´¬ª.            ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php. </span></span><br></code></code></code><span class="hljs-regexp"><span class="hljs-regexp">   Yiinitializr </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">          Yiinitializr,       . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">Yiinitializr</span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  .  Yiinitializr     ,       .    /common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/extensions/components</span></span><span class="hljs-regexp"><span class="hljs-regexp">/</span></span></code><span class="hljs-regexp"><span class="hljs-regexp">  ,     ,   . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">EWebApplication</span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/lib/</span></span>Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication(<span class="hljs-string"><span class="hljs-string">'EWebApplication'</span></span>, $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yii.handleErrors'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.debug'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.traceLevel'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">3</span></span>, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yii.handleErrors'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.debug'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.traceLevel'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">0</span></span>, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into <span class="hljs-string"><span class="hljs-string">'yiinitializr-prod'</span></span>... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'gii'</span></span> =&gt; array( ... <span class="hljs-string"><span class="hljs-string">'generatorPaths'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'common.gii'</span></span>), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php, . .    -  Git     ,  ¬´¬ª.            ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php.        Composer.      ,     ./common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>./<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span>    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>./<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span>.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'composer.callbacks'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'post-update'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'migrate'</span></span>), <span class="hljs-string"><span class="hljs-string">'post-install'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'migrate'</span></span>), ) ),</code> <br>     <code><span class="hljs-string"><span class="hljs-string">`./yiic migrate`</span></span></code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> <span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'composer.callbacks'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yiisoft/yii-install'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'webapp'</span></span>, realpath(dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php"><span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(__DIR_<span class="hljs-number"><span class="hljs-number">_</span></span> . <span class="hljs-string"><span class="hljs-string">'/../../common/lib/vendor/autoload.php'</span></span>); $config = Yiinitializr\Helpers\Initializer::config(<span class="hljs-string"><span class="hljs-string">'frontend'</span></span>, array( dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/main.php'</span></span>, dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/env.php'</span></span>, dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/test.php'</span></span>, )); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CTestCase'</span></span>); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CDbTestCase'</span></span>); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CWebTestCase'</span></span>); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> </pre> <code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> <blockquote> <code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> <pre> <code class="hljs ruby"><code><code><code><code><code><code class="bash"><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part<span class="hljs-number"><span class="hljs-number">_</span></span>&gt;<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span></code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  <span class="hljs-number"><span class="hljs-number">2</span></span>.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/<span class="hljs-keyword"><span class="hljs-keyword">end</span></span>/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;<span class="hljs-regexp"><span class="hljs-regexp">/config/</span></span>&lt;part&gt;.php ./&lt;part&gt;<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/&lt;environment&gt;.php</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">       , -,   ( </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">), , -,   (). </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp"></span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> () ‚Äî    ,    . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp"></span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> () ‚Äî  ,    . -: dev</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> ( )  </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">prod</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> ( ). </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">   ( )   </span></span><code><code><span class="hljs-regexp"><span class="hljs-regexp">./</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php      ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php . ,     ,      . ,    ,     .    : </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">   ,        ‚Äî     .      ./comon</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/dev.php</span></span></code><span class="hljs-regexp"><span class="hljs-regexp">    .        ,      ,          . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  ? !     . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  3.    Composer </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">     Yii,        : </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  Yiinitializr      Composer,           . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">!</span></span></b><span class="hljs-regexp"><span class="hljs-regexp">  ,             ,   PhpUnit.         ,       ,    ,    .      . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><a href="http://getcomposer.org/"><span class="hljs-regexp"><span class="hljs-regexp">Composer</span></span></a><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî </span></span><a href="http://habrahabr.ru/post/145946/"><span class="hljs-regexp"><span class="hljs-regexp">   PHP</span></span></a><span class="hljs-regexp"><span class="hljs-regexp"> .               ,     . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">      </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./composer</span></span>.json</code> .         ,       <code><span class="hljs-keyword"><span class="hljs-keyword">require</span></span></code> : <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"require"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"yiisoft/yii"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.1.14"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"2amigos/yiiwheels"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.0.3"</span></span></span></span> },</code> <br>     ‚Äî         Yii,     (        )   <span class="hljs-symbol"><span class="hljs-symbol">Yiinitializr:</span></span> Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"require-dev"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"phpunit/php-invoker"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.1.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/dbunit"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.3.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit-story"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit-selenium"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span> },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     <span class="hljs-symbol"><span class="hljs-symbol">Git:</span></span> <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"repositories"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>[ { <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"composer"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"url"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"http://packages.phundament.com"</span></span></span></span> }, { <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"package"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"package"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"name"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"phpunit/php-invoker"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"version"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.1.0"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"source"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"git"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"url"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"http://github.com/sebastianbergmann/php-invoker"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"reference"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"master"</span></span></span></span> }, <span class="hljs-string"><span class="hljs-string">"autoload"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"classmap"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"PHP/"</span></span> ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    <span class="hljs-symbol"><span class="hljs-symbol">Enter:</span></span> <br> <br> <code class="bash">Please, enter your environment -ie. <span class="hljs-string"><span class="hljs-string">"dev | prod | stage"</span></span>: [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (<span class="hljs-number"><span class="hljs-number">4</span></span> ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php, . .    -  Git     ,  ¬´¬ª.            ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php. </span></span><br></code></code></code><span class="hljs-regexp"><span class="hljs-regexp">   Yiinitializr </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">          Yiinitializr,       . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">Yiinitializr</span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  .  Yiinitializr     ,       .    /common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/extensions/components</span></span><span class="hljs-regexp"><span class="hljs-regexp">/</span></span></code></code></code></code><span class="hljs-regexp"><span class="hljs-regexp">  ,     ,   . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">EWebApplication</span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/lib/</span></span>Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication(<span class="hljs-string"><span class="hljs-string">'EWebApplication'</span></span>, $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yii.handleErrors'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.debug'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.traceLevel'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">3</span></span>, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yii.handleErrors'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.debug'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.traceLevel'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">0</span></span>, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> &gt; php composer.phar update <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into <span class="hljs-string"><span class="hljs-string">'yiinitializr-prod'</span></span>... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'gii'</span></span> =&gt; array( ... <span class="hljs-string"><span class="hljs-string">'generatorPaths'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'common.gii'</span></span>), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php, . .    -  Git     ,  ¬´¬ª.            ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php.        Composer.      ,     ./common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>./<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span>    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>./<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span>.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'composer.callbacks'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'post-update'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'migrate'</span></span>), <span class="hljs-string"><span class="hljs-string">'post-install'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'migrate'</span></span>), ) ),</code> <br>     <code><span class="hljs-string"><span class="hljs-string">`./yiic migrate`</span></span></code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> <span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'composer.callbacks'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yiisoft/yii-install'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'webapp'</span></span>, realpath(dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php"><span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(__DIR_<span class="hljs-number"><span class="hljs-number">_</span></span> . <span class="hljs-string"><span class="hljs-string">'/../../common/lib/vendor/autoload.php'</span></span>); $config = Yiinitializr\Helpers\Initializer::config(<span class="hljs-string"><span class="hljs-string">'frontend'</span></span>, array( dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/main.php'</span></span>, dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/env.php'</span></span>, dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/test.php'</span></span>, )); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CTestCase'</span></span>); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CDbTestCase'</span></span>); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CWebTestCase'</span></span>); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code> </pre> <code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> </blockquote> <code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> <h3> <code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> </h3> <code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> <pre> <code class="hljs ruby"><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part<span class="hljs-number"><span class="hljs-number">_</span></span>&gt;<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span></code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  <span class="hljs-number"><span class="hljs-number">2</span></span>.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/<span class="hljs-keyword"><span class="hljs-keyword">end</span></span>/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;<span class="hljs-regexp"><span class="hljs-regexp">/config/</span></span>&lt;part&gt;.php ./&lt;part&gt;<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/&lt;environment&gt;.php</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">       , -,   ( </span></span><code><code><code><code><code><span class="hljs-regexp"><span class="hljs-regexp">), , -,   (). </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp"></span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> () ‚Äî    ,    . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp"></span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> () ‚Äî  ,    . -: dev</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> ( )  </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">prod</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> ( ). </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">   ( )   </span></span><code><code><code><span class="hljs-regexp"><span class="hljs-regexp">./</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php      ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php . ,     ,      . ,    ,     .    : </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">   ,        ‚Äî     .      ./comon</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/dev.php</span></span></code><span class="hljs-regexp"><span class="hljs-regexp">    .        ,      ,          . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  ? !     . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  3.    Composer </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">     Yii,        : </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  Yiinitializr      Composer,           . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">!</span></span></b><span class="hljs-regexp"><span class="hljs-regexp">  ,             ,   PhpUnit.         ,       ,    ,    .      . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><a href="http://getcomposer.org/"><span class="hljs-regexp"><span class="hljs-regexp">Composer</span></span></a><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî </span></span><a href="http://habrahabr.ru/post/145946/"><span class="hljs-regexp"><span class="hljs-regexp">   PHP</span></span></a><span class="hljs-regexp"><span class="hljs-regexp"> .               ,     . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">      </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./composer</span></span>.json</code> .         ,       <code><span class="hljs-keyword"><span class="hljs-keyword">require</span></span></code> : <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"require"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"yiisoft/yii"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.1.14"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"2amigos/yiiwheels"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.0.3"</span></span></span></span> },</code> <br>     ‚Äî         Yii,     (        )   <span class="hljs-symbol"><span class="hljs-symbol">Yiinitializr:</span></span> Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"require-dev"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"phpunit/php-invoker"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.1.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/dbunit"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.3.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit-story"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit-selenium"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span> },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     <span class="hljs-symbol"><span class="hljs-symbol">Git:</span></span> <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"repositories"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>[ { <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"composer"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"url"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"http://packages.phundament.com"</span></span></span></span> }, { <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"package"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"package"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"name"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"phpunit/php-invoker"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"version"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.1.0"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"source"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"git"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"url"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"http://github.com/sebastianbergmann/php-invoker"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"reference"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"master"</span></span></span></span> }, <span class="hljs-string"><span class="hljs-string">"autoload"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"classmap"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"PHP/"</span></span> ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    <span class="hljs-symbol"><span class="hljs-symbol">Enter:</span></span> <br> <br> <code class="bash">Please, enter your environment -ie. <span class="hljs-string"><span class="hljs-string">"dev | prod | stage"</span></span>: [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (<span class="hljs-number"><span class="hljs-number">4</span></span> ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php, . .    -  Git     ,  ¬´¬ª.            ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php. </span></span><br></code></code></code><span class="hljs-regexp"><span class="hljs-regexp">   Yiinitializr </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">          Yiinitializr,       . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">Yiinitializr</span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  .  Yiinitializr     ,       .    /common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/extensions/components</span></span><span class="hljs-regexp"><span class="hljs-regexp">/</span></span></code><span class="hljs-regexp"><span class="hljs-regexp">  ,     ,   . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">EWebApplication</span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/lib/</span></span>Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication(<span class="hljs-string"><span class="hljs-string">'EWebApplication'</span></span>, $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yii.handleErrors'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.debug'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.traceLevel'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">3</span></span>, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yii.handleErrors'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.debug'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.traceLevel'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">0</span></span>, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into <span class="hljs-string"><span class="hljs-string">'yiinitializr-prod'</span></span>... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'gii'</span></span> =&gt; array( ... <span class="hljs-string"><span class="hljs-string">'generatorPaths'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'common.gii'</span></span>), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php, . .    -  Git     ,  ¬´¬ª.            ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php.        Composer.      ,     ./common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>./<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span>    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>./<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span>.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'composer.callbacks'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'post-update'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'migrate'</span></span>), <span class="hljs-string"><span class="hljs-string">'post-install'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'migrate'</span></span>), ) ),</code> <br>     <code><span class="hljs-string"><span class="hljs-string">`./yiic migrate`</span></span></code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> <span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'composer.callbacks'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yiisoft/yii-install'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'webapp'</span></span>, realpath(dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php"><span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(__DIR_<span class="hljs-number"><span class="hljs-number">_</span></span> . <span class="hljs-string"><span class="hljs-string">'/../../common/lib/vendor/autoload.php'</span></span>); $config = Yiinitializr\Helpers\Initializer::config(<span class="hljs-string"><span class="hljs-string">'frontend'</span></span>, array( dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/main.php'</span></span>, dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/env.php'</span></span>, dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/test.php'</span></span>, )); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CTestCase'</span></span>); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CDbTestCase'</span></span>); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CWebTestCase'</span></span>); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> </pre> <code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> <pre> <code class="hljs ruby"><code><code><code><code><code><code class="bash"><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part<span class="hljs-number"><span class="hljs-number">_</span></span>&gt;<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span></code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  <span class="hljs-number"><span class="hljs-number">2</span></span>.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/<span class="hljs-keyword"><span class="hljs-keyword">end</span></span>/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;<span class="hljs-regexp"><span class="hljs-regexp">/config/</span></span>&lt;part&gt;.php ./&lt;part&gt;<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/&lt;environment&gt;.php</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">       , -,   ( </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">), , -,   (). </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp"></span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> () ‚Äî    ,    . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp"></span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> () ‚Äî  ,    . -: dev</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> ( )  </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">prod</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> ( ). </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">   ( )   </span></span><code><code><span class="hljs-regexp"><span class="hljs-regexp">./</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php      ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php . ,     ,      . ,    ,     .    : </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">   ,        ‚Äî     .      ./comon</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/dev.php</span></span></code><span class="hljs-regexp"><span class="hljs-regexp">    .        ,      ,          . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  ? !     . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  3.    Composer </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">     Yii,        : </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  Yiinitializr      Composer,           . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">!</span></span></b><span class="hljs-regexp"><span class="hljs-regexp">  ,             ,   PhpUnit.         ,       ,    ,    .      . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><a href="http://getcomposer.org/"><span class="hljs-regexp"><span class="hljs-regexp">Composer</span></span></a><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî </span></span><a href="http://habrahabr.ru/post/145946/"><span class="hljs-regexp"><span class="hljs-regexp">   PHP</span></span></a><span class="hljs-regexp"><span class="hljs-regexp"> .               ,     . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">      </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./composer</span></span>.json</code> .         ,       <code><span class="hljs-keyword"><span class="hljs-keyword">require</span></span></code> : <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"require"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"yiisoft/yii"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.1.14"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"2amigos/yiiwheels"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.0.3"</span></span></span></span> },</code> <br>     ‚Äî         Yii,     (        )   <span class="hljs-symbol"><span class="hljs-symbol">Yiinitializr:</span></span> Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"require-dev"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"phpunit/php-invoker"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.1.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/dbunit"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.3.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit-story"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit-selenium"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span> },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     <span class="hljs-symbol"><span class="hljs-symbol">Git:</span></span> <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"repositories"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>[ { <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"composer"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"url"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"http://packages.phundament.com"</span></span></span></span> }, { <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"package"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"package"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"name"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"phpunit/php-invoker"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"version"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.1.0"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"source"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"git"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"url"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"http://github.com/sebastianbergmann/php-invoker"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"reference"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"master"</span></span></span></span> }, <span class="hljs-string"><span class="hljs-string">"autoload"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"classmap"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"PHP/"</span></span> ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    <span class="hljs-symbol"><span class="hljs-symbol">Enter:</span></span> <br> <br> <code class="bash">Please, enter your environment -ie. <span class="hljs-string"><span class="hljs-string">"dev | prod | stage"</span></span>: [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (<span class="hljs-number"><span class="hljs-number">4</span></span> ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php, . .    -  Git     ,  ¬´¬ª.            ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php. </span></span><br></code></code></code><span class="hljs-regexp"><span class="hljs-regexp">   Yiinitializr </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">          Yiinitializr,       . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">Yiinitializr</span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  .  Yiinitializr     ,       .    /common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/extensions/components</span></span><span class="hljs-regexp"><span class="hljs-regexp">/</span></span></code></code></code></code><span class="hljs-regexp"><span class="hljs-regexp">  ,     ,   . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">EWebApplication</span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/lib/</span></span>Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication(<span class="hljs-string"><span class="hljs-string">'EWebApplication'</span></span>, $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yii.handleErrors'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.debug'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.traceLevel'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">3</span></span>, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yii.handleErrors'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.debug'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.traceLevel'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">0</span></span>, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into <span class="hljs-string"><span class="hljs-string">'yiinitializr-prod'</span></span>... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> &gt; php composer.phar install --no-dev <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'gii'</span></span> =&gt; array( ... <span class="hljs-string"><span class="hljs-string">'generatorPaths'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'common.gii'</span></span>), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php, . .    -  Git     ,  ¬´¬ª.            ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php.        Composer.      ,     ./common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>./<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span>    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>./<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span>.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'composer.callbacks'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'post-update'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'migrate'</span></span>), <span class="hljs-string"><span class="hljs-string">'post-install'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'migrate'</span></span>), ) ),</code> <br>     <code><span class="hljs-string"><span class="hljs-string">`./yiic migrate`</span></span></code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> <span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'composer.callbacks'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yiisoft/yii-install'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'webapp'</span></span>, realpath(dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php"><span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(__DIR_<span class="hljs-number"><span class="hljs-number">_</span></span> . <span class="hljs-string"><span class="hljs-string">'/../../common/lib/vendor/autoload.php'</span></span>); $config = Yiinitializr\Helpers\Initializer::config(<span class="hljs-string"><span class="hljs-string">'frontend'</span></span>, array( dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/main.php'</span></span>, dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/env.php'</span></span>, dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/test.php'</span></span>, )); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CTestCase'</span></span>); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CDbTestCase'</span></span>); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CWebTestCase'</span></span>); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code> </pre> <code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> <h3> <code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> </h3> <code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> <h4> <code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> </h4> <code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> <h4> <code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> </h4> <code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> <pre> <code class="hljs ruby"><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part<span class="hljs-number"><span class="hljs-number">_</span></span>&gt;<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span></code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  <span class="hljs-number"><span class="hljs-number">2</span></span>.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/<span class="hljs-keyword"><span class="hljs-keyword">end</span></span>/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;<span class="hljs-regexp"><span class="hljs-regexp">/config/</span></span>&lt;part&gt;.php ./&lt;part&gt;<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/&lt;environment&gt;.php</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">       , -,   ( </span></span><code><code><code><code><code><span class="hljs-regexp"><span class="hljs-regexp">), , -,   (). </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp"></span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> () ‚Äî    ,    . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp"></span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> () ‚Äî  ,    . -: dev</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> ( )  </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">prod</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> ( ). </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">   ( )   </span></span><code><code><code><span class="hljs-regexp"><span class="hljs-regexp">./</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php      ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php . ,     ,      . ,    ,     .    : </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">   ,        ‚Äî     .      ./comon</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/dev.php</span></span></code><span class="hljs-regexp"><span class="hljs-regexp">    .        ,      ,          . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  ? !     . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  3.    Composer </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">     Yii,        : </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  Yiinitializr      Composer,           . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">!</span></span></b><span class="hljs-regexp"><span class="hljs-regexp">  ,             ,   PhpUnit.         ,       ,    ,    .      . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><a href="http://getcomposer.org/"><span class="hljs-regexp"><span class="hljs-regexp">Composer</span></span></a><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî </span></span><a href="http://habrahabr.ru/post/145946/"><span class="hljs-regexp"><span class="hljs-regexp">   PHP</span></span></a><span class="hljs-regexp"><span class="hljs-regexp"> .               ,     . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">      </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./composer</span></span>.json</code> .         ,       <code><span class="hljs-keyword"><span class="hljs-keyword">require</span></span></code> : <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"require"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"yiisoft/yii"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.1.14"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"2amigos/yiiwheels"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.0.3"</span></span></span></span> },</code> <br>     ‚Äî         Yii,     (        )   <span class="hljs-symbol"><span class="hljs-symbol">Yiinitializr:</span></span> Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"require-dev"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"phpunit/php-invoker"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.1.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/dbunit"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.3.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit-story"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit-selenium"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span> },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     <span class="hljs-symbol"><span class="hljs-symbol">Git:</span></span> <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"repositories"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>[ { <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"composer"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"url"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"http://packages.phundament.com"</span></span></span></span> }, { <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"package"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"package"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"name"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"phpunit/php-invoker"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"version"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.1.0"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"source"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"git"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"url"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"http://github.com/sebastianbergmann/php-invoker"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"reference"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"master"</span></span></span></span> }, <span class="hljs-string"><span class="hljs-string">"autoload"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"classmap"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"PHP/"</span></span> ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    <span class="hljs-symbol"><span class="hljs-symbol">Enter:</span></span> <br> <br> <code class="bash">Please, enter your environment -ie. <span class="hljs-string"><span class="hljs-string">"dev | prod | stage"</span></span>: [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (<span class="hljs-number"><span class="hljs-number">4</span></span> ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php, . .    -  Git     ,  ¬´¬ª.            ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php. </span></span><br></code></code></code><span class="hljs-regexp"><span class="hljs-regexp">   Yiinitializr </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">          Yiinitializr,       . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">Yiinitializr</span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  .  Yiinitializr     ,       .    /common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/extensions/components</span></span><span class="hljs-regexp"><span class="hljs-regexp">/</span></span></code><span class="hljs-regexp"><span class="hljs-regexp">  ,     ,   . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">EWebApplication</span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/lib/</span></span>Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication(<span class="hljs-string"><span class="hljs-string">'EWebApplication'</span></span>, $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yii.handleErrors'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.debug'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.traceLevel'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">3</span></span>, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yii.handleErrors'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.debug'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.traceLevel'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">0</span></span>, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into <span class="hljs-string"><span class="hljs-string">'yiinitializr-prod'</span></span>... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'gii'</span></span> =&gt; array( ... <span class="hljs-string"><span class="hljs-string">'generatorPaths'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'common.gii'</span></span>), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php, . .    -  Git     ,  ¬´¬ª.            ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php.        Composer.      ,     ./common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>./<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span>    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>./<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span>.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'composer.callbacks'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'post-update'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'migrate'</span></span>), <span class="hljs-string"><span class="hljs-string">'post-install'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'migrate'</span></span>), ) ),</code> <br>     <code><span class="hljs-string"><span class="hljs-string">`./yiic migrate`</span></span></code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> <span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'composer.callbacks'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yiisoft/yii-install'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'webapp'</span></span>, realpath(dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php"><span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(__DIR_<span class="hljs-number"><span class="hljs-number">_</span></span> . <span class="hljs-string"><span class="hljs-string">'/../../common/lib/vendor/autoload.php'</span></span>); $config = Yiinitializr\Helpers\Initializer::config(<span class="hljs-string"><span class="hljs-string">'frontend'</span></span>, array( dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/main.php'</span></span>, dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/env.php'</span></span>, dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/test.php'</span></span>, )); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CTestCase'</span></span>); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CDbTestCase'</span></span>); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CWebTestCase'</span></span>); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> </pre> <code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> <h4> <code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> </h4> <code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> <pre> <code class="hljs ruby"><code><code><code><code><code><code><code><code class="bash"><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part<span class="hljs-number"><span class="hljs-number">_</span></span>&gt;<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span></code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  <span class="hljs-number"><span class="hljs-number">2</span></span>.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/<span class="hljs-keyword"><span class="hljs-keyword">end</span></span>/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;<span class="hljs-regexp"><span class="hljs-regexp">/config/</span></span>&lt;part&gt;.php ./&lt;part&gt;<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/&lt;environment&gt;.php</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">       , -,   ( </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">), , -,   (). </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp"></span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> () ‚Äî    ,    . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp"></span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> () ‚Äî  ,    . -: dev</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> ( )  </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">prod</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> ( ). </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">   ( )   </span></span><code><code><span class="hljs-regexp"><span class="hljs-regexp">./</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php      ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php . ,     ,      . ,    ,     .    : </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">   ,        ‚Äî     .      ./comon</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/dev.php</span></span></code><span class="hljs-regexp"><span class="hljs-regexp">    .        ,      ,          . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  ? !     . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  3.    Composer </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">     Yii,        : </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  Yiinitializr      Composer,           . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">!</span></span></b><span class="hljs-regexp"><span class="hljs-regexp">  ,             ,   PhpUnit.         ,       ,    ,    .      . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><a href="http://getcomposer.org/"><span class="hljs-regexp"><span class="hljs-regexp">Composer</span></span></a><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî </span></span><a href="http://habrahabr.ru/post/145946/"><span class="hljs-regexp"><span class="hljs-regexp">   PHP</span></span></a><span class="hljs-regexp"><span class="hljs-regexp"> .               ,     . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">      </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./composer</span></span>.json</code> .         ,       <code><span class="hljs-keyword"><span class="hljs-keyword">require</span></span></code> : <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"require"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"yiisoft/yii"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.1.14"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"2amigos/yiiwheels"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.0.3"</span></span></span></span> },</code> <br>     ‚Äî         Yii,     (        )   <span class="hljs-symbol"><span class="hljs-symbol">Yiinitializr:</span></span> Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"require-dev"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"phpunit/php-invoker"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.1.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/dbunit"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.3.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit-story"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit-selenium"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span> },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     <span class="hljs-symbol"><span class="hljs-symbol">Git:</span></span> <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"repositories"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>[ { <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"composer"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"url"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"http://packages.phundament.com"</span></span></span></span> }, { <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"package"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"package"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"name"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"phpunit/php-invoker"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"version"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.1.0"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"source"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"git"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"url"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"http://github.com/sebastianbergmann/php-invoker"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"reference"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"master"</span></span></span></span> }, <span class="hljs-string"><span class="hljs-string">"autoload"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"classmap"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"PHP/"</span></span> ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    <span class="hljs-symbol"><span class="hljs-symbol">Enter:</span></span> <br> <br> <code class="bash">Please, enter your environment -ie. <span class="hljs-string"><span class="hljs-string">"dev | prod | stage"</span></span>: [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (<span class="hljs-number"><span class="hljs-number">4</span></span> ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php, . .    -  Git     ,  ¬´¬ª.            ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php. </span></span><br></code></code></code><span class="hljs-regexp"><span class="hljs-regexp">   Yiinitializr </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">          Yiinitializr,       . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">Yiinitializr</span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  .  Yiinitializr     ,       .    /common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/extensions/components</span></span><span class="hljs-regexp"><span class="hljs-regexp">/</span></span></code></code></code></code><span class="hljs-regexp"><span class="hljs-regexp">  ,     ,   . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">EWebApplication</span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/lib/</span></span>Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication(<span class="hljs-string"><span class="hljs-string">'EWebApplication'</span></span>, $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yii.handleErrors'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.debug'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.traceLevel'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">3</span></span>, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yii.handleErrors'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.debug'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.traceLevel'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">0</span></span>, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into <span class="hljs-string"><span class="hljs-string">'yiinitializr-prod'</span></span>... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'gii'</span></span> =&gt; array( ... <span class="hljs-string"><span class="hljs-string">'generatorPaths'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'common.gii'</span></span>), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code>./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php, . .    -  Git     ,  ¬´¬ª.            ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php.        Composer.      ,     ./common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> &gt; php composer.phar update <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>./<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span>    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>./<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span>.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'composer.callbacks'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'post-update'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'migrate'</span></span>), <span class="hljs-string"><span class="hljs-string">'post-install'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'migrate'</span></span>), ) ),</code> <br>     <code><span class="hljs-string"><span class="hljs-string">`./yiic migrate`</span></span></code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> <span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'composer.callbacks'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yiisoft/yii-install'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'webapp'</span></span>, realpath(dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php"><span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(__DIR_<span class="hljs-number"><span class="hljs-number">_</span></span> . <span class="hljs-string"><span class="hljs-string">'/../../common/lib/vendor/autoload.php'</span></span>); $config = Yiinitializr\Helpers\Initializer::config(<span class="hljs-string"><span class="hljs-string">'frontend'</span></span>, array( dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/main.php'</span></span>, dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/env.php'</span></span>, dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/test.php'</span></span>, )); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CTestCase'</span></span>); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CDbTestCase'</span></span>); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CWebTestCase'</span></span>); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code> </pre> <code><code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> <h4> <code><code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> </h4> <code><code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> <blockquote> <code><code><code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> <h4> <code><code><code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> </h4> <code><code><code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> <h4> <code><code><code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> </h4> <code><code><code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> <pre> <code class="hljs ruby"><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part<span class="hljs-number"><span class="hljs-number">_</span></span>&gt;<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span></code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  <span class="hljs-number"><span class="hljs-number">2</span></span>.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/<span class="hljs-keyword"><span class="hljs-keyword">end</span></span>/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;<span class="hljs-regexp"><span class="hljs-regexp">/config/</span></span>&lt;part&gt;.php ./&lt;part&gt;<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/&lt;environment&gt;.php</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">       , -,   ( </span></span><code><code><code><code><code><span class="hljs-regexp"><span class="hljs-regexp">), , -,   (). </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp"></span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> () ‚Äî    ,    . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp"></span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> () ‚Äî  ,    . -: dev</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> ( )  </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">prod</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> ( ). </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">   ( )   </span></span><code><code><code><span class="hljs-regexp"><span class="hljs-regexp">./</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php      ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php . ,     ,      . ,    ,     .    : </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">   ,        ‚Äî     .      ./comon</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/dev.php</span></span></code><span class="hljs-regexp"><span class="hljs-regexp">    .        ,      ,          . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  ? !     . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  3.    Composer </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">     Yii,        : </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  Yiinitializr      Composer,           . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">!</span></span></b><span class="hljs-regexp"><span class="hljs-regexp">  ,             ,   PhpUnit.         ,       ,    ,    .      . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><a href="http://getcomposer.org/"><span class="hljs-regexp"><span class="hljs-regexp">Composer</span></span></a><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî </span></span><a href="http://habrahabr.ru/post/145946/"><span class="hljs-regexp"><span class="hljs-regexp">   PHP</span></span></a><span class="hljs-regexp"><span class="hljs-regexp"> .               ,     . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">      </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./composer</span></span>.json</code> .         ,       <code><span class="hljs-keyword"><span class="hljs-keyword">require</span></span></code> : <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"require"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"yiisoft/yii"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.1.14"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"2amigos/yiiwheels"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.0.3"</span></span></span></span> },</code> <br>     ‚Äî         Yii,     (        )   <span class="hljs-symbol"><span class="hljs-symbol">Yiinitializr:</span></span> Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"require-dev"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"phpunit/php-invoker"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.1.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/dbunit"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.3.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit-story"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit-selenium"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span> },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     <span class="hljs-symbol"><span class="hljs-symbol">Git:</span></span> <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"repositories"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>[ { <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"composer"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"url"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"http://packages.phundament.com"</span></span></span></span> }, { <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"package"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"package"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"name"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"phpunit/php-invoker"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"version"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.1.0"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"source"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"git"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"url"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"http://github.com/sebastianbergmann/php-invoker"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"reference"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"master"</span></span></span></span> }, <span class="hljs-string"><span class="hljs-string">"autoload"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"classmap"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"PHP/"</span></span> ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    <span class="hljs-symbol"><span class="hljs-symbol">Enter:</span></span> <br> <br> <code class="bash">Please, enter your environment -ie. <span class="hljs-string"><span class="hljs-string">"dev | prod | stage"</span></span>: [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (<span class="hljs-number"><span class="hljs-number">4</span></span> ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php, . .    -  Git     ,  ¬´¬ª.            ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php. </span></span><br></code></code></code><span class="hljs-regexp"><span class="hljs-regexp">   Yiinitializr </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">          Yiinitializr,       . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">Yiinitializr</span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  .  Yiinitializr     ,       .    /common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/extensions/components</span></span><span class="hljs-regexp"><span class="hljs-regexp">/</span></span></code><span class="hljs-regexp"><span class="hljs-regexp">  ,     ,   . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">EWebApplication</span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/lib/</span></span>Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication(<span class="hljs-string"><span class="hljs-string">'EWebApplication'</span></span>, $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yii.handleErrors'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.debug'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.traceLevel'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">3</span></span>, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yii.handleErrors'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.debug'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.traceLevel'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">0</span></span>, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into <span class="hljs-string"><span class="hljs-string">'yiinitializr-prod'</span></span>... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'gii'</span></span> =&gt; array( ... <span class="hljs-string"><span class="hljs-string">'generatorPaths'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'common.gii'</span></span>), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php, . .    -  Git     ,  ¬´¬ª.            ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php.        Composer.      ,     ./common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>./<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span>    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>./<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span>.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'composer.callbacks'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'post-update'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'migrate'</span></span>), <span class="hljs-string"><span class="hljs-string">'post-install'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'migrate'</span></span>), ) ),</code> <br>     <code><span class="hljs-string"><span class="hljs-string">`./yiic migrate`</span></span></code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> <span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'composer.callbacks'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yiisoft/yii-install'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'webapp'</span></span>, realpath(dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php"><span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(__DIR_<span class="hljs-number"><span class="hljs-number">_</span></span> . <span class="hljs-string"><span class="hljs-string">'/../../common/lib/vendor/autoload.php'</span></span>); $config = Yiinitializr\Helpers\Initializer::config(<span class="hljs-string"><span class="hljs-string">'frontend'</span></span>, array( dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/main.php'</span></span>, dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/env.php'</span></span>, dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/test.php'</span></span>, )); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CTestCase'</span></span>); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CDbTestCase'</span></span>); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CWebTestCase'</span></span>); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> </pre> <code><code><code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> <pre> <code class="hljs ruby"><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part<span class="hljs-number"><span class="hljs-number">_</span></span>&gt;<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span></code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  <span class="hljs-number"><span class="hljs-number">2</span></span>.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/<span class="hljs-keyword"><span class="hljs-keyword">end</span></span>/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;<span class="hljs-regexp"><span class="hljs-regexp">/config/</span></span>&lt;part&gt;.php ./&lt;part&gt;<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/&lt;environment&gt;.php</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">       , -,   ( </span></span><code><code><code><code><code><span class="hljs-regexp"><span class="hljs-regexp">), , -,   (). </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp"></span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> () ‚Äî    ,    . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp"></span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> () ‚Äî  ,    . -: dev</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> ( )  </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">prod</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> ( ). </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">   ( )   </span></span><code><code><code><span class="hljs-regexp"><span class="hljs-regexp">./</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php      ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php . ,     ,      . ,    ,     .    : </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">   ,        ‚Äî     .      ./comon</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/dev.php</span></span></code><span class="hljs-regexp"><span class="hljs-regexp">    .        ,      ,          . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  ? !     . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  3.    Composer </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">     Yii,        : </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  Yiinitializr      Composer,           . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">!</span></span></b><span class="hljs-regexp"><span class="hljs-regexp">  ,             ,   PhpUnit.         ,       ,    ,    .      . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><a href="http://getcomposer.org/"><span class="hljs-regexp"><span class="hljs-regexp">Composer</span></span></a><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî </span></span><a href="http://habrahabr.ru/post/145946/"><span class="hljs-regexp"><span class="hljs-regexp">   PHP</span></span></a><span class="hljs-regexp"><span class="hljs-regexp"> .               ,     . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">      </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./composer</span></span>.json</code> .         ,       <code><span class="hljs-keyword"><span class="hljs-keyword">require</span></span></code> : <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"require"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"yiisoft/yii"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.1.14"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"2amigos/yiiwheels"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.0.3"</span></span></span></span> },</code> <br>     ‚Äî         Yii,     (        )   <span class="hljs-symbol"><span class="hljs-symbol">Yiinitializr:</span></span> Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"require-dev"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"phpunit/php-invoker"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.1.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/dbunit"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.3.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit-story"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit-selenium"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span> },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     <span class="hljs-symbol"><span class="hljs-symbol">Git:</span></span> <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"repositories"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>[ { <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"composer"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"url"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"http://packages.phundament.com"</span></span></span></span> }, { <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"package"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"package"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"name"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"phpunit/php-invoker"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"version"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.1.0"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"source"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"git"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"url"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"http://github.com/sebastianbergmann/php-invoker"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"reference"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"master"</span></span></span></span> }, <span class="hljs-string"><span class="hljs-string">"autoload"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"classmap"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"PHP/"</span></span> ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    <span class="hljs-symbol"><span class="hljs-symbol">Enter:</span></span> <br> <br> <code class="bash">Please, enter your environment -ie. <span class="hljs-string"><span class="hljs-string">"dev | prod | stage"</span></span>: [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (<span class="hljs-number"><span class="hljs-number">4</span></span> ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php, . .    -  Git     ,  ¬´¬ª.            ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php. </span></span><br></code></code></code><span class="hljs-regexp"><span class="hljs-regexp">   Yiinitializr </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">          Yiinitializr,       . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">Yiinitializr</span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  .  Yiinitializr     ,       .    /common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/extensions/components</span></span><span class="hljs-regexp"><span class="hljs-regexp">/</span></span></code><span class="hljs-regexp"><span class="hljs-regexp">  ,     ,   . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">EWebApplication</span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/lib/</span></span>Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication(<span class="hljs-string"><span class="hljs-string">'EWebApplication'</span></span>, $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yii.handleErrors'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.debug'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.traceLevel'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">3</span></span>, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yii.handleErrors'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.debug'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.traceLevel'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">0</span></span>, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into <span class="hljs-string"><span class="hljs-string">'yiinitializr-prod'</span></span>... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'gii'</span></span> =&gt; array( ... <span class="hljs-string"><span class="hljs-string">'generatorPaths'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'common.gii'</span></span>), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php, . .    -  Git     ,  ¬´¬ª.            ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php.        Composer.      ,     ./common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>./<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span>    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>./<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span>.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'composer.callbacks'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'post-update'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'migrate'</span></span>), <span class="hljs-string"><span class="hljs-string">'post-install'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'migrate'</span></span>), ) ),</code> <br>     <code><span class="hljs-string"><span class="hljs-string">`./yiic migrate`</span></span></code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> <span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'composer.callbacks'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yiisoft/yii-install'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'webapp'</span></span>, realpath(dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php"><span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(__DIR_<span class="hljs-number"><span class="hljs-number">_</span></span> . <span class="hljs-string"><span class="hljs-string">'/../../common/lib/vendor/autoload.php'</span></span>); $config = Yiinitializr\Helpers\Initializer::config(<span class="hljs-string"><span class="hljs-string">'frontend'</span></span>, array( dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/main.php'</span></span>, dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/env.php'</span></span>, dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/test.php'</span></span>, )); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CTestCase'</span></span>); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CDbTestCase'</span></span>); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CWebTestCase'</span></span>); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> </pre> <code><code><code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> <h4> <code><code><code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> </h4> <code><code><code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> <h4> <code><code><code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> </h4> <code><code><code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> <pre> <code class="hljs ruby"><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part<span class="hljs-number"><span class="hljs-number">_</span></span>&gt;<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span></code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  <span class="hljs-number"><span class="hljs-number">2</span></span>.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/<span class="hljs-keyword"><span class="hljs-keyword">end</span></span>/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;<span class="hljs-regexp"><span class="hljs-regexp">/config/</span></span>&lt;part&gt;.php ./&lt;part&gt;<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/&lt;environment&gt;.php</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">       , -,   ( </span></span><code><code><code><code><code><span class="hljs-regexp"><span class="hljs-regexp">), , -,   (). </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp"></span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> () ‚Äî    ,    . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp"></span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> () ‚Äî  ,    . -: dev</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> ( )  </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">prod</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> ( ). </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">   ( )   </span></span><code><code><code><span class="hljs-regexp"><span class="hljs-regexp">./</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php      ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php . ,     ,      . ,    ,     .    : </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">   ,        ‚Äî     .      ./comon</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/dev.php</span></span></code><span class="hljs-regexp"><span class="hljs-regexp">    .        ,      ,          . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  ? !     . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  3.    Composer </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">     Yii,        : </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  Yiinitializr      Composer,           . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">!</span></span></b><span class="hljs-regexp"><span class="hljs-regexp">  ,             ,   PhpUnit.         ,       ,    ,    .      . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><a href="http://getcomposer.org/"><span class="hljs-regexp"><span class="hljs-regexp">Composer</span></span></a><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî </span></span><a href="http://habrahabr.ru/post/145946/"><span class="hljs-regexp"><span class="hljs-regexp">   PHP</span></span></a><span class="hljs-regexp"><span class="hljs-regexp"> .               ,     . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">      </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./composer</span></span>.json</code> .         ,       <code><span class="hljs-keyword"><span class="hljs-keyword">require</span></span></code> : <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"require"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"yiisoft/yii"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.1.14"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"2amigos/yiiwheels"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.0.3"</span></span></span></span> },</code> <br>     ‚Äî         Yii,     (        )   <span class="hljs-symbol"><span class="hljs-symbol">Yiinitializr:</span></span> Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"require-dev"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"phpunit/php-invoker"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.1.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/dbunit"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.3.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit-story"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit-selenium"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span> },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     <span class="hljs-symbol"><span class="hljs-symbol">Git:</span></span> <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"repositories"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>[ { <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"composer"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"url"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"http://packages.phundament.com"</span></span></span></span> }, { <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"package"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"package"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"name"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"phpunit/php-invoker"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"version"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.1.0"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"source"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"git"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"url"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"http://github.com/sebastianbergmann/php-invoker"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"reference"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"master"</span></span></span></span> }, <span class="hljs-string"><span class="hljs-string">"autoload"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"classmap"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"PHP/"</span></span> ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    <span class="hljs-symbol"><span class="hljs-symbol">Enter:</span></span> <br> <br> <code class="bash">Please, enter your environment -ie. <span class="hljs-string"><span class="hljs-string">"dev | prod | stage"</span></span>: [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (<span class="hljs-number"><span class="hljs-number">4</span></span> ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php, . .    -  Git     ,  ¬´¬ª.            ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php. </span></span><br></code></code></code><span class="hljs-regexp"><span class="hljs-regexp">   Yiinitializr </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">          Yiinitializr,       . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">Yiinitializr</span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  .  Yiinitializr     ,       .    /common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/extensions/components</span></span><span class="hljs-regexp"><span class="hljs-regexp">/</span></span></code><span class="hljs-regexp"><span class="hljs-regexp">  ,     ,   . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">EWebApplication</span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/lib/</span></span>Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication(<span class="hljs-string"><span class="hljs-string">'EWebApplication'</span></span>, $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yii.handleErrors'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.debug'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.traceLevel'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">3</span></span>, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yii.handleErrors'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.debug'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.traceLevel'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">0</span></span>, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into <span class="hljs-string"><span class="hljs-string">'yiinitializr-prod'</span></span>... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'gii'</span></span> =&gt; array( ... <span class="hljs-string"><span class="hljs-string">'generatorPaths'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'common.gii'</span></span>), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php, . .    -  Git     ,  ¬´¬ª.            ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php.        Composer.      ,     ./common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>./<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span>    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>./<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span>.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'composer.callbacks'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'post-update'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'migrate'</span></span>), <span class="hljs-string"><span class="hljs-string">'post-install'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'migrate'</span></span>), ) ),</code> <br>     <code><span class="hljs-string"><span class="hljs-string">`./yiic migrate`</span></span></code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> <span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'composer.callbacks'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yiisoft/yii-install'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'webapp'</span></span>, realpath(dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php"><span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(__DIR_<span class="hljs-number"><span class="hljs-number">_</span></span> . <span class="hljs-string"><span class="hljs-string">'/../../common/lib/vendor/autoload.php'</span></span>); $config = Yiinitializr\Helpers\Initializer::config(<span class="hljs-string"><span class="hljs-string">'frontend'</span></span>, array( dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/main.php'</span></span>, dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/env.php'</span></span>, dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/test.php'</span></span>, )); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CTestCase'</span></span>); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CDbTestCase'</span></span>); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CWebTestCase'</span></span>); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> </pre> <code><code><code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> <pre> <code class="hljs ruby"><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part<span class="hljs-number"><span class="hljs-number">_</span></span>&gt;<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span></code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  <span class="hljs-number"><span class="hljs-number">2</span></span>.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/<span class="hljs-keyword"><span class="hljs-keyword">end</span></span>/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;<span class="hljs-regexp"><span class="hljs-regexp">/config/</span></span>&lt;part&gt;.php ./&lt;part&gt;<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/&lt;environment&gt;.php</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">       , -,   ( </span></span><code><code><code><code><code><span class="hljs-regexp"><span class="hljs-regexp">), , -,   (). </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp"></span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> () ‚Äî    ,    . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp"></span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> () ‚Äî  ,    . -: dev</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> ( )  </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">prod</span></span></code><span class="hljs-regexp"><span class="hljs-regexp"> ( ). </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">   ( )   </span></span><code><code><code><span class="hljs-regexp"><span class="hljs-regexp">./</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php      ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php . ,     ,      . ,    ,     .    : </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">   ,        ‚Äî     .      ./comon</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/dev.php</span></span></code><span class="hljs-regexp"><span class="hljs-regexp">    .        ,      ,          . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  ? !     . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  3.    Composer </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">     Yii,        : </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  Yiinitializr      Composer,           . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">!</span></span></b><span class="hljs-regexp"><span class="hljs-regexp">  ,             ,   PhpUnit.         ,       ,    ,    .      . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><a href="http://getcomposer.org/"><span class="hljs-regexp"><span class="hljs-regexp">Composer</span></span></a><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî </span></span><a href="http://habrahabr.ru/post/145946/"><span class="hljs-regexp"><span class="hljs-regexp">   PHP</span></span></a><span class="hljs-regexp"><span class="hljs-regexp"> .               ,     . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">      </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./composer</span></span>.json</code> .         ,       <code><span class="hljs-keyword"><span class="hljs-keyword">require</span></span></code> : <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"require"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"yiisoft/yii"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.1.14"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"2amigos/yiiwheels"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.0.3"</span></span></span></span> },</code> <br>     ‚Äî         Yii,     (        )   <span class="hljs-symbol"><span class="hljs-symbol">Yiinitializr:</span></span> Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"require-dev"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"phpunit/php-invoker"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.1.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/dbunit"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.3.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit-story"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span>, <span class="hljs-string"><span class="hljs-string">"phpunit/phpunit-selenium"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span> },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     <span class="hljs-symbol"><span class="hljs-symbol">Git:</span></span> <br> <br> <code class="javascript"><span class="hljs-string"><span class="hljs-string">"repositories"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>[ { <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"composer"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"url"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"http://packages.phundament.com"</span></span></span></span> }, { <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"package"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"package"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"name"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"phpunit/php-invoker"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"version"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"1.1.0"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"source"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"type"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"git"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"url"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"http://github.com/sebastianbergmann/php-invoker"</span></span></span></span>, <span class="hljs-string"><span class="hljs-string">"reference"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span><span class="hljs-string"><span class="hljs-symbol"><span class="hljs-string">"master"</span></span></span></span> }, <span class="hljs-string"><span class="hljs-string">"autoload"</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>{ <span class="hljs-string"><span class="hljs-string">"classmap"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"PHP/"</span></span> ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    <span class="hljs-symbol"><span class="hljs-symbol">Enter:</span></span> <br> <br> <code class="bash">Please, enter your environment -ie. <span class="hljs-string"><span class="hljs-string">"dev | prod | stage"</span></span>: [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (<span class="hljs-number"><span class="hljs-number">4</span></span> ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php, . .    -  Git     ,  ¬´¬ª.            ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php. </span></span><br></code></code></code><span class="hljs-regexp"><span class="hljs-regexp">   Yiinitializr </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">          Yiinitializr,       . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">Yiinitializr</span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp">  .  Yiinitializr     ,       .    /common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/extensions/components</span></span><span class="hljs-regexp"><span class="hljs-regexp">/</span></span></code><span class="hljs-regexp"><span class="hljs-regexp">  ,     ,   . </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><br><span class="hljs-regexp"><span class="hljs-regexp"> </span></span><b><span class="hljs-regexp"><span class="hljs-regexp">EWebApplication</span></span></b><span class="hljs-regexp"><span class="hljs-regexp"> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    </span></span><code><span class="hljs-regexp"><span class="hljs-regexp">./common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/lib/</span></span>Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication(<span class="hljs-string"><span class="hljs-string">'EWebApplication'</span></span>, $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yii.handleErrors'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.debug'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.traceLevel'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">3</span></span>, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yii.handleErrors'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.debug'</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">'yii.traceLevel'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">0</span></span>, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into <span class="hljs-string"><span class="hljs-string">'yiinitializr-prod'</span></span>... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'gii'</span></span> =&gt; array( ... <span class="hljs-string"><span class="hljs-string">'generatorPaths'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'common.gii'</span></span>), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code><code><code>./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php, . .    -  Git     ,  ¬´¬ª.            ./<span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.php.        Composer.      ,     ./common</span></span><span class="hljs-regexp"><span class="hljs-regexp">/config/env</span></span>.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code><code>./<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span>    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>./<span class="hljs-regexp"><span class="hljs-regexp">/www/</span></span>.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php"><span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'composer.callbacks'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'post-update'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'migrate'</span></span>), <span class="hljs-string"><span class="hljs-string">'post-install'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'migrate'</span></span>), ) ),</code> <br>     <code><span class="hljs-string"><span class="hljs-string">`./yiic migrate`</span></span></code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> <span class="hljs-string"><span class="hljs-string">'params'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'composer.callbacks'</span></span> =&gt; array( <span class="hljs-string"><span class="hljs-string">'yiisoft/yii-install'</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'yiic'</span></span>, <span class="hljs-string"><span class="hljs-string">'webapp'</span></span>, realpath(dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php"><span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(__DIR_<span class="hljs-number"><span class="hljs-number">_</span></span> . <span class="hljs-string"><span class="hljs-string">'/../../common/lib/vendor/autoload.php'</span></span>); $config = Yiinitializr\Helpers\Initializer::config(<span class="hljs-string"><span class="hljs-string">'frontend'</span></span>, array( dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/main.php'</span></span>, dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/env.php'</span></span>, dirname(__FILE_<span class="hljs-number"><span class="hljs-number">_</span></span>) . <span class="hljs-string"><span class="hljs-string">'/../../common/config/test.php'</span></span>, )); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CTestCase'</span></span>); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CDbTestCase'</span></span>); Yii::import(<span class="hljs-string"><span class="hljs-string">'system.test.CWebTestCase'</span></span>); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> </pre> <code><code><code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> <blockquote> <code><code><code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> </blockquote> <code><code><code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> <h3> <code><code><code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> </h3> <code><code><code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> <ol><li> <code><code><code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> </li> <li> <code><code><code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> </li> <li> <code><code><code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> </li> <li> <code><code><code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> </li> <li> <code><code><code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> </li> <li> <code><code><code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> </li> </ol> <code><code><code><code><code><code><code><code><code><code>): <br> backend  frontend ‚Äî     ; console ‚Äî    ; common ‚Äî       . ,     ,     backend-  frontend-,  SiteController</code>      . <br>     : <br>       .    .   ‚Äî    .    backend-  frontend-        <code>./_part_&gt;/www/</code> .  Yiinitializr,    ,   Composer    <code>./comon/lib/</code> .        <code>vendor</code>   . ,  ,     <code>./console/migrations/</code> . <br> <br>  2.   <br>         .    : <br> <br> <code>./backend/config/backend.php ./backend/config/env/dev.php ./backend/config/env/prod.php ./comon/config/main.php ./comon/config/test.php ./comon/config/env/dev.php ./comon/config/end/prod.php ./console/config/console.php ./console/config/env/dev.php ./console/config/env/prod.php ./frontend/config/frontend.php ./frontend/config/env/dev.php ./frontend/config/env/prod.php</code> <br> <br>  .   ,         : <br> <br> <code>./&lt;part&gt;/config/&lt;part&gt;.php ./&lt;part&gt;/config/env/&lt;environment&gt;.php</code> <br>       , -,   ( <code>), , -,   (). <br> <br> <b></b> () ‚Äî    ,    . <br> <b></b> () ‚Äî  ,    . -: dev</code> ( )  <code>prod</code> ( ). <br> <br>   ( )   <code><code>.//config/env.php      .//config/env/.php . ,     ,      . ,    ,     .    : <br> <br> <img src="https://habrastorage.org/getpro/habr/post_images/c0a/5f4/df4/c0a5f4df47e39cb24ae59b80ce867d65.png"> <br> <br>   ,        ‚Äî     .      ./comon/config/env/dev.php</code>    .        ,      ,          . <br> <br>  ? !     . <br> <br>  3.    Composer <br>     Yii,        : <br>  .    PHPUnit  Selenium. Yii      .       .  Yii       ,             . <br>  Yiinitializr      Composer,           . <br> <br> <b>!</b>  ,             ,   PhpUnit.         ,       ,    ,    .      . <br> <a href="http://getcomposer.org/">Composer</a> ‚Äî <a href="http://habrahabr.ru/post/145946/">   PHP</a> .               ,     . <br>      <code>./composer.json</code> .         ,       <code>require</code> : <br> <br> <code class="javascript">"require":{ "yiisoft/yii":"1.1.14", "2amigos/yiiwheels":"1.0.3" },</code> <br>     ‚Äî         Yii,     (        )   Yiinitializr: Yiistrap ‚Äî Twitter Bootstrap  Yii, Yiiwheels ‚Äî    Yiistrap.  yii   . ,         .       ,     ,      .    ,      .    PhpUnit  . <br> <br>     : <br> <br> <code class="javascript">"require-dev":{ "phpunit/php-invoker": "1.1.0", "phpunit/dbunit": "1.3.0", "phpunit/phpunit-story": "dev-master", "phpunit/phpunit-selenium": "dev-master" },</code> <br>     .    php-invoker  PHP- ext-pcntl,  <i>[  ]</i>    Unix .   Windows    ,    <code>repositories</code>     php-invoker     Composer,     Git: <br> <br> <code class="javascript">"repositories":[ { "type":"composer", "url":"http://packages.phundament.com" }, { "type":"package", "package":{ "name":"phpunit/php-invoker", "version":"1.1.0", "source":{ "type":"git", "url":"http://github.com/sebastianbergmann/php-invoker", "reference":"master" }, "autoload":{ "classmap": [ "PHP/" ] } } } ],</code> <br> <b>!</b>    PhpUnit         <code>%PATH%</code> <a href="http://git-scm.com/">   Git</a> . <br> -           ,    .    Composer.       ,   , . .   phar-     Yiinitializr. <br> <br>     .   Composer  : <br> <br> <code class="bash">&gt; php composer.phar self-update</code> <br>       : <br> <br> <code class="bash">&gt; php composer.phar install</code> <br> <b>!</b>  ,  PHP       .         ,   SSL  ,  <a href="http://www.php.net/manual/ru/configuration.file.php">    PHP</a> . <br>       : <br> <br> <code class="bash">Start Installation? [y/n]: y</code> <br>   ,  .          .      ,   <code>dev</code>    Enter: <br> <br> <code class="bash">Please, enter your environment -ie. "dev | prod | stage": [dev]: dev</code> <br> , <code>Installation completed!</code> <br> <br> <b>   Composer?</b> <br>         <code>env.php</code> .   : runtime, assets.   .  .        (     Composer        ).     Composer    migrate,        <code>{{migration}}</code>    .             . <br>    ,     ¬´ ¬ª (4 ).     Yiinitializr  Composer,    .         ,        <code>env.lock</code> ( <code>./common/lib/Yiinitializr/config/env.lock</code> ).      ,        . <br> <b>!</b>       <code><code><a href="http://www.initializr.com/"></a> <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php. <br></code></code></code>   Yiinitializr <br>          Yiinitializr,       . <br> <br> <b>Yiinitializr</b> ‚Äî  ,    ,       .   ,    3  ,    .      Initializr      Twitter Bootstrap, Modernizr  JQuery.           Initializr-. <br> <br>  .  Yiinitializr     ,       .    /common/extensions/components/</code>  ,     ,   . <br> <br> <b>EWebApplication</b> ‚Äî    CWebApplication.        ,    .   ,    ,      ,          EWebApplication,    ~46    <code>./common/lib/Yiinitializr/Helpers/Initializer.php</code>  <br> <br> <code class="php">$app = \Yii::createWebApplication($config);</code> <br>  <br> <br> <code class="php">$app = \Yii::createApplication('EWebApplication', $config);</code> <br> <b>EActiveRecord</b> ‚Äî    CActiveRecord,          ,    (  EController),         . <br> <br> <b>EController</b> ‚Äî   DRY    ,     <code>loadModel</code>  <code>performAjaxValidation</code> ,      .    , -  . <br> <br> <b>!</b>   ,  ,    CRUD  Gii.     <a href="https://habr.com/ru/post/207454/">  FAQ</a> . <br>   ,  Yiinitializr      .     ? ,   debug-  ,       .      debug-,       . <br> <br>      <code>params</code> .    : <br> <br> <code>yii.debug</code> ; <code>yii.traceLevel</code> ; <code>yii.handleErrors</code> ; <code>php.defaultCharset</code> ; <code>php.timezone</code> . <br>    ,        . ,  ,  ,      / debug-.  e <code>./common/config/env/dev.php</code>   : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; true, 'yii.debug' =&gt; true, 'yii.traceLevel' =&gt; 3, )</code> <br>    <code>./common/config/env/prod.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'yii.handleErrors' =&gt; false, 'yii.debug' =&gt; false, 'yii.traceLevel' =&gt; 0, )</code> <br> <b>!</b>        Composer.      ,     <code>./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br>   <br>        .         PHP-,        Yiinitializr. <br> <br> ,       Git-, ,   : <br> <br> <code class="bash">&gt; cd projects &gt; git clone yiinitializr yiinitializr-prod Cloning into 'yiinitializr-prod'... done.</code> <br>   <code>.gitignore</code>  ,     ,   ,    . ,   ,     Composer   <code>--no-dev</code> ,       <code>prod</code> : <br> <br> <code class="bash">&gt; php composer.phar install --no-dev</code> <br> ,   ,        (        ). <br> <br>    <br>   ? <br>   Yiinitializr  ,           ,         .    ,       ,   Yiinitializr   . <br> <a name="crud"></a> <br>    Gii   CRUD? <br>       EActiveRecord  EController,      ‚Äî       Gii   CRUD -    . <br>    ‚Äî <a href=""> Gii</a> ,      .     <a href="http://webfile.ru/b54ddd28e03618dcc6e4428b59b64f53"> </a> . <br>     <code>./common</code>           <code>./common/config/env/dev.php</code> : <br> <br> <code class="php">'gii' =&gt; array( ... 'generatorPaths' =&gt; array('common.gii'), ),</code> <br> <br> ,    Code Template   Crud Generator,    ,     <code>yiinitializr-simple</code> . <br> <br>       ,    . <br>    ,       <code>.//config/env.php, . .    -  Git     ,  ¬´¬ª.            .//config/env/.php.        Composer.      ,     ./common/config/env.php</code>  <code>./common/lib/Yiinitializr/config/env.lock</code> ,    <br> <br> <code class="bash">&gt; php composer.phar update</code> <br> , ,         . <br> <br>      Yiinitializr   ? <br>     Yiinitializr      ,         .      <code>.//www/    DocumentRoot</code>  . , <a href="http://download.ispsystem.com/tutorial/ru/tutdomain5.html"> ISP Manager   </a> ,     <code>/www/yiinitializr/frontend/www</code>   WWW . <br> <br> <b>!</b>     ,      ,   .       <code>.//www/.htaccess.      ,    ,   ,   .</code> <br>   Access forbidden    backend? <br>    <code>./backend/</code> -   <code>.htaccess</code>   <code>deny from all</code> .  ,     -  ,    . <i>!</i> <br> <br>          Composer? <br>       <a href="http://yiiframework.ru/doc/guide/ru/topics.console">    Yi</a> i.  Yiinitializr  <a href="https://github.com/phundament/app/blob/yii-webapp/protected/config/ComposerCallback.php"> ComposerCallback</a>   Phundament     <a href="">    /  Composer</a> .     <code>./common/lib/Yiinitializr/config/console.php</code> : <br> <br> <code class="php">'params' =&gt; array( 'composer.callbacks' =&gt; array( 'post-update' =&gt; array('yiic', 'migrate'), 'post-install' =&gt; array('yiic', 'migrate'), ) ),</code> <br>     <code>`./yiic migrate`</code>    post-install  post-update. <br>          /  .          <code class="php">&lt;vendor/-, : <br> <br> 'params' =&gt; array( 'composer.callbacks' =&gt; array( 'yiisoft/yii-install' =&gt; array('yiic', 'webapp', realpath(dirname(__FILE__))), ), ),</code> <br>        ,    : pre-install, post-install, pre-update, post-update, post-package-install, post-package-update. <br> <br>     ? <br>  , Yiinitializr ‚Äî   ,          .        . <br> <br>    ? <br> -,   ,        PhpUnit,    Composer.     Yii <a href="http://yiiframework.ru/doc/guide/ru/test.overview">   </a> ,       PhpUnit + Composer. <br> <br>   ,       .       ,      , -,  , , -,   PhpUnit. <br>   .       Yiinitializr,        : <br> <br> <code class="php">require(__DIR__ . '/../../common/lib/vendor/autoload.php'); $config = Yiinitializr\Helpers\Initializer::config('frontend', array( dirname(__FILE__) . '/../../common/config/main.php', dirname(__FILE__) . '/../../common/config/env.php', dirname(__FILE__) . '/../../common/config/test.php', )); Yii::import('system.test.CTestCase'); Yii::import('system.test.CDbTestCase'); Yii::import('system.test.CWebTestCase'); Yii::createWebApplication($config);</code> <br>  ,            test.php    . <br> <br>    .        : <br> <br> <code class="bash">&gt; cd .\frontend\tests\ &gt; ..\..\common\lib\vendor\bin\phpunit .</code> <br> !     <a href="http://yiiframework.ru/doc/guide/ru/test.functional"> </a> ,    <a href="http://docs.seleniumhq.org/download/">Selenium Server</a> . <br>   <br> <a href="http://yiiframework.ru/">Yii Framework</a> ‚Äî   Yii. <a href="http://yiinitializr.2amigos.us/">Yiinitializr</a> ‚Äî   .   <a href="https://github.com/tonydspaniard/yiinitializr-basic">Basic</a> , <a href="https://github.com/tonydspaniard/yiinitializr-intermediate">Intermediate</a> , <a href="https://github.com/tonydspaniard/yiinitializr-advanced">Advanced</a>   Yiinitializr. <a href="http://getcomposer.org/">Composer</a> ‚Äî      PHP. <a href="https://packagist.org/">   Composer</a> . <a href="http://packages.phundament.com/">  Yii     Composer</a> . <br> <br> PS          , ,    ,       . !</code></code></code></code></code></code></code></code></code> </blockquote> </blockquote></div><p>Source: <a href="https://habr.com/ru/post/207454/">https://habr.com/ru/post/207454/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../207394/index.html">Ruby 2.1 released</a></li>
<li><a href="../207402/index.html">Results of the year in the mobile applications market: facts and conclusions from the report from Distimo</a></li>
<li><a href="../207444/index.html">Change the backlight monitor (themselves)</a></li>
<li><a href="../207446/index.html">We get paid through PayPal</a></li>
<li><a href="../207448/index.html">Experience with TDD and thinking about how to test code</a></li>
<li><a href="../207456/index.html">Miracast standard - old protocols in a new wrapper</a></li>
<li><a href="../207460/index.html">Benchmark of HTTP servers (C / C ++) on FreeBSD</a></li>
<li><a href="../207464/index.html">Analysis of spherical motion of a solid in the case of Lagrange</a></li>
<li><a href="../207466/index.html">We will do TICT. Creation experience, prospects</a></li>
<li><a href="../207468/index.html">Types of digital generators</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>