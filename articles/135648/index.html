<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>HowTo: continuous integration of the project on Django using TeamCity</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 
 In the development process, creating a new functionality, more and more often, the old code began to touch the old code with wide strok...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>HowTo: continuous integration of the project on Django using TeamCity</h1><div class="post__text post__text-html js-mediator-article"><h4>  Introduction </h4><br>  In the development process, creating a new functionality, more and more often, the old code began to touch the old code with wide strokes than to destroy the logic of its work.  This made all the same to write a unit and integration tests for the old code and automate their launch, because  chasing all the tests with my hands is somehow sad.  I just remembered the recent <a href="http://habrahabr.ru/blogs/django/132521/">CI Django</a> guide <a href="http://habrahabr.ru/blogs/django/132521/">in Jenkins</a> and quite old on the <a href="http://habrahabr.ru/blogs/django/91471/">Webtest in Django</a> .  As a result, an attempt was made to raise Jenkins, but he somehow did not take off on my ubunt and I remembered the sinful thing about TeamCity.  ‚ÄúSince I‚Äôm writing to <b>PyCharm</b> and found an approach to it, I‚Äôm probably going to master <b>TeamCity</b> , because there‚Äôs only one desk!‚Äù (and megapodrobny), unlike my previous, manual :) <br><br>  <b>Total:</b> who needs guidance on raising the <a href="http://www.jetbrains.com/teamcity/">TeamCity</a> integration server, and testing <b>Django</b> projects in it with <a href="http://pypi.python.org/pypi/nose">nose</a> and <a href="http://pypi.python.org/pypi/WebTest">webtest tests</a> in a <a href="http://pypi.python.org/pypi/virtualenv">virtual</a> <b>python</b> environment with its automatic (environment) update - welcome under cat. <br><br>  <b>Caution!</b>  TeamCity requires (according to the documentation) a sun / oracle version of the JVM ... <br><a name="habracut"></a><br><h4>  Theory </h4><br><h5>  Virtual python environment using virtualenv </h5><br>  The system on my PC for development meets all the requirements of my project, but this is far from being on a server for testing (even python is 2.6 there, and I eventually needed 2.7), so I had to take care of virtualization of the environment in order to calmly put what I needed, in addition, it eliminates the need to have the power of <code>root</code> or <code>sudo</code> er. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      To create a virtual environment, you need to install <a href="http://pypi.python.org/pypi/virtualenv">virtualenv</a> or download and extract <code>virtualenv.py</code> from the archive.  We will use the second option, because  this completely discourages us from having to use the power of the superuser.  Yes, the system still needs to have python installed. <br><br><pre> <code class="bash hljs">python virtualenv.py -p python2.7 .env</code> </pre><br><br>  Here, <code>-p python2.7</code> sets the required version of python <i>(the subtlety is that the necessary versions of python must be installed on the system itself, but not being the default python, the script will not be able to pull them out and install them)</i> as well <code>.env</code> directory in which the environment will be placed.  Further, to use python and modules from the environment, you need to call them through <code>.env/bin/python</code> but if you write this is laziness, you can do <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">source</span></span> .env/bin/activate</code> </pre><br><br>  which replaces the environment variable <code>PATH</code> . <br><br><h5>  Fabric automation </h5><br>  In addition to the python itself installed on the target system, we also need the <a href="http://pypi.python.org/pypi/Fabric">fabric</a> module.  That is, on the testing server, you will have to execute the <code>sudo pip install fabric</code> or <code>sudo easy_install fabric</code> , during installation, <code>pycrypto</code> will pull to build <code>python-dev</code> python samples, so you need to install it first.  Fabric allows you to execute scripts in python that perform actions on a local or remote (via SSH) system.  After installation, the <code>fab</code> application will appear in the system, which searches for the file <code>fabfile.py</code> in the call folder and executes the specified script. <br><br>  For example: <br><br><pre> <code class="bash hljs">fab <span class="hljs-built_in"><span class="hljs-built_in">test</span></span></code> </pre><br><br>  will execute the <code>test</code> function from the <code>fabfile.py</code> file. <br><br><h5>  Nose and webtest in django </h5><br>  Now a little about the tests themselves.  Django has its own unit tests and functional tests (with the help of a test client), but there are flaws in them about which it was written more than once.  In general, I began to use <b>nose</b> for unit testing and <b>webtest</b> for functional.  In the introduction, I gave a link to an article about webtest, it shows a good idea how it works.  We will need the following modules for testing (then we will add this list to the file with the list of modules for automatic installation via <code>pip -r</code> ): <br><br><pre> <code class="bash hljs">coverage&gt;=3.0 nose webtest django-nose django-webtest</code> </pre><br><br>  In addition, the <code>django_nose</code> should be added to the <code>INSTALLED_APPS</code> file of the <code>settings.py</code> your django project, or in the same file specify <code>TEST_RUNNER = 'django_nose.NoseTestSuiteRunner'</code> . <br><br>  <b>Attention!</b>  If <code>south</code> used, then <code>django_nose</code> should be added after it. <br><br>  Actually, if there are unit tests already written in the Djang test system - you can not touch them, everything will work and so.  How to write functional tests through webtest can be read in the above <a href="http://habrahabr.ru/blogs/django/91471/">article</a> . <br><br>  Testing starts as usual: <br><br><pre> <code class="bash hljs">python manage.py <span class="hljs-built_in"><span class="hljs-built_in">test</span></span></code> </pre><br><br>  This command will perform both nose tests and webtest tests, if the names of files, classes and functions with tests have the word <code>"test"</code> in the name - this is a bonus from <code>nose</code> .  In addition, <code>nose</code> can use <a href="http://pypi.python.org/pypi/coverage">coverage</a> to calculate code coverage by tests (it does not understand functional <code>webtest</code> tests, because tests work with the code not directly, but through the generated pages).  <code>Django-nose</code> allows us to use <a href="http://readthedocs.org/docs/nose/en/latest/usage.html">the nose</a> test <a href="http://readthedocs.org/docs/nose/en/latest/usage.html">launch options</a> .  To do this, they can be written in the project <code>settings.py</code> file.  For example: <br><br><pre> <code class="python hljs">NOSE_ARGS = [ <span class="hljs-string"><span class="hljs-string">'--nocapture'</span></span>, <span class="hljs-string"><span class="hljs-string">'--with-coverage'</span></span>, <span class="hljs-string"><span class="hljs-string">'--cover-html'</span></span>, <span class="hljs-string"><span class="hljs-string">'--cover-html-dir=%s'</span></span> % os.path.join(PROJECT_PATH, <span class="hljs-string"><span class="hljs-string">'cover'</span></span>, <span class="hljs-string"><span class="hljs-string">'unit'</span></span>), <span class="hljs-string"><span class="hljs-string">'--cover-package=django_dir'</span></span> ]</code> </pre><br><br>  This spell will allow you to generate a test report in HTML format and place it in the <code>cover/unit</code> subdirectory of your project. <br><br><h4>  Practice </h4><br><h5>  Project structure </h5><br>  My project has the following folder structure: <br><br><pre> <code class="bash hljs">. .. project_dir project_dir/django_dir project_dir/build project_dir/build/pipreq.txt project_dir/fabfile.py project_dir/virtualenv.py</code> </pre><br><br>  Where <code>project_dir</code> contains all sorts of useful things such as a directory with a virtual environment, a factory file and other useful things, and already in the <code>django_dir</code> subdirectory <code>django_dir</code> located the actual project on <b>django</b> .  The version control system (in my case, this is <b>GIT</b> ) gets everything from <code>project_dir</code> with a few exceptions, like a directory with a virtual environment. <br><br><h5>  Test execution </h5><br>  Actually, our goal is to teach <b>TeamCity</b> after detecting changes in the repository (which he knows himself) to test our updated django project (which he doesn‚Äôt know) and inform us about the results (here he also needs some help). <br><br>  The fact is that for the purity of the experiment, it is desirable that, in addition to the tests themselves, the whole environment be checked / updated, for this we will write a small factory which, after receiving the changes, will launch TeamCity. <br><br>  <code>project_dir/fabfile.py</code> : <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># -*- coding: utf-8 -*- from fabric.api import local def test(): """  . """ local('python virtualenv.py -p python2.7 .env') #    local('./.env/bin/pip install -q -E .env -r build/pipreq.txt') #    #   build/pipreq.txt local('./.env/bin/python django_dir/manage.py test --noinput') #  </span></span></code> </pre><br><br>  <b>Please note</b> that <code>virtualenv.py</code> lies at the root of the project so that it is not required to be installed on the system. <br><br>  Required <code>project_dir/build/pipreq.txt</code> : <br><br><pre> <code class="bash hljs">django coverage&gt;=3.0 nose teamcity-nose webtest django-nose django-webtest ...      /...</code> </pre><br><br>  <b>Notice that</b> the previously listed <a href="http://pypi.python.org/pypi/teamcity-nose">teamcity-nose is</a> not listed in the file, this module also helps to pass the results of our testing to TeamCity.  It does not require any configuration and connection - it starts automatically when it finds the environment variable <code>TEAMCITY_PROJECT_NAME</code> that the TeamCity creates during operation. <br><br>  Actually everything is ready for automatic testing.  To start it, just run the command: <br><br><pre> <code class="bash hljs">fab <span class="hljs-built_in"><span class="hljs-built_in">test</span></span></code> </pre><br><br>  in the general project root. <br><br><h5>  Install and configure TeamCity </h5><br>  I did not bother much, which I recommend to you - just downloaded the tar.gz option <a href="http://www.jetbrains.com/teamcity/download/index.html">from the download page</a> .  All this happiness weighs indecent 333MB.  But the bundle carries <b>Tomcat</b> itself apart from the integration server itself, which will save us from hemorrhoids with server settings and other crap. <br><br>  TeamCity has a property (mentioned at the beginning) that someone may not like - it requires a Sanov / Oracle version of the <b>JVM</b> to work. <br><br>  How to get it on <b>Ubuntu</b> can be read for example <a href="http://www.webupd8.org/2011/09/how-to-install-oracle-java-7-jdk-in.html">here</a> . <br><br>  Actually, after downloading, we unpack this good in the place where it will work (the data itself will by default be stored in the <code>.BuildServer</code> subdirectory of the <code>.BuildServer</code> home directory under which the server is running).  The server is <code>bin/runAll.dh start</code> command <code>bin/runAll.dh start</code> , and <code>bin/runAll.dh stop</code> is killed (if we are in the folder with the unpacked archive).  The default server is running on port <code>8111</code> , but there is another <code>build agent</code> that starts on port <code>9090</code> .  The first can be changed in the <code>conf/server.xml</code> file, the second in the <code>buildAgent/conf/buildAgent.dist.properties</code> (sample) and <code>buildAgent/conf/buildAgent.properties</code> (specific agent). <br><br>  All other settings (well, about which I will tell) will be done through the web interface.  In general, we start teamcity and go to the browser (http: // localhost: 8111 if it was launched locally).  Depending on the capacity of the system, you will either see the license agreement or a message: <br><br><img src="https://habrastorage.org/storage2/d20/ec4/c1e/d20ec4c1e78f6948e78b85f29b7f6e3b.png"><br><br>  and you will need to wait until it is replaced by a license agreement. <br><br>  Further it will be offered to create an administrator account.  After that we will see the TeamCity system itself. <br><br>  Here we are interested in creating a project.  Everything is simple - the name and description.  After we get to the project settings page. <br><br><img src="https://habrastorage.org/storage2/2e8/49a/7c5/2e849a7c5465d327c75ad18f8d9faebb.png"><br><br>  On the <b>VCS Roots</b> tab (VCS - version control system) you need to set a new repository.  More precisely indicate where the system will take the code for testing.  There is a long footcloth that needs to be filled with your data.  All fields are signed, there are links to help pages, so there is nothing superhuman there.  Here you can check the performance of the connection. <br><br>  Next, on the <b>General</b> tab, you need to create a new <b>Buid Configuration</b> - the cornerstone of our testing. <br><br><img src="https://habrastorage.org/storage2/3da/f59/379/3daf59379369005c4943db01ce0b957f.png"><br><br>  <b>Build counter</b> - the number with which the numbering of the builds will begin, or rather the build number that will be assigned to the next build.  You can safely put <code>1</code> , then just a screenshot is not fresh :) <br><br>  Of the important fields on the first page here is the <b>Artifact paths</b> which tells the system how to find the files resulting from the build / test.  In our case, these are test coverage reports.  In my case, here it is enough to enter <code>django_dir/cover/**/*</code> .  On the second page, select our previously defined repository. <br><br>  Clicking on the <b>Add Build Step</b> will need to create the first (and, in our case, the only) build step (in our case, testing). <br><br><img src="https://habrastorage.org/storage2/c08/2e2/b5d/c082e2b5d21316979295a180bce80ff2.png"><br><br>  Actually the required set of settings you see on the screen.  We save. <br><br>  Next, on the right in the vertical menu, select <b>Build Triggering</b> and add the launch of our build when changing the repository: <br><br><img src="https://habrastorage.org/storage2/22b/635/430/22b6354306563f0804679f2b94ca0c4e.png"><br><br>  And finally, we return to the settings of the project itself, go to the <b>Report Tabs</b> tab and create a new tab: <br><br><img src="https://habrastorage.org/storage2/e73/435/208/e734352088c5b33f115acff9a7e70092.png"><br><br>  This will allow TemCity to display our reports in its interface. <br><br><img src="https://habrastorage.org/storage2/0f5/54b/ab4/0f554bab4d6c548d0a4df11c3d8f3ccc.png"><br><br>  The tab will appear when the specified file is in the specified location, so if it is not there, check the settings and see if the reports really lie where they should be. <br><br>  That's all, it remains in the top menu in <b>Projects</b> to go to our project and click <b>Run</b> at the build for the first run. <br><br><h5>  Beautiful </h5><br>  All managers love graphics, so that it was necessary to show a few pictures.  Alas, these pictures are added by the true programmer-admin method - making changes to the XML config.  The manual is available <a href="http://confluence.jetbrains.net/display/TCD65/Custom%2BChart">here</a> .  One feels that in this place the developers have fairly rested <i>(they could have made the forms)</i> .  Because  There is no obvious way to find out one of the most important parameters for <code>buildTypeId</code> .  The simplest thing is to look in the address bar of the browser: <code><a href="http://localhost/"></a> localhost:8111/viewType.html?tab=buildTypeStatusDiv&amp; <b>buildTypeId=bt2</b></code>  <code><a href="http://localhost/"></a> localhost:8111/viewType.html?tab=buildTypeStatusDiv&amp; <b>buildTypeId=bt2</b></code> . <br><br>  I will cite the config of my two graphs: <br><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">settings</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">report-tabs</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">report-tab</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">title</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Coverage"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">basePath</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/unit/"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">buildTypeId</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"bt2"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">revisionRule</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"lastFinished"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">revision</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"latest.lastFinished"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">report-tab</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">report-tabs</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">custom-graphs</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">graph</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">title</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Build Duration"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">defaultFilters</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"showFailed"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">seriesTitle</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"key"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--     --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">valueType</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">key</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"BuildDuration"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">title</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"main test"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">buildTypeId</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"bt2"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">graph</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">graph</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">title</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Test Passes"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">defaultFilters</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"showFailed"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">seriesTitle</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"key"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--   --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">valueType</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">key</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"FailedTestCount"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">title</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"fail"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">buildTypeId</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"bt2"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">valueType</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">key</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"PassedTestCount"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">title</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"pass"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">buildTypeId</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"bt2"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">graph</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">custom-graphs</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">settings</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  This is the file <code>~/.BuildServer/config/django_dir/plugin-settings.xml</code> .  Changes to the file are picked up on the fly. <br><br>  It looks something like this: <br><br><img src="https://habrastorage.org/storage2/576/727/66f/57672766ff094a75f6f1740997473a37.png"><br><br>  This is how the coverage report looks like: <br><br><img src="https://habrastorage.org/storage2/307/f46/5f6/307f465f63b7d728a739193828e8ab95.png"><br><br>  List of assemblies: <br><br><img src="https://habrastorage.org/storage2/e25/da0/97d/e25da097d06a35c06fb7334f23d419d7.png"><br><br>  Details on the assembly: <br><br><img src="https://habrastorage.org/storage2/626/1be/0a2/6261be0a2dc84191cc963c6dbe1b7797.png"><br><br><h4>  Conclusion </h4><br>  I apologize for the multi-bookmark, but it just so happened.  I wanted to describe available.  As a result, we have automated testing (modular and integration), in addition, we also check the availability of the necessary modules and the project's ‚Äúliftability‚Äù.  Showdowns with TemaCity's response to various build results I leave on your conscience.  In this part, there is something to be happy about - standard soap notification, notification via <b>jabber</b> , and creation of release push. <br><br>  Successful development! </div><p>Source: <a href="https://habr.com/ru/post/135648/">https://habr.com/ru/post/135648/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../135638/index.html">Quick hand download counter</a></li>
<li><a href="../135641/index.html">MSP430 Developer Kit from Texas Instruments</a></li>
<li><a href="../135643/index.html">The new law requires Wi-Fi in all restaurants of the capital of Malaysia</a></li>
<li><a href="../135645/index.html">Why is coworking in Thailand covered</a></li>
<li><a href="../135646/index.html">Interview with Dries Bytaertom: About Drupal 8, Open Source, Business and India</a></li>
<li><a href="../135650/index.html">All the most fashionable</a></li>
<li><a href="../135651/index.html">Hibernate-Extender or Hibernate, Spring and OSGi</a></li>
<li><a href="../135652/index.html">Which KPIs can be measured if the project schedule and budget is not very important?</a></li>
<li><a href="../135653/index.html">Literature for the winter - the new Windows Phone Training Kit</a></li>
<li><a href="../135654/index.html">We emulate PEAR DB when working with MySQL</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>