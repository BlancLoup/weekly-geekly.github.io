<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>What is LinkedList under the hood?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good afternoon, habitrachiteli! 

 How ArrayList works is completely understandable. There are many articles on this subject, some of them are illustr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>What is LinkedList under the hood?</h1><div class="post__text post__text-html js-mediator-article">  Good afternoon, habitrachiteli! <br><br>  How <b><i>ArrayList</i></b> works is completely understandable.  There are many articles on this subject, some of them are illustrated with wonderful pictures, so that even to beginners it becomes clear at once.  The best articles on this topic are <a href="https://habrahabr.ru/post/128269/">‚ÄúData structures in pictures.</a>  <a href="https://habrahabr.ru/post/128269/">ArrayList</a> , written by <a href="https://habrahabr.ru/users/tarzan82/">tarzan82</a> . <br><br>  The same author describes the principles of <b><i>LinkedList</i></b> , however, some of the data is outdated even with the release of Java 7, so trying to understand in detail what is happening inside this collection is already difficult <a href="https://habrahabr.ru/post/127864/">by the drawings tarzan82</a> .  Yes, and in other sources I did not meet clear pictures, and therefore the idea arose to write this article. <br><a name="habracut"></a><br>  So, <b><i>LinkedList</i></b> is a class that implements two interfaces - <b><i>List</i></b> and <b><i>Deque</i></b> .  This provides the ability to create a bidirectional queue from any (including <i>null</i> ) elements.  Each object placed in a linked list is a node (node).  Each node contains an element, a link to the previous and next node.  The actually linked list consists of a sequence of nodes, each of which is intended to store an object of a type defined during creation. <br><img src="https://habrastorage.org/web/7ef/7e6/108/7ef7e61084874c1dba800c0fcdc9d254.jpg"><br>  Let us see what happens when we write simple and familiar lines of code. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  1. Creating a linked list </h2><br><pre><code class="hljs pgsql">LinkedList&lt;<span class="hljs-type"><span class="hljs-type">Integer</span></span>&gt; numbers = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> LinkedList&lt;&gt;();</code> </pre> <br>  This code creates an object of the <b><i>LinkedList</i></b> class and stores it in the <i>numbers</i> link.  The created object is intended for storing integers ( <b><i>Integer</i></b> ).  While this object is empty. <br><br>  The <b><i>LinkedList</i></b> class contains three fields: <br><br><pre> <code class="hljs xml">//  transient   ,      //  transient int size = 0; transient Node<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">E</span></span></span><span class="hljs-tag">&gt;</span></span> first; transient Node<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">E</span></span></span><span class="hljs-tag">&gt;</span></span> last;</code> </pre> <br><img src="https://habrastorage.org/web/5fd/a4c/d01/5fda4cd01a064bbfa2e5ab2b6196510f.jpg"><br><br><h2>  2. Adding an object to the end of a linked list </h2><br><pre> <code class="hljs cs">numbers.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>(<span class="hljs-number"><span class="hljs-number">8</span></span>);</code> </pre> <br>  This code adds the number 8 to the end of the previously created list.  Under the ‚Äúhood‚Äù, this method calls a number of other methods to create an object of type <b><i>Integer</i></b> , create a new node, set an object of class <b><i>Integer</i></b> in the <i>item</i> field of this node, add a node to the end of the list, and set references to neighboring nodes. <br><br>  <b><i>LinkedList</i></b> uses objects of its nested <b><i>Node</i></b> class to set up links to the previous and next elements: <br><br><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> static <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Node</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">E</span></span></span><span class="hljs-class">&gt; </span></span>{ E item; Node&lt;E&gt; next; Node&lt;E&gt; prev; Node(Node&lt;E&gt; prev, E element, Node&lt;E&gt; next) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.item = element; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.next = next; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.prev = prev; } }</code> </pre> <br>  Each time an object is added to the list, one new node is created, and the values ‚Äã‚Äãof the linked list fields ( <i>size</i> , <i>first</i> , <i>last</i> ) also change. <br><img src="https://habrastorage.org/web/e9c/521/602/e9c521602c054d549650a6c3e9f05b8f.jpg"><br>  In the case of adding the first element, a node is created whose previous and next elements are missing, i.e.  are <i>null</i> , the size of the collection is incremented by 1, and the created node is set as the first and last element of the collection. <br><br>  Add one more item to our collection: <br><br><pre> <code class="hljs cs">numbers.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>(<span class="hljs-number"><span class="hljs-number">5</span></span>);</code> </pre> <br>  First, a node is created for the new element (number 5) and a reference is made to the existing element (node ‚Äã‚Äãwith number 8) of the collection as the previous one, and the next element of the created node is <i>null</i> .  This new node is also saved to the variable of the linked list <i>last</i> : <br><img src="https://habrastorage.org/web/752/148/b39/752148b39c0b41b4a870f477bc537706.jpg"><br>  As can be seen in fig.  4, the first element of the collection (under the index 0) so far refers to <i>null</i> as the next element.  Now this link is replaced and the first element starts to refer to the second element of the collection (under the index 1), and the size of the collection also increases: <br><img src="https://habrastorage.org/web/8a2/34a/aed/8a234aaedda6454480c0e443459e5085.jpg"><br><h2>  3. Adding an object to the middle of a linked list </h2><br><pre> <code class="hljs cs">numbers.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>);</code> </pre> <br>  <b><i>LinkedList</i></b> allows you to add an item to the middle of the list.  The <b>add (index, element)</b> method is used for this, where <i>index</i> is the place in the list where the element element will be inserted. <br><br>  Like the <b>add (element)</b> method, this method calls several other methods.  First, the <i>index</i> value is checked, which must be a positive number that is less than or equal to the size of the list.  If <i>index</i> does not satisfy these conditions, then an <i>IndexOutOfBoundsException</i> exception will be <i>thrown</i> . <br><br>  Then, if <i>index</i> is equal to the collection size, then the actions described in section 2 are carried out, since in fact it is necessary to insert an element at the end of the existing list. <br><br>  If <i>index is</i> not equal to the <i>size of the</i> list, then it is inserted before the element, which has the specified index before this insertion, i.e.  in this case, in front of the node with a value of 5. <br><br>  First, using the <b>node (index)</b> method, we determine the node currently under the index under which we need to insert a new node.  This node is searched using a simple for loop over half the list (depending on the index value ‚Äî either from the beginning to the element, or from the end to the element).  Next, a node is created for the new element (number 13), the link to the previous element is set to the node in which the element is number 8, and the link to the next element is set to the node in which the element is number 5. References of previously existing nodes have not yet changed: <br><img src="https://habrastorage.org/web/683/17e/f19/68317ef19e6b410c9504b4447f675219.jpg"><br>  Now the links are successively replaced: for the element following the new element, the reference to the previous element is replaced (now it points to the node with value 13), the link to the next element is replaced for the one that precedes the new element (now it points to the node with value 5).  And last of all, the size of the list increases: <br><img src="https://habrastorage.org/web/6e0/0bc/c0d/6e00bcc0d32242b399ead4d13646b03d.jpg"><br><h2>  4. Removing an object from the list </h2><br>  To remove a single item from the list, the <b><i>LinkedList</i></b> class offers us as many as 10 methods, which differ in the type of return value, the presence or absence of thrown exceptions, and the method of specifying which element should be deleted: <br><img src="https://habrastorage.org/web/52e/b4d/075/52eb4d07565e444e966ebeb652dd8202.jpg"><br>  Consider removing an item from a linked list by its value.  Remove the element with a value of 5 from the list below: <br><img src="https://habrastorage.org/web/884/079/b6c/884079b6c6d9434bb0fecbcc0235c269.jpg"><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">numbers</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.remove</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">Integer</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.valueOf</span></span>(5));</code> </pre> <br>  Please note that the accepted value in the <b>remove (object)</b> method is an object, if we try to delete an element with value 5 by the following line <br><pre> <code class="hljs cs">numbers.<span class="hljs-keyword"><span class="hljs-keyword">remove</span></span>(<span class="hljs-number"><span class="hljs-number">5</span></span>);</code> </pre> <br>  then we get an <i>IndexOutOfBoundsException</i> , since  The compiler will take the number 5 as an index and call the <b>remove (index)</b> method. <br><br>  So, what happens when you call the <b>remove (object)</b> method?  First, the desired object is compared in order with all the elements stored in the list nodes, starting with the zero node.  When a node is found whose element is equal to the desired object, the first thing the element is stored in a separate variable.  Then the references of neighboring nodes are redefined so that they point to each other: <br><img src="https://habrastorage.org/web/700/fc4/1dd/700fc41dd4fb47f18be9f932639fb2bd.jpg"><br>  Then the value of the node that contains the object to be deleted is reset, and the size of the collection is also reduced: <br><img src="https://habrastorage.org/web/b40/5b7/b4f/b405b7b4fddd4ff6b1a868ae9758944c.jpg"><br>  Now back to the moment that the element from the node to be deleted was stored in memory.  Why did we do this, you ask, if we have not used this data anywhere else?  The fact is that the method we are considering does not return the deleted item as a result of its work, so the data returned by the <b>unlink (node)</b> method called by the <b>remove (object)</b> method was simply not needed.  But when we use the <b>remove (index)</b> method, which also calls the <b>unlink (node)</b> method, the value of this element is successively returned first by the <b>unlink (node)</b> method and then by the <b>remove (index)</b> method.  A similar situation is observed in the other methods that return the value of the deleted element, only other methods are called inside, which detach the link: in the <b>poll ()</b> , <b>pollFirst ()</b> , <b>remove ()</b> and <b>removeFirst ()</b> methods this is the <b>unlinkFirst (node)</b> method, and in the <b>pollLast</b> methods <b>()</b> and <b>removeLast ()</b> - <b>unlinkLast (node)</b> method. <br><br>  So, what should be remembered about <b><i>LinkedList</i></b> , deciding whether to use this collection: <br><br><ul><li>  not synchronized; </li><li>  allows you to store any objects, including <i>null</i> and duplicate; </li><li>  for the constant time <i>O (1)</i> , the operations of inserting and deleting the first and last elements are performed, the operation of inserting and deleting an element from the middle of the list (not taking into account the time of searching for the position of an element that is carried out in linear time); </li><li>  in the linear time <i>O (n)</i> , the operations of searching for an element by index and by value are performed. </li></ul><br><h3>  Links </h3><br>  <a href="">LinkedList</a> Source Code <a href="">(JDK 8)</a> <br>  <a href="https://docs.oracle.com/javase/8/docs/api/java/util/LinkedList.html">LinkedList</a> Documentation </div><p>Source: <a href="https://habr.com/ru/post/337558/">https://habr.com/ru/post/337558/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../337546/index.html">Why don't CRM work</a></li>
<li><a href="../337548/index.html">Kaggle: how our nets considered sea lions in the Aleutian Islands</a></li>
<li><a href="../337550/index.html">Learn OpenGL. Part 2.4. - Texture Cards</a></li>
<li><a href="../337554/index.html">The path of the Jedi. From a small user to an employee of an IT company</a></li>
<li><a href="../337556/index.html">SAMBA File Server Based on Linux CentOS 7</a></li>
<li><a href="../337560/index.html">Why did we do VOD on WebRTC</a></li>
<li><a href="../337564/index.html">Specific use of Redux in Polymer and Vue</a></li>
<li><a href="../337566/index.html">How to resurrect a jaguar for a thousand hours?</a></li>
<li><a href="../337568/index.html">SDAccel - check data transfer</a></li>
<li><a href="../337572/index.html">Open speech recognition problems. Lecture in Yandex</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>