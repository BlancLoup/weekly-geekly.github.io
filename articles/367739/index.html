<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Meet DMMR2</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Having successfully completed the testing of the latest version of iron last Sunday, we hasten to tell readers about the functions and features of our...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Meet DMMR2</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/5d6/a38/0e9/5d6a380e9e514ac487b959493a649471.jpg"><br><br>  Having successfully completed the testing of the latest version of iron last Sunday, we hasten to tell readers about the functions and features of our long-awaited DMMR2 - dimmer in the form factor of a micromodule embedded in a standard wall opening (for a switch) connected to a standard electrical wiring (to a single 220V line break -or alterations), controlled by a standard Wi-Fi-channel (already available in almost all apartments and houses in this country). <br><a name="habracut"></a><br><h1>  Not a very original development story </h1><br>  Many are aware of our history.  It began almost two years ago, on September 8, 2013, from <a href="http://habrahabr.ru/company/coolrf/blog/192926/">the Innovative Dimmer of the Smart Home</a> .  Behind her, we tried to write posts almost every week, slowly gaining prominence in the narrow circles of electronics engineers and connoisseurs of the idea to make your home at least a little smarter. <br><br>  As time went on, the project developed according to the planned scenario.  Due to lack of experience, we systematically collected all sorts of bumps.  It was admitted, it seems, the maximum range of errors.  Including: <br><ul><li>  Incorrect understanding of the scope of development.  The solution on the selected chip provided the basic transport layer.  When it came to the development of a protocol for interaction between devices, it became clear that this was not at all easy and was not implemented at all quickly. </li><li>  Wrong stage design.  We started with electronics without regard to the case for it.  They made a payment with the expectation that ‚Äúwell, and then we will make the case,‚Äù having received as a result a solution for an individual case with a simply unreal price tag for manufacturing.  Plus, it went down with dimensions - the device was poorly placed in a very limited space allocated to the wall. </li><li>  Flirting with the world of OpenSource.  The device turned out quite difficult to repeat.  Its open source did not bring any benefit to the project.  Just wasting time on answering numerous questions "why it works at all" from those who were lazy to read our posts and comments to them from cover to cover. </li></ul><br>  At different times, the project changed the composition of participants.  With new people, we then tried to switch to another main chip (because people knew how to work with it and had no interest in NRF24LE1), then develop other devices - a thermostat for NOBO convectors and leakage protection (because new people will not let them finish someone else‚Äôs development with a bunch of problems).  The result of such a chase for different hares, naturally, turned out to be negative.  And the hares were not caught and their people caught were left with a lost interest. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      At the end of this whole ‚Äúrake road‚Äù, cheap ESP8266-based wireless modules appeared on the market, working on a standard Wi-Fi channel: <a href="http://habrahabr.ru/company/coolrf/blog/235881/">‚ÄúESP8266: A revolution in the world of the Internet of things‚Äù</a> , <a href="http://habrahabr.ru/company/coolrf/blog/238443/">‚ÄúESP8266: What's inside the‚Äú popular wi-fi ‚Äù? "</a> .  It became crystal clear that the decision on the NRF24LE1 does not have any bright commercial future. <br><br>  As a result of rethinking everything "committed", the new product DMMR2 began to emerge.  Based on a fully updated circuit design, in a pretty factory plastic case of more than adequate size, working in WiFi networks using an ESP8266 chip that controls all processes. <br><br>  To date, we have a working hardware prototype in our hands with the simplest firmware, which allows you to control the brightness of the lamp using the slider on a web page.  All the rest we have yet to implement in the software.  And it does not look like some kind of unreal idea.  This post is devoted to the review of the developed functionality. <br><br><h1>  DMMR2 is a convenient dimmer for the Internet of Things. </h1><br><img src="https://habrastorage.org/files/fdc/b88/b1b/fdcb88b1bd7b4f298f6370e0885e9b4c.jpg"><br><br>  So today is our test dimmer.  Below, a debugging module hangs on the loop, which will not be in the final version. <br><br><h2>  Easy installation and setup - some of the most important features </h2><br>  You will need a screwdriver, a pair of WAGO terminal blocks and a sacred knowledge of the location of the electrical panel.  Turn off the electricity, unscrew the switch, remove two power wires from it.  Connect the removed wires to the upper, ‚Äúlamp‚Äù, contacts DMMR2 with the help of terminal blocks.  Connect the bottom, "push-button", wires DMMR2 with a switch.  Put the switch on the old place.  Remove the screwdriver somewhere far away, no longer needed. <br><br>  Turn on the electricity.  Take in hand a smartphone / tablet / laptop, or any other device with Wi-Fi support and a browser.  Connect to the network with the name like "COOLRF_XXXX", open the host "coolrf" in the browser and go to the settings page. <br><br>  On this page, enter the parameters of your home wireless network, the desired host name of the device on your network, for example, ‚Äúwclight‚Äù, save the settings.  The device will reboot, enter your network, its web interface will be available on the selected host name. <br><br><h2>  DMMR2 Functional Features </h2><br><ul><li>  The absence of electrolytic capacitors in the design.  And that means the risk that the device hidden in the wall will suddenly die in a year or two of permanent work. </li><li>  Setup and management - through the built-in web interface with support for multiple languages. </li><li>  Firmware update over the Internet. </li><li>  Control the brightness of both conventional and LED lamps.  The possibility of fine tuning parameters for specific models of lamps. </li><li>  Work in both domestic 220-volt and American 110-volt electrical networks.  The latter will require tuning and debugging at the program level, without changing the hardware. </li><li>  Adjustable lighting control from a local switch connected to the dimmer.  This can be either a normal switch or a button switch. </li><li>  HTTP API support for integration with third-party smart home components. </li><li>  Energy consumption statistics. </li><li>  Control the brightness of a single lamp or a group of lamps through the built-in web interface.  For example, from a smartphone, lying on the couch. </li><li>  Remote control of home lighting from work, from the car and so on.  It is implemented using a central home device based on the Raspberry Pi with forwarding through a home router. </li><li>  Perhaps something else, invented during the development of these features. </li></ul><br><br><h1>  What's next? </h1><br>  Writing firmware code, alpha testing in Yekaterinburg, beta testing in Russia, global expansion.  In parallel, a return to high activity in Habr√© / Heckimes / Megamind.  For regular stories about the progress of the project.  And discussions with interested readers of our development plans. <br><br>  If you are interested in following the dimmer project from Ekaterinburg - do not forget to join <a href="https://vk.com/coolrf">our group VKontakte</a> .  There are published short notes about growing up dimmer, not falling on Habrahabr and Giktayms.  Also, the project ribbon is replete with links to interesting publications on ‚Äúsmart home‚Äù topics. </div><p>Source: <a href="https://habr.com/ru/post/367739/">https://habr.com/ru/post/367739/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../367725/index.html">712 companies in the United States have permission to use drones, one of which is for the delivery of goods</a></li>
<li><a href="../367727/index.html">Japanese scientists have recognized beard useful for health</a></li>
<li><a href="../367731/index.html">Radio-controlled boat on the Arduino and ceiling tile NRF24L01 radio module</a></li>
<li><a href="../367733/index.html">Qualitative quadrocopter for $ 30? Let's look at SYMA X13</a></li>
<li><a href="../367735/index.html">$ 2 per month: energy bills for UK energy efficient home owners</a></li>
<li><a href="../367741/index.html">Large conspiracies quickly unfold</a></li>
<li><a href="../367743/index.html">Tesla Motors has tripled the area of ‚Äã‚Äãland under the "Gigafactory battery"</a></li>
<li><a href="../367745/index.html">We program the GSM module M680 OpenCPU</a></li>
<li><a href="../367747/index.html">IBM Watson Tone Analyzer helps to make communication between people more efficient.</a></li>
<li><a href="../367749/index.html">The UK government is developing laws to legalize robotic vehicles in the country</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>