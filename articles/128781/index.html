<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>CLI on steroids: Google Guice and JCommander</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article I want to talk about one of the ways to build CLI applications in Java. 
 Actually the need for such applications has not disappeared ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>CLI on steroids: Google Guice and JCommander</h1><div class="post__text post__text-html js-mediator-article">  In this article I want to talk about one of the ways to build CLI applications in Java. <br>  Actually the need for such applications has not disappeared anywhere - for example, in my case it was an application for carrying out functional and load testing of the server part.  Of course, there were options in conducting the necessary tests using a set of JUnits, but we were very limited in time and we wanted to get a solution that does not require programming from the testing department.  Moreover, the binary protocol by which the client interacted and the server was clearly specified. <br><br><h4>  Idea </h4><br>  This time I really didn‚Äôt want to reinvent the wheel in creating things that are trivial for a CLI application - parsing input lines, highlighting commands and arguments, validating arguments, executing commands, displaying hints, and the like. <br>  It was decided to look for ready-made components. <br><br>  On Habr√© not so long ago there was an article on <a href="http://habrahabr.ru/blogs/java/123360/">commons-cli</a> .  I didn‚Äôt like commons-cli with my 'wooden' API, but I found out from the comments to the article about several alternatives, including <a href="http://jcommander.org/">JCommander</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      It was he who attracted attention because: <br><ul><li>  Natural support for the pattern <a href="http://en.wikipedia.org/wiki/Command_pattern">Team</a> ; </li><li>  A convenient way to determine call parameters based on annotations; </li><li>  Automatic formation of help for available commands; </li><li>  Good documentation; </li><li>  Is free. </li></ul><br><br><a name="habracut"></a><br>  Since the server part was built using the <a href="http://code.google.com/p/google-guice/">Google Guice</a> framework, it was also advisable to build a CLI client on it, especially since the server with the client had some common dependencies and components. <br><br><h4>  What came of it </h4><br>  Class diagram: <br><br><img src="https://habrastorage.org/storage1/4e40133c/204d51d5/90ff849d/f9e47d28.png"><br><br>  In the diagram: <br>  - <i>CLISupport</i> - tracks console user input and delegates its parsing to JCommander; <br>  - <i>CLIApplication</i> - starts and stops application components in a specific order; <br>  - <i>Command</i> - abstract class Command, the base for all other commands.  The main method is execute; <br>  - <i>CommandXXX</i> - implementation of commands for example; <br>  - <i>JCommanderProvider</i> - implementation of the com.google.inject.Provider interface.  Creates an instance of JCommander for external requests (injections); <br>  - <i>CLIConfigurationModule</i> - configurator components in Guice, the implementation of com.google.inject.AbstractModule. <br><br><h4>  Code examples </h4><br>  <b>CLIConfigurationModule</b> is a Guice configuration module, only it describes all the dependencies and commands available for execution. <br><br> <code><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">class</font> CLIConfigurationModule extends AbstractModule { <br> <br> <font color="#0000ff">protected</font> <font color="#0000ff">void</font> configure() { <br> AnsiConsole.systemInstall(); <br> <br> bind(PrimaryBusinessLogicService. <font color="#0000ff">class</font> ).to(PrimaryBusinessLogicServiceImpl. <font color="#0000ff">class</font> ).asEagerSingleton(); <br> bind(SecondaryBusinessLogicService. <font color="#0000ff">class</font> ).to(SecondaryBusinessLogicServiceImpl. <font color="#0000ff">class</font> ).asEagerSingleton(); <br> bind(CLISupport. <font color="#0000ff">class</font> ).asEagerSingleton(); <br> <br> bind(CLIApplication. <font color="#0000ff">class</font> ).asEagerSingleton(); <br> <br> bind(JCommander. <font color="#0000ff">class</font> ).toProvider(JCommanderProvider. <font color="#0000ff">class</font> ); <br> <br> bind(CommandClearScreen. <font color="#0000ff">class</font> ); <br> bind(CommandExit. <font color="#0000ff">class</font> ); <br> bind(CommandUsage. <font color="#0000ff">class</font> ); <br> bind(CommandPrimary. <font color="#0000ff">class</font> ); <br> bind(CommandSecondary. <font color="#0000ff">class</font> ); <br> } <br> <br> @Provides <br> @Inject <br> <font color="#0000ff">public</font> Collection&lt;Command&gt; provideAvailableCommands(Injector injector) { <br> Collection&lt;Command&gt; commands = <font color="#0000ff">new</font> <font color="#2B91AF">ArrayList</font> &lt;Command&gt;(); <br> commands.add(injector.getInstance(CommandClearScreen. <font color="#0000ff">class</font> )); <br> commands.add(injector.getInstance(CommandExit. <font color="#0000ff">class</font> )); <br> commands.add(injector.getInstance(CommandUsage. <font color="#0000ff">class</font> )); <br> commands.add(injector.getInstance(CommandPrimary. <font color="#0000ff">class</font> )); <br> commands.add(injector.getInstance(CommandSecondary. <font color="#0000ff">class</font> )); <br> <font color="#0000ff">return</font> commands; <br> } <br> } <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> <br></code></code> <blockquote> <code><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">class</font> CLIConfigurationModule extends AbstractModule { <br> <br> <font color="#0000ff">protected</font> <font color="#0000ff">void</font> configure() { <br> AnsiConsole.systemInstall(); <br> <br> bind(PrimaryBusinessLogicService. <font color="#0000ff">class</font> ).to(PrimaryBusinessLogicServiceImpl. <font color="#0000ff">class</font> ).asEagerSingleton(); <br> bind(SecondaryBusinessLogicService. <font color="#0000ff">class</font> ).to(SecondaryBusinessLogicServiceImpl. <font color="#0000ff">class</font> ).asEagerSingleton(); <br> bind(CLISupport. <font color="#0000ff">class</font> ).asEagerSingleton(); <br> <br> bind(CLIApplication. <font color="#0000ff">class</font> ).asEagerSingleton(); <br> <br> bind(JCommander. <font color="#0000ff">class</font> ).toProvider(JCommanderProvider. <font color="#0000ff">class</font> ); <br> <br> bind(CommandClearScreen. <font color="#0000ff">class</font> ); <br> bind(CommandExit. <font color="#0000ff">class</font> ); <br> bind(CommandUsage. <font color="#0000ff">class</font> ); <br> bind(CommandPrimary. <font color="#0000ff">class</font> ); <br> bind(CommandSecondary. <font color="#0000ff">class</font> ); <br> } <br> <br> @Provides <br> @Inject <br> <font color="#0000ff">public</font> Collection&lt;Command&gt; provideAvailableCommands(Injector injector) { <br> Collection&lt;Command&gt; commands = <font color="#0000ff">new</font> <font color="#2B91AF">ArrayList</font> &lt;Command&gt;(); <br> commands.add(injector.getInstance(CommandClearScreen. <font color="#0000ff">class</font> )); <br> commands.add(injector.getInstance(CommandExit. <font color="#0000ff">class</font> )); <br> commands.add(injector.getInstance(CommandUsage. <font color="#0000ff">class</font> )); <br> commands.add(injector.getInstance(CommandPrimary. <font color="#0000ff">class</font> )); <br> commands.add(injector.getInstance(CommandSecondary. <font color="#0000ff">class</font> )); <br> <font color="#0000ff">return</font> commands; <br> } <br> } <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> <br></code></code> </blockquote> <code><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">class</font> CLIConfigurationModule extends AbstractModule { <br> <br> <font color="#0000ff">protected</font> <font color="#0000ff">void</font> configure() { <br> AnsiConsole.systemInstall(); <br> <br> bind(PrimaryBusinessLogicService. <font color="#0000ff">class</font> ).to(PrimaryBusinessLogicServiceImpl. <font color="#0000ff">class</font> ).asEagerSingleton(); <br> bind(SecondaryBusinessLogicService. <font color="#0000ff">class</font> ).to(SecondaryBusinessLogicServiceImpl. <font color="#0000ff">class</font> ).asEagerSingleton(); <br> bind(CLISupport. <font color="#0000ff">class</font> ).asEagerSingleton(); <br> <br> bind(CLIApplication. <font color="#0000ff">class</font> ).asEagerSingleton(); <br> <br> bind(JCommander. <font color="#0000ff">class</font> ).toProvider(JCommanderProvider. <font color="#0000ff">class</font> ); <br> <br> bind(CommandClearScreen. <font color="#0000ff">class</font> ); <br> bind(CommandExit. <font color="#0000ff">class</font> ); <br> bind(CommandUsage. <font color="#0000ff">class</font> ); <br> bind(CommandPrimary. <font color="#0000ff">class</font> ); <br> bind(CommandSecondary. <font color="#0000ff">class</font> ); <br> } <br> <br> @Provides <br> @Inject <br> <font color="#0000ff">public</font> Collection&lt;Command&gt; provideAvailableCommands(Injector injector) { <br> Collection&lt;Command&gt; commands = <font color="#0000ff">new</font> <font color="#2B91AF">ArrayList</font> &lt;Command&gt;(); <br> commands.add(injector.getInstance(CommandClearScreen. <font color="#0000ff">class</font> )); <br> commands.add(injector.getInstance(CommandExit. <font color="#0000ff">class</font> )); <br> commands.add(injector.getInstance(CommandUsage. <font color="#0000ff">class</font> )); <br> commands.add(injector.getInstance(CommandPrimary. <font color="#0000ff">class</font> )); <br> commands.add(injector.getInstance(CommandSecondary. <font color="#0000ff">class</font> )); <br> <font color="#0000ff">return</font> commands; <br> } <br> } <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> <br></code> <br><br>  <b>JCommanderProvider</b> - creates JCommander instances when they are injected / received.  Gets the command collection annotated by <a href="https://habrahabr.ru/users/provides/" class="user_link">Provides</a> in the CLIConfigurationModule class.  The main feature is that before parsing the next team, it is necessary to create a new initialized JCommander instance, since  after parsing, it maintains the state and it can damage and does so with subsequent parsing.  That is why you can not declare JCommander as Singleton / asEagerSingleton. <br><br> <code><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">class</font> JCommanderProvider implements Provider&lt;JCommander&gt; { <br> <br> @Inject <br> <font color="#0000ff">private</font> Collection&lt;Command&gt; commands; <br> <br> <font color="#008000">/**</font> <br> <font color="#008000">* Constructs the new JCommander instance with all commands.</font> <br> <font color="#008000">*</font> <br> <font color="#008000">* @return</font> <br> <font color="#008000">*/</font> <br> <font color="#0000ff">public</font> JCommander <font color="#0000ff">get</font> () { <br> JCommander commander = <font color="#0000ff">new</font> JCommander(); <br> <font color="#0000ff">for</font> (Command command : commands) { <br> addCommand(commander, command); <br> } <br> <font color="#0000ff">return</font> commander; <br> } <br> <br> <font color="#0000ff">private</font> <font color="#0000ff">void</font> addCommand(JCommander commander, Command command) { <br> commander.addCommand(command.getCommandName(), command, command.getAliases()); <br> } <br> } <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code></code> <blockquote> <code><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">class</font> JCommanderProvider implements Provider&lt;JCommander&gt; { <br> <br> @Inject <br> <font color="#0000ff">private</font> Collection&lt;Command&gt; commands; <br> <br> <font color="#008000">/**</font> <br> <font color="#008000">* Constructs the new JCommander instance with all commands.</font> <br> <font color="#008000">*</font> <br> <font color="#008000">* @return</font> <br> <font color="#008000">*/</font> <br> <font color="#0000ff">public</font> JCommander <font color="#0000ff">get</font> () { <br> JCommander commander = <font color="#0000ff">new</font> JCommander(); <br> <font color="#0000ff">for</font> (Command command : commands) { <br> addCommand(commander, command); <br> } <br> <font color="#0000ff">return</font> commander; <br> } <br> <br> <font color="#0000ff">private</font> <font color="#0000ff">void</font> addCommand(JCommander commander, Command command) { <br> commander.addCommand(command.getCommandName(), command, command.getAliases()); <br> } <br> } <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code></code> </blockquote> <br><br>  <b>Command</b> is the base class for all commands.  The main method is execute.  The name of the command is indicated in the annotation javax.inject.Named - I considered this a rather elegant solution, since the dependency on javax.inject appears when using Guice and logically this annotation is very appropriate.  In addition to the main name, it is possible to define an array of aliases (aliases) - for example, the 'exit' command can have aliases 'q' and 'x'.  Further, the getCommandName and getAliases methods are used when registering a command with JCommander (see the addCommand method in JCommanderProvider). <br><br> <code><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> Command { <br> <br> <font color="#0000ff">private</font> <font color="#0000ff">static</font> final <font color="#2B91AF">String</font> [] NO_ALIASES = <font color="#0000ff">new</font> <font color="#2B91AF">String</font> []{}; <br> <br> <font color="#0000ff">protected</font> Logger logger; <br> <font color="#0000ff">private</font> <font color="#2B91AF">String</font> commandName; <br> <br> <font color="#0000ff">protected</font> Command() { <br> logger = LoggerFactory.getLogger(getClass()); <br> commandName = getClass().getAnnotation(Named. <font color="#0000ff">class</font> ). <font color="#0000ff">value</font> (); <br> } <br> <br> <font color="#0000ff">public</font> <font color="#2B91AF">String</font> [] getAliases() { <br> <font color="#0000ff">return</font> NO_ALIASES; <br> } <br> <br> <font color="#0000ff">public</font> final <font color="#2B91AF">String</font> getCommandName() { <br> <font color="#0000ff">return</font> commandName; <br> } <br> <br> <font color="#0000ff">public</font> <font color="#0000ff">abstract</font> <font color="#0000ff">void</font> execute() throws ExecutionException; <br> } <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> <br></code></code> <blockquote> <code><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> Command { <br> <br> <font color="#0000ff">private</font> <font color="#0000ff">static</font> final <font color="#2B91AF">String</font> [] NO_ALIASES = <font color="#0000ff">new</font> <font color="#2B91AF">String</font> []{}; <br> <br> <font color="#0000ff">protected</font> Logger logger; <br> <font color="#0000ff">private</font> <font color="#2B91AF">String</font> commandName; <br> <br> <font color="#0000ff">protected</font> Command() { <br> logger = LoggerFactory.getLogger(getClass()); <br> commandName = getClass().getAnnotation(Named. <font color="#0000ff">class</font> ). <font color="#0000ff">value</font> (); <br> } <br> <br> <font color="#0000ff">public</font> <font color="#2B91AF">String</font> [] getAliases() { <br> <font color="#0000ff">return</font> NO_ALIASES; <br> } <br> <br> <font color="#0000ff">public</font> final <font color="#2B91AF">String</font> getCommandName() { <br> <font color="#0000ff">return</font> commandName; <br> } <br> <br> <font color="#0000ff">public</font> <font color="#0000ff">abstract</font> <font color="#0000ff">void</font> execute() throws ExecutionException; <br> } <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> <br></code></code> </blockquote> <code><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">abstract</font> <font color="#0000ff">class</font> Command { <br> <br> <font color="#0000ff">private</font> <font color="#0000ff">static</font> final <font color="#2B91AF">String</font> [] NO_ALIASES = <font color="#0000ff">new</font> <font color="#2B91AF">String</font> []{}; <br> <br> <font color="#0000ff">protected</font> Logger logger; <br> <font color="#0000ff">private</font> <font color="#2B91AF">String</font> commandName; <br> <br> <font color="#0000ff">protected</font> Command() { <br> logger = LoggerFactory.getLogger(getClass()); <br> commandName = getClass().getAnnotation(Named. <font color="#0000ff">class</font> ). <font color="#0000ff">value</font> (); <br> } <br> <br> <font color="#0000ff">public</font> <font color="#2B91AF">String</font> [] getAliases() { <br> <font color="#0000ff">return</font> NO_ALIASES; <br> } <br> <br> <font color="#0000ff">public</font> final <font color="#2B91AF">String</font> getCommandName() { <br> <font color="#0000ff">return</font> commandName; <br> } <br> <br> <font color="#0000ff">public</font> <font color="#0000ff">abstract</font> <font color="#0000ff">void</font> execute() throws ExecutionException; <br> } <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> <br></code> <br><br>  <b>CommandPrimary</b> is an example of a real command with business logic service calls.  What is specified in the @Parameters annotation will be used when forming the description for this command (see CommandUsage command). <br><br> <code><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">@Parameters(commandDescription = <font color="#A31515">"Execute the logic of primary service"</font> ) <br> @Named( <font color="#A31515">"do-primary"</font> ) <br> <font color="#0000ff">public</font> <font color="#0000ff">class</font> CommandPrimary extends Command { <br> <br> @Parameter(names = { <font color="#A31515">"-verbose"</font> , <font color="#A31515">"-v"</font> }, description = <font color="#A31515">"Verbose mode"</font> ) <br> <font color="#0000ff">protected</font> boolean verbose; <br> <br> @Parameter(names = { <font color="#A31515">"-id"</font> }, description = <font color="#A31515">"Entity ID"</font> , required = <font color="#0000ff">true</font> ) <br> <font color="#0000ff">protected</font> <font color="#2B91AF">String</font> id; <br> <br> @Parameter(names = { <font color="#A31515">"-count"</font> , <font color="#A31515">"-c"</font> }, validateWith = PositiveInteger. <font color="#0000ff">class</font> , description = <font color="#A31515">"Entities count"</font> , required = <font color="#0000ff">true</font> ) <br> <font color="#0000ff">protected</font> <font color="#0000ff">long</font> count; <br> <br> <font color="#0000ff">private</font> PrimaryBusinessLogicService primaryBusinessLogicService; <br> <br> @Inject <br> <font color="#0000ff">public</font> CommandPrimary(PrimaryBusinessLogicService primaryBusinessLogicService) { <br> <font color="#0000ff">this</font> .primaryBusinessLogicService = primaryBusinessLogicService; <br> } <br> <br> @Override <br> <font color="#0000ff">public</font> <font color="#2B91AF">String</font> [] getAliases() { <br> <font color="#0000ff">return</font> <font color="#0000ff">new</font> <font color="#2B91AF">String</font> []{ <font color="#A31515">"dp"</font> , <font color="#A31515">"primary"</font> }; <br> } <br> <br> @Override <br> <font color="#0000ff">public</font> <font color="#0000ff">void</font> execute() throws ExecutionException { <br> <font color="#0000ff">try</font> { <br> <font color="#0000ff">if</font> (verbose) { <br> logger.info( <font color="#2B91AF">String</font> .format( <font color="#A31515">"Executing primary business logic with parameters: [count=%d, id=%s]"</font> , count, id)); <br> } <br> <br> primaryBusinessLogicService.executePrimaryBusinessLogic(count, id); <br> } <font color="#0000ff">catch</font> (ServiceException e) { <br> <font color="#0000ff">throw</font> <font color="#0000ff">new</font> ExecutionException(e); <br> } <br> } <br> } <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> <br></code></code> <blockquote> <code><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">@Parameters(commandDescription = <font color="#A31515">"Execute the logic of primary service"</font> ) <br> @Named( <font color="#A31515">"do-primary"</font> ) <br> <font color="#0000ff">public</font> <font color="#0000ff">class</font> CommandPrimary extends Command { <br> <br> @Parameter(names = { <font color="#A31515">"-verbose"</font> , <font color="#A31515">"-v"</font> }, description = <font color="#A31515">"Verbose mode"</font> ) <br> <font color="#0000ff">protected</font> boolean verbose; <br> <br> @Parameter(names = { <font color="#A31515">"-id"</font> }, description = <font color="#A31515">"Entity ID"</font> , required = <font color="#0000ff">true</font> ) <br> <font color="#0000ff">protected</font> <font color="#2B91AF">String</font> id; <br> <br> @Parameter(names = { <font color="#A31515">"-count"</font> , <font color="#A31515">"-c"</font> }, validateWith = PositiveInteger. <font color="#0000ff">class</font> , description = <font color="#A31515">"Entities count"</font> , required = <font color="#0000ff">true</font> ) <br> <font color="#0000ff">protected</font> <font color="#0000ff">long</font> count; <br> <br> <font color="#0000ff">private</font> PrimaryBusinessLogicService primaryBusinessLogicService; <br> <br> @Inject <br> <font color="#0000ff">public</font> CommandPrimary(PrimaryBusinessLogicService primaryBusinessLogicService) { <br> <font color="#0000ff">this</font> .primaryBusinessLogicService = primaryBusinessLogicService; <br> } <br> <br> @Override <br> <font color="#0000ff">public</font> <font color="#2B91AF">String</font> [] getAliases() { <br> <font color="#0000ff">return</font> <font color="#0000ff">new</font> <font color="#2B91AF">String</font> []{ <font color="#A31515">"dp"</font> , <font color="#A31515">"primary"</font> }; <br> } <br> <br> @Override <br> <font color="#0000ff">public</font> <font color="#0000ff">void</font> execute() throws ExecutionException { <br> <font color="#0000ff">try</font> { <br> <font color="#0000ff">if</font> (verbose) { <br> logger.info( <font color="#2B91AF">String</font> .format( <font color="#A31515">"Executing primary business logic with parameters: [count=%d, id=%s]"</font> , count, id)); <br> } <br> <br> primaryBusinessLogicService.executePrimaryBusinessLogic(count, id); <br> } <font color="#0000ff">catch</font> (ServiceException e) { <br> <font color="#0000ff">throw</font> <font color="#0000ff">new</font> ExecutionException(e); <br> } <br> } <br> } <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> <br></code></code> </blockquote> <code><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">@Parameters(commandDescription = <font color="#A31515">"Execute the logic of primary service"</font> ) <br> @Named( <font color="#A31515">"do-primary"</font> ) <br> <font color="#0000ff">public</font> <font color="#0000ff">class</font> CommandPrimary extends Command { <br> <br> @Parameter(names = { <font color="#A31515">"-verbose"</font> , <font color="#A31515">"-v"</font> }, description = <font color="#A31515">"Verbose mode"</font> ) <br> <font color="#0000ff">protected</font> boolean verbose; <br> <br> @Parameter(names = { <font color="#A31515">"-id"</font> }, description = <font color="#A31515">"Entity ID"</font> , required = <font color="#0000ff">true</font> ) <br> <font color="#0000ff">protected</font> <font color="#2B91AF">String</font> id; <br> <br> @Parameter(names = { <font color="#A31515">"-count"</font> , <font color="#A31515">"-c"</font> }, validateWith = PositiveInteger. <font color="#0000ff">class</font> , description = <font color="#A31515">"Entities count"</font> , required = <font color="#0000ff">true</font> ) <br> <font color="#0000ff">protected</font> <font color="#0000ff">long</font> count; <br> <br> <font color="#0000ff">private</font> PrimaryBusinessLogicService primaryBusinessLogicService; <br> <br> @Inject <br> <font color="#0000ff">public</font> CommandPrimary(PrimaryBusinessLogicService primaryBusinessLogicService) { <br> <font color="#0000ff">this</font> .primaryBusinessLogicService = primaryBusinessLogicService; <br> } <br> <br> @Override <br> <font color="#0000ff">public</font> <font color="#2B91AF">String</font> [] getAliases() { <br> <font color="#0000ff">return</font> <font color="#0000ff">new</font> <font color="#2B91AF">String</font> []{ <font color="#A31515">"dp"</font> , <font color="#A31515">"primary"</font> }; <br> } <br> <br> @Override <br> <font color="#0000ff">public</font> <font color="#0000ff">void</font> execute() throws ExecutionException { <br> <font color="#0000ff">try</font> { <br> <font color="#0000ff">if</font> (verbose) { <br> logger.info( <font color="#2B91AF">String</font> .format( <font color="#A31515">"Executing primary business logic with parameters: [count=%d, id=%s]"</font> , count, id)); <br> } <br> <br> primaryBusinessLogicService.executePrimaryBusinessLogic(count, id); <br> } <font color="#0000ff">catch</font> (ServiceException e) { <br> <font color="#0000ff">throw</font> <font color="#0000ff">new</font> ExecutionException(e); <br> } <br> } <br> } <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> <br></code> <br><br>  <b>Dependencies in the project</b> <br> <code><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">properties</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version.jcommander</font> <font color="#0000ff">&gt;</font> 1.18 <font color="#0000ff">&lt;/</font> <font color="#800000">version.jcommander</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version.jansi</font> <font color="#0000ff">&gt;</font> 1.6 <font color="#0000ff">&lt;/</font> <font color="#800000">version.jansi</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version.commons-io</font> <font color="#0000ff">&gt;</font> 2.0.1 <font color="#0000ff">&lt;/</font> <font color="#800000">version.commons-io</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version.jline</font> <font color="#0000ff">&gt;</font> 0.9.94 <font color="#0000ff">&lt;/</font> <font color="#800000">version.jline</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version.guice</font> <font color="#0000ff">&gt;</font> 3.0 <font color="#0000ff">&lt;/</font> <font color="#800000">version.guice</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version.logback</font> <font color="#0000ff">&gt;</font> 0.9.29 <font color="#0000ff">&lt;/</font> <font color="#800000">version.logback</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version.slf4j</font> <font color="#0000ff">&gt;</font> 1.6.2 <font color="#0000ff">&lt;/</font> <font color="#800000">version.slf4j</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version.commons-lang</font> <font color="#0000ff">&gt;</font> 3.0.1 <font color="#0000ff">&lt;/</font> <font color="#800000">version.commons-lang</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version.maven-compiler-plugin</font> <font color="#0000ff">&gt;</font> 2.3.2 <font color="#0000ff">&lt;/</font> <font color="#800000">version.maven-compiler-plugin</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version.maven-jar-plugin</font> <font color="#0000ff">&gt;</font> 2.3.2 <font color="#0000ff">&lt;/</font> <font color="#800000">version.maven-jar-plugin</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version.maven-surefire-plugin</font> <font color="#0000ff">&gt;</font> 2.9 <font color="#0000ff">&lt;/</font> <font color="#800000">version.maven-surefire-plugin</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version.onejar-maven-plugin</font> <font color="#0000ff">&gt;</font> 1.4.4 <font color="#0000ff">&lt;/</font> <font color="#800000">version.onejar-maven-plugin</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version.maven-assembly-plugin</font> <font color="#0000ff">&gt;</font> 2.2.1 <font color="#0000ff">&lt;/</font> <font color="#800000">version.maven-assembly-plugin</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">properties</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">dependencies</font> <font color="#0000ff">&gt;</font> <br> <br> <font>&lt;!-- Logging --&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> ch.qos.logback <font color="#0000ff">&lt;/</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> logback-classic <font color="#0000ff">&lt;/</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> ${version.logback} <font color="#0000ff">&lt;/</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> ch.qos.logback <font color="#0000ff">&lt;/</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> logback-core <font color="#0000ff">&lt;/</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> ${version.logback} <font color="#0000ff">&lt;/</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> org.slf4j <font color="#0000ff">&lt;/</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> slf4j-api <font color="#0000ff">&lt;/</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> ${version.slf4j} <font color="#0000ff">&lt;/</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <br> <font>&lt;!-- Google Stuff --&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> com.google.inject <font color="#0000ff">&lt;/</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> guice <font color="#0000ff">&lt;/</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> ${version.guice} <font color="#0000ff">&lt;/</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <br> <font>&lt;!--External Stuff--&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> commons-io <font color="#0000ff">&lt;/</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> commons-io <font color="#0000ff">&lt;/</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> ${version.commons-io} <font color="#0000ff">&lt;/</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> org.fusesource.jansi <font color="#0000ff">&lt;/</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> jansi <font color="#0000ff">&lt;/</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> ${version.jansi} <font color="#0000ff">&lt;/</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> com.beust <font color="#0000ff">&lt;/</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> jcommander <font color="#0000ff">&lt;/</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> ${version.jcommander} <font color="#0000ff">&lt;/</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> jline <font color="#0000ff">&lt;/</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> jline <font color="#0000ff">&lt;/</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> ${version.jline} <font color="#0000ff">&lt;/</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> org.apache.commons <font color="#0000ff">&lt;/</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> commons-lang3 <font color="#0000ff">&lt;/</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> ${version.commons-lang} <font color="#0000ff">&lt;/</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">dependencies</font> <font color="#0000ff">&gt;</font> <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> <br></code></code> <blockquote> <code><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">properties</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version.jcommander</font> <font color="#0000ff">&gt;</font> 1.18 <font color="#0000ff">&lt;/</font> <font color="#800000">version.jcommander</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version.jansi</font> <font color="#0000ff">&gt;</font> 1.6 <font color="#0000ff">&lt;/</font> <font color="#800000">version.jansi</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version.commons-io</font> <font color="#0000ff">&gt;</font> 2.0.1 <font color="#0000ff">&lt;/</font> <font color="#800000">version.commons-io</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version.jline</font> <font color="#0000ff">&gt;</font> 0.9.94 <font color="#0000ff">&lt;/</font> <font color="#800000">version.jline</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version.guice</font> <font color="#0000ff">&gt;</font> 3.0 <font color="#0000ff">&lt;/</font> <font color="#800000">version.guice</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version.logback</font> <font color="#0000ff">&gt;</font> 0.9.29 <font color="#0000ff">&lt;/</font> <font color="#800000">version.logback</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version.slf4j</font> <font color="#0000ff">&gt;</font> 1.6.2 <font color="#0000ff">&lt;/</font> <font color="#800000">version.slf4j</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version.commons-lang</font> <font color="#0000ff">&gt;</font> 3.0.1 <font color="#0000ff">&lt;/</font> <font color="#800000">version.commons-lang</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version.maven-compiler-plugin</font> <font color="#0000ff">&gt;</font> 2.3.2 <font color="#0000ff">&lt;/</font> <font color="#800000">version.maven-compiler-plugin</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version.maven-jar-plugin</font> <font color="#0000ff">&gt;</font> 2.3.2 <font color="#0000ff">&lt;/</font> <font color="#800000">version.maven-jar-plugin</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version.maven-surefire-plugin</font> <font color="#0000ff">&gt;</font> 2.9 <font color="#0000ff">&lt;/</font> <font color="#800000">version.maven-surefire-plugin</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version.onejar-maven-plugin</font> <font color="#0000ff">&gt;</font> 1.4.4 <font color="#0000ff">&lt;/</font> <font color="#800000">version.onejar-maven-plugin</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version.maven-assembly-plugin</font> <font color="#0000ff">&gt;</font> 2.2.1 <font color="#0000ff">&lt;/</font> <font color="#800000">version.maven-assembly-plugin</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">properties</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">dependencies</font> <font color="#0000ff">&gt;</font> <br> <br> <font>&lt;!-- Logging --&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> ch.qos.logback <font color="#0000ff">&lt;/</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> logback-classic <font color="#0000ff">&lt;/</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> ${version.logback} <font color="#0000ff">&lt;/</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> ch.qos.logback <font color="#0000ff">&lt;/</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> logback-core <font color="#0000ff">&lt;/</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> ${version.logback} <font color="#0000ff">&lt;/</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> org.slf4j <font color="#0000ff">&lt;/</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> slf4j-api <font color="#0000ff">&lt;/</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> ${version.slf4j} <font color="#0000ff">&lt;/</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <br> <font>&lt;!-- Google Stuff --&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> com.google.inject <font color="#0000ff">&lt;/</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> guice <font color="#0000ff">&lt;/</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> ${version.guice} <font color="#0000ff">&lt;/</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <br> <font>&lt;!--External Stuff--&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> commons-io <font color="#0000ff">&lt;/</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> commons-io <font color="#0000ff">&lt;/</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> ${version.commons-io} <font color="#0000ff">&lt;/</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> org.fusesource.jansi <font color="#0000ff">&lt;/</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> jansi <font color="#0000ff">&lt;/</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> ${version.jansi} <font color="#0000ff">&lt;/</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> com.beust <font color="#0000ff">&lt;/</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> jcommander <font color="#0000ff">&lt;/</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> ${version.jcommander} <font color="#0000ff">&lt;/</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> jline <font color="#0000ff">&lt;/</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> jline <font color="#0000ff">&lt;/</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> ${version.jline} <font color="#0000ff">&lt;/</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> org.apache.commons <font color="#0000ff">&lt;/</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> commons-lang3 <font color="#0000ff">&lt;/</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> ${version.commons-lang} <font color="#0000ff">&lt;/</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">dependencies</font> <font color="#0000ff">&gt;</font> <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> <br></code></code> </blockquote> <code><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">properties</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version.jcommander</font> <font color="#0000ff">&gt;</font> 1.18 <font color="#0000ff">&lt;/</font> <font color="#800000">version.jcommander</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version.jansi</font> <font color="#0000ff">&gt;</font> 1.6 <font color="#0000ff">&lt;/</font> <font color="#800000">version.jansi</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version.commons-io</font> <font color="#0000ff">&gt;</font> 2.0.1 <font color="#0000ff">&lt;/</font> <font color="#800000">version.commons-io</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version.jline</font> <font color="#0000ff">&gt;</font> 0.9.94 <font color="#0000ff">&lt;/</font> <font color="#800000">version.jline</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version.guice</font> <font color="#0000ff">&gt;</font> 3.0 <font color="#0000ff">&lt;/</font> <font color="#800000">version.guice</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version.logback</font> <font color="#0000ff">&gt;</font> 0.9.29 <font color="#0000ff">&lt;/</font> <font color="#800000">version.logback</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version.slf4j</font> <font color="#0000ff">&gt;</font> 1.6.2 <font color="#0000ff">&lt;/</font> <font color="#800000">version.slf4j</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version.commons-lang</font> <font color="#0000ff">&gt;</font> 3.0.1 <font color="#0000ff">&lt;/</font> <font color="#800000">version.commons-lang</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version.maven-compiler-plugin</font> <font color="#0000ff">&gt;</font> 2.3.2 <font color="#0000ff">&lt;/</font> <font color="#800000">version.maven-compiler-plugin</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version.maven-jar-plugin</font> <font color="#0000ff">&gt;</font> 2.3.2 <font color="#0000ff">&lt;/</font> <font color="#800000">version.maven-jar-plugin</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version.maven-surefire-plugin</font> <font color="#0000ff">&gt;</font> 2.9 <font color="#0000ff">&lt;/</font> <font color="#800000">version.maven-surefire-plugin</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version.onejar-maven-plugin</font> <font color="#0000ff">&gt;</font> 1.4.4 <font color="#0000ff">&lt;/</font> <font color="#800000">version.onejar-maven-plugin</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version.maven-assembly-plugin</font> <font color="#0000ff">&gt;</font> 2.2.1 <font color="#0000ff">&lt;/</font> <font color="#800000">version.maven-assembly-plugin</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">properties</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">dependencies</font> <font color="#0000ff">&gt;</font> <br> <br> <font>&lt;!-- Logging --&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> ch.qos.logback <font color="#0000ff">&lt;/</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> logback-classic <font color="#0000ff">&lt;/</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> ${version.logback} <font color="#0000ff">&lt;/</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> ch.qos.logback <font color="#0000ff">&lt;/</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> logback-core <font color="#0000ff">&lt;/</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> ${version.logback} <font color="#0000ff">&lt;/</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> org.slf4j <font color="#0000ff">&lt;/</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> slf4j-api <font color="#0000ff">&lt;/</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> ${version.slf4j} <font color="#0000ff">&lt;/</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <br> <font>&lt;!-- Google Stuff --&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> com.google.inject <font color="#0000ff">&lt;/</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> guice <font color="#0000ff">&lt;/</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> ${version.guice} <font color="#0000ff">&lt;/</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <br> <font>&lt;!--External Stuff--&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> commons-io <font color="#0000ff">&lt;/</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> commons-io <font color="#0000ff">&lt;/</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> ${version.commons-io} <font color="#0000ff">&lt;/</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> org.fusesource.jansi <font color="#0000ff">&lt;/</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> jansi <font color="#0000ff">&lt;/</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> ${version.jansi} <font color="#0000ff">&lt;/</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> com.beust <font color="#0000ff">&lt;/</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> jcommander <font color="#0000ff">&lt;/</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> ${version.jcommander} <font color="#0000ff">&lt;/</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> jline <font color="#0000ff">&lt;/</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> jline <font color="#0000ff">&lt;/</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> ${version.jline} <font color="#0000ff">&lt;/</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> org.apache.commons <font color="#0000ff">&lt;/</font> <font color="#800000">groupId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> commons-lang3 <font color="#0000ff">&lt;/</font> <font color="#800000">artifactId</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> ${version.commons-lang} <font color="#0000ff">&lt;/</font> <font color="#800000">version</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">dependency</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">dependencies</font> <font color="#0000ff">&gt;</font> <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> <br></code> <br><br><h4>  Explanation of libraries </h4><br>  <b>jansi</b> - <a href="http://jansi.fusesource.org/">library site</a> .  For old school fans of pseudographics, there was a desire to diversify the output into the console and add a little joy to the work of testers.  Something has been done - a color conclusion and a farewell phrase 'Good bye!'  when exiting in white.  Exclusively from the small amount of free time that appeared at the end of the project. <br>  <b>logback</b> - <a href="http://logback.qos.ch/">library site</a> .  Using this particular implementation of logging is not necessary, however, it is worth noting the main positive qualities of logback - high performance, rereading settings on the fly, configuration via JMX, support for parameterization and include, and much more.  In general, Logback deserves a separate article. <br>  <b>jline</b> - <a href="http://jline.sourceforge.net/">library site</a> .  Solves the problem of navigating the previously entered commands with the Up / Down keys (see below), plus the command completion functionality (try typing, for example, 'do-p' and pressing the Tab key).  Ideally, you can implement auto-completion of not only commands, but also their arguments, and with reference to the context. <br><br><h4>  Problems encountered </h4><br>  Under Linux, users noted the incorrect operation of the Up / Down arrows - instead of navigating through the list of previously executed commands, incomprehensible pseudo-sequences were output.  This problem led to the use of the <a href="http://jline.sourceforge.net/">jline</a> library. <br>  Otherwise, everything works well and smoothly. <br><br><h4>  Source </h4><br>  All source code for the article is available <a href="https://github.com/lampsound/jcommander-guice">here</a> . <br>  To build the application, you will need Maven version 2.x installed, after that - 'mvn package'. <br>  As a result of the assembly, the jcommander-guice-sample-XXX-client.tar.gz archive will be made.  It should be unpacked and run the appropriate shell script for your OS - run.sh or run.bat. <br><br>  The results of the work look like this: <br><img src="https://habrastorage.org/storage1/c62afac4/3089b7b0/0bbd713c/0569a1aa.png"><br><br>  I hope the article will be useful to someone. <br>  Thank you all for your attention! </div><p>Source: <a href="https://habr.com/ru/post/128781/">https://habr.com/ru/post/128781/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../128775/index.html">Samsung Galaxy Tab 10.1 - how to disassemble the tablet and what it consists of</a></li>
<li><a href="../128776/index.html">Over 270 video reports from BUILD conference are available.</a></li>
<li><a href="../128777/index.html">Is your ICQ UIN running on another computer? Keep communicating on this!</a></li>
<li><a href="../128778/index.html">Energy efficient synergy</a></li>
<li><a href="../128780/index.html">Using voice recognition technology in the VK application Offline</a></li>
<li><a href="../128782/index.html">Deferred charging of international roaming bills, is it legal?</a></li>
<li><a href="../128784/index.html">Network website and server diagnostics</a></li>
<li><a href="../128785/index.html">Silicon Valley comes to startups Russia</a></li>
<li><a href="../128786/index.html">Principles from retail in IT project management</a></li>
<li><a href="../128787/index.html">Segment tree</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>