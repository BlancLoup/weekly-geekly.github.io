<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Security system, smart home project (part 1)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Many wanted to protect their apartment from being hacked, because the majority of the systems on the market are unlikely to be affordable for many. Ho...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Security system, smart home project (part 1)</h1><div class="post__text post__text-html js-mediator-article"><img align="left" src="https://habrastorage.org/getpro/geektimes/post_images/037/a84/2a2/037a842a24060c439cdecaae5459d1bd.jpg" alt="image">  Many wanted to protect their apartment from being hacked, because the majority of the systems on the market are unlikely to be affordable for many.  However, having experience and knowledge in electronics and microprocessor technology, this can be done easily by yourself.  Below we will explain how you can make an ‚Äúintelligent‚Äù security loop out of the available and inexpensive tools with the ability to display data on a computer, tablet or phone with an operating system.  <a href="http://habrahabr.ru/blogs/DIY/124446/">2nd part</a> . <a name="habracut"></a><br><br><h5>  Task setting and selection of elements for the security system </h5><br>  The security system can be divided into two blocks: the control panel (control panel) and security loop (OSH).  Moreover, the control panel provides power to security loops, receiving messages from sensors located on the loop, processing the received information, generating alarm messages and transmitting them further.  The main task of security loops is the connection of sensors or detectors and connection to the control panel, and from 1 to N sensors can be located on one loop and is primarily related to which sensors on the cable are digital or analog, if digital, which interface is used for information exchange with the control panel.  In our case, there was a goal of developing an inexpensive security device, which means that an analog cable was chosen for prototyping (before the explanation, it is better to view the picture below). <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/geektimes/post_images/6e1/a86/f2d/6e1a86f2d27cc6f927de19c2aa8930c6.jpg" alt="image"></div><br>  As can be seen from the picture, a resistor with a certain resistance is connected in parallel to each analog sensor.  The sensors can be used: infrared motion detector, glass break sensor, door opening sensor.  As can be seen from the above, on one loop, with the correct processing of incoming information, you can protect the entire apartment from hacking.  To do this, and to test the performance of the loop in the prototype, simple switches were used, which simulate these sensors. <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/geektimes/post_images/99f/0eb/af6/99f0ebaf65588c61d18b9686750d897c.jpg" alt="image"></div><br>  An example of the layout of the loop using switches <br><br>  The readings were also taken from the terminal resistor, and thanks to the construction of a loop using this principle, we were able to know which switch worked exactly.  After all, when closing certain switches, on which different resistances of resistors are suspended, on the terminal resistor there will always be a different value of the voltage drop ranging from supply voltage to zero. <br>  The voltage taken from the terminal resistor is an analog value, then we need an analog-to-digital converter (ADC) to process the received data for further processing of information in the processor.  Based on the above, a C8051F310 processor with an integrated 10-bit ADC was selected.  A block diagram of the resulting system is presented below. <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/geektimes/post_images/ff4/c6a/f02/ff4c6af02ca9e25b2ddfe05edaafc697.jpg" alt="image"></div><br>  And since there was a need to visualize the received information on a computer, RS232 was chosen for the communication interface, for its popularity and ‚Äúchew‚Äù (in almost any forum of radio amateurs and a programmer you can find recommendations for using it).  Based on this, the MAX202 chip was chosen to support this interface. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  Development environments </h5><br>  When creating a prototype, it became necessary to write programs for both the processor (lower level) and the computer (upper level). <br>  The lower level was developed in the Keil 4 environment, designed for the 8051 family of controllers and incorporating the C compiler. UART interface unit to the computer, which completely repeats the functions of the control panel. <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/geektimes/post_images/30e/7c7/c7a/30e7c7c7a741843ba0929938db92dd73.jpg" alt="image"></div><br>  Controller programming <br><br>  The top level was developed in the Borland Builder 6 C ++ environment.  The written program performs the following functions: decryption of the received code from the microprocessor, visualization of information on the screen. <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/geektimes/post_images/7f6/2ee/d2b/7f62eed2bd30a7551a9959413d277301.jpg" alt="image"></div><br>  Program window <br>  Program codes can be found on <a href="http://ondevices.ru/kickstarter/smart-room/smart-room.html">the project page</a> . <br><br><h5>  Mockup sample </h5><br>  After debugging, the layout of the apartment and the connected system was made.  The results are shown below. <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/geektimes/post_images/ce0/a3e/84b/ce0a3e84ba290029cbd9744db85717b6.jpg" alt="image"></div><br>  All switches are turned off, information on the computer is displayed as the norm for all sensors. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/geektimes/post_images/d98/56b/e73/d9856be7385f182044fe1b95720084a9.jpg" alt="image"></div><br>  Switch number 3 is on, information on the computer is displayed as a threat to the third sensor <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/geektimes/post_images/79f/f28/ecf/79ff28ecfd044e694bf78e30ab4624a2.jpg" alt="image"></div><br>  Switches No. 2, No. 3 are on, information on the computer is displayed as a threat to the second and third sensors. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/geektimes/post_images/fa2/cae/5fa/fa2cae5fae523c5a14c52873670e3ada.jpg" alt="image"></div><br>  Switches No. 1-3 are turned on, information on the computer is displayed as a threat to all sensors. <br><br><h5>  Results and development plans </h5><br>  During the prototyping, it was worked out: reception and decoding of signals received from analog sensors and transmission and display of information to a computer.  In the future, information from the controller will be available remotely (data transmission via the Internet), as well as control (switching the system on and off) and receiving reports via our own twitter account. <br><br>  <a href="http://habrahabr.ru/blogs/DIY/124446/">2nd part</a> . </div><p>Source: <a href="https://habr.com/ru/post/122015/">https://habr.com/ru/post/122015/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../122010/index.html">We collect the home server in the case of a shoe box</a></li>
<li><a href="../122011/index.html">OpenStreetMap News ‚Ññ6</a></li>
<li><a href="../122012/index.html">Thinking article about entering the site without a password</a></li>
<li><a href="../122013/index.html">Collecting statistics for viewing posts in LJ / LI</a></li>
<li><a href="../122014/index.html">Afisha and Rambler will invest in startups through Rambler-Fund</a></li>
<li><a href="../122017/index.html">Google Analytics: Improvements in the Map Overlay report</a></li>
<li><a href="../122018/index.html">10 reasons why we switched to PyCharm</a></li>
<li><a href="../122019/index.html">Google Docs developers share future plans</a></li>
<li><a href="../122020/index.html">Spaces - the main enemy of Linux</a></li>
<li><a href="../122021/index.html">School of data analysis Yandex: graduation again</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>