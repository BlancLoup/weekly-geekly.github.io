<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Corporate proxy bypass</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="At a certain point in the development of any company, it comes to the realization that it is necessary to control the working hours of its employees. ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Corporate proxy bypass</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/geektimes/post_images/82f/cb2/af6/82fcb2af65cde79a812cd0f0bfb14a6f.jpg" alt="httpTunnelScheme" align="left"><br>  At a certain point in the development of any company, it comes to the realization that it is necessary to control the working hours of its employees.  Unfortunately, many of them choose the wrong method - closing access to certain resources on a corporate proxy.  It can be as icq, and many other resources that contain the "wrong words".  But very often, icq, lj and other resources with ‚Äúwrong words‚Äù are required for work, but the employer does not understand this.  Do you have a lot of customers who contact you only through icq?  Looking for answers to your questions, do you come across a solution in lj and twitter that are closed?  What to do? <br><a name="habracut"></a><br><br>  Of course, there are many webproxy, which can open you a closed page, but what to do with ICQ?  And is it possible to automate this process somehow?  Yes you can. <br><br>  To solve the problem, we need an external server.  In his role can act as a home computer under * nix, and a simple vds.  To our happiness, many hosters now provide vds of small capacity for a penny.  Moreover, our task will not require serious resources. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  How will this work? </h4><br><br>  As a rule, 80 (http) and 443 (ssl) ports remain open.  We will take advantage of this.  We prokin http http tunnel to our vds (which does not fall under the black list) through port 80.  All of our requests, disguised as normal http requests, will freely go through a proxy and get on our vds.  On vds the tunnel will look in a proxy.  Thus, after all the settings, a kind of proxy will be launched on our work computer, on which there are no restrictions. <br><br><h4>  Customization </h4><br><br>  All further actions are relevant for freebsd.  For other unix systems, the differences should only be in the assembly and installation.  To set up we need: <br><br>  1) VDS or home unix computer permanently connected to the Internet. <br><br>  2) httptunnel (take here: <a href="httptunnel/">nocrew.org/software/httptunnel</a> ).  If you have windows, download the version for it.  If the server is on freebsd, then httptunnel is in the ports / usr / ports / www / httptunnel. <br>  3) some small proxy (3proxy, zipproxy (this one will also save us traffic), polipo, etc). <br><br>  I decided to take myself a polipo, in principle, only because he was the first to catch my eye in the ports.  For more than a year of use in tunneling and application at work in business processes, he did not let me down.  Those who will install it not under freebsd can take polipo here (http://www.pps.jussieu.fr/~jch/software/polipo/) <br><br>  Let's build and install: <br><br> <code>$cd /usr/ports/www/httptunnel &amp;&amp; make install &amp;&amp; make clean <br> $cd /usr/ports/www/polipo &amp;&amp; make install &amp;&amp; make clean <br></code> <br>  Add to /etc/rc.conf: <br> <code>polipo_enable="YES" <br></code> <br>  If the vds that we bought (or took an existing one), we decide to use only for tunneling, then we simply disable apache (or any other web server), and thereby free up the port 80 we need.  However, in life this rarely happens, there are already sites on the existing vds, and on the new one we would not mind posting new ones.  For this case, there is a second option: we will need to buy an additional ip (let it be: 2.2.2.2, and our ids main vds: 1.1.1.1), there will be a tunnel on port 80, and a web server on the main port.  We connect additional ip: <br><br> <code>ifconfig em0 inet 2.2.2.2 netmask 255.255.255.255 alias <br></code> <br>  in rc.conf: <br><br> <code>ifconfig_em0_alias0="inet 2.2.2.2 netmask 255.255.255.255" <br></code> <br>  correct the apache config so that it listens to a strictly defined ip: <br><br> <code>$vi /usr/local/etc/apache/httpd.conf <br> Listen 1.1.1.1:80 <br> Listen 1.1.1.1:443 <br></code> <br>  configure the config polipo: <br><br> <code>$cd /usr/local/etc/polipo &amp;&amp; cp ./config.simple ./config &amp;&amp; vi ./config <br> <br> proxyAddress = "2.2.2.2" <br> allowedClients = "127.0.0.1" <br> proxyPort = 3128 <br> <br> chunkHighMark = 819200 <br> objectHighMark = 128 <br></code> <br>  - Config is configured, now run it: <br>  $ / usr / local / etc / rc.d / polipo.sh start <br><br>  Raise the tunnel: <br>  hts -F 2.2.2.2ŸÑ128 2.2.2.2:80 <br><br>  We check if everything is in order and if they listen correctly: <br><br>  $ netstat -na || grep tcp <br>  tcp4 0 0 2.2.2.2.80 *. * LISTEN <br>  tcp4 0 0 2.2.2.2.3128 *. * LISTEN <br><br>  Now we start the client on the local computer: <br><br>  htc -P proxy.company.com‚Ä¶12128 -F 1020 2.2.2.2:80 <br><br>  It remains to correct the parameters of your browser, icq or other clients. <br>  Register to use a proxy with the parameters: server: localhost, port: 1020 <br><br>  Everything is ready, and if you have configured everything correctly, icq will successfully connect to the server.  In the future, I advise you to close the proxy firewall.  despite the fact that we told him to receive requests only from the local ip, they will constantly try to connect to it, which carries an additional load. </div><p>Source: <a href="https://habr.com/ru/post/98949/">https://habr.com/ru/post/98949/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../98940/index.html"><Script> tag</a></li>
<li><a href="../98941/index.html">Startup lynch from a venture investor</a></li>
<li><a href="../98942/index.html">Concept smartphone HTC 1</a></li>
<li><a href="../98943/index.html">Simple and convenient balance check on a Megaphone modem</a></li>
<li><a href="../98946/index.html">Using portdowngrade for example</a></li>
<li><a href="../98951/index.html">Today ends support for Windows XP SP2</a></li>
<li><a href="../98953/index.html">The iPhone 4 has problems with antenna design, not with the formula</a></li>
<li><a href="../98954/index.html">Making the boot and installation flash drive</a></li>
<li><a href="../98955/index.html">Google's web metric</a></li>
<li><a href="../98956/index.html">Skype about Fring solution</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>