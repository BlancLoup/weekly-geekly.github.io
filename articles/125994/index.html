<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ARM - is it difficult ...?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="After my recent article on Habr√© about tearing everything at the price of arm , many opinions were expressed that ARM needs a 4-6-layer board, well, a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>ARM - is it difficult ...?</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/geektimes/post_images/62f/dff/0fb/62fdff0fba538fe0572be38598c5ab5e.jpg" align="right">  After my recent article on <a href="http://habrahabr.ru/blogs/controllers/120611/">Habr√© about tearing everything at the price of arm</a> , many opinions were expressed that ARM needs a 4-6-layer board, well, at least 2, at least, and a bunch of strapping. <br><br>  I decided to try to prove that this is far from the truth, and made a scarf whose simpler position is difficult: 1 third-party, 1 mandatory capacitor (there is no need for a stabilizer), 1 resistor, one 3.3V stabilizer, and finally a younger STM32: STM32F100C4T6B - 16kb flash, 4kb SRAM, 48 legs, Cortex-M3 (!!!) with DMA, debag on the fly, 32 * 32 + 32-&gt; 32 for 1 clock and all other joys for 28 rubles. <a name="habracut"></a><br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/d98/448/571/d984485714b293db1540b36422c53ef7.gif" align="right">  This is programmed / debugged via Chinese <a href="http://www.aliexpress.com/wholesale%3FSearchText%3Djlink%26catId%3D0">J-LINK for $ 24</a> , but I didn‚Äôt decouple the entire JTAG connector: 5 pins on the board capture only 2 required SWD (serial wire debug) pins, and the JLINK power supply contact (used contacts from The programming cable is tinted on the right, so that such a scheme needs to have a common ground between the computer and the board - the easiest way is to get the power from USB.  Appnout strongly recommends a separate capacitor for each leg of power supply - however, I didn‚Äôt see the power noise at the farthest power legs above 50-100 mV up to 2 ns range despite using only 1, so you can live, especially considering that sensitive the core is powered by an internal stabilizer (however, you need to take into account that the supply roads are somewhat thicker than they are usually used).  But of course you need to remember that this is more of a proof-of-concept, for ‚Äúcombat‚Äù applications, you will have to do as expected with 5 capacitors. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/geektimes/post_images/197/bdb/5fc/197bdb5fcb87027fbe90d4f58e56307f.jpg" align="right">  It is made by loot - the roads are 0.25-0.3 mm, which is not fatal, although it requires a little skill (at the end of the ends, it is not 0.1 mm).  It is recognized, sewn and even cale without problems :-) The cost price of such a handkerchief is less than 100 rubles (let me remind you, this ARM costs 28 rubles at retail in terraelectronics). <br><br>  Scheme and layout for Eagle - <a href="">attached</a> .  However, do not swear at the curve of the MK symbol - drew as best I could - still looking for the full library of STM32 chips. <br><br><br clear="all"><img src="https://habrastorage.org/getpro/geektimes/post_images/52e/29b/06b/52e29b06b02b4c9bce5e59df00353041.jpg" align="right">  In working condition it looks like this.  Unwashed flux, of course, immediately catches the eye - it was necessary so that the legs would not be shortened: everything becomes covered with liquid flux like LTI-120 and heats up - the solder is automatically stretched over the legs, and there are no short circuits.  LTI-120 does not conduct much of a current, so there is no practical sense to wash for the ‚Äúhome‚Äù board, but it is always a pity for alcohol :-) <br><br>  I emphasize once again - all this is quite realistically done at home, with an iron and a regular soldering iron (with controlled temperature, and not 200W, of course).  4-layer board is not needed, no soldering station with a hairdryer is needed. <br><br>  For programming, download the demo version of IDE keil (debugger / compiler / editor) - for small mic works without restrictions (but I can‚Äôt give a direct link, look).  We take the test program <a href="http://www.keil.com/download/docs/350.asp">ready here</a> , and it remains only to replace the code in main () (and change the file with the settings via the wizard so that the PA1 foot is the output and works as an internal generator - see the Configuration WIzard tab below when editing the settings file): <br><pre><code class="hljs bash">int main (void) { unsigned int <span class="hljs-built_in"><span class="hljs-built_in">hash</span></span> = 0; int i = 0; stm32_Init (); // STM32 setup <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (1) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(i=0;i&lt;50000;i++) <span class="hljs-built_in"><span class="hljs-built_in">hash</span></span>=(<span class="hljs-built_in"><span class="hljs-built_in">hash</span></span>*<span class="hljs-built_in"><span class="hljs-built_in">hash</span></span>+1234567)/<span class="hljs-built_in"><span class="hljs-built_in">hash</span></span>+<span class="hljs-built_in"><span class="hljs-built_in">hash</span></span>+87654321; GPIOA-&gt;ODR = (GPIOA-&gt;ODR &amp; (~2)) | ((<span class="hljs-built_in"><span class="hljs-built_in">hash</span></span>&amp;256)?2:0); } // end <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> } // end main</code> </pre> <br>  Configure JLink: We install drivers for it, then in Keil: Flash-&gt; Configure Flash Tools.  On the Utilities tab, select JLINK, and click Settings.  On the Flash Download tab, add the Programming algorithm "STM32F10x Low-Density Flash". <br><br>  Now build the project, and in the menu we execute Flash-&gt; Download, we reload the board - and ... it works.  And by the way, without departing from the cash register, you can stop the program with a debager, set breakpoints, look at variables - everything is like in the best houses. <img src="https://habrastorage.org/getpro/habr/comment_images/589/4ca/0c9/5894ca0c9e7ef627bfd7178b08017a4b.gif"><br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/6JhCtATFVEU%3Ffeature%3Doembed&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhiWBVGsSa2kjB7hlUziLoAwIJVyxQ" frameborder="0" allowfullscreen=""></iframe><br><br>  Are you still buying 8-bit AVR-rki for 200 rubles each?  Then ARM goes to you! </div><p>Source: <a href="https://habr.com/ru/post/125994/">https://habr.com/ru/post/125994/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../125986/index.html">OGS Mahjong Mahjong Solitaire Up to Version 0.8</a></li>
<li><a href="../125988/index.html">Determining the part of speech of words in Russian text (POS-tagging) in Python 3</a></li>
<li><a href="../125989/index.html">Storing passwords without saving them (development of the theme)</a></li>
<li><a href="../125990/index.html">Different Reality</a></li>
<li><a href="../125993/index.html">Facebook released instant messenger for iPhone and Android</a></li>
<li><a href="../125999/index.html">Pull request'y on GitHub or How do I make changes to someone else's project</a></li>
<li><a href="../126000/index.html">Twitter launched its own photo upload service</a></li>
<li><a href="../126001/index.html">Ruby on Rails + legacy_migrations: one-way data synchronization between two projects</a></li>
<li><a href="../126002/index.html">Anonymous and LulzSec it's time to decide</a></li>
<li><a href="../126004/index.html">Richard Feynman: the pleasure of making discoveries</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>