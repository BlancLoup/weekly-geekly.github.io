<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Plotting in LaTeX / PGFPlots</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This article describes how to work with the PGFPlots package, developed for the popular LaTeX desktop publishing system. However, if you are not even ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Plotting in LaTeX / PGFPlots</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/b0f/e43/178/b0fe4317855b4670b5fb23a57f80ac61.png" alt="image"><br><br>  This article describes how to work with the <a href="http://pgfplots.sourceforge.net/">PGFPlots</a> package, developed for the popular LaTeX desktop publishing system.  However, if you are not even familiar with the latter, this is not a reason to get upset and stop reading this article, after all, perhaps those wonderful examples that will be further given, and the extraordinary power and convenience of PGFPlots will inspire you to learn LaTeX. <br><a name="habracut"></a><br><h4>  <b>Introduction and Motivation</b> </h4><br>  There are a large number of different systems for graphing and data visualization.  Of course, it cannot be said that PGFPlots can replace them all (for example, when working with the R environment it is sometimes more convenient to rely on its own graphing mechanism and simply add the constructed graphs to the document as images), however there is a definite and significant niche in which to apply it Convenient: study materials;  the various reports that, as students, probably did everything in one way or another;  simple data visualization, etc. <br><br>  Below are examples that not only confirm what has been said, but also show that the capabilities of this system often even exceed our daily requirements for such systems (click on the image to see the source code of the example): <br><table><tbody><tr><td><div style="text-align:center;"><img src="https://habrastorage.org/files/1fc/e7f/dfb/1fce7fdfb29c46639477dac79682daea.png"></div><br></td><td><div style="text-align:center;"><img src="https://habrastorage.org/files/47c/44a/d27/47c44ad2785f4714a6b3c3764f1413fe.png"></div><br></td></tr><tr><td><div style="text-align:center;"><img src="https://habrastorage.org/files/46f/e80/a10/46fe80a10b454aeab30f86faabe62b64.png"></div><br></td><td><div style="text-align:center;"><img src="https://habrastorage.org/files/4bb/bf1/043/4bbbf1043866493b883908d954d2c52f.png"></div><br></td></tr></tbody></table>  The article does not claim to be an exhaustive guide to PGFPlots, since <a href="http://pgfplots.sourceforge.net/pgfplots.pdf">official documentation</a> successfully copes with such a role, to which references will often be found in the future, rather its role in acquainting readers with this system and at least a little revealing its main features.  I hope that this article will cope with this task, and this or not it is up to you, the readers, to decide. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      To work with examples, you will need the LaTeX distribution installed.  Unfortunately, its installation and configuration are beyond the scope of this article, so those who do not want to mess with installing and configuring, but want to experiment with the features described here, can try online services such as <a href="https://www.overleaf.com/">Overleaf</a> , <a href="https://ru.sharelatex.com/">ShareLaTeX</a> and <a href="http://papeeria.com/">Papeeria</a> . <br><br>  So, let's begin! <br><br><h4>  <b>Package connection</b> </h4><br>  To connect PGFPlots, add the following command to the document preamble: <br><pre><code class="tex hljs"><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">usepackage</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{pgfplots}</span></span></span></span></code> </pre> <br>  After that, the package will be downloaded and installed.  However, if this does not happen for one reason or another, you should refer to the <a href="http://pgfplots.sourceforge.net/pgfplots.pdf">documentation</a> (p.11), which describes in detail the various ways to install this package. <br><br>  In addition, you should pay attention to the fact that PGFPlots was designed with backward compatibility, and projects created using old versions of this package will be opened and displayed without changes, regardless of how much the new version costs you.  However, the package, however, introduces changes that violate backward compatibility and in order to connect them, it is necessary to state the version used explicitly in the preamble (in the example below, version 1.9 is indicated): <br><pre> <code class="tex hljs"><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">pgfplotsset</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{compat=1.9}</span></span></span></span></code> </pre><br><h4>  <b>Basics of graphing</b> </h4><br>  We first consider the simplest example of plotting and explain the purpose of the main components of which almost any graph in PGFPlots consists: <br><br><img src="https://habrastorage.org/files/514/108/8e7/5141088e76004005994219fad2502305.png" alt="image" align="right"><pre> <code class="tex hljs"><span class="hljs-comment"><span class="hljs-comment">% \documentclass{article} \usepackage{pgfplots} \pgfplotsset{compat=1.9} %  \begin{document} \begin{tikzpicture} \begin{axis}[ title = Exponenta, xlabel = {$x$}, ylabel = {$y$}, minor tick num = 2 ] \addplot[blue] {e^x}; \end{axis} \end{tikzpicture} \end{document}</span></span></code> </pre><br><h5>  <b>Tikzpicture setting</b> </h5><br>  Since PGFPlots is based on TikZ (this is another great package designed to create graphic images in LaTeX), any graph is placed in the appropriate <i>tikzpicture</i> environment of this package. <br><pre> <code class="tex hljs"><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">begin</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{tikzpicture}</span></span></span></span> ... <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">end</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{tikzpicture}</span></span></span></span></code> </pre><br>  It should be noted that such a close relationship between TikZ and PGFPlots is a big plus, since it allows, firstly, to integrate graphs very well into various drawings made in TikZ, and also, on the contrary, to use TikZ's capabilities when working with graphs (see <a href="http://pgfplots.net/tikz/examples/spy-plot/">illustrative example</a> ). <br><br><h5>  <b>Environment, setting the axis of the graph</b> </h5><br>  Further, inside the above environment, there is another environment that defines the axis of the graph.  The table below lists the main types of such environments: <br><table><tbody><tr><td>  <b>Environment type</b> </td><td>  <b>Purpose</b> </td></tr><tr><td>  axis </td><td>  Standard axes with linear scaling </td></tr><tr><td>  semilogxaxis </td><td>  Logarithmic scaling of the <i>x</i> axis and standard scaling of the <i>y</i> axis </td></tr><tr><td>  semilogyaxis </td><td>  Logarithmic <i>y-</i> axis scaling and standard <i>x-</i> axis scaling </td></tr><tr><td>  loglogaxis </td><td>  Logarithmic scaling of both axes </td></tr></tbody></table>  Usually, many graph display settings are specified in the properties of this environment (in the example above, the title is indicated, the title of the signature on the <i>xlabel</i> abscissa <i>axis</i> , the name of the signature on the <i>ylabel</i> ordinate <i>axis</i> and the number of additional ones - in the sense that they do not subscribe - divisions between the major <i>minor tick num</i> ).  It should be understood that options can be specified not only in this way (locally), but also more globally, for example, using styles or by adding a line to the document preamble, as shown in the example below: <br><pre> <code class="tex hljs"><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">pgfplotsset</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{title = Undefined chart}</span></span></span></span></code> </pre><br>  There are a lot of such properties, they allow you to customize almost any aspect of the appearance of the graph and all of them are listed in the manual.  For example, here is a list of the properties most typical for the environment under consideration: <br><table><tbody><tr><td>  <b>Property</b> </td><td>  <b>Purpose</b> </td><td>  <b>Possible values</b> </td></tr><tr><td>  width, height </td><td colspan="2">  Set the width and height of the graph, respectively </td></tr><tr><td>  domain = min: max </td><td colspan="2">  Sets the range of values ‚Äã‚Äãfor the function in the range from <i>min</i> to <i>max</i> </td></tr><tr><td>  xmin, xmax </td><td colspan="2">  Set the minimum and maximum values ‚Äã‚Äãon the x-axis, respectively </td></tr><tr><td>  ymin, ymax </td><td colspan="2">  Set the minimum and maximum values ‚Äã‚Äãon the y-axis, respectively </td></tr><tr><td>  xlabel, ylabel </td><td colspan="2">  Set the signature to the x-axis and y-axis respectively </td></tr><tr><td>  view </td><td colspan="2">  Sets the camera rotation, while the property is specified as follows view = {azimuth} {elevation angle};  the azimuth is the angle between the camera position and the <i>z</i> axis, and the elevation angle is the angle between the camera position and the <i>x</i> axis. </td></tr><tr><td>  grid </td><td>  Specifies the type of grid </td><td>  <i>major</i> - grid lines pass only through the main divisions, <i>minor</i> - grid lines pass through additional divisions (between the main ones), <i>both</i> - grid lines pass through both types of divisions, <i>none</i> - there is no grid [default] </td></tr><tr><td>  colormap </td><td>  Sets the color scheme to use. </td><td>  <i>hot, hot2, jet, blackwhite, bluered, cool, greenyellow, redyellow, violet</i> and others created by the user </td></tr></tbody></table><h5>  <b>Add graphics</b> </h5><br>  Recall that in the <i>above</i> example, the graph was added using the <i>addplot command</i> , which had the function, whose graph was plotted, and the color of this graph as the main parameter: <br><pre> <code class="tex hljs"><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">addplot</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">[blue]</span></span></span></span> {e^x};</code> </pre><br>  The <i>addplot</i> command <i>used</i> (for a two-dimensional graph) and its analogue <i>addplot3</i> (for a three-dimensional graph) are the most common means for creating a graph.  The general format of this command is as follows: <br><pre> <code class="tex hljs"><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">addplot</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">[&lt;options&gt;]</span></span></span></span> &lt;input data&gt; &lt;trailing path commands&gt;;</code> </pre><br>  The <i>&lt;options&gt; options</i> are an optional parameter, which specify: type of chart, its color, style, type of markers, etc. <br><br>  The input data <i>&lt;input data&gt;</i> is determined on the basis of which the graph will be constructed; in the example, the function was specified as the input data, however, as will be shown later, the choice of input data is much wider. <br><br><h5>  <b>How small the result</b> </h5><br>  So let's summarize a little about our acquaintance with PGFPlots. <br><br><ol><li>  All graphics are placed in the <i>tikzpicture</i> environment: <br><pre> <code class="tex hljs"><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">begin</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{tikzpicture}</span></span></span></span> ... <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">end</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{tikzpicture}</span></span></span></span></code> </pre> <br></li><li>  To display a graph, you need to create an environment that determines the type of axes used in it, for example, <i>axis</i> : <br><pre> <code class="tex hljs"><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">begin</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{axis}</span></span></span></span> ... <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">end</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{axis}</span></span></span></span></code> </pre> <br></li><li>  Then, within the created environment, charts are added most often using the <i>\ addplot</i> and <i>\ addplot3 commands</i> : <br><pre> <code class="tex hljs"> <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">addplot</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">[&lt;options&gt;]</span></span></span></span> &lt;input data&gt; &lt;trailing path commands&gt;;</code> </pre> <br></li></ol><br><h4>  <b>Input data</b> </h4><br>  Having no desire to duplicate what is written in the <a href="http://pgfplots.sourceforge.net/pgfplots.pdf">documentation</a> (pp.40 - 63) and set forth all the subtleties of working with the input data, we will focus on the consideration of the main methods in the most general form, and give a number of examples of their explanatory. <br><br><h5>  <b>Plotting based on mathematical expression</b> </h5><br>  A general view of a graph construction command based on a mathematical expression should already be familiar: <br><pre> <code class="tex hljs"> <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">addplot</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">[&lt;options&gt;]</span></span></span></span> {math_expression} &lt;trailing path commands&gt;;</code> </pre> <br>  For processing a mathematical expression, the built-in parser is used, which has a sufficiently close syntax to many computer algebra systems, and therefore working with it is not particularly difficult.  A complete list of mathematical operators and functions can be found in <a href="http://ctan.uni-altai.ru/graphics/pgf/base/doc/pgfmanual.pdf">this document</a> (p. 933).  Some of them for making up the general impression are given below. <br><table><tbody><tr><td>  <b>Operator</b> </td><td>  <b>Purpose</b> </td></tr><tr><td>  <b>+</b> </td><td>  Addition operator </td></tr><tr><td>  <b>-</b> </td><td>  Subtraction operator </td></tr><tr><td>  <b>*</b> </td><td>  Multiplication operator </td></tr><tr><td>  <b>/</b> </td><td>  Division operator </td></tr><tr><td>  <b>^</b> </td><td>  Exponentiation operator </td></tr><tr><td>  <b>mod</b> </td><td>  Residual operator </td></tr><tr><td>  <b>!</b> </td><td>  Postfix factorial operator </td></tr><tr><td>  <b>&lt;</b> , <b>&gt;</b> , <b>==</b> , <b>&lt;=</b> , <b>&gt; =</b> </td><td>  Comparison operators </td></tr></tbody></table><table><tbody><tr><td>  <b>Function</b> </td><td>  <b>Purpose</b> </td></tr><tr><td>  <b>abs</b> </td><td>  Module take function </td></tr><tr><td>  <b>sin, cos, tan, asin, acos, atan</b> </td><td>  Basic trigonometric functions and their inverse </td></tr><tr><td>  <b>ln, log2, log10</b> </td><td>  Natural, binary and decimal logarithms </td></tr><tr><td>  <b>deg</b> </td><td>  The conversion function radians to degrees (it is especially useful when you consider that by default the parser in question works with degrees, not radians) </td></tr></tbody></table>  After the mathematical expression is processed, in fact, a set of points will be constructed (the number of these points can be changed using the <i>samples</i> graphic property), on the basis of which one or another graph will be constructed.  As an illustration of what has been said, the following graphs are the same with different <i>samples</i> property values: <br><img src="https://habrastorage.org/files/487/910/677/48791067794d474eae54cad3722d5ff9.png"><br><br>  Below is an example of building 3D graphics based on a mathematical expression: <br><img src="https://habrastorage.org/files/161/e73/3f0/161e733f00a54936942999e01fbd81bb.png" alt="image" align="right"><pre> <code class="tex hljs"><span class="hljs-comment"><span class="hljs-comment">% \documentclass{article} \usepackage{pgfplots} \pgfplotsset{compat=1.9} %  \begin{document} \begin{tikzpicture} \begin{axis}[ view={110}{10}, colormap/greenyellow, colorbar ] \addplot3[surf] {-sin(x^2 + y^2)}; \end{axis} \end{tikzpicture} \end{document}</span></span></code> </pre><br>  Notice that the previously not mentioned <i>colorbar</i> command was used <i>here</i> , which adds a scale that establishes the correspondence between the color and the value of the function. <br><br><h5>  <b>Plotting based on input coordinates</b> </h5><br>  This method is much simpler than the previous one and means that the user simply specifies a list of ordered pairs <i>(x, y)</i> (for a two-dimensional graph) or <i>(x, y, z)</i> (for a three-dimensional graph) and based on them a graph will be constructed later. <br><pre> <code class="tex hljs"><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">addplot</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">[&lt;options&gt;]</span></span></span></span> coordinates {&lt;coordinate list&gt;} &lt;trailing path commands&gt;</code> </pre><br>  Immediately consider an example: <br><img src="https://habrastorage.org/files/90a/569/2f8/90a5692f81744aacbe43f87efed5d891.png" alt="image" align="right"><pre> <code class="tex hljs"><span class="hljs-comment"><span class="hljs-comment">% \documentclass{article} \usepackage{pgfplots} \pgfplotsset{compat=1.9} %  \begin{document} \begin{tikzpicture} \begin{axis} \addplot coordinates { (0,1) (2,4) (7,8) (10,15) }; \end{axis} \end{tikzpicture} \end{document}</span></span></code> </pre><br>  Note that ordered pairs are simply separated by spaces without using any special separator characters. <br><br><h5>  <b>Plotting based on the table</b> </h5><br>  Plotting graphs based on a table is one of the very common and convenient ways of plotting various graphs. <br><pre> <code class="tex hljs"><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">addplot</span></span></span></span> table [&lt;column selection&gt;] {(file or inline table)}.</code> </pre><br>  First of all, we define the basic principles of working with tables: <br><ol><li>  Strings are separated by a newline character.  To use the <i>\\</i> character in this role, you must set the following property: <br><pre> <code class="tex hljs">table/row sep = <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">\</span></span></span></span></code> </pre></li><li>  Columns are usually separated by spaces or tabs.  You can set this role for other characters using the following property: <br><pre> <code class="tex hljs"> table/col sep = space|tab|comma|colon|semicolon|braces|&amp;|ampersand</code> </pre></li><li>  Any line starting with <i>#</i> or <i>%</i> will be ignored. </li></ol><br>  An example of a valid table is shown below: <br><pre> <code class="tex hljs">abc 1 1 1 2 3 4 3 5 5 4 8 6 5 2 7</code> </pre><br>  The <i>&lt;column selection&gt;</i> parameter defines the correspondence between a specific axis (or a source of meta-information, about which we will say a little bit later) and a column, and the correspondence is set on the first line of the table, which is clearly seen in the examples below. <br><br><h6>  <b>Plotting based on inline table (inline)</b> </h6><br><img src="https://habrastorage.org/files/f64/d65/1e3/f64d651e322243c59e7483fa8e287569.png" alt="image" align="right"><pre> <code class="tex hljs"><span class="hljs-comment"><span class="hljs-comment">% \documentclass{article} \usepackage{pgfplots} \pgfplotsset{compat=1.9} %  \begin{document} \begin{tikzpicture} \begin{axis} \addplot3 table [x = b, y = a, z = c] { abc 1 1 1 2 3 4 3 5 5 4 8 6 5 2 7 }; \end{axis} \end{tikzpicture} \end{document}</span></span></code> </pre><br><br><h6>  <b>Plotting based on a table in an external file</b> </h6><br>  Consider a more practical example.  The <a href="https://yadi.sk/d/NcN9xmN7ehEX7">following link</a> is the <i>.csv</i> file, which contains data on the demographic situation in Russia (RSFSR) for about a century of its history. <br><br><img src="https://habrastorage.org/files/6d5/d9e/984/6d5d9e98464a4020bdc94d6535af60bb.png" alt="image" align="right"><pre> <code class="tex hljs"><span class="hljs-comment"><span class="hljs-comment">% \documentclass{article} \usepackage{pgfplots} \pgfplotsset{compat=1.9} %  \begin{document} \begin{tikzpicture} \begin{axis}[ table/col sep = semicolon, height = 0.6\paperheight, width = 0.65\paperwidth, xmin = 1927, xmax = 2014, /pgf/number format/1000 sep={} ] \addplot table [x={Year}, y={Average population}] {RussianDemography.csv}; \end{axis} \end{tikzpicture} \end{document}</span></span></code> </pre><br>  Naturally, this is by no means all of the methods, and so far beyond the scope of our consideration, there are PGFPlots interaction with other applications (for example, GNUPlot), the use of scripts in plotting graphs, the introduction of external graphics, etc. <br><br><h4>  <b>Graph Setup</b> </h4><br>  Now that we have figured out how the input data for the graph may look, it's time to pay attention to how to customize the graphs, make them more understandable and intuitive. <br><br><h5>  <b>Graphic legend</b> </h5><br>  A legend is a caption explaining what is shown on the graph.  The use of legend is especially useful when we have several different graphs. <br><br>  For the legend description, you can use the <i>\ legend {...}</i> command, inside which the graph descriptions are listed separated by commas (PGFPlots determines the correspondence between the description and the graph in the order of descriptions and the order of adding the graphs themselves). <br><img src="https://habrastorage.org/files/120/a73/170/120a73170b014decad7f8f533a90d702.png" alt="image" align="right"><br><pre> <code class="tex hljs"><span class="hljs-comment"><span class="hljs-comment">% \documentclass{article} \usepackage{pgfplots} \pgfplotsset{compat=1.9} %  \begin{document} \begin{tikzpicture} \begin{axis} [ legend pos = north west, ymin = 0, grid = major ] \legend{ $\log_2(x)$, $\ln(x)$, $\log_{10}(x)$ }; \addplot {log2(x)}; \addplot {ln(x)}; \addplot {log10(x)}; \end{axis} \end{tikzpicture} \end{document}</span></span></code> </pre><br>  In the example in the legend, mathematical expressions are indicated, on the basis of which these graphs are built, but, in general, there can be any text there. <br><br>  In addition, it used the <i>legend pos</i> property, which allows you to indicate the position of the legend on the graph ( <i>south west, south east, north west, north east, outer north east</i> ). <br><br><h5>  <b>Custom styles</b> </h5><br>  Consider the simplest example: in our document it is accepted that the graph reflecting the experimental data is highlighted in red, and the graph of the function reflecting the graphs of the mathematical model has a blue color.  This was taken exactly until the publishing house told us that they accept only black and white articles and, accordingly, the appearance of the graphs needs to be changed, and within the framework of a large document this is a complex and dreary task. <br><br>  Therefore, it is much better in such situations to describe styles in one place of the document and then apply them to the charts.  To create such custom styles, we know the <i>\ pgfplotsset command</i> with the following arguments: <br><pre> <code class="tex hljs"><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">pgfplotsset</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{&lt;style_name&gt;/.style={&lt;key-value-list&gt;}</span></span></span></span>};</code> </pre><br><br>  Immediately consider an example similar to the one we talked about earlier: <br><img src="https://habrastorage.org/files/146/db3/7ce/146db37ce4f044b892474fd904983b9d.png" alt="image" align="right"><br><pre> <code class="tex hljs"><span class="hljs-comment"><span class="hljs-comment">% \documentclass{article} \usepackage{pgfplots} \pgfplotsset{compat=1.9} %  \pgfplotsset{model/.style = {blue, samples = 100}} \pgfplotsset{experiment/.style = {red}} %  \begin{document} \begin{tikzpicture} \begin{axis}[xmin = 0, ymax = 125] \addplot[model]{e^(x)}; \addplot[experiment] table { xy 0.1 1.5 1.3 2.1 2.7 12.2 3.5 25.6 4.1 57.0 5.3 121.6 }; \end{axis} \end{tikzpicture} \end{document}</span></span></code> </pre><br><h5>  <b>Markers</b> </h5><br>  Markers are, in the most general terms, points on a chart.  A detailed list of various types of standard markers can be found in the <a href="http://pgfplots.sourceforge.net/pgfplots.pdf">documentation</a> (p. 160). <br><br>  As always, there are a lot of tools for their configuration, even in the documentation to which we refer, not all of them are described.  Consider the most typical ways to customize. <br><br>  Marker type selection is performed using the following property: <br><pre> <code class="tex hljs">mark = &lt;type_of_marker&gt;</code> </pre><br>  The three main parameters (size, fill color of the marker and its outline) can be configured using the following property: <br><pre> <code class="tex hljs">mark options={scale = &lt;relative_scaling&gt;, fill = &lt;color&gt;, draw = &lt;color&gt;</code> </pre><br>  There <a href="http://pgfplots.sourceforge.net/pgfplots.pdf">are a lot of</a> predefined colors, but you can always add your own, for example, using the following command: <br><pre> <code class="tex hljs"><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">definecolor</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{&lt;name_of_color}</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{rgb}</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{..., ..., ... }</span></span></span></span></code> </pre><br>  Consider an example: <br><img src="http://habrastorage.org/files/0a1/d12/669/0a1d1266978d4d959ac7a19b2bcc6455.png" alt="image" align="right"><br><pre> <code class="tex hljs"><span class="hljs-comment"><span class="hljs-comment">% \documentclass{article} \usepackage{pgfplots} \pgfplotsset{compat=1.9} \definecolor{chucknorris}{rgb}{192,0,0} %  \begin{document} \begin{tikzpicture} \begin{axis} \addplot[ mark = *, mark options = { scale = 1.5, fill = pink, draw = chucknorris } ]{x^2}; \end{axis} \end{tikzpicture} \end{document}</span></span></code> </pre><br><h5>  <b>Lines of graphics and their color</b> </h5><br>  When we spoke earlier about black and white graphics for the publisher, for sure, each of you remembered that one of the ways to distinguish one graphic from another is to select one dotted line and the other as a solid line.  All this, of course, can be done here. <br><br>  All line styles (first of all, various types of dashed lines) can be found <a href="http://pgfplots.sourceforge.net/pgfplots.pdf">in the documentation</a> (p. 165).  They are set by specifying explicitly the name of the style in the options, for example, graphics. <br><br>  The thickness of the graphic line is configured using the <i>line width</i> property: <br><pre> <code class="tex hljs">line width = &lt;width_of_line&gt;</code> </pre><br>  The color of the graphic line is configured using the <i>draw</i> property: <br><pre> <code class="tex hljs">draw = &lt;color&gt;</code> </pre><br><img src="//habrastorage.org/files/c1a/1bb/adf/c1a1bbadf068475b90d7580195fa6d70.png" align="right"><br><pre> <code class="tex hljs"><span class="hljs-comment"><span class="hljs-comment">% \documentclass{article} \usepackage{pgfplots} \pgfplotsset{compat=1.9} %  \begin{document} \begin{tikzpicture} \begin{axis}[ domain=0:1, legend pos = north west ] \legend{$e^x$, $1 + x + x^2/2$} \addplot[dashed, draw = blue]{e^x}; \addplot[solid, draw = red]{1 + x + x^2/2}; \end{axis} \end{tikzpicture} \end{document}</span></span></code> </pre><br><br><h4>  <b>Examples of some types of 2D graphics</b> </h4><br>  By default, any two-dimensional graph is a linear graph (for an explicit choice of this type, you must specify the <i>sharp plot</i> property in the options of the graph being added).  In fact, this type of graph simply connects the indicated points with a straight line.  However, in reality, the types of two-dimensional graphs are much more and they are described in the <a href="http://pgfplots.sourceforge.net/pgfplots.pdf">documentation</a> (pp.75 - 114). <br><br>  Next, we consider for example a number of other types of graphs, which often have to be used in practice. <br><br><h5>  <b>bar chart</b> </h5><br>  To create a histogram, there are two types of graphics: a horizontal histogram, which corresponds to the <i>xbar</i> property, and a vertical histogram, which corresponds to the <i>ybar</i> property. <br><br>  Below is an example of creating a vertical histogram reflecting the regional structure of those credited to budget places in 2010-2014.  in HSE: <br><img src="http://habrastorage.org/files/9f5/64f/f77/9f564ff7726a402ebbd56eb7f8a1abe3.png" alt="image" align="right"><br><pre> <code class="tex hljs"><span class="hljs-comment"><span class="hljs-comment">% \documentclass{article} \usepackage{pgfplots} \pgfplotsset{compat=1.9} %  \begin{document} \begin{tikzpicture} \begin{axis}[ ybar, width = 250pt, /pgf/number format/1000 sep={}, legend style={ at={(0.5,-0.25)}, anchor=south, legend columns=-1 } ] \addplot coordinates { (2010, 34) (2011, 39) (2012, 39) (2013, 36) (2014, 32.6) }; \addplot coordinates { (2010, 12) (2011, 11) (2012, 14) (2013, 12) (2014, 10.7) }; \addplot coordinates { (2010, 54) (2011, 50) (2012, 47) (2013, 52) (2014, 56.7) }; \legend{Moscow, Moscow region, Other regions} \end{axis} \end{tikzpicture} \end{document}</span></span></code> </pre><br><br><h5>  <b>Scatter plot</b> </h5><br>  The scatter plot is a loud name for a chart that contains only markers, in other words, it is a set of points on a chart.  To select this type of schedule, use the <i>only marks</i> property. <br><br>  Consider at once a practical example: we have a table, the first two columns of which reflect the two-dimensional coordinates of a point and the third one belongs to one of three clusters.  It is necessary to build a graph that would reflect on the one hand the position of the points in space, and on the other, their belonging to one or another cluster. <br><img src="//habrastorage.org/files/891/355/d02/891355d023ef42f291a1de618c7a3fdc.png" align="right"><br><pre> <code class="tex hljs"><span class="hljs-comment"><span class="hljs-comment">% \documentclass{article} \usepackage{pgfplots} \pgfplotsset{compat=1.9} %  \begin{document} \begin{tikzpicture} \begin{axis} \addplot[ mark=halfcircle*, mark size=3pt, only marks, point meta=explicit symbolic, scatter, scatter/classes={ a={blue}, b={red}, c={black} }] table [meta=class] { xy class 1 4 a 1 2 a 0 3 a 0 2 a 5 6 b 5 5 b 4 5 b 5 7 b 9 9 c }; \end{axis} \end{tikzpicture} \end{document}</span></span></code> </pre><br>  The first thing you should pay attention to is that in the properties of the table we specify the ‚Äúcolumn‚Äù of the <i>meta</i> , with the result that the selected <i>class</i> column is responsible for some of the meta-properties of the table element. <br><br>  Then, the parameters indicate the appearance of the markers that we previously did, and then use the <i>point meta</i> command, which shows PGFPlots where and how to take meta information. <br><pre> <code class="tex hljs">point meta = none|&lt;math_expression&gt;|x|y|z|f(x)|explicit|explicit symbolic</code> </pre><br>  You can read more in the documentation (p. 185), we‚Äôll just dwell on the fact that the <i>explicit symbolic</i> value was chosen, which means that the meta-data is taken from the column that is specified in the table properties, more specifically as symbols, not numbers. <br><br>  And finally, the remarkable <i>scatter</i> property was indicated, which includes changing the appearance of the markers depending on their coordinates or belonging to one or another cluster.  Together with it, the <i>scatter / classes</i> property is used, which sets how the appearance of the marker should change depending on the membership of a particular cluster. <br><br><h4>  <b>Summing up</b> </h4><br>  So, the article has come to an end, and thanks to all who read to here.  I am well aware that only the tip of the iceberg was considered here, only a part of the possibilities that PGFPlots gives us, and, of course, there are a lot of interesting and useful things beyond consideration.  But, I hope, nevertheless, the article fulfilled its task: to introduce and interest. <br><br>  Feel free to express your wishes on what you would like to see in such an introductory article, maybe something was missed or, on the contrary, somewhere something was considered in too much detail. <br><br><h4>  <b>Literature and links for further study</b> </h4><br><img src="http://habrastorage.org/files/567/77f/f7b/56777ff7b03147c88d0d7cccc2899bed.png" alt="image" align="left">  1. The main and most reliable source of information on this package is the previously mentioned massive <a href="http://pgfplots.sourceforge.net/pgfplots.pdf">official documentation</a> . <br>  2. A large number of examples can be found on <a href="http://pgfplots.net/">PGFPlots.net</a> , as well as <a href="http://pgfplots.sourceforge.net/gallery.html">here</a> . <br>  3. A large number of questions related to PGFPlot were answered <a href="http://tex.stackexchange.com/">here</a> . </div><p>Source: <a href="https://habr.com/ru/post/250997/">https://habr.com/ru/post/250997/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../250981/index.html">HTML5 MathMl</a></li>
<li><a href="../250985/index.html">Custom PHP Project Optimization</a></li>
<li><a href="../250989/index.html">Receive radio footage and other digital transmissions using a conventional receiver and computer</a></li>
<li><a href="../250991/index.html">The Equation, Carbanak, Desert Falcons: Report with Security Analyst Summit</a></li>
<li><a href="../250995/index.html">UART in ATtiny13 or How to display data from the MC for 52p</a></li>
<li><a href="../250999/index.html">Recover local and domain passwords from hiberfil.sys</a></li>
<li><a href="../251001/index.html">Weekly io.js, February 13, 2015</a></li>
<li><a href="../251007/index.html">Handling large packed files on Mac and more</a></li>
<li><a href="../251011/index.html">Android users will pay for the words, Nintendo will release an application for iOS, Rovio will print a book - and other news of the week for a mobile developer</a></li>
<li><a href="../251015/index.html">All-Russian population census: how your data is compressed</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>