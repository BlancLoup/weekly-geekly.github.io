<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>PHP to Clojure</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Clojure (pronounced closure) is a modern Lisp dialect, a general-purpose programming language with dynamic typing and encouraging functional programmi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>PHP to Clojure</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/1a8/99a/d7d/1a899ad7d4cbd6eec53d624b8f90a444.jpg"><br><br>  <b>Clojure</b> (pronounced closure) is a modern Lisp dialect, a general-purpose programming language with dynamic typing and encouraging functional programming.  The author of the language Rich Hickey first presented his creation in 2007, since then the language has matured and reached version 1.7, released June 30, 2015. <br><br>  One of the main concepts of the language is to work on any existing platform.  Rich Hickey decided not to write his runtime environment, his garbage collector, etc.  - it would require more labor, it is easier to use ready-made platforms, such as JVM, .NET, JavaScript.  To date, the two most actively developed areas are: Clojure on the JVM (it was he who reached version 1.7 not so long ago) and ClojureSrcipt is a subset of the language that is compiled into JavaScript to work in the browser and on Node.js.  The .NET version is not actively developing and lags behind the JVM implementation.  I searched the Internet and found a few more dead Clojure implementations: <a href="https://github.com/tcard/gojure">Go</a> , <a href="https://github.com/rodnaph/clj-php">PHP</a> , <a href="https://github.com/halgari/clojure-py">Python,</a> and <a href="https://metacpan.org/pod/CljPerl">Perl</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In this article I want to talk about Clojure, showing examples in comparison with PHP, based on a series of screencasts in English <a href="https://vimeo.com/93032607">From PHP to Clojure</a> . <br><a name="habracut"></a><br>  PHP and Clojure are two completely different languages.  When you see Clojure for the first time, you might think that this is some kind of drug JSON.  In fact, Clojure is a very powerful and elegant language. <br><br>  Comparing with PHP, many aspects of the language have direct analogues.  Others will become clear if you look at them from the right angle. <br><br><h3>  Anonymous functions, Closure &amp; Clojure </h3><br>  I will begin with a small digression to understand the terminological confusion.  Anonymous functions and closures appeared in PHP 5.3, and if you look closely at the <a href="http://php.net/manual/en/functions.anonymous.php">documentation</a> , you will see that anonymous functions in PHP are implemented using the Closure class.  The word ‚ÄúClosure‚Äù in turn translates as ‚Äúclosure‚Äù and is very similar in spelling to the name of the Clojure language (note the letter <b>j</b> in the middle).  To prevent us from getting confused further, we will use the term ‚ÄúAnonymous function‚Äù for anonymous functions and ‚ÄúClosure‚Äù for the effect of lexical visibility of a variable ‚Äî this is when the <i>use (...)</i> construction is used in PHP to describe an anonymous function.  Clojure, respectively, also has anonymous functions and closures. <br><br><h3>  Namespaces </h3><br>  There is a lot in common between PHP and Clojure: namespaces are made up of parts that correspond to the physical location of the files.  There are only two differences: in Clojure, the delimiter is a period and the names of namespaces are usually called with a small letter. <br><br><pre><code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// PHP</span></span>
<span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Foo</span></span>\<span class="hljs-title"><span class="hljs-title">Bar</span></span>\<span class="hljs-title"><span class="hljs-title">Baz</span></span>;
</code></pre><br>
<br>
<pre><code class="hljs lisp"><span class="hljs-comment"><span class="hljs-comment">;; Clojure</span></span>
(<span class="hljs-name"><span class="hljs-name">ns</span></span> foo.bar.baz)
</code></pre><br>
<br>
<h3></h3><br>
 Clojure       <b></b> ,  <pre><code class="hljs lisp">(<span class="hljs-name"><span class="hljs-name">count</span></span> foo) <span class="hljs-comment"><span class="hljs-comment">;; Clojure</span></span></code></pre>,   <pre><code class="php hljs">count($foo) <span class="hljs-comment"><span class="hljs-comment">// PHP</span></span></code></pre><br>
<br>
     :<br>
<br>
<img src="https://habrastorage.org/files/d80/f9e/3bf/d80f9e3bf92a4f0cbc16a93f10e1cebd.png"><br>
<br>
     !     :  xml-  ,     <i>if</i>, <i>for</i>     :<br>
<br>
<img src="https://habrastorage.org/files/b41/a8c/853/b41a8c853c8845b89aeab220ebb30cdb.png"><br>
<br>
      :<br>
<br>
<img src="https://habrastorage.org/files/1a2/da8/386/1a2da83867a0454fa42def5688f09dee.png"><br>
<br>
 ,   ,     :<br>
<br>
<img src="https://habrastorage.org/files/3c0/6b0/2d3/3c06b02d3a134b40a4c8ffbf58dd6815.png"><br>
<br>
    Clojure! (  ,    Clojure,    ):<br>
<br>
<img src="https://habrastorage.org/files/42b/98f/b44/42b98fb44441457ea210959aa0a2572e.png"><br>
<br>
 ,  ,     ,  -  -.  Clojure ,     .<br>
<br>
,   ,      ,      :<br>
<br>
<img src="https://habrastorage.org/files/398/bd4/415/398bd4415f6c408ab0d77e64f70e9b0c.png"><br>
<br>
,      , ..     IDE    .<br>
<br>
  PHP,       .   !<br>
<br>
     ,        :<br>
<br>
<img src="https://habrastorage.org/files/9f1/6d0/982/9f16d0982c3e4b5ba2c1adb32201da20.png"><br>
<br>
   if, switch    :<br>
<br>
<img src="https://habrastorage.org/files/156/9c0/57e/1569c057e33d42e89708cff5b17a0033.png"><br>
<br>
   ,     ,     ,      :<br>
<br>
<img src="https://habrastorage.org/files/5da/5ee/9cc/5da5ee9cc7164441bb1258c1e591d316.png"><br>
<br>
       :<br>
<br>
<img src="https://habrastorage.org/files/5da/443/e45/5da443e45f394d11a8f6c4de5b92e575.png"><br>
<br>
 Clojure, ,   !     : <b>Value</b>, <b>Symbol</b>  <b>List</b> (  100% ,           ).<br>
<br>
<b>Value</b> () ‚Äî  ,   ,    :<br>
<br>
<pre><code class="hljs objectivec"><span class="hljs-number"><span class="hljs-number">2</span></span>
<span class="hljs-string"><span class="hljs-string">"Hello, World"</span></span>
<span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"\d+"</span></span></span></span>
</code></pre><br>
<b>Symbol</b> () ‚Äî  ,  ,   ..     -  ( Value):<br>
<pre><code class="hljs scala"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span></span>
map
db
my-symbol
</code></pre><br>
<b>List</b> () ‚Äî    ,      (value),  (symbol)    (list). ..          : ,    .<br>
<br>
<pre><code class="hljs lisp">(<span class="hljs-name"><span class="hljs-name">some-symbol</span></span> <span class="hljs-string"><span class="hljs-string">"Some Value"</span></span> (<span class="hljs-string"><span class="hljs-string">"nested list with value"</span></span> and-symbol))
</code></pre><br>
    Clojure!<br>
<br>
 ,     ,   ( if/else),   ?<br>
<br>
    Clojure,      ,      .<br>
<br>
, if      ,   ,   if,    ,             . ,          ,  ,  :<br>
<img src="https://habrastorage.org/files/10d/c42/437/10dc42437c4644a6917f79fcdbe06fc4.png"><br>
<br>
   .    ,  ,    .     ,     .  ,  ,        ,      ,   .<br>
<br>
    , ,      .<br>
<br>
   PHP:<br>
<img src="https://habrastorage.org/files/b1e/adb/4f4/b1eadb4f430e4e3b84d4e7ee10150849.png"><br>
<br>
   ,   ,    <b>+</b>,          :<br>
<br>
<pre><code class="hljs lisp">(<span class="hljs-name"><span class="hljs-name">+</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>)</code></pre><br>
 ‚Äî        .  <b>+</b>     Clojure     ,       .<br>
<br>
    : <i>4 + 3 / 2 = ?</i><br>
<br>
   ,     ,    :<br>
<br>
<pre><code class="hljs lisp">(<span class="hljs-name"><span class="hljs-name">/</span></span> (<span class="hljs-name"><span class="hljs-name">+</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-comment"><span class="hljs-comment">;; 3.5</span></span></code></pre><br>
 :<br>
<br>
<pre><code class="hljs lisp">(<span class="hljs-name"><span class="hljs-name">+</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> (<span class="hljs-name"><span class="hljs-name">/</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>)) <span class="hljs-comment"><span class="hljs-comment">;; 5.5</span></span></code></pre><br>
      ,       .<br>
<br>
<h3></h3><br>
  Clojure     .  ,      <i></i>, ..   Clojure   .  ,     .<br>
<br>
       ,    .      ,     :<br>
<br>
<img src="https://habrastorage.org/files/40b/801/5c9/40b8015c92294f7c883898426ebede5e.png"><br>
<br>
      ( PHP       <i>is</i>):<br>
<br>
<img src="https://habrastorage.org/files/0f3/7f5/981/0f37f59817e44125bb5ffc57fbbf1bb1.png"><br>
<br>
        ,     ,      :<br>
<br>
<img src="https://habrastorage.org/files/35b/545/872/35b5458724e644a88448ddb257e6ba22.png"><br>
<br>
    ¬´ ¬ª ‚Äî          Clojure,   ,      :<br>
<br>
<img src="https://habrastorage.org/files/90f/414/bc7/90f414bc7ff2464283fd4f44a02eb8d5.png"><br>
<br>
<h3>  </h3><br>
<br>
<h4></h4><br>
   PHP,  Clojure        . ,    PHP,      : Integer  BitInt.        ,     .    ,    BigInt,     M  .       ,      N  .<br>
<br>
<img src="https://habrastorage.org/files/9a2/580/76a/9a258076ab5a4a83a70f5923edb64651.png"><br>
<br>
     :<br>
<br>
<img src="https://habrastorage.org/files/a0c/249/c8b/a0c249c8ba1b4dccb0eff85ebad66c84.png"><br>
<br>
Clojure    !    PHP:<br>
<br>
<pre><code class="php hljs">$x = <span class="hljs-number"><span class="hljs-number">4</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span>; <span class="hljs-comment"><span class="hljs-comment">// 1.33333...</span></span>
$y = $x * <span class="hljs-number"><span class="hljs-number">3</span></span>; <span class="hljs-comment"><span class="hljs-comment">// 3.99999....</span></span>
</code></pre><br>
  Clojure:<br>
<br>
<pre><code class="hljs lisp">(<span class="hljs-name"><span class="hljs-name">/</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-comment"><span class="hljs-comment">;;  -  4/3     Ratio</span></span>
(<span class="hljs-name"><span class="hljs-name">*</span></span> <span class="hljs-number"><span class="hljs-number">4/3</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-comment"><span class="hljs-comment">;;  4</span></span>
</code></pre><br>
<br>
<h4></h4><br>
  Clojure ‚Äî  Java .    , ..        -    ,     ,  <i>\n</i> .  ,    :<br>
<br>
<img src="https://habrastorage.org/files/b4d/795/d75/b4d795d756104f85b97e8062c95e3902.png"><br>
<br>
   PHP,      :<br>
<br>
<img src="https://habrastorage.org/files/6ee/5db/a6f/6ee5dba6f3734a9ea2bc9535f03c8f7c.png"><br>
<br>
 Clojure    <i>Character</i> ‚Äî  ¬´¬ª,    ,      .  ,  <i>\n</i> ‚Äî    ,    <i>n</i>.<br>
<br>
    Characters,        ,   ..: <i>\newline</i>, <i>\tab</i>, <i>\backspace</i>.<br>
<br>
    unicode , , <i>\u263a</i>.<br>
<br>
,    : <i>\o003</i> ‚Äî  Ctrl+C.<br>
<br>
<img src="https://habrastorage.org/files/647/32e/6a5/64732e6a54fa412eac91467a4f74afb4.png"><br>
<br>
<h4> </h4><br>
     #      : <i>#"\d+"</i>.       Java,     Java-:<br>
<br>
<img src="https://habrastorage.org/files/5c9/b8f/74d/5c9b8f74dc4e4b5c99db4c550bfee105.png"><br>
<br>
<h4>    </h4><br>
 <i>Nil</i>     <i>nil</i> (  Null  PHP).<br>
<br>
 <i>Bool</i>    <i>true</i>  <i>false</i>. ,    PHP,    <i>nil</i>  <i>false</i>   <i></i>.  ,  0  "" ( )  Clojure    <i></i>,      PHP   <i></i>:<br>
<br>
<img src="https://habrastorage.org/files/89f/2fd/385/89f2fd38502941dbb791139c313a9b49.png"><br>
<br>
<h4>Keyword</h4><br>
 Clojure      Keyword,              PHP ( <i>if</i>, <i>for</i>  ..). Keywords     .             ‚Äî   .   -   .         <i>:pi</i> ‚Äî     <i>:pi</i>.<br>
<br>
<img src="https://habrastorage.org/files/b58/b52/c47/b58b52c479b64b8a825946f7e1c1d690.png"><br>
<br>
    ,     ?  PHP   <i>define</i>     . ,     define,   ,     -  ,            .<br>
<br>
,  PHP   <a href="http://php.net/manual/en/function.str-pad.php">str_pad</a>,         .      $pad_type     : STR_PAD_RIGHT, STR_PAD_LEFT, STR_PAD_BOTH.        0, 1  2 .         ,  265, 1337  9000 ‚Äî   .<br>
<br>
 Clojure    keywords <i>:str-pad-right</i>, <i>:str-pad-left</i>, <i>:str-pad-both</i> ‚Äî    -    ,        ,  !<br>
<br>
 ,       :<br>
<pre><code class="hljs ruby">{<span class="hljs-symbol"><span class="hljs-symbol">:first-name</span></span> <span class="hljs-string"><span class="hljs-string">"Irma"</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">:last-name</span></span> <span class="hljs-string"><span class="hljs-string">"Gerd"</span></span>}
</code></pre><br>
<br>
                .<br>
<br>
<h3>  ‚Äî  </h3><br>
     Clojure,       -,           : <a href="http://habrahabr.ru/post/263115/">¬´-  Clojure¬ª</a>  <a href="http://habrahabr.ru/post/263131/">¬´-  Clojure.  2¬ª</a>.<br>
<br>
       Clojure  PHP,           <a href="https://pqr7.wordpress.com/2015/07/29/php-vs-clojure/">PHP vs Clojure</a>.<br>
<br>
         <a href="http://fpconf.ru/">FPCONF</a> 15  2015   ,     -  Clojure  ClojureScript.</div><p>Source: <a href="https://habr.com/ru/post/264005/">https://habr.com/ru/post/264005/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../263995/index.html">Google Analytics with Unity3D</a></li>
<li><a href="../263997/index.html">The digest of interesting materials from the world of web development and IT for the last week ‚Ññ170 (July 26 - August 2, 2015)</a></li>
<li><a href="../263999/index.html">Using Visual Studio Application Insights - Test Engineer's Experience</a></li>
<li><a href="../264001/index.html">We clean the Internet from annoying ads (AD Blocker for MikroTik)</a></li>
<li><a href="../264003/index.html">Lambda expressions in Java, how and why to serialize them?</a></li>
<li><a href="../264007/index.html">Magic of tensor algebra: Part 16 - Properties of the solid body inertia tensor</a></li>
<li><a href="../264009/index.html">Message Formatting for Yii :: t ()</a></li>
<li><a href="../264011/index.html">Microservices Q & A</a></li>
<li><a href="../264013/index.html">Antivirus # 2: Hacking BitDefender and Serious Symantec Vulnerabilities</a></li>
<li><a href="../264015/index.html">Sell ‚Äã‚ÄãSide Platform</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>