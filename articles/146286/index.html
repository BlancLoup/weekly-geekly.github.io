<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Deploying a radio station to GNU / Linux. Part I</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="First of all, I want to say that I read a lot of topics on Habr√© about the deployment of the radio, but none gave me comprehensive information. 
 I de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Deploying a radio station to GNU / Linux. Part I</h1><div class="post__text post__text-html js-mediator-article">  First of all, I want to say that I read a lot of topics on Habr√© about the deployment of the radio, but none gave me comprehensive information. <br>  I decided to do everything myself.  This is not some kind of project or startup, but just just4fun.  It may seem useful to you. <br>  So, I used only free software in the deployment of a radio stream, so that users of window $ and ma o $ can no longer read;).  Although no, still read, maybe this will open up GNU / Linux for you from the new side. <br><br><a name="habracut"></a><br><br>  <b>What I need from the broadcast stream:</b> <br><ul><li>  playing music </li><li>  live broadcast (voice) </li><li>  the above together </li><li>  all sorts of things like screensavers, laughter, etc. </li><li>  24/7 replacement thread (desirable) </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>Starting positions</b> <br><br><ul><li>  Router Dlink DIR-320 (I‚Äôm a <s>rogue</s> economist) </li><li>  PC with Gentoo Linux </li><li>  Microphone usual for 50 rubles, 1 pc </li></ul>  Studio microphone, 1 pc <br>  64 MB USB Drive <br><br><br>  First of all, the stock firmware of the router was demolished, and in its place OpenWRT rose from the trunk.  I will not talk about how to roll OpenWRT, it can be read, for example, <a href="">here</a> . <br>  Let me just say that <b>you need</b> to transfer the FS root of the router to an external USB flash drive using a block-extroot, because the built-in memory is only 4 megabytes, and also include the useradd program in the buildbox build parameters. <br><br>  So, the firmware is installed, the Internet works, SSH too, we go over SSH to our router and begin to understand. <br><br>  <b>I. Icecast</b> <br>  The question is, ‚Äúwhat to use as a stream server?‚Äù  I did not have.  In addition, it is quite stable and lightweight. <br><br>  Install icecast on the router: <br><pre><code class="bash hljs">opkg update opkg install icecast</code> </pre> <br>  Why on the router?  Of course, the computer is turned off at night, and 24/7 mode is planned. <br><br>  I will use Icecast in the sandbox, so I‚Äôll create an icecast user. <br>  The icecast configuration file is in XML format. <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#   useradd   busybox,  : opkg install shadow-useradd useradd icecast -g nogroup cp /etc/icecast.xml /usr/share/icecast # vi /usr/share/icecast/icecast.xml #  nano</span></span></code> </pre><br><br>  In truth, I generally used kate (kio-sftp) to edit this config, however, it does not matter. <br><br>  The config is well-documented.  For security, we need to set the chroot to one, but also the changeowner in our user.  Also note that paths in this case should be relative to basedir, but with a slash at the beginning.  And icecast does not like to create the paths itself. <br>  As an example, <a href="http://paste.kde.org/505358/">here is my config.</a> <br><br>  In my case, you need to create log files for the icecast user: <br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /usr/share/icecast mkdir <span class="hljs-built_in"><span class="hljs-built_in">log</span></span> <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> <span class="hljs-built_in"><span class="hljs-built_in">log</span></span> touch {error,access}.<span class="hljs-built_in"><span class="hljs-built_in">log</span></span> <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> - chown -R icecast <span class="hljs-built_in"><span class="hljs-built_in">log</span></span> <span class="hljs-comment"><span class="hljs-comment">#  icecast -b -c icecast.xml</span></span></code> </pre><br><br>  The web interface is available at <a href="http://192.168.1.1/">192.168.1.1</a> : 8000 <br><br>  By the way, add the line <br> <code>icecast -b -c /usr/share/icecast/icecast.xml</code> <br>  in /etc/rc.local, in order to start the icecast when loading the router. <br><br>  <b>II: Fallback stream</b> <br><br>  I will not be able to work 24 hours a day, so I need a fallback stream that will replace the main one at the same URL, in the case of the first offline. <br>  You will find the final version of the fallback stream setup in the second part, but for now I will use MPD for this. <br><br>  There is nothing difficult in setting up MPD for icecast, now it is being broadcast by me in parallel to ALSA and IceCast.  Just install mpd and open ~ / .mpdconf, both ALSA and Icecast will be configured there, you just need to uncomment and tweak the settings for you. <br><br>  <b>Suppose our main stream is <i>/ live</i> , and the fallback is <i>/mpd.ogg</i></b> <br>  Then add to icecast.xml: <br><pre> <code class="xml hljs"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mount</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mount-name</span></span></span><span class="hljs-tag">&gt;</span></span>/live<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mount-name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">fallback-mount</span></span></span><span class="hljs-tag">&gt;</span></span>/mpd.ogg<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">fallback-mount</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">fallback-override</span></span></span><span class="hljs-tag">&gt;</span></span>1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">fallback-override</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">fallback-when-full</span></span></span><span class="hljs-tag">&gt;</span></span>1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">fallback-when-full</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mount</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  Restart icecast (killall is our all), and try to open the address <br>  <a href="http://192.168.1.1/">192.168.1.1</a> : 8000 / live in the player.  Works?  Let's go further. <br><br>  <b>III: We climb to the Internet</b> <br><br>  It's time to set up a firewall to accept connections from the outside.  If you do not have a ‚Äúwhite‚Äù IP, use dyndns.org and refer to the openwrt documentation. <br><br>  In / etc / config / firewall, add the following lines: <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#ICECAST config rule option src wan option dest_port 8000 option target ACCEPT option proto tcp</span></span></code> </pre><br>  and restart the firewall: <br> <code>/etc/init.d/firewall restart</code> <br>  By the way, for me, the best way to check is not isup.me, but a mobile phone :).  In general, go further <br><br>  <b>IV: Client Setup</b> <br>  Client machine, i.e.  The desktop is also Linux, as I said at the beginning of the post. <br>  To control the radio, we will use the idjc free, open, and most importantly, non-portable (Linux only) program.  Let me quote a review from SourceForge: <br><br><blockquote>  In the past, I have streamed on Windows XP with both SAM and ShoutCast.  It‚Äôs a live streaming experience in my life.  Over six hours connected preformed flawlessly.  Kudos to those who put this together. <br></blockquote><br><br>  It was not in Gentoo portage, but, for example, it <a href="https://sourceforge.net/projects/idjc/">is</a> in Ubuntu.  I compiled a program from source.  I also needed to add the ‚Äújack‚Äù USE flag in /etc/make.conf to install it and integrate with alsa. <br><br>  To work, the program requires the JACK sound server (when people ask me what are the outstanding programs in Linux, but not in m $, I answer: <b>Rosegarden, Cinelerra, JACK, Ardour, MythTV</b> ! Well, idjc). <br>  Other dependencies: GTK +, pygtk and the presence of a sound card with headphones and a microphone. <br><br>  <i>IV.1 Jack Setup</i> <br>  Jack works in realtime mode, so it needs to be given where it goes. <br>  Add yourself to the audio group, then add to /etc/security.conf: <br><pre> <code class="bash hljs">@audio - rtprio 99 @audio - memlock unlimited @audio - nice -10</code> </pre><br>  and check it out. <br>  You also need to create a configuration file, for example: <br> <code><code><a href=""></a> <a href=""></a> <code>echo "/usr/bin/jackd -d -r 44100 -p 256" &gt; ~/.jackdrc <br>     JACK,    back-end'    (    ): <br> jackd -d <br> .. alsa  pulse <br> <br> <i>IV.2    idjc</i> <br> idjc   ,    .    ( ): <br> <img src="http://www.habrastorage.com/images/idjcmain.png" alt="image"> <br> <br>  2   ,     (  ),      (  ),   , (),  : <br>   4    6  Icecast/Shoutcast   MP3  OGG ()   FLAC    <br>    . Preferences  Jingles     ,     Output: <br> <br> <img src="http://www.habrastorage.com/images/idjcoutput.png" alt="image"> <br> <br>       ,    ,   . <br>         ,     . <br> <br>    ,      Format       ., ..   ,       . <br> ,        IRC. <br> <br> <b>V.  Skype</b> <br>   skype ‚òª  alsa-plugins.  Gentoo: <br> emerge alsa-plugins # USE="jack"</code> <br>    ~/.asoundrc : <br> <code class="bash"># VoIP plugin for the IDJC default profile. pcm.idjcvoip { type plug slave.pcm { type jack playback_ports { 0 idjc-mx_default:voip_in_l 1 idjc-mx_default:voip_in_r } capture_ports { 0 idjc-mx_default:voip_out_l 1 idjc-mx_default:voip_out_r } } }</code> <br>  . <br> ,    idjrc   JACK  jackd -d alsa ( pulse,  ).     ,   qjackctl. <br> <br>     idjcvoip (     ,   Ekiga   ): <br> <br> <a href=""><img src="http://www.habrastorage.com/images/skype.png" alt="image"></a> <br> <br>       ,    ,  - . <br> <br>   ,  .</code></code> <ul><li> <code><code><code><a href=""></a> <a href=""></a> echo "/usr/bin/jackd -d -r 44100 -p 256" &gt; ~/.jackdrc <br>     JACK,    back-end'    (    ): <br> jackd -d <br> .. alsa  pulse <br> <br> <i>IV.2    idjc</i> <br> idjc   ,    .    ( ): <br> <img src="http://www.habrastorage.com/images/idjcmain.png" alt="image"> <br> <br>  2   ,     (  ),      (  ),   , (),  : <br>   4    6  Icecast/Shoutcast   MP3  OGG ()   FLAC    <br>    . Preferences  Jingles     ,     Output: <br> <br> <img src="http://www.habrastorage.com/images/idjcoutput.png" alt="image"> <br> <br>       ,    ,   . <br>         ,     . <br> <br>    ,      Format       ., ..   ,       . <br> ,        IRC. <br> <br> <b>V.  Skype</b> <br>   skype ‚òª  alsa-plugins.  Gentoo: <br> emerge alsa-plugins # USE="jack" <br>    ~/.asoundrc : <br> <code class="bash"># VoIP plugin for the IDJC default profile. pcm.idjcvoip { type plug slave.pcm { type jack playback_ports { 0 idjc-mx_default:voip_in_l 1 idjc-mx_default:voip_in_r } capture_ports { 0 idjc-mx_default:voip_out_l 1 idjc-mx_default:voip_out_r } } }</code> <br>  . <br> ,    idjrc   JACK  jackd -d alsa ( pulse,  ).     ,   qjackctl. <br> <br>     idjcvoip (     ,   Ekiga   ): <br> <br> <a href=""><img src="http://www.habrastorage.com/images/skype.png" alt="image"></a> <br> <br>       ,    ,  - . <br> <br>   ,  .</code></code></code> </li> <li> <code><code><code><a href=""></a> <a href=""></a> echo "/usr/bin/jackd -d -r 44100 -p 256" &gt; ~/.jackdrc <br>     JACK,    back-end'    (    ): <br> jackd -d <br> .. alsa  pulse <br> <br> <i>IV.2    idjc</i> <br> idjc   ,    .    ( ): <br> <img src="http://www.habrastorage.com/images/idjcmain.png" alt="image"> <br> <br>  2   ,     (  ),      (  ),   , (),  : <br>   4    6  Icecast/Shoutcast   MP3  OGG ()   FLAC    <br>    . Preferences  Jingles     ,     Output: <br> <br> <img src="http://www.habrastorage.com/images/idjcoutput.png" alt="image"> <br> <br>       ,    ,   . <br>         ,     . <br> <br>    ,      Format       ., ..   ,       . <br> ,        IRC. <br> <br> <b>V.  Skype</b> <br>   skype ‚òª  alsa-plugins.  Gentoo: <br> emerge alsa-plugins # USE="jack" <br>    ~/.asoundrc : <br> <code class="bash"># VoIP plugin for the IDJC default profile. pcm.idjcvoip { type plug slave.pcm { type jack playback_ports { 0 idjc-mx_default:voip_in_l 1 idjc-mx_default:voip_in_r } capture_ports { 0 idjc-mx_default:voip_out_l 1 idjc-mx_default:voip_out_r } } }</code> <br>  . <br> ,    idjrc   JACK  jackd -d alsa ( pulse,  ).     ,   qjackctl. <br> <br>     idjcvoip (     ,   Ekiga   ): <br> <br> <a href=""><img src="http://www.habrastorage.com/images/skype.png" alt="image"></a> <br> <br>       ,    ,  - . <br> <br>   ,  .</code></code></code> </li> <li> <code><code><code><a href=""></a> <a href=""></a> echo "/usr/bin/jackd -d -r 44100 -p 256" &gt; ~/.jackdrc <br>     JACK,    back-end'    (    ): <br> jackd -d <br> .. alsa  pulse <br> <br> <i>IV.2    idjc</i> <br> idjc   ,    .    ( ): <br> <img src="http://www.habrastorage.com/images/idjcmain.png" alt="image"> <br> <br>  2   ,     (  ),      (  ),   , (),  : <br>   4    6  Icecast/Shoutcast   MP3  OGG ()   FLAC    <br>    . Preferences  Jingles     ,     Output: <br> <br> <img src="http://www.habrastorage.com/images/idjcoutput.png" alt="image"> <br> <br>       ,    ,   . <br>         ,     . <br> <br>    ,      Format       ., ..   ,       . <br> ,        IRC. <br> <br> <b>V.  Skype</b> <br>   skype ‚òª  alsa-plugins.  Gentoo: <br> emerge alsa-plugins # USE="jack" <br>    ~/.asoundrc : <br> <code class="bash"># VoIP plugin for the IDJC default profile. pcm.idjcvoip { type plug slave.pcm { type jack playback_ports { 0 idjc-mx_default:voip_in_l 1 idjc-mx_default:voip_in_r } capture_ports { 0 idjc-mx_default:voip_out_l 1 idjc-mx_default:voip_out_r } } }</code> <br>  . <br> ,    idjrc   JACK  jackd -d alsa ( pulse,  ).     ,   qjackctl. <br> <br>     idjcvoip (     ,   Ekiga   ): <br> <br> <a href=""><img src="http://www.habrastorage.com/images/skype.png" alt="image"></a> <br> <br>       ,    ,  - . <br> <br>   ,  .</code></code></code> </li> <li> <code><code><code><a href=""></a> <a href=""></a> echo "/usr/bin/jackd -d -r 44100 -p 256" &gt; ~/.jackdrc <br>     JACK,    back-end'    (    ): <br> jackd -d <br> .. alsa  pulse <br> <br> <i>IV.2    idjc</i> <br> idjc   ,    .    ( ): <br> <img src="http://www.habrastorage.com/images/idjcmain.png" alt="image"> <br> <br>  2   ,     (  ),      (  ),   , (),  : <br>   4    6  Icecast/Shoutcast   MP3  OGG ()   FLAC    <br>    . Preferences  Jingles     ,     Output: <br> <br> <img src="http://www.habrastorage.com/images/idjcoutput.png" alt="image"> <br> <br>       ,    ,   . <br>         ,     . <br> <br>    ,      Format       ., ..   ,       . <br> ,        IRC. <br> <br> <b>V.  Skype</b> <br>   skype ‚òª  alsa-plugins.  Gentoo: <br> emerge alsa-plugins # USE="jack" <br>    ~/.asoundrc : <br> <code class="bash"># VoIP plugin for the IDJC default profile. pcm.idjcvoip { type plug slave.pcm { type jack playback_ports { 0 idjc-mx_default:voip_in_l 1 idjc-mx_default:voip_in_r } capture_ports { 0 idjc-mx_default:voip_out_l 1 idjc-mx_default:voip_out_r } } }</code> <br>  . <br> ,    idjrc   JACK  jackd -d alsa ( pulse,  ).     ,   qjackctl. <br> <br>     idjcvoip (     ,   Ekiga   ): <br> <br> <a href=""><img src="http://www.habrastorage.com/images/skype.png" alt="image"></a> <br> <br>       ,    ,  - . <br> <br>   ,  .</code></code></code> </li> </ul> <code><code><a href=""></a> <a href=""></a> <code>echo "/usr/bin/jackd -d -r 44100 -p 256" &gt; ~/.jackdrc <br>     JACK,    back-end'    (    ): <br> jackd -d <br> .. alsa  pulse <br> <br> <i>IV.2    idjc</i> <br> idjc   ,    .    ( ): <br> <img src="http://www.habrastorage.com/images/idjcmain.png" alt="image"> <br> <br>  2   ,     (  ),      (  ),   , (),  : <br>   4    6  Icecast/Shoutcast   MP3  OGG ()   FLAC    <br>    . Preferences  Jingles     ,     Output: <br> <br> <img src="http://www.habrastorage.com/images/idjcoutput.png" alt="image"> <br> <br>       ,    ,   . <br>         ,     . <br> <br>    ,      Format       ., ..   ,       . <br> ,        IRC. <br> <br> <b>V.  Skype</b> <br>   skype ‚òª  alsa-plugins.  Gentoo: <br> emerge alsa-plugins # USE="jack"</code> <br>    ~/.asoundrc : <br> <code class="bash"># VoIP plugin for the IDJC default profile. pcm.idjcvoip { type plug slave.pcm { type jack playback_ports { 0 idjc-mx_default:voip_in_l 1 idjc-mx_default:voip_in_r } capture_ports { 0 idjc-mx_default:voip_out_l 1 idjc-mx_default:voip_out_r } } }</code> <br>  . <br> ,    idjrc   JACK  jackd -d alsa ( pulse,  ).     ,   qjackctl. <br> <br>     idjcvoip (     ,   Ekiga   ): <br> <br> <a href=""><img src="http://www.habrastorage.com/images/skype.png" alt="image"></a> <br> <br>       ,    ,  - . <br> <br>   ,  .</code></code> <pre> <code class="hljs 1c"><code><a href=""></a> <a href=""></a> <code>echo <span class="hljs-string"><span class="hljs-string">"/usr/bin/jackd -d -r 44100 -p 256"</span></span> &gt; <span class="hljs-symbol"><span class="hljs-symbol">~/.jackdrc </span></span><br><span class="hljs-symbol"><span class="hljs-symbol">     JACK,    back-end'    (    )</span></span>: <br> jackd -d <br> .. alsa <span class="hljs-keyword"><span class="hljs-keyword"></span></span> pulse <br> <br> <i>IV.<span class="hljs-number"><span class="hljs-number">2</span></span>    idjc</i> <br> idjc   ,    .    ( ): <br> <img src="http://www.habrastorage.com/images/idjcmain.png" alt="image"> <br> <br>  <span class="hljs-number"><span class="hljs-number">2</span></span>   ,     (  ),      (  ),   , (),  : <br>   <span class="hljs-number"><span class="hljs-number">4</span></span>    <span class="hljs-number"><span class="hljs-number">6</span></span>  Icecast/Shoutcast   MP3  OGG ()   FLAC    <br>    . Preferences  Jingles     ,     Output: <br> <br> <img src="http://www.habrastorage.com/images/idjcoutput.png" alt="image"> <br> <br>  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>     ,    ,   . <br>         , <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  <span class="hljs-built_in"><span class="hljs-built_in"></span></span>  . <br> <br>    ,      Format   <span class="hljs-built_in"><span class="hljs-built_in"></span></span>    ., ..   ,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>     . <br> ,        IRC. <br> <br> <b>V.  Skype</b> <br>   skype ‚òª  alsa-plugins.  Gentoo: <br> emerge alsa-plugins <span class="hljs-meta"><span class="hljs-meta"># USE="jack"</span></span></code><span class="hljs-meta"><span class="hljs-meta"> </span></span><br><span class="hljs-meta"><span class="hljs-meta">    ~/.asoundrc : </span></span><br><span class="hljs-meta"><span class="hljs-meta"> </span></span><code class="bash"><span class="hljs-meta"><span class="hljs-meta"># VoIP plugin for the IDJC default profile. pcm.idjcvoip { type plug slave.pcm { type jack playback_ports { 0 idjc-mx_default:voip_in_l 1 idjc-mx_default:voip_in_r } capture_ports { 0 idjc-mx_default:voip_out_l 1 idjc-mx_default:voip_out_r } } }</span></span></code><span class="hljs-meta"><span class="hljs-meta"> </span></span><br><span class="hljs-meta"><span class="hljs-meta">  . </span></span><br><span class="hljs-meta"><span class="hljs-meta"> , </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta">   idjrc   JACK  jackd -d alsa ( pulse, </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta"> ). </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta">    ,   qjackctl. </span></span><br><span class="hljs-meta"><span class="hljs-meta"> </span></span><br><span class="hljs-meta"><span class="hljs-meta">     idjcvoip (   </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta">  ,   Ekiga </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta">  ): </span></span><br><span class="hljs-meta"><span class="hljs-meta"> </span></span><br><span class="hljs-meta"><span class="hljs-meta"> </span></span><a href=""><img src="http://www.habrastorage.com/images/skype.png" alt="image"></a><span class="hljs-meta"><span class="hljs-meta"> </span></span><br><span class="hljs-meta"><span class="hljs-meta"> </span></span><br><span class="hljs-meta"><span class="hljs-meta">    </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta">   ,    ,  - . </span></span><br><span class="hljs-meta"><span class="hljs-meta"> </span></span><br><span class="hljs-meta"><span class="hljs-meta">   ,  .</span></span></code></code> </pre> <code><code><a href=""></a> <a href=""></a> <code>echo "/usr/bin/jackd -d -r 44100 -p 256" &gt; ~/.jackdrc <br>     JACK,    back-end'    (    ): <br> jackd -d <br> .. alsa  pulse <br> <br> <i>IV.2    idjc</i> <br> idjc   ,    .    ( ): <br> <img src="http://www.habrastorage.com/images/idjcmain.png" alt="image"> <br> <br>  2   ,     (  ),      (  ),   , (),  : <br>   4    6  Icecast/Shoutcast   MP3  OGG ()   FLAC    <br>    . Preferences  Jingles     ,     Output: <br> <br> <img src="http://www.habrastorage.com/images/idjcoutput.png" alt="image"> <br> <br>       ,    ,   . <br>         ,     . <br> <br>    ,      Format       ., ..   ,       . <br> ,        IRC. <br> <br> <b>V.  Skype</b> <br>   skype ‚òª  alsa-plugins.  Gentoo: <br> emerge alsa-plugins # USE="jack"</code> <br>    ~/.asoundrc : <br> <code class="bash"># VoIP plugin for the IDJC default profile. pcm.idjcvoip { type plug slave.pcm { type jack playback_ports { 0 idjc-mx_default:voip_in_l 1 idjc-mx_default:voip_in_r } capture_ports { 0 idjc-mx_default:voip_out_l 1 idjc-mx_default:voip_out_r } } }</code> <br>  . <br> ,    idjrc   JACK  jackd -d alsa ( pulse,  ).     ,   qjackctl. <br> <br>     idjcvoip (     ,   Ekiga   ): <br> <br> <a href=""><img src="http://www.habrastorage.com/images/skype.png" alt="image"></a> <br> <br>       ,    ,  - . <br> <br>   ,  .</code></code> </div><p>Source: <a href="https://habr.com/ru/post/146286/">https://habr.com/ru/post/146286/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../146277/index.html">Google Play and root rights for Android Emulator</a></li>
<li><a href="../146278/index.html">Feedback</a></li>
<li><a href="../146279/index.html">Pentagon is testing an operating system to control an army of robots</a></li>
<li><a href="../146282/index.html">Customer-Executor: avoid accidents</a></li>
<li><a href="../146284/index.html">Logical security holes Sberbank OnL @ yn</a></li>
<li><a href="../146287/index.html">Opera contest: Where is it located?</a></li>
<li><a href="../146288/index.html">Opera 12: memory address bar</a></li>
<li><a href="../146289/index.html">SQL Server Reporting Services in the Cloud</a></li>
<li><a href="../146290/index.html">The consequences of a ban or again blackjack and hookers</a></li>
<li><a href="../146293/index.html">Lenovo ThinkPad Tablet Update to Android 4.0.3</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>