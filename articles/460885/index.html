<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Interesting reports on HighLoad ++ Siberia 2019 according to Plesk</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! A conference on the development of highly loaded applications HighLoad ++ Siberia 2019 was held in Novosibirsk in June. Earlier in the articles...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Interesting reports on HighLoad ++ Siberia 2019 according to Plesk</h1><div class="post__text post__text-html js-mediator-article">  Hello!  A conference on the development of highly loaded applications HighLoad ++ Siberia 2019 was held in Novosibirsk in June. Earlier in the articles on Habr√©, we mentioned that we at Plesk conduct a retrospective of conferences and reports that we attend so as not to lose the knowledge gained and subsequently apply them.  We will tell you which reports we noted for ourselves, and also share with you a retrospective recipe.  The organizers are gradually posting the video here: <a href="https://www.youtube.com/user/profyclub/">youtube channel</a> .  Part of what we are describing can already be seen. <br><a name="habracut"></a><br><h2>  Reports Overview </h2><br><h3>  <a href="http://www.highload.ru/siberia/2019/abstracts/5143">Failover Cluster PostgreSQL + Patroni.</a>  <a href="http://www.highload.ru/siberia/2019/abstracts/5143">Real implementation experience</a> </h3>  <i><a href="http://www.highload.ru/siberia/2019/authors/9075">Victor Eremchenko</a> (Miro)</i> <br><br>  This is a review report on the successful migration of Redis -&gt; PostgreSQL -&gt; Pgbouncer + PostgreSQL -&gt; Patroni Consul + Pgbouncer + PostgreSQL.  The author gives schemes, typical pitfalls of obvious solutions, talks about alternative solutions and why they did not fit.  From the interesting: <br><br><ul><li>  Miro engineers have put together their solution so as not to pay for Amazon RDS, and this solution so far suits them. </li><li>  Likbez on connection managers for PostgreSQL. </li><li>  Describes the process of updating cluster nodes without stopping the application. </li><li>  Shows a trick to quickly update PostgreSQL. </li></ul><br>  It is useful to see those who use or are going to use PostgreSQL, and who have an increasing amount of data. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  <a href="https://www.highload.ru/siberia/2019/abstracts/5423">Implementing a geo-distributed persistent message queue using the Yandex Message Queue as an example</a> </h3>  <i><a href="https://www.highload.ru/siberia/2019/authors/10152">Vasily Bogonatov</a> (Yandex)</i> <br><br>  As an introductory speaker, he made a brief comparison of some features of Kafka and RabbitMQ.  Briefly: Kafka - a simple queue, a complex recipient;  RabbitMQ is a complex queue, a simple receiver.  The author also spoke about the types of guarantees for delivering messages from the queue.  Important note: no queue can deliver a message exactly 1 time without support on the sender and recipient. <br><br>  The report is dedicated to YandexMQ.  YandexMQ (YMQ) is an API compatible with Amazon SQS queue.  The foundation of YandexMQ is Yandex Database (YDB).  Vasily showed the advantage of YandexMQ, how to achieve strict consistency and reliability, and reviewed the architecture of YMQ.  YMQ implements the Competing consumers pattern - one message to one consumer.  YMQ chip: when consumer asks for a message, it is hidden in the queue so that no one else takes it into processing.  If there are problems during processing, then after VisibilityTimeout the message becomes visible in the queue again.  The speaker claims that Apache Kafka has a data loss problem when the process is suddenly killed, Yandex MessageQueue is resistant to this. <br><img src="https://habrastorage.org/webt/vf/bp/02/vfbp02d9gyaklpep05rarlrov50.png"><br><br>  The report is recommended to everyone who wants to understand the fundamental features of the queues. <br><br><h3>  <a href="https://www.highload.ru/siberia/2019/abstracts/5208">Time series data in a relational DBMS.</a>  <a href="https://www.highload.ru/siberia/2019/abstracts/5208">Extensions TimescaleDB and PipelineDB for PostgreSQL</a> </h3>  <i><a href="https://www.highload.ru/siberia/2019/authors/9667">Ivan Muratov</a> (First Monitoring Company)</i> <br><br>  Report on how to store and process data in the PostgreSQL time series. <br><br>  TimescaleDB allows you to store large volumes through tricky partitioning, and PipelineDB provides work with streams directly in PostgreSQL (as well as integration with queues). <br><br>  TimescaleDB: <br><br><ul><li>  It has a very stable recording speed with an increase in the volume of the database under heavy loads and with an increase in the number of partitions, measured in thousands. </li><li>  Allows you to use standard PostgreSQL features such as SQL, replication, backup, restore, etc. </li><li>  Declared a good set of integrations, for example, with Prometheus, Telegraf, Grafana, Zabbix, Kubernetes. </li><li>  There is a free open source version. </li></ul><br>  The main idea: TimescaleDB is needed primarily for storing data. <br><br>  PipelineDB: <br><br><ul><li>  Allows you to continuously process incoming data using SQL and add the result to a table. </li><li>  Has an SQL interface. </li><li>  There is a performance of stored procedures under the conditions. </li><li>  Integrations with Apache Kafka and Amazon Kinesis are possible. </li><li>  There is a free open source version. </li><li>  PipelineDB development is frozen on version 1.0, and now only bug fixes are released. </li></ul><br>  The main idea: PipelineDB is needed primarily for data processing. <br><img src="https://habrastorage.org/webt/vy/up/al/vyupalcyz4g2-lmsf4ozudn5aiu.png"><br><br>  For tasks where a relational DBMS, NoSQL and time series are needed at the same time, this option can be quite convenient. <br><br><h3>  <a href="http://www.highload.ru/siberia/2019/abstracts/5361">Not very big data</a> </h3>  <i><a href="http://www.highload.ru/siberia/2019/authors/10202">Pavel Luzanov</a> (Postgres Professional)</i> <br><br>  A good overview report on PostgreSQL, table inheritance and Tips &amp; Tricks performance PostgreSQL 10, 11, 12+.  Partitioning through inheritance, sharding.  It is useful to see everyone who uses PostgreSQL and wants to make it a little faster. <br><br><h3>  <a href="http://www.highload.ru/siberia/2019/abstracts/5334">The architecture of a high-performance and highly accessible monitoring system in Yandex</a> </h3>  <i><a href="http://www.highload.ru/siberia/2019/authors/10222">Sergey Polovko</a> (Yandex)</i> <br><br>  About the Yandex Monitoring cloud product, which is still in the ‚ÄúPreview‚Äù stage, is free.  Quite a bit about architecture.  An interesting technique is shown - the separation of metadata from data, which enables independent scaling and optimization.  Grafana is used as a GUI, while its alerts are not in Grafana. <br><img src="https://habrastorage.org/webt/pl/3g/ie/pl3gie7czewvkmg4nnq14yatjqo.png"><br><br><h3>  <a href="http://www.highload.ru/siberia/2019/abstracts/5425">Database Administrator Routine</a> </h3>  <i><a href="http://www.highload.ru/siberia/2019/authors/2908">Andrey Salnikov</a> (Data Egret)</i> <br><br>  Experience in commercial system administration of many PostgreSQL servers.  It tells about which server parameters are automatically monitored, how tasks are prioritized. <br>  Data Egret uses generalized experience in the Wiki with recipes, checklists - this is the basis for future articles and reports.  Use the incident database with a description of problems and solutions - this significantly saves resources.  Released a number of utilities for working with PostgreSQL, provide links to them. <br><img src="https://habrastorage.org/webt/12/51/qf/1251qfbckzqmls5gzwhrmif7bua.png"><br><br><h3>  <a href="http://www.highload.ru/siberia/2019/abstracts/5215">Yandex.Market search infrastructure</a> </h3>  <i><a href="http://www.highload.ru/siberia/2019/authors/9678">Evgeny Sokolov</a> (Yandex.Market)</i> <br><br>  Report on the architecture of a complex, highly accessible, distributed Yandex.Market application and on the processes and tools for its development, testing, updating, monitoring.  From the interesting: <br><br><ul><li>  ‚ÄúStop-crane‚Äù is its solution for quick application and rollback of configuration, it helps to test new functionality. </li><li>  Traffic is redirected from the current data center by the balancer to another data center in case of problems. </li><li>  Graphite and Grafana are used for monitoring. </li><li>  There is duplicate basic monitoring on another technology stack. </li><li>  A Shadow cluster is used for developers, which duplicates part of the user traffic.  Users do not see the responses of the Shadow cluster. </li><li>  An automatic quality calculation is performed during A / B testing. </li></ul><br><img src="https://habrastorage.org/webt/i5/8q/dg/i58qdgf5zm_4oflducfdohhnv-0.png"><br><br><h3>  <a href="http://www.highload.ru/siberia/2019/abstracts/4746">ClickHouse and a thousand charts</a> </h3>  <i><a href="http://www.highload.ru/siberia/2019/authors/9179">Anton Alekseev</a> (2GIS)</i> <br><br>  Report on what ClickHouse is good at and how to cook it in conjunction with Grafana.  The main interesting: <br><br><ul><li>  If there is not enough speed, it is worth using sampling (it is argued that the accuracy of the data after sampling is enough).  Sampling in ClickHouse - partial sampling of data with aggregation while maintaining the ratio of various values ‚Äã‚Äãin the table key, allows you to speed up aggregation at the same time and at the same time have a result that is very close to real. </li><li>  ClickHouse can be used to quickly investigate incidents (an interesting example in the report). </li><li>  ClickHouse also has a MaterializedView to speed up fetching. </li><li>  ClickHouse HTTP interface for querying and data loading is described. </li></ul><br><br>  In conclusion of the review of reports, I would like to note that we also really liked the report <a href="http://www.highload.ru/siberia/2019/abstracts/5353">‚ÄúVideo Calls: from millions per day to 100 participants in one conference‚Äù</a> ( <a href="http://www.highload.ru/siberia/2019/authors/3544">Alexander Tobol</a> / Odnoklassniki), which was included in the list of the best conference reports according to the voting results.  This is a great overview of how videoconferencing works for a group of participants.  The report is distinguished by an understandable systemic presentation.  If you suddenly have to make video calls, you can see the report in order to quickly gain insight into the subject area. <br><br><h2>  Plesk Conferences Retrospective Structure </h2><br>  And now, for dessert, about how we write a retrospective inside the company.  First of all, we try to write retro in the first week after attending the conference, while our memories are still fresh.  By the way, the retrospective material can then serve as the basis for the article, as you might guess;) <br><br>  The purpose of writing a retrospective is not only to consolidate knowledge, but also to share it with those who were not at the conference, but want to keep abreast of the latest trends, interesting solutions.  A ready-made list helps reduce the time to search for interesting reports to view.  We write out the lessons that we have learned for ourselves, mark specific people with a note, why you need to see the report and think about the ideas and decisions of others.  The written lessons help to focus and not lose what we wanted to do.  After looking at the recordings in 3-6 months, we will understand if we have forgotten about something important. <br><br>  We store documentation in the company in Confluence, for conferences we have a separate page tree, a piece of wood: <br><br><img src="https://habrastorage.org/webt/yg/k_/te/ygk_tewlhqzlo1dkmzi5hndbi8i.png"><br><br>  As can be seen from the screenshot, we lay out the materials by year for ease of navigation. <br><br>  Inside the page dedicated to a specific conference, we store the following sections: overview with links to the event website, schedule, videos and presentations, list of participants (in person and on broadcasts), general impression (overall impression) and detailed overview (detailed overview) )  By the way, we generate a page for retro from a template in which the entire structure already exists.  We also make up the contents of the headings so that you can very quickly view the list of reports and go to the right one. <br><br>  The Overall impression section gives a brief assessment of the conference and gives the participants' impressions.  If the participants were at the conference in past years, they can compare their levels and generally understand for themselves the usefulness of attending the event. <br><br>  The Detailed overview section contains a table: <br><br><img src="https://habrastorage.org/webt/8z/ft/c_/8zftc_g9df_erccn_lx0etu0p-a.png"><br><br>  An example of filling a table: <br><br><img src="https://habrastorage.org/webt/3t/8y/kc/3t8ykcpos7kxx_oq1sdekoneksk.png"><br><br>  We would be interested to know what reports you liked at Highload Siberia 2019, as well as your experience in conducting retrospectives. </div><p>Source: <a href="https://habr.com/ru/post/460885/">https://habr.com/ru/post/460885/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../460873/index.html">Why Turok: Dinosaur Hunter for N64 is years ahead of its time</a></li>
<li><a href="../460875/index.html">How we at QIWI came to a common style of interaction between View and ViewModel within MVVM</a></li>
<li><a href="../460877/index.html">Kubernetes Dailymotion Adventure: Building Infrastructure in the Clouds + on-premises</a></li>
<li><a href="../460879/index.html">DUMP Kazan 2019 - Tatarstan Developers Conference. We accept applications for reports</a></li>
<li><a href="../460883/index.html">About life in a world of changing requirements and the benefits of small features</a></li>
<li><a href="../460887/index.html">Not another programming language. Part 3: Physics</a></li>
<li><a href="../460891/index.html">How to distinguish good SCRUM from bad, using the approach of the founder of quantum computing</a></li>
<li><a href="../460893/index.html">A look at relocation to Estonia from the inside out - pros, cons and pitfalls</a></li>
<li><a href="../460897/index.html">JUnit in GitLab CI with Kubernetes</a></li>
<li><a href="../460899/index.html">July 26, Deworkacy - DocOps from Rostelecom</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>