<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Critical errors in the design of process control systems and PLC programming</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In industry, automated process control systems (APCS) are being implemented on industrial programmable logic controllers (PLCs) at modernization sites...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Critical errors in the design of process control systems and PLC programming</h1><div class="post__text post__text-html js-mediator-article">  In industry, automated process control systems (APCS) are being implemented on industrial programmable logic controllers (PLCs) at modernization sites.  Newly supplied equipment, already by default contains an ACS on the PLC.  But the quality of the design of the automated process control system and programming of the PLC sometimes does not correspond to the logic and requirements for reliable protection of the controlled object.  In this article I will talk about a typical error in the design and programming of conventional industrial equipment. <br><a name="habracut"></a><br><h4>  <b>Introduction</b> </h4><br>  Consider a typical object containing an ACS on a PLC in industry.  In the mining industry, at the processing plants (PF), at the grinding stage of minerals (ore), various types of mills are used.  They are ball, rod, vertical fine grinding, etc.  The main function of these mills is the grinding of ore to the fraction needed later for the chemical extraction of minerals.  Such equipment has its weak points during operation.  Pobedit main bearings, gears, etc.  They require constant monitoring of temperature, the presence of lubricant, etc.  In case of overheating or dry running, the ACS should shut down the unit until the state of the nodes has reached a critical point.  Software implementations of these protections and interlocks are typical and standard for this kind of equipment. <br><br><h4>  <b>What are the mistakes?</b> </h4><br>  Let's consider two main errors in the design and programming of ACS for equipment of this type.  The first mistake is incorrect design of the relay part of the control of the main drive or critical mechanism.  The second error is the lack of a program in handling fatal PLC errors. <br><br><h4>  <b>Errors in schemes.</b> </h4><br>  Consider the case with the relay part.  The figure shows an example of such an error.  The diagram shows only a part of the shutdown control of the main drive of the equipment. <br> <a href=""><img src="https://habrastorage.org/files/c87/5be/28d/c875be28d8e142d4914f852aaa323119.jpg"></a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      At first glance, the usual relay circuit.  But if you look at it, you can determine that sooner or later there will come a time when the relay circuit will not be able to turn off the main drive in the event of an emergency.  Let's look at the scheme.  The main drive is switched off by the PLC with a discrete output.  In this circuit, it is a relay, but it can be transistor, the essence will not change.  So, if for some reason the K1 relay coil burns during equipment operation, then in the event of an accident, the controller will give a signal to turn off the main drive, but the signal will not go further than the burned coil.  But after all, according to the technology, when the main drive is disconnected, the auxiliary equipment is also required to be turned off, in this case it is an oil pump.  So water in an accident, the oil pump will be safely disconnected, and the main drive will remain thresh on the "dry".  Fortunately, the system will also turn on the alert, so that the nasty screaming bell and the blinking red lamp will attract the attention of the attendants and the ‚Äúcatastrophe‚Äù will not happen.  After that, local electricians or Kipovtsy, find the cause of this disgrace, change the relay and everything will fall into place, perhaps someone will think about how to avoid it in the future, but hardly. <br>  So in this circuit, relay K1 is a weak link.  What can be done so that this does not happen.  Elementary.  The shutdown signal of the BB is put on the normally-closed contact of the relay K1, and the relay itself is attracted during the start-up of the main drive and is in working condition to keep it pulled.  By the way, the emergency stop button is also not worth it.  Either the contacts of the button must directly disconnect the actuator, or, if there are several such mechanisms, break the relay circuit, the contacts of which already disconnect the actuators.  By the way, this inclusion of intermediate control relays for critical actuators also gives rise to erroneous testing with PLC programming errors. <br><br><h4>  <b>PLC programming errors.</b> </h4><br>  When programming a PLC, some programmers make mistakes that lead to emergencies in production. <br>  Recently I had to face this situation.  The circuit for switching off the main drive was the same as above.  A programming error caused the main drive to work for ‚Äúdry‚Äù four hours, which caused the gearbox to overheat.  As a result, the gearbox is completely out of order, and this is an expensive element in this equipment.  What went wrong? <br>  When identifying the cause of the accident, which led to high material costs, it was found that the PLC switched to STOP mode due to the watchdog timer.  Accordingly, the relay circuit disconnected all auxiliary equipment except the main drive.  The watchdog timer was triggered by the presence of a dead-end branch in the algorithm that did not cause a loop in the main function.  And as you know, almost all firms producing PLC, the transition of the PLC to the "STOP" mode, is accompanied by the installation of discrete outputs in a safe state.  In this case, the state is disabled.  In this ACS, the programmer made two errors: <br><ol><li>  The branched algorithm had a dead-end branch, which led to the triggering of the watchdog timer. </li><li>  There was no exception handling in the program, thus the PLC switched to the ‚ÄúSTOP‚Äù mode. </li></ol><br>  The first error we will write off on the complexity of the program, in which it is difficult to find this type of error. <br>  The second error can be attributed only to the lack of competence of the programmer. <br>  As is known, many PLCs have software modules for testing various fatal PLC errors.  Consider these modules on the example of the PLC from the company Siemens. <br>  Here is a small example of such an error. <br> <a href=""><img src="https://habrastorage.org/files/02e/ffb/154/02effb154af745e5831afaa2c5eb68e8.jpg"></a> <br>  Here, the programmer performs linearization of the analog input based on the library function FC105.  In the main loop to enable bit M0.1, the analog signal is scaled.  Everything would be fine, but if the FC105 is not loaded into the PLC, then when executing this line, the PLC will fall out into ‚ÄúSTOP SF‚Äù if you do not specify a program error handler, the so-called OB121.  If such a handler is flooded into the PLC, then with such errors the SF indication will appear, but the PLC will not go off to the STOP mode, and will continue to execute the user program. <br><br><h4>  <b>Let's sum up</b> </h4><br>  The relay circuit must be designed in such a way that in any emergency situation, be it a technological accident or a PLC error, the switching off of the actuators is mandatory, regardless of the nature of the occurrence of the accident.  Approaching programming of the PLC with full responsibility, because the equipment, which is designed to protect the process control system from critical operating conditions, leading to the destruction of mechanisms, is much more expensive than the control system itself. <br>  In this scheme it was necessary to use the following inclusion of components of the relay scheme. <br> <a href=""><img src="https://habrastorage.org/files/a1a/b13/8b4/a1ab138b4cce470e8bb8268ca25fd98b.jpg"></a> <br>  And in the software module OB121, perform some actions on archiving the failure that occurred in the PLC. <br><br>  <i><b>A video showing the behavior of PLC with software errors and their processing is presented below.</b></i> <br><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/z2275gNL6Jo%3Ffeature%3Doembed&amp;xid=17259,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhHBhHfpcyUpIFOpNsIxnXjLHh0Eg" frameborder="0" allowfullscreen=""></iframe><br><br><h4>  <b>Conclusion</b> </h4><br>  Schematic solution and software implementations are often deep errors that are not always detected at the start-up stage.  In the course of operation, the specialists of the enterprise do not always carry out a complete test complex of the system reliability.  In addition, the staff is often lacking qualifications.  Let's hope that such emergencies will be negligible, and they will not lead to injuries at work. <br><br>  <b>PS</b> <br>  Leaving just empty software blocks for handling hardware or software errors is also not worth it.  They need to perform any actions to detect such errors or to collect PLC failure statistics and possible causes. </div><p>Source: <a href="https://habr.com/ru/post/274727/">https://habr.com/ru/post/274727/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../274717/index.html">Gospel Information Architecture Site</a></li>
<li><a href="../274719/index.html">Parametric design. Next half step after Design in browser</a></li>
<li><a href="../274721/index.html">BEM obsession. Consequence of parametric design</a></li>
<li><a href="../274723/index.html">[Translation] Associative arrays in the D language</a></li>
<li><a href="../274725/index.html">Setting the problem of computer vision</a></li>
<li><a href="../274729/index.html">Calculation of binomial coefficients using Fourier transforms</a></li>
<li><a href="../274731/index.html">Easy setup Asterisk + Fail2Ban</a></li>
<li><a href="../274733/index.html">Using LSM engine from SQLite 4 as a separate NoSQL database using Python</a></li>
<li><a href="../274735/index.html">How much does it cost: Gigabyte traffic in Africa</a></li>
<li><a href="../274739/index.html">Translation: The tragedy of common lisp</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>