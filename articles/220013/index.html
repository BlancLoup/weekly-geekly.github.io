<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Neutralizing the effects of Heartbleed in Drupal 7</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Surely everyone knows that on April 8, 2014, The OpenSSL Project employees released a security bulletin that reported the critical vulnerability CVE-2...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Neutralizing the effects of Heartbleed in Drupal 7</h1><div class="post__text post__text-html js-mediator-article">  Surely everyone knows that on April 8, 2014, The OpenSSL Project employees released a security bulletin that reported the critical vulnerability CVE-2014-0160 in the popular OpenSSL cryptographic library. <br>  More information about this vulnerability has already been written on <a href="http://habrahabr.ru/post/218609/">Habr√©</a> , and here we will look at how to secure your Drupal site. <br><a name="habracut"></a><br>  You can check whether your site is vulnerable by using this service - <a href="http://filippo.io/Heartbleed/">http://filippo.io/Heartbleed/</a> (or to taste - <a href="http://possible.lv/tools/hb/">http://possible.lv/tools/hb/</a> or <a href="http://www.ssllabs.com/ssltest/">http://www.ssllabs.com/ ssltest /</a> ). <br>  Since  The vulnerability concerns SSL, then you need to check only HTTPS hosts. <br><br>  If you are unlucky and there is a vulnerability, then first of all you need to <a href="http://habrahabr.ru/post/218713/">update</a> the OpenSSL library, or contact support in case of a rented hosting. <br><br>  Next, we will consider the points that I would recommend to everyone, regardless of the previous test, because by the time of your check, the vulnerability could have been closed and it was impossible to find out if it was exploited. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Change SSL certificates </h4><br>  You need to change the SSL certificates based on the new private key and revoke the old certificates. <br>  These items are pretty specific.  And depend on where you bought the certificates. <br><br><h4>  Replace private variable values </h4><br><ul><li>  <i>Drupal_private_key</i> update <br>  using hook_update () <br><pre><code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">your_module_update_X</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ variable_set(<span class="hljs-string"><span class="hljs-string">'drupal_private_key'</span></span>, drupal_random_key()); }</code> </pre> <br>  or drush team <br><pre> <code class="bash hljs">drush <span class="hljs-built_in"><span class="hljs-built_in">eval</span></span> ‚Äúvariable_set(<span class="hljs-string"><span class="hljs-string">'drupal_private_key'</span></span>, drupal_random_key());‚Äù</code> </pre><br></li><li>  <i>Drupal_hash_salt</i> update <br>  using hook_update () <br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">your_module_update_X</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ variable_set(<span class="hljs-string"><span class="hljs-string">'drupal_hash_salt'</span></span>, drupal_hash_base64(drupal_random_bytes(<span class="hljs-number"><span class="hljs-number">55</span></span>))); }</code> </pre><br>  or drush team <br><pre> <code class="bash hljs">drush <span class="hljs-built_in"><span class="hljs-built_in">eval</span></span> ‚Äúvariable_set(<span class="hljs-string"><span class="hljs-string">'drupal_hash_salt'</span></span>, drupal_hash_base64(drupal_random_bytes(55)));‚Äù</code> </pre></li></ul><br><br><h4>  Replace the private key SSO-authentication </h4><br>  If you are using SSO authentication, then you need to replace your private key.  For example, in the case of the <a href="https://drupal.org/project/bakery">Bakery</a> module, the key can be replaced on the module settings page. <br><br><h4>  Delete active sessions </h4><br>  There are three ways to do this: <br><ul><li>  <a href="https://drupal.org/project/session_expire">Session expire</a> module </li><li>  sql query in the database terminal or phpmyadmin: <br><pre> <code class="bash hljs">TRUNCATE TABLE sessions</code> </pre></li><li>  drush command: <br><pre> <code class="bash hljs">drush sqlq <span class="hljs-string"><span class="hljs-string">'TRUNCATE TABLE sessions'</span></span></code> </pre></li></ul>  Please note that all site users will not be authorized. <br><br><h4>  Reset passwords to users with broad access rights (or better to all users) </h4><br>  Here you can advise the following: <br><ul><li>  notify users about the need to change the password, and hope for their consciousness </li><li>  forcibly change passwords to users, with the appropriate notification by mail.  <a href="https://drupal.org/project/mass_pwreset">Mass Password Reset</a> module can help <a href="https://drupal.org/project/mass_pwreset">.</a> </li><li>  If the previous version in your opinion is too scary for users, you can use the <a href="https://drupal.org/project/password_policy">Password policy</a> module.  With it, you can make all passwords ‚Äúexpired‚Äù, which means the next authorization will need to change the password.  In general, I recommend using this module always.  It is included in the list of modules recommended by Akvoy to increase the security of the site. </li></ul><br>  This seems to be all. </div><p>Source: <a href="https://habr.com/ru/post/220013/">https://habr.com/ru/post/220013/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../220003/index.html">How browsers implement digital certificate revocation</a></li>
<li><a href="../220005/index.html">Some interesting and useful things for web developer # 16</a></li>
<li><a href="../220007/index.html">Zalman ZM-VE400 Review</a></li>
<li><a href="../220009/index.html">Warm lamp light</a></li>
<li><a href="../220011/index.html">Making a spherical panorama by Google</a></li>
<li><a href="../220015/index.html">Organizing web-based interaction with the Spring application</a></li>
<li><a href="../220017/index.html">Hope Microelectronics 24-bit I2C Pressure Sensors HP203B and HP206C</a></li>
<li><a href="../220019/index.html">HD FPV on Raspberry Pi</a></li>
<li><a href="../220021/index.html">From the IT preacher to the designer of medical robots: future professions in IT and robotics</a></li>
<li><a href="../220023/index.html">Use of encryption in Russian companies</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>