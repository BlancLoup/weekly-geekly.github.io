<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Adapt graphics to the Retina screen.</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Very often I find sites that look disgusting on iPhone4, and the point is not that most of them are not adapted for a small screen, but that developer...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Adapt graphics to the Retina screen.</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/059/fe6/f9c/059fe6f9c4bfa840a7f36000e2595a8c.png" alt="image" align="right"><br>  Very often I find sites that look disgusting on iPhone4, and the point is not that most of them are not adapted for a small screen, but that developers do not take into account the new type of screens.  I don‚Äôt want to look at the icons, I don‚Äôt want to click on the buttons, but from the pictures I really want ... to close the site.  What is intended to lure the user to the site, to penetrate into its essence, and not to leave it right there - now it works quite the opposite.  But iPhone users are generally accustomed to this situation, because  The phone can not replace full-featured browsing. <br><br>  However, quite recently Apple gave us an <s>iPad 3 a</s> little head start, in order to put things in order.  The iPad is already fully used by itself, so sites should look no worse on it than on a laptop or desktop computer.  And I believe that the iPad 3 is only the first step towards the full implementation of Retina screens in the same laptops, and behind them in stationary monitors.  Apple is already preparing its OS for Retina, Windows 8 most likely will not have problems with this either, with their new approach to interface design. <br><a name="habracut"></a><br><br>  Now that you are here, we will proceed directly to the methods for adapting graphics to screens with high pixel density. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Method 1. Using SVG </h2><br><pre><code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.selector</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">url</span></span>(../path_to_png/apple.png) no-repeat; } <span class="hljs-selector-tag"><span class="hljs-selector-tag">html</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.svg</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.selector</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background-image</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">url</span></span>(../path_to_svg/apple.svg); }</code> </pre> <br>  <em>Perfect for logos, icons, as well as any vector graphics.</em> <br><br>  This method gives the highest quality result, because  the graphics will look equally clear at any approximation.  However, SVG is a vector format, and your graphics should be correspondingly in a vector.  To prepare the SVG file, you can use Adobe Illustrator, or another analogue (Inkscape, CorelDRAW). <br><br>  Then everything is very simple.  It is enough to specify the path to the SVG file in the CSS background-image property.  However, there are browsers that <a href="http://caniuse.com/">do not support SVG</a> .  In this case, I recommend using <a href="http://www.modernizr.com/">Modernizr</a> , as part of the <a href="http://html5boilerplate.com/">HTML5 Boilerplate</a> template, this will allow you to define directly supported functions, not browser versions. <br><br><br><br><h2>  Method 2. CSS Media Query and background-size property </h2><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.selector</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">url</span></span>(../path_to_png/apple.png) no-repeat; } @<span class="hljs-keyword"><span class="hljs-keyword">media</span></span> (-webkit-min-device-pixel-ratio: <span class="hljs-number"><span class="hljs-number">2</span></span>) { <span class="hljs-selector-class"><span class="hljs-selector-class">.selector</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background-image</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">url</span></span>(../path_to_png/apple@2x.png); <span class="hljs-attribute"><span class="hljs-attribute">background-size</span></span>: cover; } }</code> </pre><br>  Using the ‚Äúmin-device-pixel-ratio‚Äù selector, devices with a pixel density of 2 and higher are determined, the picture is connected twice as large for them, and the background-size: cover property tells the browser that the existing picture needs to be scaled to block keeping proportions.  Read about the <a href="http://htmlbook.ru/css/background-size">background-size</a> property and the values ‚Äã‚Äãit can take <br><br><br><br><h2>  Method 3. Replacing src in pictures </h2><br><pre> <code class="hljs javascript">jQuery( <span class="hljs-built_in"><span class="hljs-built_in">document</span></span> ).ready(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( <span class="hljs-string"><span class="hljs-string">'devicePixelRatio'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">window</span></span> &amp;&amp; <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.devicePixelRatio == <span class="hljs-number"><span class="hljs-number">2</span></span> ){ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> img_to_replace = jQuery( <span class="hljs-string"><span class="hljs-string">'img.replace-2x'</span></span> ).get(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i=<span class="hljs-number"><span class="hljs-number">0</span></span>,l=img_to_replace.length; i&lt;l; i++) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> src = img_to_replace[i].src; src = src.replace(<span class="hljs-regexp"><span class="hljs-regexp">/\.(png|jpg|gif)+$/i</span></span>, <span class="hljs-string"><span class="hljs-string">'@2x.$1'</span></span>); img_to_replace[i].src = src; }; } });</code> </pre><br>  In the HTML code we set the &lt;img&gt; tag with the required class, width or height, so that the enlarged picture does not spoil the design. <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"../path_to_png/apple.png"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"200"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"200"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"replace-2x"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre><br>  This method uses the window.devicePixelRatio property to define a screen with increased density, finds all the images that need to be adapted and replaces their src with a similar one, but with the addition of ‚Äú@ 2x‚Äù.  If you don‚Äôt want to write a class for each picture, then it‚Äôs pretty easy to modify the code above so that it finds any pictures.  In my opinion, this method is not the best and I would use it with extreme caution. <br><br><br><br><h2>  Method 4. Cookies and non-server solution </h2><br><pre> <code class="hljs javascript">(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.cookie.indexOf(<span class="hljs-string"><span class="hljs-string">'device_pixel_ratio'</span></span>) == <span class="hljs-number"><span class="hljs-number">-1</span></span> &amp;&amp; <span class="hljs-string"><span class="hljs-string">'devicePixelRatio'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">window</span></span> &amp;&amp; <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.devicePixelRatio == <span class="hljs-number"><span class="hljs-number">2</span></span> ){ <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.cookie = <span class="hljs-string"><span class="hljs-string">'device_pixel_ratio='</span></span> + <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.devicePixelRatio + <span class="hljs-string"><span class="hljs-string">';'</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.location.reload(); } })();</code> </pre><br>  Using JavaScript, this method allows you to set a cookie once and reload the page.  Further, on the basis of this cookie, the server may decide to immediately issue an adapted picture for screens with increased density. <br><br><br>  <a href="http://egorkhmelev.github.com/retina/">Finally, a link to the demo</a> , only the owners of devices with a Retina screen will notice the difference. <br><br><br><h2>  At last </h2><br>  Try to make the most of the CSS features for creating buttons, shadows, gradients, and other elements on your page.  These elements look great at any scale and pixel density, but do not forget about the graceful degradation for older browsers. <br><br>  I will be glad to hear from you about the problems that you encountered when adapting to Retina screens and solutions that I missed. </div><p>Source: <a href="https://habr.com/ru/post/139682/">https://habr.com/ru/post/139682/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../139676/index.html">Pitfalls when migrating from MSSQL to MySQL and BLToolkit</a></li>
<li><a href="../139677/index.html">Russian programmer received 60 thousand dollars for found Chrome vulnerability</a></li>
<li><a href="../139678/index.html">Microsoft can remove the optical drive from the next generation Xbox</a></li>
<li><a href="../139679/index.html">Running Cloud9 IDE on Mac OS X Lion 10.7.3</a></li>
<li><a href="../139680/index.html">My CMS Story</a></li>
<li><a href="../139683/index.html">Startups: how much money did you create a prototype?</a></li>
<li><a href="../139685/index.html">Blocker classmates and other sites</a></li>
<li><a href="../139687/index.html">International Space Apps Challenge, 21-22 april 2012</a></li>
<li><a href="../139689/index.html">Yii and multilingual site. Correct URL and flexibility</a></li>
<li><a href="../139691/index.html">Centos 5.8 released</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>