<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The logic of building universal work schedules</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Employee work schedules are an integral part of any CRM system. But depending on the specifics of the client‚Äôs business, they can be very different. I...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The logic of building universal work schedules</h1><div class="post__text post__text-html js-mediator-article">  Employee work schedules are an integral part of any CRM system.  But depending on the specifics of the client‚Äôs business, they can be very different.  In the clinic, these are patient admission schedules, in telecom - customer connection schedules, and in school - training schedules.  They all differ in structure and substance.  They have different caps, different set of fields, different grids. <br><br>  Our ERP-Platform is focused on the rapid development of any niche configuration and we thought about how to do it all conveniently.  First of all for myself.  To our work on the development of graphics for a specific niche took no more than man-hours. <br><br>  Before that, graphics were some kind of thing developed in php.  But god!  Charles!  Every time you need a new schedule for a niche solution, you need to copy this code, recycle.  The individuality of the graphs did not allow something to change centrally.  And in general, undermined the concept of our cloud platform in that the client can configure it independently. <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      As a result, we have formed the following requirements for work schedules <br><br><ol><li>  <b>Configurability</b> <br>  They must be fully configured from the web interface. </li><li>  <b>Variable pitch</b> <br>  They should have a variable grid step. <br>  In one clinic, the doctor‚Äôs reception grid can be 30 minutes per patient, and in the other 20, at the third hour </li><li>  <b>Arbitrary hat</b> <br>  The cap of the graphic can be unique, i.e.  it may be a set of doctors, facilities, teachers, teams, etc.  In general, anything from the fact that the client has in the system.  Even from what we can not assume. </li><li>  <b>In the chart entry - an arbitrary set of fields</b> <br>  The set of fields can be set arbitrarily, from any information that is in the system.  And the records are arranged in accordance with the header. </li><li>  <b>CRUD</b> <br>  Graphics records must be CRUD (create, read, update, delete), despite arbitrary sets of fields.  And not just this, but <u>using procedures</u> to organize complex interactions. <br><br><blockquote>  Example: there is a schedule of tasks. <br>  The schedule entry shows who performs, where the work is done, etc.  + some data on the task (for example, its number and name). <br>  Additional data on the schedule record is stored in one table, and task data in another. <br>  When creating, the task number is indicated, who performs it and where.  And the data will be displayed from two tables. <br>  You can edit only the data of the schedule entry, but not the task data. <br>  The schedule entry should be deleted, but not the task. <br>  We need to keep logs that someone did with this record.  Since  it can be removed and will not necessarily be visible in the graph, then somehow you need to get to the logs.  It is more logical to lead them in the task itself, i.e.  when creating-modifying-deleting should be written in a separate table and displayed in the task. <br>  Such things can be solved only by stored procedures, so that simple and complex situations can be solved. </blockquote></li><li>  <b>Fields can be lists</b> <br>  Of course, the fields should not be text only.  They can be pop-up lists from some data in the system. </li><li>  <b>Fields can be links</b> <br>  It is convenient when, for example, you can get into the task itself from the task schedule. </li><li>  <b>Hiding Fields</b> <br>  If there are a lot of fields in the record, it makes sense to minimize some of them for convenience of perception. </li><li>  <b>Triggers</b> <br>  It is necessary to adjust the system response to what is happening with the record.  The most convenient way to do this is with triggers. <br><br><blockquote>  For example, if a user needs to write some logs about actions on a record, or send notifications to employees, or even send an sms client or even do something that we cannot assume. </blockquote></li><li>  <b>Cross records</b> <br>  Cross records are records from different graphs combined into a single graph.  Or the appearance of records in other graphs, when records appear in the current one. <br><br><blockquote>  For example, there are such situations that the same teams perform work, for example, on applications and on tasks.  Those.  it will be convenient for them to have a general schedule where tasks from different schedules will be displayed. <br><br>  Or you need a personal schedule of the employee, with records from all schedules where he participates. <br>  Such tasks are a bit more complicated than typical ones, but they are completely solved with the help of triggers and data acquisition procedures.  Those.  by p.9 and p.5. <br><br>  a) a trigger is created on the records of the required graphs, which create an entry in the user's personal graph in case the user is there (respectively, in the case of a change, they are deleted, in the case of deletion) <br>  b) additional fields are created in the user graph, which will include the necessary data, as well as the procedures for outputting the record, which will pull up data from the tables of other graphs using these identifiers. <br><br>  Such tasks can also be solved in the opposite way; when forming a personal schedule of a workplace, a more tricky procedure is made that will output data not only from personal tables, but from tables of other schedules where an employee is present in the data of the day.  Such solutions based on this design are also possible. </blockquote></li><li>  <b>Lining time</b> <br>  The system should correctly display the intersections of the records in time, and not like most systems, where the records run over each other and there is not even the ability to read the lower layers. <br><br><div class="spoiler">  <b class="spoiler_title">Like this, it's sad ...</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/089/32a/7c3/08932a7c36d721e8378586af1c799aae.png" alt="image"><br></div></div></li><li>  <b>Reports</b> <br>  That according to the schedule it was possible to build reports.  The storage system must be organized so that it can be hooked up in the report configurator. <br><blockquote>  For example, it took to create a report on which employees spent how much time traveling on tasks ‚Äî voila!  We go to the report configurator, there we select the table where the data of the records of the desired schedule are stored and make the report using the standard configurator according to the data from the schedule. <br></blockquote></li><li>  <b>Buildability</b> <br>  The graph should be able to easily be embedded anywhere on any page - i.e.  it must be a standard input element, the same as a text field, or a button. <br>  Fortunately, we had experience in developing complex standard elements.  In particular, we have a standard comment element, file application form, contact form, table.  All of them are added with one click as usual elements and are configured without any problems. </li><li>  <b>Access and Security</b> <br>  The rights of access to the schedule as a whole should be regulated by the general system of rights, and within the schedule the access rights to the records should be governed by the schedule settings. <br><blockquote> For example, specify that only the author can edit his post, or his group, or division. </blockquote></li><li>  <b>Easy configuration</b> <br>  And of course, the creation and configuration of a new schedule should be done quickly and not cause any problems.  In particular, for us, for a typical case (it is clear that it happens of course and very difficult), this work should take no more than man-hours. </li></ol><br>  We believe that we have quite gracefully managed to implement these requirements and this article will describe how this was done. <br><br>  At the moment I do not know systems with graphs of the same universality (if you know, write in the comments, it is interesting to see) <br><br>  The general scheme of configuring the graphics looks like this (do not judge strictly, he drew himself).  Every element is needed, there is no excess. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/31f/195/d8e/31f195d8ef33018c131e1a6a057e57be.png" alt="image"></div><br>  All work begins with understanding what data set should be in the record and creating a table in the database under this schedule. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2a9/d1a/76c/2a9d1a76ccea5417b00ebabd4831fd2b.png" alt="image"></div><br>  For example, for the schedule of work on the tasks in the telecom company, it is important to know when the work will be carried out, on what task, on what facility, and what group of engineers will do this work. <br><br>  Therefore, we form a table, where there is all this info + service fields with the ID of the recording schedule.  (PS: we can edit the tables directly in the cloud from the browser). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c35/69b/13e/c3569b13e21de54f213e501781a15c85.png" alt="image"><br><br>  This is a simple case, but it can be much more complicated, where there are more fields or several tables. <br><br>  That's all, the storage structure has been formed and now the graphics need to know how to work with it.  Each entry can be added, displayed, changed and deleted. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a73/c3e/d10/a73c3ed10af13f4b26a8b7d911d1df3f.png" alt="image"></div><br>  Since  the data set and the storage structure can be arbitrary, then it is necessary to work with this structure through a stored procedure. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cbf/de3/22a/cbfde322a3ab57cd37f3e82dcc876065.png" alt="image"></div><br>  First you need to create a procedure.  In our example, the case is simple, and you can create them in the configurator with one button using the function ‚ÄúCreate standard procedures‚Äù.  The system itself on this table will create procedures for making, modifying, deleting, and various conclusions. <br><br>  For example, a fragment of an automatically created append procedure looks like this. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bb6/188/e17/bb6188e17555f681c7ee630395b79ea9.png" alt="image"><br><br>  All procedures are edited directly from the web interface.  The compilation logic is similar to PL-SQL. <br><blockquote>  If something is complicated, then these procedures can be edited depending on the storage structure and you can specify various conditions, loops, select, update, insert, etc.  In general, draw any processing structure. </blockquote><br>  The schedule in each action indicates which procedure is responsible for this action. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d1c/b89/d94/d1cb89d9445dce34a4d17497e8babd6b.png" alt="image"></div><br>  <b>‚ÄúStitched‚Äù graphics settings</b> <br><br>  But still there are ‚Äústitched‚Äù settings that you can only customize, but not change the structure.  This is simply not necessary. <br><br>  - Date-time coordinates are an essential feature of any record. <br>  - The location of the schedule in the system.  It is edited by means of the built-in interface editor and there is no need to do this from the graph itself. <br>  - Memory of where the user was - no need to directly configure this property. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0d4/e93/61b/0d4e9361bbf4c0bfecab5a5c15f9d509.png" alt="image"></div><br><br>  In the settings you can also set the Step (for example, the grid in 20 minutes, or 30) and the working time range (for example, from 8 to 20). <br><br>  The time range is needed to cut off unnecessary, for example, if all employees work an 8-hour standard working day, then it makes no sense to display the night hours. <br><br>  Step - defines the schedule grid.  For example, in one clinic there may be a doctor‚Äôs appointment schedule for 20 minutes, in another 15, in the third 30. This is all set up. <br><br>  However, this does not mean that the recording can not be done outside the grid.  You can make any records, but they will be displayed within the grid. <br><br>  The pitch range can be set for 5, 10, 15, 30, 60 minutes. <br><br>  <b>Write output</b> <br><br>  It is not enough to create and specify the procedure.  It is necessary for the schedule to understand how to work with it. <br><img src="https://habrastorage.org/getpro/habr/post_images/3e4/628/df2/3e4628df2e8400044e56803e3601a343.png" alt="image"><br><br>  <u>Cap</u> <br><br>  The most important thing is to specify the header of the chart.  Which of the output fields of the procedure should be a header. <br><br>  Consider the logic of building a class schedule in an educational organization.  Suppose there is a teacher-group set in the record. <br><br>  Here you can make a header for the Instructors, then the schedule will be formed as follows: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d99/ccf/1dc/d99ccf1dcb8c58e67f9f6d14fd8ed6fc.png" alt="image"><br><br>  But it is possible in groups, then so: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2e9/6ca/6af/2e96ca6afdb09b4af6d160d97a0ed56f.png" alt="image"><br>  and you can even make 2 different graphics and display, and so and so, as you like, users will choose.  The same data and the same procedures will be used.  Changes in one chart will change in another. <br><br>  But in general, the choice depends on the issues of expediency.  The cap should be a fundamental little changing information.  If you serve a fixed number of objects, then it should be them.  If you have a fixed number of groups, then they are. <br><br>  With a hat you can create interesting things in general.  For example, if you specify the task status as a header, then when the status in the task changes, the task record in the schedule will jump by itself to the corresponding status.  Those.  in fact, almost kanban boards can be made here, etc.  things.  When we attach these records to the live information in the system through the procedures, it can also come to life in the charts.  Very flexible mechanism. <br><br>  Also, if you specify filtering conditions in the procedure, you can form these caps in the graph with arbitrary filters taken into account. <br><br>  <u>What not to display</u> <br><br>  You can also specify what to display in the record, and what is not.  For example, in the procedure, some service identifiers for bundles can be displayed as results.  This information that is not relevant to the user can be ignored in the output. <br><br>  <u>What to hide</u> <br><br>  And you can display, but turn under the cat.  Information that is not very important, but sometimes needed.  For example, who created this entry and when, may be needed only in case of some sorting out, but not in operational work. <br><br>  <u>Links</u> <br><br>  It is also very convenient when some field can be a link. <br><br>  For example, if we make a schedule for tasks, why not click on its number to get into the task itself. <br><br>  We have a standard link building mechanism in the configurator.  You can make them there, and associate with the field in the graph.  Everything is working. <br><br>  <u>Title</u> <br><br>  Of course, the field must somehow be called.  By default, the system will take the name from the procedure field, but it is not always correct for perception.  Therefore, sometimes you need to enter alternative names. <br><br>  For example, all of the above we have is.  Opposite to the fields of the specified procedure, check marks are placed. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/51b/82f/63b/51b82f63b691a63c6f4cbbdcbdf48f87.png" alt="image"><br><br>  The output of the record will look like this: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/800/186/2da/8001862da13cdce1c1e6345afaefb534.png" alt="image"><br><br>  <b>Add new record</b> <br><br>  The fields for adding a new record must be determined by the procedure for adding.  Each input parameter of the procedure must provide information. <br><br>  But there is a trick.  Fields can be not only text, but also lists. <br><br>  Take our example for a telecom where there is a task, a group, an object.  We will not force the user to search for object identifiers and drive them in.  It is necessary that there was a pop-up list with the necessary information.  And where can I get it? <br><br>  To do this, the input field of the procedure should pull another procedure, which will give for example a list of actual tasks, or a list of necessary objects, etc.  In this case, you can not just specify the fields of a table, since  There may be complex filters.  The same tasks may already be 10,000 in the system, stamped, but it is necessary to display a list of the 100 current ones now. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a6e/018/bb9/a6e018bb9c11aba8e1d9ed3da5caa700.png" alt="image"><br><br>  In general, a procedure that twitches across a field of another procedure. <br><br>  Actually it just sounds scary.  These things are well automated, the procedures for standard directories are obtained with one button.  Procedures for all sorts of lists of groups, tasks, applications, etc.  long ago implemented to work all kinds of CRM modules.  They just need to choose.  If there is already a procedure with similar functionality, it is copied and edited. <br><br>  You also need to specify which of the added fields will be a header.  This is what we need in the editing system. <br><br>  Here it looks like this: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3a0/11d/61e/3a011d61ed65568957a738401102072c.png" alt="image"><br><br>  <b>Editing Record</b> <br><br>  It's still more interesting.  It is not enough to display all the field lists as in the appendix.  It is necessary to select the current positions (selected) in these lists.  We are editing. <br><br>  To do this, you must associate the creation fields with the output fields.  And in the case of a list field, it‚Äôs not just a bang from the output, but to know the identifier of this information. <br><br>  Those.  here it is necessary: <br><br>  a) specify the editing procedure <br>  b) associate its fields with fields of addition <br>  c) associate its fields with the data output fields of the record in order to put the current data in the lists <br><br>  No other features should be indicated here, because  we already have configured Output and Addition. <br><br>  When the editing window is displayed, the system will automatically call the required procedure for each field, receive data, compare it with the data from the output, write down the selected values ‚Äã‚Äãin the lists, and insert the current values ‚Äã‚Äãin simple fields. <br><br>  It looks like this <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f40/c42/c7d/f40c42c7d76fe365837c7456f0ffb4e2.png" alt="image"><br><br>  <b>Delete record</b> <br><br>  Removal is the easiest.  Simply specify the deletion procedure with one input parameter: the ID of the schedule entry. <br><br>  <b>Event handling when adding / modifying / deleting records.</b>  <b>Triggers.</b>  <b>Cross Records.</b> <br><br>  Only add / modify entries in the graphs a little.  We still have to manage the events.  This opens up unlimited scope for configuration. <br><br>  Managing events is actually very simple.  We already have tables in which the data of schedule records are stored.  On these tables you can put any on the complexity of the triggers.  Our cloud configurator makes it easy to do this. <br><br>  For example, you need logs, who did what in the record.  It's simple.  A table is created for the logs, and a trigger is put on the chart table, which writes these modifications to the table with logs. <br><br>  Also thanks to this cross-records are available.  For example, when in our example the task is put in a group, you can define all the participants of this group and double them of this record in personal schedules.  To put in personal schedules in this case means to make an entry in the data table of a personal schedule.  It is also a graph in this system, only configured differently and moved to another location.  This entry will appear in it. <br><br>  Or you need to send a notification to group users.  Or send a sms to the client that they will come to work on such and such a task then.  To do this, simply made the trigger, which make entries in the table of notifications or SMS. <br><br>  <b>Reports</b> <br><br>  Reports on schedules are also needed, and with such a structure they can be made. <br><br>  For example, it took to make a report on how much time employees were on the road in the previous month.  We go to the report configurator, select the desired table where the schedule records are stored, set the necessary filters and aggregation functions - and wahl, the report is ready. <br><br>  <b>Other uses of chart data</b> <br><br>  These graphics can be used anywhere with an advanced system configurator.  For example, in tasks we easily managed to make the Charts tab and in one simple procedure output information, for how long and who has this task for execution. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3a1/7eb/378/3a17eb3782109da8fa21ee8387f64a73.png" alt="image"><br><br>  <b>Lining time</b> <br><br>  They happen.  And there is nothing worse looking than writing over each other and not allowing to read the desired entry.  This problem is also solved.  System intersecting records automatically places nearby.  In this case, only simple html is used, just the structure of the table is built in the way necessary for this.  The system provides care at any depth, but more than 2 records are rare. <br><br>  Of course, if time overlaps, most likely something is not so planned.  A person cannot be in two places at the same time, but even such situations need to be displayed correctly. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/abf/c1d/0c7/abfc1d0c75b4161d0c4d22fa47d859c4.png" alt="image"><br><br>  <b>Access and Security</b> <br><br>  Access is divided into 2 levels.  System and Personal graphics.  The system is defined as a whole by the Roles editor and the default permissions set in the interface configurator.  For example, if a given cell of the page (or inherited above, tabs, pages, menus) is denied access to reading, no users will see this graphic at the interface display level until users assign read access rights to this area in User Roles. <br><br>  Next come the internal rights of the schedule.  They can be <br><br>  1) Editing <br><br>  - only author <br>  - only the author's group (all employees included in the groups in which the author of the record) <br>  - only the division of the author (all employees included in the division of the author, according to the staff) <br><br><blockquote>  PS: the working group and the staff may differ from us.  For example, in one division there may be several working groups, or employees from different divisions may be in the same group.  The same employee can be simultaneously in different groups.  All this system takes into account. </blockquote><br>  2) Removal is similar. <br><br>  - only author <br>  - only group <br>  - unit only <br><br>  <u>What are internal rights for?</u> <br><br>  If this is a personal schedule, or there are some features, then it makes sense to put only the author. <br><br>  But there are shift personnel and situations where the record needs to be edited, and the employee is not at work.  What to do?  It makes sense for such schedules to set up editing by a group or division so that other shift workers can work with these records. <br><br>  Also in the schedule can be specified Role, which has the right to administer.  Employees with this Role will have rights to edit and delete, regardless of groups and divisions. <br><br><hr><br>  Here we have such a cool thing that makes life very simple when you know how to use it.  Immediately to an inexperienced person may be difficult to understand.  But we have such a schedule in an uncomplicated way, it is about a man-hour. <br><br>  In addition, we still get the deepest configuration capabilities and interaction with other elements of the system. </div><p>Source: <a href="https://habr.com/ru/post/430674/">https://habr.com/ru/post/430674/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../430664/index.html">The role of team leader in recruiting</a></li>
<li><a href="../430666/index.html">How to evaluate the effectiveness of the team</a></li>
<li><a href="../430668/index.html">There is safety in numbers. The path to effective teamwork</a></li>
<li><a href="../430670/index.html">Contract Management</a></li>
<li><a href="../430672/index.html">Text version of the report "Actors vs CSP vs Tasks ..." with C ++ CoreHard Autumn 2018</a></li>
<li><a href="../430676/index.html">Antiquities: shshsh, sssssss, VOIP, BBS and other modem friends</a></li>
<li><a href="../430678/index.html">Test ten dimmers with LED lamps</a></li>
<li><a href="../430680/index.html">Writing a simple processor and environment for it</a></li>
<li><a href="../430682/index.html">Three years of the lunar microsatellite project: stages of maturation</a></li>
<li><a href="../430684/index.html">Scanning Live Ethereum of Unchecked-Send Error Contracts. Part 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>