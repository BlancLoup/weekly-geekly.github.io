<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How I got my first experience developing an Android game</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article I want to share my experience of creating the first game for the Android platform, to tell all the way from the birth of the idea to t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How I got my first experience developing an Android game</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/4f2/53a/797/4f253a797c2e4a08a74ce59ecedc4733.png" alt="image"><br><br>  In this article I want to share my experience of creating the first game for the Android platform, to tell all the way from the birth of the idea to the publication. <br><a name="habracut"></a><br><h4>  Prehistory </h4><br>  Since 2012, I have become closely involved in programming, in particular the development of programs for Windows in C #.  For all the time I got a lot of experience in developing .NET applications, participated in various projects, including team ones.  So it turned out that I wanted to start developing for Android.  I had a choice of C # (Xamarin) or Java.  Since I have been programming in C # for the last 3 years and I wanted to start developing as soon as possible, and not to understand the new IDE and nuances of Java programming, the choice was obvious. <br><br>  The idea of ‚Äã‚Äã‚Äúwhat to develop?‚Äù Was born quickly and consisted in developing an application for listening and downloading music in VK.  The application was almost complete, but was not published due to some problems.  After half a year, I had a lot of ‚Äúfree‚Äù time and I decided to return to developing applications for Android.  Acquainted with one programmer and talking with him about the advantages and disadvantages of Java (Android) and C # (Xamarin), I began, under his leadership, to study books on Java and learn IDE IntelliJ IDEA. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Idea or how it all started </h4><br>  After two weeks of familiarization with the principles of development (which were given to me quite easily), the familiar <a href="http://pgraphics.ru/">designer</a> suggested instead of reading books and repeating examples to start developing the game right away, and to solve possible problems related to programming, as they become available.  That's exactly what I did, it remained only to come up with an idea for the game, but after 5 minutes it came up with the designer himself. <br><br>  The game is aimed at the development of memory and its essence is as follows: the player is shown an image with several figures of different shapes, colors, sizes and positions for a few seconds, which he must have time to remember, and then repeat.  For each completed level, the player receives "stars", which allow you to open new, more complex levels. <br><br>  To determine the assessment (the number of asterisks obtained) of the passed level, it was decided to use 3 parameters: the color of the figure, its location and the radius.  To add complexity to the gameplay, the condition was introduced that the player must repeat the shapes of all the figures presented, taking into account their location on the screen, otherwise the level will be considered unclassified. <br><br><h4>  Design </h4><br>  With the development of the graphical interface, I was helped by the same designer, who was not the first time participating in the development of UI / UX design for mobile applications.  He developed a logo, an icon, chose primary colors, fonts, button sizes, etc. Then he presented a ready-made interface solution drawn in a vector.  Prepared materials for the release ("thumbnails", promotional images, etc.). <br><br><div class="spoiler">  <b class="spoiler_title">The results of the work can be seen in the screenshots:</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/41f/fc8/7b3/41ffc87b35834f9293b6e45ede211ff2.png"><br><br><img src="https://habrastorage.org/files/b41/28a/b3f/b4128ab3f19d49d3b5b019ea18ad346c.png"><br><br><img src="https://habrastorage.org/files/121/75b/c43/12175bc4384f41018402559bb4f39af7.png"><br><br><img src="https://habrastorage.org/files/e36/8f8/9d9/e368f89d96e64dfaa2187dee9fea9cc8.png"><br></div></div><br><h4>  Development </h4><br>  After receiving the finished design of the game, I immediately began to develop.  The difficulties encountered were associated only with the implementation of drawing figures.  In total, it was necessary to implement 6 methods for drawing shapes (circle, square, triangle, pentagon, star, hexagon), two of which have already been implemented in Java.  Also one of the conditions was that the figure should be drawn from the center in all directions, and should be inscribed in a circle with a radius, the size of which was determined by the user himself.  Since this was my first project of this kind, I decided to independently implement methods for drawing the remaining four figures, rather than using ready-made libraries.  The <i>canvas.drawPath ()</i> (line drawing method <i>) was</i> used for drawing the figures, it only remained for me to determine the points through which the lines should pass.  In this regard, I had to remember the school curriculum and open a textbook on geometry. <br><br>  The next nuance was that the figure can be drawn in several ways: with a designated center, with a frame, without a frame and center, with a frame and center, while the frame can be solid or dashed.  To solve this problem, an interface with three methods was created (drawing a figure, a frame, drawing a figure with a frame).  This interface was used to implement drawing classes for shapes. <br><br><div class="spoiler">  <b class="spoiler_title">Figure drawing interface</b> <div class="spoiler_text"><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DrawFigure</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">draw</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Canvas canvas, PointF startPoint, PointF finishPoint, Paint mPaint)</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">drawWithBorder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Canvas canvas, PointF startPoint, PointF finishPoint, Paint mPaint, Paint borderPaint)</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">drawBorder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Canvas canvas, PointF startPoint, PointF finishPoint, Paint mPaint, Paint borderPaint)</span></span></span></span>; }</code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">Triangle drawing class</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DrawThreeAngle</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DrawFigure</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> mRadius; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[] angles = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[]{<span class="hljs-number"><span class="hljs-number">30</span></span>, <span class="hljs-number"><span class="hljs-number">150</span></span>, <span class="hljs-number"><span class="hljs-number">270</span></span>, <span class="hljs-number"><span class="hljs-number">30</span></span>}; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span>[] xValues = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span>[<span class="hljs-number"><span class="hljs-number">4</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span>[] yValues = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span>[<span class="hljs-number"><span class="hljs-number">4</span></span>]; <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">draw</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Canvas canvas, PointF startPoint, PointF finishPoint, Paint mPaint)</span></span></span><span class="hljs-function"> </span></span>{ mRadius = Tools.getRadius(startPoint, finishPoint); Path threeanglePath = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Path(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; angles.length; i++) { xValues[i] = startPoint.x + (<span class="hljs-keyword"><span class="hljs-keyword">float</span></span>) (mRadius * Math.cos(Math.toRadians(angles[i]))); yValues[i] = startPoint.y + (<span class="hljs-keyword"><span class="hljs-keyword">float</span></span>) (mRadius * Math.sin(Math.toRadians(angles[i]))); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (i==<span class="hljs-number"><span class="hljs-number">0</span></span>){ threeanglePath.moveTo(xValues[i], yValues[i]); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { threeanglePath.lineTo(xValues[i], yValues[i]); } } threeanglePath.close(); canvas.drawPath(threeanglePath, mPaint); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">drawWithBorder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Canvas canvas, PointF startPoint, PointF finishPoint, Paint mPaint, Paint borderPaint)</span></span></span><span class="hljs-function"> </span></span>{ draw(canvas, startPoint, finishPoint, mPaint); drawBorder(canvas, startPoint, finishPoint, mPaint, borderPaint); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">drawBorder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Canvas canvas, PointF startPoint, PointF finishPoint, Paint mPaint, Paint borderPaint)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; angles.length - <span class="hljs-number"><span class="hljs-number">1</span></span>; i++) { canvas.drawLine(xValues[i], yValues[i], xValues[i + <span class="hljs-number"><span class="hljs-number">1</span></span>], yValues[i + <span class="hljs-number"><span class="hljs-number">1</span></span>], borderPaint); } } }</code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Star drawing class</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DrawStar</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DrawFigure</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> mRadius; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[] angles = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[]{-<span class="hljs-number"><span class="hljs-number">18</span></span>, -<span class="hljs-number"><span class="hljs-number">54</span></span>, <span class="hljs-number"><span class="hljs-number">270</span></span>, <span class="hljs-number"><span class="hljs-number">234</span></span>, <span class="hljs-number"><span class="hljs-number">198</span></span>, <span class="hljs-number"><span class="hljs-number">162</span></span>, <span class="hljs-number"><span class="hljs-number">126</span></span>, <span class="hljs-number"><span class="hljs-number">90</span></span>, <span class="hljs-number"><span class="hljs-number">54</span></span>, <span class="hljs-number"><span class="hljs-number">18</span></span>, -<span class="hljs-number"><span class="hljs-number">18</span></span>}; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span>[] xValues = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span>[<span class="hljs-number"><span class="hljs-number">11</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span>[] yValues = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span>[<span class="hljs-number"><span class="hljs-number">11</span></span>]; <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">draw</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Canvas canvas, PointF startPoint, PointF finishPoint, Paint mPaint)</span></span></span><span class="hljs-function"> </span></span>{ mRadius = Tools.getRadius(startPoint, finishPoint); Path starPath = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Path(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; angles.length; i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (i % <span class="hljs-number"><span class="hljs-number">2</span></span> == <span class="hljs-number"><span class="hljs-number">0</span></span>) { xValues[i] = startPoint.x + (<span class="hljs-keyword"><span class="hljs-keyword">float</span></span>) (mRadius * Math.cos(Math.toRadians(angles[i]))); yValues[i] = startPoint.y + (<span class="hljs-keyword"><span class="hljs-keyword">float</span></span>) (mRadius * Math.sin(Math.toRadians(angles[i]))); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { xValues[i] = startPoint.x + (<span class="hljs-keyword"><span class="hljs-keyword">float</span></span>) (mRadius / <span class="hljs-number"><span class="hljs-number">2</span></span> * Math.cos(Math.toRadians(angles[i]))); yValues[i] = startPoint.y + (<span class="hljs-keyword"><span class="hljs-keyword">float</span></span>) (mRadius / <span class="hljs-number"><span class="hljs-number">2</span></span> * Math.sin(Math.toRadians(angles[i]))); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (i==<span class="hljs-number"><span class="hljs-number">0</span></span>){ starPath.moveTo(xValues[i], yValues[i]); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { starPath.lineTo(xValues[i], yValues[i]); } } starPath.close(); canvas.drawPath(starPath, mPaint); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">drawWithBorder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Canvas canvas, PointF startPoint, PointF finishPoint, Paint mPaint, Paint borderPaint)</span></span></span><span class="hljs-function"> </span></span>{ draw(canvas, startPoint, finishPoint, mPaint); drawBorder(canvas, startPoint, finishPoint, mPaint, borderPaint); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">drawBorder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Canvas canvas, PointF startPoint, PointF finishPoint, Paint mPaint, Paint borderPaint)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; angles.length - <span class="hljs-number"><span class="hljs-number">1</span></span>; i++) { canvas.drawLine(xValues[i], yValues[i], xValues[i + <span class="hljs-number"><span class="hljs-number">1</span></span>], yValues[i + <span class="hljs-number"><span class="hljs-number">1</span></span>], borderPaint); } } }</code> </pre><br></div></div><br><h4>  Implementation levels </h4><br>  After implementing the entire gameplay, I set about implementing the levels.  A total of 60 levels of varying difficulty were created.  The complexity of the levels depends on the number of figures, their size and location.  Also, the complexity of the levels increased due to the possibility of drawing intersecting figures. <br><br>  A database consisting of two tables with a list was created to store all levels.  Since the figures in the database are given by coordinates (the center of the figure and a point on its radius), they will be displayed on different screens at different scales or generally go beyond the limits.  Therefore, there is a need to solve the problem of rendering the level at the same scale for different screens.  To solve this problem, the coordinates of the figures were determined at the so-called reference resolution.  And the display in the desired scale is carried out by determining the ratio of the reference resolution to the current resolution and multiplying the coordinates of all the figures by the calculated coefficient. <br><br><div class="spoiler">  <b class="spoiler_title">Database structure</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LevelsDatabaseHelper</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SQLiteOpenHelper</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String DB_NAME = <span class="hljs-string"><span class="hljs-string">"levels.sqlite"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> VERSION = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String TABLE_LEVELS = <span class="hljs-string"><span class="hljs-string">"levels"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String COLUMN_LEVELS_STARS = <span class="hljs-string"><span class="hljs-string">"stars"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String COLUMN_LEVELS_TIME = <span class="hljs-string"><span class="hljs-string">"time"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String COLUMN_LEVELS_NUMBER = <span class="hljs-string"><span class="hljs-string">"number"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String TABLE_FIGURE = <span class="hljs-string"><span class="hljs-string">"figure"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String COLUMN_FIGURE_TYPE = <span class="hljs-string"><span class="hljs-string">"type"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String COLUMN_FIGURE_NUMBER = <span class="hljs-string"><span class="hljs-string">"number"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String COLUMN_FIGURE_CENTER_X = <span class="hljs-string"><span class="hljs-string">"center_x"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String COLUMN_FIGURE_CENTER_Y = <span class="hljs-string"><span class="hljs-string">"center_y"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String COLUMN_FIGURE_FINISH_X = <span class="hljs-string"><span class="hljs-string">"finish_x"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String COLUMN_FIGURE_FINISH_Y = <span class="hljs-string"><span class="hljs-string">"finish_y"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String COLUMN_FIGURE_COLOR = <span class="hljs-string"><span class="hljs-string">"color"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String COLUMN_FIGURE_LAYER_INDEX = <span class="hljs-string"><span class="hljs-string">"layer_index"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Context mContext; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> SQLiteDatabase mDataBase; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">LevelsDatabaseHelper</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Context context)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(context, DB_NAME, <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(SQLiteDatabase db)</span></span></span><span class="hljs-function"> </span></span>{ mDataBase = db; db.execSQL(<span class="hljs-string"><span class="hljs-string">"create table "</span></span> + TABLE_LEVELS + <span class="hljs-string"><span class="hljs-string">" (_id integer primary key autoincrement, "</span></span> + COLUMN_LEVELS_NUMBER + <span class="hljs-string"><span class="hljs-string">" integer, "</span></span> + COLUMN_LEVELS_STARS + <span class="hljs-string"><span class="hljs-string">" integer, "</span></span> + <span class="hljs-string"><span class="hljs-string">" string, "</span></span> + COLUMN_LEVELS_TIME + <span class="hljs-string"><span class="hljs-string">" integer)"</span></span>); db.execSQL(<span class="hljs-string"><span class="hljs-string">"create table "</span></span> + TABLE_FIGURE + <span class="hljs-string"><span class="hljs-string">" (_id integer primary key autoincrement, "</span></span> + COLUMN_FIGURE_NUMBER + <span class="hljs-string"><span class="hljs-string">" integer, "</span></span> + COLUMN_FIGURE_TYPE + <span class="hljs-string"><span class="hljs-string">" string, "</span></span> + COLUMN_FIGURE_CENTER_X + <span class="hljs-string"><span class="hljs-string">" real, "</span></span> + COLUMN_FIGURE_CENTER_Y + <span class="hljs-string"><span class="hljs-string">" real, "</span></span> + COLUMN_FIGURE_FINISH_X + <span class="hljs-string"><span class="hljs-string">" real, "</span></span> + COLUMN_FIGURE_FINISH_Y + <span class="hljs-string"><span class="hljs-string">" real, "</span></span> + COLUMN_FIGURE_COLOR + <span class="hljs-string"><span class="hljs-string">" integer, "</span></span> + COLUMN_FIGURE_LAYER_INDEX + <span class="hljs-string"><span class="hljs-string">" string)"</span></span>); } }</code> </pre><br></div></div><br><h4>  Scam </h4><br>  When testing levels, a loophole was found when passing levels in which there are intersecting figures.  The loophole was that when checking the level the layer on which the figure is located is not taken into account.  As a result, you can draw the upper figure first, and then the lower one and the level would still be considered as passed.  To eliminate this loophole, a variable was added to the shape class that defines the number of the layer on which it is located.  The following conditions were also taken into account: <br><br><ul><li>  The figure does not intersect with others, i.  the layer level is not important to it, in this case the entered variable takes the value ‚Äú-1‚Äù; </li><li>  On one layer there is more than one shape, in this case, the variable takes the numbers of the layers in terms of ‚Äú/‚Äù, on which it can be located (‚Äú2/3/4‚Äù). </li></ul><br><div class="spoiler">  <b class="spoiler_title">More clearly the solution to the problem is presented in the image:</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/d52/62a/52a/d5262a52acf64b8f9c64b1c754e90991.png"><br></div></div><br>  When checking the level, we first performed a check of the figures independent of the layer, and then the numbers of the layers of the remaining figures were compared in the order in which they were drawn. <br><br><h4>  Custom view </h4><br>  Given the non-trivial design, most of the View had to be implemented independently, for example, the progress bar in the result level window.  The progress bar has a non-standard appearance, two headers on the left (the name of the parameter used for the evaluation) and on the right (the result obtained for this parameter).  Also one of the conditions was the ability to support animated filling. <br><br><div class="spoiler">  <b class="spoiler_title">Appearance Progress Bar</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/355/fc9/aa1/355fc9aa10e349b2ae494ead99346d4c.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">ProgressBarSuccessView code</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ProgressBarSuccessView</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">View</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> mPercentValue = <span class="hljs-number"><span class="hljs-number">0</span></span>; String mLeftTitleText = <span class="hljs-string"><span class="hljs-string">"title"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> mWidth, mHeight; <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> mLeftTitleSize = <span class="hljs-number"><span class="hljs-number">0.3f</span></span>, mProgressBarSize = <span class="hljs-number"><span class="hljs-number">0.5f</span></span>, mRightTitleSize = <span class="hljs-number"><span class="hljs-number">0.2f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> mBorderMargin, mProgressMargin; RectF mProgressBarBorder = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RectF(), mProgressBarRectangle = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RectF(); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> mLeftTitleX, mLeftTitleY, mRightTitleX, mRightTitleY; Paint mTitlePaint, mProgressPaint, mBorderProgressBarPaint; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Rect mTitleTextBounds = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Rect(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ProgressBarSuccessView</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Context context)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(context); init(<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ProgressBarSuccessView</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Context context, AttributeSet attrs)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(context, attrs); init(attrs); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ProgressBarSuccessView</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Context context, AttributeSet attrs, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> defStyle)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(context, attrs, defStyle); init(attrs); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onSizeChanged</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> w, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> h, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> oldw, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> oldh)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onSizeChanged(w, h, oldw, oldh); mWidth = w; mHeight = h; mTitlePaint.getTextBounds(mLeftTitleText, <span class="hljs-number"><span class="hljs-number">0</span></span>, mLeftTitleText.length(), mTitleTextBounds); mLeftTitleX = (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>) ((w * mLeftTitleSize - mTitleTextBounds.width()) / <span class="hljs-number"><span class="hljs-number">2</span></span> - mTitleTextBounds.left); mLeftTitleY = (h - mTitleTextBounds.height()) / <span class="hljs-number"><span class="hljs-number">2</span></span> - mTitleTextBounds.top; mProgressBarBorder.set(w * mLeftTitleSize, <span class="hljs-number"><span class="hljs-number">0</span></span> + mBorderMargin, w * (mLeftTitleSize + mProgressBarSize), h - mBorderMargin); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">init</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(AttributeSet attrs)</span></span></span><span class="hljs-function"> </span></span>{ TypedArray a = getContext().obtainStyledAttributes(attrs, R.styleable.ProgressBarTitle); mLeftTitleText = a.getString(R.styleable.ProgressBarTitle_progress_bar_title); mBorderMargin = getResources().getDimension(R.dimen.border_progress_bar_margin); mProgressMargin = getResources().getDimension(R.dimen.progress_bar_margin); mTitlePaint = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Paint(Paint.ANTI_ALIAS_FLAG); mTitlePaint.setColor(getResources().getColor(R.color.title_level_success_view)); mTitlePaint.setStyle(Paint.Style.STROKE); mTitlePaint.setTextSize(getResources().getDimension(R.dimen.progress_bar_title_text_size)); mTitlePaint.setTypeface(FontManager.BEBAS_REGULAR); mBorderProgressBarPaint = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Paint(Paint.ANTI_ALIAS_FLAG); mBorderProgressBarPaint.setColor(getResources().getColor(R.color.title_level_success_view)); mBorderProgressBarPaint.setStyle(Paint.Style.STROKE); mBorderProgressBarPaint.setStrokeWidth(<span class="hljs-number"><span class="hljs-number">2</span></span>); mProgressPaint = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Paint(Paint.ANTI_ALIAS_FLAG); mProgressPaint.setColor(getResources().getColor(R.color.progress_bar_level_success_view)); mProgressPaint.setStyle(Paint.Style.FILL); setWillNotDraw(<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setPercent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> percent)</span></span></span><span class="hljs-function"> </span></span>{ mPercentValue = Math.round(percent * <span class="hljs-number"><span class="hljs-number">100f</span></span>) / <span class="hljs-number"><span class="hljs-number">100f</span></span>; invalidate(); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onDraw</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Canvas canvas)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onDraw(canvas); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> left, top, right, bottom; left = mWidth * mLeftTitleSize + mProgressMargin - mBorderMargin; top = <span class="hljs-number"><span class="hljs-number">0</span></span> + mProgressMargin; right = mPercentValue &gt; <span class="hljs-number"><span class="hljs-number">0</span></span> ? left + mWidth * mProgressBarSize * mPercentValue - mProgressMargin - mBorderMargin : left; bottom = mHeight - mProgressMargin; mProgressBarRectangle.set(left, top, right, bottom); canvas.drawText(mLeftTitleText, mLeftTitleX, mLeftTitleY, mTitlePaint); canvas.drawRect(mProgressBarBorder, mBorderProgressBarPaint); canvas.drawRect(mProgressBarRectangle, mProgressPaint); mTitlePaint.getTextBounds(String.valueOf((<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>) (mPercentValue * <span class="hljs-number"><span class="hljs-number">100</span></span>)), <span class="hljs-number"><span class="hljs-number">0</span></span>, String.valueOf((<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>) (mPercentValue * <span class="hljs-number"><span class="hljs-number">100</span></span>)).length(), mTitleTextBounds); mRightTitleX = (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>) (mWidth - mTitleTextBounds.width() / <span class="hljs-number"><span class="hljs-number">2</span></span> - mWidth * mRightTitleSize / <span class="hljs-number"><span class="hljs-number">2</span></span>); mRightTitleY = (mHeight - mTitleTextBounds.height()) / <span class="hljs-number"><span class="hljs-number">2</span></span> - mTitleTextBounds.top; canvas.drawText(String.valueOf((<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>) (mPercentValue * <span class="hljs-number"><span class="hljs-number">100</span></span>)), mRightTitleX, mRightTitleY, mTitlePaint); } }</code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Animation filling progress bar</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> AnimatorSet </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createProgressAnimationSet</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ArrayList&lt;View&gt; views, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params">[] percentValues)</span></span></span><span class="hljs-function"> </span></span>{ AnimatorSet animatorSet = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AnimatorSet(); List&lt;Animator&gt; animatorList = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;&gt;(views.size()); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; views.size(); i++){ <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> value = percentValues[i]; View view = views.get(i); animatorList.add(createProgressAnimation(view, value)); } animatorSet.playTogether(animatorList); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> animatorSet; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> ObjectAnimator </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createProgressAnimation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View view, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> progressValue)</span></span></span></span>{ ObjectAnimator shapeProgressAnimator = ObjectAnimator.ofFloat(view, <span class="hljs-string"><span class="hljs-string">"percent"</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, progressValue); shapeProgressAnimator.setDuration((<span class="hljs-keyword"><span class="hljs-keyword">long</span></span>) (<span class="hljs-number"><span class="hljs-number">1000</span></span> * progressValue)); shapeProgressAnimator.setInterpolator(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DecelerateInterpolator()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> shapeProgressAnimator; }</code> </pre><br></div></div><br>  <b>Tips</b> <br><br>  To facilitate the life of the player, tips have been added, which can be obtained for points.  Points, in turn, are awarded for completing levels, the number of points depends on the stars received per level.  The player can spend the received points on any of the 3 available tips: to show the figure, its center or the circumference of the figure's radius. <br><br><div class="spoiler">  <b class="spoiler_title">Work results</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/9ac/8d5/24b/9ac8d524b76a4c6d96e27ae7ae9daf4e.jpg"><br><img src="https://habrastorage.org/files/578/895/f95/578895f95a6b40918101dcd89290e0fb.jpg"><br><img src="https://habrastorage.org/files/300/186/bd9/300186bd937c45cba49feadd14195e0d.jpg"><br><img src="https://habrastorage.org/files/3a8/f99/e7c/3a8f99e7cb60422282bd789dc9cba7f2.jpg"><br></div></div><br><h4>  Total </h4><br>  Conclusions about the popularity of the application do not yet, because it was posted recently.  For some reason, I had no time to come to grips with the promotion of the game.  The only thing that was done - published links to the game in the social.  networks. <br>  I spent very little time learning Java.  And it is better not to be wasted reading literature, since  There are no new books, and existing books often contain implementations that are no longer relevant in the modern development of mobile applications. <br><br>  It is not known whether this game will be a hit or be a failure.  Having made this game, I got a good experience in developing applications for Android devices, which will be useful to me in the future, as well as finally engaged in what I have wanted for a long time.  Currently, I am developing my next application, approaching the process more thoroughly in view of my previous mistakes.  In addition, I still have a lot of mobile application ideas that the world will soon see. </div><p>Source: <a href="https://habr.com/ru/post/274277/">https://habr.com/ru/post/274277/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../274267/index.html">Key features of the 802.11ac standard</a></li>
<li><a href="../274269/index.html">From AI and Data Science to Cryptography: Microsoft Researchers Give 16 Predictions for 2016</a></li>
<li><a href="../274271/index.html">Making a Windows Phone Joystick</a></li>
<li><a href="../274273/index.html">Security of web resources of banks of Russia</a></li>
<li><a href="../274275/index.html">Release of components DevExpress .NET, HTML5 / JS and VCL v2015.2</a></li>
<li><a href="../274281/index.html">The project to translate the Wolfram Language (Mathematica) into various languages</a></li>
<li><a href="../274283/index.html">Automated NuGet Package Creation</a></li>
<li><a href="../274287/index.html">Threads vs processes using the example of native Node.js add-on for load testing</a></li>
<li><a href="../274289/index.html">Dolphin Smalltalk 7 is released under open source license MIT</a></li>
<li><a href="../274291/index.html">HPE service: harsh weekdays and funny stories</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>