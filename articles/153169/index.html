<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Cosmic: modeling the evolution of multicellular organisms</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello, Habr! 

 A few years ago, for practical purposes, I implemented the usual Force-based graph visualizer. 

 I was impressed how simple iterative...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Cosmic: modeling the evolution of multicellular organisms</h1><div class="post__text post__text-html js-mediator-article">  Hello, Habr! <br><br>  A few years ago, for practical purposes, I implemented the usual <a href="http://en.wikipedia.org/wiki/Force-based_layout">Force-based</a> graph visualizer. <br><br>  I was impressed how simple iterative transformations can produce subjectively complex and interesting calculations, forming nontrivial visual-kinetic models. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Over time, several ideas emerged that you can model interesting things. <br><br>  Here's what happened with one of them (in the frame small objects, look in HD): <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/7_yYU6lvvk4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br><a name="habracut"></a><br>  I took the graph visualizer as the basis: <a href="">touch</a> . <br><br><img src="https://habrastorage.org/storage2/22e/98f/4b6/22e98f4b6e313f1d3ee710beb941bcaa.png"><br><br>  <i>shift + click, shift + drag, alt + click.</i> <br>  <i>Touching is best done in Chrome or Safari due to V8 javascript.</i> <br><br>  I began by adding inertia to the vertices of the graph, which made the behavior of the object more complicated.  At a certain point, the model became associated with something average between the model of a chemical compound and a multicellular organism: <a href="">touch</a> <br><br><img src="https://habrastorage.org/storage2/65a/c19/360/65ac19360b7c06ae73551c88693243e9.png"><br><br>  The experiments grew into a desire to ensure the interaction of a multitude of such objects according to some principles, so that it would be interesting to observe this: <br><ul><li>  the object is considered a model of the body of a multicellular organism, codename "cosmic" </li><li>  kosmiki consist of cells (cell) and glued (stick) </li><li>  cells have their own energy, with increasing energy size and color changes </li><li>  gluing have energy that determines its elasticity, equal to the minimum of the energies of the glued cells </li><li>  Cosmic cells repel each other with a force proportional to the energy of the cells. </li><li>  cell gluing prevents the process of pushing away cells with a force proportional to the energy of gluing </li><li>  the head cell of the cosmic is the cell with the most energy </li><li>  cosmonics strive to absorb (attach to themselves) other cosmic people </li><li>  the cosmic absorbs another cosmic, approaching its head cell with any of its own cells, which has more energy than the head cell absorbed by the cosmic </li><li>  cosmic people tend to avoid absorption by other cosmic people </li><li>  cosmic acceleration is formed by the sum of the accelerations of its cells </li><li>  each cell accelerates in the direction of all the cells it is able to absorb, with a force proportional to its own energy </li><li>  each cell accelerates in the direction of all the cells that are able to absorb it, with a force proportional to its own energy </li></ul><br><br>  Later, the possibility of breaking the glue in case of excessive load on it was added.  That's what happened in the end: <a href="">touch</a> <br><br><img src="https://habrastorage.org/storage2/922/bf0/e4c/922bf0e4cdcd0b55448e9ae404487e75.png"><br><br>  The next step was the implementation of digestion within one organism: each gluing each fixed period of time takes energy from a smaller cell and transfers it to a larger one.  If the energy of the smaller cell turns out to be less than a certain minimum, the cell disappears, and a new draw cell with a basic charge of energy appears in space, which serves as food for the evolving around organisms.  A restriction was also introduced - a cell can absorb only a cell that is at least 61.8% of its own energy.  This eliminated the formation of freaks, when huge cells attach small cells directly to themselves.  Instead, they are now forced to form branched tentacles for this: <a href="">touch</a> <br><br>  At this stage, there was a desire to share progress with friends, a screencast was prepared: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/TqYgQqcv-GU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  The next step was to move the project from the SVG prototype to the CUDA model.  Obviously, there is a desire for more active matter.  Transferring the model to the GPU made it possible to use 8-16K particles instead of 250 in the browser prototype. <br><br>  This is what is at the moment.  Having CUDA 2.0 compatible devices can touch the model personally: <a href="">touch</a> . <br><br>  In the archive, among other things, a link to the SDK for Win7 x64, which must be installed before running exe (UPD: added another dll to the archive, now it should start without the SDK).  On XP 32bit also works, the link can be taken here: <a href="http://developer.nvidia.com/cuda/cuda-downloads">Cuda SDK</a> . <br>  <i>p - remove from pause</i> <i><br></i>  <i>s - show slidebars</i> <i><br></i>  <i>r - change the display mode</i> <i><br></i>  <i>h - mark head cells</i> <i><br></i>  <i>f - fullscreen</i> <i><br></i> <br><br>  A little bit about future plans: <br><br>  Of course, I want more cells.  After optimization, the GTX 580 counts 16K cells at a frequency of 30 FPS, 8K cells at a frequency of 120FPS are involved in the video. <br><br>  The quadratic complexity of the algorithm affects, as all cells affect all cells.  The use of the Barnes-Hut optimization algorithm on CUDA, judging by the read scientific articles from those who already transferred it to the GPU, has an effect only beyond the threshold of 50K particles, which is outside the realtime threshold :-( However, it still seems to me Moreover, the order of intercellular interactions is much more complicated than gravitational interactions. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/2kQls0t-tCU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  Theoretically, it is possible to simultaneously consider 256K particles on the same 30FPS as independent ‚Äúgalaxies‚Äù with 1K particles each (display on the screen as a 16x16 grid).  From the point of view of evolution, 256K particles, even if segmented into independent galaxies, can be much more useful than the direct interaction of 16K cells within a single galaxy.  The exchange of individuals can be arranged in rounds, providing an intergalactic mortal kombat ;-) <br><br>  By the same principle, you can implement a distributed version of the model, for example, in the form of a pretty screensaver.  To charge enthusiasts with points for the time that their iron spun the cosmos, showing them the process in the form of a splash screen.  Points can be spent in the designer of individuals that will be thrown into a distributed space, mutate and evolve - the ‚Äúdemiurge‚Äù will be able to track the success of its population and the amount of matter controlled by its individuals in the vast global space. <br><br>  A key role in the further development of the project should be played by a morphogenetic algorithm, which, with such modest topological capabilities (number of cells / individual), will be able to provide the species diversity of individuals. <br><br>  I hope to be able to implement it. <br><br>  For now, thank you for your attention! <br><br>  PS Enthusiasts who autonomously launched the model - please write - what kind of hardware and which FPS is in the console (the console in the background is the second window) <br><br>  <b>UPD: dropbox removed the ability to place materials on an open link, duplicate the link to materials from the article -</b> <a href="https://yadi.sk/d/4-FFWmLE3JYqb9">Ya.disk</a> <br><br>  <b>UPD: demo engine cosmics 2013, with soft-body physics</b> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/djnDp02Ywp4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div><p>Source: <a href="https://habr.com/ru/post/153169/">https://habr.com/ru/post/153169/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../153155/index.html">Apple Support: Violet highlights on iPhone 5 pictures - this is normal, hold the camera correctly</a></li>
<li><a href="../153157/index.html">New for web designer for September 2012</a></li>
<li><a href="../153159/index.html">Smart TV - a TV-sized smartphone</a></li>
<li><a href="../153161/index.html">Nokia Belle FP2 is available for the Nokia 808 PureView</a></li>
<li><a href="../153165/index.html">Django: running with xinetd</a></li>
<li><a href="../153175/index.html">Windows Phone - squeeze out all the juice</a></li>
<li><a href="../153177/index.html">2nd Forum of mobile developers Apps4All: free for Habr</a></li>
<li><a href="../153179/index.html">Bilingual books in wiki format</a></li>
<li><a href="../153181/index.html">Creating minidumps in C # 4.0 projects being developed in VS 2010</a></li>
<li><a href="../153195/index.html">Synology Introduces New DiskStation DS213air</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>