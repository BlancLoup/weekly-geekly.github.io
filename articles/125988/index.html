<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Determining the part of speech of words in Russian text (POS-tagging) in Python 3</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Suppose that the sentence ‚Äú Eat more of these soft French buns and drink tea. ‚ÄùIn which we need to define a part of speech for each word: 

 [('', '.'...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Determining the part of speech of words in Russian text (POS-tagging) in Python 3</h1><div class="post__text post__text-html js-mediator-article"> Suppose that the sentence ‚Äú <i>Eat more of these soft French buns and drink tea.</i>  ‚ÄùIn which we need to define a part of speech for each word: <br><br> <code>[('', '.'), ('', '.'), ('', '. .'), ('', '.'), ('', '.'), ('', '.'), ('', ''), ('', '.'), ('', '.')]</code> <br> <br>  Why do you need it?  For example, to automatically identify tags for a blog post (for selecting nouns).  Morphological markup is one of the first stages of computer text analysis. <a name="habracut"></a><br><br><h4>  Existing Solutions </h4><br>  Of course, everything is already invented before us.  There is a <a href="http://company.yandex.ru/technology/mystem/">mystem</a> from Yandex, <a href="http://www.ims.uni-stuttgart.de/projekte/corplex/TreeTagger/">TreeTagger</a> with support for the Russian language, there is <a href="http://www.nltk.org/">nltk</a> on the <a href="http://www.nltk.org/">python</a> , and also <a href="http://habrahabr.ru/blogs/python/49421/">pymorphy</a> from <a href="https://habr.com/users/kmike/" class="user_link">kmike</a> .  All these utilities work fine, though, pymorphy does not have python 3 support, and nltk only supports third version of python in beta (and there is always something falling off).  But the real goal for creating a module is an academic one, to understand how the morphological analyzer works. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Algorithm </h4><br>  To begin with, let's see how an ordinary person defines to which part of speech a word belongs. <br><ul><li>  Usually we know to which part of the speech the familiar word belongs.  For example, we know that ‚Äú <i>eat</i> ‚Äù is a verb. </li><li>  If we meet a word that we do not know, then we can guess a part of speech by comparing it with already familiar words.  For example, we can guess that the word ‚Äú <i>congruence</i> ‚Äù is a noun, i.e.  has the ending ‚Äú <i>-ost</i> ‚Äù, usually inherent in nouns. </li><li>  We can also guess what part of the speech is by tracing the chain of words in the sentence: ‚Äú <i>eat french <b>x</b></i> ‚Äù - in this example, <b>x</b> will most likely be a noun. </li><li>  Word length can also provide useful information.  If the word consists of just one or two letters, then most likely it is a preposition, a pronoun or a union. </li></ul><br>  Of course, for a computer this task will be somewhat more difficult, since  he does not have the knowledge base that man possesses.  But we will try to simulate computer training using the data available to us. <br><br><h4>  Data </h4><br>  To teach our script, I used the <a href="http://www.ruscorpora.ru/">national corpus of the Russian language</a> .  Part of the body, SynTagRus, is a collection of texts with marked information for each word, such as, part of speech, number, case, verb tense, etc.  This is how a part of the body looks in XML format: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">se</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">w</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ana</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lex</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">gr</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"PR"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ana</span></span></span><span class="hljs-tag">&gt;</span></span>`<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">w</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">w</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ana</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lex</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">gr</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"S-PRO,n,sg=ins"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ana</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">w</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">w</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ana</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lex</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">gr</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"S,m,anim=pl,nom"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ana</span></span></span><span class="hljs-tag">&gt;</span></span>`<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">w</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">w</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ana</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lex</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">gr</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"V,ipf,intr,act=pl,praes,3p,indic"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ana</span></span></span><span class="hljs-tag">&gt;</span></span>`<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">w</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">w</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ana</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lex</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">gr</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"PR"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ana</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">w</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">w</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ana</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lex</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">gr</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"S,f,inan=pl,acc"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ana</span></span></span><span class="hljs-tag">&gt;</span></span>`<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">w</span></span></span><span class="hljs-tag">&gt;</span></span> . <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">se</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">se</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">w</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ana</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lex</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">gr</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"PART"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ana</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">w</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">w</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ana</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lex</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">gr</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ADV-PRO"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ana</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">w</span></span></span><span class="hljs-tag">&gt;</span></span>, <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">w</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ana</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lex</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">gr</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"PR"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ana</span></span></span><span class="hljs-tag">&gt;</span></span>`<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">w</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">w</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ana</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lex</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">gr</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"NUM=acc"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ana</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">w</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">w</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ana</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lex</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">gr</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"S,f,inan=pl,gen"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ana</span></span></span><span class="hljs-tag">&gt;</span></span>`<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">w</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">w</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ana</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lex</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">gr</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"PR"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ana</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">w</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">w</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ana</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lex</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">gr</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"S,f,inan=pl,gen"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ana</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">w</span></span></span><span class="hljs-tag">&gt;</span></span> , <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">w</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ana</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lex</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">gr</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"V,pf,intr,med=m,sg,praet,indic"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ana</span></span></span><span class="hljs-tag">&gt;</span></span>``<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">w</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">w</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ana</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lex</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">gr</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"A=m,sg,nom,plen"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ana</span></span></span><span class="hljs-tag">&gt;</span></span>`<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">w</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">w</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ana</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lex</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">gr</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"S,m,anim=sg,nom"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ana</span></span></span><span class="hljs-tag">&gt;</span></span>`<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">w</span></span></span><span class="hljs-tag">&gt;</span></span> . <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">se</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  Sentences are enclosed in &lt;se&gt; tags, inside of which words are located in the &lt;w&gt; tag.  Information about each word is contained in the &lt;ana&gt; tag, the <b>lex</b> attribute corresponds to the lexeme, <b>gr</b> - grammatical categories.  The first category is part of speech: <br><br> <code>'S': '.', <br> 'A': '.', <br> 'NUM': '.', <br> 'A-NUM': '.-.', <br> 'V': '.', <br> 'ADV': '.', <br> 'PRAEDIC': '', <br> 'PARENTH': '', <br> 'S-PRO': '. .', <br> 'A-PRO': '. .', <br> 'ADV-PRO': '. .', <br> 'PRAEDIC-PRO': '. .', <br> 'PR': '', <br> 'CONJ': '', <br> 'PART': '', <br> 'INTJ': '.'</code> <br> <br><h4>  SVM </h4><br>  As a learning algorithm, I chose the support vector <a href="http://ru.wikipedia.org/wiki/%25D0%259C%25D0%25B5%25D1%2582%25D0%25BE%25D0%25B4_%25D0%25BE%25D0%25BF%25D0%25BE%25D1%2580%25D0%25BD%25D1%258B%25D1%2585_%25D0%25B2%25D0%25B5%25D0%25BA%25D1%2582%25D0%25BE%25D1%2580%25D0%25BE%25D0%25B2">machine</a> ( <a href="http://ru.wikipedia.org/wiki/%25D0%259C%25D0%25B5%25D1%2582%25D0%25BE%25D0%25B4_%25D0%25BE%25D0%25BF%25D0%25BE%25D1%2580%25D0%25BD%25D1%258B%25D1%2585_%25D0%25B2%25D0%25B5%25D0%25BA%25D1%2582%25D0%25BE%25D1%2580%25D0%25BE%25D0%25B2">SVM</a> ) method.  If you are not familiar with SVM or machine learning algorithms in general, then imagine that SVM is a kind of black box that accepts data characteristics as input, and classification into predefined categories as output.  As characteristics, we will set, for example, the ending of a word, and as categories, parts of speech. <br><img src="https://habrastorage.org/storage1/494234e1/356f16f2/295f303c/d7dc1ca3.png"><br><br>  In order for the black box to automatically recognize a part of speech, you first need to train it, i.e.  give many characteristics of the examples of input, and their corresponding parts of speech to output.  SVM will build a model that, with sufficient data, will in most cases correctly determine the part of speech. <br><br>  Even for academic purposes, to implement SVM is laziness, so <a href="http://www.csie.ntu.edu.tw/~cjlin/liblinear/">let's</a> use the ready-made library <a href="http://www.csie.ntu.edu.tw/~cjlin/liblinear/">LIBLINEAR</a> in C ++, which has a wrapper for python.  To train the model, we use the <b>train (prob, param)</b> function, which takes the task as the first argument: <b>problem (y, x)</b> , where <b>y</b> is an array of parts of speech for each example in array <b>x</b> .  Each example is presented in turn with a vector of characteristics.  To achieve such a statement of the problem, we first need to relate each part of speech and each characteristic with a certain numerical number.  For example: <br><br><pre> <code class="python hljs"><span class="hljs-string"><span class="hljs-string">'''  -   -   - . '''</span></span> x = [{<span class="hljs-number"><span class="hljs-number">1001</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2001</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">3001</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>}, <span class="hljs-comment"><span class="hljs-comment"># 1001 - , 2001 - , 3001 -  {1002: 1, 2002: 1, 3001: 1}, # 1002 - , 2002 - , 3001 -  {1003: 1, 2003: 1, 3002: 1}] # 1003 - , 2003 - , 3002 -  y = [1, 1, 2] # 1 - , 2 - . import liblinearutil as svm problem = svm.problem(y, x) #   param = svm.parameter('-c 1 -s 4') #   model = svm.train(prob, param) #   #      '' label, acc, vals = svm.predict([0], {1001: 1, 2001: 1, 3001: 1}, model, '') # [0] - ,     </span></span></code> </pre><br><br>  As a result, our algorithm is as follows: <br><ol><li>  We read the corpus file and for each word we define its characteristics: the word itself, the ending (the last 2 and 3 letters), the prefix (the first and second letters), as well as parts of the speech of the previous words </li><li>  To each part of speech and characteristics, assign a sequence number and create a task for learning SVM </li><li>  We train the SVM model </li><li>  We use the trained model to determine the part of speech of words in the sentence: for this, each word must again be represented as characteristics and input to the SVM model, which will select the most appropriate class, i.e.  Part of speech. </li></ol><br><br><h4>  Implementation </h4><br>  Source codes can be found here: <a href="https://github.com/irokez/Pyrus/tree/master/src">github.com/irokez/Pyrus/tree/master/src</a> <br><br><h5>  Housing </h5><br>  First you need to get a marked body.  The national corpus of the Russian language is spread in a very mysterious way.  On the corpus site itself, you can only search for texts, but you cannot download the entire corpus: <blockquote>  ‚ÄúThe offline version of the corpus is not available, however, for free use, a random sample of sentences (with disturbed order) from the corpus with homonymy of 180 thousand word usage (90 thousand press, 30 thousand each from artistic texts, legislation and scientific texts) is provided‚Äù . </blockquote>  At the same time <a href="http://en.wikipedia.org/wiki/Russian_National_Corpus">written</a> in Wikipedia <blockquote>  ‚ÄúThe corpus will be made available for non-commercial purposes, but it is currently available only.‚Äù </blockquote><br>  Although for our purposes a small sample from the case will go, available here: <a href="">www.ruscorpora.ru/download/shuffled_rnc.zip</a> <br><br>  Files in the resulting archive must be passed through the <a href="https://github.com/irokez/Pyrus/blob/master/src/convert-rnc.py">convert-rnc.py</a> utility, which translates the text into UTF-8 and corrects the XML markup.  After that, you may still need to fix the XML manually (xmllint to help you).  The <a href="https://github.com/irokez/Pyrus/blob/master/src/rnc.py">rnc.py</a> file contains a simple Reader class for reading the normalized XML files nat.  enclosures. <br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> xml.parsers.expat <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Reader</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> self._parser = xml.parsers.expat.ParserCreate() self._parser.StartElementHandler = self.start_element self._parser.EndElementHandler = self.end_element self._parser.CharacterDataHandler = self.char_data <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">start_element</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, name, attr)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> name == <span class="hljs-string"><span class="hljs-string">'ana'</span></span>: self._info = attr <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">end_element</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, name)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> name == <span class="hljs-string"><span class="hljs-string">'se'</span></span>: self._sentences.append(self._sentence) self._sentence = [] <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> name == <span class="hljs-string"><span class="hljs-string">'w'</span></span>: self._sentence.append((self._cdata, self._info)) <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> name == <span class="hljs-string"><span class="hljs-string">'ana'</span></span>: self._cdata = <span class="hljs-string"><span class="hljs-string">''</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">char_data</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, content)</span></span></span><span class="hljs-function">:</span></span> self._cdata += content <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">read</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, filename)</span></span></span><span class="hljs-function">:</span></span> f = open(filename) content = f.read() f.close() self._sentences = [] self._sentence = [] self._cdata = <span class="hljs-string"><span class="hljs-string">''</span></span> self._info = <span class="hljs-string"><span class="hljs-string">''</span></span> self._parser.Parse(content) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self._sentences</code> </pre><br><br>  The Reader.read (self, filename) method reads a file and displays a list of sentences: <br><pre> <code class="python hljs">[[(<span class="hljs-string"><span class="hljs-string">'`'</span></span>, {<span class="hljs-string"><span class="hljs-string">'lex'</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'gr'</span></span>: <span class="hljs-string"><span class="hljs-string">'S,m,anim=sg,nom'</span></span>}), (<span class="hljs-string"><span class="hljs-string">'`'</span></span>, {<span class="hljs-string"><span class="hljs-string">'lex'</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'gr'</span></span>: <span class="hljs-string"><span class="hljs-string">'S,f,inan=sg,gen'</span></span>}), (<span class="hljs-string"><span class="hljs-string">'`'</span></span>, {<span class="hljs-string"><span class="hljs-string">'lex'</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'gr'</span></span>: <span class="hljs-string"><span class="hljs-string">'A-PRO=f,sg,acc'</span></span>}), (<span class="hljs-string"><span class="hljs-string">'`'</span></span>, {<span class="hljs-string"><span class="hljs-string">'lex'</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'gr'</span></span>: <span class="hljs-string"><span class="hljs-string">'S,m,anim=pl,nom'</span></span>}), (<span class="hljs-string"><span class="hljs-string">'`'</span></span>, {<span class="hljs-string"><span class="hljs-string">'lex'</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'gr'</span></span>: <span class="hljs-string"><span class="hljs-string">'V,pf,tran=pl,act,praet,indic'</span></span>}), (<span class="hljs-string"><span class="hljs-string">''</span></span>, {<span class="hljs-string"><span class="hljs-string">'lex'</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'gr'</span></span>: <span class="hljs-string"><span class="hljs-string">'PR'</span></span>}), (<span class="hljs-string"><span class="hljs-string">''</span></span>, {<span class="hljs-string"><span class="hljs-string">'lex'</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'gr'</span></span>: <span class="hljs-string"><span class="hljs-string">'S,m,inan,0=sg,gen'</span></span>}), (<span class="hljs-string"><span class="hljs-string">'`'</span></span>, {<span class="hljs-string"><span class="hljs-string">'lex'</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'gr'</span></span>: <span class="hljs-string"><span class="hljs-string">'V,pf,tran=m,sg,act,praet,indic'</span></span>}), (<span class="hljs-string"><span class="hljs-string">''</span></span>, {<span class="hljs-string"><span class="hljs-string">'lex'</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'gr'</span></span>: <span class="hljs-string"><span class="hljs-string">'S-PRO,pl,3p=dat'</span></span>}), (<span class="hljs-string"><span class="hljs-string">'`'</span></span>, {<span class="hljs-string"><span class="hljs-string">'lex'</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'gr'</span></span>: <span class="hljs-string"><span class="hljs-string">'A=n,sg,acc,inan,plen'</span></span>}), (<span class="hljs-string"><span class="hljs-string">'`'</span></span>, {<span class="hljs-string"><span class="hljs-string">'lex'</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'gr'</span></span>: <span class="hljs-string"><span class="hljs-string">'S,n,inan=sg,acc'</span></span>}), (<span class="hljs-string"><span class="hljs-string">''</span></span>, {<span class="hljs-string"><span class="hljs-string">'lex'</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'gr'</span></span>: <span class="hljs-string"><span class="hljs-string">'PR'</span></span>}), (<span class="hljs-string"><span class="hljs-string">''</span></span>, {<span class="hljs-string"><span class="hljs-string">'lex'</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'gr'</span></span>: <span class="hljs-string"><span class="hljs-string">'S-PRO,n,sg=acc'</span></span>}), (<span class="hljs-string"><span class="hljs-string">'`'</span></span>, {<span class="hljs-string"><span class="hljs-string">'lex'</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'gr'</span></span>: <span class="hljs-string"><span class="hljs-string">'V,pf,intr,med=m,sg,praet,indic'</span></span>}), (<span class="hljs-string"><span class="hljs-string">'`'</span></span>, {<span class="hljs-string"><span class="hljs-string">'lex'</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'gr'</span></span>: <span class="hljs-string"><span class="hljs-string">'S,f,inan=sg,ins'</span></span>})]]</code> </pre><br><br><h5>  Learning and text layout </h5><br>  The SVM library can be downloaded here: <a href="http://www.csie.ntu.edu.tw/~cjlin/liblinear/">http://www.csie.ntu.edu.tw/~cjlin/liblinear/</a> .  To make the python wrapper work under the 3rd version, I wrote a small <a href="https://github.com/irokez/Pyrus/blob/master/src/liblinear.patch">patch</a> . <br><br>  The <a href="https://github.com/irokez/Pyrus/blob/master/src/pos.py">pos.py</a> file contains two main classes: <b>Tagger</b> and <b>TaggerFeatures</b> .  Tagger is, in fact, a class that performs text markup, i.e.  defines for each word its part of speech.  The <b>Tagger.train</b> method <b>(self, sentences, labels)</b> takes as arguments a list of sentences (in the same format as rnc.Reader.read), as well as a list of parts of speech for each word, and then trains the SVM model using the library LIBLINEAR.  The trained model is subsequently saved (via the Tagger.save method) in order not to train the model each time.  The <b>Tagger.label (self, sentence)</b> method <b>marks the</b> sentence. <br><br>  The TaggerFeatures class is designed to generate characteristics for training and markup.  <b>TaggerFeatures.from_body ()</b> returns a characteristic based on the shape of the word, i.e.  returns the word ID in the body.  <b>TaggerFeatures.from_suffix ()</b> and <b>TaggerFeatures.from_prefix ()</b> generate characteristics at the end and prefix of words. <br><br>  To start training the model, the <a href="https://github.com/irokez/Pyrus/blob/master/src/train.py">train.py</a> script was written, which reads the case files using rnc.Reader, and then calls the Tagger.train method: <br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sys <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> re <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> rnc <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pos sentences = [] sentences.extend(rnc.Reader().read(<span class="hljs-string"><span class="hljs-string">'tmp/media1.xml'</span></span>)) sentences.extend(rnc.Reader().read(<span class="hljs-string"><span class="hljs-string">'tmp/media2.xml'</span></span>)) sentences.extend(rnc.Reader().read(<span class="hljs-string"><span class="hljs-string">'tmp/media3.xml'</span></span>)) re_pos = re.compile(<span class="hljs-string"><span class="hljs-string">'([\w-]+)(?:[^\w-]|$)'</span></span>.format(<span class="hljs-string"><span class="hljs-string">'|'</span></span>.join(pos.tagset))) tagger = pos.Tagger() sentence_labels = [] sentence_words = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> sentence <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> sentences: labels = [] words = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> word <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> sentence: gr = word[<span class="hljs-number"><span class="hljs-number">1</span></span>][<span class="hljs-string"><span class="hljs-string">'gr'</span></span>] m = re_pos.match(gr) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> m: print(gr, file = sys.stderr) pos = m.group(<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> pos == <span class="hljs-string"><span class="hljs-string">'ANUM'</span></span>: pos = <span class="hljs-string"><span class="hljs-string">'A-NUM'</span></span> label = tagger.get_label_id(pos) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> label: print(gr, file = sys.stderr) labels.append(label) body = word[<span class="hljs-number"><span class="hljs-number">0</span></span>].replace(<span class="hljs-string"><span class="hljs-string">'`'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>) words.append(body) sentence_labels.append(labels) sentence_words.append(words) tagger.train(sentence_words, sentence_labels, <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) tagger.train(sentence_words, sentence_labels) tagger.save(<span class="hljs-string"><span class="hljs-string">'tmp/svm.model'</span></span>, <span class="hljs-string"><span class="hljs-string">'tmp/ids.pickle'</span></span>)</code> </pre><br><br>  After the model is trained and saved, we finally got a script for marking text.  An example of use is shown in <a href="https://github.com/irokez/Pyrus/blob/master/src/test.py">test.py</a> : <br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sys <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pos sentence = sys.argv[<span class="hljs-number"><span class="hljs-number">1</span></span>].split(<span class="hljs-string"><span class="hljs-string">' '</span></span>) tagger = pos.Tagger() tagger.load(<span class="hljs-string"><span class="hljs-string">'tmp/svm.model'</span></span>, <span class="hljs-string"><span class="hljs-string">'tmp/ids.pickle'</span></span>) rus = { <span class="hljs-string"><span class="hljs-string">'S'</span></span>: <span class="hljs-string"><span class="hljs-string">'.'</span></span>, <span class="hljs-string"><span class="hljs-string">'A'</span></span>: <span class="hljs-string"><span class="hljs-string">'.'</span></span>, <span class="hljs-string"><span class="hljs-string">'NUM'</span></span>: <span class="hljs-string"><span class="hljs-string">'.'</span></span>, <span class="hljs-string"><span class="hljs-string">'A-NUM'</span></span>: <span class="hljs-string"><span class="hljs-string">'.-.'</span></span>, <span class="hljs-string"><span class="hljs-string">'V'</span></span>: <span class="hljs-string"><span class="hljs-string">'.'</span></span>, <span class="hljs-string"><span class="hljs-string">'ADV'</span></span>: <span class="hljs-string"><span class="hljs-string">'.'</span></span>, <span class="hljs-string"><span class="hljs-string">'PRAEDIC'</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'PARENTH'</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'S-PRO'</span></span>: <span class="hljs-string"><span class="hljs-string">'. .'</span></span>, <span class="hljs-string"><span class="hljs-string">'A-PRO'</span></span>: <span class="hljs-string"><span class="hljs-string">'. .'</span></span>, <span class="hljs-string"><span class="hljs-string">'ADV-PRO'</span></span>: <span class="hljs-string"><span class="hljs-string">'. .'</span></span>, <span class="hljs-string"><span class="hljs-string">'PRAEDIC-PRO'</span></span>: <span class="hljs-string"><span class="hljs-string">'. .'</span></span>, <span class="hljs-string"><span class="hljs-string">'PR'</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'CONJ'</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'PART'</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'INTJ'</span></span>: <span class="hljs-string"><span class="hljs-string">'.'</span></span>, <span class="hljs-string"><span class="hljs-string">'INIT'</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'NONLEX'</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span> } tagged = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> word, label <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> tagger.label(sentence): tagged.append((word, rus[tagger.get_label(label)])) print(tagged)</code> </pre><br><br>  It works like this: <br> <code>$ src/test.py "     ,    " <br> [('', '.'), ('', '.'), ('', '. .'), ('', '.'), ('', '.'), (',', '.'), ('', ''), ('', '.'), ('', ''), ('', '.')]</code> <br> <br><h4>  Testing </h4><br>  To assess the accuracy of the classification of the algorithm, the <b>Tagger.train ()</b> learning method has the optional <b>cross_validation</b> parameter, which, if set to True, performs a <a href="http://ru.wikipedia.org/wiki/%25D0%259F%25D0%25B5%25D1%2580%25D0%25B5%25D0%25BA%25D1%2580%25D1%2591%25D1%2581%25D1%2582%25D0%25BD%25D0%25B0%25D1%258F_%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B5%25D1%2580%25D0%25BA%25D0%25B0">cross-check</a> , i.e.  training data is divided into K parts, after which each part is used in turn to evaluate the work of the method, while the rest is used for training.  I managed to achieve an average accuracy of <b>92%</b> , which is quite good, considering that only the available part of the nat was used.  enclosures.  Typically, the accuracy of the markup of parts of speech ranges from <b>96-98%</b> . <br><br><h4>  Conclusion and future plans </h4><br>  In general, it was interesting to work with nat.  case.  It can be seen that much work has been done on it, and it contains a large amount of information that I would like to use in full.  I sent a request for a full version, but so far, unfortunately, no answer. <br><br>  The resulting markup script can be easily expanded so that it also defines other morphological categories, for example, number, gender, case, etc. What I will do in the future.  In the future, I would like, of course, to write the Russian language syntax parser to get the structure of the sentence, but this requires the full version of the corpus. <br><br>  I will be glad to answer questions and suggestions. <br>  Source code is available here: <a href="https://github.com/irokez/Pyrus/">github.com/irokez/Pyrus</a> <br>  Demo: <a href="http://vps11096.ovh.net:8080/">http://vps11096.ovh.net:8080</a> </div><p>Source: <a href="https://habr.com/ru/post/125988/">https://habr.com/ru/post/125988/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../125974/index.html">UserAndLinux - Configuring usability: everything so that you feel comfortable</a></li>
<li><a href="../125979/index.html">Vzmem: Visual consistent memory allocation for OpenVZ</a></li>
<li><a href="../125980/index.html">BlackBerry Colt will be the first smartphone running QNX</a></li>
<li><a href="../125983/index.html">Hackers from the Anonymous group promised to "destroy" Facebook</a></li>
<li><a href="../125986/index.html">OGS Mahjong Mahjong Solitaire Up to Version 0.8</a></li>
<li><a href="../125989/index.html">Storing passwords without saving them (development of the theme)</a></li>
<li><a href="../125990/index.html">Different Reality</a></li>
<li><a href="../125993/index.html">Facebook released instant messenger for iPhone and Android</a></li>
<li><a href="../125994/index.html">ARM - is it difficult ...?</a></li>
<li><a href="../125999/index.html">Pull request'y on GitHub or How do I make changes to someone else's project</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>