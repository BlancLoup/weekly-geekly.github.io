<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Work with data - ExtJS and Zend Framework, part 1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this topic I tell you how to work with the javascript components of the ExtJS framework and the php Zend Framework using the example of editing som...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Work with data - ExtJS and Zend Framework, part 1</h1><div class="post__text post__text-html js-mediator-article">  In this topic I tell you how to work with the javascript components of the ExtJS framework and the php Zend Framework using the example of editing some content in the database table. <br>  To edit the list of content items we will use the ExtJS GridPanel component, for a separate instance - the FormPanel. <br>  The review is designed for people who know the basics of robots with the specified frameworks, I will not dwell on some details, such as creating a database connection, writing a loader. <br>  For development I used ExtJS 3.0, Zend Framework 1.8.1. <br><a name="habracut"></a><br><h4>  DB </h4><br>  To begin with we create the table in a DB. <br><blockquote><ol><li> <code><font color="black"><font color="#993333"><b>CREATE</b></font> <font color="#993333"><b>TABLE</b></font> <font color="#ff0000">`articles`</font> <font color="#66cc66">(</font> <font color="#ff0000">`id`</font> int <font color="#66cc66">(</font> <font color="#cc66cc">11</font> <font color="#66cc66">)</font> <font color="#993333"><b>NOT</b></font> <font color="#993333"><b>NULL</b></font> <font color="#993333"><b>AUTO_INCREMENT</b></font> <font color="#66cc66">,</font> <font color="#ff0000">`title`</font> varchar <font color="#66cc66">(</font> <font color="#cc66cc">255</font> <font color="#66cc66">)</font> <font color="#66cc66">,</font> <font color="#ff0000">`shorttext`</font> text <font color="#66cc66">,</font> <font color="#ff0000">`createdate`</font> datetime <font color="#66cc66">,</font> <font color="#ff0000">`text`</font> text <font color="#66cc66">,</font> <font color="#993333"><b>PRIMARY</b></font> <font color="#993333"><b>KEY</b></font> <font color="#66cc66">(</font> <font color="#ff0000">`id`</font> <font color="#66cc66">)</font> <font color="#66cc66">)</font> ;</font></code> </li> <li> <code><font color="black"><font color="#993333"><b>CREATE</b></font> <font color="#993333"><b>TABLE</b></font> <font color="#ff0000">`articles`</font> <font color="#66cc66">(</font> <font color="#ff0000">`id`</font> int <font color="#66cc66">(</font> <font color="#cc66cc">11</font> <font color="#66cc66">)</font> <font color="#993333"><b>NOT</b></font> <font color="#993333"><b>NULL</b></font> <font color="#993333"><b>AUTO_INCREMENT</b></font> <font color="#66cc66">,</font> <font color="#ff0000">`title`</font> varchar <font color="#66cc66">(</font> <font color="#cc66cc">255</font> <font color="#66cc66">)</font> <font color="#66cc66">,</font> <font color="#ff0000">`shorttext`</font> text <font color="#66cc66">,</font> <font color="#ff0000">`createdate`</font> datetime <font color="#66cc66">,</font> <font color="#ff0000">`text`</font> text <font color="#66cc66">,</font> <font color="#993333"><b>PRIMARY</b></font> <font color="#993333"><b>KEY</b></font> <font color="#66cc66">(</font> <font color="#ff0000">`id`</font> <font color="#66cc66">)</font> <font color="#66cc66">)</font> ;</font></code> </li> <li> <code><font color="black"><font color="#993333"><b>CREATE</b></font> <font color="#993333"><b>TABLE</b></font> <font color="#ff0000">`articles`</font> <font color="#66cc66">(</font> <font color="#ff0000">`id`</font> int <font color="#66cc66">(</font> <font color="#cc66cc">11</font> <font color="#66cc66">)</font> <font color="#993333"><b>NOT</b></font> <font color="#993333"><b>NULL</b></font> <font color="#993333"><b>AUTO_INCREMENT</b></font> <font color="#66cc66">,</font> <font color="#ff0000">`title`</font> varchar <font color="#66cc66">(</font> <font color="#cc66cc">255</font> <font color="#66cc66">)</font> <font color="#66cc66">,</font> <font color="#ff0000">`shorttext`</font> text <font color="#66cc66">,</font> <font color="#ff0000">`createdate`</font> datetime <font color="#66cc66">,</font> <font color="#ff0000">`text`</font> text <font color="#66cc66">,</font> <font color="#993333"><b>PRIMARY</b></font> <font color="#993333"><b>KEY</b></font> <font color="#66cc66">(</font> <font color="#ff0000">`id`</font> <font color="#66cc66">)</font> <font color="#66cc66">)</font> ;</font></code> </li> <li> <code><font color="black"><font color="#993333"><b>CREATE</b></font> <font color="#993333"><b>TABLE</b></font> <font color="#ff0000">`articles`</font> <font color="#66cc66">(</font> <font color="#ff0000">`id`</font> int <font color="#66cc66">(</font> <font color="#cc66cc">11</font> <font color="#66cc66">)</font> <font color="#993333"><b>NOT</b></font> <font color="#993333"><b>NULL</b></font> <font color="#993333"><b>AUTO_INCREMENT</b></font> <font color="#66cc66">,</font> <font color="#ff0000">`title`</font> varchar <font color="#66cc66">(</font> <font color="#cc66cc">255</font> <font color="#66cc66">)</font> <font color="#66cc66">,</font> <font color="#ff0000">`shorttext`</font> text <font color="#66cc66">,</font> <font color="#ff0000">`createdate`</font> datetime <font color="#66cc66">,</font> <font color="#ff0000">`text`</font> text <font color="#66cc66">,</font> <font color="#993333"><b>PRIMARY</b></font> <font color="#993333"><b>KEY</b></font> <font color="#66cc66">(</font> <font color="#ff0000">`id`</font> <font color="#66cc66">)</font> <font color="#66cc66">)</font> ;</font></code> </li> <li> <code><font color="black"><font color="#993333"><b>CREATE</b></font> <font color="#993333"><b>TABLE</b></font> <font color="#ff0000">`articles`</font> <font color="#66cc66">(</font> <font color="#ff0000">`id`</font> int <font color="#66cc66">(</font> <font color="#cc66cc">11</font> <font color="#66cc66">)</font> <font color="#993333"><b>NOT</b></font> <font color="#993333"><b>NULL</b></font> <font color="#993333"><b>AUTO_INCREMENT</b></font> <font color="#66cc66">,</font> <font color="#ff0000">`title`</font> varchar <font color="#66cc66">(</font> <font color="#cc66cc">255</font> <font color="#66cc66">)</font> <font color="#66cc66">,</font> <font color="#ff0000">`shorttext`</font> text <font color="#66cc66">,</font> <font color="#ff0000">`createdate`</font> datetime <font color="#66cc66">,</font> <font color="#ff0000">`text`</font> text <font color="#66cc66">,</font> <font color="#993333"><b>PRIMARY</b></font> <font color="#993333"><b>KEY</b></font> <font color="#66cc66">(</font> <font color="#ff0000">`id`</font> <font color="#66cc66">)</font> <font color="#66cc66">)</font> ;</font></code> </li> <li> <code><font color="black"><font color="#993333"><b>CREATE</b></font> <font color="#993333"><b>TABLE</b></font> <font color="#ff0000">`articles`</font> <font color="#66cc66">(</font> <font color="#ff0000">`id`</font> int <font color="#66cc66">(</font> <font color="#cc66cc">11</font> <font color="#66cc66">)</font> <font color="#993333"><b>NOT</b></font> <font color="#993333"><b>NULL</b></font> <font color="#993333"><b>AUTO_INCREMENT</b></font> <font color="#66cc66">,</font> <font color="#ff0000">`title`</font> varchar <font color="#66cc66">(</font> <font color="#cc66cc">255</font> <font color="#66cc66">)</font> <font color="#66cc66">,</font> <font color="#ff0000">`shorttext`</font> text <font color="#66cc66">,</font> <font color="#ff0000">`createdate`</font> datetime <font color="#66cc66">,</font> <font color="#ff0000">`text`</font> text <font color="#66cc66">,</font> <font color="#993333"><b>PRIMARY</b></font> <font color="#993333"><b>KEY</b></font> <font color="#66cc66">(</font> <font color="#ff0000">`id`</font> <font color="#66cc66">)</font> <font color="#66cc66">)</font> ;</font></code> </li> <li> <code><font color="black"><font color="#993333"><b>CREATE</b></font> <font color="#993333"><b>TABLE</b></font> <font color="#ff0000">`articles`</font> <font color="#66cc66">(</font> <font color="#ff0000">`id`</font> int <font color="#66cc66">(</font> <font color="#cc66cc">11</font> <font color="#66cc66">)</font> <font color="#993333"><b>NOT</b></font> <font color="#993333"><b>NULL</b></font> <font color="#993333"><b>AUTO_INCREMENT</b></font> <font color="#66cc66">,</font> <font color="#ff0000">`title`</font> varchar <font color="#66cc66">(</font> <font color="#cc66cc">255</font> <font color="#66cc66">)</font> <font color="#66cc66">,</font> <font color="#ff0000">`shorttext`</font> text <font color="#66cc66">,</font> <font color="#ff0000">`createdate`</font> datetime <font color="#66cc66">,</font> <font color="#ff0000">`text`</font> text <font color="#66cc66">,</font> <font color="#993333"><b>PRIMARY</b></font> <font color="#993333"><b>KEY</b></font> <font color="#66cc66">(</font> <font color="#ff0000">`id`</font> <font color="#66cc66">)</font> <font color="#66cc66">)</font> ;</font></code> </li> <li> <code><font color="black"><font color="#993333"><b>CREATE</b></font> <font color="#993333"><b>TABLE</b></font> <font color="#ff0000">`articles`</font> <font color="#66cc66">(</font> <font color="#ff0000">`id`</font> int <font color="#66cc66">(</font> <font color="#cc66cc">11</font> <font color="#66cc66">)</font> <font color="#993333"><b>NOT</b></font> <font color="#993333"><b>NULL</b></font> <font color="#993333"><b>AUTO_INCREMENT</b></font> <font color="#66cc66">,</font> <font color="#ff0000">`title`</font> varchar <font color="#66cc66">(</font> <font color="#cc66cc">255</font> <font color="#66cc66">)</font> <font color="#66cc66">,</font> <font color="#ff0000">`shorttext`</font> text <font color="#66cc66">,</font> <font color="#ff0000">`createdate`</font> datetime <font color="#66cc66">,</font> <font color="#ff0000">`text`</font> text <font color="#66cc66">,</font> <font color="#993333"><b>PRIMARY</b></font> <font color="#993333"><b>KEY</b></font> <font color="#66cc66">(</font> <font color="#ff0000">`id`</font> <font color="#66cc66">)</font> <font color="#66cc66">)</font> ;</font></code> </li> </ol></blockquote><br>  In this example, it will be a news feed, the table provides for the fields - title, date, short and full text. <br><br><h4>  GridPanel </h4><br>  Creating an interface for working with data using the Zend Framework library. <br>  Create a new html page.  Connect all you need, css, ExtJS. <br><blockquote><ol><li>  <font color="#003366"><b>var</b></font> record <font color="#339933">=</font> Ext.  <font color="#660066">data</font> .  <font color="#660066">Record</font> .  <font color="#660066">create</font> <font color="#009900">(</font> <font color="#009900">[</font> </li><li>  <font color="#009900">{</font> <font color="#000066">name</font> <font color="#339933">:</font> <font color="#3366CC">'id'</font> <font color="#339933">,</font> type <font color="#339933">:</font> <font color="#3366CC">'int'</font> <font color="#009900">}</font> <font color="#339933">,</font> </li><li>  <font color="#009900">{</font> <font color="#000066">name</font> <font color="#339933">:</font> <font color="#3366CC">'title'</font> <font color="#009900">}</font> <font color="#339933">,</font> </li><li>  <font color="#009900">{</font> <font color="#000066">name</font> <font color="#339933">:</font> <font color="#3366CC">'createdate'</font> <font color="#339933">,</font> type <font color="#339933">:</font> <font color="#3366CC">'date'</font> <font color="#339933">,</font> dateFormat <font color="#339933">:</font> <font color="#3366CC">'Ymd h: i: s'</font> <font color="#009900">}</font> <font color="#339933">,</font> </li><li>  <font color="#009900">]</font> <font color="#009900">)</font> <font color="#339933">;</font> </li><li>  <font color="#003366"><b>var</b></font> ds <font color="#339933">=</font> <font color="#003366"><b>new</b></font> Ext.  <font color="#660066">data</font> .  <font color="#660066">Store</font> <font color="#009900">(</font> <font color="#009900">{</font> </li><li>  remoteSort <font color="#339933">:</font> <font color="#003366"><b>false</b></font> <font color="#339933">,</font> </li><li>  proxy <font color="#339933">:</font> <font color="#003366"><b>new</b></font> Ext.  <font color="#660066">data</font> .  <font color="#660066">HttpProxy</font> <font color="#009900">(</font> <font color="#009900">{</font> </li><li>  url <font color="#339933">:</font> <font color="#3366CC">'/ grid / grid /'</font> </li><li>  <font color="#009900">}</font> <font color="#009900">)</font> </li><li>  reader <font color="#339933">:</font> <font color="#003366"><b>new</b></font> Ext.  <font color="#660066">data</font> .  <font color="#660066">JsonReader</font> <font color="#009900">(</font> <font color="#009900">{</font> </li><li>  root <font color="#339933">:</font> <font color="#3366CC">'result'</font> <font color="#339933">,</font> </li><li>  totalProperty <font color="#339933">:</font> <font color="#3366CC">'totalCount'</font> </li><li>  <font color="#009900">}</font> <font color="#339933">,</font> record <font color="#009900">)</font> </li><li>  <font color="#009900">}</font> <font color="#009900">)</font> <font color="#339933">;</font> </li><li>  paddingBar <font color="#339933">=</font> <font color="#003366"><b>new</b></font> Ext.  <font color="#660066">PagingToolbar</font> <font color="#009900">(</font> <font color="#009900">{</font> </li><li>  pageSize <font color="#339933">:</font> <font color="#CC0000">10</font> <font color="#339933">,</font> </li><li>  store <font color="#339933">:</font> ds <font color="#339933">,</font> </li><li>  displayInfo <font color="#339933">:</font> <font color="#003366"><b>true</b></font> </li><li>  displayMsg <font color="#339933">:</font> <font color="#3366CC">'Displaying topics {0} - {1} of {2}'</font> <font color="#339933">,</font> </li><li>  emptyMsg <font color="#339933">:</font> <font color="#3366CC">"No topics to display"</font> </li><li>  <font color="#009900">}</font> <font color="#009900">)</font> <font color="#339933">;</font> </li><li>  <font color="#003366"><b>var</b></font> renderDate <font color="#339933">=</font> <font color="#003366"><b>function</b></font> <font color="#009900">(</font> value <font color="#339933">,</font> p <font color="#339933">,</font> record <font color="#009900">)</font> <font color="#009900">{</font> </li><li>  <font color="#000066"><b>return</b></font> value.  <font color="#660066">format</font> <font color="#009900">(</font> <font color="#3366CC">"j / n / YH: i: s"</font> <font color="#009900">)</font> <font color="#339933">;</font> </li><li>  <font color="#009900">}</font> <font color="#339933">;</font> </li><li>  <font color="#003366"><b>var</b></font> grid <font color="#339933">=</font> <font color="#003366"><b>new</b></font> Ext.  <font color="#660066">grid</font> .  <font color="#660066">GridPanel</font> <font color="#009900">(</font> <font color="#009900">{</font> </li><li>  store <font color="#339933">:</font> ds <font color="#339933">,</font> </li><li>  trackMouseOver <font color="#339933">:</font> <font color="#003366"><b>false</b></font> <font color="#339933">,</font> </li><li>  loadMask <font color="#339933">:</font> <font color="#003366"><b>true</b></font> </li><li>  columns <font color="#339933">:</font> <font color="#009900">[</font> <font color="#009900">{</font> </li><li>  id <font color="#339933">:</font> <font color="#3366CC">'id'</font> <font color="#339933">,</font> </li><li>  header <font color="#339933">:</font> <font color="#3366CC">"Id"</font> <font color="#339933">,</font> </li><li>  dataIndex <font color="#339933">:</font> <font color="#3366CC">'id'</font> <font color="#339933">,</font> </li><li>  width <font color="#339933">:</font> <font color="#CC0000">40</font> <font color="#339933">,</font> </li><li>  sortable <font color="#339933">:</font> <font color="#003366"><b>true</b></font> </li><li>  <font color="#009900">}</font> <font color="#339933">,</font> <font color="#009900">{</font> </li><li>  header <font color="#339933">:</font> <font color="#3366CC">"Title"</font> <font color="#339933">,</font> </li><li>  dataIndex <font color="#339933">:</font> <font color="#3366CC">'title'</font> <font color="#339933">,</font> </li><li>  width <font color="#339933">:</font> <font color="#CC0000">300</font> <font color="#339933">,</font> </li><li>  sortable <font color="#339933">:</font> <font color="#003366"><b>true</b></font> </li><li>  <font color="#009900">}</font> <font color="#339933">,</font> <font color="#009900">{</font> </li><li>  header <font color="#339933">:</font> <font color="#3366CC">"Createdate"</font> <font color="#339933">,</font> </li><li>  dataIndex <font color="#339933">:</font> <font color="#3366CC">'createdate'</font> <font color="#339933">,</font> </li><li>  width <font color="#339933">:</font> <font color="#CC0000">200</font> <font color="#339933">,</font> </li><li>  renderer <font color="#339933">:</font> renderDate <font color="#339933">,</font> </li><li>  sortable <font color="#339933">:</font> <font color="#003366"><b>true</b></font> </li><li>  <font color="#009900">}</font> <font color="#009900">]</font> <font color="#339933">,</font> </li><li>  tbar <font color="#339933">:</font> <font color="#009900">[</font> </li><li>  <font color="#003366"><b>new</b></font> Ext.  <font color="#660066">Button</font> <font color="#009900">(</font> <font color="#009900">{</font> </li><li>  text <font color="#339933">:</font> <font color="#3366CC">'New'</font> <font color="#339933">,</font> </li><li>  handler <font color="#339933">:</font> addRecord </li><li>  <font color="#009900">}</font> <font color="#009900">)</font> </li><li>  <font color="#003366"><b>new</b></font> Ext.  <font color="#660066">Button</font> <font color="#009900">(</font> <font color="#009900">{</font> </li><li>  text <font color="#339933">:</font> <font color="#3366CC">'Edit'</font> <font color="#339933">,</font> </li><li>  handler <font color="#339933">:</font> editRecord </li><li>  <font color="#009900">}</font> <font color="#009900">)</font> </li><li>  <font color="#003366"><b>new</b></font> Ext.  <font color="#660066">Button</font> <font color="#009900">(</font> <font color="#009900">{</font> </li><li>  text <font color="#339933">:</font> <font color="#3366CC">'Delete'</font> <font color="#339933">,</font> </li><li>  handler <font color="#339933">:</font> deleteRecords </li><li>  <font color="#009900">}</font> <font color="#009900">)</font> </li><li>  <font color="#009900">]</font> <font color="#339933">,</font> </li><li>  bbar <font color="#339933">:</font> paddingBar </li><li>  <font color="#009900">}</font> <font color="#009900">)</font> <font color="#339933">;</font> </li><li>  grid.  <font color="#660066">on</font> <font color="#009900">(</font> <font color="#3366CC">"rowdblclick"</font> <font color="#339933">,</font> editRecord <font color="#009900">)</font> <font color="#339933">;</font> </li><li>  <font color="#003366"><b>var</b></font> window <font color="#339933">=</font> <font color="#003366"><b>new</b></font> Ext.  <font color="#660066">Window</font> <font color="#009900">(</font> <font color="#009900">{</font> </li><li>  id <font color="#339933">:</font> <font color="#3366CC">'example-window'</font> <font color="#339933">,</font> </li><li>  title <font color="#339933">:</font> <font color="#3366CC">"Grid Example"</font> <font color="#339933">,</font> </li><li>  layout <font color="#339933">:</font> <font color="#3366CC">'fit'</font> <font color="#339933">,</font> </li><li>  width <font color="#339933">:</font> <font color="#CC0000">800</font> <font color="#339933">,</font> </li><li>  height <font color="#339933">:</font> <font color="#CC0000">400</font> <font color="#339933">,</font> </li><li>  items <font color="#339933">:</font> <font color="#009900">[</font> grid <font color="#009900">]</font> </li><li>  <font color="#009900">}</font> <font color="#009900">)</font> <font color="#339933">;</font> </li><li>  window.  <font color="#660066">show</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">;</font> </li><li>  grid.  <font color="#660066">getStore</font> <font color="#009900">(</font> <font color="#009900">)</font> .  <font color="#660066">load</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">;</font> </li></ol></blockquote><br><br>  Comments on the code: <br>  Create an entry with the definition of the desired fields.  Names and formats should correspond to the fields in the database table (1-5).  Specify the url of the controller that will load the data (/ grid / grid /).  The result will contain the table entries.  And to be able to navigate through the pages in totalCount, you must specify the total number of records.  For page-by-page navigation in ExtJS libraries, the Ext.PagingToolbar component (16-22) is provided.  We indicate that the page will display 10 entries. <br>  Render for the date - we will display it in a more convenient for viewing format (23-25). <br>  In the toolbar you need to add buttons to add, edit and delete content (48-61). <br>  Added another handler for double clicking on a record in the table.  It is inconvenient to select content, and then click on the button to edit it (64). <br>  Displays the table in the window (65-73).  Finally, we load the data into a table (74). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The result should be something like this. <br><img src="http://xmages.net/upload/08362a47.jpg"><br><br><h4>  Gridcontroller </h4><br>  We turn to php and create a controller that will interact with the client part. <br><blockquote><ol><li>  <font color="#3A00FF"><b>class</b></font> GridController <font color="#3A00FF"><b>extends</b></font> Zend_Controller_Action </li><li>  <font color="#009900">{</font> </li><li>  <font color="#339933">...</font> </li><li>  <font color="#009900">}</font> </li></ol></blockquote><br><br>  Let's create a model, I added one method to it that returns the total number of records in the table (I did not find the standard function in the framework that does this). <br><blockquote><ol><li>  <font color="#3A00FF"><b>class</b></font> Grid <font color="#3A00FF"><b>extends</b></font> Zend_Db_Table_Abstract </li><li>  <font color="#009900">{</font> </li><li>  <font color="#3A00FF"><b>public</b></font> <font color="#3A00FF"><b>function</b></font> getCountRows <font color="#009900">(</font> <font color="#009900">)</font> </li><li>  <font color="#009900">{</font> </li><li>  <font color="#000088">$ select</font> <font color="#339933">=</font> <font color="#000088">$ this</font> <font color="#339933">-&gt;</font> <font color="#004000">select</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">-&gt;</font> <font color="#004000">from</font> <font color="#009900">(</font> <font color="#990000">array</font> <font color="#009900">(</font> <font color="#0000ff">'p'</font> <font color="#339933">=&gt;</font> <font color="#000088">$ this</font> <font color="#339933">-&gt;</font> _name <font color="#009900">)</font> <font color="#339933">,</font> <font color="#990000">array</font> <font color="#009900">(</font> <font color="#0000ff">'c'</font> <font color="#339933">=&gt;</font> <font color="#0000ff">'COUNT (*)'</font> <font color="#009900">)</font> <font color="#009900">)</font> <font color="#339933">;</font> </li><li>  <font color="#000088">$ stmt</font> <font color="#339933">=</font> <font color="#000088">$ select</font> <font color="#339933">-&gt;</font> <font color="#004000">query</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">;</font> </li><li>  <font color="#000088">$ result</font> <font color="#339933">=</font> <font color="#000088">$ stmt</font> <font color="#339933">-&gt;</font> <font color="#004000">fetchAll</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">;</font> </li><li>  <font color="#b1b100">return</font> <font color="#000088">$ result</font> <font color="#009900">[</font> <font color="#cc66cc">0</font> <font color="#009900">]</font> <font color="#009900">[</font> <font color="#cc66cc">0</font> <font color="#009900">]</font> <font color="#339933">;</font> </li><li>  <font color="#009900">}</font> </li><li>  <font color="#009900">}</font> </li></ol></blockquote><br><br>  A method for the Grid controller that will load data into the table. <br><br><blockquote><ol><li>  <font color="#3A00FF"><b>public</b></font> <font color="#3A00FF"><b>function</b></font> gridAction <font color="#009900">(</font> <font color="#009900">)</font> </li><li>  <font color="#009900">{</font> </li><li>  <font color="#000088">$ this</font> <font color="#339933">-&gt;</font> _helper <font color="#339933">-&gt;</font> <font color="#004000">viewRenderer</font> <font color="#339933">-&gt;</font> <font color="#004000">setNoRender</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">;</font> </li><li>  <font color="#b1b100">require_once</font> <font color="#0000ff">'Grid.php'</font> <font color="#339933">;</font> </li><li>  <font color="#000088">$ grid</font> <font color="#339933">=</font> <font color="#3A00FF"><b>new</b></font> Grid <font color="#009900">(</font> <font color="#990000">array</font> <font color="#009900">(</font> <font color="#0000ff">'name'</font> <font color="#339933">=&gt;</font> <font color="#0000ff">'articles'</font> <font color="#009900">)</font> <font color="#009900">)</font> <font color="#339933">;</font> </li><li>  <font color="#000088">$ totalCount</font> <font color="#339933">=</font> <font color="#000088">$ grid</font> <font color="#339933">-&gt;</font> <font color="#004000">getCountRows</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">;</font> </li><li>  <font color="#000088">$ where</font> <font color="#339933">=</font> <font color="#3A00FF"><b>null</b></font> <font color="#339933">;</font> </li><li>  <font color="#000088">$ order</font> <font color="#339933">=</font> <font color="#0000ff">"id"</font> <font color="#339933">;</font> </li><li>  <font color="#000088">$ limit</font> <font color="#339933">=</font> <font color="#000088">$ this</font> <font color="#339933">-&gt;</font> <font color="#004000">getRequest</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">-&gt;</font> <font color="#004000">getParam</font> <font color="#009900">(</font> <font color="#0000ff">'limit'</font> <font color="#339933">,</font> <font color="#cc66cc">5</font> <font color="#009900">)</font> <font color="#339933">;</font> </li><li>  <font color="#000088">$ start</font> <font color="#339933">=</font> <font color="#000088">$ this</font> <font color="#339933">-&gt;</font> <font color="#004000">getRequest</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">-&gt;</font> <font color="#004000">getParam</font> <font color="#009900">(</font> <font color="#0000ff">'start'</font> <font color="#339933">,</font> <font color="#cc66cc">0</font> <font color="#009900">)</font> <font color="#339933">;</font> </li><li>  <font color="#000088">$ rows</font> <font color="#339933">=</font> <font color="#000088">$ grid</font> <font color="#339933">-&gt;</font> <font color="#004000">fetchAll</font> <font color="#009900">(</font> <font color="#000088">$ where</font> <font color="#339933">,</font> <font color="#000088">$ order</font> <font color="#339933">,</font> <font color="#000088">$ limit</font> <font color="#339933">,</font> <font color="#000088">$ start</font> <font color="#009900">)</font> <font color="#339933">;</font> </li><li>  <font color="#000088">$ data</font> <font color="#339933">=</font> <font color="#990000">array</font> <font color="#009900">(</font> </li><li>  <font color="#0000ff">'totalCount'</font> <font color="#339933">=&gt;</font> <font color="#000088">$ totalCount</font> <font color="#339933">,</font> </li><li>  <font color="#0000ff">'result'</font> <font color="#339933">=&gt;</font> <font color="#000088">$ rows</font> <font color="#339933">-&gt;</font> <font color="#004000">toArray</font> <font color="#009900">(</font> <font color="#009900">)</font> </li><li>  <font color="#009900">)</font> <font color="#339933">;</font> </li><li>  <font color="#990000">echo</font> json_encode <font color="#009900">(</font> <font color="#000088">$ data</font> <font color="#009900">)</font> <font color="#339933">;</font> </li><li>  <font color="#009900">}</font> </li></ol></blockquote><br><br>  In the method we find the total number of records and select the page.  During pagination, the values ‚Äã‚Äãof start and limit will also be passed as parameters.  We form an array with the total number of elements and data and convert it into JSON format.  You can use a helper, and you can use a normal function, without a wrapper. <br><br>  In the second part, the creation of a form for editing data, writing a controller for editing and how data is deleted will be considered. </div><p>Source: <a href="https://habr.com/ru/post/79679/">https://habr.com/ru/post/79679/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../79672/index.html">Download new media file from URL</a></li>
<li><a href="../79674/index.html">Norbert Wiener</a></li>
<li><a href="../79675/index.html">New Year's pig, or Do not work, children, without prepayment</a></li>
<li><a href="../79676/index.html">Well ... Japanese Urban ;-)</a></li>
<li><a href="../79677/index.html">Happy New Year!</a></li>
<li><a href="../79682/index.html">Count the number of floors or the highest quality photo Burd Dubai</a></li>
<li><a href="../79683/index.html">Why prepayment is not the main thing</a></li>
<li><a href="../79687/index.html">FTP site infection</a></li>
<li><a href="../79688/index.html">Letter to Santa Claus</a></li>
<li><a href="../79690/index.html">JetBrains WebIDE - Suggestions and Suggestions</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>