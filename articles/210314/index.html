<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Switch between EDGE / 3G / LTE in iPhone 5S / 5C (jailbreak)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Finally it happened, Apple included the ability to use LTE for all Russian subscribers of Megafon, MTS, Beeline on iPhone 5S / 5C ( http://www.iphones...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Switch between EDGE / 3G / LTE in iPhone 5S / 5C (jailbreak)</h1><div class="post__text post__text-html js-mediator-article">  Finally it happened, Apple included the ability to use LTE for all Russian subscribers of Megafon, MTS, Beeline on iPhone 5S / 5C ( <a href="http://www.iphones.ru/iNotes/346250">http://www.iphones.ru/iNotes/346250</a> ).  Previously, only Beeline subscribers could officially use LTE on the iPhone ( <a href="http://www.iphones.ru/iNotes/336762">http://www.iphones.ru/iNotes/336762</a> ). <br><br>  New technologies - this, of course, is good, but there is a nuance.  As you know, Russian realities are such that 3G and LTE coverage want the best and many (like me) are more important than the iPhone‚Äôs duration and network stability than LTE speeds, which may sometime be in the future, and in some places LTE is in the nearest Perspective does not even smell. <br><br><img alt="Image #2084919, 262 KB" src="https://habrastorage.org/getpro/habr/post_images/8eb/fb6/3e4/8ebfb63e4772c0e24ca9bfd269df3958.png" title="Image # 2084919, 262 KB">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The caveat is that when updating the settings of the operator, it becomes impossible to disable 3G.  Even turning off the data transfer completely, the phone still jumps between 2G and 3G with the new settings.  At my place, for example, 3G is very poorly caught and constantly jumps between 3G and EDGE.  If 3G is turned on, problems with voice calls begin, people stop calling me the first time and so on.  It also has a strong effect on the battery, as it constantly switches between 2G / 3G.  I think many people understand what I'm talking about. <br><br>  I personally solved this problem for myself and want to share the solution with everyone. <br><a name="habracut"></a><br>  I bought my iPhone 5S model A1530 in order to use LTE from MTS, but I didn‚Äôt suspect that it was impossible to turn off 3G.  With the release of <a href="http://www.iphones.ru/iNotes/evasion-ios7-jailbreak-ready-download-links">Jailbreak</a> for iOS 7, I began to explore the possibilities of first turning on LTE, without waiting for the official announcement, and second of the possibility of switching between 2G / 3G / LTE.  Unfortunately, as shown by Google, there is currently no stable tweak that would allow you to quickly and easily switch between 2G / 3G / LTE.  I began to invent my own way. <br><br>  So, my way of switching is quite brutal and requires some minimal knowledge and skills related to the jailbreak. <br>  The way is that I created a script that switches the Carrier Bundle (roughly speaking the settings of operators) from the old version, which includes only 3G to new and back. <br><br>  <b>Just want to say that the method was tested on the iPhone 5S A1530 on the MTS operator.</b>  <b>I do not know how this will work on 5C and on other operators, but I tried to make the most secure and stable universal script</b> <br><br>  For the implementation will need: <br><ol><li>  <a href="http://www.iphones.ru/iNotes/evasion-ios7-jailbreak-ready-download-links">Jailbreak</a> iPhone 5S / 5C </li><li>  Means to interact with the console (optional) <br><ul><li>  MobileTerminal from Sidium.  Of the benefits - the easiest way to put and use.  But from the minuses - you will need to enter the command manually each time. </li><li>  OpenSSH + SSH client that can save settings and immediately launch the command when connecting (I chose and bought iSSH, since it is ideal enough for working with the console and has the necessary functions) </li></ul><br></li><li>  Bash and dirname, echo, cat, grep, killall, cp, rm commands - in theory, they should be set automatically when installing Cydia, but I'm not sure </li><li>  The afc2add package from Cydia to access the full iOS file system (to work on the idea is not needed, but at the time of installation you may need at least for backup) </li><li>  iFunBox or something similar for access to iOS FS for manual installation of the script </li></ol><br><br>  After the implementation of points 1 and 4, be sure to backup the operator‚Äôs settings with the tool from item 5 or using your own folder method (depending on your operator): <br>  / System / Library / Carrier Bundles / iPhone / MTS_en.bundle <br>  / System / Library / Carrier Bundles / iPhone / MegaFon_en.bundle <br>  / System / Library / Carrier Bundles / iPhone / VimpelCom_en.bundle <br>  and <br>  / private / var / mobile / Library / Carrier Bundles / iPhone / MTS_en.bundle <br>  / private / var / mobile / Library / Carrier Bundles / iPhone / MegaFon_ru.bundle <br>  / private / var / mobile / Library / Carrier Bundles / iPhone / VimpelCom_ru.bundle <br>  There may be no recent folders or they may appear after updating the operator settings. <br>  If something goes wrong, you will need to return the contents of these folders back. <br><br>  Further files for implementation: <br><ol><li>  <a href="">www.mafet.ru/lte/lteswitch.zip</a> <br>  This archive contains a script with autodetection of the current operator, as well as a set of Carrier Bundle for three operators for 2G / 3G only mode and for LTE </li><li>  <a href="http://www.mafet.ru/lte/services">www.mafet.ru/lte/services</a> <br>  After clicking on the link, you just need to save this file to disk without any changes.  This will be necessary for the new SSH instance (details below) </li><li>  <a href="http://www.mafet.ru/lte/com.openssh.sshd2.plist">www.mafet.ru/lte/com.openssh.sshd2.plist</a> <br>  This is the file for launching the second instance of SSH (more later). <br></li><li>  <a href="">www.mafet.ru/lte/lteswitch_all.zip</a> <br>  All files in one archive </li></ol><br><br>  My method suggests relatively convenient control over the iOS interface by switching functions, so I personally use iSSH for the switch.  My switch interface looks like this: <br> <a href="http://img.leprosorium.com/2084889"><img alt="Image #2084891, 65.4 KB" src="https://habrastorage.org/getpro/habr/post_images/71d/bef/b31/71dbefb313ed397a056caa09efd65d1c.png" title="Image # 2084891, 65.4 KB"></a> <br><br>  Let's start installing the script. <br><ul><li>  It is necessary to unpack the archive from point 1 and place it in the / var / root folder (or any other folder, this is not very important) with the help of the iFunBox mentioned by me, but anything can happen - the main result.  It should be something like: <br> <a href="http://img.leprosorium.com/2084886"><img alt="Image #2084888, 31.5 KB" src="https://habrastorage.org/getpro/habr/post_images/b03/742/375/b03742375698c9fa06253a6e0273ce4e.png" title="Image # 2084888, 31.5 KB"></a> </li><li>  Since the zip archive and the copied files are unlikely to retain the attribute of the executable file, just in case you need to go to the lteswitch folder through the terminal and set the executable flag. <br>  A small educational program: Moving through folders in unix systems is done using cd path delimiters - the usual slash /, unlike the reverse Windows \.  Those.  the path is written as / var / root ... <br>  So.  Go to the folder, for example <b>cd / private / var / root / lteswitch /</b> and enter <b>chmod + x lteswitch.sh</b> <br></li><li>  In principle, everything is ready for the switch, but not very convenient.  To verify, you can execute commands (the path may be different, depending on where you copy the script) <br>  Switch to 2G / 3G only mode: <b>/private/var/root/lteswitch/lteswitch.sh 3G</b> <br>  The result will be something like: <br> <a href="http://img.leprosorium.com/2084907"><img alt="Image #2084910, 25.8 KB" src="https://habrastorage.org/getpro/habr/post_images/90c/d66/375/90cd6637546f3910de82afc66978b761.png" title="Image # 2084910, 25.8 KB"></a> <br>  Switching to LTE mode: <b>/private/var/root/lteswitch/lteswitch.sh LTE</b> <br>  The result will be something like: <br> <a href="http://img.leprosorium.com/2084904"><img alt="Image #2084906, 24.5 KB" src="https://habrastorage.org/getpro/habr/post_images/a30/378/f55/a30378f55523af958397ab21353888ea.png" title="Image # 2084906, 24.5 KB"></a> <br></li><li>  It would be necessary to make everything comfortable.  Unfortunately, I did not find a working way to run scripts using the SpringBoard icon and for this I do it through iSSH, like a software that can run commands when connecting via SSH, but for this you need to prepare SSHd.  If someone knows a way to run scripts from the SpringBoard icon - really looking forward to the comments.  I will rewrite the article and there will be much less hemorrhoids with SSH. <br><ul><li> The services file must be placed in the / etc folder or manually add a line to this file: <br> <code>sshalt 8022/tcp # SSH Remote Login Protocol</code> <br>  This line adds the port 8022 description for the new SSH instance <br>  This is necessary in order to be able to connect to SSH from localhost.  I do not know why, but Apple with 7 firmware forbade the ability to connect to ports below 1024 locally.  If anyone knows how to fix it - again, really looking forward to the comments. </li><li>  Again, as part of raising SSH on port 8022, you need to copy the com.openssh.sshd2.plist file to the / Library / LaunchDaemons / folder and restart the iPhone so that the service starts. </li></ul><br></li><li>  The final stage, you need to configure iSSH (or similar software) for easy launch of the script.  To do this, add two configurations with the following parameters: <br>  To switch to 2G / 3G <br><blockquote>  Description: Switch to 3G (the name can be any) <br>  Host: 127.0.0.1 <br>  Port: 8022 <br>  Login: root <br>  Command: /private/var/root/lteswitch/lteswitch.sh 3G <br>  Password: password for root (default alpine) <br></blockquote><br>  To switch to LTE <blockquote>  Description: Switch to LTE (name can be any) <br>  Host: 127.0.0.1 <br>  Port: 8022 <br>  Login: root <br>  Command: /private/var/root/lteswitch/lteswitch.sh LTE <br>  Password: password for root (default alpine) </blockquote><br></li></ul><br><br>  That's basically all you need to switch between profiles. <br>  I will duplicate questions that someone may answer (if there is no profile on Habr√©, write <a href="">mafet@mafet.ru</a> ): <br><ol><li>  How to create icons on SpringBoard on iOS7 to run scripts?  Maybe there is some kind of generator? </li><li>  How to disable connection restriction to ports &lt;1024 on iOS7? </li><li>  Is there a more light way to re-initialize the Carrier Bundle, except for <b>killall CommCenter</b> ? </li></ol><br>  <b>ps 0</b> Oddly enough, SSH does not eat a battery in any way, since the daemon itself is essentially not running.  Listens to the analog port inetd.  Sshd itself starts only when a connection is established from the client. <br>  <b>ps 1</b> After installing OpenSSH, be sure to change the password from the standard <b>alpine</b> to your own using the command in the console: <b>passwd &lt;new password&gt;</b> . <br>  <b>Ps 2</b> If you need to cut LTE for operators of other countries or other operators of Russia, then the technique is the same, but you need to find the settings of the operator without LTE functions and replace the current ones.  Although logically, in order to cut LTE for an arbitrary operator, it is enough to execute the command <b>rm / private / var / mobile / Library / Carrier \ Bundle.bundle / overrides_ *</b> and restart the phone, but this is at your own risk and it is advisable to save the contents before <b>/ private / var / mobile / Library / Carrier Bundle.bundle</b> . <br>  <b>ps 3</b> If you need to turn off 3G and LTE and there is no jailbreak, you can use the iRoseTool utility. </div><p>Source: <a href="https://habr.com/ru/post/210314/">https://habr.com/ru/post/210314/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../210300/index.html">Because of the glitch of Google, thousands of emails went to one Hotmail inbox</a></li>
<li><a href="../210304/index.html">PyQt. Manage memory, collect garbage</a></li>
<li><a href="../210306/index.html">Size matters. Choosing a medium format camera</a></li>
<li><a href="../210308/index.html">MegaFon subscribers owning iPhone 5S and 5C now have access to LTE</a></li>
<li><a href="../210310/index.html">In the US, another major leak of credit card data</a></li>
<li><a href="../210316/index.html">Nginx + Google-authenticator or not everything is not so easy ...</a></li>
<li><a href="../210320/index.html">CRM: between heaven and earth</a></li>
<li><a href="../210322/index.html">Iceland is going to use new high-temperature wells for energy</a></li>
<li><a href="../210328/index.html">News digest from the world of mobile development for the last week ‚Ññ38 (January 20-26, 2014)</a></li>
<li><a href="../210330/index.html">We refuse callbacks: Generators in ECMAScript 6</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>