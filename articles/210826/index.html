<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>About comparing and optimizing keyboard layouts</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This article addresses the issues of analysis and synthesis of keyboard layouts. A comparison of standard and alternative layouts. It also provides on...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>About comparing and optimizing keyboard layouts</h1><div class="post__text post__text-html js-mediator-article">  This article addresses the issues of analysis and synthesis of keyboard layouts.  A comparison of standard and alternative layouts.  It also provides one of the possible models for optimizing the layout.  This implies standard hard zones for the blind ten-finger dialing method. <br>  Those who are only interested in the model, you can skip the first half of the article. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/218/b43/181/218b4318143a2fb88bfae24f46cfc270.gif"><br><br><h4>  Preliminary analysis of possible improvements in the layout JTSUKEN </h4><br>  We will not long describe the traditionally mentioned shortcomings of the YTsUKEN standard layout: 50% of all clicks are made by the index fingers, and often one of them produces several clicks in a row, as well as a significant load on the right pinky.  We turn to the characteristics of the next level - the rotation of hands.  In my humble opinion (and not only, as will be shown below), this is the most important characteristic affecting the speed of recruitment, since the hands can act independently, and the fingers within each arm move more consistently. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a>  The context in which this symbol is located has a significant impact on the convenience and speed of printing a certain character.  It is easy to assume that the context is reduced to the location of the key that is pressed before pressing the key with the current character.  Although in reality, the convenience of keystroke is influenced not by one key, but by a combination of a certain length (2-3 presses or more, up to several words).  Consider the simplest situation.  For example, if the previous key was pressed with the other hand, then the time for pressing the next key would be significantly reduced, because  Most of the way to the next key can be done simultaneously with the previous movement. <br><br>  To consider the quality of the YSTUKEN layout, it is according to the criterion of alternation that we will create a summary table characterizing the convenience of recruiting 100 most frequent two-letter combinations according to the data of the National Corpus of the Russian Language ( <a href="http://dict.ruslang.ru/freq.php%3Fact%3Dshow%26dic%3Dfreq_2letters%26title%3D%25D7%25E0%25F1%25F2%25EE%25F2%25ED%25EE%25F1%25F2%25FC%2520%25E4%25E2%25F3%25E1%25F3%25EA%25E2%25E5%25ED%25ED%25FB%25F5%2520%25F1%25EE%25F7%25E5%25F2%25E0%25ED%25E8%25E9">NCRF</a> ), as well as according to our own calculations.  It should be noted that there is some variation in the frequency of individual letters and their combinations depending on the type of text and its volume.  But within the most frequent combinations, it is usually insignificant.  But one important circumstance follows from this - all calculations based on language statistics, incl.  and optimization of layouts should be carried out with an accuracy of a few percent (1-3% is well within the statistical error).  If we deduce tenths and hundredths of a percent, then only for some other purposes.  Those.  Layouts that differ by no more than 1-3% are taken to be equal. <br><br>  The first column of our table shows the rank of the digram (the number in terms of frequency); <br>  column number 2 - the combination itself; <br>  column number 3 - the frequency of the combination in percent; <br>  Column # 4 - plus is the alternation of hands, if there is none, then the hand indicating the given digram is indicated; <br>  column ‚Ññ5 - numbers of fingers are indicated (1 - index, 2 - middle, 3 - nameless, 4 - little finger, respectively, smaller numbers characterize greater convenience of dialing); <br>  column number 6 - row number (middle row, most convenient for pressing, assigned number 1, top row - number 2, lower, least convenient - number 3, here also smaller numbers are more convenient); <br>  Column No. 7 ‚Äî summary characteristics of digrams grouped in dozens ‚Äî relative frequency in percent, the number of digrams dialed with one hand, the amount on the fingers and in rows, characterizing the average convenience. <br><br><div class="spoiler">  <b class="spoiler_title">The beginning of table 1 is here.</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/3b1/a6a/d89/3b1a6ad8919cac0c58f7f8340f89b09b.gif"></div></div><br><br>  A total of 20 2-letter combinations for the right hand and 28 for the left.  Those.  almost half (48%) - on one hand.  Apparently, the separation of the most frequent digrams on different hands should give a tangible increase in convenience / speed. <br>  Orange color highlights the fastest combinations (by the sum of fingers and rows no more than 5).  Some very fast combinations are used irrationally (for example, several pieces at the end of the first hundred).  In part, this may be due to the fact that the inverse (comparable in speed) combination is in the most frequent diagrams (for example, ‚ÄúSt‚Äù - ‚Äútc‚Äù).  Then the question arises: maybe it is necessary to take the sum of the frequencies responsible for the two combinations (direct and inverse) and determine the correspondence of their frequency of use and speed (convenience of location for pressing)? <br>  Another small note: more rare combinations are leading in the number of combinations per hand, but the dependence is rather non-monotonous.  Can I fix something here? <br>  The same non-monotonic dependences are observed on the sums of fingers and rows.  Of course, this is not a direct keystroke time, but they have some indirect relation to the speed.  Is there room for improvement? <br>  Form the main thesis, which can be taken out of table 1. <br>  There is an opportunity to improve the layout, at least in the first approximation.  Most likely, the main improvement should go in the direction of increasing the degree of alternation of hands when typing two-letter combinations and assigning the most frequent combinations to the fastest key pairs. <br>  To once again confirm this thesis, we make up the sum of frequencies for direct and inverse combinations and compare with them the indirect indicators of speed (at least as much in points as for the first table).  Note that we are still not going to a good, sustainable optimization rule, but only justify the possibility of improving the layout, starting from its shortcomings.  And therefore, approximate estimates and qualitative comparisons will suffice. <br><br><div class="spoiler">  <b class="spoiler_title">The beginning of table 2 is here.</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/d4f/869/3f5/d4f8693f5698c4de8487556aa40723f8.gif"></div></div><br><br>  If we calculate the share of alternations in all 425 combinations, we get the same value of 205/425 = 48%, i.e.  alternations are very rare.  If their share could be reduced to at least 75-80%, the speed qualities of the layout would be significantly improved.  Suppose that alternating combinations are faster than one-handed at least 20-30%.  This corresponds to the real situation, at least on average.  Such characteristics were obtained using the <a href="http://fil.urikor.net/">Typing Statistics</a> program for estimating the parameters of a set of 20 typesetters with speeds from 500 to 800 dec / min on the website <a href="http://klavogonki.ru/">klavogonki.ru</a> . <br>  Then the gain in speed as a whole will be about 7-10%.  This is the first opportunity to improve the layout.  And, apparently, the main one. <br><br>  I also recall the period and comma, which are not in the tables mentioned.  If they are also separately placed on shortcuts (Shift is automatically removed for a comma), then the speed of the comma will increase by 2 times.  Given the frequency of the comma ~ 1%, the total rate will increase by a whole by 0.5% (although these are trifles). <br><br>  The revision of the zones should also lead to ease of printing, and consequently, to speed.  Standard print zones, especially for the left hand and in the production of FWA-OLDJ, are not very convenient.  It is advisable to revise them.  But this is a topic for a separate work.  Apparently, the staging of YVAM TLD is in many cases more comfortable.  You can consider other options.  Some hands will be quantified below. <br><br>  Consider the distribution of the number of alternations in dozens of digrams from table 2: <br>  7-7-6-2-4-5-5-4-5-7-7-6-6-7-4-4-4-6-7-7-4-1-3-4-6-6- 3-8-3-5-4-5-4-7-6-4-4-6-5-5-4-3-3- (2). <br>  Let us construct a graph of dozens of frequencies and the number of combinations in them for different hands in order to find out the degree of their mismatch.  But even from the above sequence, it is clear that the mismatch is quite strong. <br><br><div class="spoiler">  <b class="spoiler_title">Comparison of frequencies and number of digrams with alternating hands</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/b6e/240/fd7/b6e240fd7ba546fb4254e94657d16c47.gif"></div></div><br><br>  In general, the number of alternations in dozens of digrams fluctuates around a certain average; this type of behavior could be called quasi-random oscillations.  The average in this case is about five and there is a weak linear downtrend.  The averaged distribution over dozens of combinations is close to uniform with oscillations of considerable amplitude.  Those.  There is no question of any agreement with frequencies.  Here the question arises: is this distribution observed on all hypothetical layouts or can it be improved in the sense of agreement?  If it is possible, then this is another way to improve the layout. <br>  In the YTSUKEN layout, as we see, the global distribution mode (eight alternating combinations) generally falls on the 27th decade with very small frequencies. <br><br>  We form at least at a qualitative level an estimate of the gain, if such a distribution (with the same total number of combinations with alternating hands) is ranked, i.e.  number of alternating combinations arranged in descending order.  This will be a manual negotiation.  Assuming that the rotation of hands accelerates the set by 30% on average, an indirect estimate of the total improvement due to the ranking will be approximately 2%. <br><br>  In total, we scored 12.5% ‚Äã‚Äãof the possible increase in speed with average forecasts: 10% due to an increase in the proportion of two-letter combinations recruited with alternating hands, 2% due to the harmonization of frequencies and the number of quick combinations (with alternation), 0.5% for account simplification set comma.  Roughly a few percent can be obtained by taking into account other convenient / inconvenient combinations and optimizing the set of other characters.  It is not clear how some researchers bring the gain in the transition from QWERTY to Dvorak by several tens of percent, up to 70% (I‚Äôll not give the links now, but I have met similar characteristics somewhere).  Surely 70% advantage - only in terms of the path traversed by the fingers when typing.  But this is not the most important indicator, and more on that below. <br><br>  Where else can you look for improvements?  As already mentioned, in the arrangement of zones.  When transferring the letter K to the middle finger zone, and the letter C to the index finger zone, we will receive a gain both in the convenience of typing (it is not necessary to turn the brush when typing the combination of CS, for example), and in speed (the letter C is more often used than K). <br>  You can also take into account the gain in the redistribution of higher-speed one-armed combinations for more frequent combinations, as well as for combinations with alternation.  But since  they (one-handed) are still less speedy (than multi-handed), then the gain will not be very large. <br>  Of course, the chosen measure, taking into account the optimization of alternations and one-handed combinations, provides only an indirect estimate.  This is without deepening and detailing the nuances.  Actually, the optimization criterion is formulated very simply: <b>faster key combinations should correspond to combinations with higher occurrences</b> .  It is very difficult to estimate exactly this gain, here only a rough estimation was made, taking into account only the presence / absence of alternation.  The real rule should take into account the hand, finger, row, distance to the key (this, by the way, relates directly to the layout selection function, the decisive rule, the objective function ‚Äî can be called differently).  But in general, from the above calculations, it is clear that the YTsUKEN layout is not the worst option.  And it seems that theoretically the worst layout from the theoretically best is unlikely to differ by more than 2 times in speed and convenience.  From which it can be concluded that the a priori upper estimate (which can never be achieved at all) of the YTsUKEN improvement will be a maximum (and an overestimated maximum), equal, say, to 20%.  And even less (according to preliminary data, we obtained only 12.5%). <br><br><h4>  On the alternation of vowels and consonants </h4><br>  It is known that in Russian (and, probably, in many European, too), the alternation of vowels and consonants is more common than the combinations of vowel-vowel and consonant-consonant.  The question of the statistical relationship of letters in the Russian language was studied by A. A. Markov.  According to its results, vowels and consonants alternate in approximately <a href="http://statistica.ru/local-portals/data-mining/analiz-tekstov/">76.6% of</a> cases. <br>  For a more detailed analysis of the alternation of letters let us compile the following table (frequencies in%). <br><br><div class="spoiler">  <b class="spoiler_title">Start of table 3</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/ad8/d66/750/ad8d66750e0260017446f44656974bba.gif"></div></div><br><br>  This suggests a simple rule for building a good alternation of hands layouts: vowels and consonants must fall on <i>different</i> hands.  And, apparently, any good layout should use this principle.  You can even push it as a criterion for a quick check of the layout for proximity to optimal. <br><br><div class="spoiler">  <b class="spoiler_title">A little thought about the alternation of vowels and consonants</b> <div class="spoiler_text">  The fact that the vowels and consonants alternate follows from the physical features of the acoustic communication channel: source (speech apparatus), transmission medium (air), receiver (ear).  If speech consisted only of consonants, then in the presence of external noise it would be very difficult to make out.  Vowel sounds add the necessary degree of noise immunity, but at the same time they themselves carry very little information.  The main part of the information is transferred by consonant sounds / letters.  This can be seen by removing all vowels from the printed text.  It is difficult, but it can be disassembled.  If you remove the consonants, leaving vowels, then such an operation will be irreversible. <br>  Another purpose of the vowels is to simplify the restructuring of the speech apparatus, to prepare it for pronouncing the new consonant.  Those.  vowels perform at least two functions. <br>  According to modern ideas about the communication channel, any information produced by the source is compressed to eliminate redundancy (the block where this is done is called the source coder), then this compressed information passes through the channel coder where the redundancy corresponding to the damaging factors of the communication channel is added (noise , fading, etc.).  On the receiving side, the signal passes through the channel decoder and the receiver decoder in the same way.  From this point of view, the addition of vowels to speech is a noise-resistant coding.  You can generally propose a hypothetical binary language consisting of two sounds: 0 or 1 (such language is, in particular, machine), and speak it.  But the speech apparatus has more degrees of freedom than speaking out only two sounds.  This is the reason for the wealth of the alphabet.  Each letter thus carries more information. <br></div></div><br><br>  Returning to table 3. It shows that very good properties (unless roughly other criteria are violated) will have a hypothetical layout, on one side of which are vowels and a soft sign, and on the other - all consonants minus a soft sign.  But not all vowels and consonants uniquely alternate. <br><br>  The yellow color indicates combinations where the alternation of a vowel-consonant does not very much dominate over the bunch of vowel-vowel or consonant-consonant (less than 1.5 times).  Combinations are shown in red, where such alternation occurs less frequently than the combination of the same name. <br>  For the first four most frequent symbols (O, E, A, I), the alternations clearly dominate, and this is good news, since the greatest load falls on combinations with these letters.  And it is here, with the most likely successful combinations, that the foundation for a future good layout is laid. <br>  Next come the consonants H, T. For them, the letters on the left in most cases are still vowels, although they do not so dominate over the consonants.  Thus, the relative proportion of alternations will be much less than for the first four letters.  This is not very good, since such combinations are also relatively frequent.  For letters on the left, the rule of alternation is a consonant-vowel observed in the vast majority of cases.  This is a positive thing. <br><br>  The letter C stands apart. When combined with letters joined at the left, the vowel-consonant alternation is observed in 66% of cases.  In the case of letter docking, the trend of alternation is reversed: the consonant-consonant goes in the same 66% of cases.  This will affect (within 0.5-0.7% of the speed) the quality of the hypothetical layout, on one side of which there are vowels, and on the other - consonant letters. <br><br>  It should be said that the option of duplicating letters with the alternation on both sides of the keyboard was considered.  The first and most important candidate was the letter "C".  But this option had to be abandoned, because  There are a lot of letters in Russian, and everything will simply not be located on the main rows of the keyboard.  To transfer the letters to the fourth row (digital) or to use the modifier keys for their typing was considered ineffective.  Although in the future you can experiment. <br><br>  In general, the most frequent two-letter combination "ST" is 1.74%.  It would seem, therefore, the letters C and T should definitely be spread to different parts of the keyboard, but such a conclusion should be made prematurely at once.  Not only this combination determines the convenience of typing letters C or T. It is also necessary to analyze all other combinations with these letters.  Only then can we conclude about the convenience of the location of these letters.  In our case, the tendencies of alternation of vowels and consonants with the letter C completely balance each other (with an accuracy of 1%), therefore this letter should be placed using some additional criteria (it is possible to use three-letter combinations, take into account the convenience of combinations, hand, finger and etc.).  In the first approximation, you can arrange the letter C along with the other consonants. <br><br>  Then follows a series of consonant letters, for many of which the rules alternate quite often.  In these letters, there are three: P, K, P. For them, the letters on the left in most cases are consonants, but for K and P this advantage is rather weak.  And in the case of the letter P, the combinations on the left with both vowels and consonants are almost equally probable.  When combinations on the right for all these letters, there is a good (from the point of view of the layout in question) value of the fraction of alternations.  Then there is a group of five letters, for them the tendency of alternation is not disturbed. <br><br>  There are three letters in the tail of the frequency distribution, for which alternation is suppressed by the combinations of the same name, but since these letters are quite rare, this does not greatly impair the quality of the layout (0.15% maximum). <br><br><h4>  Punctuation marks and service keys </h4><br>  It is necessary to make one important remark.  So far, we have only considered letters.  But there are also character keys (comma, comma, etc.), as well as modifier keys (Shift, etc.).  What is the total share of keystrokes of such keys in the total number of keystrokes when typing?  First, there is a separator key - a space.  Its frequency ranges from 14% to 17.5% (according to various estimates).  You can conditionally take 15%. <br>  Further, in Russian punctuation, there are 9 different punctuation marks (for printing): <br>  1. Point (.) Or ellipsis (...) (because they are printed with one key). <br>  2. Comma (,) <br>  3. Dash (-) or hyphen (they are also printed equally in terms of keystrokes) <br>  4. Brackets () <br>  5. Quotes ("") <br>  6. Question mark (?) <br>  7. Exclamation mark (!) <br>  8. The colon (:) <br>  9. Semicolon (;) <br>  The quotation marks and brackets are distinguishing - they separate out any part of the sentence from the sentence - and are in most cases paired.  In this case, the first character is the opening one, the second is the closing one.  Other signs have a separating function.  They separate sentences, members of a sentence, or parts of a complex sentence from each other. <br><br>  For completeness, when building a good layout, it is necessary to take into account their frequencies, as well as alternation with different letters or signs.  Calculations show that for the point, comma, interrogative and exclamation marks the general rule is fulfilled: after the vowel they follow about 1.4-1.5 times more often than after the consonant.  In the standard YTsUKEN layout, a comma and a dot are located on a rather inconvenient key - on the right little finger and the bottom row of the keyboard.  In addition, the comma is pressed with Shift.  In general, in different texts in the genre, the frequencies of the dot and comma are related differently: in the artistic texts, the frequency of the comma is usually greater, but only slightly.  In other genres, there may be a reverse situation.  The sum of their frequencies forms a certain invariant, at least on average, regardless of the text genre, approximately equal to 3%. <br>  In addition, you must separately select the Enter key, which highlights the new paragraph (if you analyze only the typing of texts).  In addition to paragraphs, this key is entered in dialog boxes, as an alternative to the left mouse button.  Those.  The frequency of pressing this key can be safely increased to 1%, if we mean the use in various tasks.  If we consider it only as a paragraph extractor, then the average frequency of use will be approximately 0.5%. <br>  When typing capital letters, as well as the use of second characters of special keys, use Shift.  The frequency of using Shift (lower bound) can be determined from the condition that on average one sentence and one capital letter are on one sentence.  Those.  The minimum frequency of using Shift will be twice as high as the frequency of using a point (that is, somewhere around 3.0%).  In reality, due to proper names and commas, this frequency will be even higher.  It may also be worth revisiting the Shift position when building a quasi-optimal layout. <br>  Another frequently used special key is Backspace.  She removes typos and performs some other actions.  For the average user who owns a blind seal, the error rate is not less than 1%, again, from own practice (for many it is higher, maybe 2% and 3%, and even reach 5% - but this is in very rare cases).  This level can be taken as a guideline.  And also take into account when optimizing the arrangement of letters / characters on the keyboard. <br>  The total frequency of using the main additional (not alphabetic) keys reaches <br><br>  15% (Space) +3% (.,) + 1% (Backspace) + 0.5% (Enter) + 0.6% (-) + 0.5% (()) + 0.25% (" ) + 0.15% (?) + 0.07% (!) + 0.07% (:) + 0.02% (;) = 21-22% <br><br>  even excluding Shift's (i.e., the proportion of the actual letters / characters of the text is 80% or even less). With Shifts taken into account (plus 1.5-3%), this value is close to 24-25%.  Quite a tangible value, and it must be considered when building a new layout.  Maybe the position of the Shift's should not be changed, since  they are arranged symmetrically, and all layouts use them precisely in this quality.  On the other hand, it is quite possible to revise Enter and Backspace, since  the keys are quite frequency, albeit service. <br><br><h4>  End of preliminary stage </h4><br>  Let us calculate the relative frequency of the hands alternation relative to the alphabetic part of the hypothetical keyboard (on one hand are all vowels, on the other are all consonants) according to the frequency tables of NCRF digrams.  We get 81.1%.  This is despite the fact that with the current layout (YTSUKEN), a similar characteristic for the same frequency table of digrams is 54.9%.  Those.  on the letter part, the new layout is 1.48 times better than YTsUKEN.  But we did not take into account that only 75-80% of all characters are letters.  Let us try to take this into account, at least approximately, by multiplying the numbers obtained by 0.8, i.e.  to the proportion of letters in the text.  This is equivalent to the fact that when you press the other keys, the hands alternate altogether (the worst case for the other keys).  Those.  thus, we define the lower bound of improvement for this particular case: <br><br>  81.1 * 0.8 = 64.9% - the proportion of alternations, due only to the letter part of the layout, ideal for the alternation of hands; <br>  54.9 * 0.8 = 43.9% - the share of alternations, due only to the letter part of the YTSUKEN layout; <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">64.9% -43.9% = 21% - the difference in the percentage of alternation of hands, due to the letter part. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In reality, the difference will be even lower. This is due to the fact that for alternations it is necessary to take into account the digrams. And the proportion of pure letter digrams is lower than the proportion of pure letters (70% versus 80%, respectively, but more on that below). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If we keep in mind that alternations improve speed by 30%, then the gain in speed here will be about 21% * 0.3 = 7%. Apparently, this is one of the reasons that alternative layouts provide not a very large actual increase (no more than 20%, according to subjective feelings) of speed and convenience. It is necessary to take into account the alternation of hands when using other keys, incl. service, it is a general picture of the alternations and loads on different fingers and will give the actual percentage of improving the layout.</font></font><br>  Those.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if the alternation of hands was very rarely used at all, and at the same time they would be loaded fairly evenly, as in the case of normal printing, then when switching to printing with the maximum alternation of hands, the speed would increase by only 30%. (This is assuming that combinations with alternating hands are 30% faster). Thus, an improvement in the layout by 100% (in the sense of alternation) gives an increase in speed by 30%. And the improvement in the layout by 50% is only 15%. A 50% improvement is a very large amount. For this, the initial layout should be very bad (such as alphabetic), and the target layout should be very good (it is generally impossible to achieve 100% alternations or even 90% impossible, if only because even when typing letters, the hands do not always alternate). Then we get the maximum possible hypothetical increase in speed in terms of the increase in the rotation of hands by 80%:</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">80% * 0.3 = 24% </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">This is a reasonably well-founded theoretical improvement limit for the worst-case layout speed. </font><font style="vertical-align: inherit;">Of course, other improvement options are not taken into account, such as alternating fingers in one hand, a set of combinations from the center to the periphery, from the periphery to the center, translation of more frequent letters to faster keys within one hand, etc. But the most significant opportunity to improve layouts - alternating hands, and it gives the maximum possible improvement of 24%.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Calculation of the load on each finger for different keyboard layouts </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Many alternative layouts take into account not only the alternation of hands, but also take into account other considerations. </font><font style="vertical-align: inherit;">In particular, special attention is paid to the distribution of the load between the fingers. </font><font style="vertical-align: inherit;">In order to identify trends in the development of alternative layouts just by dividing the load into different fingers, a comparative analysis was made of the proportion of keystrokes made by each finger for different layouts (both traditional and alternative for Russian and English). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For the analysis of Russian layouts, we used the results of a statistical analysis of 300 MB of texts in the fiction genre, provided by the user mystes from the site </font></font><a href="http://klavogonki.ru/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">klavogonki.ru</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">For the analysis of English layouts - site data </font></font><a href="http://andong.azurewebsites.net/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">andong.azurewebsites.net</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">The calculation results are summarized in table 4.</font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Table 4</font></font></b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/a70/0a0/b80/a700a0b801336dedddf65ed646412914.jpg"></div></div><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Discussion of the layouts according to table 4</font></font></b> <div class="spoiler_text">          . <br>  <b>QWERTY</b> .        ‚Äì      (27%)      (39%).         (..         ),        .            46%/34% = 1,35.  Those.  35%     .   . ,                   .  ,            ,  ,           .           ‚Äì 12,61   12,46  ‚Äì ..   .        25 .     4,      . <br><br><div class="spoiler"> <b class="spoiler_title">     QWERTY</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/511/34f/55e/51134f55ecd42bca414bbd2084c65fbc.gif"></div></div><br><br>     QWERTY:     ;        ,   ‚Äì  ;       ,     ;  ( ,     ) ‚Äì . <br><br>  <b>Dvorak</b> .       ‚Äì 55,5%.        QWERTY.    (     )   ‚Äì 6,5%,   . <br><br><div class="spoiler"> <b class="spoiler_title">     Dvorak</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/f01/d24/979/f01d2497943c57e7d4df32486fc20492.gif"></div></div><br><br>          , ,      QWERTY.       ,      .   ‚Äì     ,    .        ,      : 35%/45% = 0,78,   ,  1,28.  Those.  28%     .     ,      ‚Äì    ,      .  ,    ,         ‚Äì 4,48     9,47   , ..  ,   2 .         ,     (       ).     ,             .       13,96 .    QWERTY        80% (!).     , ,     .         , ,                .   ,  ,    ,  ,      . <br><br>  <a href="http://www.pvv.org/~hakonhal/main.cgi/keyboard"><b>ARENSITO</b></a> .    ,       .       52,3% ‚Äì   .        ‚Äì 13,9%  13,5% ‚Äì ,    , ..      . <br><br><div class="spoiler"> <b class="spoiler_title">     ARENSITO</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/8b6/299/47a/8b629947a38a57f4b560d9b2e80f896b.gif"></div></div><br><br>    ARENSITO     ( Kinesis, Maltron),         .                      ( ,   Dvorak  QWERTY).        13,2% (,   ‚Äì 10,9%),  .           40,8%/38,9%=1,05, ..    5%.           (    ,    Dvorak) ‚Äì .      (5,99   6,55 )  10%- ,         (   ).  Those.     -   .       12,54  ‚Äì    (,   ,   ,     ).   ,   Dvorak  11%. ARENSITO          .          .      ARENSITO   Dvorak. <br>   ,      .          QWERTY,      .     Dvorak,             .       .    ARENSITO,     ,         ,       ( ARENSITO),      (ARENSITO   ).  ,    . <br><br>   ( <b>Klausler</b> ).       57,8% ‚Äì  .    ‚Äì 5,0% ‚Äì  .   ,      ,      . <br><br><div class="spoiler"> <b class="spoiler_title">     Klausler</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/167/cb0/121/167cb0121a21d7384c01990d9f65bf69.gif"></div></div><br><br>   ,                 (            ).      ,     ARENSITO.       38,4%/41,3%=1,075 ‚Äì  7,5%     ,    .      ,       .     ,     .     ,   0,86          :   ,           .     (4,65   7,98 ),   ,   Dvorak,  -    70%     .   (   )   , ,     .   ,  .            .  ,        Dvorak        (    ,   ,       ).  ,     ,  12,56  ‚Äì   .    ,     . ,    ,  Dvorak -       .         ,       . <br><br>  .  ( <a href="http://www.michaelcapewell.com/projects/keyboard/layout_capewell.htm"><b>. Capewell</b></a> ). .    , ,    ,   .    ,        Dvorak  Klausler,      , ,       . <br>       51,6%.    ,     .     10,3% ‚Äì ,   ARENSITO,  ,   Klausler. <br><br><div class="spoiler"> <b class="spoiler_title">     Capewell</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/731/84e/2d1/73184e2d1b5a3d7be4670f8aef131422.gif"></div></div><br><br>         -,   - (..     ),     ,      ,   ARENSITO  Klausler .  ¬´¬ª     ‚Äì     13,4%,   ‚Äì  12,5%.          39,8%/39,9%=1 (!).   ,       .    ,     10%      (    , ..    )   , ,  .  ,          ,    .       ‚Äì QWERTY,       . <br>           :       ,             ‚Äì   .  Those.    .     (5,90   , 6,67   )   ,   13%.       12,57  ‚Äì      ARENSITO (12,54 )   Klausler (12,56 ). <br><br>  <a href="http://colemak.com/"><b>Colemak</b></a> .  ,    ,  57,9%.      ( 0,1% ,   Klausler,   ,        ,   ;     2-3%         ).    ‚Äì 8,5% ‚Äì       . <br><br><div class="spoiler"> <b class="spoiler_title">     Colemak</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/1ae/45c/e1f/1ae45ce1f6fc631b83171700de88ae56.gif"></div></div><br><br>      ,         .      16%     5,6% ‚Äì  .   :   (8,3%), -, ,    (6,5%) (    0,1%).       ,          ( ,    .).          37,6%/42,1%=1,12 (  12%).      ‚Äì                  (     ,    ,    ).  Those.              ,    .      (6,23   6,50 )     (  5%).    ,      , - ,    ,   12,73 .        . <br>      ‚Äì  ,           (, -,   ,                ).  Those.          .  -     .   ,        -  ,         ,         .   ‚Äì    ARENSITO.        ‚Äì   Capewell.     ‚Äì  Dvorak.      ‚Äì  Colemak. <br><br>  <a href="http://mkweb.bcgsc.ca/carpalx/"><b>QGMLWB</b></a> .      ‚Äì 57,9%;   ‚Äì 7,8%.        . <br><br><div class="spoiler"> <b class="spoiler_title">     QGMLWB</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/717/1c9/c89/7171c9c89579b00c2e28ca2a0b1ba2fc.gif"></div></div><br><br>  ,           , ..            .            .             .          .     ,      ( QWERTY,  QWERTY      ,         ).      ‚Äì 38,5%/41,3% = 0,93 ( 7% ) ‚Äì    . <br>         Colemak.          .   ,     Colemak ‚Äì 6,96 /6,19  = 1,12.        (   Colemak)                . ,       ,  13,15 ,   ,   . <br>      ,       ,    QGMLWB, ,   ,           . <br>     . <br><br> <b></b> .       33,3%.     ,      , ..   .       (26,1%  22,2%),     . ,   ,   . <br><br><div class="spoiler"> <b class="spoiler_title">     </b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/48a/c37/4d8/48ac374d8ea41a5b3a141276e596e02f.gif"></div></div><br><br>  By interdigital balancing of the proportion of clicks, you can immediately say that the index fingers are knocked out - each of them accounts for 25% of the total number of clicks (in total, index fingers account for 50.8% of clicks, on the middle ones - 15.7%, for unnamed - 6.1%, for little fingers - 9%).  For those whose index fingers are very well developed, YTsUKEN may even be a very high-speed layout (implying a set of basically two of the most powerful fingers).  In general, such a layout should be quite good when working with the mouse, when only one hand rests on the keyboard.  But with a blind set is made with two hands, so this plus can be very doubtful.  Compared with the index heavily underloaded middle fingers, as well as unnamed.  The right little finger is overloaded (even without the Shift and ‚Äú-‚Äù keys).  Interdigital balancing is one of the worst.  The main load falls on the index.  But according to the balance of the share of clicks for the hands, JTSUKEN shows a very good result: 40.6% / 41.0% (asymmetry 1%) - similar to the Capewell indicator, when compared with English-language layouts.  By moving the little fingers are very heavily loaded (more than in any of the English-language layouts: they account for 3.42 mm).  In other layouts, the movements of the little fingers did not have more than 1-2 mm.  It can be noted that the nameless underutilized, and the index perform too much movement.  The left hand gives 14.06 mm movements for one press, the right hand - 11.39 mm.  Asymmetry is 23% (not a very good indicator, but far from the worst).  In general, one click accounts for 25.45 mm - even more than in QWERTY, although a priori it can be assumed that, due to ergonomics, JTSUKEN should take better place among Russian-language layouts than QWERTY among English-language layouts.  One of the general conclusions drawn from this point: the ergonomics of the Russian-language layouts, all other things being equal, will be worse than for English-speaking ones. <br><br>  Layout <a href="http://www.urikor.net/phpBB2/en_lang/viewtopic.php%3Ft%3D2133%26sid%3De2a87c7a643e1faad847e45b5cf8a8b2"><b>Announcer</b></a> .  In this layout, a significant optimization has already been made in comparison with JCUKEN.  The share of the main series is 52.1%.  The share of the bottom row - 11.2%.  When considering the share of clicks on each of the fingers, it can be seen that in comparison with YTsUKEN, the balancing of the share of clicks is significantly improved: the unnamed are loaded in accordance with their total share in much the same way as the best examples of English-language layouts.  Although the right little finger is heavily loaded - 7.3% (in YTSUKEN it was 6.4%). <br><br><div class="spoiler">  <b class="spoiler_title">The distribution of the number of clicks for the layout Announcer</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/0b2/46f/17d/0b246f17dd5ea03f1b650e8cc74fe2c6.gif"></div></div><br><br>  But in general, the load on the fingers of each hand decreases rather monotonously.  The movements of the fingers of the left hand form a monotonously decreasing sequence, although it would be possible to load the left middle finger more heavily.  For the right hand, the sequence also looks quite good, for the middle, ringless, little finger, there are approximately equal movements, with the dominance of the index finger.  The right little finger passes 1.68 mm per click (this is less than in YTSUKEN, where there was 2.38 mm).  The contribution to the movement of each of the hands is 6.75 mm and 10.43 mm, the asymmetry is very significant at 54%.  And the general asymmetry develops, because  she encourages the right hand for both pressing and moving.  The average horizontal distance traveled by the fingers when you press one key is 17.18 mm, i.e.  a very significant improvement over YTsUKEN (by 48%).  It is also worth mentioning the frequency of the hands alternations: for YTsUKEN, it is equal to 61.2%, for the speaker‚Äôs layout - 76.2%. <br><br>  The layout of <b>D. Zubachev</b> (links to the discussion of the layout: <a href="http://www.verseq.ru/forum/topic585-0.php">1</a> , <a href="http://urikor.net/phpBB2/viewtopic.php%3Ft%3D2134%26postdays%3D0%26postorder%3Dasc%26start%3D30%26sid%3Ddbb7a987430dfb1e93695f970da4e5fb">2</a> ).  The share of the main (middle) series by pressing is equal to 45.0%, the share of the lower one - 15.0%.  At first glance, not very good performance.  But if you look at the interdigital balance by pressing the keys, you can see very good dependencies.  Besides the fact that they are monotone, these dependences have a constant change in the transition from finger to finger.  And the loads of pairwise sums on the fingers of both hands (both of the index, both of the middle ones, etc.) converge with the partial loads of the fingers of each hand.  Those.  it can be said that the dependencies for both hands are in good agreement.  At the same time, the Zubachev layout also demonstrates a rather small asymmetry of hand presses: 40.2% / 41.3% = 0.97 (asymmetry is less than 3%). <br><br><div class="spoiler">  <b class="spoiler_title">The distribution of the number of clicks for the layout Zubachev</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/336/e33/0a9/336e330a9ea10901c1c47700a3cd9246.gif"></div></div><br><br>  Apparently, the layout is well balanced. <br>  The distribution of the movements on the fingers of each of the hands is subject to monotonous dependence.  Finger movements are distributed fairly well, i.e.  the total load on the index significantly exceeds the load on the average, etc.  decreasing right up to the little fingers.  The asymmetry of movement in each of the hands (7.47 mm to 10.82 mm) is 45% - less than in the Announcer, although more than in YTsUKEN.  Balancing movements between hands is worse than pressing, but also not very bad (much better, for example, than for Dvorak).  The average distance traveled by the fingers when you press one key is 18.30 mm and a little more than for the Speaker layout (by 6.5%).  Apparently, here we come to the point that we have already encountered when considering the English-language layouts, after which an improvement in the balancing of the loads on the fingers leads to a more significant decrease in ergonomics.  Those.  balancing in comparison with the layout Announcer is significantly improved, but ergonomics suffered by 6.5%.  The proportion of hands alternations is 75.8%. <br><br>  Next, we consider the standard layout <b>YTSUKEN</b> , but with non-standard hands.  In general, a change in the position of the hands in some measure can be considered equivalent to a change in the layout.  Probably, the same can be said about the application of the <a href="http://klavogonki.ru/wiki/%25D0%2594%25D0%25B8%25D0%25BD%25D0%25B0%25D0%25BC%25D0%25B8%25D1%2587%25D0%25B5%25D1%2581%25D0%25BA%25D0%25B8%25D0%25B9_%25D0%25BD%25D0%25B0%25D0%25B1%25D0%25BE%25D1%2580_%25D1%2582%25D0%25B5%25D0%25BA%25D1%2581%25D1%2582%25D0%25B0">dynamic method of dialing</a> .  In the non-standard hand setting, there is no amount per row as such (fingers are not located on the same row).  Therefore, all keys were taken as the top row, which is higher than the main position, while the bottom row was taken as those below.  The main row was taken as the main position plus the keys adjacent to its edges horizontally. <br><br>  <b>YTsUKEN</b> staged by <b>YVAM TOLD</b> .  The share of the middle row by pressing is 40.3%, the share of the bottom row is 13.5%.  Such indicators are not very outstanding, although they are much better than in the standard formulation of the FIWA OLDJ.  One can see a strong underload of the index finger of the left hand and a significant overload of the average.  The share of pressing each finger of the left hand would be good if you swap the load of the middle and index fingers.  On the right hand, everything is much better, except for the little finger, which produces 9.5% of the keys, which is a lot.  It is obvious that the asymmetry between the hands on pressing will be the same as for the setting of the FIWA OLDJ, since  the layout did not change (only the hands are changed). <br>  A similar picture is observed in the movements of each of the fingers: the middle finger moves a lot on the left hand and the index finger moves a little.  On the right - middle and nameless (middle in particular) move a little and a little - little finger (although the index finger also makes a significant proportion of movements).  The asymmetry between the hands in displacement is very small - 11.58 mm to 12.21 mm (5.4%) - the best of the indicators for all the considered layouts and hand positions.  The total distance for one keystroke is 23.79 mm.  Those.  a slight improvement compared with the production of the FIJA OLDJ. <br><br><div class="spoiler">  <b class="spoiler_title">The distribution of the number of clicks for YTsUKEN in different productions</b> <div class="spoiler_text">  <b>YWAM TOLD</b> <br><img src="https://habrastorage.org/getpro/habr/post_images/97f/b46/cf4/97fb46cf42d3a4e3d01ab18782898338.gif"><br><br>  <b>YVAM OLJ</b> <br><img src="https://habrastorage.org/getpro/habr/post_images/7e4/d52/021/7e4d52021fd835a28adb8e0a1e512310.gif"><br><br>  <b>YVAP OLJ</b> <br><img src="https://habrastorage.org/getpro/habr/post_images/f3f/7a4/79d/f3f7a479d9195c1822c2516059417651.gif"><br></div></div><br><br>  Let us say a few words about the changes in the setting of each hand.  For changing the setting of the left hand, both YVAM and YVAP are good.  In comparison with FYVA, the reduction in movements on the left hand reaches 21.4%.  At distances it will be about 2.5 mm cut.  The TLD setting for the right hand, in comparison with the OLDJ, improves the balancing of the finger parts of the pressure, but worsens the ergonomics of the right hand by 0.8 mm (less than 5%). <br>  The layout of YTSUKEN has one significant drawback: with any finger positioning, the right little finger is very heavily loaded.  And little - ring finger. <br>  From the point of view of the load balance of the fingers for the left hand, the setting of the UVAP is good (as well as from the point of view of ergonomics).  For the right hand, the formulation of OLDJ is more ergonomic, and providing a better balance (however, also increasing the load on the little finger) - TLD.  Those.  the operation mode of the left hand can be seriously corrected by simply changing the setting.  For the right hand, this option is not suitable.  The option of changing the layout / use of dynamic dialing suggests itself. <br><br>  In general, the improvement of layouts follows the path of improving the balancing of taps and movements that occur on individual fingers, along with an increase in the frequency of letters that are in the main position.  For the English language, the Dvorak layouts deserve attention (according to some people, they had pains in the left wrist when switching from QWERTY to Dvorak), especially for right-handers, Colemak.  For left-handers, the standard QWERTY layout will be good. <br><br>  For the Russian language, it is possible to consider both a change in the main position (which improves balancing by unloading the index fingers), and alternative layouts - Announcer and Zubachev's layout.  In this case, the Announcer layout corresponds more to an increase in the proportion of clicks in the main row, and the Zubachev layout improves balancing and reduces the load on the little fingers. <br><br>  All of the above applies only to the classic blind set with rigid zones and standard hands, because  With dynamic or recruitment, the advantages of alternative layouts will not be as significant. <br></div></div><br><br><h4>  Preliminary notes on the optimization model </h4><br>  All or almost all the main existing models for assigning fines when optimizing layouts (such as Klausler, Capewell, QGMLWB, etc.) were analyzed.  As a rule, they are not well orthogonalized.  Those.  one penalty component intersects with the other, taking into account the same circumstance.  Example: a ‚Äújump‚Äù through a row is counted in the distance traveled by the fingers;  the same jump is penalized as a difficult combination, although indirectly the same complexity is already taken into account in the distance.  But twice to impose a penalty is not necessary.  And there are a lot of such nuances. <br><br>  After a detailed study, the model of fines on <a href="http://andong.azurewebsites.net/">andong.azurewebsites.net</a> turned out to be the most acceptable, but it was not finalized.  On the other hand, the model <a href="http://mkweb.bcgsc.ca/carpalx/">http://mkweb.bcgsc.ca/carpalx/ is</a> very well developed, but it only takes distances into account, and does not take into account the costs of keystrokes.  For example, when typing characters in the main position, the penalty will be zero.  While the physical work is not zero, and the speed is not infinite.  The preliminary conclusion is as follows: you need to use a model, the total cost of which will be the sum of the cost of moving your finger to the desired key and the cost of pressing the key.  These costs will be subject to rewards and penalties, taking into account convenient / inconvenient combinations. <br><br><div class="spoiler">  <b class="spoiler_title">Some sites, information from which was somehow useful in analyzing and comparing layouts, and was also used in building your own optimization model.</b> <div class="spoiler_text">  <a href="http://shiar.nl/misc/dvorak">shiar.nl/misc/dvorak</a> <br>  <a href="http://dvorak.mwbrooks.com/index.html">dvorak.mwbrooks.com/index.html</a> <br>  <a href="http://andong.azurewebsites.net/">andong.azurewebsites.net</a> <br>  <a href="http://mkweb.bcgsc.ca/carpalx/">mkweb.bcgsc.ca/carpalx</a> <br>  <a href="http://www.michaelcapewell.com/projects/keyboard/layout_capewell.htm">www.michaelcapewell.com/projects/keyboard/layout_capewell.htm#Capewell</a> <br>  <a href="http://www.pvv.org/~hakonhal/main.cgi/keyboard">www.pvv.org/~hakonhal/main.cgi/keyboard</a> <br>  <a href="http://www.maltron.com/keyboard-info/academic-papers/">www.maltron.com/keyboard-info/academic-papers</a> <br>  <a href="http://patorjk.com/keyboard-layout-analyzer/">patorjk.com/keyboard-layout-analyzer</a> <br>  <a href="http://www.workmanlayout.com/blog/">www.workmanlayout.com/blog</a> <br>  <a href="http://xahlee.info/kbd/dvorak_vs_colemak.html">xahlee.info/kbd/dvorak_vs_colemak.html</a> <br>  <a href="http://millikeys.sourceforge.net/asset/">millikeys.sourceforge.net/asset</a> <br></div></div><br><br><h4>  Hand rotations using some non-letter keys </h4><br>  Let's go back a little, to the analysis of the alternations of hands. <br>  Now, having statistics of digrams, taking into account all characters, and not just letters (NCRF), it is possible to estimate the alternation of hands and using, for example, a space.  According to the <a href="http://bokrcorpora.narod.ru/frqlist/frqlist.html">frequency dictionary</a> , the average word length in the Russian language is 5.28 characters.  For each word there is one space (not counting dashes and other characters, separated by a space), i.e.  roughly the frequency of the gap can be defined as 1 / (5.28 + 1) = 15.9%.  To simplify further approximate calculations we will take 15%. <br><br>  Diagrams with spaces account for, respectively, about 30% of all digrams, given that the space can be either at the beginning or at the end of the diagram.  Then purely letter digrams will be about 70% (ignoring the other characters). <br><br>  Further suppose that when typing, the ‚Äúspace rule‚Äù is observed: the space after the end of a word is always pressed with the other hand.  In reality, of course, this rule is not fulfilled by all, and its observance does not affect somehow the speed of dialing or convenience.  Rather, it is an attempt to somehow ‚Äúharmonize‚Äù the set so that all fingers are loaded. <br><br>  To compile a layout with spaces in mind, it is necessary to create a table that will indicate the relative frequencies of the letters representing the beginning and end of the word. <br><br><div class="spoiler">  <b class="spoiler_title">Sample table</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/1f8/c8e/ecd/1f8c8eecd283dd0cc82c1b4a49f12e95.gif"></div></div><br><br>  In the calculations, the total number of initial letters was normalized to correspond to the total number of final letters (this is related to the structure of the text, since all words begin with a space - follow it, but not necessarily end with it). <br><br>  To take into account the alternation of hands when pressing spaces and subsequent keys, it is necessary to consider the hypothetical layout, in which such alternations occur most often, to estimate the gain.  Then compare this layout with that already obtained for the criterion of the most frequent alternation of hands when typing letters, and look for a reasonable compromise between them (taking into account the maximization of the total frequency of alternations). <br><br>  In this case, the maximum alternation of hands after pressing a space will be when the end of the word and the beginning of the next fall on one hand (since the space is always pressed by the opposite hand, compared to the one on which the word has ended).  Mathematically, the frequency of interlaces is equivalent to the probability of such an event, and with respect to the total number of digrams, it is written: <br><br>  30% * {p [lev_nach] * p [lev_kon] + p [gov_nach] * p [prav_kon]}, <br><br>  where p [lev_nach] is the total probability of the beginning of a word from letters on the left hand, p [lev_kon] is the total probability of the word ending on letters that fall on the same left hand;  similar for the right hand. <br><br>  Those.  the task is to split the table into two sets of rows and maximize the sum of the products of the post-column sums of probabilities belonging to each of the sets.  It sounds a bit cumbersome, but right. <br><br>  In other words, we first write the same table in a probabilistic form, and then we consider the indicated post-column sums of probabilities, then the products of these sums.  Thus, we obtain the probability of alternation with a space for one hand.  Do the same for the other.  The values ‚Äã‚Äãobtained for both hands, add.  And we strive to maximize this final amount. <br><br>  Note that this aspect has mostly academic interest, since  the rule of alternating spaces in most cases is not respected and the space is pressed with one hand. <br><br><div class="spoiler">  <b class="spoiler_title">Some data on the alternations attributable to alphabetic digrams and diagrams with a space</b> <div class="spoiler_text">  <b>Best in hand total</b> <br>  by digits with spaces 21% <br>  by letter digrams 55.8% <br>  only 76.8% <br><br>  <b>YZUKEN</b> <br>  at the expense of digrams with spaces 22.2% <br>  by letter digrams 39% <br>  only 61.2% <br><br>  <b>Speaker</b> <br>  at the expense of digrams with spaces 20.2% <br>  by letter digrams 56.1% <br>  only 76.3% <br><br>  <b>layout D. Zubachev</b> <br>  due to digrams with spaces 20.6% <br>  by letter digrams 55.2% <br>  only 75.8% <br><br>  <b>Phonetic</b> <br>  at the expense of digrams with spaces 21.8% <br>  at the expense of letter digrams 36.1% <br>  only 57.9% <br><br>  <b>Alphabetic</b> <br>  at the expense of digrams with spaces 21.4% <br>  by letter digrams 35.9% <br>  only 57.3% <br><br>  As you can see, under almost any conditions (unless specifically worsening them) alternation with a space gives an approximately constant value of 20-22%. <br></div></div><br><br>  Regarding the point and comma, we can say the following.  Statistical analysis of large amounts of text (up to several hundred megabytes) shows that the comma and period are more often followed by vowels than by consonants.  The same ratio is observed for interrogative and exclamation marks.  Approximately 40% of the dots and commas follow after consonants, and in 60% of cases after vowels, respectively.  The advantage of vowels in this case is not overwhelming, but it can be taken into account when placing the keys. <br><br>  The hyphen character (dash) plays the role of a hyphen only in 30% of cases, and in 70% - is a dash, i.e.  framed by spaces.  After the period and comma follows in 0.1 of all cases of a hyphen, i.e.  0.1 * 30% = 3% of all uses of this symbol. <br><br><h4>  Some more interesting graphs without detailed interpretation. </h4><br><div class="spoiler">  <b class="spoiler_title">Secondary data analysis site andong.azurewebsites.net</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/75c/dd6/04a/75cdd604a718e085a02e7bdbca65eadf.gif"><br>  Everything is clear here - the higher the frequency of eight letters in the main position, the less the average path per click.  Clear logical connection.  On the left - non-optimized layouts (QWERTY, alphabetic), on the right - a family of modern, optimized (Dvorak, Maltron, Workman, Colemak. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/acb/072/990/acb0729906fa12aadb3cc93aa573a5d1.gif"><br>  Information on various parameters of layouts.  All counting algorithms from the above site.  I don‚Äôt need to explain the legend, except for OE - Overall Effort - common efforts, EIBF - imbalance of loads on different fingers.  It is clearly visible how two classes of layouts are distinguished by the parameters - ‚Äúold‚Äù and ‚Äúnew‚Äù. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6c8/ffe/924/6c8ffe92429d2bbabd94c204696bfc85.gif"><br>  By ‚Äúbad sum‚Äù is meant the sum of the probabilities of three uncomfortable combinations - ‚Äúsame hand‚Äù, ‚Äúinverse order‚Äù, ‚Äújumping a row‚Äù.  The leaders here are both Dvorak'a - standard and modified - the lower left corner of the graph. <br></div></div><br><br><h4>  Model building questions for layout optimization </h4><br>  What is the main difficulty? <br>  Optimization methods (mathematical) are well developed, therefore, the optimization itself is not difficult.  The main difficulty is to make the layout quality functional. <br>  What will be the main criterion? <br>  Layouts optimized for speed and comfort are generally two different things.  Those.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">speed layout may not even be ten-finger. </font><font style="vertical-align: inherit;">The same thing about convenience. </font><font style="vertical-align: inherit;">But in this case, we are considering the classic method of recruitment. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">What is the ‚Äúblind ten-finger print method (classic) ?: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a) fixed hands; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b) fixed zones - for each finger its own letters; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c) all ten fingers are used (or nine, in case the space is pressed with one thumb). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">How to make a model of quality layouts? </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a) it is necessary to adequately take into account bad (good) key combinations (separately determine what is ‚Äúgood‚Äù or ‚Äúbad‚Äù); </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b) choose a compromise between convenience and speed; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c) properly distribute the load on the fingers.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In all these criteria there is some subjectivity, but there are also statements that are accepted by all as true, confirmed with the help of various programs. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For example: pressing keys with different hands, faster in speed than with one hand; set on one row more often faster than on different ones, etc. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It is necessary to collect all possible cases, analyze them, i.e. arrange in order of preference. At the same time, there should not be too many criteria. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Next you need to select the numerical quality assessment. Assume that each key combination assigns some effort in points. Less is better. Here comes subjectivism. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1st subjective choice - which key combinations are good (bad)? </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2nd subjective choice - how much better (worse) is this or that combination?</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">There is one objective criterion - the distance traveled by the fingers from the initial position. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">But here it is necessary to take into account that not only the fingers move, but also the hand, i.e. pressing each key is not necessarily from the initial position. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For example: the combination of "ST" - the brush moves to the top row, and then to the bottom.</font></font> Those.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">the distance traveled to "T" is greater than from the starting position. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Many optimization models minimize exactly the distance, but this is not the only component, and even far from being the first in importance. The main part of the work falls not on horizontal movements of the fingers, but on keystrokes. And the number of clicks can not be reduced (without </font></font><a href="http://klavogonki.ru/wiki/%25D0%2590%25D0%25B2%25D1%2582%25D0%25BE%25D0%25B7%25D0%25B0%25D0%25BC%25D0%25B5%25D0%25BD%25D1%258B"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">automatic replacement</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Therefore, the main way to improve the layout - minimizing the proportion of uncomfortable combinations, taking into account the distribution of loads on the fingers of each hand. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The cost of pressing each key, according to the previous, will consist of two components: the horizontal movement and the press. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For each finger, cost coefficients for one click and unit of movement are set.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suppose we chose the coefficients in some way. Next, you need to come up with a system of encouraging good (fast and convenient) combinations and penalizing bad ones. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suppose we also did this. Now we have a mathematical cost model for typing. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">To assess the quality of the layout for the selected model, you need to try (chase away) the layout on any text. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The sample of texts should reflect well the statistical structure of the Russian language and include: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1) a sufficient volume (from several megabytes); </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2) different genres (prose, fantasy, scientific texts, journalism), since various combinations of letters and their combinations are used; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3) perhaps even different epochs (classic, modern).</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Further, this text is run on the assessment quality assessment model, and the number of points is determined. The layout with the minimum (or maximum, depending on how the model is built) number of points is the best. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">But testing the entire multi-megabyte text while testing various layouts is a lengthy exercise, especially since the layouts being tested are millions. Therefore, it is possible to conduct a statistical analysis of the sample and create a table of statistics of n-grams (n-character combinations, n is the desired depth of analysis). In this case, it is no longer necessary to check the entire text, but it is enough to use the statistics table, which is orders of magnitude smaller in size than the source texts. The cost of typing each combination is simply multiplied by the number of repetitions in the text of this combination.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">How to choose a quasi-optimal layout, from which set? Obviously, brute force cannot do this, since the number of layouts is N = 33! = 10 </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">64</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , taking into account only the permutations of the letters. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It remains to use approximate optimization methods, they are also called heuristic search methods or random / pseudo-random optimization. The main ones I encountered in the analysis of optimization models were: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1) The basic method without any modifications - the Monte Carlo method. The layout is created randomly. We check it in accordance with the model. If it is better for the model than previously calculated, then we take it as the best and create a new layout for testing. Such a method was used by D. Zubachev in the process of searching for his layout. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The other two most commonly used methods are:</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2) Imitation annealing method. Used when calculating the QGMLWB layout. Some review of this method can be found </font></font><a href="http://www.math.spbu.ru/user/gran/sb1/lopatin.pdf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3) Genetic method. Used by P. Klausler in calculating his layout. A little introduction is </font></font><a href="http%253A%252F%252Flogic.pdmi.ras.ru%252F~sergey%252Fteaching%252Fml%252F04-genetic.pdf%26ei%3DdqHoUrCYKaOo4gSZgoHACw%26usg%3DAFQjCNGmhCkzcvscXt6g_K8jMIsF7rksVQ%26sig2%3D92vN8HUXD3ddTl7LPjrLIA%26bvm%3Dbv.60157871,d.bGE%26cad%3Drjt"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Without further ado, it was decided to use one of the above methods, namely, the annealing method.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Note that the classical method without modifications is quite slow, it has the lowest convergence rate. Therefore, modified optimization methods are commonly used. You also need to consider that all methods of pseudo-random optimization do not guarantee finding the optimal solution, since the number of options is unimaginably large and the probability of getting exactly the best of them is negligible. Of course, in some problems where the ‚Äúsurface of options‚Äù has a fairly simple ‚Äúrelief‚Äù, you can find a global maximum / minimum, but the task of finding the optimal layout is clearly not one of those.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In the English-language articles on the topic of blind typing, there is information about how they try to take into account the fact that in the process of printing the brush moves, not the fingers. In particular, it is assumed that the neighboring finger of the hand moves in the same direction as the key that is currently pressing, but half the distance (that is, the movements are obtained as if coordinated). Interesting calculations are given in </font></font><a href="http%253A%252F%252Fcogtool.hcii.cs.cmu.edu%252Ftrac%252Fexport%252F3295%252Fdocs%252Fpapers%252FTYPIST.pdf%26ei%3DjGzoUtiuK-qD4gSA_4CABg%26usg%3DAFQjCNFqtJQfuAy8v6DIyUff61vQoQWFTg%26sig2%3DTKi1O6-rdJFcWS1fAP6vtA%26bvm%3Dbv.60157871,d.bGE"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A Theory o Perfomance in skilled typing (BE John, 1996)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . In it, the displacement model is supplemented by the finger positioning time, and also the times when the finger is moved up and down (key press / release) are taken into account.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The model of the printing process on three levels is very similar to reality: 1) perception, 2) cognitive, 3) motor. </font><font style="vertical-align: inherit;">At low print speeds, the throughput of the process (the narrowest point) is dictated by the motor level. </font><font style="vertical-align: inherit;">And at high (model speed 800 characters / min) - cognitive level. </font><font style="vertical-align: inherit;">All these models come from the Model Human Processor, in which the work of the brain is modeled by a certain circuit consisting of several discrete components - handlers, buffers, etc.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Optimization Keys and Fines System </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">To take Shift into account when optimizing layouts, it turned out that in some cases there are not enough digram data, and the primary statistics collection algorithm needs to be modified, or it is necessary to restore the missing data, sorting through all the trigrams, etc. Digits with spaces are counted. This is also the load when recruiting. And it will affect the assessment of how profitable this or that layout.</font></font> Those.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">spaces should lower the gain of any alternative layout, since they are pressed anyway and for all layouts the same way (if we consider the classic ten-finger dialing method). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The model was taken from the </font></font><a href="http://andong.azurewebsites.net/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">andong.azurewebsites.net</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> site </font><font style="vertical-align: inherit;">, but with various additions. The total effort (or cost) is made up of two components - pressing a key with each finger and per unit path traveled by each finger. The cost of pressing for little fingers is slightly reduced, because in the original version, they seem disproportionately high. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Costs per press: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.10 left pinky </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.45 left unnamed </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.05 left middle </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.05 left index </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.00 right index </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.00 right average</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.40 right untitled </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.00 right little finger </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.00 big thumbs </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Costs per unit of movement (the key side was taken for the unit): </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.60 left little finger </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.00 left untitled </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.55 left middle </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.75 left index </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.70 right index </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.50 right middle </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.90 right unnamed </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.50 right pinky </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As we can see, the odds are somewhat larger for the left hand, which will encourage the use of the right hand in the optimization process.</font></font> Those.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">This option is more for right-handers. For left-handers, the coefficients for the right and left hand must be changed. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We should also specify the asymmetry of hand loading. In my opinion, the asymmetry in the number of clicks is 5-10% (that is, if one hand makes 1.05-1.1 times more clicks than the other) does not matter at all. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We see that the cost of pressing taken minimal for index and middle fingers, because they are about equally developed. Perhaps the coefficients for the nameless and little finger should be further reduced. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The cost of movement is minimal for the middle finger, since it is longer than the others. A separate question about the ratio of the cost of moving for the nameless and little fingers. The little fingers are the weakest fingers, but they are more mobile, because these are extreme fingers.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> For large fingers, the costs of horizontal movement are absent. </font></font><br><br>  Those.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">for each key pressed, the costs consisted of two components: the horizontal movement and the pressing. </font><font style="vertical-align: inherit;">Horizontal displacement may be zero, but total costs will never be zero (as in reality), which explains the choice of such a model as the basis. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For the presentation of a sample of texts, it was decided to use statistics digrams. </font><font style="vertical-align: inherit;">On the one hand, they are much smaller than the trigrams, which should speed up the optimization process, on the other hand, even the digrams allow you to take into account the main fast / slow combinations, for example, the rotation of hands.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Additional bonuses and penalties </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">What additional bonuses and penalties need to be charged (i.e., how to encourage convenient, fast digrams and penalize bad ones)? It was decided to introduce the following items: </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Speed ‚Äã‚Äãbonus for alternating hands. Perhaps the efforts will not be less when typing a digram with different hands, but the speed on average will be much higher than when typing with one hand. We subtract 60% of the movements for the second letter of the digram (this can be justified by the fact that most of the way to the second letter will be made at the same time as pressing the first one, since in this case the hands move independently). An example of a digram is ‚ÄúSHU‚Äù. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. Movement bonus for agreed motions. Here we need to remember that the fingers do not move independently, but as a whole (the TYPIST model and other works).</font></font> Those.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if the fingers of one hand move to the keys of the same row, then they will travel almost simultaneously. </font><font style="vertical-align: inherit;">Remove 50% of the movements for the second letter of the digram.</font></font> Those.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in the standard layout, this would be the pressing of the letters "ShG" or "GS" or "SC" or "ES", i.e. </font><font style="vertical-align: inherit;">standing on the same row (not mainly), but with different fingers. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. Penalty for pressing the same key. </font><font style="vertical-align: inherit;">Horizontal displacements for the second letter in the digram are assumed to be zero, since the finger remains above the same position. </font><font style="vertical-align: inherit;">And we increase the pressure force by 20%. </font><font style="vertical-align: inherit;">An example is ‚ÄúSS‚Äù, ‚ÄúEE‚Äù. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. Penalty for the reverse combination with one hand. </font><font style="vertical-align: inherit;">If the digram is typed with one hand in the direction from the center of the keyboard to the edge, then the efforts for the second letter both on movements and on pressing increase by 20% (implying a decrease in convenience and speed). </font><font style="vertical-align: inherit;">An example is ‚ÄúYOU‚Äù, ‚ÄúNL‚Äù.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5. Penalty for one-finger combinations (excluding repeated pressing of the same letter). The effort to move and press increases by 30% (it is understood that the speed can be significantly reduced). Example - ‚ÄúMA‚Äù, ‚ÄúAK‚Äù, ‚ÄúOG‚Äù, ‚ÄúOT‚Äù - in the standard layout there are a lot of such combinations, since 50% of the clicks make the index fingers. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6. Penalty to jump with one hand through a row. Recalling the model of movements, we can say that if there is a jump from the top to the bottom row or vice versa, then the movements to the second letter will be larger than from the starting position. We increase the cost of moving up to the second letter by 50%. Example - "SC", "BSH", "CHU".</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7. Fines bottom row. </font><font style="vertical-align: inherit;">It is believed that on standard keyboards the availability of the lower row is worse than the upper one, therefore it is necessary to enter a complexity factor. </font><font style="vertical-align: inherit;">For any character in the bottom row, the cost of both moving and pressing increases by 25%. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Some bonuses and penalties may act together. </font><font style="vertical-align: inherit;">For example, there may be a consistent move to the bottom row, but the digram is typed in reverse order.</font></font> Those.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">we get a bonus for the agreed movement and penalties for the bottom row and for the reverse combination with the other hand. </font><font style="vertical-align: inherit;">An example is ‚Äúmidrange‚Äù. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">This system of penalties was implemented in the MathCAD package.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Brief description of the optimization process </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The initial data on digrams included all two-character combinations, determined on the basis of an analysis of 300 MB of Russian-language text provided by mystes. As mentioned, pressing Shift's is not taken into account during optimization, since this would require considerable complication, which at first glance is not justified. Accordingly, all capital letters in the statistics were converted to lowercase, and repeating digrams are grouped.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It is necessary to set the layout from which the optimization procedure will start. This layout can be any of the existing, and generated randomly. In our case, the starting layout is the YTsUKEN layout, but with one change - the hard sign and the soft sign are transferred to one key ‚Äú‚Äù, and the comma is replaced by the place ‚Äúb‚Äù. The comma is approximately 1.5% of all characters, and the transfer is done in order to press it without Shift.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Optimization is performed by the annealing method. </font><font style="vertical-align: inherit;">The optimization step is chosen equal to one permutation of the keys. </font><font style="vertical-align: inherit;">Do not choose a step too large. </font><font style="vertical-align: inherit;">This can lead to the fact that the solution will not be close enough to the minimum of the objective function at all. </font><font style="vertical-align: inherit;">On the other hand, a small step will reduce the rate of convergence. </font><font style="vertical-align: inherit;">Practice shows that in this case one permutation of keys is a suitable step.</font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Annealing Optimization Graph</font></font></b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/9de/cc9/b65/9decc9b65e679e80b1759b118cf3b245.gif"><br>   .        .      . </div></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">To obtain a reasonable result, the optimization procedure must be performed many times, and then select the best results from the results obtained. This is due to the fact that optimization is stochastic and in most cases will lead to a new result. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The number of iterations for one optimization procedure was chosen to be 1000, 5000, 10000, 50,000, 100,000. As the calculations showed, acceptable results with permissible time costs are provided by the number of iterations 10,000, if you choose from this series. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In order to assess the quality of the layout, not only a force model is used to construct a procedure that defines various characteristics, such as the </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">proportion of keys of the main row when typing, the </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">frequency of hands alternation, the </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">proportion of digrams recruited in reverse order,</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">the proportion of digrams with coordinated movements, the </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">proportion of digrams dialed with one finger, the </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">proportion of diagrams dialed not on adjacent rows with one hand. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Also determined by the breakdown of the load by clicking and moving for each finger. Based on these data, it is possible to make a more reasonable conclusion about the quality of the layout. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Proceeding from the above, optimization as a whole includes the following steps: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Load the source file with digram statistics, array preparation (cleaning, converting capital letters to lowercase, grouping). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. Definition of a matrix of zones for each finger (non-standard zones can also be assigned). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. Determination of the distance matrix for the zones of claim 2 in relative units.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. The appointment of two matrices with penalties for moving and pressing for each finger. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5. Assignment of additional bonuses and penalties for various types of digrams. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6. The purpose of the starting layout, the choice of the optimization step, the choice of the number of iterations. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7. Optimization by the annealing method (multiple). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8. Selection of the best layouts. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9. Calculation of additional characteristics of existing Russian-language layouts and optimized layouts.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Analysis and interpretation of results </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">One of the best results that could be obtained from the point of view of the model described: The </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/7ea/7b3/06e/7ea7b306e2dd04f1ee9eceb2b90a0ef7.gif"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">data for loading the fingers in the figure and below can differ, because For optimization, several excellent initial data were used. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The upper row (not in the figure) is corrected manually - the dash is shifted to the number 8. A dash is pressed about 0.8% of all keystrokes and is far ahead of all other punctuation marks, except for the full stop and comma (for which the total is ~ 3%). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">This layout provides a total cost equal to 83.5% of the cost of the layout YTSUKEN. As we see, the improvement is not very significant (16.5% by the synthetic criterion), and there is no reason to talk about any huge advantage. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The costs of other layouts with respect to the YTSUKEN layout: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YTZUKEN - 100%;</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Speaker - 85.5%; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The layout of D. Zubachev - 86.8%; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alphabetic - 111.1%.</font></font><br><br>  Those.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">when taking into account keystrokes, and not just movements, as well as taking into account spaces, the gain becomes not so big at all, within 20%. </font><font style="vertical-align: inherit;">Determining the gain purely in speed is an even more difficult task. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In one of the articles, </font></font><a href="http://www.santafe.edu/media/workingpapers/98-05-041.pdf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The Standard and Dvorak Keyboards Revisited. </font><font style="vertical-align: inherit;">Direct Measures of Speed ‚Äã‚Äã(1998)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , compares QWERTY and Dvorak. </font><font style="vertical-align: inherit;">Dvorak is given an advantage in speed of about 4% according to a set of digrams. </font><font style="vertical-align: inherit;">With the growth of skill, it can reach 10%. </font><font style="vertical-align: inherit;">But in general, different authors give an advantage in Dvorak's speed from 2% to 7% for a standard skill level. </font><font style="vertical-align: inherit;">So, there is nothing definite to say about speed, although the gain will obviously be even less than the gain in costs.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Let us assume that the layout, which is minimal for model costs, was obtained. And how to more objectively assess its quality? To increase objectivity, you need to apply other criteria. For example, count such commonly used indicators as hand alternation frequency, the relative number of digits dialed with one finger, the proportion of diagrams recruited in the reverse order, the proportion of digram with jump through a row, the proportion of the main row in the total number of clicks. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The following results were obtained: </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/2f9/b69/72f/2f9b6972f588e2a888116ec490aadf27.gif"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Indicators: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. The proportion of alternations of hands, due only to letter digrams; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. The proportion of digrams with the agreed movements; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. The proportion of digits dialed in the reverse order; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. The proportion of digrams dialed with one finger; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5. The proportion of digrams dialed through the row;</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6. The share of clicks on the main row; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7. Costs in relative units per click; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8. The path to the key in relative units (the key size is taken for the unit). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9. Costs for the left hand relative to total costs (excluding the space); </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10. The cost of the right hand relative to the total cost (excluding space). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As can be seen, the optimized layout and the Zubachev layout almost coincide in the parameters, with minor variations within 1% for each of the indicators. Moreover, both results were obtained independently, according to different algorithms and according to their criteria. The layouts themselves are of course different. We can say that the optimum is somewhere very close. But which way to optimize is already subjectivism, as well as the choice of the values ‚Äã‚Äãof fines and rewards.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In addition to the results already obtained, it was decided to search for the best permutations with the minimum number of them, by analogy with </font></font><a href="http://mkweb.bcgsc.ca/carpalx/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">carpalx</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font> Those.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">to find the first best permutation of the keys in the sense of reducing the effort, the second, etc. </font><font style="vertical-align: inherit;">up to 10-15 permutations. </font><font style="vertical-align: inherit;">The following results were obtained: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0. Zero permutation (manually) - combining hard and soft signs, and moving a comma to the place . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">From this layout we start. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. W / L (relative improvement relative to the previous layout of 2.8%). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2., /  (-2.3%) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.  /  (-1.7%) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.  /  (-1.7%) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.  /  (-1.6%) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6. C /. </font><font style="vertical-align: inherit;">(-1.3%) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7. U / N (-1.2%) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8. U / L (-1%) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9. D / S (-0.9%) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10. H / F (-0, 5%) at this stage, the force - 1,581.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parameters were defined for all intermediate options. It turned out that almost all the first replacements of pairs of keys lead only to an improvement in the balancing of efforts on the fingers. At the same time, the main indicators of layouts, such as alternating hands, pressing keys with one finger, etc. may even get worse.</font></font> Those.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The expected result, for example, that described in </font></font><a href="http://mkweb.bcgsc.ca/carpalx/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">carpalx</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> with the phased optimization of the English layout, could not be obtained. In this case, the first proposed replacement of E / K leads to an improvement in the alternation of hands and an increase in the frequency of the main position. In our case, the opposite is true. Almost all indicators suffered. Only starting with 5-6 permutations, these indicators begin to improve. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The calculated layout and the layout of D. Zubachev are more consistent with the optimization of the distribution of loads on the fingers. In this case, alternation suffers somewhat, to a greater extent - the frequency of the main position. The proportion of ‚Äúbad‚Äù combinations also increases - backward, one-finger, jumping through a row as a result of an increase in the share of one-armed combinations.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The layout The announcer has a significantly higher proportion of the main position, and the proportion of hands alternating is also slightly higher. </font><font style="vertical-align: inherit;">The proportion of bad combinations in the amount is very small.</font></font> Those.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The layout is very well done, but using several other criteria and at the cost of some imbalance between the fingers and the hands. </font><font style="vertical-align: inherit;">For those who do not need good balancing, Announcer is the most acceptable layout.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> About the issue of retraining </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The study of the new layout for the same areas, as shown by our own experience, is much faster than learning the blind tenfinger method of dialing from scratch. </font><font style="vertical-align: inherit;">With the experience of recruitment on YTsUKEN 4-5 years, the study of the layout Speaker up to approximately the same speed (&gt; 500 characters / min on texts 300 characters long) occurred in 4.5 months with interruptions ( </font></font><a href="http://klavogonki.ru/u/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">link</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">Further, up to the same speed of 500 zn / min, the layout of D. Zubachev was studied, but already in 2-2.5 months ( </font></font><a href="http://klavogonki.ru/u/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">link</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As in all cases of learning a new skill, at the very beginning the speed of learning is the highest, then the growth rate slows down, i.e. </font><font style="vertical-align: inherit;">the learning curve has an approximately logarithmic form (there is no ceiling, but for each of the next similar increments to speed, it takes several times more time / effort).</font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Approximate view of the learning curve</font></font></b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/6b9/523/d6e/6b9523d6ef62e77fd498aa8c99ae9bf0.gif"></div></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">But in general, the higher the speed and the longer the experience of typing on the standard layout, the less meaningful the transition to alternative layouts is, unless the standard has very strong inconveniences. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I believe that if the speed reaches 500 characters / min and more on short sections of text, and the work experience on the standard layout is 2-3 years or more, then retraining as a whole does not make much sense. </font><font style="vertical-align: inherit;">Although, there are also </font></font><a href="http://klavogonki.ru/u/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">counterexamples</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , showing that even at high speeds it is possible to relearn and further increase the speed significantly. </font><font style="vertical-align: inherit;">But mainly it concerns young people (15-25 years old). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In conclusion, we consider another aspect of the applicability of optimization procedures.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> To the question of assessing the complexity of the text </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sometimes before the typesetters raises the question of assessing the complexity of the text. Basically, of course, this is purely competitive interest. Suppose one typesetter typed text A at a speed of 700 digits / min, and another - text B at a speed of 650 digits / min. Let the number of corrections in both cases be the same. And the length of the texts is also the same, within the limits of error. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Which of them showed the best result, given that the texts may be of different complexity?</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">By complexity, in this case, apparently, it is necessary to understand that texts can be composed of words of different frequency, some of which consist of worked out combinations, and others - of poorly worked. In addition, words can be of different lengths, and longer words are harder to perceive and type than standard lengths (4-6 characters). This is the first component of complexity. In the first approximation, you can simply sum up the ranks of words. The final sum (or, let's say, its logarithm) quantifies the complexity of the text.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">But there is a second component, let's call it technical - how the fingers move around the keyboard, on which rows they press keys, etc. This is directly related to the layout optimization procedure already described. </font><font style="vertical-align: inherit;">Only here everything will be done exactly the opposite: if in the process of optimization, different layouts were sorted out on the same language statistics, then to determine the complexity of the text, the layout will be fixed, and the input variable will be the text whose complexity needs to be evaluated. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">With increasing skill of the typesetter on a specific layout, the contribution of technical complexity to the overall coefficient of complexity will fall.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Further ways to improve the model </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In general, the main points when designing layouts were </font></font><a href="http://www.freepatentsonline.com/2040248.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">formulated</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> by A. Dvorak (1936) and many other authors, including and modern (in free form): </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1) Hand-drawn digrams on average are recruited faster than with one hand; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2) Digrams dialed by the neighboring fingers of one hand are slower than diagrams of fingers spread apart (except for the middle and index fingers); </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3) Digrams dialed in the direction of the center-&gt; periphery (from the index to the little finger), slower than in the direction of the periphery-&gt; center; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4) Digrams dialed through a row are slower than diagrams on one row or on adjacent ones; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5) Digrams dialed with one finger are slower than diagrams with different fingers.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">To this can add not so much. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Firstly, it is not clear in details what mathematical model was considered when optimizing the layout (meaning A. Dvorak). </font><font style="vertical-align: inherit;">Which factors are more important and which are minor (although, as was shown above, the result was very good). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Secondly, it is not explicitly taken into account that the fingers belonging to one hand, when the brush is displaced, move all together (the so-called coordinated movements), although there is an echo of this in ¬ß2.4.</font></font> Those.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">So far, there is no explicit positioning model for the brush when typing. </font><font style="vertical-align: inherit;">This is a separate very complex task, which is the subject of a separate article. </font><font style="vertical-align: inherit;">To solve it requires special experiments. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thirdly, as already mentioned, the context affects the speed of printing a single character.</font></font> Those.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It is possible and necessary to take into account not only digrams, but also trigrams, tetragrams (3-, 4-character combinations), etc., since modern computers allow you to perform similar calculations when optimizing layouts. In general, the trigrams were already taken into account in the </font></font><a href="http://mkweb.bcgsc.ca/carpalx/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">carpalx</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> model </font><font style="vertical-align: inherit;">, where they are divided into several categories according to convenience. But there are no references to which of them are faster and to what extent and by what means the degree of convenience / inconvenience was determined. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fourth, at the moment there is a very powerful tool for analyzing the various parameters of typing in the face of </font></font><a href="http://fil.urikor.net/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Typing Statistics</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(perhaps there are analogues that are unknown to me). </font><font style="vertical-align: inherit;">It should be noted that A. Dvorak, in developing his principles, also used the TS analog in the form of a paper tape, i.e. </font><font style="vertical-align: inherit;">could determine the speed of a particular digram. </font><font style="vertical-align: inherit;">But we must assume that the accuracy of measurement using software methods is now significantly higher. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In summary, the ways to improve the layout optimization model are still not exhausted.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">And we note that now almost every student can calculate their own layout, if only they have a computer at hand. </font><font style="vertical-align: inherit;">Therefore, it is not the fact of the presentation of the new layout that is of particular importance, but the features underlying the mathematical model - how this model differs from the previous ones, what new aspects of the set in it were taken into account, whether it was built on the data on the set of real typesetters, etc.</font></font><br><br><hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> I thank Vitaly Palyanitsa for the constructive dialogue at the beginning of his work, mystes for the statistical data provided, Dmitry Zubachev for motivation, Maxim Vinokurov for several useful comments, as well as everyone who supported me in the course of my work. </font></font></div><p>Source: <a href="https://habr.com/ru/post/210826/">https://habr.com/ru/post/210826/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../210816/index.html">Creating and using Matlab clusters</a></li>
<li><a href="../210818/index.html">Resurrection Sharepoint or how not to burn at the stake of the Inquisition</a></li>
<li><a href="../210820/index.html">About using $ .Deferred to work with asynchronous tasks</a></li>
<li><a href="../210822/index.html">Better to lose a day, and then teleport wherever you want and how much you want</a></li>
<li><a href="../210824/index.html">Splitting web pages into semantic blocks</a></li>
<li><a href="../210828/index.html">Nanex: A Nightmare on Elm Street for High-Speed ‚Äã‚ÄãTrading, Part 4</a></li>
<li><a href="../210830/index.html">The controller is a central home, all-powerful KCD-V-2-12</a></li>
<li><a href="../210832/index.html">How we ported OpenCV to WindowsRT</a></li>
<li><a href="../210834/index.html">Evolution of development in Badoo</a></li>
<li><a href="../210838/index.html">Boost concepts</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>