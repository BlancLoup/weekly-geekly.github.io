<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Initial setup of an APC UPS in Linux from a teapot point of view</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Having bought an uninterruptible power supply from APC (namely, APC Back-UPS ES 550VA), I was surprised to find that ‚Äúout of the box‚Äù it cannot boast ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Initial setup of an APC UPS in Linux from a teapot point of view</h1><div class="post__text post__text-html js-mediator-article"> Having bought an uninterruptible power supply from APC (namely, APC Back-UPS ES 550VA), I was surprised to find that ‚Äúout of the box‚Äù it cannot boast a close friendship with Linux.  Of course, XFCE Power Manager, part of XFCE 4.6, picked up and recognized the UPS, but all he was capable of was displaying the charge level in the tray.  Any settings were missing completely, it was impossible even to set the PC to turn off when a certain charge level was reached. <br><br>  Turning to Google for advice, I learned about the existence of the wonderful demon apcupsd, whose role is to - never believe - the management of the UPS from APC.  But, as it turned out, almost all the guides on its initial configuration were frankly outdated - including, oddly enough, the official manual.  Stumbling had already at the very beginning about "cat / proc / bus / usb / devices".  After talking to Google in a serious and trusting tone, I got him to link to the <a href="https://help.ubuntu.com/community/apcupsd">current manual</a> , whose artistic translation with additions from other sources is this article. <br><a name="habracut"></a><br>  So let's start by installing apcupsd itself: <br><br> <code>sudo apt-get install apcupsd</code> <br> <br>  Of course, this is true for Debian and its derivatives, including Ubuntu.  If apt-get is not used in your distribution, I think you still know how to install the necessary package.  Hope so. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Now we edit the apcupsd configuration file: <br><br> <code>sudo gedit /etc/apcupsd/apcupsd.conf</code> <br> <br>  In this case, we are interested in only three parameters: <br><br>  UPSCABLE - we indicate the type of cable that our UPS is connected to the PC.  The comments indicate the possible types - simple, smart, ether, usb.  The current home models are connected via USB - therefore, it suffices to add usb <br>  UPSTYPE is a type of UPS connected.  The comments list the possible types and the corresponding values ‚Äã‚Äãof the DEVICE parameter, our choice is the usb type. <br>  DEVICE - we will comment out this line by placing a # sign in front of it - it is not needed for USB devices <br><br>  Save the modified configuration file, open the following: <br><br> <code>sudo gedit /etc/default/apcupsd</code> <br> <br>  Replace ISCONFIGURED = no with ISCONFIGURED = yes, save, close.  From now on, apcupsd will know that we have not forgotten to configure it. <br><br>  Now it‚Äôs enough to run apcupsd: <br> <code>sudo /etc/init.d/apcupsd start</code> <br> <br>  If it has already been launched - instead of start, of course, we will need to write restart. <br><br>  Everything, your PC is now connected with the new UPS with strong ties of friendship. <br><br>  And now a little about what we can configure in extensive /etc/apcupsd/apcupsd.conf: <br><br>  ONBATTERYDELAY - the time (in seconds) that determines the delay between the detection of a power failure and the sending of an onbattery event.  Default is 6 <br>  BATTERYLEVEL - the battery charge level (in percent) at which the computer is turned off.  Default is 5 <br>  MINUTES - the estimated time of residual work (in minutes), at which time the computer is turned off.  Default is 3 <br>  TIMEOUT - the parameter is relevant for old UPS, unable to determine its level of charge.  Sets the time (in seconds) between power failure and computer shutdown.  For a modern UPS, the parameter should be left at 0, but setting a different value may be convenient for testing the operation of the UPS.  For example, if you put 30 and pull the cord out of the socket, in half a minute apcupsd will demonstrate his ability to turn off the computer <br><br>  One of the conditions (BATTERYLEVEL, MINUTES or TIMEOUT) is sufficient to turn off the computer.  A finer setting is not described, because its need for a home user is highly questionable. <br><br>  For a long time, a fairy tale affects, but it‚Äôs not a long deal: I suppose the user will perform the described actions in a couple of minutes.  I hope this article will help someone to make friends with its APC UPS with Linux, saving time and not getting stuck in outdated manuals. </div><p>Source: <a href="https://habr.com/ru/post/132099/">https://habr.com/ru/post/132099/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../132092/index.html">Search for talent on Youtube using acoustic analysis</a></li>
<li><a href="../132093/index.html">New way to communicate with Gmail and friends (pages become available on Google+)</a></li>
<li><a href="../132094/index.html">Passion vs professionalism</a></li>
<li><a href="../132095/index.html">How I installed Openmeetings</a></li>
<li><a href="../132098/index.html">Speedy sync of billion files</a></li>
<li><a href="../132102/index.html">PHP Automated Testing</a></li>
<li><a href="../132103/index.html">Sony Ericsson Xperia active overview</a></li>
<li><a href="../132106/index.html">Automate the creation of VPN users in PFSense</a></li>
<li><a href="../132107/index.html">Online redo logs or Checkpoint Event in Oracle</a></li>
<li><a href="../132108/index.html">"Vkontakte" gives out personal data in the search for documents</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>