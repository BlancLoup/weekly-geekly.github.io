<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Perhaps the first game on Dart + Box2D</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="On Habr√© there are not too many articles devoted to the Dart programming language, but there are a lot of articles about unfinished or hard-to-do game...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Perhaps the first game on Dart + Box2D</h1><div class="post__text post__text-html js-mediator-article">  On Habr√© there are not too many articles devoted to the Dart programming language, but there are a lot of articles about unfinished or hard-to-do games, as well as how to make the second ones first.  This article will be a mixture of these two topics. <br><br>  This was the case: my old friend and I have been developing for several years now.  The game, which will be discussed in the article, is far from the first that we tried to do, but the first with which it was possible.  After almost a dozen failed attempts to make the game, we were finally able to objectively evaluate our strength and decided to make a puzzle.  The game genre is simple in itself, but what we conceived was much more complicated and unlike any of the games presented in the VK and FB catalogs in this genre.  In order to completely no chance to finish the game, we decided to use those technologies that had never seen before - Dart + Box2d. <br><a name="habracut"></a><br>  Now about the impressions of the development on the darte.  This is very different from developing in java / c # / php at least in that you cannot google the answer to a slightly complicated question, which at the same time makes you angry and gives you the feeling of a pioneer.  Another significant difference in dampness technology in general, and tools in particular. <br><br><h4>  Dart language </h4><br>  At once I will say that the language was chosen because of the strict typification and the classical approach to the PLO.  Probably, the language is most similar to Java, in general, the code of many methods can be simply inserted into java and they will work without problems, sometimes this trick can pass even with a whole class.  Of the differences, the key, in my opinion, is the support of the procedural paradigm, which <s>somewhat corrupts the code,</s> sometimes allows to simplify the code for solving the problem.  The next <s>blow to security</s> was the lack of access modifiers for classes, methods, and fields.  At first, I resisted the temptation, but then such opportunities took their toll and as a result I received a very strongly connected code, which hardly anyone in this world recognizes as good, but this is hardly a language problem, but rather a lack of experience in general and its complete absence with respect to darth, especially at the very beginning of the journey. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Dart Editor (DE) </h4><br>  DE was made on the basis of Eclipse, which in itself does not make it bad, but makes it wary.  After using DE, it starts to seem like a good corporation has cut out all the nice features of Eclipse at the last moment.  Fortunately, there was a plugin for your beloved PhpStorm, which is also damp, but here at least in the IDE you feel in your native land. <br><br><h4>  Dart pub </h4><br>  It should be said that in terms of packages Google tried very hard.  There is a general catalog of packages, in one click you can get the desired library. <br><br><h4>  The Dartium binary expires after 12 weeks </h4><br>  An absolutely incredible feature of development in this wonderful language was that Dartium (Chromium with a virtual machine for Darth) needs to be downloaded and installed again every 12 weeks, and if this is not done, then DartVM seemed to disappear, and what worked yesterday, at the moment stopped working altogether. <br><br><h4>  Box2d </h4><br>  Box2d for Dart - I want to say right away that I was working with this library for the first time and in the process of studying it there were a few things that surprised me a lot, but over time everything settled in my head, and it became clear that Box as a whole is just what you need and the port is surprisingly good. <br><br><h4>  Dart2JS </h4><br>  Dart2JS is a utility that comes with a development package on a dart, for building a dart code that only a tiny handful of people in the universe can understand, in js, which, as it turns out, is not understood by anyone except the browser.  Although, in fact, this is one of the pleasant moments of development, although that would bring down the project, the first time I had to kill a decent amount of time.  It should be noted that so far have not met a single bug associated with the incorrect construction of JS.  code.  It, by the way, turns out, as one would expect, absolutely unreadable. <br><br><h4>  Dart &amp; JS </h4><br>  Of course, using dart, sometimes there is a desire or / and the need to use JS code, there is generally good tools for this, but it is impossible to use them.  Now I will try to explain.  This is the best library that could be used to work with JS, but for a language so closely related to JS, I think this support should have been transferred to the language level, the syntax might be somewhat similar to using asm from C <br><br>  Now it looks at best something like this: <br><br><pre><code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getUser</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Function callback</span></span></span><span class="hljs-function">)</span></span> { (context[<span class="hljs-string"><span class="hljs-string">'Features'</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> JsObject).callMethod(<span class="hljs-string"><span class="hljs-string">'getUser'</span></span>, [<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> JsFunction.withThis((JsObject obj) { callback(); })]); }</code> </pre> <br><br><h4>  Dart &amp; External Api </h4><br>  I have always been in love with the VK API, it seemed to me and still seems to be an example of a correctly implemented web service API.  Among other things, VK delivers js-library for convenient access to its API.  While developing other applications for social networks, I always liked to use this library, but when I had to turn to it from Dart, it turned the tale into a nightmare, so I tried to hide it in the farthest class of my project and open it less often.  The thing is that, as I said, working with JS in Darth is implemented as a library and requires constant manipulation of objects so.  the lion's share of the time for wrapping Dart objects in a JsObject and extracting from the other JsObject those few data I need, for which this is all started.  But after much suffering, I was able to reduce the points of contact of languages ‚Äã‚Äãto a minimum, taking all the interactions with VkApi into a separate JS file, which processed them and gave them to a specially trained Darth class. <br><br><h4>  Two cubes </h4><br>  The development of the game took much longer than we would like, as is often the case.  In any case, this is the first game that finally managed to finish.  The main problem of its delivery to the masses is likely to be that it turned out to be quite complicated, not even in terms of control, but as a puzzle.  For example, out of 2,000 people who now play it, having spent almost 15,000 attempts, just a dozen people have passed both chapters, although maybe this is the right percentage? <br><br><img src="https://twopeoplesoftware.com/twocubes28340jfddv03jfd/web/img/tutorial/tutorial_ru.gif" alt="image"><br><br>  <b>UPD:</b> Link for those who want to see what happened in the end: <a href="http://vk.com/twocubes">vk.com/twocubes</a> </div><p>Source: <a href="https://habr.com/ru/post/247809/">https://habr.com/ru/post/247809/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../247791/index.html">Experiment: 10 things that I learned, using only water for a month</a></li>
<li><a href="../247793/index.html">Monitoring from Brazil - continue to conquer Latin America</a></li>
<li><a href="../247799/index.html">ATtiny13a: Controller of the STOP signal and the parking lights of the car</a></li>
<li><a href="../247805/index.html">Concurrent programming with CUDA. Part 3: Fundamental GPU algorithms: convolution (reduce), scan (scan) and histogram (histogram)</a></li>
<li><a href="../247807/index.html">Combinatorial algorithms: combination index, partitioning into subsets</a></li>
<li><a href="../247811/index.html">Three-dimensional background for the site in real time on JavaScript using three.js</a></li>
<li><a href="../247813/index.html">Non-personalized recommendations: association method</a></li>
<li><a href="../247815/index.html">Micro-conference UX-Wednesday ‚Ññ21 in the framework of User Experience Russia 2014</a></li>
<li><a href="../247817/index.html">Herringbone, light up! Part 1: Garland and build software for OpenWRT</a></li>
<li><a href="../247819/index.html">New Release Candidate for 3CX Phone System 12.5 (+ demo key!)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>