<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>C ++ Enterprise Edition. Is it possible to?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="C ++ Enterprise Edition 
 What is the "enterprise edition" 





 Surprisingly, for all the time of my work in IT, I have never heard anyone say "ente...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>C ++ Enterprise Edition. Is it possible to?</h1><div class="post__text post__text-html js-mediator-article"><h1 id="c-enterprise-edition">  C ++ Enterprise Edition </h1><br><h2 id="chto-takoe-enterprise-edition">  <strong>What is the "enterprise edition"</strong> </h2><br><p><img src="https://habrastorage.org/webt/sf/re/j2/sfrej2qqfyxr4o8_ne2fcwam6p8.png" alt="c ++ ee"></p><br><p>  Surprisingly, for all the time of my work in IT, I have never heard anyone say "enterprise edition" regarding a programming language, except for Java.  But after all, applications for the corporate segment are written in many programming languages, and the entities with which programmers operate are, if not identical, they are similar.  And for c ++ in particular, I would like to fill the gap of enterprisitism, at least by telling about it. </p><a name="habracut"></a><br><p>  For C ++, the "enterprise edition" is a subset of language and libraries that allows you to "quickly" develop [cross-platform] applications for weakly coupled modular systems with distributed and / or cluster architecture and with applied business logic and, as a rule, high load. </p><br><p>  To continue our conversation, first of all, you need to enter the concepts of <em>application</em> , <em>module</em> and <em>plug-in.</em> </p><br><ul><li>  <strong>An application</strong> is an executable file that can operate as a system service, has its own configuration, can accept parameters as input, and can have a module-plugin structure. </li><li>  <strong>A module</strong> is an interface implementation that lives within an application or business logic. </li><li>  <strong>A plugin</strong> is a dynamically loaded library in which one or several interfaces are implemented, or part of business logic. </li></ul><br><p>  All applications, while performing their unique work, usually need system-wide mechanisms, such as data access (DBMS), information exchange via a common bus (JMS), execution of distributed and local scripts while maintaining consistency (Transactions), processing requests coming for example, via the http (s) (fastcgi) protocol or via websockets, etc ... Each application must have the ability to orchestrate its modules (OSGI), and the distributed system must have the ability to orchestrate applications. </p><br><p>  An example of a distributed weakly coupled system </p><br><p><img src="https://habrastorage.org/webt/pm/oi/99/pmoi99lwrmhf34j1fyvc5f6yz0w.png" alt="system"></p><br><h2 id="prilozhenie">  <strong>application</strong> </h2><br><p>  An example of a "corporate" server application scheme. </p><br><p><img src="https://habrastorage.org/webt/ll/eu/9e/lleu9e1io3kyzn2g-4pht2rt2qk.png" alt="application"></p><br><p>  I have already given a general definition of the application, so let's see what is now in the C ++ world for the implementation of this concept.  The first showed the implementation of the application graphical frameworks such as Qt and GTK, but their application versions initially assumed that the application is a graphical ‚Äúwindow‚Äù with its context and only after a while a general vision of the application appeared, including as a system service, for example <a href="https://github.com/qtproject/qt-solutions/tree/master/qtservice">qtservice</a> .  But we don‚Äôt really want to drag conditionally graphic framework for the service task, so let's look towards non-graphic libraries.  And the first comes to mind is the boost ... But unfortunately in the list of official libraries there is no Boost. Application and the like  There is a separate project <a href="https://github.com/retf/Boost.Application">Boost.Application</a> .  The project is very interesting, but, in my opinion, verbose, although the ideology boost is respected.  Here is an example application from Boost. Application </p><br><pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> BOOST_ALL_DYN_LINK #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> BOOST_LIB_DIAGNOSTIC #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> BOOST_APPLICATION_FEATURE_NS_SELECT_BOOST #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;fstream&gt; #include &lt;iostream&gt; #include &lt;boost/application.hpp&gt; using namespace boost; // my application code class myapp { public: myapp(application::context&amp; context) : context_(context) {} void worker() { // ... while (st-&gt;state() != application::status::stopped) { boost::this_thread::sleep(boost::posix_time::seconds(1)); if (st-&gt;state() == application::status::paused) my_log_file_ &lt;&lt; count++ &lt;&lt; ", paused..." &lt;&lt; std::endl; else my_log_file_ &lt;&lt; count++ &lt;&lt; ", running..." &lt;&lt; std::endl; } } // param int operator()() { // launch a work thread boost::thread thread(&amp;myapp::worker, this); context_.find&lt;application::wait_for_termination_request&gt;()-&gt;wait(); return 0; } bool stop() { my_log_file_ &lt;&lt; "Stoping my application..." &lt;&lt; std::endl; my_log_file_.close(); return true; // return true to stop, false to ignore } private: std::ofstream my_log_file_; application::context&amp; context_; }; int main(int argc, char* argv[]) { application::context app_context; // auto_handler will automatically add termination, pause and resume (windows) // handlers application::auto_handler&lt;myapp&gt; app(app_context); // to handle args app_context.insert&lt;application::args&gt;( boost::make_shared&lt;application::args&gt;(argc, argv)); // my server instantiation boost::system::error_code ec; int result = application::launch&lt;application::server&gt;(app, app_context, ec); if (ec) { std::cout &lt;&lt; "[E] " &lt;&lt; ec.message() &lt;&lt; " &lt;" &lt;&lt; ec.value() &lt;&lt; "&gt; " &lt;&lt; std::endl; } return result; }</span></span></span></span></code> </pre> <br><p>  In the given example, the application <code>myapp</code> is defined with its main worker thread <code>worker</code> and the mechanism for launching this application. <br>  As a supplement, I will give a similar example from the <a href="https://github.com/pocoproject/poco">pocoproject</a> framework </p><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;iostream&gt; #include &lt;sstream&gt; #include "Poco/AutoPtr.h" #include "Poco/Util/AbstractConfiguration.h" #include "Poco/Util/Application.h" #include "Poco/Util/HelpFormatter.h" #include "Poco/Util/Option.h" #include "Poco/Util/OptionSet.h" using Poco::AutoPtr; using Poco::Util::AbstractConfiguration; using Poco::Util::Application; using Poco::Util::HelpFormatter; using Poco::Util::Option; using Poco::Util::OptionCallback; using Poco::Util::OptionSet; class SampleApp : public Application { public: SampleApp() : _helpRequested(false) {} protected: void initialize(Application &amp;self) { loadConfiguration(); Application::initialize(self); } void uninitialize() { Application::uninitialize(); } void reinitialize(Application &amp;self) { Application::reinitialize(self); } void defineOptions(OptionSet &amp;options) { Application::defineOptions(options); options.addOption( Option("help", "h", "display help information on command line arguments") .required(false) .repeatable(false) .callback(OptionCallback&lt;SampleApp&gt;(this, &amp;SampleApp::handleHelp))); } void handleHelp(const std::string &amp;name, const std::string &amp;value) { _helpRequested = true; displayHelp(); stopOptionsProcessing(); } void displayHelp() { HelpFormatter helpFormatter(options()); helpFormatter.setCommand(commandName()); helpFormatter.setUsage("OPTIONS"); helpFormatter.setHeader( "A sample application that demonstrates some of the features of the " "Poco::Util::Application class."); helpFormatter.format(std::cout); } int main(const ArgVec &amp;args) { if (!_helpRequested) { logger().information("Command line:"); std::ostringstream ostr; logger().information(ostr.str()); logger().information("Arguments to main():"); for (const auto &amp;it : args) { logger().information(it); } } return Application::EXIT_OK; } private: bool _helpRequested; }; POCO_APP_MAIN(SampleApp)</span></span></span></span></code> </pre> <br><p>  I draw your attention to the fact that the application must contain mechanisms for logging, loading configurations and processing options. <br>  For example, to process options there are: </p><br><ul><li>  <a href="https://www.boost.org/doc/libs/1_58_0/doc/html/program_options.html">Boost.Program_options</a> </li><li>  <a href="https://pocoproject.org/docs/Poco.Util.Option.html">Poco :: Util :: Option</a> </li><li>  <a href="http://doc.qt.io/qt-5/qcommandlineparser.html">QCommandLineParser</a> </li></ul><br><p>  To configure: </p><br><ul><li>  <a href="https://www.hyperrealm.com/oss_libconfig.shtml">libconfig</a> </li><li>  <a href="https://pocoproject.org/docs/package-Util.Configuration.html">Poco :: Util :: {XML, JSON, Ini, PropertyFile} Configuration</a> </li></ul><br><p>  For journaling: </p><br><ul><li>  <a href="https://www.boost.org/doc/libs/1_69_0/libs/log/doc/html/index.html">Boost.Log v2</a> </li><li>  <a href="https://pocoproject.org/docs/Poco.Logger.html">Poco :: Logger</a> </li><li>  <a href="http://log4cpp.sourceforge.net/">Log4cpp</a> </li></ul><br><h2 id="slabosvyaznost-moduli-i-plaginy">  <strong>Weakly connected, modules and plugins.</strong> </h2><br><p>  Weak connectivity in the "corporate" system is the possibility of a quick and painless replacement of certain mechanisms.  This applies to both modules within the application and the applications themselves, as implementations, for example, microservices.  What we have, in terms of C ++.  With modules, everything is bad, even though they implement interfaces, but they live inside a "compiled" application, so there will not be a quick substitution, but plug-ins come to the rescue!  With the help of dynamic libraries, you can not only organize a quick substitution, but also the simultaneous operation of two different versions.  There is a whole world of "remote procedure call" aka RPC.  Mechanisms to search for interface implementations <a href="https://ru.wikipedia.org/wiki/OSGi">coupled</a> with RPC have generated something similar to <a href="https://ru.wikipedia.org/wiki/OSGi">OSGI</a> from the world of Java.  It's great to have support for this in the C ++ ecosystem and it is, here are a couple of examples: </p><br><p>  Example of the module for the "application server" <a href="https://macchina.io/docs/00210-MacchinaCppProgramming.html">POCO OSP</a> </p><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Poco/OSP/BundleActivator.h"</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Poco/OSP/BundleContext.h"</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Poco/ClassLibrary.h"</span></span></span><span class="hljs-meta"> namespace HelloBundle { class BundleActivator: public Poco::OSP::BundleActivator { public: void start(Poco::OSP::BundleContext::Ptr pContext) { pContext-&gt;logger().information(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Hello, world!"</span></span></span><span class="hljs-meta">); } void stop(Poco::OSP::BundleContext::Ptr pContext) { pContext-&gt;logger().information(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Goodbye!"</span></span></span><span class="hljs-meta">); } }; } </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">// namespace HelloBundle POCO_BEGIN_MANIFEST(Poco::OSP::BundleActivator) POCO_EXPORT_CLASS(HelloBundle::BundleActivator) POCO_END_MANIFEST</span></span></span></span></code> </pre> <br><p>  Sample module for <a href="https://celix.apache.org/docs/celix/documents/getting_started/using_services_with_cxx.html">Apache Celix</a> "servrer" </p><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Bar.h"</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"BarActivator.h"</span></span></span><span class="hljs-meta"> using namespace celix::dm; DmActivator* DmActivator::create(DependencyManager&amp; mng) { return new BarActivator(mng); } void BarActivator::init() { std::shared_ptr</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;Bar&gt; bar = std::shared_ptr&lt;Bar&gt;{new Bar{}}; Properties props; props["meta.info.key"] = "meta.info.value"; Properties cProps; cProps["also.meta.info.key"] = "also.meta.info.value"; this-&gt;cExample.handle = bar.get(); this-&gt;cExample.method = [](void *handle, int arg1, double arg2, double *out) { Bar* bar = static_cast&lt;Bar*&gt;(handle); return bar-&gt;cMethod(arg1, arg2, out); }; mng.createComponent(bar) //using a pointer a instance. Also supported is lazy initialization (default constructor needed) or a rvalue reference (move) .addInterface&lt;IAnotherExample&gt;(IANOTHER_EXAMPLE_VERSION, props) .addCInterface(&amp;this-&gt;cExample, EXAMPLE_NAME, EXAMPLE_VERSION, cProps) .setCallbacks(&amp;Bar::init, &amp;Bar::start, &amp;Bar::stop, &amp;Bar::deinit); }</span></span></span></span></code> </pre> <br><p>  It should be noted that in distributed weakly connected systems, it is necessary to have mechanisms that ensure transactional operations, but at the current time there is nothing like this for C ++.  Those.  as there is no possibility to execute a query to the database, file and esb within a single transaction within one application, there is no such possibility for distributed operations.  Of course, you can write everything, but there is no generalized something.  Someone will say that there is <code>software transactional memory</code> , yes, of course, but this will only facilitate the writing of transactional mechanisms on its own. </p><br><h2 id="instrumentariy">  <strong>Tools</strong> </h2><br><p>  Of all the many auxiliary tools I want to highlight <em>serialization</em> and DSL, because  their presence allows you to implement many other components and scenarios. </p><br><h3 id="serializaciya">  <strong>Serialization</strong> </h3><br><p>  Serialization is the process of translating any data structure into a sequence of bits.  The inverse of the serialization operation is the deserialization (structuring) operation ‚Äî restoring the initial state of the data structure from the <a href="https://ru.wikipedia.org/wiki/%25D0%25A1%25D0%25B5%25D1%2580%25D0%25B8%25D0%25B0%25D0%25BB%25D0%25B8%25D0%25B7%25D0%25B0%25D1%2586%25D0%25B8%25D1%258F">wikipedia</a> bit sequence.  In the context of C ++, it is important to understand that today there is no possibility of serializing objects and transferring them to another program that previously knew nothing about this object.  By object in this case I understand the implementation of a certain class with fields and methods.  Therefore, I will highlight two main approaches used in the C ++ world: </p><br><ul><li>  binary serialization </li><li>  serialization to formalized format </li></ul><br><p>  In literature and the Internet, the division into binary and text format is often found, but I consider this separation to be not entirely correct, for example, <a href="https://github.com/msgpack/msgpack-c/tree/master/include/msgpack">MsgPack</a> does not save information about the type of object, respectively, control is given to the correct display of the programmer and the format MsgPack is binary.  <a href="https://github.com/protocolbuffers/protobuf">Protobuf</a> , on the contrary, saves all the meta information into an intermediate representation, which allows it to be used between different programming languages, while Protobuf is also binary. <br>  So the serialization process, why do we need it.  To reveal all the nuances, we need another article, I will try to explain with examples.  Serialization allows, while remaining in terms of a programming language, to ‚Äúpackage‚Äù software entities (classes, structures) for transmission over the network, for persistent storage, for example, in files and other scripts that, without serialization, force us to invent our own protocols, take into account the hardware and software platform, text encoding, etc. <br>  Here are a couple of examples of libraries for serialization: </p><br><ul><li>  <a href="https://www.boost.org/doc/libs/1_69_0/libs/serialization/doc/index.html">Boost.Serialization</a> </li><li>  <a href="https://github.com/protocolbuffers/protobuf">Protocol buffers</a> </li><li>  <a href="https://github.com/msgpack/msgpack-c/tree/master/include/msgpack">Msgack</a> </li></ul><br><h3 id="dsl">  DSL </h3><br><p>  Domain Specific Language is a programming language for your subject area.  Indeed, when we are engaged in the automation of a company, we are confronted with the customer's subject area and describe all business processes in terms of the subject area, but as soon as it comes to programming, programmers, together with analysts, map the concepts of business processes into concepts framework and programming language.  And if the business processes are not a certain number, but the subject area is defined quite strictly, then it makes sense to create your own DSL, for implementing most of the existing scenarios and adding new ones.  In the c ++ world, there are not so many possibilities for a ‚Äúfast‚Äù implementation of your DSL.  There are, of course, mechanisms for embedding lua, javascript and other programming languages ‚Äã‚Äãin the C ++ program, but who needs vulnerabilities and a potentially uncontrollable execution engine of "everything"?!  So let's look at the tools that DSL can do on its own. </p><br><ul><li>  <a href="https://www.boost.org/doc/libs/1_69_0/doc/html/proto.html">Boost.Proto</a> </li></ul><br><p>  The Boost.Proto library is just created to create your own DSL, this is its direct purpose, here‚Äôs an example </p><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;iostream&gt; #include &lt;boost/proto/proto.hpp&gt; #include &lt;boost/typeof/std/ostream.hpp&gt; using namespace boost; proto::terminal&lt; std::ostream &amp; &gt;::type cout_ = { std::cout }; template&lt; typename Expr &gt; void evaluate( Expr const &amp; expr ) { proto::default_context ctx; proto::eval(expr, ctx); } int main() { evaluate( cout_ &lt;&lt; "hello" &lt;&lt; ',' &lt;&lt; " world" ); return 0; }</span></span></span></span></code> </pre> <br><ul><li>  <a href="https://ftp.gnu.org/old-gnu/Manuals/flex-2.5.4/html_node/flex_5.html">Flex</a> and <a href="http://www.gnu.org/software/bison/manual/html_node/A-Simple-C_002b_002b-Example.html">bison</a> based implementations </li></ul><br><p>  Flex and Bison are used to generate lexers and parsers of grammars invented by you.  The syntax is not simple, but it solves the problem effectively. <br>  Sample code to generate lexer </p><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/* scanner for a toy Pascal-like language */</span></span> %{ <span class="hljs-comment"><span class="hljs-comment">/* need this for the call to atof() below */</span></span> <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;math.h&gt; %} DIGIT [0-9] ID [az][a-z0-9]* %% {DIGIT}+ { printf( "An integer: %s (%d)\n", yytext, atoi( yytext ) ); } {DIGIT}+"."{DIGIT}* { printf( "A float: %s (%g)\n", yytext, atof( yytext ) ); } if|then|begin|end|procedure|function { printf( "A keyword: %s\n", yytext ); } {ID} printf( "An identifier: %s\n", yytext ); "+"|"-"|"*"|"/" printf( "An operator: %s\n", yytext ); "{"[^}\n]*"}" /* eat up one-line comments */ [ \t\n]+ /* eat up whitespace */ . printf( "Unrecognized character: %s\n", yytext ); %% main( argc, argv ) int argc; char **argv; { ++argv, --argc; /* skip over program name */ if ( argc &gt; 0 ) yyin = fopen( argv[0], "r" ); else yyin = stdin; yylex(); }</span></span></span></span></code> </pre> <br><p>  <a href="https://en.wikipedia.org/wiki/SCXML">Also</a> , there is the <a href="https://en.wikipedia.org/wiki/SCXML">SCXML</a> - State Chart XML specification: State Machine Notation for Control Abstraction, a description of the state machine in an XML-like markup.  This is not exactly DSL, but also a convenient mechanism for automating processes without programming.  <a href="https://doc.qt.io/qt-5/qtscxml-module.html">Qt SCXML</a> has excellent implementation.  There are other implementations, but they are not so flexible. <br>  This is an example of an FTP client in SCXML notation, an example is taken from the <a href="http://doc.qt.io/qt-5/qtscxml-ftpclient-simpleftp-scxml.html">Qt Documentation</a> website </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">scxml</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2005/07/scxml"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">version</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1.0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"FtpClient"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">datamodel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ecmascript"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">state</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"G"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">initial</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"I"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">transition</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">event</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"reply"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">target</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"E"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">transition</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">event</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"cmd"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">target</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"F"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">state</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"I"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">transition</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">event</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"reply.2xx"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">target</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"S"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">state</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">state</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"B"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">transition</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">event</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"cmd.DELE cmd.CWD cmd.CDUP cmd.HELP cmd.NOOP cmd.QUIT cmd.SYST cmd.STAT cmd.RMD cmd.MKD cmd.PWD cmd.PORT"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">target</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"W.general"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">transition</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">event</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"cmd.APPE cmd.LIST cmd.NLST cmd.REIN cmd.RETR cmd.STOR cmd.STOU"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">target</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"W.1xx"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">transition</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">event</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"cmd.USER"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">target</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"W.user"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">state</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"S"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">state</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"F"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">state</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">state</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"W"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">onentry</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">send</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">eventexpr</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"&amp;quot;submit.&amp;quot; + _event.name"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">param</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"params"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">expr</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"_event.data"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">send</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">onentry</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">transition</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">event</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"reply.2xx"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">target</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"S"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">transition</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">event</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"reply.4xx reply.5xx"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">target</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"F"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">state</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"W.1xx"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">transition</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">event</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"reply.1xx"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">target</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"W.transfer"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">state</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">state</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"W.transfer"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">state</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"W.general"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">state</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"W.user"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">transition</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">event</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"reply.3xx"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">target</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"P"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">state</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">state</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"W.login"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">state</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">state</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"P"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">transition</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">event</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"cmd.PASS"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">target</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"W.login"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">state</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">state</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">final</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"E"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">scxml</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  And this is how it looks in the SCXML visualizer. </p><br><p><img src="https://habrastorage.org/webt/sp/px/el/sppxel3knf9thypwu48mpztorqy.png" alt="Ftp-client-scxml"></p><br><h2 id="dostup-k-dannym-i-integraciya">  Data Access and Integration </h2><br><p>  This is perhaps one of the most "pressing" topics in the world with ++.  The world of data for a c ++ developer is always connected with the need to be able to display them on the essence of a programming language.  A row in a table is in an object or structure, json is in a class, and so on.  In the absence of reflection, this is a huge problem, but we, with ++ nicknames, do not despair and find various ways out of the situation.  Let's start with the DBMS. </p><br><p>  Now I will be trivial, but ODBC is the only universal access mechanism for relational databases, but we haven't come up with other options yet, but with ++ the community is not in place and today there are libraries and frameworks providing generic access interfaces to several DBMS. <br>  First of all, I will mention libraries that provide unified access to the DBMS using client libraries and SQL </p><br><ul><li>  <a href="https://github.com/SOCI/soci">SOCI</a> </li><li>  <a href="https://pocoproject.org/docs/Poco.Data.Session.html">Poco :: Data :: Session</a> </li><li>  <a href="http://www.sqlapi.com/index.html">SQLAPI ++</a> </li></ul><br><p>  All of them are good, but they make you remember the nuances of displaying data from the database into objects and structures with ++, plus the efficiency of SQL queries falls right on your shoulders. <br>  The following examples are ORM in C ++.  Yes there are such!  And by the way, SOCI, supports ORM mechanisms, through the specialization soci :: type_conversion, but I deliberately did not include it, since this is not its direct purpose. </p><br><ul><li>  <a href="https://sourceforge.net/projects/litesql/">LiteSQL C ++</a> - ORM, which allows you to interact with SQLite3, PostgreSQL, MySQL DBMS.  This library requires the programmer to pre-issue the xml-files with the description of objects and relations, so that using litesql-gen to generate additional sources. </li><li>  <a href="https://codesynthesis.com/products/odb/">ODB from Code Synthesis</a> is a very interesting ORM, it allows you to stay within C ++, I do not use intermediate description files, here is a small example: </li></ul><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">pragma</span></span></span><span class="hljs-meta"> db object class person { </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">// ... private: friend class odb::access; person () {} #pragma db id string email_; string name_; unsigned short age_; }; // ... odb::sqlite::database db ("people.db"); person john ("john@doe.org", "John Doe", 31); odb::transaction t (db.begin ()); db.persist (john); typedef odb::query&lt;person&gt; person_query; for (person&amp; p: db.query&lt;person&gt; (person_query::age &lt; 30)); cerr &lt;&lt; p &lt;&lt; endl; jane.age (jane.age () + 1); db.update (jane); t.commit ();</span></span></span></span></code> </pre><br><ul><li>  <a href="https://www.webtoolkit.eu/wt">Wt ++</a> is a large framework, you can write a separate article about it, it also contains an ORM, which can interact with Sqlite3, Firebird, MariaDB / MySQL, MSSQL Server, PostgreSQL and Oracle. </li><li>  Separately, I want to mention the ORM over sqlite <a href="https://github.com/fnc12/sqlite_orm">sqlite_orm</a> and <a href="https://github.com/paulftw/hiberlite">hiberlite</a> .  Since sqlite is embedded DBMS, and ORM checks requests for it, and indeed all interaction with the database, in compile-time, the tool becomes very convenient for rapid deployment and prototyping. </li><li>  <a href="https://sourceforge.net/projects/qhibernate/">QHibernate</a> - ORM for Qt5 with Postgresql support.  Soaked with hibernate ideas from java. </li></ul><br><p>  Although integration via DBMS is considered "integration", I would prefer to leave it behind the brackets and move on to integration through protocols and APIs. </p><br><ul><li><p>  RPC - remote porocess call, the well-known technique of interaction between the "client" and the "server".  As in the case of c ORM, the main difficulty is to write / generate various auxiliary files for linking the protocol with real functions in the code.  I will deliberately not mention the various RPCs implemented directly in the operating system, but focus on cross-platform solutions. </p><br><ul><li>  <a href="https://github.com/grpc/grpc">grpc</a> is a framework for remote procedure call from Google, a very popular and effective framework from google.  Basically, it uses google protobuf, I mentioned it in the serialization section, it supports many programming languages, but in the corporate environment it‚Äôs still new. </li><li>  json-rpc - RPC, where JSON is used as a protocol, a good example of implementation is the library <a href="https://github.com/cinemast/libjson-rpc-cpp">libjson-rpc-cpp</a> , here is an example of the description file: </li></ul><br><pre> <code class="json hljs">[ { <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"sayHello"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"params"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"Peter"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"returns"</span></span> : <span class="hljs-string"><span class="hljs-string">"Hello Peter"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"name"</span></span> : <span class="hljs-string"><span class="hljs-string">"notifyServer"</span></span> } ]</code> </pre> <br><p>  Based on this description, client and server code is generated, which can be used in your application.  In general, there is a specification for JSON-RPC <a href="https://www.jsonrpc.org/specification">1.0 and 2.0</a> .  So, calling a function from a web application and processing in C ++ is not difficult. </p><br><ul><li>  XML-RPC and SOAP - there is an obvious leader - this is <a href="https://www.genivia.com/dev.html">gSOAP</a> , a very powerful library, I don‚Äôt think there are worthy alternatives.  As well as in the previous example, we create an intermediate file with xml-rpc or soap content, set the generator on it, get the code and use it.  Typical examples of request and response in the xml-rpc notation: </li></ul><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">methodCall</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">methodName</span></span></span><span class="hljs-tag">&gt;</span></span>examples.getState<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">methodName</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">params</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">param</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">i4</span></span></span><span class="hljs-tag">&gt;</span></span>41<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">i4</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">param</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">params</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">methodCall</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">methodResponse</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">params</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">param</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>State-Ready<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">param</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">params</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">methodResponse</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><ul><li>  <a href="https://pocoproject.org/pro/docs/Poco.RemotingNG.html">Poco :: RemotingNG</a> is a very interesting project from pocoproject.  Allows you to determine which classes, functions, etc.  can be called remotely using annotations in the comments.  Here is an example </li></ul><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> <span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> GroupID; <span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">string</span></span> GroupName; <span class="hljs-comment"><span class="hljs-comment">//@ serialize struct Group { Group(GroupID _id_, const GroupName &amp;_name_) : id(_id_), name(_name_) {} Group() {} //@ mandatory=false GroupID id; //@ mandatory=false GroupName name; }; // ... //@ remote class EXTERNAL_API GInfo { public: typedef Poco::SharedPtr&lt;GInfo&gt; Ptr; GInfo(); virtual Group getGroup() const = 0; virtual ~GInfo(); };</span></span></code> </pre> <br><p>  For generation of auxiliary code own "compiler" is used.  For a long time, this functionality was only in the paid version of the POCO Framework, but with the advent of the <a href="">macchina.io</a> project, you can use it for free. </p><br></li><li><p>  Messaging is a somewhat broad concept, but I will analyze it from the point of view of exchanging messages over a common data bus, namely, I will go through the libraries and servers that implement the Java Message Service using various protocols, such as <a href="https://ru.wikipedia.org/wiki/AMQP">AMQP</a> or <a href="https://stomp.github.io/">STOMP</a> .  The shared data bus, also called Enterprise Servise Bus (ESB), is very common in enterprise segment solutions, since  allows you to quickly integrate various elements of the IT-infrastructure among themselves, using the pattern of "point-to-point" and "publication-subscription".  There are few industrial brokers of messages written in C ++, I know two: <a href="https://qpid.apache.org/components/cpp-broker/index.html">Apache Qpid</a> and <code>UPMQ</code> , and the second is written by me and is still a closed project.  There is also <a href="https://mosquitto.org/">Eclipse Mosquitto</a> , but it is written in <a href="https://mosquitto.org/">C.</a>  The beauty of JMS for java is that your code does not depend on the protocol that the client and server use, JMS as ODBC, declares functions and behavior, so you can change the JMS provider at least once a day and not rewrite the code for C ++ is unfortunately not.  You will have to rewrite the client part for each provider.  I will list, in my opinion, the most popular C ++ libraries for equally popular message brokers: </p><br><ul><li>  <a href="http://activemq.apache.org/activemq-c-clients.html">ActiveMQ-CPP</a> is the client library for the Apache AcriveMQ broker, which is written in java. </li><li>  <a href="https://github.com/mfontanini/cppkafka">Apache Kafka C ++ client - cppkafka</a> </li><li>  <a href="https://www.rabbitmq.com/devtools.html">RabbitMQ C ++ libs</a> is probably the most popular message broker, it has several C / C ++ libraries. </li><li>  <a href="https://www.ibm.com/support/knowledgecenter/en/SSFKSJ_7.5.0/com.ibm.mq.ref.dev.doc/q111330_.htm">IBM WebSphere MQ C ++ classes</a> is proprietary, but with very advanced functionality. </li><li>  <a href="https://docs.oracle.com/cd/A87860_01/doc/ois.817/a65435/cpp.htm">Oracle Message Broker C ++ API</a> too, from Oracle </li><li>  <a href="https://msdn.microsoft.com/ru-ru/library/windows/desktop/ms711472(v%3Dvs.85).aspx">MSMQ</a> - Microsoft version </li></ul><br><p>  The principle on which these libraries provide general functionality is generally consistent with the JMS specification.  In this regard, there is a desire to gather a group of like-minded people and write some sort of ODBC, but for message brokers, so that each C ++ programmer suffers a little less than usual. </p><br></li></ul><br><h2 id="setevoe-vzaimodeystvie">  Networking </h2><br><p>  I deliberately left everything connected directly with the network interaction last, because  In this field, C ++ developers have the least problems in my opinion.  It remains only to choose the pattern that is closest to your decision, and the framework that implements it.  Before listing the most popular libraries, I want to point out an important detail in developing my own network applications.  If you decide to invent your own protocol over TCP or UDP, be prepared that all sorts of "smart" security tools will block your traffic, so take care to package your protocol, for example, in https or there may be problems.  So, libraries: </p><br><ul><li>  <a href="https://www.boost.org/doc/libs/1_69_0/doc/html/boost_asio.html">Boost.Asio</a> and <a href="https://www.boost.org/doc/libs/1_69_0/libs/beast/doc/html/index.html">Boost.Beast</a> - one of the most popular implementations for asynchronous network interaction, there is support for HTTP and WebSockets </li><li>  <a href="https://pocoproject.org/docs/Poco.Net.html">Poco :: Net</a> is also a very popular solution, and besides the raw interaction, you can use ready-made TCP Server Framework classes, Reactor Framework, as well as client and server classes for HTTP, FTP and E-Mail.  There is also support for WebSockets </li><li>  <a href="https://github.com/DOCGroup/ACE_TAO">ACE</a> - never used this library, but colleagues say that the library is also worth attention, with an integrated approach for the implementation of network applications and not only. </li><li>  <a href="http://doc.qt.io/qt-5/qtnetwork-index.html">Qt Network</a> - the network part is well implemented in Qt.  The only point of contention is signals and slots for servreri solutions, although the server is on Qt!? </li></ul><br><h2 id="itogo">  Total </h2><br><p>  So, what I wanted to say is the review of these libraries.  If I succeeded, then you left the impression that the "enterprise edition", as it were, is there, but there are no solutions for its implementation and use, only the zoo of libraries.  So it really is.  There are more or less holistic libraries for developing applications for the corporate segment, but there is no standard solution.  From myself I can only recommend <a href="https://pocoproject.org/">pocoproject</a> and <a href="https://macchina.io/">maccina.io</a> as a starting point in researching backend and boost solutions for any cases, and of course I am looking for like-minded people to promote the concept of "C ++ Enterprise Edition"! </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/455726/">https://habr.com/ru/post/455726/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../455710/index.html">Why do we need our own development department for 200 people in Leroy Merlin?</a></li>
<li><a href="../455714/index.html">Automatically export Google Forms to Notion using IFTTT and Django</a></li>
<li><a href="../455716/index.html">15 recommendations for deploying business intelligence software</a></li>
<li><a href="../45572/index.html">How not to get a job</a></li>
<li><a href="../455720/index.html">How we build a UI for advertising systems</a></li>
<li><a href="../455728/index.html">We make our almost Extended Floating Action Button</a></li>
<li><a href="../45573/index.html">Vista Bridge Library</a></li>
<li><a href="../455730/index.html">Install MacOS High Sierra, when only WiFi is at hand</a></li>
<li><a href="../455734/index.html">Habit do now</a></li>
<li><a href="../455738/index.html">How to earn a billion by monetizing your data?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>