<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Continuous Integration for Android</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="After the implementation of a couple of projects for Android, it became clear that, despite their small size and apparent simplicity, we cannot do wit...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Continuous Integration for Android</h1><div class="post__text post__text-html js-mediator-article">  After the implementation of a couple of projects for Android, it became clear that, despite their small size and apparent simplicity, we cannot do without automated builds and testing.  The desire to get the following features was born: <br><ul><li>  unit testing, </li><li>  integration testing </li><li>  interface testing, </li><li>  testing these types of tests on different versions of Android and device configurations, </li><li>  sending by email in case of a broken build; </li><li>  the automatic assembly of releases does not hurt either. </li></ul><a name="habracut"></a><br>  Almost immediately came <a href="http://testdroid.com/">across the testdroid.com</a> site, which offers almost everything the same, and even more (testing on real devices), but, of course, for denyuzhku. <br>  In this regard, after two weeks of research, the choice was made on a bundle on Jenkins + build scripts on Ant (under Windows). <br><br>  So, how to raise it all ?! <br><br><h4>  Prerequisites: </h4><br><ol><li>  Suppose we have already created, in some way, the project MyProject.  And to it is a project for testing MyProjectTest (there is at least one test in the test project).  And let there be a folder with projects in the directory d: \ projects \ MyProject \ trunk \.  My project sources are stored under SVN. </li><li>  This manual is written using Android SDK version 16 (http://developer.android.com/sdk/index.html).  If you have a different version, you may have to do something differently. </li></ol><br><h4>  Step 1. Setting environment variables (optional, but easier). </h4><br>  Create the <b>ANDROID_HOME</b> variable in the system environment (System variables) and specify in its value the path to the Android SDK folder.  I have this way D: \ android \ android-sdk-windows. <br>  We also add the value <b>;% ANDROID_HOME% \ platform-tools to the</b> Path variable. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Step 2. Install Ant </h4><br>  Download the zip-archive from http://ant.apache.org/bindownload.cgi and unpack it into some folder (for example d: \ server \ android \ ant).  The ant \ bin folder also needs to be added to the system environment variable Path. <br><br><h4>  Step 3. Preparing a build script for ant. </h4><br>  Google in the Android SDK has the ability to generate ant-scripts for building projects. To do this, you need to execute the following commands in the project's trunk folder: <br><ol><li>  To create a build script for the main project: <br><blockquote><ol><li> <code><font color="black">android update project -p MyProject</font></code> </li> </ol></blockquote><br></li><li>  To create a build script for a test project: <br><blockquote><ol><li>  android update test-project -m .. \ MyProject -p MyProjectTest </li></ol></blockquote></li></ol><br>  Options for Android SDK &lt;14 version can be viewed <a href="https://wiki.jenkins-ci.org/display/JENKINS/Building%2Ban%2BAndroid%2Bapp%2Band%2Btest%2Bproject" title="https://wiki.jenkins-ci.org/display/JENKINS/Building+an+Android+app+and+test+project">here</a> . <br><br><h4>  Step 4. Check the project build (optional again). </h4><br><ol><li>  Go to the trunk \ MyProject \ folder and run the command: <br><blockquote><ol><li>  ant clean debug </li></ol></blockquote>  at the end of execution something should be written <br><blockquote><ol><li>  BUILD SUCCESSFUL </li><li>  Total time: <font color="#cc66cc">5</font> seconds </li></ol></blockquote>  This means that the project was successfully assembled. <br></li><li>  Run the Android emulator and in the folder trunk \ MyProjectTest run <br><blockquote><ol><li>  ant all clean emma debug install test </li></ol></blockquote>  The build will last a little longer, in my case it was 35 seconds.  In the process, the debug builds of MyProject and MyProjectTest will be assembled, installed on the running emulator, and the tests run. <br></li></ol><br><h4>  Step 5. Installing Jenkins. </h4><br>  Go to http://jenkins-ci.org/, there are links to distributions on the right, download and install.  By default, it is installed and provides the web interface at http://127.0.0.1:8080/. <br><br>  There is a small problem.  By default, the Jenkins service starts from under the System user account, which makes it impossible for the plug-in driver to create emulators in the home folder of the account.  The user needs to change either to your account, or create a special account for Jenkins. <br><br>  If someone suddenly does not know, you need to go to Computer Management (the easiest way: Start&gt; Computer (right click)&gt; Manage), then select Services and Applications&gt; Services, find the Jenkins&gt; Properties&gt; LogOn tab.  After changing the account service must be restarted. <br><br><h4>  Step 6. Configure Jenkins. </h4><br>  So, zahoidm at http://127.0.0.1:8080/, choose <strong>Manage Jenkins,</strong> then choose <strong>Manage Plugins</strong> .  Click on the <strong>Available Plugins</strong> tab.  If it's empty here, wait a while, Jenkins just hasn't loaded them yet. <br>  We will need the following: <br><ul><li>  Jenkins Emma plugin </li><li>  Android Emulator Plugin </li><li>  Hudson Port Allocator Plug-in </li><li>  ant </li></ul><br>  Perhaps some of them you have already been installed initially. <br>  In my case, I also needed to install the Subversion Plugin, since my project was in SVN.  If your project is under another SCM, do not forget to install a plugin for it. <br>  Now, click the ‚Äú <strong>Install without restart</strong> ‚Äù button at the bottom, in the process you can put a checkmark <strong>"Restart Jenkins when the</strong> machine is restarted and the plugins are working. <br>  Next, go to <strong>Manage Jenkins&gt; Configure System</strong> .  Here <br><ol><li>  In the Android section, you need to register the Android SDK root (as already mentioned above, in our case it is D: \ android \ android-sdk-windows) </li><li>  To send an email if a build breaks, it is also worth completing the E-mail Notification section. </li></ol><br>  Now create a task for Jenkins.  On the main page, click <strong>New Job</strong> , enter the name, the type of the job, select <strong><em>Build a free-style software project</em></strong> . <br><br>  Here it is necessary to fill in the following sections: <br><ol><li>  <strong>Source Code Management</strong> - choose the type of your version control system and enter the necessary parameters.  Attention!  It is necessary that only the trunk folder be pulled out of the repository, otherwise you will need to correct all the paths that will be further in the settings for the Jenkins task. </li><li>  <strong>Build Triggers</strong> - choose Poll SCM and write there * * * * *.  This will mean that Jenkns will check the repository once a minute and, if there are new commits, run the build.  For assembly every 5 minutes you can specify * / 5 * * * *. </li><li>  <strong>Build Environment</strong> - Better tick Assign unique TCP ports to avoid collisions. </li><li>  <strong>Run an Android emulator during build</strong> .  Fill emulator parameters, for example <br><ul><li>  Android OS Version: 2.1 (Make sure that this version is downloaded from your SDK) </li><li>  Screen density: 240 </li><li>  Screen resolution: WVGA </li><li>  Device locale: en_US </li><li>  SD card size: 16M </li></ul></li><li>  Build section, add Invoke Ant, in here <br><ul><li>  Target: all clean emma debug install test </li><li>  Build File: QuickMeetingTest \ build.xml </li><li>  Properties: sdk.dir = D: \\ android \\ android-sdk-windows (exactly, with double slashes) </li></ul><br></li><li>  Post-build Actions <br><ul><li>  Archive the artifacts: ** / * test-TEST.xml </li><li>  Publish JUnit test result report: ** / * test-TEST.xml </li><li>  Record Emma coverage report: ** / coverage.xml </li><li>  Trackpoint files ** / * test-TEST.xml </li></ul><br></li><li>  E-mail Notification - customize to your liking. </li></ol><br>  Actually, with the setting of Jenkins almost finished, but do not rush, yet everything is not ready. <br><br>  There are two problems. <br><br><h5>  Problem 1. </h5><br>  Standard InstrumentationTestRunner does not generate xml with test results.  Therefore, MyProjectTest need a little twist. <br><ol><li>  Go to http://code.google.com/p/the-missing-android-xml-junit-test-runner/ Download polidea_test_runner_1.1.jar from there, put it in trunk \ MyProjectTest \ libs and add Java Build Path \ Libraries in the project properties. </li><li>  In AndroidManifest.xml, we change &lt;instrumetation&gt; so that it looks like this: <br><blockquote><ol><li>  <font color="#009900"><font color="#800000"><b>&lt;instrumentation</b></font></font> </li><li>  <font color="#009900"><font color="#000066">android: name</font> = <font color="#ff0000">"pl.polidea.instrumentation.PolideaInstrumentationTestRunner"</font></font> </li><li>  <font color="#009900"><font color="#000066">android: targetPackage</font> = <font color="#ff0000">"com.example.MyProject"</font> <font color="#800000"><b>/&gt;</b></font></font> </li></ol></blockquote><br></li><li>  Add a line in the project.properties file <br><blockquote><ol><li>  test.runner <font color="#000066"><b>=</b></font> <font color="#660066">pl.polidea.instrumentation.PolideaInstrumentationTestRunner</font> </li></ol></blockquote><br></li><li>  And in line <blockquote><ol><li>  <font color="#808080"><i>&lt;! - version-tag: 1 -&gt;</i></font> </li></ol></blockquote>  change 1 to custom (it is necessary that your changes in this vayle are not overwritten during the next android update). </li></ol><br><h5>  Problem 2. </h5><br>  The xml file with the results of the test run and the file with the results of the verification of coverage is generated on the device.  They need to get out of there to Jenkins picked up. <br>  The main ant script, which actually builds the project is in $ {sdk.dir} /tools/ant/build.xml and is imported into the project build script <br><blockquote><ol><li>  <font color="#009900"><font color="#800000"><b>&lt;import</b></font> <font color="#000066">file</font> = <font color="#ff0000">"$ {sdk.dir} /tools/ant/build.xml"</font> <font color="#800000"><b>/&gt;</b></font></font> </li></ol></blockquote><br><ol><li>  Go to $ {sdk.dir} /tools/ant/build.xml, take the whole &lt;target name = "test" ../&gt; section from there and paste it into our build.xml in the test project before the above import of the main script. <br>  This overrides the challenge call test and, when we modify it, our changes will work. <br></li><li>  In &lt;target name = "test" ../&gt; in our build.xml we are looking <br><blockquote><ol><li>  <font color="#009900"><font color="#800000"><b>&lt;html</b></font> <font color="#000066">outfile</font> = <font color="#ff0000">"coverage / coverage.html"</font> <font color="#800000"><b>/&gt;</b></font></font> </li></ol></blockquote><br>  and add next <br><blockquote><ol><li>  <font color="#009900"><font color="#800000"><b>&lt;xml</b></font> <font color="#000066">outfile</font> = <font color="#ff0000">"coverage / coverage.xml"</font> <font color="#800000"><b>/&gt;</b></font></font> </li></ol></blockquote><br></li><li>  And at the end, before <strong>&lt;/ target&gt; we</strong> insert the code to pull the test results from the emulator: <br><blockquote><ol><li>  <font color="#009900"><font color="#800000"><b>&lt;mkdir</b></font> <font color="#000066">dir</font> = <font color="#ff0000">"$ {basedir} / junit-results"</font> <font color="#800000"><b>/&gt;</b></font></font> </li><li>  <font color="#009900"><font color="#800000"><b>&lt;exec</b></font> <font color="#000066">executable</font> = <font color="#ff0000">"$ {adb}"</font> <font color="#000066">failonerror</font> = <font color="#ff0000">"true"</font> <font color="#000066">dir</font> = <font color="#ff0000">"$ {basedir} / junit-results"</font> <font color="#800000"><b>&gt;</b></font></font> </li><li>  <font color="#009900"><font color="#800000"><b>&lt;arg</b></font> <font color="#000066">line</font> = <font color="#ff0000">"$ {adb.device.arg}"</font> <font color="#800000"><b>/&gt;</b></font></font> </li><li>  <font color="#009900"><font color="#800000"><b>&lt;arg</b></font> <font color="#000066">value</font> = <font color="#ff0000">"pull"</font> <font color="#800000"><b>/&gt;</b></font></font> </li><li>  <font color="#009900"><font color="#800000"><b>&lt;arg</b></font> <font color="#000066">value</font> = <font color="#ff0000">"/data/data/${tested.manifest.package}/files/"</font> <font color="#800000"><b>/&gt;</b></font></font> </li><li>  <font color="#009900"><font color="#800000"><b>&lt;/ exec <font color="#800000"><b>&gt;</b></font></b></font></font> </li></ol></blockquote></li></ol><br><h4>  Step 7. Adding UI tests. </h4><br>  For this there is a handy tool <strong>Robotium</strong> .  You can <a href="http://code.google.com/p/robotium/">get</a> here <a href="http://code.google.com/p/robotium/">code.google.com/p/robotium</a> . <br>  Setup: <br><ol><li>  Download robotium-solo-3.1.jar (currently the latest version), put it in trunk \ MyProjectTest \ libs. </li><li>  Add in project properties in Java Build Path \ Libraries </li><li>  Create a test class and inherit it from ActivityInstrumentationTestCase2 &lt;MyActivity&gt;, in the constructor there should be a call of the form <br><blockquote><ol><li>  <font color="#000000"><b>super</b></font> <font color="#009900">(</font> <font color="#0000ff">"com.example.myproject"</font> , MyActivity. <font color="#000000"><b>class</b></font> <font color="#009900">)</font> <font color="#339933">;</font> </li></ol></blockquote><br>  where ‚Äúcom.example.myproject‚Äù is the package of the project under test, MyActivity is the Activity under test. </li><li>  Add lines to class <br><blockquote><ol><li>  <font color="#000000"><b>private</b></font> solo solo <font color="#339933">;</font> </li><li></li><li>  @Override </li><li>  <font color="#000000"><b>public</b></font> <font color="#000066"><b>void</b></font> setUp <font color="#009900">(</font> <font color="#009900">)</font> <font color="#000000"><b>throws</b></font> <font color="#003399">Exception</font> <font color="#009900">{</font> </li><li>  solo <font color="#339933">=</font> <font color="#000000"><b>new</b></font> Solo <font color="#009900">(</font> getInstrumentation <font color="#009900">(</font> <font color="#009900">)</font> , getActivity <font color="#009900">(</font> <font color="#009900">)</font> <font color="#009900">)</font> <font color="#339933">;</font> </li><li>  <font color="#009900">}</font> </li><li></li><li>  @Override </li><li>  <font color="#000000"><b>public</b></font> <font color="#000066"><b>void</b></font> tearDown <font color="#009900">(</font> <font color="#009900">)</font> <font color="#000000"><b>throws</b></font> <font color="#003399">Exception</font> <font color="#009900">{</font> </li><li>  solo.  <font color="#006633">finishOpenedActivities</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">;</font> </li><li>  <font color="#009900">}</font> </li></ol></blockquote></li></ol><br>  and then you can write tests like <br><blockquote><ol><li>  <font color="#000000"><b>public</b></font> <font color="#000066"><b>void</b></font> testPreferenceIsSaved <font color="#009900">(</font> <font color="#009900">)</font> <font color="#000000"><b>throws</b></font> <font color="#003399">Exception</font> <font color="#009900">{</font> </li><li></li><li>  solo.  <font color="#006633">sendKey</font> <font color="#009900">(</font> Solo. <font color="#006633">MENU</font> <font color="#009900">)</font> <font color="#339933">;</font> </li><li>  solo.  <font color="#006633">clickOnText</font> <font color="#009900">(</font> <font color="#0000ff">"More"</font> <font color="#009900">)</font> <font color="#339933">;</font> </li><li>  solo.  <font color="#006633">clickOnText</font> <font color="#009900">(</font> <font color="#0000ff">"Preferences"</font> <font color="#009900">)</font> <font color="#339933">;</font> </li><li>  solo.  <font color="#006633">clickOnText</font> <font color="#009900">(</font> <font color="#0000ff">"Edit File Extensions"</font> <font color="#009900">)</font> <font color="#339933">;</font> </li><li>  <font color="#000000"><b>Assert</b></font> .  <font color="#006633">assertTrue</font> <font color="#009900">(</font> solo. <font color="#006633">searchText</font> <font color="#009900">(</font> <font color="#0000ff">"rtf"</font> <font color="#009900">)</font> <font color="#009900">)</font> <font color="#339933">;</font> </li><li></li><li>  solo.  <font color="#006633">clickOnText</font> <font color="#009900">(</font> <font color="#0000ff">"txt"</font> <font color="#009900">)</font> <font color="#339933">;</font> </li><li>  solo.  <font color="#006633">clearEditText</font> <font color="#009900">(</font> <font color="#cc66cc">2</font> <font color="#009900">)</font> <font color="#339933">;</font> </li><li>  solo.  <font color="#006633">enterText</font> <font color="#009900">(</font> <font color="#cc66cc">2</font> , <font color="#0000ff">"robotium"</font> <font color="#009900">)</font> <font color="#339933">;</font> </li><li>  solo.  <font color="#006633">clickOnButton</font> <font color="#009900">(</font> <font color="#0000ff">"Save"</font> <font color="#009900">)</font> <font color="#339933">;</font> </li><li>  solo.  <font color="#006633">goBack</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">;</font> </li><li>  solo.  <font color="#006633">clickOnText</font> <font color="#009900">(</font> <font color="#0000ff">"Edit File Extensions"</font> <font color="#009900">)</font> <font color="#339933">;</font> </li><li>  <font color="#000000"><b>Assert</b></font> .  <font color="#006633">assertTrue</font> <font color="#009900">(</font> solo. <font color="#006633">searchText</font> <font color="#009900">(</font> <font color="#0000ff">"application / robotium"</font> <font color="#009900">)</font> <font color="#009900">)</font> <font color="#339933">;</font> </li><li></li><li>  <font color="#009900">}</font> </li></ol></blockquote><br>  Details can be found here <a href="http://code.google.com/p/robotium/w/list">code.google.com/p/robotium/w/list</a> . <br><br><h4>  Step 8. Test on multiple emulators. </h4><br><ol><li>  When creating a job for Jenkins, you can select the job type Build multi-configuration project. </li><li>  In the Configuration Matrix section, create axes for each changing parameter, for example, the resolution and version of the android, and substitute it into the Run emulator with properties settings in the form of $ {resolution}.  Look at the pictures on the above link, everything will become clear. </li><li>  The remaining parameters are specified as in the usual task. </li></ol><br>  Details <a href="https://wiki.jenkins-ci.org/display/JENKINS/Android%2BEmulator%2BPlugin" title="https://wiki.jenkins-ci.org/display/JENKINS/Android+Emulator+Plugin">here</a> . <br><br><h4>  Step 9. Preparing the release assembly. </h4><br>  Release build is easier than running tests. <br><ol><li>  Create a task in Jenkins MyProjectRelease (type Build a free-style software project). </li><li>  As in step 6, specify where to pull the source. </li><li>  Create an Invoke Ant Build Step with parameters: <br><blockquote><ol><li>  Targets: </li><li>  release </li><li>  Build File: </li><li>  MyProject \ build.xml </li><li>  Properties: </li><li>  sdk.dir <font color="#000066"><b>=</b></font> <font color="#660066">D: \\ android \\ android-sdk-windows</font> </li><li>  key.store <font color="#000066"><b>=</b></font> <font color="#660066">.. \\ myproject.keystore (relative path to the key storage file, I put the key in the trunk \)</font> </li><li>  key.alias <font color="#000066"><b>=</b></font> <font color="#660066">&lt;alias&gt;</font> </li><li>  key.store.password <font color="#000066"><b>=</b></font> <font color="#660066">&lt;pass&gt;</font> </li><li>  key.alias.password <font color="#000066"><b>=</b></font> <font color="#660066">&lt;pass&gt;</font> </li></ol></blockquote></li><li>  You can also configure Archive the artifacts from Files to archive = ** \ * - release.apk (if you want to keep all releases carefully and be able to download them through the Jenkins web interface). </li><li>  To obfuscate a release using ProGuard, you only need to add the line proguard.config = proguard.cfg, where in the project.properties (or in the properties of the InvokeAnt step of the task in Jenkins) <br><ul><li>  proguard.config - the name of the variable in which the name of the file with the settings for ProGuard should be located, </li><li>  and the proguard.cfg file is automatically created by Eclipse when the project is created. </li></ul></li></ol><br>  Thank you for your attention, I hope this post will help make your programs a little better. <br><br>  Also a special thank you for the support to the management of the <a href="http://artezio.com/">Artezio</a> company, which supported my initiative and took the time to do this research. </div><p>Source: <a href="https://habr.com/ru/post/138821/">https://habr.com/ru/post/138821/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../138813/index.html">Compile-time check in C / C ++</a></li>
<li><a href="../138814/index.html">TODO plugin update for QtCreator 2.5.0</a></li>
<li><a href="../138816/index.html">Droider Shuffle. Mix PocketBook A7 and Highscreen Jet Duo</a></li>
<li><a href="../138817/index.html">The third study of coverage in the Moscow metro</a></li>
<li><a href="../138818/index.html">Twitter Bootstrap Starter UI</a></li>
<li><a href="../138823/index.html">High-quality scanning on a home scanner - an idea for software</a></li>
<li><a href="../138824/index.html">Nintendo joins video content providers</a></li>
<li><a href="../138827/index.html">Hitachi released 7mm hard drive</a></li>
<li><a href="../138828/index.html">Golden rules of a successful button</a></li>
<li><a href="../138830/index.html">Shared hosting for Django (FreeBSD + Apache + mod_python / mod_wsgi)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>