<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>MOOC Video Studio</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the last post , I told how we made a studio for recording massive open online courses (MOOC) in an office space. Now, after six months, I would lik...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>MOOC Video Studio</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/c7c/bef/252/c7cbef2525de4438ad933c8cded485fb.jpg" align="right" width="320">  In the last <a href="http://habrahabr.ru/company/stepic/blog/235867/">post</a> , I told how we made a studio for recording massive open online courses (MOOC) in an office space.  Now, after six months, I would like to tell you about our solution, which is already used in two studios (in St. Petersburg and Moscow), and the process of deploying a new studio takes less than a day with all the iron present. <br><br>  The process of recording a course takes place in such a way that the teacher comes to the studio at a convenient time for him, and records himself.  Everything is automated to use the fewest people.  After the recording session, you get almost finished video files that you just need to arrange in the correct order, edit and upload to <a href="https://stepic.org/">Stepic.org</a> . <br><a name="habracut"></a><br><h2>  Equipment </h2><br>  To begin with (see <a href="http://habrahabr.ru/company/stepic/blog/235867/">last year‚Äôs configuration</a> ), we replaced all the wires from SDI to HDMI, then abandoned the use of AJA ROI (it burned down and is still under repair), rewrote the system to manage video recording on Django.  The project code is <a href="https://github.com/StepicOrg/Stepic-Studio">posted on GitHub</a> , but I apologize in advance for the poorly designed repository. <br><br>  Thus, for the studio to record online courses you need: <br><ol><li>  2 computers (Linux client + Windows server); </li><li>  Camera with HDMI output (Canon EOS C100); </li><li>  HDMI splitter (any); </li><li>  Wacom Tablet (Cintiq 24HD Interactive Pen Display DTK-2400); </li><li>  1 Blackmagic Design Intensity Pro capture card; </li><li>  The light and background <a href="http://habrahabr.ru/company/stepic/blog/235867/">remained the same</a> . </li></ol><br><h2>  Studio layout </h2><br><img src="https://habrastorage.org/files/c7c/bef/252/c7cbef2525de4438ad933c8cded485fb.jpg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      From the camera are 2 wires: <br><ol><li>  HDMI to HDMI splitter, which allows you to simultaneously display the image on the monitor (the teacher sees himself) and capture it on the PC (for recording); </li><li>  A 3.5mm jack wire in a PC to capture audio (for some reason, Intensity Pro did not capture audio via HDMI). </li></ol><br>  The server (Win) and Client (Linux) are on the same, closed, internal network.  Ubuntu 14.10 is installed on the client, the Wacom tablet is connected to it as a monitor.  On the server - Windows 8.1.  This choice of operating systems is due to the fact that the ffmpeg utility, which works best under Linux, is used to record the screen on the client.  But since Blackmagic drivers for Linux do not always work, plus the server machine is sometimes used for editing video in Adobe Premiere, it is on Windows (although the video is captured there using ffmpeg). <br><br><h2>  Usage scenario </h2><br>  This is how the video management process takes place on the part of the teacher: <br><br><img src="https://habrastorage.org/files/eb2/f7b/a91/eb2f7ba91e1649708767e8cc8858a12c.gif"><br><hr><br>  Let's write down on points what exactly happens when the teacher performs actions in the browser on the client. <br><br>  When he clicks Start Recording: <br><ol><li>  A request is sent to the server to start capturing the image from the Blackmagic card to which the camera is connected via the HDMI wire. </li><li>  A .TS video recording file is created in the folder corresponding to this video. </li><li>  A request is sent to the server to the client with a screen recording command. </li><li>  A .mkv screen recording file is created on the client. </li><li>  Check for errors when starting recording. </li><li>  The data is sent to the statistics server and corresponding records are created in the database. </li></ol><br>  When the teacher presses "Stop Recording": <br><ol><li>  The teacher‚Äôs video from the camera stops. </li><li>  The screen video stops. </li><li>  The server automatically connects to the remote machine and collects the screencast file, saving it next to the teacher's video file. </li><li>  The operation is completed and the system is ready to record a new video. </li></ol><br>  After recording, the teacher can independently, without leaving the studio, look at the already almost finished material by pressing the "Show" and "Show screen" buttons, and if he does not like the material, rewrite it. <br><br>  We believe that we managed to create a convenient system for recording video MOOCs, because usually, many teachers have problems not only with video recording, but also with dividing the course into blocks.  However, by recording in our studio, the teacher has to split up the material into structured parts, which will later form the basis of a video course, for example, on <a href="https://stepic.org/">Stepic.org</a> . <br><br><h2>  The history of two courses </h2><br>  For example, I would like to give two stories from the records of online courses.  Both courses are taught by professors from the <a href="http://habrahabr.ru/company/spbau/">Academic University of the Russian Academy of Sciences</a> - this is <a href="https://stepic.org/course/%25D0%259B%25D0%25B8%25D0%25BA%25D0%25B1%25D0%25B5%25D0%25B7-%25D0%25BF%25D0%25BE-%25D0%25B4%25D0%25B8%25D1%2581%25D0%25BA%25D1%2580%25D0%25B5%25D1%2582%25D0%25BD%25D0%25BE%25D0%25B9-%25D0%25BC%25D0%25B0%25D1%2582%25D0%25B5%25D0%25BC%25D0%25B0%25D1%2582%25D0%25B8%25D0%25BA%25D0%25B5-91">‚ÄúLikbez on Discrete Mathematics‚Äù</a> and <a href="https://stepic.org/course/%25D0%2592%25D0%25B2%25D0%25B5%25D0%25B4%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5-%25D0%25B2-%25D0%25BC%25D0%25B0%25D1%2582%25D0%25B5%25D0%25BC%25D0%25B0%25D1%2582%25D0%25B8%25D1%2587%25D0%25B5%25D1%2581%25D0%25BA%25D0%25B8%25D0%25B9-%25D0%25B0%25D0%25BD%25D0%25B0%25D0%25BB%25D0%25B8%25D0%25B7-95">‚ÄúIntroduction to Mathematical Analysis‚Äù</a> . <br><br>  In the first case, the teacher (Alexander Vladimirovich Omelchenko) initially planned to launch two courses, however, after dividing the course into blocks and revising the material, it was decided to take parts of these courses, merge them into one more simple and add the missing.  This is how the course was born - which, according to our plans, will become the starting point for studying the more complex topics of combinatorics and graph theory. <br><br>  Another example would be a course on <a href="https://stepic.org/course/%25D0%2592%25D0%25B2%25D0%25B5%25D0%25B4%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5-%25D0%25B2-%25D0%25BC%25D0%25B0%25D1%2582%25D0%25B5%25D0%25BC%25D0%25B0%25D1%2582%25D0%25B8%25D1%2587%25D0%25B5%25D1%2581%25D0%25BA%25D0%25B8%25D0%25B9-%25D0%25B0%25D0%25BD%25D0%25B0%25D0%25BB%25D0%25B8%25D0%25B7-95/">mathematical analysis</a> .  After several hours of working with a touch screen, the teacher (Alexander Igorevich Khrabrov) decided that the classic ‚Äúlecturer with the board‚Äù format would suit him more.  Therefore, Wacom with Ubuntu began to act as a video control console, and all lectures were recorded with a whiteboard.  And at one time, information relating to one board is recorded, then the teacher stops recording, erases, and begins recording a new piece on a blank board. <br><br><h2>  Moscow </h2><br>  This setup worked in our studio for about a month, after which we decided that this configuration was sufficiently reliable and convenient, and opened another studio in Moscow, the only difference from which in St. Petersburg is the Canon XA20 camera instead of the Canon C100. <br><br>  How it was and how it became in the Moscow studio: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ce9/0ea/269/ce90ea26913163b7dfcf06790c165f78.jpg"><br><br>  A studio in St. Petersburg looks like this: <br><br><img src="https://habrastorage.org/files/afb/405/3ff/afb4053ff65b4773a7bc2d0a81c84dbf.jpg"><br><br><h2>  Conclusion </h2><br>  In this post, I decided not to include a large number of parts and solutions that simply did not work or worked, but poorly.  For example, it is possible to record video remotely using any device supported by Adobe Flash Live Encoder; to do this, it is enough to generate a valid XML file at the input.  However, this solution is unstable. <br><br>  For all questions and suggestions please write in the comments and do not be shy. </div><p>Source: <a href="https://habr.com/ru/post/255053/">https://habr.com/ru/post/255053/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../255043/index.html">Type casting on Go</a></li>
<li><a href="../255045/index.html">.NET development: switching between DEV and PROD environments. Part one</a></li>
<li><a href="../255047/index.html">We collect your own smartphone</a></li>
<li><a href="../255049/index.html">Life hacking: How to combine two different commands in the Slack messenger</a></li>
<li><a href="../255051/index.html">Search for images in Android using Flickr</a></li>
<li><a href="../255055/index.html">How I decided to go to game dev</a></li>
<li><a href="../255057/index.html">Kama Sutra with Worksheet and Range objects in Excel</a></li>
<li><a href="../255061/index.html">The challenge of two old ladies who hit the road at dawn</a></li>
<li><a href="../255067/index.html">Class about deadlock classes</a></li>
<li><a href="../255069/index.html">Krovi: Big Data - as dream. 4th series. Brain revolution</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>