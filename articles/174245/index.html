<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Recommender system: we get user tags from social networks</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Today I will talk about how you can use data about users from social networks to recommend web pages on a cold start . All the results in this article...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Recommender system: we get user tags from social networks</h1><div class="post__text post__text-html js-mediator-article">  Today I will talk about how you can use data about users from social networks to recommend web pages on a <a href="http://habrahabr.ru/company/surfingbird/blog/168733/">cold start</a> .  All the results in this article are purely experimental in nature and are not currently implemented in production.  Here, as in the <a href="http://habrahabr.ru/company/surfingbird/blog/172417/">previous article</a> , text-based elements will be used to analyze the text content of web pages. <br><br>  First, some statistics to show the importance of this study.  About 50% of users of our system are registered with the linking of social networking accounts vkontakte (VK) and facebook (FB).  Moreover, of the registered via social networks, 71% fall on VK and 29% on FB. <br><br>  <a href="http://developers.facebook.com/docs/reference/api/user/">The FB API</a> and <a href="http://vk.com/pages%3Foid%3D-1%26p%3D%25D0%259E%25D0%25BF%25D0%25B8%25D1%2581%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5_%25D0%25BF%25D0%25BE%25D0%25BB%25D0%25B5%25D0%25B9_%25D0%25BF%25D0%25B0%25D1%2580%25D0%25B0%25D0%25BC%25D0%25B5%25D1%2582%25D1%2580%25D0%25B0_fields">the VK API</a> allow you to extract some data about the interests and preferences of the user.  But not everything is as simple as it may seem.  To obtain user data, you need to obtain special rights, the consent to which gives the user during registration in the system.  This is where a subtle moment arises.  On the one hand, we go to extract as much information about the user as possible.  On the other hand, asking for too many rights is an arrogance that can scare a user away.  We need to find a compromise - a delicate balance between the usefulness of the data obtained to improve the recommendations and the "amount" of credit of trust from the user who agrees so that we can get into his personal data. <br><a name="habracut"></a><br>  Through long trials and mistakes for ourselves, we have found such a compromise, but this task is purely individual for each project, as many pros and cons are taken into account that are specific to the system. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In this article, I will discuss how user tags from the following categories can be used: games, books, music, movies and television.  Such a choice of fields was due to the fact that tags are stored in their pure form and you can link each of these fields to the corresponding categories of Surfingbird.  Probably, in the near future I will also tell you how you can handle other, not so obvious fields, such as languages ‚Äã‚Äã(what languages ‚Äã‚Äãthe user speaks), devices (hardware and sofware, which he uses), education (place and level of education), bio or about (information about yourself), feeds (user posts). <br><br>  I just want to make a reservation that the first problem we face is the strong sparseness of the data.  Information in the games, books, music, movies or television fields is currently available for about 15% of users.  But here you can say that, firstly, the ways to get user tags are not limited to the FB and VK APIs.  For example, in the future we can also give the opportunity to specify them during registration and adjust in your profile.  Secondly, even if for a small fraction of those who honestly indicated their interests, we can give recommendations from the first shows that ‚Äúpleasantly surprise‚Äù, this will increase the overall loyalty to the system and this means our efforts are not in vain. <br><br>  There are some differences in the data structure returned by API FB and VK.  FB data is better structured.  For example, each artist or film is stored in separate fields.  On VK, they are written in an arbitrary text field, which makes tag selection difficult: <br><br>  Example of JSON from FB: <br><pre><code class="hljs vbscript">{ <span class="hljs-string"><span class="hljs-string">"books"</span></span> : { <span class="hljs-string"><span class="hljs-string">"data"</span></span> : [ { <span class="hljs-string"><span class="hljs-string">"category"</span></span> : <span class="hljs-string"><span class="hljs-string">"Book"</span></span>, <span class="hljs-string"><span class="hljs-string">"created_time"</span></span> : <span class="hljs-string"><span class="hljs-string">"2013-02-17T17:41:14+0000"</span></span>, <span class="hljs-string"><span class="hljs-string">"id"</span></span> : <span class="hljs-string"><span class="hljs-string">"110451202473491"</span></span>, <span class="hljs-string"><span class="hljs-string">"name"</span></span> : <span class="hljs-string"><span class="hljs-string">"¬´ ¬ª  "</span></span> }, { <span class="hljs-string"><span class="hljs-string">"category"</span></span> : <span class="hljs-string"><span class="hljs-string">"Book"</span></span>, <span class="hljs-string"><span class="hljs-string">"created_time"</span></span> : <span class="hljs-string"><span class="hljs-string">"2013-02-04T20:40:10+0000"</span></span>, <span class="hljs-string"><span class="hljs-string">"id"</span></span> : <span class="hljs-string"><span class="hljs-string">"165134073508051"</span></span>, <span class="hljs-string"><span class="hljs-string">"name"</span></span> : <span class="hljs-string"><span class="hljs-string">" .  \"</span></span>    \<span class="hljs-string"><span class="hljs-string">""</span></span> }, ... <span class="hljs-string"><span class="hljs-string">"television"</span></span> : { <span class="hljs-string"><span class="hljs-string">"data"</span></span> : [ { <span class="hljs-string"><span class="hljs-string">"category"</span></span> : <span class="hljs-string"><span class="hljs-string">"Tv show"</span></span>, <span class="hljs-string"><span class="hljs-string">"created_time"</span></span> : <span class="hljs-string"><span class="hljs-string">"2012-06-12T04:52:42+0000"</span></span>, <span class="hljs-string"><span class="hljs-string">"id"</span></span> : <span class="hljs-string"><span class="hljs-string">"184917701541356"</span></span>, <span class="hljs-string"><span class="hljs-string">"name"</span></span> : <span class="hljs-string"><span class="hljs-string">"-   "</span></span> } ], ... } ... }</code> </pre> <br>  Example of JSON from VK: <br><pre> <code class="hljs tex">{ "books" : "   ,  <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">"</span></span></span></span> ,  <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">"</span></span></span></span>,   <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">"</span></span></span></span>   <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">"</span></span></span></span>, <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">"</span></span></span></span>  <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">"</span></span></span></span>, <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">"</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">"</span></span></span></span>,  <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">"</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">"</span></span></span></span>,   <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">"</span></span></span></span>  <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">"</span></span></span></span>,   <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">"</span></span></span></span>      <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">"</span></span></span></span>,   <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">"</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">"</span></span></span></span>,  <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">"</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">"</span></span></span></span>", "games" : "Sims 1, 2, 3,   2  ", "movies" : "  ,  ,   ,   ,  ,   , icarli,   ,   3,  , Sponge Bob, ,  , ,   ,    2,    3,    ,  !!!!!", ... }</code> </pre><br><br>  After some effort, the tags still manage to extract from unstructured VK data.  Here is the top of the list of the most popular tags: <br><img src="https://habrastorage.org/getpro/habr/post_images/d5c/a3a/580/d5ca3a58007a87c4c04d2a691d9eb566.jpg" alt="image"><br><br>  Next, from the tags that occur more than twice, a dictionary of tags is built.  Now you need to learn how to find the relevant pages for each tag in the dictionary.  The most natural way is to learn how to count the number of tag entries in the text content of pages.  However, it is wrong to recommend only in terms of the frequency of occurrence, since words like ‚Äúall‚Äù, ‚ÄúI don‚Äôt read‚Äù, ‚ÄúI don‚Äôt like games‚Äù and so on are often found in tags.  To solve this problem, <a href="https://ru.wikipedia.org/wiki/TF-IDF">TF-IDF</a> weights are calculated for tags, and on many users and on the body of text of web pages separately, since the end-to-end calculation of TF-IDF will not allow to take into account the distribution among users due to the inadequate difference in the amount of text information in the profiles users and texts of web pages. <br><br>  As a result of calculating the weights of the TF-IDF, we get known for each user and for each web page of the weights vector for all tags from the dictionary.  If the tag is not found in the user or in the content of the page, then the weight is considered to be zero. <br><br>  In order to assess the similarity of the interests of the user and the content of the web page, it is sufficient to calculate the scalar product of the corresponding weights vectors TF-IDF.  Another more lazy option is to use the full-text search function built into the database you use.  For example, PostgreSQL successfully copes with the task of finding relevant texts by user tags, and also numerically evaluates the similarity, which makes it possible to solve the ranking problem.  In fact, the full-text search engine will perform all the same actions that were described above, using only a few other methods.  The disadvantage of this approach is the need to build a full-text index in the database for all content.  The advantage of the full-text search in this problem is the absence of the need to build a tag dictionary and recalculate the occurrence of tags in texts. <br><br>  Below is an example of a recommendation for a user with the following tags in the game category: <i><b>Assassins Creed, Mass Effect, Dragon Age: Origins, Heavy Rain</b></i> . <br><img src="https://habrastorage.org/getpro/habr/post_images/289/811/216/2898112162373bddd279437b1ed1823d.jpg" alt="image"><br><br>  So, we learned to evaluate the similarity of a user (based on his tags) and a web page (based on its content).  This is the main building block for building recommendations.  However, this is not all.  We did not consider web page ratings here.  After all, I don‚Äôt want to recommend highly unpopular pages, even if they are suitable for the content.  Then, it is necessary to correctly combine the resulting algorithm with those already working in the system, but more on that in the next series ... </div><p>Source: <a href="https://habr.com/ru/post/174245/">https://habr.com/ru/post/174245/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../174233/index.html">ASUS GX1000 Gaming Mouse</a></li>
<li><a href="../174237/index.html">Yahoo! acquired a startup 17-year-old guy for $ 30,000,000</a></li>
<li><a href="../174239/index.html">An inside view: the world around us - 2</a></li>
<li><a href="../174241/index.html">Curiosity is back</a></li>
<li><a href="../174243/index.html">Using dictionaries in tcl</a></li>
<li><a href="../174247/index.html">Metric # 1 - Podcast on technologies and design of interfaces and services</a></li>
<li><a href="../174249/index.html">The concept of network virtualization based on Windows Server 2012 and System Center 2012 SP1</a></li>
<li><a href="../174253/index.html">Domains.COM and.ORG should belong to Runet</a></li>
<li><a href="../174255/index.html">Designer to build a cell phone</a></li>
<li><a href="../174257/index.html">Evernote 5 for Android: new shooting modes, support for Moleskine Smart Notebook notebooks, shortcuts and search in documents</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>