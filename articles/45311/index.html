<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>MACRO is a flexible PHP template engine with a human face.</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Since today is the day of PHP template template on Habr√©, I can not tell you about MACRO - the most flexible template engine with readable templates, ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>MACRO is a flexible PHP template engine with a human face.</h1><div class="post__text post__text-html js-mediator-article">  Since today is the day of PHP template template on Habr√©, I can not tell you about <a href="http://wiki.limb-project.com/doku.php%3Fid%3Dlimb3:ru:packages:macro">MACRO</a> - the most flexible template engine with readable templates, among those I know. <br><a name="habracut"></a><br>  The reason for its creation is simple - <a href="http://www.phpwact.org/">WACT</a> , used by us at that time, became increasingly monstrous.  More information about the causes and the original idea can be found <a href="http://forum.limb-project.com/viewtopic.php%3Ft%3D1918%26postdays%3D0%26postorder%3Dasc%26start%3D15">on our forum</a> . <br><br><h2>  The main "chips" </h2><br><h3>  Flexibility </h3><br>  Inside you can easily use the usual php-inserts, and the template engine itself contains a very small set of rules for its use.  This gives us a very flexible tool, with support for both pull and push data access. <br><br><h3>  High Reuse Patterns </h3><br>  Powerful tools for building templates: wrapping ( <a href="http://wiki.limb-project.com/doku.php%3Fid%3Dlimb3:ru:packages:macro:tags:core_tags:wrap_tag">wrap</a> ), inclusion ( <a href="http://wiki.limb-project.com/doku.php%3Fid%3Dlimb3:ru:packages:macro:tags:core_tags:include_tag">include</a> ), reuse ( <a href="http://wiki.limb-project.com/doku.php%3Fid%3Dlimb3:ru:packages:macro:tags:core_tags:apply_tag">apply</a> ) within the same template.  Examples of patterned magic can be found <a href="http://wiki.limb-project.com/doku.php%3Fid%3Dlimb3:ru:packages:macro:template_composition">in the project wiki</a> .  Through the use of MACRO, we were able to completely get rid of duplication in the templates. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  Speed </h3><br>  The initial template code is first translated into a ready-to-run php script, and the template is <a href="http://wiki.limb-project.com/doku.php%3Fid%3Dlimb3:ru:packages:macro:important_details">compiled entirely</a> , so the composition (splitting the template into pieces, wrapping, etc.) has almost no effect on the speed of the template, since it is assembled into one ( class) at compilation, and the scope (context) is organized using the methods of the compiled class.  That is, the majority of ‚Äúheavy‚Äù operations are either performed at the compilation stage, or they use tools built into PHP, which made it possible to achieve good ‚Äúspeed‚Äù indicators. <br><br><h3>  Extensibility </h3><br>  Ease of <a href="http://wiki.limb-project.com/doku.php%3Fid%3Dlimb3:ru:packages:macro:how_to_create_new_tag">adding your tags</a> and <a href="http://wiki.limb-project.com/doku.php%3Fid%3Dlimb3:ru:packages:macro:how_to_create_new_filter">your filters</a> .  As well as the ability to create whole packages with your tags or filters. <br><br><h3>  Modifiability </h3><br>  The flexibility of customization and ease of finishing are achieved due to the low coupling of the components and adequate OOP. <br><br><h3>  Readability </h3><br>  Templates, despite all the flexibility, are normally read by non-programmers, after their shallow zombie. <br><br><h3>  Little tar </h3><br>  MACRO is essentially syntactic sugar for native PHP.  And if you don‚Äôt pay your designer a salary for three months, then he can easily ruin the whole site, having access only to templates. <br><br><h2>  Show me the code! </h2><br>  Template example: <br><blockquote><code><font color="black"><font color="#0000ff">{{</font> <font color="#008000">insert</font> <font color="#ff0000">into</font> ="content_zone" <font color="#ff0000">file</font> ="page.phtml" <font color="#0000ff">}}</font></font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">img</font> <font color="#ff0000">src</font> ={$# <font color="#ff0000">photo</font> . <font color="#ff0000">largeFileUrl</font> } <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">dl</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">dt</font> <font color="#0000ff">&gt;</font> : <font color="#0000ff">&lt;/</font> <font color="#800000">dt</font> <font color="#0000ff">&gt;&lt;</font> <font color="#800000">dd</font> <font color="#0000ff">&gt;</font> {$#photo.member.name} <font color="#0000ff">&lt;/</font> <font color="#800000">dd</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">dt</font> <font color="#0000ff">&gt;</font> : <font color="#0000ff">&lt;/</font> <font color="#800000">dt</font> <font color="#0000ff">&gt;&lt;</font> <font color="#800000">dd</font> <font color="#0000ff">&gt;</font> {$#photo.category.title} <font color="#0000ff">&lt;/</font> <font color="#800000">dd</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">dt</font> <font color="#0000ff">&gt;</font> : <font color="#0000ff">&lt;/</font> <font color="#800000">dt</font> <font color="#0000ff">&gt;&lt;</font> <font color="#800000">dd</font> <font color="#0000ff">&gt;</font> {$#photo.title} <font color="#0000ff">&lt;/</font> <font color="#800000">dd</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">dt</font> <font color="#0000ff">&gt;</font> : <font color="#0000ff">&lt;/</font> <font color="#800000">dt</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">dd</font> <font color="#0000ff">&gt;</font> <br> <font color="#ff0000">{{</font> <font color="#008000">list</font> using='{$#photo.tags}' as='$tag' <font color="#ff0000">}}</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">ul</font> <font color="#0000ff">&gt;</font> <br> <font color="#ff0000">{{</font> <font color="#008000">list:item</font> <font color="#ff0000">}}</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">li</font> <font color="#0000ff">&gt;</font> {$tag.title|uppercase} <font color="#0000ff">&lt;/</font> <font color="#800000">li</font> <font color="#0000ff">&gt;</font> <br> <font color="#ff0000">{{</font> <font color="#008000">/list:item</font> <font color="#ff0000">}}</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">ul</font> <font color="#0000ff">&gt;</font> <br> <font color="#ff0000">{{</font> <font color="#008000">list:default</font> <font color="#ff0000">}}</font> <br>   <br> <font color="#ff0000">{{</font> <font color="#008000">/list:default</font> <font color="#ff0000">}}</font> <br> <font color="#ff0000">{{</font> <font color="#008000">/list</font> <font color="#ff0000">}}</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">dd</font> <font color="#0000ff">&gt;</font> <br> <font color="#ff0000">{{</font> <font color="#008000">insert</font> file="photo/marks.phtml"/ <font color="#ff0000">}}</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">dl</font> <font color="#0000ff">&gt;</font> <br> <font color="#ff0000">{{</font> <font color="#008000">/insert</font> <font color="#ff0000">}}</font></code> <br> <br>  <font color="gray">* This source code was highlighted with <a href="http://virtser.net/blog/post/source-code-highlighter.aspx"><font color="gray">Source Code Highlighter</font></a> .</font> </blockquote><br><br><h3>  Tags </h3><br>  <a href="http://wiki.limb-project.com/doku.php%3Fid%3Dlimb3:ru:packages:macro:tags:core_tags:include_tag">include</a> and <a href="http://wiki.limb-project.com/doku.php%3Fid%3Dlimb3:ru:packages:macro:tags:list_tags:list_tag">list</a> , in the example, are tags.  Some tags can only be inside other tags, some tags must contain mandatory attributes, some attributes must contain only certain values, and so on.  All this is checked by the compiler, and is accompanied by detailed descriptions in case of an error. <br><br>  MACRO contains a sufficiently large number of tags that allow you to display lists, link patterns, split lists into pages and display pagers, work with forms, and so on. <br><br><h3>  Expressions </h3><br>  Output expressions are used to output any variable values.  The expressions in our example are <code>{$tag.title|uppercase}</code> and <code>{$#photo.largeFileUrl}</code> .  Expressions in templates are essentially echo operations.  The dot separates the parts of the path to the output variable.  The expression <code>{$tag.title}</code> equivalent to <code>&lt;?php if(isset($tag['title'])) echo $tag['title']; ?&gt;</code>  <code>&lt;?php if(isset($tag['title'])) echo $tag['title']; ?&gt;</code> . <br><br>  Expressions are described in detail in the section " <a href="http://wiki.limb-project.com/doku.php%3Fid%3Dlimb3:ru:packages:macro:expressions">Expressions</a> ". <br><br><h3>  Filters </h3><br>  Filters are used to modify / format the values ‚Äã‚Äãdisplayed in expressions.  The filter expressions in our example are <code>{$tag.title|uppercase}</code> .  Filter uppercase - converts values ‚Äã‚Äãto uppercase.  In fact, it is an alias for the php-function strtoupper, which is used for the variable specified in the expression. <br><br>  Usually the filter is a wrapper for some frequently used php function.  However, nothing prevents you from creating your own unique filters, since it is quite simple to do this.  For example, a few days ago I had the opportunity to add a filter inclining nouns depending on the number (1 person, 2 people and further). <br><br><h2>  A bit about speed </h2><br>  Developing a template engine with an eye for high speed does not make sense without a set of tests.  In short, on a layout close to the ‚Äúcombat‚Äù, the MACRO is 1.75 times slower than a pure PHP, but faster by the next ‚Äúhuman‚Äù template maker (smarty) by a third. <br><br>  Detailed test results can be viewed (and downloaded) on the <a href="https://github.com/limb-php-framework/limb-tools/tree/master/template_engines_bench/">corresponding page</a> . <br><br></div><p>Source: <a href="https://habr.com/ru/post/45311/">https://habr.com/ru/post/45311/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../45294/index.html">Project Palantir</a></li>
<li><a href="../45296/index.html">Reset Styles Using CSS Reset</a></li>
<li><a href="../45306/index.html">Picasa 3.0 - finally release!</a></li>
<li><a href="../45307/index.html">Letter to the President of Russia</a></li>
<li><a href="../45308/index.html">A letter to the President of Russia - 2. Waiting.</a></li>
<li><a href="../45316/index.html">High art of the XXI century.</a></li>
<li><a href="../45318/index.html">Gay Test v.2</a></li>
<li><a href="../45319/index.html">Bind an icon to each type of file on CSS</a></li>
<li><a href="../45320/index.html">Acceptance of payments on the site</a></li>
<li><a href="../45321/index.html">What should I learn: (but does not teach): school computer science.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>