<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Create a development application using Android Studio</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 
 Good afternoon, ladies and gentlemen! I am a student in grade 11 and I am engaged in development only because I don‚Äôt want to prepare f...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Create a development application using Android Studio</h1><div class="post__text post__text-html js-mediator-article"><h2>  Introduction </h2><br>  Good afternoon, ladies and gentlemen!  I am a student in grade 11 and I am engaged in development only because I don‚Äôt want to prepare for the EGE.  The idea of ‚Äã‚Äãthe application can be described in three words - I saw, remembered, repeated.  Before the player appears a square box with a certain number of shaded elements.  After some time, the field is cleared.  It is necessary to choose which elements were painted over.  As you progress through the levels of the game, the field becomes larger and you have to memorize more. <br><a name="habracut"></a><br><h2>  Theory </h2><br>  First we need to decide on the architecture of the software interface.  I prefer MVC (Model - View - Controller). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/01c/c4f/3f2/01cc4f3f2646eaea356bc50dccce40d6.png" alt="image"></div><br>  With this approach, the controller intercepts the event from the outside and in accordance with the logic embedded in it, reacts to this event by changing the model by calling the appropriate method.  After the change, the model uses the event that it has changed, and all the view events subscribed to it, upon receiving it, turn to the Model for updated data, after which they are displayed.  So, decided.  Next you need to select a programming language.  I like java.  Java is an object-oriented programming language, so we should follow the principles of OOP: <br><br>  1) Encapsulation is a component that allows to combine the code and the data with which it handles. <br>  2) Polymorphism is a property of the system that allows using objects with the same interface without information about the type and internal structure of the object. <br>  3) Inheritance is a property of the system that allows you to describe a new class based on an existing one with partially or fully borrowed functionality.  The class from which the inheritance is made is called the base or parent class.  A new class is a descendant, heir, child, or derived class. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Now we restrict the domain to such classes as: <br><br>  Game (Game), Player (Player), Field (Field).  The game is responsible for the data generated directly in the game.  The field stores information about which cells are filled and which are not.  The game can create a field.  The player can handle user data, i.e.  save points and rating when necessary. <br><br><h2>  Main part </h2><br>  Enough theory.  We need to perform the following sequence of actions: <br><br>  1) Download <a href="https://developer.android.com/studio/index.html">development environment</a> and <a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html">JDK</a> . <br>  2) Install both sets on your computer. <br>  3) Run the development environment. <br><br>  Create an empty project and start creating.  We define the package structure in the following way: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/8b0/8f7/63b/8b08f763b6304a8dac5da1b2a515e89d.PNG"></div><br>  Next we do a little trick.  Create markup files: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/74c/322/b09/74c322b09654489e90e3462d5469c3d5.PNG"></div><br>  The root xml file is responsible for the root of our view.  Inside it will dynamically change the markup of the fragments that we have already created.  Accordingly, in the view package we will create the classes fragments: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/979/66f/187/97966f187b7742d297b42a087d979729.PNG"></div><br>  Each fragment is responsible for one game mode.  When you open the application, the onCreate method of the MainActivity class (which we also put in the view package) is executed.  Change this method to this state: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/55c/9ea/20a/55c9ea20ab1848ae9f3da8dd38556ed4.PNG"></div><br>  Here we check that if our activity is created for the first time, then we need to create objects of the fragments and make the menu fragment visible.  Of course, before creating objects, you need to give them links, but I think that you can handle it yourself. <br><br>  Fragments are created, but they do nothing.  It's time to breathe life into them.  Create an interface: <br><br><div class="spoiler">  <b class="spoiler_title">Interface</b> <div class="spoiler_text"><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SendingActivity</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// ,     void send(int a); // ,         void send(Field field, int level); // ,     ,    void nextLevel(GameModChallenge game); // ,     ,    void nextLevel(GameModSprint game); // ,     ,    void nextLevel(GameModTwisting game); // ,     ,    void nextLevel(GameModEvidence game); //            ,     void next(GameModChallenge game); // ,    void failSprint(GameModSprint game); // ,    void failTwisting(GameModTwisting game); // ,    void failEvidence(GameModEvidence game); // ,      void releaseToolbar(); }</span></span></code> </pre> <br></div></div><br>  Through the methods of this interface, the objects will inform about their actions of activity, and she will already decide what to do. <br><br>  Create a fragment of the main menu: <br><br><div class="spoiler">  <b class="spoiler_title">Main menu</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainMenuFragment</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Fragment</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">View</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OnClickListener</span></span></span><span class="hljs-class"> </span></span>{ Button sprint, challenge, twisting,evidence, exit; <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> View </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreateView</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> View view = inflater.inflate(R.layout.menu, container, <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); <span class="hljs-comment"><span class="hljs-comment">//region findViewById sprint = (Button) view.findViewById(R.id.sprint); challenge = (Button) view.findViewById(R.id.challenge); twisting = (Button) view.findViewById(R.id.twist); evidence = (Button) view.findViewById(R.id.evidence); exit = (Button) view.findViewById(R.id.exit); //endregion //region setOnClickListener sprint.setOnClickListener(this); challenge.setOnClickListener(this); twisting.setOnClickListener(this); evidence.setOnClickListener(this); exit.setOnClickListener(this); //endregion return view; } @Override public void onClick(View view) { int id = view.getId(); switch (id) { case R.id.sprint: { SendingActivity mess = (SendingActivity) getActivity(); mess.send(0); break; } case R.id.challenge: { SendingActivity mess = (SendingActivity) getActivity(); mess.send(1); break; } case R.id.twist: { SendingActivity mess = (SendingActivity) getActivity(); mess.send(2); break; } case R.id.evidence: { SendingActivity mess = (SendingActivity) getActivity(); mess.send(3); break; } case R.id.exit: { SendingActivity mess = (SendingActivity) getActivity(); mess.send(4); break; } } } }</span></span></code> </pre><br></div></div><br>  Then I created found the buttons and hung on them the event listener.  In the listener, which button was selected.  Depending on this, an appropriate message is sent to the interface object.  But our activity still does not respond to messages sent by the fragment.  We will fix this later, and now we will write the logic of our game.  Our logic is contained in the model package.  There we will create an auxiliary Field class: <br><br><div class="spoiler">  <b class="spoiler_title">Field</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Field</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> rightAnswer; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> sizeField; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> paintedSquare; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> square[][]; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Random randX; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Random randY; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[][] getSquare() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> square; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Field </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createSquare</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> sizeField, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> paintedSquare)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.sizeField = sizeField; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.paintedSquare = paintedSquare; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.square = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[sizeField][sizeField]; randX = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Random(System.nanoTime()); randY = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Random(System.nanoTime()); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; sizeField; i++) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> j = <span class="hljs-number"><span class="hljs-number">0</span></span>; j &lt; sizeField; j++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (paintedSquare &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { paintedSquare--; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.square[i][j] = <span class="hljs-number"><span class="hljs-number">1</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.square[i][j] = <span class="hljs-number"><span class="hljs-number">0</span></span>; } } } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; sizeField; i++) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> j = <span class="hljs-number"><span class="hljs-number">0</span></span>; j &lt; sizeField; j++) { mixing(square); } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } <span class="hljs-comment"><span class="hljs-comment">//region mixing private void mixing(int[][] arr) { //,   for (int i = 0; i &lt; arr.length; i++) { for (int j = 0; j &lt; arr.length; j++) { swap(arr, i, j, randX.nextInt(sizeField), randY.nextInt(sizeField)); } } } private void swap(int[][] arr, int i, int j, int newI, int newJ) { int tmp = arr[i][j]; arr[i][j] = arr[newI][newJ]; arr[newI][newJ] = tmp; } //endregion public int getSizeField() { return sizeField; } public int getRightAnswer() { return rightAnswer; } public void setRightAnswer(int rightAnswer) { this.rightAnswer = rightAnswer; } public int getPaintedSquare() { return paintedSquare; } }</span></span></code> </pre><br></div></div><br>  As you can see this class we need to work with an array of correct answers.  If the array element contains 1, then the cell is filled.  The field is able to create itself.  After creation, it immediately mixes itself.  Now create a base Game class for game modes. <br><br><div class="spoiler">  <b class="spoiler_title">Game</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Game</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Field field; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> currentLevel; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Activity a; Game(Activity a) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.a = a; } <span class="hljs-function"><span class="hljs-function">Activity </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getActivity</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getCurrentLevel</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> currentLevel; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setCurrentLevel</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> currentLevel)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.currentLevel = currentLevel; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setField</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Field field)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.field = field; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Field </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getField</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> field; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Field </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createFieldInLevel</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> level)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (level) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>: { field = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Field().createSquare(<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>: { field = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Field().createSquare(<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>: { field = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Field().createSquare(<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>: { field = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Field().createSquare(<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span>: { field = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Field().createSquare(<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span>: { field = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Field().createSquare(<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span>: { field = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Field().createSquare(<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">12</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span>: { field = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Field().createSquare(<span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">14</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span>: { field = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Field().createSquare(<span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">16</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>: { field = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Field().createSquare(<span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">18</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>: { field = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Field().createSquare(<span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">12</span></span>: { field = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Field().createSquare(<span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">22</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">13</span></span>: { field = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Field().createSquare(<span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">24</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">14</span></span>: { field = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Field().createSquare(<span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">26</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">15</span></span>: { field = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Field().createSquare(<span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">28</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">16</span></span>: { field = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Field().createSquare(<span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">30</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">17</span></span>: { field = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Field().createSquare(<span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">32</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">18</span></span>: { field = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Field().createSquare(<span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">34</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">19</span></span>: { field = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Field().createSquare(<span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">36</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">20</span></span>: { field = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Field().createSquare(<span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">40</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">21</span></span>: { field = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Field().createSquare(<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">42</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">22</span></span>: { field = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Field().createSquare(<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">44</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">23</span></span>: { field = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Field().createSquare(<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">46</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">24</span></span>: { field = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Field().createSquare(<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">48</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">25</span></span>: { field = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Field().createSquare(<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">50</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> field; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createVictoryDialog</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(LayoutInflater inflater)</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createLooseDialog</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(LayoutInflater inflater)</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">showDialog</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; }</code> </pre><br></div></div><br>  This class defines the basic functionality of the game modes.  He is able to create a field, set the current level of the game, create dialog boxes (for this purpose he needs a link to activity) and show them.  We cannot create objects of this class, therefore we will create classes inheritors.  For example, the GameModSprint class: <br><br><div class="spoiler">  <b class="spoiler_title">GameModSprint</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> AlertDialog.Builder builder; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> AlertDialog alert; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GameModSprint</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Activity a)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(a); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createVictoryDialog</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(LayoutInflater inflater)</span></span></span><span class="hljs-function"> </span></span>{ builder = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AlertDialog.Builder(getActivity()); builder.setCancelable(<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); View dialogV = inflater.inflate(R.layout.dialog_view, <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); View dialogTitle = inflater.inflate(R.layout.dialog_title, <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); TextView title = (TextView) dialogTitle.findViewById(R.id.dialog_title); TextView message = (TextView) dialogTitle.findViewById(R.id.message); message.setText(getActivity().getResources().getString(R.string.progress)+ getCurrentLevel()); title.setText(getActivity().getResources().getString(R.string.good)); title.setText(getActivity().getResources().getString(R.string.good)); ImageView imageView = (ImageView) dialogV.findViewById(R.id.image); imageView.setImageResource(R.drawable.victory); ImageButton next = (ImageButton) dialogV.findViewById(R.id.next); ImageButton restart = (ImageButton) dialogV.findViewById(R.id.restart); View.OnClickListener listener = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> View.OnClickListener() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View view)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (view.getId()) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> R.id.next: { SendingActivity send = (SendingActivity) getActivity(); send.nextLevel(self()); alert.dismiss(); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> R.id.restart: { SendingActivity send = (SendingActivity) getActivity(); send.failSprint(self()); alert.dismiss(); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> R.id.in_menu: { alert.dismiss(); getActivity().onBackPressed(); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } } }; next.setOnClickListener(listener); restart.setOnClickListener(listener); ImageButton inMenu = (ImageButton) dialogV.findViewById(R.id.in_menu); inMenu.setOnClickListener(listener); builder.setView(dialogV); builder.setCustomTitle(dialogTitle); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createLooseDialog</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(LayoutInflater inflater)</span></span></span><span class="hljs-function"> </span></span>{ builder = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AlertDialog.Builder(getActivity()); builder.setCancelable(<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); View dialogV = inflater.inflate(R.layout.dialog_view, <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); View dialogTitle = inflater.inflate(R.layout.dialog_title, <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); TextView title = (TextView) dialogTitle.findViewById(R.id.dialog_title); TextView message = (TextView) dialogTitle.findViewById(R.id.message); message.setText(getActivity().getResources().getString(R.string.not_progress)+ getCurrentLevel()); title.setText(getActivity().getResources().getString(R.string.bad)); ImageView imageView = (ImageView) dialogV.findViewById(R.id.image); imageView.setImageResource(R.drawable.loose); ImageButton next = (ImageButton) dialogV.findViewById(R.id.next); ImageButton restart = (ImageButton) dialogV.findViewById(R.id.restart); next.setBackgroundColor(getActivity().getResources().getColor(R.color.background_no_access)); View.OnClickListener listener = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> View.OnClickListener() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View view)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (view.getId()) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> R.id.restart: { SendingActivity send = (SendingActivity) getActivity(); send.failSprint(self()); alert.dismiss(); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> R.id.in_menu: { alert.dismiss(); getActivity().onBackPressed(); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } } }; next.setOnClickListener(listener); restart.setOnClickListener(listener); ImageButton inMenu = (ImageButton) dialogV.findViewById(R.id.in_menu); inMenu.setOnClickListener(listener); builder.setView(dialogV); builder.setCustomTitle(dialogTitle); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">showDialog</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ alert = builder.create(); alert.show(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> GameModSprint </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">self</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } }</code> </pre><br></div></div><br>  This class defines how dialog boxes will appear.  The fact is that not always I need to just move the player to the next level.  For example, in other game modes, I want to add a rating to a player or any other manipulations with user data that need to be performed only in this game mode.  The remaining classes are created in the same way. <br><br>  Finally, we can implement our interface. <br><br><div class="spoiler">  <b class="spoiler_title">Interface implementation</b> <div class="spoiler_text">  &lt;img src = " <img src="https://habrastorage.org/files/85d/2f8/f63/85d2f8f632bc4ce1b2c3332e439a0290.PNG">  "alt =" image "/&gt; <br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">send</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> a)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (a) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>: { sprintFragment = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SprintFragment(); game = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GameModSprint(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); game.createFieldInLevel(<span class="hljs-number"><span class="hljs-number">1</span></span>); game.setCurrentLevel(<span class="hljs-number"><span class="hljs-number">1</span></span>); sprintFragment.setGame(game); getFragmentManager().beginTransaction().replace(R.id.activity_main, sprintFragment).addToBackStack(<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>).commit(); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>: { getFragmentManager().beginTransaction().replace(R.id.activity_main, levelChallengeFragment).addToBackStack(<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>).commit(); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>: { twistingFragment = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TwistingFragment(); game = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GameModTwisting(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); game.createFieldInLevel(<span class="hljs-number"><span class="hljs-number">1</span></span>); game.setCurrentLevel(<span class="hljs-number"><span class="hljs-number">1</span></span>); twistingFragment.setGame(game); getFragmentManager().beginTransaction().replace(R.id.activity_main, twistingFragment).addToBackStack(<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>).commit(); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>: { evidenceFragment = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> EvidenceFragment(); game = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GameModEvidence(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); game.createFieldInLevel(<span class="hljs-number"><span class="hljs-number">1</span></span>); game.setCurrentLevel(<span class="hljs-number"><span class="hljs-number">1</span></span>); evidenceFragment.setGame(game); getFragmentManager().beginTransaction().replace(R.id.activity_main, evidenceFragment).addToBackStack(<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>).commit(); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>: { finish(); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">send</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Field field, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> level)</span></span></span><span class="hljs-function"> </span></span>{ challengeFragment = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ChallengeFragment(); game = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GameModChallenge(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); game.setField(field); game.setCurrentLevel(level); challengeFragment.setGame(game); getFragmentManager().beginTransaction().replace(R.id.activity_main, challengeFragment).commit(); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">nextLevel</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(GameModChallenge game)</span></span></span><span class="hljs-function"> </span></span>{ challengeFragment = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ChallengeFragment(); game.setCurrentLevel(game.getCurrentLevel() + <span class="hljs-number"><span class="hljs-number">1</span></span>); game.createFieldInLevel(game.getCurrentLevel()); textPoint.setText(String.valueOf(point)); textRating.setText(String.valueOf(rating)); challengeFragment.setGame(game); getFragmentManager().beginTransaction().replace(R.id.activity_main, challengeFragment).commit(); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">nextLevel</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(GameModSprint game)</span></span></span><span class="hljs-function"> </span></span>{ sprintFragment = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SprintFragment(); textPoint.setText(String.valueOf(point)); game.setCurrentLevel(game.getCurrentLevel() + <span class="hljs-number"><span class="hljs-number">1</span></span>); game.createFieldInLevel(game.getCurrentLevel()); sprintFragment.setGame(game); getFragmentManager().beginTransaction().replace(R.id.activity_main, sprintFragment).commit(); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">nextLevel</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(GameModTwisting game)</span></span></span><span class="hljs-function"> </span></span>{ twistingFragment = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TwistingFragment(); textPoint.setText(String.valueOf(point)); game.setCurrentLevel(game.getCurrentLevel() + <span class="hljs-number"><span class="hljs-number">1</span></span>); game.createFieldInLevel(game.getCurrentLevel()); twistingFragment.setGame(game); getFragmentManager().beginTransaction().replace(R.id.activity_main, twistingFragment).commit(); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">nextLevel</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(GameModEvidence game)</span></span></span><span class="hljs-function"> </span></span>{ evidenceFragment = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> EvidenceFragment(); textPoint.setText(String.valueOf(point)); game.setCurrentLevel(game.getCurrentLevel() + <span class="hljs-number"><span class="hljs-number">1</span></span>); game.createFieldInLevel(game.getCurrentLevel()); evidenceFragment.setGame(game); getFragmentManager().beginTransaction().replace(R.id.activity_main, evidenceFragment).commit(); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">next</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(GameModChallenge game)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//,     textPoint.setText(String.valueOf(point)); challengeFragment = new ChallengeFragment(); game.createFieldInLevel(game.getCurrentLevel()); challengeFragment.setGame(game); getFragmentManager().beginTransaction().replace(R.id.activity_main, challengeFragment).commit(); } @Override public void failSprint(GameModSprint game) { sprintFragment = new SprintFragment(); game = new GameModSprint(this); game.createFieldInLevel(1); game.setCurrentLevel(1); sprintFragment.setGame(game); getFragmentManager().beginTransaction().replace(R.id.activity_main, sprintFragment).commit(); } @Override public void failTwisting(GameModTwisting game) { twistingFragment = new TwistingFragment(); game = new GameModTwisting(this); game.createFieldInLevel(1); game.setCurrentLevel(1); twistingFragment.setGame(game); getFragmentManager().beginTransaction().replace(R.id.activity_main, twistingFragment).commit(); } @Override public void failEvidence(GameModEvidence game) { evidenceFragment = new EvidenceFragment(); game = new GameModEvidence(this); game.createFieldInLevel(1); game.setCurrentLevel(1); evidenceFragment.setGame(game); getFragmentManager().beginTransaction().replace(R.id.activity_main, evidenceFragment).commit(); }</span></span></code> </pre><br></div></div><br>  Now a fragment of the game level has everything you need to create.  He knows everything he needs about the current field.  It remains only to link our data with the user interface. <br><br><div class="spoiler">  <b class="spoiler_title">Fragment code</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SprintFragment</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Fragment</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">View</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OnClickListener</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Game game; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Field field; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> fieldSize; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Button sq[][]; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> LayoutInflater inflater; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Runnable runner; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> View root; <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> View </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreateView</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState)</span></span></span><span class="hljs-function"> </span></span>{ root = inflater.inflate(R.layout.game, container, <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); TextView title = (TextView) root.findViewById(R.id.game_challenge_title); title.setText(String.valueOf(getActivity().getResources().getString(R.string.current_level) + game.getCurrentLevel())); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.inflater = inflater; <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> View.OnClickListener listener = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> doNotDuplicateId = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> TableLayout fieldView = (TableLayout) root.findViewById(R.id.field); ProgressBar progressBar = (ProgressBar) root.findViewById(R.id.progress_bar); progressBar.setVisibility(View.INVISIBLE); fieldSize = field.getSizeField(); sq = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Button[fieldSize][fieldSize]; fieldView.setWeightSum(fieldSize); TableRow tableRows[] = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TableRow[fieldSize]; TableRow.LayoutParams paramsRow = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TableRow.LayoutParams(); paramsRow.height = TableRow.LayoutParams.MATCH_PARENT; paramsRow.width = TableRow.LayoutParams.WRAP_CONTENT; paramsRow.weight = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; fieldSize; i++) { tableRows[i] = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TableRow(getActivity().getApplicationContext()); tableRows[i].setLayoutParams(paramsRow); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> j = <span class="hljs-number"><span class="hljs-number">0</span></span>; j &lt; fieldSize; j++) { sq[i][j] = (Button) inflater.inflate(R.layout.one_field_button, <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); sq[i][j].setId(doNotDuplicateId); sq[i][j].setWidth(getActivity().getWindow().getWindowManager().getDefaultDisplay().getWidth() / fieldSize - getActivity().getWindow().getWindowManager().getDefaultDisplay().getWidth() / (fieldSize * fieldSize)); sq[i][j].setHeight(getActivity().getWindow().getWindowManager().getDefaultDisplay().getWidth() / fieldSize - getActivity().getWindow().getWindowManager().getDefaultDisplay().getWidth() / (fieldSize * fieldSize)); doNotDuplicateId++; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (field.getSquare()[i][j] == <span class="hljs-number"><span class="hljs-number">1</span></span>) { sq[i][j].setBackgroundDrawable(getActivity().getApplicationContext().getResources().getDrawable(R.drawable.sq_painted)); } tableRows[i].addView(sq[i][j], j); tableRows[i].setWeightSum(fieldSize); } fieldView.addView(tableRows[i], i); } root.postDelayed(runner = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Runnable() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">run</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; fieldSize; i++) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> j = <span class="hljs-number"><span class="hljs-number">0</span></span>; j &lt; fieldSize; j++) { sq[i][j].setOnClickListener(listener); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (field.getSquare()[i][j] == <span class="hljs-number"><span class="hljs-number">1</span></span>) { sq[i][j].setBackgroundDrawable(getActivity().getApplicationContext().getResources().getDrawable(R.drawable.sq)); } } } } }, <span class="hljs-number"><span class="hljs-number">2000L</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> root; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setGame</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Game game)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.game = game; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.field = game.getField(); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View view)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> id = view.getId(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; fieldSize; i++) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> j = <span class="hljs-number"><span class="hljs-number">0</span></span>; j &lt; fieldSize; j++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (id == sq[i][j].getId()) { System.out.println(sq[i][j].getId()); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (field.getSquare()[i][j] == <span class="hljs-number"><span class="hljs-number">1</span></span>) { field.setRightAnswer(field.getRightAnswer() + <span class="hljs-number"><span class="hljs-number">1</span></span>); view.setOnClickListener(<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>); view.setBackgroundDrawable(getActivity().getApplicationContext().getResources().getDrawable(R.drawable.sq_painted)); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (field.getRightAnswer() == field.getPaintedSquare()) { game.createVictoryDialog(inflater); game.showDialog(); } } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (field.getSquare()[i][j] == <span class="hljs-number"><span class="hljs-number">0</span></span>) { view.setBackgroundDrawable(getActivity().getApplicationContext().getResources().getDrawable(R.drawable.sq_wrong)); game.createLooseDialog(inflater); game.showDialog(); } } } } } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onStop</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onStop(); root.removeCallbacks(runner); } }</code> </pre><br></div></div><br>  Pay attention to this method: <br><br><pre> <code class="java hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setGame</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Game game)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.game = game; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.field = game.getField(); }</code> </pre> <br>  Through it, the activity transmits a link to the game object to the fragment.  Also, in order not to use long dot notation, create a separate link for the field. <br><br>  The code is generally very simple.  An array of buttons is created, populated.  It turns out that the indices of a two-dimensional array of buttons coincide with the indices of a two-dimensional array from an object of class Field. <br><br>  Thus, when determining the pressed button, it is necessary to check which digit lies in the array of the Fild class object.  If 0, the user made an incorrect input and you need to end the game with a call. <br><br><pre> <code class="java hljs">game.createLooseDialog(inflater); game.showDialog();</code> </pre><br>  which will create and open the dialog box we need from the choices of actions. <br><br>  If the player has selected all elements equal to 1, then a winning dialog box is created.  Despite the fact that we have a reference of the Game type, the object was created by an activity of the GameModSprint type, this means that the corresponding overdefined version of this method will be called: <br><br><div class="spoiler">  <b class="spoiler_title">Victory</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (field.getRightAnswer() == field.getPaintedSquare()) { game.createVictoryDialog(inflater); game.showDialog(); }</code> </pre><br></div></div><br>  Thus, we use the most powerful tool of the Java language - dynamic method dispatching. <br><br><h2>  Conclusion </h2><br>  So, we got acquainted with the development of mobile applications and this is what happened: <br><div class="spoiler">  <b class="spoiler_title">sprint game mode</b> <div class="spoiler_text">  Level selection: <br><img src="https://habrastorage.org/files/1d1/ac9/6d8/1d1ac96d861748bd95d3f4a3c14cfb48.png"><br>  And the game itself: <br><img src="https://habrastorage.org/files/f4e/535/b74/f4e535b74d5742998e494d9922a3f13b.png"><br></div></div><br>  Link to download the game from Google Play <br>  <a href="https://play.google.com/store/apps/details%3Fid%3Dcom.thekingames.memorize">play.google.com/store/apps/details?id=com.thekingames.memorize</a> <br>  Good luck everyone! </div><p>Source: <a href="https://habr.com/ru/post/322008/">https://habr.com/ru/post/322008/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../321986/index.html">How was the frame rendered in the 1998 Thief game</a></li>
<li><a href="../321992/index.html">DDoS attacks: attack and defense</a></li>
<li><a href="../321996/index.html">Neural Network Based Interview Robot</a></li>
<li><a href="../321998/index.html">Using Tarantool in a .NET project on Windows</a></li>
<li><a href="../322000/index.html">Snake and coconut</a></li>
<li><a href="../322010/index.html">RDPPatcher sells access to your computer at a low price.</a></li>
<li><a href="../322012/index.html">Public data management: preparation and delivery</a></li>
<li><a href="../322016/index.html">My is an idea, yours is a program, or three real stories about how the author of the idea and the developer shared a startup in court.</a></li>
<li><a href="../322018/index.html">Convenient memo and 8 references to documentation in accordance with GOST 34 (automated systems)</a></li>
<li><a href="../322020/index.html">Derandomization of the ASLR on any modern processor using JavaScript</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>