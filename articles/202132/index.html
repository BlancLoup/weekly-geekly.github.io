<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Artificial Intelligence for Android with Open API</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Only the lazy one does not know today what the Siri voice assistant is . When two years ago this product was shown at the presentation of the new iPho...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Artificial Intelligence for Android with Open API</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/1a0/e71/54d/1a0e7154d926c3da4dfc9462ed8cf4e2.jpg" align="right"><br>  Only the lazy one does not know today what the <a href="http://www.apple.com/ios/siri/">Siri</a> voice assistant <a href="http://www.apple.com/ios/siri/">is</a> .  When two years ago this product was shown at the presentation of the new iPhone 4S, many looked at the development of the IT industry in a new way.  Indeed, artificial intelligence in his pocket, understanding natural speech, has not yet been shown by anyone. <br><br>  At that time, many people began to talk about the fact that Apple could, at the next WWDC, provide all iOS programmers with the opportunity to use the open API of Siri assistant for their own programs.  The picture loomed rainbow - any application would be able to respond to user phrases by executing various commands.  Indeed, if the AppStore has so many different useful applications, why not give them the ability to control their voice?  Moreover, this type of communication with the user, like speech, quickly became a trend after the release of the iPhone 4s. <br><br>  <i>Whether Apple managed to do this and what we managed to do, read on.</i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><br><h4>  Time passed, and the API at Siri did not appear </h4><br><img src="https://habrastorage.org/getpro/habr/post_images/fc2/3ea/a78/fc23eaa78f20929467f0bf6821b0328f.jpg" align="left"><br>  It should be noted that most people confuse just <i>speech recognition</i> and the actual capabilities of an assistant as <i>artificial intelligence</i> .  There is a huge difference between these two concepts - speech recognition solutions (speech-to-text) have been present on the market for a long time (for example, in Android OS it is available to everyone), but to create an open technology of the interactive system (with context support, extraction of meaning etc.) no one has yet succeeded.  Many also did not think about the number of problems that would arise when the general access of many programs to a single AI brain center in the face of Siri.  And also about including absolutely new technologies with which programmers would have to deal. <br><br>  The idea to create a voice assistant with an open and accessible to all API ‚Äúartificial intelligence‚Äù was already in our heads at that time, and we decided to implement it. <br><br><h4>  Assistant in Russian </h4><br><img src="https://habrastorage.org/getpro/habr/post_images/9e0/bc6/21b/9e0bc621bb2741a76a413e42d5fb11a3.png" align="left"><br>  Our small group of enterprising developers took on the project, now known as <a href="https://play.google.com/store/apps/details%3Fid%3Dmobi.voiceassistant.ru">Assistant in Russian</a> . <br><br>  It is worth noting that the creation of such a voice platform implies knowledge in such specialized areas as Recognition Technology (ASR) and Speech Synthesis (TTS), as well as NLP, which allows to extract meaning from user speech and control the context of the dialogue.  This component is the connecting agent for any artificial intelligence system and allows not only to turn speech into text, but also to understand what the user wants.  This is what distinguishes speech recognition technology from artificial intelligence technology. <br><br>  Our goal was to make an accessible tool for using these technologies. <br><br>  By the time of launch, the application was able to solve everyday tasks of the user with the help of speech.  And users of Android version <i>JellyBean</i> could perform voice commands without an internet connection. <br><br><h4>  Open API artificial intelligence </h4><br>  From the first day every service of ‚ÄúAssistant in Russian‚Äù was created on the basis of the same platform that we planned to open for everyone in the future.  This principle in English is called ‚Äú <a href="http://en.wikipedia.org/wiki/Eating_your_own_dog_food">Eating your own dog food</a> ‚Äù.  Thus, we could simultaneously design the voice architecture and the functionality of the assistant himself. <br><br>  The result of our work was an open API application and ‚Äú <b>hybrid</b> ‚Äù NLP technology, which, on the one hand, makes it possible to program the voice interface without any servers, using only your device and the <a href="http://developer.android.com/tools/index.html">Android SDK</a> , and on the other hand, transfer part of the solutions to the cloud by of necessity.  For example, your contacts are not sent to any servers (hello, Siri), and the list of all cities with which, say, the Weather service works, is not stored on the client. <br><br>  All assistant services were created by different programmers, some of whom do not have special knowledge in the field of ASR, TTS or NLP.  At the same time, there was no particular difficulty in using the API of our ‚ÄúAssistant‚Äù, since we set ourselves the task of making an open, accessible and understandable to all platform. <br><br>  ‚ÄúAssistant in Russian‚Äù uses the <i>interprocess communication</i> (IPC) feature in Android OS, so the assistant itself acts as a voice interface between the user and your own application.  At the same time, your application can display its GUI in the assistant interface ‚Äî for this purpose, RemoteViews and other similar techniques are used. <br><br><h4>  What can API </h4><br>  Due to the API ‚ÄúAssistant in Russian‚Äù, you can create much more interesting options, where the functionality of the assistant goes beyond the limits of the device on which it works.  For example, the third-party application ‚Äú <i>AssistantConnect</i> ‚Äù, using the API of our assistant, allows you to control the voice of various devices of the ‚Äúsmart‚Äù home and home theater. <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/UGySVGeLtIs%3Ffeature%3Doembed&amp;xid=17259,15700022,15700186,15700190,15700253&amp;usg=ALkJrhhLCSEKMM15_A0kXgcR5YaBAly4FA" frameborder="0" allowfullscreen=""></iframe><br><br>  At the same time, AssistantConnect is a regular android application that can send requests via the HTTP protocol to the <a href="http://xbmc.org/">XBMC</a> and <a href="http://ru.wikipedia.org/wiki/Z-Wave">ZWave</a> cinema to the <a href="http://zwaverussia.com/index.php%3Froute%3Dproduct/product%26product_id%3D193">Vera</a> smart home controller. <br><br>  You can also <a href="https://www.youtube.com/user/Morfeusys/videos">see</a> how using the same add-on you can control, for example, a regular browser.  All this demonstrates the capabilities of the assistant's API, which allows you to create a new type of communication with users. <br><br><h4>  How to get API </h4><br>  You can try the API in your own projects right now by downloading it from <a href="http://voiceassistant.mobi/">our website</a> .  Now we give only a brief description of how to use it.  In the following articles we will describe in more detail the technical details of the implementation of the entire ‚ÄúAssistant in Russian‚Äù platform, as well as describe the nuances of using the API itself. <br><br>  This article is the <b>very first step</b> in publishing an assistant's API.  In the near future, much will change, we plan to provide more features, including a <i>catalog of add-ons</i> , through which the user can find all applications in the PlayStore that support voice control, as well as a <i>commercial SDK</i> for creating your own voice assistants. <br><br><h4>  The basics </h4><br>  To implement the library with the assistant's API in your application, you will not need to learn any new programming languages ‚Äã‚Äãor technologies.  All you need is an <a href="http://developer.android.com/tools/index.html">Android SDK</a> and IDE for development.  We suggest using <a href="http://developer.android.com/sdk/installing/studio.html">Android Studio</a> .  Libraries are connected simply by specifying dependencies in the <i>build.gradle</i> file <i>.</i> <br><br><pre><code class="xml hljs">repositories { maven { url 'http://voiceassistant.mobi/m2/repository' } } dependencies { compile 'mobi.voiceassistant:base:0.1.0-SNAPSHOT' compile 'mobi.voiceassistant:client:0.1.0-SNAPSHOT' }</code> </pre> <br><br>  The API allows you to establish a connection between your application and ‚ÄúAssistant in Russian‚Äù in such a way that all user phrases that are relevant to your application will be redirected to a special service that you must implement.  We call these services Agents. <br><br><h4>  Agents and modules </h4><br>  The assistant will extract in advance all the necessary data from the text of the phrase and provide it to the agent in the form of a semantic parse tree - Token.  This is due to the special grammars (Modules) that you need to form for your service. <br><br>  A module is a set of commands with patterns (Patterns) of phrases to which your agent should respond (the syntax of patterns is described in detail in the API documentation).  The agent may at any time limit the set of such modules available to the user, thereby forming the context of the dialogue.  Here is an example of the simplest module: <br><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">module</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:android</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.android.com/apk/res/android"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">pattern</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"UserName"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"*"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">command</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/cmd_hello"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">pattern</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"* *"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">command</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">command</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/cmd_name"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">pattern</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"*   $UserName"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">command</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">module</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  A module is simply an xml file that needs to be stored in your application's xml resource directory.  Here is an example of a simple module with two commands and very simple patterns. <br>  As you can see, the module does not contain any control code, since all the code will be described in the class of your agent.  This reflects the basic principle of our approach to the voice API - the <i>declarative part describing the grammar of the dialogue is separated from the control code that implements the processing logic and is completely independent of the language</i> . <br><br>  The agent is, in fact, an add-on over regular <a href="http://developer.android.com/guide/components/services.html">Android services</a> .  It implements the interface between the assistant and the logic of your application. <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HelloAgent</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AssistantAgent</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCommand</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Request request)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (request.getDispatchId()) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> R.id.cmd_hello: onHello(request); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> R.id.cmd_name: onName(request); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } ... }</code> </pre><br><br>  Here is a simple example of how an agent can handle the commands described earlier in the module.  The AssistantAgent abstraction provides many different methods for processing commands, managing the context of a dialogue, invoking third-party activities, etc. <br><br>  A request contains all the necessary information about the user's request ‚Äî the command identifier, the content of the request (token or something else), the session, etc.  For any request, the agent should form a response - Response, containing the content of the response and, if necessary, instructions to the assistant about switching the dialogue context. <br><br><pre> <code class="java hljs">request.addQuickResponse(‚Äú!‚Äù);</code> </pre> <br><br>  This is an example of forming a quick response in one line.  But a slightly more complicated example: <br><br><pre> <code class="java hljs">Response response = request.createResponse(); response.setContent(getString(R.string.hello_say_name)); response.enterModalQuestionScope(R.xml.name); request.addResponse(response);</code> </pre><br><br>  Here, the answer, in addition to content in the form of a string (it is possible to transmit other types of content, for example, a GUI) also contains information about changes in the dialogue context.  Now, the user will be able to access commands only from the R.xml.name module, and after the dubbing by the assistant of the response from the agent, the microphone automatically turns on - this is called ‚Äúmodal mode‚Äù. <br><br>  Each agent is a service, and therefore it must be described in the application manifest - AndroidManifest.xml <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">service</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">".HelloAgent"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">intent-filter</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">action</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"mobi.voiceassistant.intent.action.COMMAND"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">data</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:scheme</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"assist"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:host</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"mobi.voiceassistant.ru"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">intent-filter</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta-data</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"mobi.voiceassistant.MODULE"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:resource</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@xml/hello"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">service</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  Here you can see the main module of the agent and the package of the ‚ÄúAssistant in Russian‚Äù with which the agent can work. <br><br>  After building your application and installing it on a device, ‚ÄúAssistant in Russian‚Äù will pick up information from your manifest and load the module.  And then it will redirect all relevant requests from the user to your agent, if the assistant's NLP engine considers that the phrase is best suited for the patterns of the module commands. <br><br><h4>  To be continued </h4><br>  In this post we very briefly gave the basics of using our API, describing the basic principles of working with it.  Of course, the assistant library provides many more complex functions: remote and fuzzy patterns, RemoteViews, dynamically changing the response content, extracting data from phrases, and more.  All this is described in the <a href="http://voiceassistant.mobi/docs/ru/api-developer-guide/index.html">documentation</a> , which we will supplement in the course of improvements in the library itself. <br><br>  We suggest that you try voice control in your own projects, join <a href="https://plus.google.com/u/0/communities/110138816806589935412">the developer community</a> and help improve this tool. </div><p>Source: <a href="https://habr.com/ru/post/202132/">https://habr.com/ru/post/202132/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../202118/index.html">Fly in, cheaper: how smartphones and tablets lose in value when resale</a></li>
<li><a href="../202120/index.html">New analog and digital boards for Digium Asterisk</a></li>
<li><a href="../202126/index.html">Automated Sampling Shares: A Terminal for Distributing Samples and Probes of Products</a></li>
<li><a href="../202128/index.html">What in SEO can be considered normal and working, and that - obsolete</a></li>
<li><a href="../202130/index.html">Package Manager for Delphi</a></li>
<li><a href="../202134/index.html">Using the power of js in all aspects of a web project</a></li>
<li><a href="../202138/index.html">Path to automate Java removal (JDK and JRE) on Windows</a></li>
<li><a href="../202140/index.html">SonataMediaBundle. Russian version of the translation file xliff</a></li>
<li><a href="../202142/index.html">AD called JSMPP</a></li>
<li><a href="../202144/index.html">Start Sandbox Championship Russian AI Cup</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>