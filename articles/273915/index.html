<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Chaos generators on FPGA</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! 

 This article is dedicated to amazing features in the world of chaos. I will try to talk about how to curb such a strange and complex thing a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Chaos generators on FPGA</h1><div class="post__text post__text-html js-mediator-article">  Hello! <br><br>  This article is dedicated to amazing features in the world of chaos.  I will try to talk about how to curb such a strange and complex thing as a chaotic process and learn how to create your own simplest chaos generators.  Together with you we will go from dry theory to beautiful visualization of chaotic processes in space.  In particular, using the example of well-known chaotic attractors, I will show how to create dynamic systems and use them in problems related to programmable logic integrated circuits (FPGAs). <br><br><img src="https://habrastorage.org/files/c69/4e7/94a/c694e794a619480b871cb5adc58f9e2e.jpg"><br><a name="habracut"></a><br><h5>  <b>Introduction</b> </h5><br>  <b>Chaos theory</b> is an unusual and young science that describes the behavior of nonlinear dynamical systems.  In the process of its inception, the theory of chaos simply turned over modern science!  It excited the minds of scientists and forced them to dive more and more into the study of chaos and its properties.  Unlike noise, which is a random process, chaos is deterministic.  That is, for chaos, there is a law of variation of the quantities included in the equations describing a chaotic process.  It would seem that with this definition, chaos is no different from any other vibrations described as a function.  But it is not.  Chaotic systems are very sensitive to the initial conditions, and their slightest changes can lead to enormous differences.  These differences can be so strong that it will be impossible to tell if one or more systems have been investigated.  From popular science sources, this property of chaos describes a process called the " <b>butterfly effect</b> " best of all.  Many have heard of him, and even read books and watched films that used a trick using the butterfly effect.  In essence, the butterfly effect reflects the main property of chaos. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The American scientist Edward Lorenz, one of the pioneers in the field of chaos, once said: <blockquote>  A butterfly flapping in Iowa can cause an avalanche of effects that can culminate in the rainy season in Indonesia. </blockquote><br><br><img src="https://habrastorage.org/files/b01/187/fbe/b01187fbe9e74bbd943640633a489e1d.jpg"><br><br>  So, let's plunge into the theory of chaos and see what means can be used to generate chaos. <br><br><h5>  <b>Theory</b> </h5><br>  Before setting out the main material, I would like to give a few definitions that will help to understand and clarify some points in the article. <br><br>  <i>A dynamic system</i> is a set of elements for which a functional dependence is set between the time coordinate and the position in the phase space of each element of the system.  Simply put, a dynamic system is one in which the state in space changes over time. <br>  Many physical processes in nature are described by systems of equations, which are dynamic systems.  For example, these include combustion processes, the flow of liquids and gases, the behavior of magnetic fields and electrical oscillations, chemical reactions, meteorological phenomena, changes in populations in plants and animals, turbulence in sea currents, the movement of planets and even galaxies.  As you can see, many physical phenomena can be described to some extent as a chaotic process. <br><br>  <i>A phase portrait</i> is a coordinate plane in which each point corresponds to the state of a dynamic system at a certain point in time.  In other words, it is a spatial model of the system (it can be two-dimensional, three-dimensional, and even four-dimensional or more). <br><br>  <i>An attractor</i> is a set of the phase space of a dynamical system for which all trajectories over time attract themselves to this set.  If it is a very simple language, then this is some area in which the behavior of the system in space is concentrated.  Many chaotic processes are attractors, since they are concentrated in a certain area of ‚Äã‚Äãspace. <br><br><h5>  <b>Implementation</b> </h5><br>  In this article I would like to talk about the four main attractors - Lorenz, Ressler, Rikitake and Nose-Hoover.  In addition to the theoretical description, the article reflects aspects on the creation of dynamic systems in the <b>MATLAB Simulink</b> environment and their further integration into the <b>Xilinx</b> FPGA using the <b>System Generator</b> tool.  Why not VHDL / Verilog?  Attractors can be synthesized using RTL languages, but for a better visualization of all processes, MATLAB is an ideal option.  I will not touch upon the difficult moments associated with the calculation of the spectrum of Lyapunov exponents or the construction of Poincare sections.  And even more, there will be no bulky mathematical formulas and conclusions.  So let's get started. <br><br>  To create chaos generators, we need the following software: <br><ul><li>  MATLAB R2014 with a license for Simulink and DSP Toolbox. </li><li>  Xilinx ISE Design Suite 14.7 with a license for System-Generator (DSP Edition) </li></ul><br>  These programs are quite heavy, so be patient when installing them.  It is better to start the installation with MATLAB, and then install the Xilinx software (with a different sequence, some of my friends could not integrate one application into another).  When you install the latter pops up a window where you can link Simulink and System Generator.  There is nothing complicated and unusual in the installation, so we omit this process. <br><br><h5>  <b>Lorenz attractor</b> </h5><br>  <i>The Lorenz attractor</i> is perhaps the most famous dynamical system in chaos theory.  For several decades, it has attracted the attention of many researchers to describe certain physical processes.  The first mention of the attractor is given in 1963 in the works of E. Lorentz, who was engaged in modeling atmospheric phenomena.  The Lorenz attractor is a three-dimensional dynamic system of nonlinear autonomous differential equations of the first order.  It has a complex topological structure, is asymptotically stable and Lyapunov stable.  The Lorenz attractor is described by the following system of differential equations: <br><img src="https://habrastorage.org/files/40a/fc8/318/40afc83184da4f02abe864c48197d1fd.png"><br>  In the formula, the point above the parameter means taking the derivative, which reflects the rate of change of the value over time (the physical meaning of the derivative). <br><br>  For the values ‚Äã‚Äãof the parameters <b>œÉ</b> = 10, <b>r</b> = 28 and <b>b</b> = 8/3, this simple dynamic system was obtained by E. Lorentz.  For a long time he could not understand what was happening with his computer, until he finally realized that the system was showing chaotic properties!  It was obtained in the course of experiments for the problem of modeling fluid convection.  In addition, this dynamic system describes the behavior of the following physical processes: <br><ul><li>  - model of the single-mode laser, </li><li>  - convection in a closed loop and a flat layer, </li><li>  - rotation of the water wheel, </li><li>  - harmonic oscillator with inertial nonlinearity, </li><li>  - turbulence of cloud masses, etc. </li></ul><br>  The following figure shows the Lorenz attractor system in MATLAB: <br><img src="https://habrastorage.org/files/aa9/2d2/b30/aa92d2b30b794e439055c8ee9b9c0d58.png"><br><br>  The figure uses the following notation: <br><ul><li>  subtracters: <i>SUB0-3</i> ; </li><li> multipliers per constant: <i>SIGMA, B, R</i> ; </li><li>  multipliers: <i>MULT0-1</i> ; </li><li>  integrators with a cell specifying the initial condition: <i>INTEGRATOR X, Y, Z</i> ; </li><li>  output ports OUT: <i>DATA X, Y, Z</i> for signals <i>XSIG, YSIG, ZSIG</i> ; </li></ul><br>  In addition, the diagram shows auxiliary analysis tools, these are: <br><ul><li>  saving calculation results to file: <i>To Workspace X, Y, Z</i> ; </li><li>  spatial graphing: <i>Graph XY, YZ, XZ</i> ; </li><li>  plotting timelines: <i>Scope XYZ</i> ; </li><li>  tools for estimating occupied crystal resources and generating HDL code from the <b>Resource Estimator</b> and <b>System Generator</b> models. </li></ul><br>  Inside each node of mathematical operations, you must specify the width of the intermediate data and their type.  Unfortunately, in FPGA it is not so easy to work with a floating point and in most cases all operations are performed in a fixed-point format.  Incorrect setting of parameters can lead to incorrect results and upset you when building your systems.  I experimented with different values, but stopped at the following data type: 32-bit vector of signed numbers in a fixed-point format.  12 bits are allocated to the integer part, 20 bits per fractional part. <br><br>  Having installed the integrator X, Y, Z in the trigger block the initial value of the system, for example, <b>{10, 0, 0}</b> , I launched the model.  In the time base, the following three signals can be observed: <br><img src="https://habrastorage.org/files/b97/eb4/5a1/b97eb45a182d4ffd9dbd955a2fcee9fd.png"><br>  Even if the simulation time is directed to infinity, the realization in time will never be repeated.  Chaotic processes are non-periodic. <br><br>  In three-dimensional space, the Lorenz attractor looks like this: <br><img src="https://habrastorage.org/files/b5f/89d/8ae/b5f89d8aef6c47e0bead14ceba004e1f.png"><br><br>  It is seen that the attractor has two points of attraction, around which the whole process occurs.  With a slight change in the initial conditions, the process will also be concentrated around these points, but its trajectories will differ significantly from the previous version. <br><br><h5>  <b>R√∂ssler Attractor</b> </h5><br>  The second by the number of references in scientific articles and publications is an attractor.  For the <i>R√∂ssler attractor</i> , the presence of a boundary point for the manifestation of chaotic or periodic properties is characteristic.  At certain parameters of the dynamic system, the oscillations cease to be periodic, and chaotic oscillations arise.  One of the remarkable properties of the R√∂ssler attractor is the fractal structure in the phase plane, that is, the self-similarity phenomenon.  You can see that the other attractors, as a rule, have this property. <br><br>  The Rossler attractor is observed in many systems.  For example, it is used to describe fluid flows, as well as to describe the behavior of various chemical reactions and molecular processes.  The R√∂ssler system is described by the following differential equations: <br><img src="https://habrastorage.org/files/f9d/1f7/5bf/f9d1f75bfc0e45288c7e074bbe8ef554.png"><br><br>  In the MATLAB environment, the attractor is constructed as follows: <br><img src="https://habrastorage.org/files/8fb/ddb/047/8fbddb04768849aeac1d5685ead8bedb.png"><br><br>  Temporal realization of spatial values: <br><img src="https://habrastorage.org/files/7e2/76e/fa5/7e276efa5a624ab5a7b5ad49a817f3a2.png"><br><br>  Three-dimensional model of the Roessler attractor: <br><img src="https://habrastorage.org/files/42e/6c7/db9/42e6c7db96e541d587f2612f4733d81f.png"><br><br><div class="spoiler">  <b class="spoiler_title">Wham!</b>  <b class="spoiler_title">Slightly changed values:</b> <div class="spoiler_text">  Attractor with slightly modified initial conditions (trajectories are different!) <br><img src="https://habrastorage.org/files/4e1/047/487/4e1047487ad3490ca155403623d9a4f4.png"><br><br>  Attractor for other coefficients in the system of equations (the chaotic process turned into a periodic one!) <br><img src="https://habrastorage.org/files/54f/40d/451/54f40d451485444fb28de6047fe566d2.png"><br></div></div><br>  Compare pictures of three-dimensional attractors under different initial conditions and coefficients in the system of equations.  See how dramatically the trajectories of movement in the first case?  But one way or another they are concentrated near a single region of attraction.  In the second case, the attractor in general ceased to show signs of chaos, turning into a closed periodic loop (limit cycle). <br><br><h5>  <b>Attractor Rikitake</b> </h5><br>  <i>Dynamo Rikitake</i> is one of the known third-order dynamical systems with chaotic behavior.  It is a model of a two-disk dynamo and was first proposed in problems of the chaotic inversion of the geomagnetic field of the Earth.  The scientist Rikitake investigated a dynamo system with two interconnected disks constructed in such a way that the current from one disk coil flowed into another and excited the second disk, and vice versa.  At some point, the system began to crash and show unpredictable things.  Active studies of the attractor allowed the Rikitake dynamo to be projected onto the coupling model of large magnetic field vortices in the core of the Earth. <br><br>  Dynamo Rikitake is described by the following system of equations: <br><img src="https://habrastorage.org/files/c77/06f/4b3/c7706f4b3a5440efa6b5b3009efd42ba.png"><br><br>  Model Dynamo Rikitake in MATLAB: <br><img src="https://habrastorage.org/files/c7a/51f/ca2/c7a51fca2b4f45a9a6203d7ba37c9b23.png"><br><br>  Temporary implementation: <br><img src="https://habrastorage.org/files/269/242/859/2692428595ab4463bdbc023fa573644f.png"><br><br>  Attractor (first version): <br><img src="https://habrastorage.org/files/49f/e2a/2c0/49fe2a2c04824274b0617413c246c62e.png"><br><br><div class="spoiler">  <b class="spoiler_title">Dynamo (second version)</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/a88/6f3/049/a886f3049d8a44dbbc8223a3f438798c.png"><br></div></div><br>  You may notice that the Rikitake dynamo is somewhat similar to the Lorenz attractor, but these are completely different systems and describe different physical processes! <br><br><h5>  <b>Nose-Hoover Attractor</b> </h5><br>  A less famous, but no less important, three-dimensional dynamic system is the <i>Nose-Hoover thermostat</i> .  Used in molecular theory as a reversible in time thermostatic system.  Unfortunately, I don‚Äôt know so much about this attractor as about the others, but I found it interesting and I included it in the review. <br><br>  The Nose-Hoover thermostat is described by the following system of equations: <br><img src="https://habrastorage.org/files/24b/538/cc0/24b538cc0a5a4a0faaade735dfcfe18b.png"><br><br>  Nose Hoover model in MATLAB: <br><img src="https://habrastorage.org/files/3fe/957/4e6/3fe9574e635f44e5baf6a4131bd4b46b.png"><br><br>  Temporary implementation: <br><img src="https://habrastorage.org/files/d06/a0e/402/d06a0e402ef843b6ae09122d9bcefef6.png"><br><br>  Two-dimensional projections of the attractor: <br><img src="https://habrastorage.org/files/5ba/81f/af8/5ba81faf86374f7f847a4974389306b3.png"><br><br>  Three-dimensional model of the Nose-Hoover thermostat: <br><img src="https://habrastorage.org/files/c38/493/b90/c38493b90c214cb196e7352f9c966509.png"><br><br><div class="spoiler">  <b class="spoiler_title">Thermostat (second version)</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/797/7a5/d91/7977a5d912a2413db12d2aecf403520a.png"><br></div></div><br><br><h5>  <b>Project Synthesis</b> </h5><br>  To synthesize the project, you need to click on the red ‚ÄúX‚Äù icon, which will launch the System Generator settings.  Here you can select the FPGA family and type, the resulting file format (VHDL / Verilog - for creating source codes, NGC - for creating a kernel in the form of a list of connections), preliminary clock frequencies, etc. My typical settings are shown in the following figure: <br><br><img src="https://habrastorage.org/files/e2e/bb8/576/e2ebb8576ea940e5bb82994499f54726.png"><br><br>  After installing all the settings - click "Generate" and at the output we have a synthesized project for the FPGA.  Then it‚Äôs easy to insert the generated kernel into the part of the project you need.  (How this is done, you can find in my other articles on digital signal processing).  All listed attractors occupy very few resources in modern FPGA crystals (about 10-20 DSP48 blocks and a bit of logic). <br><br><div class="spoiler">  <b class="spoiler_title">Life examples</b> <div class="spoiler_text">  Lorenz attractor on the oscilloscope screen: <br><img src="https://habrastorage.org/files/57d/57c/735/57d57c735991407fadb626827a8fa647.jpg"><br><br>  A system of galaxies similar to the Lorenz attractor: <br><img src="https://habrastorage.org/files/ee0/3c3/e63/ee03c3e6392d40ca86bb74b6f523e499.jpg"><br></div></div><br><h5>  <b>Conclusion</b> </h5><br>  These attractors are used in many physical processes in various fields of science and technology - from physics and chemistry to mechanics and meteorology.  In particular, chaos generators are used to create long sequences of pseudo-random numbers (PRS).  In the tasks of radio engineering, chaos can be used to modulate a carrier when creating ultra-wideband signals by digital methods (on FPGAs or processors). <br><br>  Chaos theory is an interesting and amazing science.  And thanks to modern analysis and modeling tools, it becomes quite attractive for research.  With the help of this article you can independently model your own dynamical systems, up to hyperchaotic systems of order higher than 3 (for example, Lorentz hyperhaos, Rossler, etc.).  I hope, the material of my publication can be useful to someone, and someone will find something new and useful for themselves. <br><br>  <a href="https://github.com/capitanov/Chaotic_Attractors">Attractor source files on Github</a> <br><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/EF5Wvi_Iiy4%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhj0B0q6ByfqSecNPA61fpZawpymiQ" frameborder="0" allowfullscreen=""></iframe><br><br>  My articles on similar topics: <br><ul><li>  <a href="http://geektimes.ru/post/266888/">Digital filtering on FPGA - 1 (CIC filters)</a> </li><li>  <a href="http://geektimes.ru/post/267098/">Digital filtering on FPGA - 2 (FIR filters)</a> </li></ul><br><h5>  <b>Literature</b> </h5><br><ul><li>  <a href="http://habrahabr.ru/post/153691/">Chaos on Habr√©!</a> </li><li>  <a href="http://www.chaoscope.org/">Chaoscope Online</a> </li><li>  <a href="http://www.e-reading.club/book.php%3Fbook%3D1015323">Chaos.</a>  <a href="http://www.e-reading.club/book.php%3Fbook%3D1015323">Creating a new science</a> </li><li>  <a href="https://ru.wikipedia.org/wiki/%25D0%25A2%25D0%25B5%25D0%25BE%25D1%2580%25D0%25B8%25D1%258F_%25D1%2585%25D0%25B0%25D0%25BE%25D1%2581%25D0%25B0">Chaos Theory - Wiki</a> </li><li>  <a href="https://en.wikipedia.org/wiki/Lorenz_system">Lorenz Attractor - Wiki</a> </li><li>  <a href="https://en.wikipedia.org/wiki/R%25C3%25B6ssler_attractor">R√∂ssler Attractor - Wiki</a> </li><li>  <a href="http://www.amazon.com/Elegant-Chaos-Julien-Clinton-Sprott/dp/9812838813">Elegant chaos (also sold in Russian)</a> </li></ul><br>  <sup><i>Hooray, the Hub FPGA is back for Habr.</i></sup>  <sup><i>Happy New Year, everyone!</i></sup> </div><p>Source: <a href="https://habr.com/ru/post/273915/">https://habr.com/ru/post/273915/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../273897/index.html">Git and Github. Simple recipes</a></li>
<li><a href="../273901/index.html">We join the tox community or install the node in 5 minutes</a></li>
<li><a href="../273903/index.html">Microsoft begins active struggle with adware type Superfish</a></li>
<li><a href="../273905/index.html">DotNext 2015 in Moscow: pushing the boundaries</a></li>
<li><a href="../273907/index.html">Great overview of beautiful multi-level menus with codepen</a></li>
<li><a href="../273917/index.html">What is landing</a></li>
<li><a href="../273919/index.html">Non-standard top events in the field of IT-security 2015</a></li>
<li><a href="../273921/index.html">The return of the prodigal hubs</a></li>
<li><a href="../273923/index.html">Adding sorting animation to jQuery UI</a></li>
<li><a href="../273929/index.html">Unique Setun based on ternary code</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>