<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Creating zip modules in python</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Prehistory 
 At a certain stage of development of Acronis technology, it was decided to explore the possibility of distributing the python3 interprete...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Creating zip modules in python</h1><div class="post__text post__text-html js-mediator-article"><h4>  Prehistory </h4><br>  At a certain stage of development of <a href="http://habrahabr.ru/company/acronis/">Acronis</a> technology, it was decided to explore the possibility of distributing the python3 interpreter of our own assembly as part of our products, while expanding it with our own modules that provide access to the infrastructure of these products.  This post is one of the results of research in this direction. <br><br>  First of all, we wanted to have a limited compact set of finite distributable modules.  However, the public Python build distributed via <a href="http://www.python.org/">python.org</a> does not have to this, the standard library alone, which is an integral part of the language itself, consists of more than a thousand py-files.  That is why we immediately noticed such an interesting feature of the interpreter, such as the ability to import modules stored in zip archives, when the entire set of python sources, belonging to one or several modules, is packed into a zip archive and distributed in one zip file. <br><br><a name="habracut"></a>  Looking back, it is safe to say that support for working with zip modules in python is a powerful and convenient thing.  And it works, and it works well.  After a series of experiments with zip-modules, imbued with the spirit of zip-poking, we got so into the taste that the entire standard python library (the script part of it) was also packed into a separate zip-file. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Start </h4><br>  To begin with, we will create a test environment that is as simple as possible, but at the same time sufficient to demonstrate all the intended features of the discussed functionality.  Environment will be screw, so it turned out to be more convenient for me at the moment.  For those who want to try the Linux examples given here, I‚Äôll just note that there shouldn‚Äôt be any fundamental differences, the only thing required is an installed python3, either through the package manager of your Linux distribution, or through the good old <nobr>configure / make / make install.</nobr> <br><br>  Simple demo modules, which we will pack in zip, I originally had in d: \ habr \ lib: <br><ul><li>  say_hello.py <br><pre><code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">say_hello</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> print(<span class="hljs-string"><span class="hljs-string">"Hello python world."</span></span>)</code> </pre> </li><li>  my_sysinfo / __ init__.py <br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> .sysinfo <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> print_sysinfo</code> </pre></li><li>  my_sysinfo / sysinfo.py <br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sys <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> traceback <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">print_sysinfo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> print(<span class="hljs-number"><span class="hljs-number">80</span></span> * <span class="hljs-string"><span class="hljs-string">'-'</span></span>) print(sys.version) print(<span class="hljs-number"><span class="hljs-number">80</span></span> * <span class="hljs-string"><span class="hljs-string">'-'</span></span>) traceback.print_stack() print(<span class="hljs-number"><span class="hljs-number">80</span></span> * <span class="hljs-string"><span class="hljs-string">'-'</span></span>)</code> </pre></li></ul><br>  Since, among other things, I wanted to demonstrate the ability to package just a few modules into one zip file, here I created two different types of modules, the first <code>say_hello</code> module consists of a single <code>say_hello.py</code> file with the <code>say_hello()</code> function <code>say_hello()</code> in it, the second <code>my_sysinfo</code> module <code>my_sysinfo</code> made slightly more complicated - as a directory with the file <code>__init__.py</code> , containing in the import list the function <code>print_sysinfo</code> .  Looking ahead, I will immediately say that this function, among other summary information such as <code>sys.version</code> also prints a stack of its own call specifically for revealing the features of zip-hosting. <br><br>  We check that everything works unpacked: <br><pre> <code class="hljs tex">c:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Python</span></span></span></span>33<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">python</span></span></span></span>.exe</code> </pre><br><pre> <code class="python hljs">Python <span class="hljs-number"><span class="hljs-number">3.3</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span> (v3<span class="hljs-number"><span class="hljs-number">.3</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span>:d047928ae3f6, May <span class="hljs-number"><span class="hljs-number">16</span></span> <span class="hljs-number"><span class="hljs-number">2013</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span>:<span class="hljs-number"><span class="hljs-number">43</span></span>) [MSC v<span class="hljs-number"><span class="hljs-number">.1600</span></span> <span class="hljs-number"><span class="hljs-number">32</span></span> bit (Intel)] on win32 Type <span class="hljs-string"><span class="hljs-string">"help"</span></span>, <span class="hljs-string"><span class="hljs-string">"copyright"</span></span>, <span class="hljs-string"><span class="hljs-string">"credits"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> <span class="hljs-string"><span class="hljs-string">"license"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> more information. &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sys &gt;&gt;&gt; sys.path.insert(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-string"><span class="hljs-string">'d:\\habr\\lib'</span></span>) &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> say_hello &gt;&gt;&gt; say_hello.say_hello() Hello python world. &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> my_sysinfo &gt;&gt;&gt; my_sysinfo.print_sysinfo() -------------------------------------------------------------------------------- <span class="hljs-number"><span class="hljs-number">3.3</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span> (v3<span class="hljs-number"><span class="hljs-number">.3</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span>:d047928ae3f6, May <span class="hljs-number"><span class="hljs-number">16</span></span> <span class="hljs-number"><span class="hljs-number">2013</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span>:<span class="hljs-number"><span class="hljs-number">43</span></span>) [MSC v<span class="hljs-number"><span class="hljs-number">.1600</span></span> <span class="hljs-number"><span class="hljs-number">32</span></span> bit (Intel)] -------------------------------------------------------------------------------- File <span class="hljs-string"><span class="hljs-string">"&lt;stdin&gt;"</span></span>, line <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> &lt;module&gt; File <span class="hljs-string"><span class="hljs-string">"d:\habr\lib\my_sysinfo\sysinfo.py"</span></span>, line <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> print_sysinfo traceback.print_stack() --------------------------------------------------------------------------------</code> </pre><br><br><h4>  Zip packaging </h4><br>  In the very package of the original py-files in zip there are no secrets.  To do this, you can use any zip-archiver available at your fingertips, or you can directly pack a python script using the functionality from the standard <code>zipfile</code> module.  A little later, I will provide the code for a simple packaging script that I called <a href="https://habr.com/ru/company/acronis/blog/208378/">mkpyzip.py</a> and put it in the d: \ habr \ tools folder. <br><br>  We package the above modules into a zip file d: \ habr \ output \ mybundle.zip with this script: <br><pre> <code class="hljs tex">:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Python</span></span></span></span>33<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">python</span></span></span></span>.exe d:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">habr</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tools</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mkpyzip</span></span></span></span>.py --src d:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">habr</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">lib</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">my</span></span></span></span>_sysinfo d:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">habr</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">lib</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">say</span></span></span></span>_hello.py --out d:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">habr</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">output</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mybundle</span></span></span></span>.zip ::: d:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">habr</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">lib</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">my</span></span></span></span>_sysinfo<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">_</span></span></span></span>_init__.py &gt;&gt;&gt; mybundle.zip/my_sysinfo/__init__.py ::: d:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">habr</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">lib</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">my</span></span></span></span>_sysinfo<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">sysinfo</span></span></span></span>.py &gt;&gt;&gt; mybundle.zip/my_sysinfo/sysinfo.py ::: d:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">habr</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">lib</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">say</span></span></span></span>_hello.py &gt;&gt;&gt; mybundle.zip/say_hello.py</code> </pre>  This script, among other things, added a detailed conclusion about which file and under what name it is packed into a zip-archive. <br><br>  We check that everything works being packaged in such a zip-archive: <br><a name="nopyc"></a><pre> <code class="hljs tex">c:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Python</span></span></span></span>33<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">python</span></span></span></span>.exe</code> </pre><br><pre> <code class="python hljs">Python <span class="hljs-number"><span class="hljs-number">3.3</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span> (v3<span class="hljs-number"><span class="hljs-number">.3</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span>:d047928ae3f6, May <span class="hljs-number"><span class="hljs-number">16</span></span> <span class="hljs-number"><span class="hljs-number">2013</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span>:<span class="hljs-number"><span class="hljs-number">43</span></span>) [MSC v<span class="hljs-number"><span class="hljs-number">.1600</span></span> <span class="hljs-number"><span class="hljs-number">32</span></span> bit (Intel)] on win32 Type <span class="hljs-string"><span class="hljs-string">"help"</span></span>, <span class="hljs-string"><span class="hljs-string">"copyright"</span></span>, <span class="hljs-string"><span class="hljs-string">"credits"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> <span class="hljs-string"><span class="hljs-string">"license"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> more information. &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sys &gt;&gt;&gt; sys.path.insert(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">'d:\\habr\\output\\mybundle.zip'</span></span>) &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> say_hello &gt;&gt;&gt; say_hello.say_hello() Hello python world. &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> my_sysinfo &gt;&gt;&gt; my_sysinfo.print_sysinfo() -------------------------------------------------------------------------------- <span class="hljs-number"><span class="hljs-number">3.3</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span> (v3<span class="hljs-number"><span class="hljs-number">.3</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span>:d047928ae3f6, May <span class="hljs-number"><span class="hljs-number">16</span></span> <span class="hljs-number"><span class="hljs-number">2013</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span>:<span class="hljs-number"><span class="hljs-number">43</span></span>) [MSC v<span class="hljs-number"><span class="hljs-number">.1600</span></span> <span class="hljs-number"><span class="hljs-number">32</span></span> bit (Intel)] -------------------------------------------------------------------------------- File <span class="hljs-string"><span class="hljs-string">"&lt;stdin&gt;"</span></span>, line <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> &lt;module&gt; File <span class="hljs-string"><span class="hljs-string">"d:\habr\output\mybundle.zip\my_sysinfo\sysinfo.py"</span></span>, line <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> print_sysinfo traceback.print_stack() --------------------------------------------------------------------------------</code> </pre>  From the output it can be seen that everything works as expected, being packaged in a zip archive, in particular the stack listing from our function <code>my_sysinfo.print_sysinfo()</code> shows that the code of the function being called is inside our zip file - d: \ habr \ output \ mybundle .zip \ my_sysinfo \ sysinfo.py <br><br><h4>  Bytecode generation when packing in zip </h4><br>  And now is the time to recall such a well-known feature of the interpreter, such as generating a bytecode when importing a module, or loading and executing bytecode generated earlier, if one is valid at the time of import.  In the case of modules packaged in zip, things are a little different.  For zip-modules, the byte-code must be generated and packed into a zip-file in advance, otherwise the interpreter after each restart when importing any module from the zip-file will generate for it a byte-code in memory again.  Well, in our <a href="https://habr.com/ru/company/acronis/blog/208378/">mkpyzip.py</a> script, the <a href="https://habr.com/ru/company/acronis/blog/208378/">bytecode</a> generation is already provided, just add the option <code>--mkpyc</code> and <code>--mkpyc</code> zip file: <br><pre> <code class="hljs tex">c:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Python</span></span></span></span>33<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">python</span></span></span></span>.exe d:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">habr</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tools</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mkpyzip</span></span></span></span>.py --mkpyc --src d:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">habr</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">lib</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">my</span></span></span></span>_sysinfo d:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">habr</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">lib</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">say</span></span></span></span>_hello.py --out d:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">habr</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">output</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mybundle</span></span></span></span>.zip ::: d:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">habr</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">lib</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">my</span></span></span></span>_sysinfo<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">_</span></span></span></span>_init__.py &gt;&gt;&gt; mybundle.zip/my_sysinfo/__init__.py ::: mkpyc for: d:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">habr</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">lib</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">my</span></span></span></span>_sysinfo<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">_</span></span></span></span>_init__.py &gt;&gt;&gt; mybundle.zip/my_sysinfo/__init__.pyc ::: d:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">habr</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">lib</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">my</span></span></span></span>_sysinfo<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">sysinfo</span></span></span></span>.py &gt;&gt;&gt; mybundle.zip/my_sysinfo/sysinfo.py ::: mkpyc for: d:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">habr</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">lib</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">my</span></span></span></span>_sysinfo<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">sysinfo</span></span></span></span>.py &gt;&gt;&gt; mybundle.zip/my_sysinfo/sysinfo.pyc ::: d:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">habr</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">lib</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">say</span></span></span></span>_hello.py &gt;&gt;&gt; mybundle.zip/say_hello.py ::: mkpyc for: d:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">habr</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">lib</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">say</span></span></span></span>_hello.py &gt;&gt;&gt; mybundle.zip/say_hello.pyc</code> </pre><br>  Now that the basic aspects of packaging python modules in a zip file are revealed, it's time to bring the code for the utility mkpyzip.py itself.  Immediately, I note that there is nothing special in this script, and the prototype for generating bytecode was borrowed from the standard library of the python language (to search for this prototype, it is enough to search for the keyword wr_long). <br><a name="mkpyzip"></a><div class="spoiler">  <b class="spoiler_title">mkpyzip.py</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> argparse <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> imp <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> io <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> marshal <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os.path <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> zipfile <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">compile_file</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(filename, codename, out)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">wr_long</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(f, x)</span></span></span><span class="hljs-function">:</span></span> f.write(bytes([x &amp; <span class="hljs-number"><span class="hljs-number">0xff</span></span>, (x &gt;&gt; <span class="hljs-number"><span class="hljs-number">8</span></span>) &amp; <span class="hljs-number"><span class="hljs-number">0xff</span></span>, (x &gt;&gt; <span class="hljs-number"><span class="hljs-number">16</span></span>) &amp; <span class="hljs-number"><span class="hljs-number">0xff</span></span>, (x &gt;&gt; <span class="hljs-number"><span class="hljs-number">24</span></span>) &amp; <span class="hljs-number"><span class="hljs-number">0xff</span></span>])) <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> io.open(filename, mode=<span class="hljs-string"><span class="hljs-string">'rt'</span></span>, encoding=<span class="hljs-string"><span class="hljs-string">'utf8'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> f: source = f.read() ast = compile(source, codename, <span class="hljs-string"><span class="hljs-string">'exec'</span></span>, optimize=<span class="hljs-number"><span class="hljs-number">1</span></span>) st = os.fstat(f.fileno()) timestamp = int(st.st_mtime) size = st.st_size &amp; <span class="hljs-number"><span class="hljs-number">0xFFFFFFFF</span></span> out.write(<span class="hljs-string"><span class="hljs-string">b'\0\0\0\0'</span></span>) wr_long(out, timestamp) wr_long(out, size) marshal.dump(ast, out) out.flush() out.seek(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>) out.write(imp.get_magic()) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">compile_in_memory</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(source, codename)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> io.BytesIO() <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> fc: compile_file(source, codename, fc) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> fc.getvalue() <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">make_module_catalog</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(src)</span></span></span><span class="hljs-function">:</span></span> root_path = os.path.abspath(os.path.normpath(src)) root_arcname = os.path.basename(root_path) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> os.path.isdir(root_path): <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [(root_path, root_arcname)] catalog = [] subdirs = [(root_path, root_arcname)] <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> subdirs: idx = len(subdirs) - <span class="hljs-number"><span class="hljs-number">1</span></span> subdir_path, subdir_archname = subdirs[idx] <span class="hljs-keyword"><span class="hljs-keyword">del</span></span> subdirs[idx] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> item <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> sorted(os.listdir(subdir_path)): <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> item == <span class="hljs-string"><span class="hljs-string">'__pycache__'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> item.endswith(<span class="hljs-string"><span class="hljs-string">'.pyc'</span></span>): <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span> item_path = os.path.join(subdir_path, item) item_arcname = <span class="hljs-string"><span class="hljs-string">'/'</span></span>.join([subdir_archname, item]) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> os.path.isdir(item_path): subdirs.append((item_path, item_arcname)) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: catalog.append((item_path, item_arcname)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> catalog <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mk_pyzip</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(sources, outzip, mkpyc=False)</span></span></span><span class="hljs-function">:</span></span> zipfilename = os.path.abspath(os.path.normpath(outzip)) display_zipname = os.path.basename(zipfilename) <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> zipfile.ZipFile(zipfilename, <span class="hljs-string"><span class="hljs-string">"w"</span></span>, zipfile.ZIP_DEFLATED) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> fzip: <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> src <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> sources: catalog = make_module_catalog(src) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> entry <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> catalog: fname, arcname = entry[<span class="hljs-number"><span class="hljs-number">0</span></span>], entry[<span class="hljs-number"><span class="hljs-number">1</span></span>] fzip.write(fname, arcname) print(<span class="hljs-string"><span class="hljs-string">"::: {} &gt;&gt;&gt; {}/{}"</span></span>.format(fname, display_zipname, arcname)) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> mkpyc <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> arcname.endswith(<span class="hljs-string"><span class="hljs-string">'.py'</span></span>): bytes = compile_in_memory(fname, arcname) pyc_name = <span class="hljs-string"><span class="hljs-string">''</span></span>.join([os.path.splitext(arcname)[<span class="hljs-number"><span class="hljs-number">0</span></span>], <span class="hljs-string"><span class="hljs-string">'.pyc'</span></span>]) fzip.writestr(pyc_name, bytes) print(<span class="hljs-string"><span class="hljs-string">"::: mkpyc for: {} &gt;&gt;&gt; {}/{}"</span></span>.format(fname, display_zipname, pyc_name)) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> parser = argparse.ArgumentParser() parser.add_argument(<span class="hljs-string"><span class="hljs-string">'--src'</span></span>, nargs=<span class="hljs-string"><span class="hljs-string">'+'</span></span>, required=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) parser.add_argument(<span class="hljs-string"><span class="hljs-string">'--out'</span></span>, required=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) parser.add_argument(<span class="hljs-string"><span class="hljs-string">'--mkpyc'</span></span>, action=<span class="hljs-string"><span class="hljs-string">'store_true'</span></span>) args = parser.parse_args() mk_pyzip(args.src, args.out, args.mkpyc) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> __name__ == <span class="hljs-string"><span class="hljs-string">'__main__'</span></span>: main()</code> </pre></div></div><br><br><h4>  Bytecode validity </h4><br>  I will also add a few words about how to make sure that the byte-code generated by us is valid and the interpreter normally picks it up when importing the module without attempting to regenerate the new byte-code in memory. <br>  To do this, simply print out the attribute <code>__file__</code> , for the imported module <code>say_hello</code> . <br><pre> <code class="hljs tex">c:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Python</span></span></span></span>33<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">python</span></span></span></span>.exe</code> </pre><br><pre> <code class="python hljs">Python <span class="hljs-number"><span class="hljs-number">3.3</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span> (v3<span class="hljs-number"><span class="hljs-number">.3</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span>:d047928ae3f6, May <span class="hljs-number"><span class="hljs-number">16</span></span> <span class="hljs-number"><span class="hljs-number">2013</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span>:<span class="hljs-number"><span class="hljs-number">43</span></span>) [MSC v<span class="hljs-number"><span class="hljs-number">.1600</span></span> <span class="hljs-number"><span class="hljs-number">32</span></span> bit (Intel)] on win32 Type <span class="hljs-string"><span class="hljs-string">"help"</span></span>, <span class="hljs-string"><span class="hljs-string">"copyright"</span></span>, <span class="hljs-string"><span class="hljs-string">"credits"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> <span class="hljs-string"><span class="hljs-string">"license"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> more information. &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sys &gt;&gt;&gt; sys.path.insert(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-string"><span class="hljs-string">'d:\\habr\\output\\mybundle.zip'</span></span>) &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> say_hello &gt;&gt;&gt; say_hello.__file__ <span class="hljs-string"><span class="hljs-string">'d:\\habr\\output\\mybundle.zip\\say_hello.pyc'</span></span></code> </pre>  The fact that the <code>__file__</code> attribute of the loaded module points to the pyc file generated by us is sufficient proof of the validity of our bytecode. <br><br>  With this I could probably, with a clear conscience, finish my introductory overview of zip-peking in python, if not for one ‚Äúbut‚Äù ... <br><br><h4>  Surprises </h4><br>  One of my colleagues once picked up <a href="http://www.eclipse.org/">Eclipse</a> and, with the help of the well-known add-on, <a href="http://pydev.org/">PyDev</a> tried to debug a python script written by him that, among other things, used functionality from the python modules of the ziped-up technology just described. <br><br>  The main unpleasant surprise was that PyDev refused to debug similar modules at all.  Strongly interested in this trouble, we began to look for the source of the problem.  Looking back now, we can say that, according to our personal conviction, PyDev simply does not have enough quality support for debugging zip modules. <br><br>  However, at the time of the study, the nuances of debugging for PyDev were immediately excluded from consideration, since  The pdb debugger built into the python also gave out information about the call stack of a rather dubious type.  Moreover, the information was doubtful only in the case when the zip-archive along with the source py-files also contained pyc-files with byte-code.  In the case of a zip-archive with only py-files, the automatically generated byte-code was clearly different, and debugging in pdb gave correct information that did not cause censures.  Except for debugging, everything worked as expected.  Nevertheless, there was definitely something wrong with our bytecode.  And this was clearly signaled to us by pdb. <br><br>  Now that we have found the source of the problem, we don‚Äôt feel like going into the details of debugging python code under pdb.  To clarify the cause of the problem, let's just re-print the call stack from zazipovanogo byte-code, using the function previously written print_sysinfo () from the module my_sysinfo. <br><pre> <code class="hljs tex">c:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Python</span></span></span></span>33<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">python</span></span></span></span>.exe</code> </pre><br><pre> <code class="python hljs">Python <span class="hljs-number"><span class="hljs-number">3.3</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span> (v3<span class="hljs-number"><span class="hljs-number">.3</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span>:d047928ae3f6, May <span class="hljs-number"><span class="hljs-number">16</span></span> <span class="hljs-number"><span class="hljs-number">2013</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span>:<span class="hljs-number"><span class="hljs-number">43</span></span>) [MSC v<span class="hljs-number"><span class="hljs-number">.1600</span></span> <span class="hljs-number"><span class="hljs-number">32</span></span> bit (Intel)] on win32 Type <span class="hljs-string"><span class="hljs-string">"help"</span></span>, <span class="hljs-string"><span class="hljs-string">"copyright"</span></span>, <span class="hljs-string"><span class="hljs-string">"credits"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> <span class="hljs-string"><span class="hljs-string">"license"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> more information. &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sys &gt;&gt;&gt; sys.path.insert(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-string"><span class="hljs-string">'d:\\habr\\output\\mybundle.zip'</span></span>) &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> my_sysinfo &gt;&gt;&gt; my_sysinfo.print_sysinfo() -------------------------------------------------------------------------------- <span class="hljs-number"><span class="hljs-number">3.3</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span> (v3<span class="hljs-number"><span class="hljs-number">.3</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span>:d047928ae3f6, May <span class="hljs-number"><span class="hljs-number">16</span></span> <span class="hljs-number"><span class="hljs-number">2013</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span>:<span class="hljs-number"><span class="hljs-number">43</span></span>) [MSC v<span class="hljs-number"><span class="hljs-number">.1600</span></span> <span class="hljs-number"><span class="hljs-number">32</span></span> bit (Intel)] -------------------------------------------------------------------------------- File <span class="hljs-string"><span class="hljs-string">"&lt;stdin&gt;"</span></span>, line <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> &lt;module&gt; File <span class="hljs-string"><span class="hljs-string">"my_sysinfo/sysinfo.py"</span></span>, line <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> print_sysinfo traceback.print_stack() --------------------------------------------------------------------------------</code> </pre><br>  Now let's compare this output with the one that we received <a href="https://habr.com/ru/company/acronis/blog/208378/">earlier</a> , even before we started ziping our own byte code.  The key difference here is in the file paths in the stack frame. <br><br>  <u>Without a bytecode in the zip file, we had an output of the form:</u> <br>  File "stdin", line 1, in "module" <br>  File " <b>d: \ habr \ output \ mybundle.zip \ my_sysinfo \ sysinfo.py</b> ", line 9, in print_sysinfo <br>  traceback.print_stack () <br><br>  <u>And after adding a bytecode, it took the form:</u> <br>  File "stdin", line 1, in "module" <br>  File " <b>my_sysinfo / sysinfo.py</b> ", line 9, in print_sysinfo <br>  traceback.print_stack () <br><br>  From the output it becomes clearly visible that when adding a bytecode to the zip archive in the call stack, the path to the file from the absolute path becomes relative, and relative to the root of the zip archive.  Here, an attentive reader can immediately argue that we ourselves have generated such a byte code by submitting this relative path to the builtin <code>compile</code> function in the <a href="https://habr.com/ru/company/acronis/blog/208378/">mkpyzip.py</a> utility.  But if you think about it a little deeper, then it becomes clear that the full path is not appropriate in this case, because our final goal is to collect the zip-archive on one machine, to be able to use it on another, maybe even on a machine with another operating system. <br><br>  None of us at that time was intimately familiar with the implementation of loading zip modules into the interpreter, so it was impossible to give an unambiguous answer to the question of what the root of the problem is: whether we unknowingly miss something when generating bytecode, whether the zip module loader itself in python behaves incorrectly when it is loaded. <br><br>  As a result, it was decided to seek advice from the developers of the Python language via <a href="">python-dev@python.org</a> .  The only thing they advised us at that time was to get a bug on this topic so that the context of the described problem would not be lost.  Bug we brought <a href="http://bugs.python.org/issue18307">bugs.python.org/issue18307</a> and waited.  After about a month of waiting and doing other equally pressing problems, our patience quietly ended, and the python33.dll got into the debugger. <br><br>  As a result, we confirmed our suspicions and with certainty we can say that it is the Si-shnaya implementation of the zip-module loader in python that behaves incorrectly when loading bytecode.  More precisely, the case described here, which requires automatic normalization of paths in bytecode when loading it from zip files, was simply not implemented.  As a result, within the framework of the same bug, we proposed a patch correcting this problem and bringing the paths to the files in the call stacks to absolute appearance. <br><br>  Now, about half a year later, this bug on <a href="http://bugs.python.org/">bugs.python.org</a> remains open.  Apparently, because the zip-modules in the python feature, although powerful, are rarely used, especially the case with the byte-code inside the zip-archive.  However, having our own repository with python sources (which we try to keep as close as possible to the public original as much as possible), we simply commit this patch to ourselves. <br><br><h4>  Conclusion </h4><br>  Modules in python, being packed in a zip-archive, work as well as in the unpacked form.  The only thing you need to be ready for is that after packaging you may encounter certain difficulties with their debugging both through Eclipse + PyDev and through other IDEs, in which debugging is also based on PyDev.  However, in certain situations, the ability to have a compact set of binary production modules may be much more important than easy debugging of the python code in the IDE. <br><br><h4>  PS We invented setuptools / eggs?  Not. </h4><br>  Zip-modules in python are completely independent and self-sufficient functionality incorporated into the core of the language interpreter itself.  setuptools / eggs is only the most widely known version of its use. </div><p>Source: <a href="https://habr.com/ru/post/208378/">https://habr.com/ru/post/208378/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../208364/index.html">Get ROOT rights on any * phone</a></li>
<li><a href="../208368/index.html">Calculation of the fractal dimension of Minkowski for a flat image</a></li>
<li><a href="../208370/index.html">Koreans made a nanobot to fight cancer</a></li>
<li><a href="../208374/index.html">Intel announced support for Steam Machines and announced Dual OS officially + response from AMD</a></li>
<li><a href="../208376/index.html">How I made the API work in Yiinitializr Advanced</a></li>
<li><a href="../208384/index.html">The official openSUSE forum is hacked</a></li>
<li><a href="../208388/index.html">Vaadin: Useful Improvements and Observations</a></li>
<li><a href="../208390/index.html">High-precision machines must not be moved without the permission of the manufacturer.</a></li>
<li><a href="../208392/index.html">Name in success or success in name? (trademarks part2)</a></li>
<li><a href="../208394/index.html">PlayStation Now: games for PlayStation on a tablet, TV, smartphone</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>