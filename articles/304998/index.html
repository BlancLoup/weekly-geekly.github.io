<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We play mp3 in our program and what can prevent it</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introductory 
 A long time ago, about 100 10 years ago, when only procrastination began to seize my mind, I decided that while I was still able to use...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We play mp3 in our program and what can prevent it</h1><div class="post__text post__text-html js-mediator-article"><h4>  Introductory </h4><br>  A long time ago, about <s>100</s> 10 years ago, when only procrastination began to seize my mind, I decided that while I was still able to use it, I had to urgently build a lifeboat for myself so as not to drown in the abyss of deferred cases.  Of course, at that time there were already quite a number of different reminders, alarm clocks, sheduler and other various ‚Äúsmart‚Äù clocks, but, as usual, its own - it is always closer and clearer than someone else‚Äôs, even with megabytes of help files.  Yes, and in vain, perhaps, a book on BASIC borrowed from a friend? <br><br>  But, as usual, about everything in order. <br><br><a name="habracut"></a><br><h5>  10-15 years ago </h5><br>  The study of BASIC began from the time of Subor (dandy with a keyboard) with a cartridge, which contained various types of this wonderful PL.  Then on the computer in DOS in the good old blue screen qb.  Well, and only then, feeling awesome programmer, I moved to monstrous (hah! For a 486 processor with 16MB on board ...) VB5. <br>  When already modeling windows with a bunch of obscure buttons was already pretty tired, I decided to write something useful.  Well, and here and the need for it appeared just.  I had long been accustomed to all the alarm clocks in my house and could sleep well even if they were all buzzing at the same time. <br>  ‚ÄúWell,‚Äù I thought, ‚Äúmy columns (18-watt!) Will surely lift me. <br>  I started with a simple one: I threw a timer onto the form, brought a couple of textboxes and the ‚ÄúStart!‚Äù Button onto it.  I asked the time after which I could begin to pick up, how many times I needed to pick up, well, the mp3 file, which I had to run in Winamp at full volume, in order to pick me up. <br>  How long, if short, but every time I‚Äôm tired of thinking about the number of minutes that need to be set before getting up.  It was decided to still set the time from which to begin to ring all bells.  In addition, it was necessary to still provide their time of recovery for each day of the week.  I also wanted to see a sticker on the screen, which will display the schedule of the current day, the ability to immediately turn off a group of events (well, as the summer holidays have come and the sessions are all handed over), and even block the computer at night.  Yes, so that he himself could not unlock.  And further‚Ä¶ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  mp3 play myself </h4><br>  ... and why should I run the file in Winamp, if I can teach my wonderful alarm clock to do it?  In Winamp, I can turn down the volume, I can delete it, and I can do a lot more with it, and in the end I can oversleep. <br>  The first solution offered by MSDN, <a href="https://msdn.microsoft.com/ru-ru/library/windows/desktop/dd757151(v%3Dvs.85).aspx">MCI</a> , didn‚Äôt begin to be considered as completely unsportsmanlike for such a ‚Äútough‚Äù programmer like me, but instead found the mp3 to decode mp3 as too sporty.  In the end, I stopped at the COM objects, which were well integrated into the vb environment and made it possible to quite flexibly control the playback and get the necessary information about the playback progress.  The time has <a href="https://msdn.microsoft.com/ru-ru/library/windows/desktop/dd390085(v%3Dvs.85).aspx">come for IGraphBuilder</a> 's (in the depths of vb it was called FilgraphManager. Although not entirely accurate, but for simplicity, let it be so). <br><br>  All code was reduced to banalism: <br><pre><code class="vbscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">Dim</span></span> mpl As <span class="hljs-keyword"><span class="hljs-keyword">New</span></span> FilgraphManager, mplinfo As IMediaPosition <span class="hljs-keyword"><span class="hljs-keyword">Function</span></span> OpenMP3(<span class="hljs-keyword"><span class="hljs-keyword">ByVal</span></span> mp3file As <span class="hljs-built_in"><span class="hljs-built_in">String</span></span>) As Boolean <span class="hljs-keyword"><span class="hljs-keyword">On</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Error</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Resume</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Next</span></span> mpl.RenderFile mp3file <span class="hljs-keyword"><span class="hljs-keyword">If</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Err</span></span>.Number &lt;&gt; <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Then</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Set</span></span> mplinfo = mpl Timer1.Enabled = <span class="hljs-literal"><span class="hljs-literal">True</span></span> OpenMP3 = <span class="hljs-literal"><span class="hljs-literal">True</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Exit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Function</span></span> <span class="hljs-keyword"><span class="hljs-keyword">End</span></span> <span class="hljs-keyword"><span class="hljs-keyword">If</span></span> OpenMP3 = <span class="hljs-literal"><span class="hljs-literal">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">End</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Function</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Sub</span></span> Timer1_Timer() Label1.Caption = mplinfo.CurrentPosition <span class="hljs-keyword"><span class="hljs-keyword">End</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Sub</span></span></code> </pre> <br><br>  It worked so that I was happy, as if I had passed all the sessions at the university immediately in advance, and even finished it. <br><div class="spoiler">  <b class="spoiler_title">Monstro alarm on vb5</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/015/e02/6d2/015e026d20044262bc884bd5fe29e677.png" alt="image"><br></div></div><br><br><h5>  Well, where does C ++ come from ?! </h5><br>  But soon, either the computer became too fast, or the programmer was not that cool when I wrote this monster, but my alarm clock began to let me down quite often.  I won‚Äôt wake up to the exam, skipping the time of the event, going to the next one, then arrogantly shows that it wakes me up, but it doesn‚Äôt make a sound.  I decided (as is often the case with ‚Äúcool‚Äù programmers) that now I‚Äôm really cool, compared to what I was then, and rewrite it in C ++!  In vain, perhaps, the book for authorship Stroustrup bought for crazy money? <br><br>  At that time I was quite tolerably winapi jerking, and even sometimes inserted classes, having read the table of contents of the book written by Stroustrup.  After a couple of days, putting on the skeleton of the alarm, I decided that he, too, needed to independently play mp3s, without any media players, Winamps and their ilk.  MCI, as usual, also rejected. <br><br>  I thought that, perhaps, it used to be, although it was not so omnipotent, but I still thought about it.  And I'll take the same FilterGraph, quickly make a simple class, and continue my research.  Yes, and <a href="https://msdn.microsoft.com/ru-ru/library/windows/desktop/dd389098(v%3Dvs.85).aspx">primerchik in MSDN</a> bribed its simplicity. <br><br>  Quickly cooked up a class, asked the execution of the event, waited patiently and ... <br><br>  "The program has performed an illegal operation and will be closed ..." <br>  What kind of nonsense?  How could I make a mistake in a few lines of copy-paste code?  Maybe the file is not the same?  Maybe where the object is not initialized?  The step-by-step check consistently yielded an exception on the RenderFile method call. <br><br><h5>  Old grandfather's google method </h5><br>  It was very lazy to mess around, instead of writing code, I started to write search queries, which reduced everything to a broken stack, errors in the code that asked the question, much more than that, but not to what I saw.  The code that works for everyone does not work for me.  After searching for your ego, after reading the advice ‚Äúthrow these incomprehensible grafflers, take MCI in your hands and go ahead‚Äù, rewrote your teeth with your teeth on MCI. <br><br>  Again F5, mciSendString, and ... <br>  "The program has performed an illegal operation and will be closed ..." <br><br>  He began to sin on the monitor, the wrong keyboard, the processor, which suddenly forgot how to do what he was taught at the factory.  Found in the depths of the MS site GraphEdit utility, which certainly should work as it should, launched, and ... <br><br><img src="https://habrastorage.org/files/f2d/7b3/bce/f2d7b3bcec9648fbbe32d7bcec6761d9.png" alt="image"><br><br>  The higher forces of computer technology obviously worked against me. <br><br><h5>  If tried everything, but still nothing works - RTFM </h5><br>  Fortunately for me, IGraphBuilder has a <a href="https://msdn.microsoft.com/ru-ru/library/windows/desktop/dd390091(v%3Dvs.85).aspx">SetLogFile</a> method.  Very good, I must say, method.  Without it, I would definitely have lost peace and sleep, going deep into the sheet of the built-in disassembler. <br><br>  Having once again started debugging, having grieved over the exception message at an address very far from my code, without any stack and the name of the module to which this address could relate, it is useful to read the collected log. <br><br>  Despite the fact that he is very tedious, his study, however, bore fruit: <br><blockquote>  View the file d: \ 437236.mp3 <br>  File has media type 0xe436eb83 ... Subtype 0xe436eb87 ... <br>  0xe436ebb5 source filter clsid ... <br>  ... <br>  Render: error of the QueryInternalStreams method.  Filter at 2914b8c <br>  Return from level 2 <br>  Return!  Contact 2914fbc is disconnected <br>  Return!  Contact 293a804 is disconnected <br>  Render: no more contacts - can not find the contact used by the filter 2914b8c <br>  Return!  Remove filter 2914b8c <br>  Render: attempting to use the new filter with the display name device: sw: {083863F1-70DE-11D0-BD40-00A0C911CE86} \ {138130AF-A79B-45D5-B4AA-87697457BA87} ... <br></blockquote><br>  And then nothing. <br><br>  From this immediately (actually, sleepless days later) the conclusion was made: a filter failed with CLSID = {138130AF-A79B-45D5-B4AA-87697457BA87} <br><br><h5>  Pest burner </h5><br>  I quickly opened the registry, found this CLSID in it, found that it was: <br><img src="https://habrastorage.org/files/765/bea/68c/765bea68c2ae4f20a4cf43e1693ac30e.png" alt="Nero 6 malware?"><br><br>  Oh, my seven long-suffering my <s>sister</s> told me, do not put this sixth <s>nehru</s> , you are a <s>goat ...</s> I‚Äôm not guilty if something goes wrong.  I did not listen. <br>  Uninstalled Nero 6. Everything worked. <br>  Installed back.  Stopped working. <br><br>  But here I, rather heated, decided that I would not solve the problem so simply.  Frowning his eyebrows, reinstalled Nero 6 again and started thinking: How can I, without removing it, force me to play my alarm clocks? <br><br><h5>  Casket NOT just opened </h5><br>  So, by reading the MSDN documentation of different depths of nesting, I came to the conclusion that mp3 (and any media file) is played using the following algorithm: <br>  1. The source file is loaded into IBaseFilter; <br>  2. A search is made for the filter responsible for outputting sound to an audio (or other output) device; <br>  3. A search is made for intermediate filters that convert the data stream from the source into a data stream that the output device understands. <br><br>  An approximate analysis of the mp3-file goes like this: <br>  1. Load the contents of the input file into IBaseFilter; <br>  2. We are looking for a file filter parser; <br>  3. We are looking for a filter decoder in the audio stream; <br>  4. We are looking for a filter that will send this stream to the output device. <br><br>  All of them are connected with each other.  The output pin must be connected to the input pin.  In this case, the media type of the output data must match the media type of the input.  In fact, it looks like this: we have a bunch of wires, a computer, an old mouse and a bunch of adapters.  And we bust our way through wires to different adapters until all the connectors are connected to each other.  In my case, the algorithm was supplemented by another condition: If this adapter (filter) is from Nero 6, then we drop it immediately and never touch again. <br><br><h5>  Scientific method </h5><br>  We have a set of filters: we can get it through <a href="https://msdn.microsoft.com/en-us/library/windows/desktop/dd390032(v%3Dvs.85).aspx">IFilterMapper</a> <br>  For each of the filters we have a set of pins (INPUT / OUTPUT), a list of which we can get from the <a href="https://msdn.microsoft.com/ru-ru/library/windows/desktop/dd389527(v%3Dvs.85).aspx">IBaseFilter :: EnumPins method</a> <br>  For each of the pins there is a set of media types, the list of which we can get via <a href="https://msdn.microsoft.com/ru-ru/library/windows/desktop/dd390426(v%3Dvs.85).aspx">IPin :: EnumMediaTypes</a> . <br><br>  It's time to list. <br>  Sketched classes for IFilterMapper, IBaseFilter, IPin (I‚Äôll give you a link below where you can see the implementation) and started listing all the filters known to the system, looking for suitable pins, connecting them. <br><br><div class="spoiler">  <b class="spoiler_title">A long sheet of code that was born long and in agony</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//    void CDSPlayer::PlayFile(LPCTSTR pszFile) { HRESULT hr = 0; IBaseFilter * pSource = NULL; //    if ( FAILED(m_pGraph-&gt;AddSourceFilter(pszFile, pszFile, &amp;pSource)) ) return FALSE; //      if ( SUCCEEDED( TryConnectFilters( m_pGraph, pSource ) ) ) { //  return SUCCEEDED( m_pControl-&gt;Run() ); } return FALSE; } //     ,    pSource //  pSource (   )   pin - OUTPUT HRESULT CDSPlayer::TryConnectFilters(IGraphBuilder * pGraph, IBaseFilter * pSource) { std::vector&lt;CBaseFilter*&gt; filters; m_fltEnum.FilterList(filters); return ConnectFilters(filters, pGraph, pSource); } //        HRESULT CDSPlayer::ConnectFilters(std::vector&lt;CBaseFilter*&gt; &amp; vFltList, IGraphBuilder * pGraph, IBaseFilter * pSource) { HRESULT hr = E_NOINTERFACE; CPin * pSourcePin = NULL; CBaseFilter fltSource(pSource); //   , ... std::vector&lt;CPin*&gt; pl; fltSource.PinList( pl ); for(std::vector&lt;CPin*&gt;::iterator vpl = pl.begin(); vpl &lt; pl.end(); ++vpl) { CPin * pin = *vpl; if ( pin-&gt;Dir() == PINDIR_OUTPUT ) { pSourcePin = pin; // ...      hr = ( SUCCEEDED( ConnectPins(vFltList, pGraph, pSource, pin) ) ? S_OK : hr ); //    - OUTPUT,     .    -,        } } return ( pSourcePin ? hr : S_OK ); } //  Nero,       BOOL CDSPlayer::IsFilterAllowed(CBaseFilter * pFilter) { CString s = pFilter-&gt;Name(); if ( s[0] == _T('N') &amp;&amp; s[1] == _T('e') &amp;&amp; s[2] == _T('r') &amp;&amp; s[3] == _T('o') &amp;&amp; s[4] == _T(' ') ) return FALSE; // skip ugly nero filters return TRUE; } HRESULT CDSPlayer::ConnectPins(std::vector&lt;CBaseFilter*&gt; &amp; vFltList, IGraphBuilder * pGraph, IBaseFilter * pSource, CPin * pSourcePin) { std::vector&lt;AM_MEDIA_TYPE&gt; vAmtSource; //   -  ... pSourcePin-&gt;MediaTypesList(vAmtSource); //     for(std::vector&lt;CBaseFilter*&gt;::iterator v = vFltList.begin(); v &lt; vFltList.end(); ++v) { CBaseFilter * pFlt = *v; if ( !IsFilterAllowed( pFlt ) ) continue; if ( pFlt-&gt;Init() ) { std::vector&lt;CPin*&gt; vPinList; pFlt-&gt;PinList(vPinList); for(std::vector&lt;CPin*&gt;::iterator vp = vPinList.begin(); vp &lt; vPinList.end(); ++vp) { CPin * pin = (*vp); //   OUTPUT ,   INPUT if ( pin-&gt;Dir() == PINDIR_OUTPUT ) { continue; } std::vector&lt;AM_MEDIA_TYPE&gt; vamt; pin-&gt;MediaTypesList(vamt); for(std::vector&lt;AM_MEDIA_TYPE&gt;::iterator va = vamt.begin(); va &lt; vamt.end(); ++va) { for(std::vector&lt;AM_MEDIA_TYPE&gt;::iterator vas = vAmtSource.begin(); vas &lt; vAmtSource.end(); ++vas) { //  -     -  ,   if ( vas-&gt;majortype == va-&gt;majortype ) { //      (      Nero6   EXCEPTION_ACCESS_VIOLATION) pGraph-&gt;AddFilter(pFlt-&gt;Object(), pFlt-&gt;Name()); //  ConnectDirect!  Connect,    ,           HRESULT hrc = pGraph-&gt;ConnectDirect(pSourcePin-&gt;Object(), pin-&gt;Object(), NULL); if ( SUCCEEDED( hrc ) ) { _tprintf(TEXT("Found suitlable filter '%s'!\n"), pFlt-&gt;Name()); // ? !        (  )    return ConnectFilters(vFltList, pGraph, pFlt-&gt;Object()); } //     ,           pGraph-&gt;RemoveFilter(pFlt-&gt;Object()); } } } } } } //    .   :-( return E_NOINTERFACE; }</span></span></code> </pre><br></div></div><br><br>  Is the reader tired of studying the long sheet of code above?  I'm tired.  Exactly tired.  So: this code, which was born a long time and in agony, did not work the first time.  Whether the pins are bad, or the filters are poorly filtered.  There was no sound. <br><br><h5>  In search of Atlantis </h5><br>  The initialization code of the filter is simple (was) to disgrace: <br><div class="spoiler">  <b class="spoiler_title">CBaseFilter Initialization</b> <div class="spoiler_text"><pre> <code class="cpp hljs">CBaseFilter::CBaseFilter(REGFILTER rf) : m_rf( rf ), m_sFilterName( rf.Name ), m_pBaseFilter( <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> ), m_fDontRelease( FALSE ) { } BOOL CBaseFilter::Init() { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( m_pBaseFilter ) <span class="hljs-comment"><span class="hljs-comment">// ,      (    ) return TRUE; //   HRESULT hr = CoCreateInstance(m_rf.Clsid, NULL, CLSCTX_INPROC_SERVER, IID_IBaseFilter, (void**) &amp;m_pBaseFilter); //  ,       if ( SUCCEEDED( hr ) ) hr = InitPins(); return SUCCEEDED( hr ); }</span></span></code> </pre><br></div></div><br><br>  That's just half of the filters (including the much-desired mp3-filter), he did not download, because E_NOINTERFACE. <br>  Again, fate sent me to the documentation, which clearly and clearly made it clear that <a href="https://msdn.microsoft.com/ru-ru/library/windows/desktop/dd375474(v%3Dvs.85).aspx"><s>not all gold, that ...</s> not every filter needs such complexity to be a DS filter</a> .  In other words, for many filters it is not necessary to do complex research and methods in order to become a full-fledged DS filter.  Invented a simplified DMO, and for them, and a <a href="https://msdn.microsoft.com/ru-ru/library/windows/desktop/dd375519(v%3Dvs.85).aspx">wrapper</a> that will do many things by itself.  I had to finish the initialization method: <br><div class="spoiler">  <b class="spoiler_title">ADVANCED (!) Initialization of CBaseFilter</b> <div class="spoiler_text"><pre> <code class="cpp hljs">BOOL CBaseFilter::Init() { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( m_pBaseFilter ) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> TRUE; HRESULT hr = CoCreateInstance(m_rf.Clsid, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, CLSCTX_INPROC_SERVER, IID_IBaseFilter, (<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>**) &amp;m_pBaseFilter); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( E_NOINTERFACE == hr ) <span class="hljs-comment"><span class="hljs-comment">// ,    DMO,      DMOWrapper { hr = CoCreateInstance(CLSID_DMOWrapperFilter, NULL, CLSCTX_INPROC_SERVER, IID_IBaseFilter, (void**) &amp;m_pBaseFilter); if ( SUCCEEDED( hr ) ) { IDMOWrapperFilter * pDMOFilter = NULL; hr = m_pBaseFilter-&gt;QueryInterface(IID_IDMOWrapperFilter, (void**) &amp;pDMOFilter); if ( SUCCEEDED( hr ) ) { //     DMO-. ..   ,     AUDIO pDMOFilter-&gt;Init(m_rf.Clsid, DMOCATEGORY_AUDIO_DECODER); //  ,       pDMOFilter-&gt;Release(); } } } if ( SUCCEEDED( hr ) ) hr = InitPins(); return SUCCEEDED( hr ); }</span></span></code> </pre><br></div></div><br><br><div class="spoiler">  <b class="spoiler_title">And here is the long-awaited miracle!</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/e2f/e99/195/e2fe99195c4c4b7abd85d253795c061f.png" alt="image"><br></div></div><br><br>  Well, after that, I calmly continued to pull all sorts of beautiful on the written skeleton.  It turned out even slightly better than vb. <br><br><div class="spoiler">  <b class="spoiler_title">New monstrous alarm clock</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/d4b/97f/5dc/d4b97f5dccf44691b6bcccfc6ca53ae1.png" alt="image"><br></div></div><br><br>  Well, the rest of the stories associated with this long-suffering alarm clock are no longer so interesting.  Now I will definitely get up on time!  Well, I‚Äôm not getting used to it yet ... <br><br>  PS: <br>  I attach the full code of such a player. <br>  <a href="https://github.com/loginsinex/dsmp3player">Implementation in Visual Studio</a> <br>  The code, of course, does not shine, but this is probably because it was written with the persistence of a locomotive and the speed of a fighter. <br><br>  Well, the purpose of the article: still share with all my research on the problem, the solution of which I, I confess, did not find in my time in the network.  If this solution is not yet, then now it definitely is. </div><p>Source: <a href="https://habr.com/ru/post/304998/">https://habr.com/ru/post/304998/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../304932/index.html">Data Protection - Modern Security Challenges</a></li>
<li><a href="../304934/index.html">Important aspects of the browser for developers. Part 2</a></li>
<li><a href="../304936/index.html">About tasty and healthy food ESP8266 from batteries</a></li>
<li><a href="../304982/index.html">Sparrowdo is a simple configuration management tool.</a></li>
<li><a href="../304988/index.html">Signals and slots in PHP. Same as in Qt. Almost</a></li>
<li><a href="../305000/index.html">We are looking for vulnerabilities in code: theory, practice and prospects of SAST</a></li>
<li><a href="../305002/index.html">CMYK closed-loop search algorithm on a two-dimensional matrix</a></li>
<li><a href="../305006/index.html">Wired: How blockchain threatens the financial market, and why companies on Wall Street develop this technology</a></li>
<li><a href="../305014/index.html">Review of Quanta servers: interesting solutions, rack-sized blade baskets, microserver hives and HPC farms</a></li>
<li><a href="../305016/index.html">Differences in the modeling of planned and actual operations</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>