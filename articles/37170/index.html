<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Anonymous types outside the function</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Anonymous types are a very nice extension to C #, which appeared in version 3.0. With the help of anonymous types we can on the fly create a storage o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Anonymous types outside the function</h1><div class="post__text post__text-html js-mediator-article"> Anonymous types are a very nice extension to C #, which appeared in version 3.0.  With the help of anonymous types we can on the fly create a storage object and fill it with data. <br>  The main use of anonymous types is, of course, LINQ.  In fact, they were created for him (in general, all the innovations of C # 3.0 were made for LINQ, with the exception, perhaps, of partial methods). <br><blockquote> <code><font color="black"><font color="#0000ff">var</font> o = <font color="#0000ff">new</font> {Bar=2, Foo= <font color="#A31515">"string"</font> };</font></code> </blockquote> <br><a name="habracut"></a><br>  However, we will not be able to use this object outside the method in which it was declared and initialized: <br><blockquote> <code><font color="black"><font color="#0000ff">???</font> GetFullName() <br> { <br> <font color="#0000ff">return</font> <font color="#0000ff">new</font> {Name="", Surname=""}; <br> } <br> <br> <font color="#0000ff">object</font> PrintFullName() <br> { <br> var fullname = GetFullName() <font color="#0000ff">as</font> ???; <br> } <br> <br></font></code> </blockquote> <code><font color="black"><font color="#0000ff">???</font> GetFullName() <br> { <br> <font color="#0000ff">return</font> <font color="#0000ff">new</font> {Name="", Surname=""}; <br> } <br> <br> <font color="#0000ff">object</font> PrintFullName() <br> { <br> var fullname = GetFullName() <font color="#0000ff">as</font> ???; <br> } <br></font> <br></code> <br>  In fact, we do not know which type should be used instead of ??? .. However, there is another, not quite obvious way to use anonymous types - as keys for a Dictionary: <br> <code><a href="http://source.virtser.net/"></a> <font color="black"><font color="#0000ff">Dictionary</font> &lt; <font color="#0000ff">object</font> , string&gt; dict = <font color="#0000ff">new</font> <font color="#0000ff">Dictionary</font> &lt; <font color="#0000ff">object</font> , string&gt;(); <br> <font color="#0000ff">public</font> void <font color="#0000ff">Add</font> () <br> { <br> dict. <font color="#0000ff">Add</font> ( <font color="#0000ff">new</font> {x=5, y=6}, "test"); <br> } <br> <br> <font color="#0000ff">public</font> void <font color="#0000ff">Get</font> (){ <br> Console.WriteLine(dict[ <font color="#0000ff">new</font> {x=5, y=6}]); <br> } <br></font> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> <blockquote> <code><a href="http://source.virtser.net/"></a> <font color="black"><font color="#0000ff">Dictionary</font> &lt; <font color="#0000ff">object</font> , string&gt; dict = <font color="#0000ff">new</font> <font color="#0000ff">Dictionary</font> &lt; <font color="#0000ff">object</font> , string&gt;(); <br> <font color="#0000ff">public</font> void <font color="#0000ff">Add</font> () <br> { <br> dict. <font color="#0000ff">Add</font> ( <font color="#0000ff">new</font> {x=5, y=6}, "test"); <br> } <br> <br> <font color="#0000ff">public</font> void <font color="#0000ff">Get</font> (){ <br> Console.WriteLine(dict[ <font color="#0000ff">new</font> {x=5, y=6}]); <br> } <br></font> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  This is possible because the compiler-generated shells for anonymous types implement the Equals () and GetHashCode () methods.  However, the same problem remains - we will not be able to get values ‚Äã‚Äãfrom such a key, because again we will not be able to explicitly indicate its type, therefore, the use of the key is limited only by the methods Get (), Set () and ContainsKey (). <br>  So, if you need to organize data storage in a Dictionary with a complex key consisting of several fields, and you don‚Äôt need to get the values ‚Äã‚Äãof this key, feel free to use anonymous types. <br></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/37170/">https://habr.com/ru/post/37170/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../371691/index.html">Top 10 best videos Apple. Winter nostalgia</a></li>
<li><a href="../371693/index.html">AGAT - a bad copy of Apple?</a></li>
<li><a href="../371695/index.html">How to listen to Soviet citizens. A bit of history and modern realities</a></li>
<li><a href="../371697/index.html">Genetics using CRISPR have removed the defective gene, leading to retinal degeneration</a></li>
<li><a href="../371699/index.html">France will build a 1000-kilometer road of solar panels</a></li>
<li><a href="../371701/index.html">What is the best rocket engine?</a></li>
<li><a href="../371707/index.html">NASA unveiled video of the Dawn probe span over Ceres</a></li>
<li><a href="../371713/index.html">How I made a game under AVR</a></li>
<li><a href="../371715/index.html">Set to turn any apartment into a "smart home"</a></li>
<li><a href="../371717/index.html">Removing Facebook can increase the life of your smartphone by 20%.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>