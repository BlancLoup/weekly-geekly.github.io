<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The penultimate post</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The company Zfort Group has decided not to renew the corporate subscription for Habr√©. 
 But there is some good news: 


 We would like to announce th...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The penultimate post</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/webt/v_/gg/xi/v_ggxiegt43681kkgam10tmr2dq.png"></p><br><p>  The company Zfort Group has decided not to renew the corporate subscription for Habr√©. <br>  But there is some good news: </p><br><p>  We would like to announce the launch of the updated site <a href="https://www.zfort.com.ua/">zfort.com.ua</a> , briefly tell about some technical features of the site creation, and also inform about the decision to move the publication of digests from Habr to the blog of the new site.  In the blog of our new site, we will continue to publish digests, articles and announce professional meetings.  You can subscribe to all updates and publications to be aware of and not to miss anything. </p><br><p>  A short version of digests will also remain on Habr√©, but will be published not on the Zfort Group corporate blog, but from the <a href="https://habr.com/users/alexzfort/" class="user_link">alexzfort</a> account. </p><br><p>  One of the goals that we set for ourselves is to update our website aimed at a local audience, to make it quick and easy.  Supplement the site with sections for displaying the latest company news, announcements of events and publishing digests / articles in a short time with maximum flexibility and opportunity for expansion. </p><br><p>  And now more about the details of the creation of the updated site <a href="https://www.zfort.com.ua/">zfort.com.ua</a> </p><a name="habracut"></a><br><p>  Initially, three main areas of development of the updated site were considered: </p><br><ol><li>  Make a website based on WordPress; </li><li>  Develop a site from scratch on the LAMP stack based on our own developments; </li><li>  Implement a site based on the non-traditional approach JAMstack.  This is an alternative approach that offers many tools to choose from for creating static sites, but with dynamically added and managed content.  This option meant the development of the site based on the use of existing services, combined into a single ecosystem of management and content publishing. </li></ol><br><p>  After weighing the possible options, it was decided to go the third way and abandon the custom server part on Symfony or WordPress in favor of Serverless technologies, which would give the following benefits: </p><br><ul><li>  reduce the time for development, testing, further support and fixing errors; </li><li>  reduce the time for deployment of environments, server configuration and support; </li><li>  get a cloud-native project infrastructure, instead of having an on-premise / self-hosted solution; </li><li>  build the entire project as an ecosystem of microservices interacting with each other, instead of the classical monolithic architecture; </li><li>  get a flexible content management system, be able to structure the content, port the content to another system, and so on. </li></ul><br><p>  The selected development option for the <a href="https://www.zfort.com.ua/">zfort.com.ua</a> site implied the maximum possible (with some limitations) departure from the traditional web server, and instead, the construction of the entire system based on Serverless technology, which involves several interacting services. <br>  Also, during the planning and development, we pursued the goal - to get a solution, in which the front-end will be as much as possible untied from the backend of the site. </p><br><p>  <strong>The main components underlying the site:</strong> </p><br><ol><li>  Headless API based CMS (SaaS) for site content management; </li><li>  Static site generator; </li><li>  Form handling service or functionality; </li><li>  Source code repository and version control system; </li><li>  Deployment and hosting platform - a platform for building; </li><li>  Email delivery platform. </li></ol><br><p>  <strong>In accordance with each of the components, it was decided to use:</strong> </p><br><ol><li>  Contentful.com - as Headless API based CMS </li><li>  GatsbyJS - as a framework for generating static HTML pages of the site; </li><li>  PHP (Symfony) custom functionality as a site form handler; </li><li>  GitLab as a repository of project source code and version control system; </li><li>  Rackspace - as a hosting provider; </li><li>  SendGrid - as a system for sending emails, as well as, as a system for storing and managing letter templates. </li></ol><br><p>  Also, the management of vacancies displayed on the pages of the site is carried out directly in the Zoho Recruit system. </p><br><p>  The service that was chosen as an alternative to the custom development of the content management admin part for <a href="https://www.zfort.com.ua/">zfort.com.ua</a> is <a href="https://www.contentful.com/">Contenttent.com</a> .  This product is a content management platform with its admin panel.  Something like a cloud CMS, but without a user interface.  There is only an admin panel. </p><br><img src="https://habrastorage.org/webt/h1/co/i-/h1coi-rkn76nn7uaaivtdzg4pyc.png"><br><img src="https://habrastorage.org/webt/ac/dy/bx/acdybxypbdxejlysgv7s1ke7us8.png"><br><p>  Obtaining content for display on the pages of the site is carried out through the Contentful API.  In our case, we used the gatsby-source-contentful plugin to get content types, entries, and assets in Gatsby from Contentful spaces. <br>  In addition to the content management infrastructure, Contentful provides the ability to resize, crop and compress images through the Images API. </p><br><p>  Pros of the chosen approach: </p><br><ul><li><p>  <strong>The speed</strong> and speed of displaying the site in the browser.  As a result of the fact that the runtime does not generate pages, HTML is cached and displayed to the user almost instantly.  In addition, there is the possibility of a complete transfer of the site to CDN, which, in turn, besides increasing the speed of work, allows scaling it with CDN; </p><br></li><li><p>  <strong>Distributed architecture</strong> that allows you to replace any of the components of the site at any time with relatively minimal effort.  All services are separated from each other, where each service is an application with its own logic.  The logic does not mix, the development teams of each of the modules can work almost independently of each other; </p><br></li><li><p>  <strong>Safety</strong>  In fact, the site is a set of pre-generated static files.  By and large, all the dynamic functions of the site are separated into separate third party services that interact with them through the API and only at the time of generating or updating the content.  As a result, there are no plugins in which vulnerabilities can be found.  This approach also eliminates the risk of being cracked through SQL-injection; </p><br></li><li><p>  <strong>Phenomenal portability</strong> .  Hosting requirements for the generated site are minimal.  A static site can be placed on any of the hosting sites that allow storing static files; </p><br></li><li><p>  <strong>The speed of development</strong> and the absence of the need for ongoing support code.  All the necessary files for generating site pages, as well as templates for generating HTML pages, are stored in GitLab.  The basis is the ability to reuse ready-made solutions as some micro-services that interact with each other.  As mentioned above, we use Contentful as the admin part for filling with content, and we work with vacancies in the Zoho Recruit system. </p><br></li></ul><br><p>  However, there are some difficulties in this approach: </p><br><ul><li><p>  The difficulty of synchronizing and updating site content from third party systems.  The task is solved by correct setting of the webhook, as well as by the deployer, and careful handling of them; </p><br></li><li><p>  There may be problems with the connection of third-party JS libraries in the server-side generation of HTML pages on the site.  The question is solved, albeit with some nuances; </p><br></li><li><p>  The lack of a traditional server part introduces its own difficulties and imposes limitations in cases when, for example, it is necessary to implement a search.  However, the search issue can also be solved using third-party services, such as Algolia, etc. </p><br></li></ul><br><p>  The diagram below shows schematically the architecture of the <a href="https://www.zfort.com.ua/">zfort.com.ua</a> site, as well as the interaction of the main components. </p><br><img src="https://habrastorage.org/webt/7k/sd/qq/7ksdqqoerk_se2uwixrfj1hxiu0.jpeg"><br><p>  GatsbyJS works with data using GraphQL protocol - during the build, we get data from the API of third-party services and create a local database of GraphQL nodes. </p><br><p>  Further, GraphQL queries are written in the components to obtain the data needed in a particular location and HTML is built on the basis of jsx templates. </p><br><p>  To work with Zoho Recruit was written custom Gatsby plugin, which receives data on the API and adds the necessary data to the GraphQL database. </p><br><p>  In general, if necessary, you can refuse to use the content management system and manage the contents of the site by changing .md files located directly in the site folder hosting static files.  All data is pre-added to GraphQL, and as a result, you can do a search, sort, and most other simple aggregate operations and search operations. </p><br><p>  A separate custom service was created for processing requests from forms using Symfony 4. To be able to view data received from several site forms, an application was created using Symfony 4 (SonataAdminBundle). </p><br><p>  Soon the site will feature an updated section dedicated to ZDay - a series of regular professional meetings based on the Zfort Group company. </p><br><p>  Many thanks to everyone who has been with us on Habr√© all these years, everyone who read, actively commented, asked questions. </p><br><p>  Come to our site to continue to receive the latest content you are used to, and also subscribe to email newsletters to areas of interest to you. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/428942/">https://habr.com/ru/post/428942/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../428932/index.html">How I tried to learn English and what came of it</a></li>
<li><a href="../428934/index.html">Proof of availability of places where symmetries cannot exist</a></li>
<li><a href="../428936/index.html">Scientists allowed robots to evolve, and got something weird</a></li>
<li><a href="../428938/index.html">From Victory to PornHub: how companies use dark patterns</a></li>
<li><a href="../428940/index.html">GitLab 11.4 released with a review of merge-requests and pluggable features</a></li>
<li><a href="../428944/index.html">Where to work in IT, release 3: Badoo</a></li>
<li><a href="../428946/index.html">Security Week 45: Something About Bluetooth Vulnerabilities</a></li>
<li><a href="../428950/index.html">Solution of the problem ‚Äúshort left shift‚Äù</a></li>
<li><a href="../428954/index.html">How we shot ourselves in the foot and tried to figure out exactly what</a></li>
<li><a href="../428956/index.html">Drones on the ISS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>