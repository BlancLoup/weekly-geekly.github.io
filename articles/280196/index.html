<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Pros and cons: When it is worth and not worth using MongoDB</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The developer and collaborator of the CouldBoost.io project, Nawaz Dhandala, wrote a paper on why in some cases you should not use MongoDB. We at Late...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Pros and cons: When it is worth and not worth using MongoDB</h1><div class="post__text post__text-html js-mediator-article"> <a href="https://habrahabr.ru/company/latera/blog/280196/"><img src="https://habrastorage.org/files/110/214/689/1102146896034db380fc18a46cc856e0.jpg"></a> <br><br>  The developer and collaborator of the CouldBoost.io project, Nawaz Dhandala, wrote a <a href="http://cbblog.azurewebsites.net/why-you-should-not-use-only-mongodb/">paper</a> on why in some cases you should not use MongoDB.  We at Later develop <a href="http://www.hydra-billing.ru/">billing for telecom operators Hydra</a> and have been working with this database for many years, so we decided to provide our opinion on this issue. <a name="habracut"></a><br><br>  Dandala immediately states that he worked with many DBMSs (both SQL and NoSQL) and considers MongoDB to be an excellent tool, however, there are scenarios in which its use is impractical. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Document-oriented DBMS, such as MongoDB, do an excellent job with storing JSON data, grouped in ‚Äúcollections.‚Äù  In this format, you can store any JSON-documents and conveniently categorized and by collections.  The JSON document contained in MongoDB is called binary JSON or BSON and, like any other document of this format, is unstructured.  Therefore, unlike traditional DBMS, any kind of data can be stored in collections, and this flexibility is combined with the horizontal scalability of the database.  This opportunity is liked by many developers, but "not everything is so simple." <br><br><h4>  If MongoDB is so cool, why doesn't everyone use it and always? </h4><br>  The choice of a DBMS depends, among other things, on what application you plan to create.  That is, the database is not chosen by the developers, but the product itself, Dandala is convinced.  He gives an example confirming this thesis. <br><br>  When creating an application whose concept involves working with documents, MongoDB would be a good choice.  These types of applications include, for example, the blogging engine, where each author can have several blogs, and each of them will contain many comments.  The database for servicing such an application should be easily extensible, and here MongoDB fits perfectly. <br><br>  However, it should be noted that MongoDB does not have links between documents and ‚Äúcollections‚Äù (this is partially compensated by the <a href="http://docs.mongodb.org/manual/reference/database-references/">Database Reference</a> - references in the DBMS, but this does not completely solve the problem).  As a result, a situation arises in which there is a certain set of data that is not related to other information in the database, and there is no way to combine data from various documents.  In SQL systems, this would be an elementary task. <br><br>  Here another question arises - if there are no links and opportunities in MongoDB to join two tables, then why use it at all?  The answer is because this DBMS is highly scalable and, compared to traditional SQL systems, reads and writes much faster. MongoDB is perfect for applications that do not use data with dependencies and require database scalability. <br><br>  Many developers use MongoDB for storing related data, implementing manual joins in code ‚Äî this is enough in ‚Äúone-tier‚Äù merge scenarios or a small number of connections.  That is, this method is far from universal. <br><br><h4>  So which DBMS to choose? </h4><br>  There is a huge number of different DBMSs, and each of them meets a certain set of requirements that developers impose on their application: <br><br><ul><li>  <b>Document-oriented DBMS (for example, MongoDB)</b> : As already mentioned above, document-oriented DBMS is used to store JSON documents in ‚Äúcollections‚Äù and to make queries on the required fields.  You can use this database to create applications that will not contain too many links.  A good example of such an application is a blogging engine or storing a product catalog. </li><li>  <b>Graph DBMS (for example, Neo4j)</b> : Graph DBMS is used for storage between subjects, where nodes are subjects, and faces are connections.  For example, if developers create a social network, and one user subscribes to another, then users are nodes, and their ‚Äúsubscription‚Äù is a link.  Such databases perfectly cope with the formation of connections, even if the depth of such connections is more than one hundred levels.  This tool is so effective that it can even detect e-commerce fraud. </li><li>  <b>Cache (for example Redis)</b> : Such DBMS are used when extremely fast access to data is required.  If you create an application for online trading, in which there are categories loaded on each page, then instead of accessing the database for each reading, which is extremely expensive, you can store data in the cache.  It allows you to quickly perform read / write operations.  Dandala advises using a cache-based DBMS as a wrapper for processing frequently requested data, eliminating the need to make frequent requests to the database itself. </li><li>  <b>Search engines (for example, ElasticSearch)</b> : If you need to perform a full-text database search (for example, product search in an ecommerce application), a good idea would be to use a search engine like ElasticSearch.  This system is able to search by a huge array of data and has extensive functionality - for example, the DBMS is able to search by named categories. </li><li>  <b>String DBMS (for example, Cassandra)</b> : The Cassandra DBMS is used to store serial data, logs, or a huge amount of information that can be automatically generated ‚Äî for example, by some sensors.  If the developers are going to use the DBMS to write large amounts of data and it is planned that there will be much fewer reads and the data will not have connections and associations, then Cassandra will be a good choice, Dandala is sure. </li></ul><br><h4>  Using a combination of databases </h4><br><img src="https://habrastorage.org/files/4a8/6e0/3af/4a86e03af20a433fb38c10de50651f08.jpg"><br><br>  There are also situations in which you may need to use several different DBMS at once. <br><br>  For example, if the application has a search function, then it can be implemented using ElasticSearch, and MongoDB is better suited for storing data without connections.  If we are talking about a project in the field of the Internet of Things, where a huge number of various devices and sensors generate huge amounts of data, it would be reasonable to use Cassandra. <br><br>  The principle of using multiple DBMS to work in one application is called ‚ÄúPolyglot Persistence‚Äù.  In <a href="https://blog.cloudboost.io/what-is-polyglot-persistence-and-how-can-it-help-your-app/">this article</a> you can read about the pros and cons of this approach. <br><br><h4>  Our experience </h4><br>  Our Hydra billing system uses a relational database management system for recording primary data and storing financial information.  It is perfect for this purpose.  But some Hydra modules, for example, a RADIUS server, work under high load and can receive thousands of requests per second with severe restrictions on the processing time of the request.  In addition, in the database of our autonomous RADIUS server, the data is stored as an AVP set (attribute / value pair).  In such a scenario, a relational DBMS no longer looks like the best solution, and then MongoDB comes to the rescue with its repository of documents of arbitrary structure, quick response and horizontal scalability. <br><br>  When operating on more than 100 Hydra installations over the past 5 years, we have not found any serious problems with Mongo.  But a couple of nuances are still there.  First, after a sudden shutdown of the server, the database, although it recovers from the log, but it happens slowly.  Fortunately, the need for this occurs infrequently.  Secondly, even with a small database size, rarely used data is flushed to disk, and when a request is received, it takes a long time to retrieve it.  As a result, the restrictions on the execution time of the request are violated. <br><br>  All of this refers to the MMAPv1 engine, which Mongo uses by default.  We have not yet experimented with others (WiredTiger and InMemory) - the problems are not so serious. </div><p>Source: <a href="https://habr.com/ru/post/280196/">https://habr.com/ru/post/280196/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../280181/index.html">How to succeed on Kickstarter if you are indie (Part 1)</a></li>
<li><a href="../280186/index.html">Scientists have created a neural network that recognizes "drunk" messages on Twitter</a></li>
<li><a href="../280188/index.html">Var and val in java?</a></li>
<li><a href="../280190/index.html">Android Cuvettes, Part 2: SDK and Libraries</a></li>
<li><a href="../280192/index.html">Problem about pair numbers</a></li>
<li><a href="../280198/index.html">How to clean up the mailbox using a neural network. Part 1</a></li>
<li><a href="../280200/index.html">Directed Phishing - a Modern Security Threat</a></li>
<li><a href="../280204/index.html">A bit of Storage Class Memory</a></li>
<li><a href="../280206/index.html">How ESLint reacts to the situation with the removal of packages from NPM</a></li>
<li><a href="../280208/index.html">Distributed nature of Tox Messenger</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>