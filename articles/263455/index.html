<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Emoticons for API Vkontakte</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Earlier, I wrote about Informer Vkontakte - a browser extension for quick reading and reply to a message. In the process of creating, I ran into a pro...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Emoticons for API Vkontakte</h1><div class="post__text post__text-html js-mediator-article">  Earlier, I wrote about <a href="http://habrahabr.ru/post/255241/">Informer Vkontakte</a> - a browser extension for quick reading and reply to a message.  In the process of creating, I ran into a problem - smiles in messages, namely: how to display them? <a name="habracut"></a><br>  The fact is that when a text message is received by the methods of the Vkontakte API, smiles are inserted in it  characters: <br><br><pre><code class="javascript hljs">response: { <span class="hljs-attr"><span class="hljs-attr">count</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">items</span></span>: [{ <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-number"><span class="hljs-number">370892</span></span>, <span class="hljs-attr"><span class="hljs-attr">body</span></span>: <span class="hljs-string"><span class="hljs-string">'Hello World üòä'</span></span>, <span class="hljs-attr"><span class="hljs-attr">user_id</span></span>: <span class="hljs-number"><span class="hljs-number">45421694</span></span>, <span class="hljs-attr"><span class="hljs-attr">from_id</span></span>: <span class="hljs-number"><span class="hljs-number">45421694</span></span>, <span class="hljs-attr"><span class="hljs-attr">date</span></span>: <span class="hljs-number"><span class="hljs-number">1437721570</span></span>, <span class="hljs-attr"><span class="hljs-attr">read_state</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">out</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">emoji</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span> }] }</code> </pre> <br>  The question arose: how to replace all the specials.  characters on relevant images? <br><br>  The solution was found in the very <a href="">Vkontakte</a> - Script which itself VK parsit smiles. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      However, as you can see, there are a lot of things in it: there are events for downloading smiles, opening a window of stickers, and buying a new sticker, etc.  Therefore, I provide a link to the modified <a href="https://github.com/cawa-93/Vk-Emoji">Emoji.js</a> code <br><br><h4>  Using </h4><br>  Using this script is quite simple. <br><br><pre> <code class="javascript hljs">Emoji.emojiToHTML( <span class="hljs-string"><span class="hljs-string">'Hello World üòä'</span></span> ); <span class="hljs-comment"><span class="hljs-comment">// 'Hello World &lt;img class="emoji" alt="üòä" src="https://vk.com/images/emoji/D83DDE0A.png"&gt;'</span></span></code> </pre><br>  As you can see, by default, the script inserts images from the Vkontakte server, which means that you do not need to add all the images to your project.  However, you can change the path to the pictures: <br><br><pre> <code class="javascript hljs">Emoji.pathToEmojisImages = <span class="hljs-string"><span class="hljs-string">'/path/to/img/'</span></span>; <span class="hljs-comment"><span class="hljs-comment">//      Emoji.emojiToHTML( 'Hello World üòä' ); // 'Hello World &lt;img class="emoji" alt="üòä" src="/path/to/img/D83DDE0A.png"&gt;'</span></span></code> </pre><br>  Thus, you can easily use smiles in messages received through the Vkontakte API. </div><p>Source: <a href="https://habr.com/ru/post/263455/">https://habr.com/ru/post/263455/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../263445/index.html">TIS-100 - a puzzle about a multithreaded assembler that no one expected</a></li>
<li><a href="../263447/index.html">Nested Intervals and their implementation under Yii2</a></li>
<li><a href="../263449/index.html">IncrediBuild to check a large project with PVS-Studio</a></li>
<li><a href="../263451/index.html">Survey: What data to open the tax office?</a></li>
<li><a href="../263453/index.html">Creating a game on Blend4Web. Scene and surroundings</a></li>
<li><a href="../263457/index.html">R and Python - worthy rivals?</a></li>
<li><a href="../263459/index.html">Personal data: how realistic is it to get tested by Roskomnadzor?</a></li>
<li><a href="../263461/index.html">My first experience in the development of 2D-games (5 tips)</a></li>
<li><a href="../263465/index.html">Implementation option MVP + DI (Dagger 2) in Android</a></li>
<li><a href="../263469/index.html">Overview of the HP 3PAR Storage Line</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>