<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to write a one-page application (SPA) using Vue.js</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Single-page applications (SPAs) have many advantages, such as speed, a really good UX, and full control of HTML markup. It is becoming more and more S...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to write a one-page application (SPA) using Vue.js</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/rh/ei/m1/rheim1n4pr3wd_uest4mpjjwjmi.png" alt="Single Page Applications"><br><br>  Single-page applications (SPAs) have many advantages, such as speed, a really good UX, and full control of HTML markup.  It is becoming more and more SPA sites;  more and more tools that simplify the SPA development process.  You probably have already read about the young and promising framework <b>Vue.js.</b>  I suggest you dive deeper into Vue and use a simple example to deal with a simple SPA. <br><br>  We will write a client-server application of the simplest blog.  The application will display a list of entries as well as the full text of each individual entry.  And by itself, all this will happen without reloading the page. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      After reading the example of this application, you will learn how to extract data in Vue, create routes and deal with an interesting feature of Vue - single-file components. <a name="habracut"></a><br><br><h2>  Backend </h2><br>  In this tutorial, we will mainly focus on the front end on <b>Vue</b> .  We will not think about writing a REST backend.  For example, the <i>jsonplaceholder.typicode.com</i> service will be used to <i>provide a</i> stub in the form of a REST API. <br><br><h2>  Frontend </h2><br><h3>  Instruments </h3><br>  Getting started with Vue is easy.  Using the right tools makes it even easier.  I recommend to look at the <a href="https://github.com/vuejs/awesome-vue">vue-awesome</a> project, which contains a list of tools, components, libraries and plug-ins for all occasions. <br><br><h3>  Vue-cli </h3><br>  When creating a new project, it is recommended to use Vue-cli.  So you can create projects using official template projects Vue, or one of the many template projects with open source, and, of course, you can create your own and use it anywhere. <br><br>  So, first, install vue-cli as a global package: <br><br><pre><code class="bash hljs">$ npm install -g vue-cli</code> </pre> <br>  Then we initialize the project with the selected template;  for our example, it is more than enough to use webpack-simple. <br><br><pre> <code class="bash hljs">$ vue init webpack-simple vue-spa</code> </pre> <br>  Next, go to the vue-spa folder and run <i>npm install</i> in the terminal.  After installing all the packages, we can run our application in development mode. <br><br><pre> <code class="bash hljs">$ npm run dev</code> </pre> <br>  This command will automatically launch our project on the local webpack dev server.  Our simplest Vue application will appear in the browser.  Of course, it does not look at all like we would like, and is only suitable as a starting point for the start of something bigger.  To continue the work, I suggest first to get acquainted with the structure of our template. <br><br><h3>  Webpack-simple template </h3><br>  Inside the webpack-simple template has the following structure: <br><br><img src="https://habrastorage.org/webt/k_/3_/zi/k_3_zixu5cn9a1zvftf08ktpagy.png" alt="Webpack-simple template"><br><br>  The <i>index.html</i> file contains simple HTML markup with a single ‚Äúapp‚Äù element in the body.  It will be replaced with DOM, generated by vue.  For this reason, the <i>body</i> tag is not recommended as a root element. <br><br>  The <i>src</i> folder contains the main.js file, which contains the webpack entry point.  Vue components are imported there as well.  There is also described the root instance of Vue, which so far has two properties.  The 'el' property provides a Vue instance connection to the specified DOM element.  Another one is the render function that generates the DOM from <i>App.vue</i> .  In general, this is all that we need to know about the structure of the webpack-simple template, not so much, is it?  The main part of our application will be programmed in App.vue.  The .vue extension defines a file as a single-file component vue.  This is one of the features of Vue with which we will take a closer look now. <br><br><h3>  Single file components </h3><br><img src="https://habrastorage.org/webt/yk/df/qn/ykdfqnuzps8lt6s9widxrvd1tmo.png" alt="Single file components"><br><br>  Each * .vue file consists of three types of blocks: &lt;template&gt;, &lt;script&gt; and optionally &lt;style&gt;.  As a result, we can divide the project into related components.  Inside the component, its pattern, logic, and styles are inherently related, and their combination actually makes the component more holistic and easily maintained.  Now we are ready to start creating a blog on Vue. <br><br><h3>  We write application </h3><br>  Let's see what we are actually going to implement.  We will have a headline with the name of our blog at the top of the page.  On the left side we will have a fixed sidebar in which we will display the titles of our records, it will be something like a table of contents.  The rest of the page will be occupied by a dynamic block in which the text of the entry will be displayed. <br><br><img src="https://habrastorage.org/webt/k8/zg/3g/k8zg3g67ykwe0_eh-qzcjyicjlc.png" alt="We write application"><br><br><h4>  Step 1 </h4><br>  First of all, delete all the extra lines from App.vue.  And rewrite the template in accordance with our requirements. <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"app"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">header</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span>Vue.js SPA<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">header</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">main</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">aside</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sidebar"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">aside</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"content"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">main</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Second, create an instance of Vue with the data property, which we will place in the array with our messages.  At the moment it is empty, but soon we will put in it the data received from the server inside the array. <br><br>  After the first call, you can no longer add reactive properties to the root data object.  Therefore, before creating an instance of Vue, it is recommended to declare all the reactive properties at the root level. <br><br><pre> <code class="javascript hljs">&lt;script&gt; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> { data () { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">posts</span></span>: [] } } } &lt;<span class="hljs-regexp"><span class="hljs-regexp">/script&gt;</span></span></code> </pre> <br>  In addition, you can add a few styles to make the app look better. <br>  Application code is hosted on <a href="https://github.com/DChuchin/vue-spa-tutorial/">github.com</a> .  It is enough to clone the repository and switch the branch by step number to follow the development of the application step by step for example: <br><br><pre> <code class="bash hljs">$ git checkout step-1</code> </pre> <br>  At the moment we have absolutely nothing to display in our navigation bar, so let's get data from the server.  For this, I chose Axios, an easy-to-use HTTP client.  You can also use any method convenient for you, for example, a Vue-resource or your own sample or even jQuery Ajax. <br><br><h4>  Step 2 </h4><br>  Install Axios <br><br><pre> <code class="bash hljs">$ npm install --save-dev axios</code> </pre> <br>  Then we import it into the App component and define the getAllPosts () method that will make a request to the server and assign it to the posts property.  We call the method in the created () hook, which will be called after creating the Vue instance and after setting the access settings to the data. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> axios <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'axios'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> { data () { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">posts</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">endpoint</span></span>: <span class="hljs-string"><span class="hljs-string">'https://jsonplaceholder.typicode.com/posts/'</span></span>, } }, created() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getAllPosts(); }, <span class="hljs-attr"><span class="hljs-attr">methods</span></span>: { getAllPosts() { axios.get(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.endpoint) .then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">response</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.posts = response.data; }) .catch(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">error</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'-----error-------'</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(error); }) } } }</code> </pre><br>  And now we will display all the headers of the entries in the sidebar. <br><br><pre> <code class="javascript hljs">&lt;aside <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span></span>=<span class="hljs-string"><span class="hljs-string">"sidebar"</span></span>&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">v-for</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"post in posts"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> {{ post.title }} </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;<span class="hljs-regexp"><span class="hljs-regexp">/aside&gt;</span></span></code> </pre> <br>  Until now, we only displayed the record headers, but for the time being we cannot see the records themselves.  Now you need to display the full post in the content section according to the selected name in the sidebar.  At the same time, we would like each entry to be available at its unique address. <br><br><h4>  Step 3 </h4><br>  To do this, use the official Vue library vue-router.  As the name implies, the library allows you to customize the routing for our application. <br>  Install the library: <br><br><pre> <code class="bash hljs">$ npm install --save-dev vue-router</code> </pre> <br>  To set up routing, let's go back to the main.js file.  Here we define the routing settings and add them to our Vue instance. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Vue <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'vue'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Router <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'vue-router'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> App <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./App.vue'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Post <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./components/Post.vue'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Hello <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./components/Hello.vue'</span></span> Vue.use(Router) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> router = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Router({ <span class="hljs-attr"><span class="hljs-attr">routes</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">path</span></span>: <span class="hljs-string"><span class="hljs-string">'/'</span></span>, <span class="hljs-attr"><span class="hljs-attr">name</span></span>:<span class="hljs-string"><span class="hljs-string">'home'</span></span>, <span class="hljs-attr"><span class="hljs-attr">component</span></span>: Hello, }, { <span class="hljs-attr"><span class="hljs-attr">path</span></span>: <span class="hljs-string"><span class="hljs-string">'/post/:id'</span></span>, <span class="hljs-attr"><span class="hljs-attr">name</span></span>:<span class="hljs-string"><span class="hljs-string">'post'</span></span>, <span class="hljs-attr"><span class="hljs-attr">component</span></span>: Post, <span class="hljs-attr"><span class="hljs-attr">props</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, }, ] }) <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vue({ <span class="hljs-attr"><span class="hljs-attr">el</span></span>: <span class="hljs-string"><span class="hljs-string">'#app'</span></span>, <span class="hljs-attr"><span class="hljs-attr">render</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">h</span></span></span><span class="hljs-function"> =&gt;</span></span> h(App), router })</code> </pre> <br>  In the settings of the routing, we have indicated which component causes the rendering to the appropriate path.  Since only the Post.vue component will be responsible for rendering each post, we don‚Äôt need to determine the path to each post, it‚Äôs enough to define a dynamic path. <br><br><pre> <code class="javascript hljs">path: <span class="hljs-string"><span class="hljs-string">'/post/:id'</span></span></code> </pre> <br>  This path contains a dynamic segment: an id that points to a specific post.  At the same time, we have access to this segment in the Post component via <i>this. $ Route.params.id</i> .  However, using $ route in our component will fix a hard link with the route, which in turn limits the component's flexibility, since it can be used only on certain URL addresses.  Instead, we can use the <i>props</i> option and set it to <i>true</i> .  After that, $ route.params will become associated with the props option of the Post component. <br>  Now that we‚Äôve created a router, we can go back to our application and add a few more lines to the template. <br><br><pre> <code class="javascript hljs">&lt;main&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">aside</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"sidebar"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">router-link</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">v-for</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"post in posts"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">active-class</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"is-active"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"link"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">:to</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"{ name: 'post', params: { id: post.id } }"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> {{post.id}}. {{post.title}} </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">router-link</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">aside</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"content"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">router-view</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">router-view</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">main</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre> <br>  Here we have two components <i>vue-router</i> : &lt;router-link&gt; and &lt;router-view&gt;.  The first is a component to enable user navigation in an application with support for routing.  The second component is a functional component that draws a consistent component for a given path. <br><br>  There is a final step.  We need to display the contents of the post entry. <br><br><h4>  Step 4 </h4><br>  Let's go to the Post.vue file, in which we add a simple template: <br><pre> <code class="javascript hljs">&lt;template lang=<span class="hljs-string"><span class="hljs-string">"html"</span></span>&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"post"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">v-if</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"post"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"post__title"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">{{ post.title }}</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"post__body"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">{{ post.body }}</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"post__id"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">{{ post.id }}</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;<span class="hljs-regexp"><span class="hljs-regexp">/template&gt;</span></span></code> </pre> <br>  Then we need to set the Vue instance parameters for this component.  Here everything is the same as in the display settings of all posts.  <i>Let's</i> declare the <i>props</i> option with a changing <i>id</i> , which will receive the number of our post.  Next, let's declare a data object, as we did in App.vue: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> axios <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'axios'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> { <span class="hljs-attr"><span class="hljs-attr">props</span></span>: [<span class="hljs-string"><span class="hljs-string">'id'</span></span>], data() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">post</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">endpoint</span></span>: <span class="hljs-string"><span class="hljs-string">'https://jsonplaceholder.typicode.com/posts/'</span></span>, } } }</code> </pre> <br>  Then we describe the <i>getPost ()</i> method, which will receive only one post entry by identifier and call it in the <i>created ()</i> hook. <br><br><pre> <code class="javascript hljs">methods: { getPost(id) { axios(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.endpoint + id) .then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">response</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.post = response.data }) .catch( <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">error</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(error) }) } }, created() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getPost(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.id); },</code> </pre> <br>  Almost done.  If we run the application now, we will see that, although the URL is changing, we see the only post that was drawn first.  The fact is that for rendering different posts we have the same component, and Vue does not need to re-create it due to waste of resources, and this also means that component lifecycle hooks will not be called. <br>  To fix this, we just need to set watcher for the <i>$ route</i> object. <br><br><pre> <code class="javascript hljs">watch: { <span class="hljs-string"><span class="hljs-string">'$route'</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getPost(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.id); } }</code> </pre> <br>  Now everything works as it should.  To get the version for production, just run the <i>npm run build command</i> in the console. <br><br><h2>  Let's sum up </h2><br>  We wrote a simple one-page application using Vue in four steps.  We learned how easy it is to start your project with vue-cli.  We looked at the concept of Vue single-file components that make your project more flexible and scalable.  We learned how to extract data from an external API using Axios.  And we saw how to configure routing using vue-router.  Of course, this is a basic knowledge, but I hope that this will help you start using Vue.js using its advanced features. <br><br><h2>  useful links </h2><br>  ‚Üí <a href="https://www.adcisolutions.com/knowledge/how-build-single-page-application-spa-vuejs">Original article</a> <br>  ‚Üí <a href="https://github.com/DChuchin/vue-spa-tutorial/">Link to the GitHub project with source code from the article</a> <br>  ‚Üí <a href="https://github.com/vuejs/awesome-vue">Project vue-awesome</a> </div><p>Source: <a href="https://habr.com/ru/post/350750/">https://habr.com/ru/post/350750/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../350740/index.html">Create your cryptocics (Part 1)</a></li>
<li><a href="../350742/index.html">Optimization of the code in the mind, or "Well, just as definitely faster"</a></li>
<li><a href="../350744/index.html">SSO and Kibana: Kibana integration with integrated Windows authentication (Single Sign-On)</a></li>
<li><a href="../350746/index.html">Swift vs. Kotlin. Differences are important</a></li>
<li><a href="../350748/index.html">How not to become a Python-developer</a></li>
<li><a href="../350752/index.html">FastTrack Training. "Network Basics". "The structure of routers, routing platforms from Cisco." Eddie Martin December 2012</a></li>
<li><a href="../350754/index.html">SIP <-> Telegram: sip.tg</a></li>
<li><a href="../350756/index.html">AI.Hack - a series of hackathons in Moscow and St. Petersburg</a></li>
<li><a href="../350758/index.html">For a beginner webmaster: make a one-page on Bootstrap 4 for half an hour</a></li>
<li><a href="../350760/index.html">Protection of ASP.NET applications from hacking</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>