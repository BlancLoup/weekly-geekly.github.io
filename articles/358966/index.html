<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Universal API for Check Information</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello to residents of Habr. 

 In this article I would like to tell you about the API for receipt of checks, which was not provided to us by everyone‚Äô...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Universal API for Check Information</h1><div class="post__text post__text-html js-mediator-article"> Hello to residents of Habr. <br><br>  In this article I would like to tell you about the API for receipt of checks, which was not provided to us by <s>everyone‚Äôs favorite</s> FTS. <br><br>  When the QR codes first appeared on the checks, I thought ‚ÄúWow, how cool!  You scan the code and see if not all the info on the check, then a link to it. ‚Äù  And what was my disappointment when, after scanning such code, I saw something like 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     <code>t=20180518T220500&amp;s=975.88&amp;fn=8710000101125654&amp;i=99456&amp;fp=1250448795&amp;n=1</code> <br> <br>  But I did not get upset and thought that the Federal Tax Service took care of us and provided an API for obtaining such information.  Googling for some time, I realized that the Federal Tax Service provided us with only a mobile application to check the receipt and view the information that came to them from the store. <br><a name="habracut"></a><br>  But!  Between the store and the tax there is another link - <abbr title="fiscal data operator">OFD</abbr> - those who process information on checks received from the stores, and sent to the tax.  So they provide an API for getting the information we need.  Not all.  And not always free. <br><br>  Judging by the information from <a href="https://ru.wikipedia.org/wiki/%25D0%259E%25D0%25BF%25D0%25B5%25D1%2580%25D0%25B0%25D1%2582%25D0%25BE%25D1%2580_%25D1%2584%25D0%25B8%25D1%2581%25D0%25BA%25D0%25B0%25D0%25BB%25D1%258C%25D0%25BD%25D1%258B%25D1%2585_%25D0%25B4%25D0%25B0%25D0%25BD%25D0%25BD%25D1%258B%25D1%2585">Wikipedia</a> as of March 1, 2018, 17 CRFs are registered.  Suppose 10 of them provide an open and free API.  Taking into account that we do not know with which OFD a particular store is working, it will be necessary to go through API 10 of fiscal data operators.  Far from the best option. <br><br>  After some time, I accidentally stumbled upon an application (not from the FTS), which receives a check from the check code from the QR code.  They will not "run" through all the CRFs and collect information from there - I thought.  I went to Google again and came across such an <a href="https://toster.ru/q/442458">answer</a> . <br><br>  It seemed that after this answer an impromptu investigation could be completed, but I still had some questions: <br><br><ul><li>  What happens if you use other headers? </li><li>  What to do if the user is not registered?  Download mobile app and register?  (The FTS website does not provide an opportunity to register in this context) </li><li>  And if you forgot your password? </li></ul><br>  Having started the Android Device Monitor and SoapUI, I started to figure it out.  I post here all the generalized information that I managed to get.  The FTS provides the following public API: <br><br><div class="spoiler">  <b class="spoiler_title">check in</b> <div class="spoiler_text">  POST <br>  <a href="https://proverkacheka.nalog.ru:9999/v1/mobile/users/signup">https://proverkacheka.nalog.ru:9999/v1/mobile/users/signup</a> <br>  Content-Type: application / json;  charset = UTF-8 <br><br>  Content: <br><br><pre> <code class="json hljs">{<span class="hljs-attr"><span class="hljs-attr">"email"</span></span>:<span class="hljs-string"><span class="hljs-string">"some@mail.com"</span></span>,<span class="hljs-attr"><span class="hljs-attr">"name"</span></span>:<span class="hljs-string"><span class="hljs-string">"SomeName"</span></span>,<span class="hljs-attr"><span class="hljs-attr">"phone"</span></span>:<span class="hljs-string"><span class="hljs-string">"+79991234567"</span></span>}</code> </pre> <br>  All parameters are required. <br><br>  If the result is successful, the user is created, an SMS with a password is sent to the specified number, and 204 No content is returned in response. <br><br>  If the user already exists, then 409 Conflict and the message "user exists" are returned. <br>  If the phone number is incorrect, then 500 Internal Server Error and the message ‚Äúfailed with code 20101‚Äù are returned. <br><br>  If the email address is incorrect, then 400 Bad Request is returned and the message "[" Object did not pass validation for format email: &lt;the email address you specified&gt; "]". <br>  If the email address is already in use, but the phone is not there, then there are no errors and the registration is successful. <br></div></div><br><div class="spoiler">  <b class="spoiler_title">Login</b> <div class="spoiler_text">  Get <br>  <a href="https://proverkacheka.nalog.ru:9999/v1/mobile/users/login">https://proverkacheka.nalog.ru:9999/v1/mobile/users/login</a> <br><br>  In the header, the Pre-emptive Basic Authorization is transmitted, where the phone number is transmitted as username, as "+79991234567", and the password received in SMS when registering or recovering the password. <br><br>  If everything is good, then 200 OK will return and the message will be in the form of json <br><br><pre> <code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"email"</span></span>: <span class="hljs-string"><span class="hljs-string">"&lt;  ,   &gt;"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"&lt;,   &gt;"</span></span> }</code> </pre> <br>  If you enter an incorrect phone number or password, then 403 Forbidden will be returned and the message "not be correct." <br><br>  If you do not specify a phone number and / or password, then nothing will be returned. <br></div></div><br><div class="spoiler">  <b class="spoiler_title">Password recovery</b> <div class="spoiler_text">  POST <br>  <a href="https://proverkacheka.nalog.ru:9999/v1/mobile/users/restore">https://proverkacheka.nalog.ru:9999/v1/mobile/users/restore</a> <br>  Content-Type: application / json;  charset = UTF-8 <br><br>  Content: <br><br><pre> <code class="json hljs">{<span class="hljs-attr"><span class="hljs-attr">"phone"</span></span>:<span class="hljs-string"><span class="hljs-string">"+79991234567"</span></span>}</code> </pre> <br>  If the phone number is found, then 204 No Content is returned and an SMS with a new password is sent to the phone. <br><br>  If the phone number is not found or the number is incorrect, then 404 Not Found and the message "the user was not found" are returned. <br></div></div><br><div class="spoiler">  <b class="spoiler_title">Check the existence of a check</b> <div class="spoiler_text">  Get <br>  <a href="https://proverkacheka.nalog.ru:9999/v1/ofds/*/inns/*/fss/%253C%25D0%25BD%25D0%25BE%25D0%25BC%25D0%25B5%25D1%2580%2520%25D0%25A4%25D0%259D%253E/operations/1/tickets/%253C%25D0%25BD%25D0%25BE%25D0%25BC%25D0%25B5%25D1%2580%2520%25D0%25A4%25D0%2594%253E%3FfiscalSign%3D%253C%25D0%25BD%25D0%25BE%25D0%25BC%25D0%25B5%25D1%2580%2520%25D0%25A4%25D0%259F%25D0%2594%253E%26date%3D2018-05-17T17:57:00%26sum%3D3900">https://proverkacheka.nalog.ru:9999/v1/ofds/*/inns/*/fss/&lt; FN number&gt; / operations / &lt;type of cash voucher&gt; / tickets / &lt;FD number&gt;? fiscalSign = &lt;FPD number&gt; &amp; date = 2018-05-17T17: 57: 00 &amp; sum = 3900</a> <br>  Where <br><br><ul><li>  FN number (Fiscal Number) - 16-digit number.  For example 8710000100518392 </li><li>  FD number (Fiscal document) - up to 10 characters.  For example 54812 </li><li>  FPD number (Fiscal Document Indication, also known as FP) - up to 10 characters.  For example 3522207165 </li><li>  Type of cash voucher.  The check is marked as n = 1 (receipt) and n = 2 (return return) </li><li>  Date - the date of the check.  The format may vary.  I tried to turn the date (ie 17-05-2018), put a space instead of T, delete seconds </li><li>  Amount - amount from the check in kopecks </li></ul><br>  If the check is found, then 204 No Content will return. <br>  If the check is not found, then 406 Not Acceptable will be returned. <br>  If the date / amount is incorrect or does not match the date / amount indicated on the check, then 406 Not Acceptable is returned.  At the same time seconds are not counted. <br>  If you do not specify the date / amount parameter, then 400 Bad Request is returned and the message "[" Missing required property: &lt;property_name&gt; "]". <br></div></div><br><div class="spoiler">  <b class="spoiler_title">Getting detailed information on the check</b> <div class="spoiler_text">  Get <br>  <a href="https://proverkacheka.nalog.ru:9999/v1/inns/*/kkts/*/fss/%253C%25D0%259D%25D0%25BE%25D0%25BC%25D0%25B5%25D1%2580%2520%25D0%25A4%25D0%259D%253E/tickets/%253C%25D0%259D%25D0%25BE%25D0%25BC%25D0%25B5%25D1%2580%2520%25D0%25A4%25D0%2594%253E%3FfiscalSign%3D%253C%25D0%259D%25D0%25BE%25D0%25BC%25D0%25B5%25D1%2580%2520%25D0%25A4%25D0%259F%25D0%2594%253E%26sendToEmail%3Dno">https://proverkacheka.nalog.ru:9999/v1/inns/*/kkts/*/fss/&lt;FN number&gt; / tickets / &lt;FD number&gt;? fiscalSign = &lt;FPD number&gt; &amp; sendToEmail = no</a> <br>  Where <br><br><ul><li>  FN number (Fiscal Number) - 16-digit number.  For example 8710000100518392 </li><li>  FD number (Fiscal document) - up to 10 characters.  For example 54812 </li><li>  FPD number (Fiscal Document Indication, also known as FP) - up to 10 characters.  For example 3522207165 </li></ul><br>  You must also specify at least the empty device-id and device-os headers. <br>  If incorrect user data is provided, then 403 Forbidden is returned and the message "was not correct". <br><br>  If you do not specify a phone number and / or password, then nothing will return. <br><br>  If the check is not found, then 406 Not Acceptable is returned.  Also, the check may not be found if it was received long enough.  FTS does not store information on checks for all time.  At the time of this writing, the FTS kept detailed information for about 2-3 months. <br><br>  If a check for the existence of a check did not occur before calling this method, then 202 Accepted will return (without messages and any content).  When you call again information on the check will return. <br><br>  If you try to substitute the value ‚Äúyes‚Äù in the ‚ÄúsendToEmail‚Äù parameter, then 500 Internal Server Error and the message ‚Äúconnect ECONNREFUSED 127.0.0.1:465‚Äù will be returned.  If you try to substitute other values ‚Äã‚Äã("true", 1, etc.), 400 Bad Request will return and the message "[" No enum match for: &lt;value that you tried to transfer&gt; "]". <br><br>  If everything is good, then 200 OK will return and the contents in json format look something like this: <br><br><pre> <code class="json hljs">{<span class="hljs-attr"><span class="hljs-attr">"document"</span></span>: {<span class="hljs-attr"><span class="hljs-attr">"receipt"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"operationType"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"fiscalSign"</span></span>: <span class="hljs-number"><span class="hljs-number">3522207165</span></span>, <span class="hljs-attr"><span class="hljs-attr">"dateTime"</span></span>: <span class="hljs-string"><span class="hljs-string">"2018-05-17T17:57:00"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"rawData"</span></span>: <span class="hljs-string"><span class="hljs-string">"AwAzAREEEAA4NzEwMDAwMTAwNTE4MzEzDQQUADAwMDExOTM1MTQwNDE0MDUgICAg+gMMADc4MjU3MDYwODYgIBAEBAAJ2gAA9AMEAGzC/Vo1BAYAMQTSDyLSDgQEABYBAAASBAQAogAAAB4EAQAB/AMCADwPPAQPAD0EAwCKrqQ+BAQARzYzNyMERQAGBCcAKjM0OTIyNzcgTkVTVC6MruAuTUFYSUIukZKQgJeAkoWLLjE0MKyrNwQCAJ8P/wMEAAZAQg8TBAIAnw9PBAIAbAH9Aw4AhK6ro+PopaKgIICtraAHBAIAPA85BAEAAE8EAgBsARgEDACAo+Cu4q7goyCOjo7xAyoANjIwMDE3LCCjLiCFqqDipeCoraHj4KMsIOOrLiCAp6itoCwgpC4gMTimHwQBAAE="</span></span>, <span class="hljs-attr"><span class="hljs-attr">"totalSum"</span></span>: <span class="hljs-number"><span class="hljs-number">3900</span></span>, <span class="hljs-attr"><span class="hljs-attr">"nds10"</span></span>: <span class="hljs-number"><span class="hljs-number">364</span></span>, <span class="hljs-attr"><span class="hljs-attr">"userInn"</span></span>: <span class="hljs-string"><span class="hljs-string">"7825706086"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"taxationType"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"operator"</span></span>: <span class="hljs-string"><span class="hljs-string">"&lt; &gt;"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"fiscalDocumentNumber"</span></span>: <span class="hljs-number"><span class="hljs-number">54812</span></span>, <span class="hljs-attr"><span class="hljs-attr">"properties"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"value"</span></span>: <span class="hljs-string"><span class="hljs-string">"G637"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"key"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span> }], <span class="hljs-attr"><span class="hljs-attr">"receiptCode"</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-attr"><span class="hljs-attr">"requestNumber"</span></span>: <span class="hljs-number"><span class="hljs-number">162</span></span>, <span class="hljs-attr"><span class="hljs-attr">"user"</span></span>: <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-attr"><span class="hljs-attr">"kktRegId"</span></span>: <span class="hljs-string"><span class="hljs-string">"0001193514041405"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"fiscalDriveNumber"</span></span>: <span class="hljs-string"><span class="hljs-string">"8710000100518392"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"items"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"sum"</span></span>: <span class="hljs-number"><span class="hljs-number">3999</span></span>, <span class="hljs-attr"><span class="hljs-attr">"price"</span></span>: <span class="hljs-number"><span class="hljs-number">3999</span></span>, <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"*3492277 NEST..MAXIB..140"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"quantity"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"nds10"</span></span>: <span class="hljs-number"><span class="hljs-number">364</span></span> }], <span class="hljs-attr"><span class="hljs-attr">"ecashTotalSum"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">"retailPlaceAddress"</span></span>: <span class="hljs-string"><span class="hljs-string">"620017, . , . , . 18"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"cashTotalSum"</span></span>: <span class="hljs-number"><span class="hljs-number">3900</span></span>, <span class="hljs-attr"><span class="hljs-attr">"shiftNumber"</span></span>: <span class="hljs-number"><span class="hljs-number">278</span></span> }}}</code> / Vo1BAYAMQTSDyLSDgQEABYBAAASBAQAogAAAB4EAQAB / AMCADwPPAQPAD0EAwCKrqQ + BAQARzYzNyMERQAGBCcAKjM0OTIyNzcgTkVTVC6MruAuTUFYSUIukZKQgJeAkoWLLjE0MKyrNwQCAJ8P / wMEAAZAQg8TBAIAnw9PBAIAbAH9Aw4AhK6ro + PopaKgIICtraAHBAIAPA85BAEAAE8EAgBsARgEDACAo + Cu4q7goyCOjo7xAyoANjIwMDE3LCCjLiCFqqDipeCoraHj4KMsIOOrLiCAp6itoCwgpC4gMTimHwQBAAE =", <code class="json hljs">{<span class="hljs-attr"><span class="hljs-attr">"document"</span></span>: {<span class="hljs-attr"><span class="hljs-attr">"receipt"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"operationType"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"fiscalSign"</span></span>: <span class="hljs-number"><span class="hljs-number">3522207165</span></span>, <span class="hljs-attr"><span class="hljs-attr">"dateTime"</span></span>: <span class="hljs-string"><span class="hljs-string">"2018-05-17T17:57:00"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"rawData"</span></span>: <span class="hljs-string"><span class="hljs-string">"AwAzAREEEAA4NzEwMDAwMTAwNTE4MzEzDQQUADAwMDExOTM1MTQwNDE0MDUgICAg+gMMADc4MjU3MDYwODYgIBAEBAAJ2gAA9AMEAGzC/Vo1BAYAMQTSDyLSDgQEABYBAAASBAQAogAAAB4EAQAB/AMCADwPPAQPAD0EAwCKrqQ+BAQARzYzNyMERQAGBCcAKjM0OTIyNzcgTkVTVC6MruAuTUFYSUIukZKQgJeAkoWLLjE0MKyrNwQCAJ8P/wMEAAZAQg8TBAIAnw9PBAIAbAH9Aw4AhK6ro+PopaKgIICtraAHBAIAPA85BAEAAE8EAgBsARgEDACAo+Cu4q7goyCOjo7xAyoANjIwMDE3LCCjLiCFqqDipeCoraHj4KMsIOOrLiCAp6itoCwgpC4gMTimHwQBAAE="</span></span>, <span class="hljs-attr"><span class="hljs-attr">"totalSum"</span></span>: <span class="hljs-number"><span class="hljs-number">3900</span></span>, <span class="hljs-attr"><span class="hljs-attr">"nds10"</span></span>: <span class="hljs-number"><span class="hljs-number">364</span></span>, <span class="hljs-attr"><span class="hljs-attr">"userInn"</span></span>: <span class="hljs-string"><span class="hljs-string">"7825706086"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"taxationType"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"operator"</span></span>: <span class="hljs-string"><span class="hljs-string">"&lt; &gt;"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"fiscalDocumentNumber"</span></span>: <span class="hljs-number"><span class="hljs-number">54812</span></span>, <span class="hljs-attr"><span class="hljs-attr">"properties"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"value"</span></span>: <span class="hljs-string"><span class="hljs-string">"G637"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"key"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span> }], <span class="hljs-attr"><span class="hljs-attr">"receiptCode"</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-attr"><span class="hljs-attr">"requestNumber"</span></span>: <span class="hljs-number"><span class="hljs-number">162</span></span>, <span class="hljs-attr"><span class="hljs-attr">"user"</span></span>: <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-attr"><span class="hljs-attr">"kktRegId"</span></span>: <span class="hljs-string"><span class="hljs-string">"0001193514041405"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"fiscalDriveNumber"</span></span>: <span class="hljs-string"><span class="hljs-string">"8710000100518392"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"items"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"sum"</span></span>: <span class="hljs-number"><span class="hljs-number">3999</span></span>, <span class="hljs-attr"><span class="hljs-attr">"price"</span></span>: <span class="hljs-number"><span class="hljs-number">3999</span></span>, <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"*3492277 NEST..MAXIB..140"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"quantity"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"nds10"</span></span>: <span class="hljs-number"><span class="hljs-number">364</span></span> }], <span class="hljs-attr"><span class="hljs-attr">"ecashTotalSum"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">"retailPlaceAddress"</span></span>: <span class="hljs-string"><span class="hljs-string">"620017, . , . , . 18"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"cashTotalSum"</span></span>: <span class="hljs-number"><span class="hljs-number">3900</span></span>, <span class="hljs-attr"><span class="hljs-attr">"shiftNumber"</span></span>: <span class="hljs-number"><span class="hljs-number">278</span></span> }}}</code> </pre> <br>  Where <br><br><ul><li>  all amounts are in kopecks </li><li>  data of the cashier in different stores have different formats (in one case the ‚ÄúLast Name First Name‚Äù can return, in the other ‚ÄúLast Name I. position‚Äù </li><li>  the order of the elements may change </li><li>  Different stores use different sets of parameters and, if a parameter is returned in a check from one store, then it‚Äôs not a fact that this parameter will be in a check from another store </li><li>  the store address format may vary </li></ul><br><div class="spoiler">  <b class="spoiler_title">Another example of a return check</b> <div class="spoiler_text"><pre> <code class="json hljs">{<span class="hljs-attr"><span class="hljs-attr">"document"</span></span>: {<span class="hljs-attr"><span class="hljs-attr">"receipt"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"cashTotalSum"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">"fiscalSign"</span></span>: <span class="hljs-number"><span class="hljs-number">1301551154</span></span>, <span class="hljs-attr"><span class="hljs-attr">"nds18"</span></span>: <span class="hljs-number"><span class="hljs-number">4859</span></span>, <span class="hljs-attr"><span class="hljs-attr">"operationType"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"userInn"</span></span>: <span class="hljs-string"><span class="hljs-string">"7728029110"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"dateTime"</span></span>: <span class="hljs-string"><span class="hljs-string">"2018-05-18T22:05:00"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"fiscalDocumentNumber"</span></span>: <span class="hljs-number"><span class="hljs-number">12654</span></span>, <span class="hljs-attr"><span class="hljs-attr">"receiptCode"</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-attr"><span class="hljs-attr">"ecashTotalSum"</span></span>: <span class="hljs-number"><span class="hljs-number">97588</span></span>, <span class="hljs-attr"><span class="hljs-attr">"nds10"</span></span>: <span class="hljs-number"><span class="hljs-number">5976</span></span>, <span class="hljs-attr"><span class="hljs-attr">"requestNumber"</span></span>: <span class="hljs-number"><span class="hljs-number">395</span></span>, <span class="hljs-attr"><span class="hljs-attr">"retailPlaceAddress"</span></span>: <span class="hljs-string"><span class="hljs-string">"., ., .50"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"fiscalDriveNumber"</span></span>: <span class="hljs-string"><span class="hljs-string">"871000010459859"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"taxationType"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"user"</span></span>: <span class="hljs-string"><span class="hljs-string">"  "</span></span>, <span class="hljs-attr"><span class="hljs-attr">"operator"</span></span>: <span class="hljs-string"><span class="hljs-string">"&lt; &gt;"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"items"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"sum"</span></span>: <span class="hljs-number"><span class="hljs-number">3799</span></span>, <span class="hljs-attr"><span class="hljs-attr">"quantity"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"price"</span></span>: <span class="hljs-number"><span class="hljs-number">3799</span></span>, <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"18074   100"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"nds10"</span></span>: <span class="hljs-number"><span class="hljs-number">345</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"sum"</span></span>: <span class="hljs-number"><span class="hljs-number">7490</span></span>, <span class="hljs-attr"><span class="hljs-attr">"quantity"</span></span>: <span class="hljs-number"><span class="hljs-number">0.872</span></span>, <span class="hljs-attr"><span class="hljs-attr">"nds18"</span></span>: <span class="hljs-number"><span class="hljs-number">1143</span></span>, <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"2000339  . 1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"price"</span></span>: <span class="hljs-number"><span class="hljs-number">8590</span></span> } ], <span class="hljs-attr"><span class="hljs-attr">"totalSum"</span></span>: <span class="hljs-number"><span class="hljs-number">97588</span></span>, <span class="hljs-attr"><span class="hljs-attr">"rawData"</span></span>: <span class="hljs-string"><span class="hljs-string">"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"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"shiftNumber"</span></span>: <span class="hljs-number"><span class="hljs-number">262</span></span>, <span class="hljs-attr"><span class="hljs-attr">"kktRegId"</span></span>: <span class="hljs-string"><span class="hljs-string">"0001248888049341"</span></span> }}}</code> / 1o1BAYAMQRNlDKEDgQEAAYBAAASBAQAiwEAAB4EAQAB / AMDADR9ASMEMwAGBBYAMTgwNzQgk6rgrq8gr6CqpeIgMTAwozcEAgDXDv8DAwAD6AMTBAIA1w5PBAIAWQEjBEEABgQkADIwMDAzMzkgn6GrrqqoIJGFh46NLo + QhYSLjoaFjYiFIDGqozcEAgCOIf8DAwADaAMTBAIAQh1OBAIAdwQjBD4ABgQiACozMDc3NDA0IJGPryCBoKOl4iDhIKrjrabj4q6sIDE1MKM3BAIAxwP / AwMAA9AHEwQCAI4HTwQBALAjBDkABgQcADMyMjYzMTQgjKDhq64giJCBiJKRio6FIDE4MKM3BAIA7ir / AwMAA + gDEwQCAO4qTwQCAOcDIwQ5AAYEHQAqMzIyNjQzNCCKoODiruSlq + wg4KCtraipIDGqozcEAgDGB / 8DAwAD5gMTBAIAwgdPBAEAtSMENQAGBBkAKjMyMjY0NDAgi + OqIJCFj5eAkpuJIDGqozcEAgDGB / 8DAwADWAETBAIArQJPBAEAPiMENwAGBBoAKjMyMjczOTEgg + Dj6KggipCAkY2bhSAxqqM3BAIAPx // AwMAA2IBEwQCABALTgQCALABIwQyAAYEFQAzMjI3NDAzIICvpavs4ait6yAxqqM3BAIArx3 / AwMAA14CEwQCAP0RTgQCAL4CIwQ9AAYEIAAzMjU1MjQ4IIyu4Kquouwgr64tqq7gpanhqqggMTAwozcEAgBkMv8DAwADRgETBAIAbRBOBAIAgQIjBDsABgQeADMzMzAzNjggkayl4qCtoCAyMCUgr6sv4eIgNDAwozcEAgCmHf8DAwAD6AMTBAIAph1PBAIAsgIjBD8ABgQiADMzMzkx <code class="json hljs">{<span class="hljs-attr"><span class="hljs-attr">"document"</span></span>: {<span class="hljs-attr"><span class="hljs-attr">"receipt"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"cashTotalSum"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">"fiscalSign"</span></span>: <span class="hljs-number"><span class="hljs-number">1301551154</span></span>, <span class="hljs-attr"><span class="hljs-attr">"nds18"</span></span>: <span class="hljs-number"><span class="hljs-number">4859</span></span>, <span class="hljs-attr"><span class="hljs-attr">"operationType"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"userInn"</span></span>: <span class="hljs-string"><span class="hljs-string">"7728029110"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"dateTime"</span></span>: <span class="hljs-string"><span class="hljs-string">"2018-05-18T22:05:00"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"fiscalDocumentNumber"</span></span>: <span class="hljs-number"><span class="hljs-number">12654</span></span>, <span class="hljs-attr"><span class="hljs-attr">"receiptCode"</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-attr"><span class="hljs-attr">"ecashTotalSum"</span></span>: <span class="hljs-number"><span class="hljs-number">97588</span></span>, <span class="hljs-attr"><span class="hljs-attr">"nds10"</span></span>: <span class="hljs-number"><span class="hljs-number">5976</span></span>, <span class="hljs-attr"><span class="hljs-attr">"requestNumber"</span></span>: <span class="hljs-number"><span class="hljs-number">395</span></span>, <span class="hljs-attr"><span class="hljs-attr">"retailPlaceAddress"</span></span>: <span class="hljs-string"><span class="hljs-string">"., ., .50"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"fiscalDriveNumber"</span></span>: <span class="hljs-string"><span class="hljs-string">"871000010459859"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"taxationType"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"user"</span></span>: <span class="hljs-string"><span class="hljs-string">"  "</span></span>, <span class="hljs-attr"><span class="hljs-attr">"operator"</span></span>: <span class="hljs-string"><span class="hljs-string">"&lt; &gt;"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"items"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"sum"</span></span>: <span class="hljs-number"><span class="hljs-number">3799</span></span>, <span class="hljs-attr"><span class="hljs-attr">"quantity"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"price"</span></span>: <span class="hljs-number"><span class="hljs-number">3799</span></span>, <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"18074   100"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"nds10"</span></span>: <span class="hljs-number"><span class="hljs-number">345</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"sum"</span></span>: <span class="hljs-number"><span class="hljs-number">7490</span></span>, <span class="hljs-attr"><span class="hljs-attr">"quantity"</span></span>: <span class="hljs-number"><span class="hljs-number">0.872</span></span>, <span class="hljs-attr"><span class="hljs-attr">"nds18"</span></span>: <span class="hljs-number"><span class="hljs-number">1143</span></span>, <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"2000339  . 1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"price"</span></span>: <span class="hljs-number"><span class="hljs-number">8590</span></span> } ], <span class="hljs-attr"><span class="hljs-attr">"totalSum"</span></span>: <span class="hljs-number"><span class="hljs-number">97588</span></span>, <span class="hljs-attr"><span class="hljs-attr">"rawData"</span></span>: <span class="hljs-string"><span class="hljs-string">"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"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"shiftNumber"</span></span>: <span class="hljs-number"><span class="hljs-number">262</span></span>, <span class="hljs-attr"><span class="hljs-attr">"kktRegId"</span></span>: <span class="hljs-string"><span class="hljs-string">"0001248888049341"</span></span> }}}</code> 8DAgADyBMEAgDYE04EAgAHAyMEPwAGBCMAkzM0MTQzOTMgiqXkqOAggYWLm4UgkI6RmyAzLDIlIDUwMKM3BAIANAj / AwMAA + gDEwQCADQITwQBAL8jBD0ABgQgADM0MjYyNjgggq6koCCXhZCNjoOOi46CkYqAnyAxLDWrNwQCAC0J / wMDAAPoAxMEAgAtCU4EAgBmASMEMAAGBBMAMzQyNzU5OCCMrquuqq4gMCw5qzcEAgCkC / 8DAwAD6AMTBAIApAtPBAIADwEjBD0ABgQgADM0NDMwOTMgkqKu4K6jIIiQgYiSkYqIiSCMhyAzNTCjNwQCABki / wMDAAPoAxMEAgAZIk8EAgAaAyMEMAAGBBQAMzQ0NTIxOCCPpeLg4 + iqoCA1MKM3BAIAlwj / AwMAA + gDEwQCAJcITwQBAMgjBDoABgQdADM0ODQzMTUgn6nmriCKkJODi5uJIIOOhCAxMOjiNwQCAPcR / wMDAAPoAxMEAgD3EU8EAgCiASMEQAAGBCMAMzQ5NTA4MCCCrqSgIEpFWUVBIENSWVNUQUxOQVlBIDAsNas3BAIAsxT / AwMAA + gDEwQCALMUTgQCACgDIwQ9AAYEIAAzNTAzMzY2IIqu4qul4usgipCTg4ubiSCDjoQgNDUwozcEAgBXG / 8DAwAD6AMTBAIAVxtPBAIAfAIjBDkABgQdADM2MDExMjIgiuDjr6Agn5eNhYKAnyD8MiA4MDCjNwQCAGcG / wMDAAPoAxMEAgBnBk8EAQCV / QMUAJHj5aDgpaKgII4goOHhqOHipa3iBwQBAAA5BAMANH0BTgQCAPsSTwQCAFgXGAQRAICOIJKEII + l4KWq4KXh4q6q <code class="json hljs">{<span class="hljs-attr"><span class="hljs-attr">"document"</span></span>: {<span class="hljs-attr"><span class="hljs-attr">"receipt"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"cashTotalSum"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">"fiscalSign"</span></span>: <span class="hljs-number"><span class="hljs-number">1301551154</span></span>, <span class="hljs-attr"><span class="hljs-attr">"nds18"</span></span>: <span class="hljs-number"><span class="hljs-number">4859</span></span>, <span class="hljs-attr"><span class="hljs-attr">"operationType"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"userInn"</span></span>: <span class="hljs-string"><span class="hljs-string">"7728029110"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"dateTime"</span></span>: <span class="hljs-string"><span class="hljs-string">"2018-05-18T22:05:00"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"fiscalDocumentNumber"</span></span>: <span class="hljs-number"><span class="hljs-number">12654</span></span>, <span class="hljs-attr"><span class="hljs-attr">"receiptCode"</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-attr"><span class="hljs-attr">"ecashTotalSum"</span></span>: <span class="hljs-number"><span class="hljs-number">97588</span></span>, <span class="hljs-attr"><span class="hljs-attr">"nds10"</span></span>: <span class="hljs-number"><span class="hljs-number">5976</span></span>, <span class="hljs-attr"><span class="hljs-attr">"requestNumber"</span></span>: <span class="hljs-number"><span class="hljs-number">395</span></span>, <span class="hljs-attr"><span class="hljs-attr">"retailPlaceAddress"</span></span>: <span class="hljs-string"><span class="hljs-string">"., ., .50"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"fiscalDriveNumber"</span></span>: <span class="hljs-string"><span class="hljs-string">"871000010459859"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"taxationType"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"user"</span></span>: <span class="hljs-string"><span class="hljs-string">"  "</span></span>, <span class="hljs-attr"><span class="hljs-attr">"operator"</span></span>: <span class="hljs-string"><span class="hljs-string">"&lt; &gt;"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"items"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"sum"</span></span>: <span class="hljs-number"><span class="hljs-number">3799</span></span>, <span class="hljs-attr"><span class="hljs-attr">"quantity"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"price"</span></span>: <span class="hljs-number"><span class="hljs-number">3799</span></span>, <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"18074   100"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"nds10"</span></span>: <span class="hljs-number"><span class="hljs-number">345</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"sum"</span></span>: <span class="hljs-number"><span class="hljs-number">7490</span></span>, <span class="hljs-attr"><span class="hljs-attr">"quantity"</span></span>: <span class="hljs-number"><span class="hljs-number">0.872</span></span>, <span class="hljs-attr"><span class="hljs-attr">"nds18"</span></span>: <span class="hljs-number"><span class="hljs-number">1143</span></span>, <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"2000339  . 1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"price"</span></span>: <span class="hljs-number"><span class="hljs-number">8590</span></span> } ], <span class="hljs-attr"><span class="hljs-attr">"totalSum"</span></span>: <span class="hljs-number"><span class="hljs-number">97588</span></span>, <span class="hljs-attr"><span class="hljs-attr">"rawData"</span></span>: <span class="hljs-string"><span class="hljs-string">"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"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"shiftNumber"</span></span>: <span class="hljs-number"><span class="hljs-number">262</span></span>, <span class="hljs-attr"><span class="hljs-attr">"kktRegId"</span></span>: <span class="hljs-string"><span class="hljs-string">"0001248888049341"</span></span> }}}</code> </pre> <br></div></div><br></div></div><br>  I don‚Äôt see much sense in the login, but it is used in their mobile application.  Perhaps in the future it will come in handy for something. <br><br>  Who is interested in an example of implementing a connection to this API, here is a <a href="https://github.com/Diamed/CheckReceiptSDK">link</a> to the github project of a library written in C #. <br><br>  For any questions or comments please in the comments. <br><br>  <b>UPD</b> After a small check, it turned out that the FTS does not store detailed information on all checks.  At least on 05/22/2018, I could not get a complete check from December 2017, January and February 2018, despite the fact that the CRF has this information and the FTS mobile application reports that the check is correct.  For March 2018, the check has already been received. <br><br>  <b>UPD</b> As users noticed, <a href="https://habr.com/ru/users/ivang/" class="user_link">IvanG</a> and <a href="https://habr.com/ru/users/neoman36/" class="user_link">neoman36</a> , n = 1, is a ‚ÄúCash voucher type‚Äù.  1 - means "arrival", 2 - "Return of the parish."  The same number must be inserted when checking the existence of a check. <br><br>  <b>UPD</b> As the <a href="https://habr.com/ru/users/echo77/" class="user_link">Echo77</a> user <a href="https://habr.com/ru/users/echo77/" class="user_link">noted</a> , from December 2018, the API began to return the response code 451 ‚ÄúIllegal public API usage‚Äù, so now before requesting a check, it is necessary to make a request to check the existence of the check. </div><p>Source: <a href="https://habr.com/ru/post/358966/">https://habr.com/ru/post/358966/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../358948/index.html">Data centers, similar to chicken coops, and work in Antarctica: a selection of unusual data centers</a></li>
<li><a href="../358950/index.html">Pyramid of tests in practice</a></li>
<li><a href="../358954/index.html">Multi-output in machine learning</a></li>
<li><a href="../358960/index.html">The digest of interesting materials for the mobile developer # 253 (May 14 - May 20)</a></li>
<li><a href="../358964/index.html">How I migrated the project from Angular 1 to React</a></li>
<li><a href="../358968/index.html">What are smart contracts: a brief guide</a></li>
<li><a href="../358970/index.html">Cross-platform SNMP traffic monitoring utility without dependencies and GUI availability</a></li>
<li><a href="../358972/index.html">Maraquia - ORM for MongoDB</a></li>
<li><a href="../358974/index.html">How update Rust 1.26 sped up my code more than three times</a></li>
<li><a href="../358976/index.html">Cofree Will Tear Us Apart</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>