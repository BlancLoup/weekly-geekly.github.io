<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>What's wrong with Mass Effect: Andromeda animations?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Much attention was attracted by the problems with animation in the reviews of the new big project Bioware - Mass Effect: Andromeda . Therefore, we dec...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>What's wrong with Mass Effect: Andromeda animations?</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/4f2/ccb/77b/4f2ccb77b84e431941eeaad56a983727.jpg" alt="image"><br><br>  Much attention was attracted by the problems with animation in the reviews of the new big project <a href="http://www.bioware.com/en/">Bioware</a> - <em><a href="https://www.masseffect.com/">Mass Effect: Andromeda</a></em> .  Therefore, we decided that it would be interesting to collect experienced animators and discuss the difficulties encountered when working on animations in such projects.  Many thanks to Daniel Floyd for moderating this roundtable.  So let's start by introducing the participants. <br><a name="habracut"></a><br><p>  <strong>Dan Floyd:</strong> I think it‚Äôs worth starting with me, because I‚Äôm mainly here as a moderator and will be asking questions to smart people.  My name is Dan Floyd, I am one of the leading YouTube channel <a href="https://www.youtube.com/user/ExtraCreditz">Extra Credits</a> .  On this channel I do a show about game animations called <a href="https://www.youtube.com/playlist%3Flist%3DPLhyKYa0YJ_5BYm9gzC4Ibu9iJ14LiHuEn">Extra Frames</a> .  In addition, I am an animator with experience in the film and gaming industry, but I do not reach the level of my interlocutors at all. <br><br></p><p>  <strong>Simon Unger:</strong> Hi, my name is Simon Unger.  I‚Äôm an animator at <a href="http://www.phxlabs.ca/">Phoenix Labs</a> and am working on a new <em><a href="https://playdauntless.com/">Dauntless</a></em> game.  I used to be a lead animator at Electronic Arts, Square Enix and Robotoki.  I studied in such educational institutions as Gnomon, iAnimate and Vancouver Film School. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </p><p>  <strong>Gwen Frey:</strong> Hi, my name is Gwen Frey, I have been working in the gaming industry for ten years.  My last work is the creation of a small indie studio in Boston and the development of <em>The Flame in The Flood</em> .  In the project, I was the only animator and effects artist.  Before that, I worked on technical animation in <em>Bioshock Infinite</em> and DLC, and even earlier on MMO, for example, on <em>Marvel Heroes Online</em> .  I participate in public speaking about game development, lead podcast ( <a href="https://soundcloud.com/user-439235764">The Dialog Box</a> ) and YouTube channel ( <a href="https://www.youtube.com/channel/UCM8DWXsq5bgRFgV0rxASw_Q">GwenFreyTheTA</a> ). <br><br></p><p>  <strong>Tim Borelli (Tim Borelli):</strong> Hi!  I am Tim Borelli.  I have been working with animation since 1998, and I have more failed projects than successful ones.  I worked at Volition (from <em>Freespace 2</em> before starting to develop <em>Saints Row 3</em> ), at 5TH Cell (where I first learned to be a good leader), and now I‚Äôm director of animation and video effects at <a href="http://www.firststrikegames.com/">First Strike Games</a> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5c8/2e0/2e5/5c82e02e5869a999c170ac3354e76978.jpg"><br><br>  <strong>Dan:</strong> So let's start with general questions: what problems are inherent in your work?  What are the limitations most often encountered by an animator working on video games? <br><br>  <strong>Simon:</strong> There are many minor technical difficulties that you have to cope with day after day.  Often they are associated with a specific project, product or engine.  I think that throughout my entire career there was always the problem of achieving a high ‚Äúbelievability‚Äù of the character‚Äôs actions.  We have to deal with a lot of variables and external incoming data (usually the player likes to turn the joystick in different directions and tear off the video sequences), so the interesting task is to process all this in such a way that the sensations from the game process do not suffer.  Sometimes the smallest roughness interfere with the game. <br><br>  <strong>Tim</strong> <strong>:</strong> Problem number one is that you should always remember - the animation in games does not end after the animation process is complete.  Most often at this moment only half of the way is covered.  After exporting animations, many different systems will interact with them, affect their reproduction, appearance and spirit.  The time of mixing transitions from one animation to another, inverse kinematics systems that change the position of the legs and displacement relative to the ground, additive systems that add poses to animations or groups of animations, change their appearance, procedural systems that must be perfectly tuned - all this affects the work system.  If any of these components fail, the animation will look completely wrong. <br><br></p><p>  <strong>Dan:</strong> We all saw videos from the early release of <em>Mass Effect Andromeda</em> , and noticed a rather large number of animation errors in them, especially in navigation systems and conversations.  Before turning to the particulars, can someone explain how the talk systems work?  How does the animation of the <em>Mass Effect</em> or <em>Witcher</em> dialog system differ from the animated scenario inserts in games like <em>Uncharted</em> or <em>Kingdom Hearts</em> ? <br><br>  <strong>Tim:</strong> I worked with systems of a much smaller scale, and even they were a nightmare for people working on them.  Instead of creating special animations for each phrase of the dialogue and choosing a suitable voice actor, you need to prepare phonemes (‚ÄúA‚Äù, ‚ÄúE‚Äù, ‚ÄúO‚Äù, ‚ÄúMmm‚Äù, etc.), emotions (anger, sadness, joy etc.) for the upper and lower parts of the face, animation of body language (happiness, irritation, sadness, delight, etc.) with different levels of intensity (very angry, a little angry, boiling with anger, etc.) .  I will confine myself to this in order to simplify the description of the process, but usually a very small team of animators is working on all of this, and in my experience only one person does. <br><br>  On top of this data are procedural systems, both in-game and in the editor.  These systems control the turns of the eyes and heads in the direction of the goal (when the head and eyes are watching something interesting), sometimes auto-generation of lip-synchronization in the dialogues is used, and much more, but this can be stopped. <br><br>  Depending on the size of the project and the team, this data is used in different ways: <br><br></p><ol><li>  Unite the team involved in setting up all the conversations in the game.  Take for example the phrase: ‚ÄúAnd then he stole a pig!  HA-HA-HA! ‚Äù, Which will be the ending of the joke.  The animation team needs to find the right body language animations and facial expressions.  Lip sync should already be generated by a tool that reads a phrase and creates an animation from it. </li><li>  Procedurally connected by the system that reads the "tags" of data.  These ‚Äútags‚Äù are assigned by the animator or designer for two aspects: for body language and facial emotions that define their essence (for example, ‚Äúanger‚Äù) and for the voice acting phrase, so that the voice actor can play it.  Then the system takes a random version of ‚Äúanger‚Äù and plays it at the right moment.  Lip sync is already generated by a tool that reads a phrase and creates an animation from it. </li><li>  Finally, the data can be used as a basis, which animators can customize and enhance in a 3D editor (for example, in Maya).  They choose the movements to be used, connect them together, and then manually improve them. </li></ol><br>  In this process, the character can be assigned different points of interest.  They <em>should</em> correspond to the current conversation, but sometimes the flags do not change the meaning, and important NPC suddenly pass next to the character, and his eyes start to rotate madly. <br><br>  All such decisions have their price, and I think we'll talk about it later.  But given the complexity of even the simplest versions I have described, it is very easy to understand how frightening the task of creating a convincing system of conversations is. <br><br>  Let's compare with the games of the <em>Uncharted</em> series - they create their own animation for such scenes, which is being worked on by a huge team of animators, video artists, video camera crews, etc.  They are created with voice actors, re-shot, and are always prepared taking into account the emotional mood of the game. <br><br>  <strong>Dan:</strong> In such large projects, one inevitably faces the realities of the production plan.  Time and money are limited and the team needs to plan to spend it as optimally as possible.  Therefore, without a lot of predictions can not do.  How is the selection made for animation teams?  What is included in the graphics process of the AAA-class video game animations? <br><br>  <strong>Gwen:</strong> [laughs] Planning the production process in big studios is a rather complicated process.  After the preproduction stage, the producer asks the animation team to prepare a bunch of predictions.  "How many hours of work will animators need to animate the movement of a two-legged NPC?"  How many hours does an animator need for a new two-handed weapon for the player‚Äôs hands and for all NPCs? ‚ÄùAnd so on.  Animators answer these questions on the basis of their own assessments, and then the production team starts work.  The production team collects data for each aspect, and then provides the director with data based on these estimates: ‚ÄúWe can either add one new weapon to the game, or add three new NPCs‚Äù, and stuff like that. <br><br>  From this point on you can no longer manage the schedule.  In a large studio, there is too much different work, and many tasks depend on when the previous task performed by another team is completed.  When everyone is a specialist who performs a very narrow task, then many interdisciplinary dependencies arise.  Therefore, the producers tell the employees what tasks are most important and how much time they have to complete.  They earn their living by this, and you must obey them (because obedience to them is what you earn by bread). <br><br>  Obviously, for the good of the game, priorities change in the production process.  Large chunks of player and scene abilities are thrown away, dialogs change at the last moment, and so on.  Sometimes important dates change completely, which greatly influences the tasks of each.  This is an ‚Äúexciting‚Äù adventure. <br><br>  <strong>Simon:</strong> Yes, Gwen explained everything correctly.  If the team conducted the preproduction stage well enough (that is, studied all the unknown, created prototypes, tested the performance of the basic gameplay cycles, etc.), then the estimates will be close to the realities of production.  The animation team may have problems when it has to evaluate an ill-defined design or function.  It helps experience, but in games it is often necessary to do something that no one has done before.  It is very difficult to estimate in hours (or even days) how long it will take to implement.  It is necessary to arrange the functions and tasks in order of priority, try to relate them to the schedules of other departments and start with the most important.  Anything that does not fit within the time frame, or cut, or is then implemented in the update or DLC. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c41/2df/28c/c412df28c1eb3f694741da3648bbfc87.jpg"><br><br>  <strong>Dan:</strong> I want to touch on another topic: the animation in the game (good or bad) that the player sees is the result of the work of not only the animation team.  I think that from your own experience you can all answer this differently, but in general, game animation depends on coordinating many disciplines: from programming to design.  This is really a team work.  How do other disciplines within your team affect your work? <br><br>  <strong>Gwen:</strong> I thought about the fact that people blame animators for bugs, although in fact they probably have nothing to reproach.  In an AAA project of this scale, most of the small inserts are not even seen by animators.  A system for designers is created, and all hope is placed in them in the correct writing of scripts.  For example, they create a system of "moods" so that the character can be happy, sad or angry.  Then the designers are assigned to create a mood for the NPC in the scene.  Designers are given a bunch of background NPCs with basic behavior to place these characters in logical places.  The animator mainly deals with scenes with characters (scenes that are fully animated manually) or works with animation programmers to ensure the ‚Äútightness‚Äù of gameplay systems.  For example, you need to make the character lean forward when running uphill, so the animator is working on mixing various motion animations.  All the bugs seen in the videos are like technical errors or implementation errors.  I'm not saying that the animators have nothing to blame: everyone is responsible for ensuring the AAA-quality of the game and everyone must beat all the bells when something goes wrong.  However, I look at all these errors as a technical animator and I think that they look like problems with inverse kinematics and script errors. <br><br>  <strong>Tim:</strong> I‚Äôll add to what Gwen said: the aspect of creating and customizing a character always comes into play.  Character creation and animation teams should always take into account the differences in facial features and proportions that are available to players when setting up a character.  Any such settings can lead to imperfect animation of faces.  Just google ‚ÄúUgliest character in <em>Saints Row 2</em> ‚Äù to see examples.  Often in big games the same customization system is used to fill the NPC world, and although we strive to control the quality of the characters created by this system, sometimes something is missed or generated randomly. <br><br>  <strong>Dan:</strong> I don‚Äôt think that any of us can understand exactly what‚Äôs wrong with the <em>Mass Effect Andromeda</em> animation (without knowing BioWare workflow and the complexities of the system).  But when you watch these videos, what reasons can you find these oddities?  What exactly could go wrong in the system of conversations and lead to such animation errors? <br><br>  <strong>Simon:</strong> I think that before making assumptions about the causes of such problems with animation, it is important to explain to people what numbers are behind the games of this level.  I do not know the exact estimates for <em>ME: A</em> , but we know that in <em>Mass Effect 3</em> there were more than 40 thousand lines of dialogs, and in <em>Dragon Age</em> - about 60 thousand.  If we take as an average 50 thousand and estimate that each line lasts about three seconds, then as a result we get about 41.5 hours of dialogues.  That would be enough for 21 films.  Teams of 70 or more animators work on most animation films.  Making a movie takes two years or more.  Five to ten animators worked on <em>Mass Effect</em> , and they had to create twenty times more content over the same period of time.  In addition, it is necessary to take into account the localization of the game in at least 4-5 additional languages. <br><br>  It is clear that it is impossible to break such a volume of content into key phases of animation with an acceptable level of quality.  Therefore, in order to cope with this scale, studios seek to transfer as much work as possible to procedural systems.  I know that they used to use a turnkey solution called FaceFX.  It analyzes audio tracks and creates animations based on waveforms, projections, etc.  At a basic level, the result may look like the movements of robots, and I suspect that this is what we see in the commercials.  Of course, you can work with sound and procedural tools to enhance animations.  But looking at the thousands of minutes of dialogues that need to be improved, the definition of ‚Äúpermissible‚Äù is shifting in the direction close to the capabilities of the team and the approaching deadlines.  If the team and the project were mine, I would collect metrics about which scenes are watched most often on the basis of game tests, and polish them in the first place, and leave the rest as is. <br><br>  <strong>Gwen:</strong> I agree with Simon, many errors look like an unsuccessful use of FaceFX.  I suspect that a lot was realized even by an animator.  Often the intern or junior is involved in this work, simply copying the written script to FaceFX.  The system automatically generates facial animation based on the letters / sounds of the entered text.  In general, it looks bad, and you need to pronounce the words phonetically, and not just to drive in their text.  But it takes a lot of time and resources, which are often lacking. <br><br>  Have you seen a crab gait bugs when a character is running fast?  They have standard causes.  If the collision with the surface is not configured correctly, the character will fall down a bit to the floor.  However, the inverse kinematic in-game system does not expect the character to partially pass through the ground, so she raises her legs back to the surface level.  This leads to a strange rotation of the knees.  Another variant of the reason for such a problem: the system of inverse kinematics detects a nonexistent rise, or there is some kind of mathematical error when lowering the pelvis to the ground.  For example, if a character quickly runs up the stairs, the system detects that he is on a climb, and lowers his pelvis to the ground to compensate.  If the system breaks down and it is not reported that the lift has already ended, the pelvis will always be lower, which will lead to a very funny ‚Äúcrab‚Äù movement. <br><br>  A convulsive eye movement can also have many possible causes.  <em>ME</em> definitely has a dynamic eye tracking system, used when NPCs look at interesting objects moving alongside them.  It is possible that in some inserts this system is not turned off, and procedural tracking of eye movements is struggling with the planned eye animation.  Or maybe the object is in an intermediate state between being in the field of visibility (when it is tracked by the eyes) and outside this area (when it is not tracked).  Or maybe the NPC is trying to track two objects at the same time, and the system constantly receives targeting information from two different targets? <br><br>  <strong>Tim:</strong> Probably, we should not forget that everyone involved seeks to invest in the game maximum, but the bigger the game, the greater the likelihood of misunderstanding.  Animator A has optimal plans for using conversation animations created according to a design document received from Screenwriter A, but Screenwriter B in another city (or simply in another part of the building) may need one of the animations in a task for which it was not intended.  Of course, he can create a request to create a specific animation, but animator A may not see it because of the approaching deadline and sorting requests by priority. <br><br>  It would be wrong to blame one of the two employees in this situation.  You can criticize their work, and it is quite acceptable - as creators, we often welcome criticism, because this is a way to improve ourselves and the product that we offer players.  But in such a big task, as, for example, creating a system of conversations, it is important to know that such work requires a lot of effort and time.  And if we do not meet the expectations of the players, then do not blame yourself for this.  This is quite normal, we are at the very beginning of training, and the results will improve over time. <br><br>  And we need this time to come. <br><br>  <strong>Dan:</strong> I want to end up honoring the <em>Mass Effect Andromeda</em> development team.  What matters now is how the game will be accepted by the players.  Many people have invested in its creation, and this deserves respect.  Congratulations on reaching the final line! <p></p><p></p><p></p><p></p><p></p></div><p>Source: <a href="https://habr.com/ru/post/324830/">https://habr.com/ru/post/324830/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../324816/index.html">Launch of the project Nerepetitor</a></li>
<li><a href="../324818/index.html">Simplest HTTP server on Golang and Elixir. Performance comparison</a></li>
<li><a href="../324820/index.html">Security Week 12: dangerous feature in Windows, Chinese hackers broke everything around, HTTPS should be inspected wisely</a></li>
<li><a href="../324824/index.html">IT tablets</a></li>
<li><a href="../324826/index.html">Weekend project by IBM employee and his son: Havyn's cybersecurity virtual assistant</a></li>
<li><a href="../324840/index.html">DIY Robot Vacuum Cleaner - Part 2</a></li>
<li><a href="../324844/index.html">How much does a DDoS build? Counting the cost of DDoS attacks</a></li>
<li><a href="../324846/index.html">We do a quick search on tours based on ClickHouse</a></li>
<li><a href="../324848/index.html">Top 7 DDoS Protection Services for Better Security</a></li>
<li><a href="../324850/index.html">Make your game easy? Or why dreams often remain dreams</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>