<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ATI + Fedora17 and the desire to watch movies in good quality with the usual speed</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day! I decided to share with you a story about how far from trivial, as it turned out, to solve the problem of playing a high-quality video strea...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>ATI + Fedora17 and the desire to watch movies in good quality with the usual speed</h1><div class="post__text post__text-html js-mediator-article">  Good day!  I decided to share with you a story about how far from trivial, as it turned out, to solve the problem of playing a high-quality video stream on Fedora 17 x86-64.  Until recently, spending free hours on my netbook (Asus 1215B, E-450, 8Gb RAM, 500Gb SATA), I thought that I was happy with everything.  Walking on the Internet, music, movies (mostly dvdrip'y), games (now fashionable in the good old Half-Life hack), everything worked without complaints, until I wanted to watch a movie with 1080p marked.  When buying Windows 7 Home x64, in conjunction with K-Lite + MPC, I coped with such tasks without any problems, so I, without a second thought, poked the cursor twice in the file and got ready to watch.  To say that the video stream is slowed down - to say nothing!  The well-known parameter ‚ÄúFrames Per Second‚Äù has turned into ‚ÄúSeconds Per Frame‚Äù, and the mood has fallen below the baseboard.  And began smoking manuals! <a name="habracut"></a><br><br>  The first search query, on hardware decoding of the video stream, sent me <a href="http://help.ubuntu.ru/wiki/%25D0%25B0%25D0%25BF%25D0%25BF%25D0%25B0%25D1%2580%25D0%25B0%25D1%2582%25D0%25BD%25D0%25B0%25D1%258F_%25D0%25BF%25D0%25BE%25D0%25B4%25D0%25B4%25D0%25B5%25D1%2580%25D0%25B6%25D0%25BA%25D0%25B0_hd_%25D0%25B2%25D0%25B8%25D0%25B4%25D0%25B5%25D0%25BE">here</a> .  Everything is simple and the points: <br><br><ul><li>  Install a <a href="http://en.wikipedia.org/wiki/AMD_Catalyst">proprietary driver from AMD</a> . </li><li>  Install the driver to support <a href="http://en.wikipedia.org/wiki/X-Video_Bitstream_Acceleration">XvBA</a> . </li><li>  Profit! </li></ul><br>  Of course, what could be the problem if all the packages are in the repository?  But this is for Ubuntu.  In the repositories for Fedora, I found only a proprietary driver from AMD, aka fglrx.  There was no hint of XvBA. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Regular search queries led me to a <a href="http://blog.canyonbliss.net/fedora-17-fglrx-and-xvba/">page</a> where the user under the nickname canyon tells where to get the packages for Fedora17, and how to install them correctly.  He insisted on installing the fglrx driver from <a href="http://support.amd.com/us/gpudownload/linux/Pages/radeon_linux.aspx">the AMD site</a> , since, in his experience, the one that is ‚Äúbroken‚Äù in the repositories, in consequence of which, hardware decoding does not work.  From the site, so from the site.  Moreover, the driver version differed favorably (13.1 vs 12.10).  Download successful: <br><br><pre><code class="bash hljs">$ wget -c http://www2.ati.com/drivers/linux/amd-driver-installer-catalyst-13.1-linux-x86.x86_64.zip $ unzip amd-driver-installer-catalyst-13.1-linux-x86.x86_64.zip $ chmod +x amd-driver-installer-catalyst-13.1-linux-x86.x86_64.run</code> </pre> <br>  And I proceeded to the implementation points of the manual.  All the irony of his phrase ‚ÄúQuick How-To‚Äù was fully realized by me.  Fast how-to, in practice turned out to be a brief how-to (apparently the difficulty of translation).  I will say right away.  Before the start of all actions, in my OS, along with the ‚Äúmesa-libGL‚Äù package, there was another package - ‚Äúmesa-libGL-devel‚Äù, which pulled many dependencies (including * .h files) required for building the XvBA driver with GLX support.  And so, everything is in order.  Launching AMD Proprietary Driver Installer: <br><br><pre> <code class="bash hljs">$ sudo ./amd-driver-installer-catalyst-13.1-linux-x86.x86_64.run</code> </pre><br>  I got crash after crash.  Our dependencies are everything!  As a result, personally, my system did not have enough kernel-headers and kernel-devel packages, but even after installing them, /usr/share/ati/fglrx-install.log was full as never before.  The installer cursed the absence of the file "/lib/modules/3.7.6-102.fc17.x86_64/build/include/linux/version.h".  A recursive folder search found ‚Äúversion.h‚Äù at ‚Äú/usr/include/linux/version.h‚Äù.  Making sure that this file belongs to the current version of the kernel ‚Äî I copied it to the required address. <br><br><pre> <code class="bash hljs">$ uname -r $ rpm -qf /usr/include/linux/version.h $ sudo cp /usr/include/linux/version.h /lib/modules/3.7.6-102.fc17.x86_64/build/include/linux/version.h</code> </pre><br>  After that, the driver was still installed, but I did not dare to restart the system, since everything in the same ‚Äúfglrx-install.log‚Äù was a record (extract): <br><br><pre> <code class="bash hljs">/usr/lib/modules/fglrx/build_mod/2.6.x/firegl_public.c : <span class="hljs-string"><span class="hljs-string">"VM_RESERVED"</span></span> undeclared (first use <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> this <span class="hljs-keyword"><span class="hljs-keyword">function</span></span>) [Error] Kernel Module : Failed to compile kernel module - please consult readme.</code> </pre><br>  Variable is not defined - the kernel module is not compiled.  Trouble  Search and search again.  Here it is.  The user under the nickname lx6544 reposted the <a href="http://forums.fedoraforum.org/showpost.php%3Fp%3D1630820%26postcount%3D4800">manual</a> , in which this problem was solved as follows: <br><br>  In the file ‚Äú/usr/lib/modules/fglrx/build_mod/2.6.x/firegl_public.c‚Äù, after the 100th row, the definition of the variable ‚ÄúVM_RESERVED‚Äù was added: <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifndef</span></span></span><span class="hljs-meta"> VM_RESERVED #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> VM_RESERVED (VM_DONTEXPAND | VM_DONTDUMP) #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span></span></code> </pre><br>  Next, the kernel module was rebuilt and installed: <br><br><pre> <code class="bash hljs">$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /lib/modules/fglrx/build_mod/ $ sudo ./make.sh</code> </pre><br><pre> <code class="bash hljs">$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /lib/modules/fglrx/ $ sudo ./make_install.sh</code> </pre><br>  Both pairs of commands returned ‚Äúdone‚Äù to me and I rebooted the OS. <br><br><pre> <code class="bash hljs">$ sudo aticonfig --initial -f $ reboot</code> </pre><br>  The proprietary driver has been installed.  Worked properly.  Further, according to the <a href="http://blog.canyonbliss.net/fedora-17-fglrx-and-xvba/">manual</a> from the user canyon, there was a rebuild and installation of the RPM package under the current OS: <br><br><pre> <code class="bash hljs">$ sudo yum install rpm-build $ rpmbuild --rebuild ~/libva-xvba-driver-0.8.0-2.fc17.src.rpm</code> </pre><br>  And then the collapse.  In the terminal window there was a ‚Äúvery‚Äù informative message: <br><br><pre> <code class="bash hljs">checking <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> XvBA... no configure: error: you need XvBA to build this package</code> </pre><br>  Not telling me anything special.  In "~ / rpmbuild / BUILD / xvba-driver-0.8.0 / config.log" it was already written more specifically: <br><br><pre> <code class="bash hljs">configure:13374: gcc -o conftest -O2 -g -I/usr/include -L/usr/lib64 conftest.c -lrt -lpthread -lm -lXvBAW -lX11 -lXext -lGL -ldl &gt;&amp;5 conftest.c:44:21: fatal error: amdxvba.h: No such file or directory compilation terminated.</code> </pre><br>  File "amdxvba.h"?  I already read <a href="http://developer.amd.com/tools/open-source/">about it</a> ! <br><br><pre> <code class="bash hljs">$ wget -c http://developer.amd.com/wordpress/media/2012/10/xvba-sdk-0.74-404001.tar.gz $ tar -xf xvba-sdk-0.74-404001.tar.gz include/amdxvba.h $ sudo cp include/amdxvba.h /usr/include/</code> </pre><br>  Next, just in case, I checked all the libraries specified for ‚Äúgcc‚Äù in the previous line of the log.  Lacked only two symlink'ov on "-lXvBAW" <br><br><pre> <code class="bash hljs">$ sudo ln -s /usr/lib/libXvBAW.so.1 /usr/lib/libXvBAW.so $ sudo ln -s /usr/lib64/libXvBAW.so.1 /usr/lib64/libXvBAW.so</code> </pre><br>  After creating the symlink, the configuration was successful: <br><br><pre> <code class="bash hljs">VA-API version ................... : 0.32.1 GLX support ...................... : yes Cg compiler ...................... : no Enable debugging information ..... : yes Enable XvBA tracer ............... : yes</code> </pre><br>  But the assembly is not.  The compiler cursed the unknown variable type (PFNGLMULTITEXCOORD2FPROC) specified in the file "utils_glx.h".  <a href="http://gitorious.org/vaapi/gstreamer-vaapi/commit/5db2e93d3c930fd8470cfdcd26f514d1cebc59a0/diffs">The very first link in the search results</a> clarified the situation.  Yes indeed: <br><br>  In the file ‚Äú/usr/include/GL/gl.h‚Äù, the variable ‚ÄúGL_VERSION_1_3‚Äù was uniquely defined: <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> GL_VERSION_1_3 1</span></span></code> </pre><br>  As a result, in the file ‚Äú/usr/include/GL/glext.h‚Äù (version 85), the definition of the type ‚ÄúPFNGLMULTITEXCOORD2FPROC‚Äù was omitted: <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> GL_GLEXT_VERSION = 85 ... #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifndef</span></span></span><span class="hljs-meta"> GL_VERSION_1_3 ... typedef void (APIENTRYP PFNGLMULTITEXCOORD2FPROC) (GLenum target, GLfloat s, GLfloat t); ... #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span></span></code> </pre><br>  Well, the /usr/include/GL/glext.h file has been fixed: <br><br><pre> <code class="bash hljs">$ sudo gedit /usr/include/GL/glext.h</code> </pre><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> GL_GLEXT_VERSION &gt;= 85 typedef void (*PFNGLMULTITEXCOORD2FPROC) (GLenum target, GLfloat s, GLfloat t); #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span></span></code> </pre><br>  And RPM package successfully assembled and installed. <br><br><pre> <code class="bash hljs">$ rpmbuild --rebuild ~/libva-xvba-driver-0.8.0-2.fc17.src.rpm $ sudo yum install libva-utils ~/rpmbuild/RPMS/x86_64/libva-xvba-driver-0.8.0-2.fc17.x86_64.rpm</code> </pre><br>  The call of the ‚Äúvainfo‚Äù command no longer gave an error, and the launch of the VLC player with the ‚Äú--ffmpeg-hw‚Äù parameter convinced me that the hardware decoding worked: <br><br><pre> <code class="bash hljs">$ vainfo</code> </pre><br><pre> <code class="bash hljs">libva: va_getDriverName() returns 0 libva: Trying to open /usr/lib64/dri/fglrx_drv_video.so libva: va_openDriver() returns 0 vainfo: VA-API version: 0.32 (libva 1.0.16) vainfo: Driver version: Splitted-Desktop Systems XvBA backend <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> VA-API - 0.8.0 vainfo: Supported profile and entrypoints VAProfileH264High : VAEntrypointVLD VAProfileVC1Advanced : VAEntrypointVLD</code> </pre><br><pre> <code class="bash hljs">$ vlc --ffmpeg-hw ~/1080p.mkv</code> </pre><br><pre> <code class="bash hljs">VLC media player 2.0.5 Twoflower (revision 2.0.5-0-g1661b7d) ... libva: VA-API version 0.32.1 Xlib: extension <span class="hljs-string"><span class="hljs-string">"XFree86-DRI"</span></span> missing on display <span class="hljs-string"><span class="hljs-string">":0"</span></span>. libva: va_getDriverName() returns 0 libva: Trying to open /usr/lib64/dri/fglrx_drv_video.so No accelerated IMDCT transform found libva: va_openDriver() returns 0 xvba_video: XVBA_GetSurface(): status 2 [0x7f5628c1ada8] avcodec decoder: Using VA API version 0.32 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> hardware decoding.</code> </pre><br>  Reproduction was clear and smooth.  Now for sure - PROFIT! <br><br>  <b>UPDATE1</b> : <br>  As, <a href="https://habrahabr.ru/users/norguhtar/" class="user_link">norguhtar</a> remarked <a href="https://habrahabr.ru/users/norguhtar/" class="user_link">correctly</a> , copying the ‚Äúversion.h‚Äù file is not good, it‚Äôs better to edit the source.  Therefore, I sketched the second way to install a proprietary driver from AMD: <br><br><pre> <code class="dos hljs">$ wget -c http://www2.ati.com/drivers/linux/amd-driver-installer-catalyst-<span class="hljs-number"><span class="hljs-number">13</span></span>.<span class="hljs-number"><span class="hljs-number">1</span></span>-linux-x86.x86_64.zip $ unzip amd-driver-installer-catalyst-<span class="hljs-number"><span class="hljs-number">13</span></span>.<span class="hljs-number"><span class="hljs-number">1</span></span>-linux-x86.x86_64.zip $ chmod +x amd-driver-installer-catalyst-<span class="hljs-number"><span class="hljs-number">13</span></span>.<span class="hljs-number"><span class="hljs-number">1</span></span>-linux-x86.x86_64.run $ sudo -s # ./amd-driver-installer-catalyst-<span class="hljs-number"><span class="hljs-number">13</span></span>.<span class="hljs-number"><span class="hljs-number">1</span></span>-linux-x86.x86_64.run --force # cp -a /usr/lib/modules/fglrx /usr/lib/modules/fglrx_backup # <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> `<span class="hljs-built_in"><span class="hljs-built_in">find</span></span> /usr/lib/modules/fglrx/ -<span class="hljs-built_in"><span class="hljs-built_in">type</span></span> f`; <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> cat $i | sed -e "s/linux\/version\.h/generated\/uapi\/linux\/version\.h/g" &gt; ${i}_tmpext; done # <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> `<span class="hljs-built_in"><span class="hljs-built_in">find</span></span> /usr/lib/modules/fglrx -name '*_tmpext'`; <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> mv -vf $i `<span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> $i | sed s/\_tmpext//`; done</code> </pre><br><pre> <code class="dos hljs"># gedit /usr/lib/modules/fglrx/build_mod/<span class="hljs-number"><span class="hljs-number">2</span></span>.<span class="hljs-number"><span class="hljs-number">6</span></span>.x/firegl_public.c</code> </pre><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifndef</span></span></span><span class="hljs-meta"> VM_RESERVED #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> VM_RESERVED (VM_DONTEXPAND | VM_DONTDUMP) #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span></span></code> </pre><br><pre> <code class="dos hljs"># <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /usr/lib/modules/fglrx # chmod +x make_install.sh build_mod/make.sh # <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> build_mod # ./make.sh # <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> .. # ./make_install # aticonfig --initial -f # <span class="hljs-keyword"><span class="hljs-keyword">exit</span></span> $ reboot</code> </pre><br>  This method leaves the file "version.h" alone.  Instead, the source code of the kernel module is corrected.  All files in the source folder are searched and each occurrence of ‚Äúlinux / version.h‚Äù is replaced with ‚Äúgenerated / uapi / linux / version.h‚Äù.  After that, the module is assembled and installed. <br><br>  Files to download: <br>  <a href="http://www.mediafire.com/%3F5nufe4eqnoif9ld">libva-xvba-driver-0.8.0-2.fc17.x86_64.rpm</a> <br>  <a href="http://www.mediafire.com/%3Foeyd1rytj73gf32">libva-xvba-driver-0.8.0-2.fc17.src.rpm</a> <br><br>  Bibliography: <br>  <a href="http://en.wikipedia.org/wiki/UVD2">Unified video decoder</a> <br>  <a href="http://en.wikipedia.org/wiki/VaAPI">Video Acceleration API</a> <br>  <a href="http://en.wikipedia.org/wiki/X-Video_Bitstream_Acceleration">X-Video Bitstream Acceleration</a> <br>  <a href="http://habrahabr.ru/post/126090/">Hardware video decoding on AMD Radeon in Ubuntu (mplayer)</a> <br>  <a href="http://help.ubuntu.ru/wiki/%25D0%25B0%25D0%25BF%25D0%25BF%25D0%25B0%25D1%2580%25D0%25B0%25D1%2582%25D0%25BD%25D0%25B0%25D1%258F_%25D0%25BF%25D0%25BE%25D0%25B4%25D0%25B4%25D0%25B5%25D1%2580%25D0%25B6%25D0%25BA%25D0%25B0_hd_%25D0%25B2%25D0%25B8%25D0%25B4%25D0%25B5%25D0%25BE">HD video playback</a> </div><p>Source: <a href="https://habr.com/ru/post/169893/">https://habr.com/ru/post/169893/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../169879/index.html">Handmade watches from the 90s</a></li>
<li><a href="../169881/index.html">New Cyrillic domain zones (gTLDs) already this year</a></li>
<li><a href="../169883/index.html">Soft links to guard the available memory or how to save memory correctly</a></li>
<li><a href="../169887/index.html">Between space and the Internet</a></li>
<li><a href="../169889/index.html">Surface Mini can wake up Windows Phone 8</a></li>
<li><a href="../169897/index.html">Alawar Engine. Part two. Features cross-platform game engine</a></li>
<li><a href="../169899/index.html">Rambler Maps are closed</a></li>
<li><a href="../169901/index.html">In search of compromises: how to please different customers</a></li>
<li><a href="../169903/index.html">What to expect from Lenovo Thinkpad Tablet 2?</a></li>
<li><a href="../169911/index.html">1C Sync Setup Wizard for PHPShop Pro 1C</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>