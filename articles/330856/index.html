<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Bench press: compare HPE StoreOnce and EMC Data Domain</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This article presents the results of a comparison of two storage solutions for backup, which were tested by me and colleagues from Onlanta when choosi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Bench press: compare HPE StoreOnce and EMC Data Domain</h1><div class="post__text post__text-html js-mediator-article">  This article presents the results of a comparison of two storage solutions for backup, which were tested by me and colleagues from <a href="http://www.onlanta.ru/">Onlanta</a> when choosing options for upgrading the cloud backup system <a href="http://oncloud.ru/">OnCloud.ru</a> . <br><br>  Keeping backups is an integral part of the backup process.  Traditionally, two storage levels were used for this: discs + tapes.  But customers in the construction of new infrastructures and updating the old ones refuse to use tape libraries in favor of disk systems only.  This is due not so much to lowering the cost of disks, but to increasing the efficiency of storing virtual infrastructures due to deduplication and compression, integrating the backup process of virtual environments with storage systems that host virtual environments, as well as the possibility of almost instant recovery of virtual machines directly from backup lying on a disk library. <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c84/36b/b33/c8436bb334ee4cbd82a6a455a04988bb.png"></div><a name="habracut"></a><br>  Backup storage is a software and hardware complex.  The main feature of data arrays - deduplication and data compression.  At the same time, we have the opportunity to store more backup copies on disks, increasing the depth of storage on faster media than tapes.  We are able to completely abandon tape media in favor of disks, except when alienable media is required. <br><br>  Also a very important feature is that we have the opportunity to purchase separately the software part of this complex as a virtual system (Virtual Server Appliance (VSA) from HPE and Virtual Edition (VE) from Dell / EMC), which you can deploy in your own virtual infrastructure and use the existing storage or any other of your choice.  By the way, the use of a virtual system does not impose any restrictions on the used storage system and is not at all important how it is connected to it: by FC or iSCSI.  Traditionally for these tasks use inexpensive NL-SAS disks.  They are quite voluminous and cheap for these purposes, and in addition, they provide high speed on consecutive write / read operations, which characterize the backup process. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Our goal was to investigate solutions in terms of data compression and deduplication capabilities.  We did not set the task to test performance.  In this case, testing was conducted on productive virtual machines Linux and Windows, which are located in our cloud. <br><br>  But let's dive a bit into history.  In 2001, Data Domain was created, which began creating disk storage, which would have data compression capabilities and, at the same time, outperform tape libraries.  The product was so interesting and of high quality that leading vendors like NetApp and EMC wanted Data Domain to be purchased.  As a result, in 2009, the rate of EMC was higher, and it acquired the company Data Domain.  In the future, EMC fully integrated Data Domain into its Data Protection Suite platform. <br><br>  HPE went a different way and in 2010 presented its own approach to deduplication at the <a href="http://www.hp.com/hpinfo/newsroom/press_kits/2010/techforum2010/">HP Technology Forum</a> conference.  The technology was developed by HPE Labs and is named StoreOnce.  It was used in the arrays of that time - StorageWorks D2D, which previously used third-party software.  In 2012, the StorageWorks D2D line was replaced with the line with the same name, StoreOnce, under which it still exists today. <br><br>  By the way, in the market of disk libraries there is also the company Quantum, which has a product line <a href="http://www.quantum.com/products/disk-basedbackup/index.aspx">DXi-V</a> .  It exists only in the form of software and hardware complex, and therefore does not participate in our today's comparison.  There is also the <a href="http://www.exagrid.com/exagrid-products/product-line/">ExaGrid</a> company, which since 2002 has been developing similar solutions with its own protocol, but is practically not represented on the Russian market. <br><br>  According to IDC, at the end of 2016, Dell / EMC occupied about 60% of the global backup systems market, which is several times higher than the main competitors. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9f9/d0f/4aa/9f9d0f4aa5848fe2a29f1f70713fb9e8.jpg"></div><br>  <a href="">A source</a> <br><br>  The main results of our work compared the functionality of virtual systems from Dell / EMC and HPE are presented in the table. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3ed/a29/253/3eda2925334ca2c182b269f7c1107f83.jpg"></div><br>  I would like to immediately note that a larger maximum amount of a virtual system from Dell / EMC is a plus.  Of course, you can purchase and deploy several of them, but deduplication will work only within one virtual system.  Therefore, its larger volume is an undoubted advantage in this case.  This will save space even more efficiently. <br><br>  If you have not very large amounts of backup data or you want to deploy a virtual system as a test bench, then the solution from HPE is more interesting, since its free volume is 1Tb and can be used in production environments under the terms of the license agreement (but without the possibility of updating it).  In turn, Dell / EMC provides only 500Gb of free volume (in all cases we are talking about usable volume) and cannot be used in productive commercial environments.  A 50Tb version from HPE is available for testing for 60 days. <br><br>  Also, these systems allow you to organize multi-level data storage by moving backups to the cloud.  Cloud Tier from Dell / EMC allows you to expand the volume of the system several times, while supporting encryption.  It can work with cloud services from Dell / EMC itself, as well as with Amazon S3 and Azure Storage.  For more information, see the <a href="https://www.youtube.com/watch%3Fv%3DIbBfo35eK_I">Dell / EMC video</a> . <br><br>  HPE‚Äôs similar functionality is called HPE StoreOnce CloudBank and works with Azure and Amazon clouds.  I recommend to get acquainted with their <a href="https://www.youtube.com/watch%3Fv%3D6Vr6lJz8v3I">video</a> . <br><br>  If you plan to use a hardware solution from HPE or Dell / EMC, the vendor highly recommends using a virtual system for test purposes, in order to understand what level of deduplication / compression you can get on your productive data.  This is necessary both for understanding the effectiveness of the solution in your environment as a whole, and for more accurate sizing of the system. <br><br>  The main killer feature of these solutions is the presence of a data transfer protocol that allows you to deduplicate the data on the backup server and thereby transfer only unique data blocks. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9ef/439/d20/9ef439d20727240093117eb77aca3d4e.jpg"></div><br>  This allows you to increase the overall backup speed, because  non-unique blocks are simply not passed to the array.  This feature requires a separate license from both HPE and Dell / EMC. <br><br>  We deployed on our test bench <a href="https%253A%252F%252Fwww.emc.com%252Fproducts-solutions%252Ftrial-software-download%252Fdata-domain-virtual-edition.htm">Data Domain Virtual Edition</a> and <a href="https%253A%252F%252Fwww.hpe.com%252Fru%252Fru%252Fproduct-catalog%252Fstorage%252Fdisk-based-backup-systems%252Fpip.6608666.html">HPE StoreOnce Virtual Storage Appliance</a> .  As datastores for these virtual systems, we served lun (moons) on the IBM Storwize V7000 array with NL-SAS disks connected to the hypervisor host via the Fiber Channel protocol.  Our virtual infrastructure is built on the basis of VMware, the virtual systems communicating with the nodes of our cluster through the LAN. <br><br>  I note once again that in this case we did not set ourselves the goal of getting maximum performance.  We were interested in the level of saving disk space due to deduplication and compression, because  our test environment is not quite suitable for finding the maximum performance of the backup system. <br><br>  We will compare among themselves three options: <br><br><ol><li>  Veeam backup software + DataDomain storage using DDBoost protocol, <br></li><li>  Veeam + Storage StoreOnce backup software using Catalyst protocol, <br></li><li>  Veeam with its own built-in deduplication. <br></li></ol><br>  Why was Veeam chosen as backup software?  I have been working with this product for about three years: the company <a href="http://onlanta.ru/">‚ÄúOnlanta‚Äù</a> has the partner status of Veeam.  Also, this software is extremely easy to deploy, and without any additional tuning it is capable of delivering the maximum speed, as we have already seen from our own experience.  And the quality of the work of the support service Veeam has always been on top. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/086/0d3/1d9/0860d31d9a30355126784da619c86c69.png"></div><br>  <i><font color="#999999">8 Gb / s SAN backup speed</font></i> <br><br>  In general, the third option is added more to demonstrate the effectiveness of deduplicating storage media in principle.  Nobody hopes that Veeam will be at the level of HPE or Dell / EMC.  But it was interesting for me to compare different levels of compression, which are only five in Veeam, ranging from a complete shutdown and ending with Extreme.  It should also be noted that Veeam performs deduplication in a single session, which is naturally less effective.  We performed a full backup, then several days incremental backups and then full again. <br><br><h2>  <font color="#0095b6">Test: Databases</font> </h2><br>  We took several productive virtual machines with different databases on Windows and Linux.  The total amount of virtual machines was 2.5 TB. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6ce/54e/580/6ce54e580db0534b1b580a2ee1d969af.jpg"></div><br><h2>  <font color="#0095b6">Test: Terminal Servers</font> </h2><br>  Here the situation is similar to the previous test.  Only all servers were respectively on the Windows platform.  The total VM size was 2.2 TB. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5e4/a5b/410/5e4a5b4106725ec08f0c088ca621b8fa.jpg"></div><br>  As expected, the efficiency of the virtual system was higher than that of the Veeam.  1: 5 is quite a good indicator, especially since it is fairly stable on compressible data types.  Naturally, with a larger backup storage depth, this figure will grow even higher. <br><br><h2>  <font color="#0095b6">More from the nice</font> </h2><br>  In addition to the fact that both of these products can work with traditional backup systems, they can also interact via plug-ins and with some systems directly.  These include: <br><br><ul><li>  Oracle RMAN, <br></li><li>  MS SQL <br></li><li>  SAP HANA, <br></li><li>  SAP w / Oracle. <br></li></ul><br>  This is convenient, economical, and eliminates unnecessary software involved in the backup process. <br><br><h2>  <font color="#0095b6">fault tolerance</font> </h2><br>  During testing, we checked the systems including for failure in case of loss of the storage on which they were located.  As a result, both VMs ‚Äúfell‚Äù and did not rise after reboot.  Most likely, the failure is associated with the loss of the Write-back array cache due to its hot shutdown. <br><br>  <b>Screenshots of errors after reboot</b> <br><br>  DataDomain <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ffb/020/9e2/ffb0209e20320e3959dd6d196a777ad1.png"></div><br>  StoreOnce <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/27f/66d/e77/27f66de778b12fdf97ea424d35164403.png"></div><br>  We have three solutions for failover. <br><br><ol><li>  The most expensive is the transition to a hardware implementation, which is devoid of the problem of data loss / inconsistency in the event of a power failure.  The disks are located directly in the system, and not implemented by external solutions. <br><br></li><li>  The easiest is VM snapshots or backups.  Everything is simple - the virtual machine broke, rolled back, continued to work.  But in this case, we lose information about backups made since the last backup of the virtual system itself. <br><br></li><li> Replication to the second array.  Ie, we deploy two virtual copies of the system, which will live on different storages, we perform replication between them.  There may be a ‚Äúhybrid‚Äù version and one of the systems involved in replication may be physical.  Thus, it is possible to organize centralization of reliable storage of backup copies of branches in a reliable data center. <br></li></ol><br>  In my opinion, replication is the best way to protect data.  They can and should be distributed not just for different computing clusters and different storage systems, but also for different sites.  As a result, we will have three copies of the data, which will allow to recover in case of any problems. <br><br>  In conclusion, it is worth emphasizing that I deliberately do not draw conclusions, which solution is better, which one to choose.  The products are very similar, and their research yielded very close end results.  It is worth starting from the final price of products, from those arrays that you already have in the infrastructure, from backup software that you already use (not all products support both protocols) and from personal preferences or familiarity with the vendor's equipment. <br><br>  I hope today's review has helped you become better acquainted with this type of device and understand their need for your infrastructure. </div><p>Source: <a href="https://habr.com/ru/post/330856/">https://habr.com/ru/post/330856/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../330846/index.html">May the Code Review with you</a></li>
<li><a href="../330848/index.html">Top 15 Free Unity Assets for a Beginner 2D Developer</a></li>
<li><a href="../330850/index.html">Microsoft at CodeFest 2017 - report, slides and video reports</a></li>
<li><a href="../330852/index.html">What is missing Gmail. 4 free deskun features</a></li>
<li><a href="../330854/index.html">Optimize memory usage in Xamarin applications</a></li>
<li><a href="../330858/index.html">We collect data in CRM: steroids for the company</a></li>
<li><a href="../330860/index.html">Transition from ASP.NET to Angular2 with features (personal experience)</a></li>
<li><a href="../330862/index.html">Publisher Peter. Summer Sale</a></li>
<li><a href="../330864/index.html">Open Data Board: Transport Disclosure</a></li>
<li><a href="../330866/index.html">What threatens information security or a review of the PHDays VII 2017 forum in Moscow</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>