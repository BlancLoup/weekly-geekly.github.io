<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>"Improve your ... Google?"</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Being engaged in the development of the PVS-Studio code analyzer for finding problems in 64-bit and parallel programs, we needed to collect fresh info...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>"Improve your ... Google?"</h1><div class="post__text post__text-html js-mediator-article">  Being engaged in the development of the PVS-Studio code analyzer for finding problems in 64-bit and parallel programs, we needed to collect fresh information on the Internet on some topics.  For example, it is always useful to answer in the forums and blogs questions of programmers who may be interested in our tool.  In the process of collecting, it turned out that there was a lot of information on the network and it was very long and tedious to manually perform a search, from which came the task of automating the search for fresh data.  In this post we will tell you how we do it. <br><br><a name="habracut"></a><br>  True, for sure you will immediately say: ‚ÄúHaha!  The guys come up with a bike and do not know about Google Alerts. ‚Äù  We know about Google Alerts.  It's almost what you need, just not that :-).  For more than six months of using Google Alerts, we haven‚Äôt managed to get what we need from it.  And you need this: <br><br><ul><li>  search on specific listed sites; </li><li>  search only for the last day; </li><li>  the ability to add stop words; </li><li>  Google Alerts somehow additionally filters the results.  That is, the usual Google search gives more than Google Alerts. </li></ul><br>  Therefore, it was decided to try to make a bike. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      As part of this task, it is required to search for new materials on specified sites in the amount of up to 30 pieces and created no longer than 24 hours before the start of the automated search.  That is, roughly speaking, who wrote something on the Internet for the last day.  Input data will be as follows: <br><br><ul><li>  The list of addresses of sites - the url of sites on which to search </li><li>  The list of search phrases - phrases in Russian and / or English that should be searched. </li><li>  List of unwanted words - words that should be missing in the search results. </li></ul><br><h1>  Idea </h1><br>  In the network there are many services offering search services, it is logical to use their capabilities to implement the task.  The search engine google.com was chosen as, in our opinion, the most suitable. <br><br><h1>  Google search </h1><br>  The principle of operation is the same as that of any other search engine: a request is sent to Google, and it gives an answer.  At the same time, the search engine has flexible settings for forming a request, thus you can form the necessary request. <br><br><h1>  Google search options </h1><br>  Consider the most interesting (within the scope of the task) search parameters: <br><br><table><tbody><tr><td>  <a href="http://www.google.com/search">www.google.com/search</a> ? </td><td>  Actually address </td></tr><tr><td>  as_q </td><td>  Search phrase (just a phrase, not a set of words) </td></tr><tr><td>  Num </td><td>  The number of results that will be shown on the page </td></tr><tr><td>  as_eq </td><td>  Words that should be missing in the search results </td></tr><tr><td>  as_sitesearch </td><td>  site url that is being searched </td></tr></tbody></table><br>  The search engine has other options, but within the framework of the task they are not interesting.  Sample Google query with search options: <br><br><pre> http://www.google.com/search?as_q=64-bit+portability+&amp;hl=en&amp;newwindow=1&amp;num=30&amp;btnG=%D0%9F%D0%BE%D0%B8%D1%B % B2 + Google &amp; as_epq = &amp; as_oq = &amp; as_eq =% D0% BA% D1% 83% D0% BF% D0% B8% D1% 82% D1% 8C +% D1% 81% D0% BA% D0% B0% D1% 87% D0% B0% D1% 82% D1% 8C + &amp; lr = lang_ru &amp; cr = &amp; as_ft = i &amp; as_filetype = &amp; as_qdr = d &amp; as_occt = any &amp; as_dt = i &amp; as_sitesearch = http: //www.codeguru.com/&amp;as_rights=&amp;safe=images
</pre><br><h1>  How can this be used </h1><br>  It follows from the above that it is possible to automate the search using the Google search engine.  The algorithm will be as follows: <br><br><ul><li>  On the basis of the initial data a request to Google is formed. </li><li>  The request is being executed. </li><li>  Processing of the result (analysis of html-page). </li><li>  Repeat the previous paragraphs for each site and each search phrase from the input data. </li></ul><br><h1>  Implementation </h1><br>  The script is written in php. <br><br><h1>  Input data </h1><br>  There are three types of input data, this is a list of url sites for which you need to make a search, a list of search phrases and a list of words that should be missing in the search results.  The following xml file is used to present this data: <br><br><pre> &lt;? xml version = "1.0" encoding = "utf-8"?&gt;
 &lt;search_params lang = "ru"&gt;
	 &lt;sites&gt;
		 &lt;url&gt; http://www.dreamincode.net &lt;/ url&gt;
		 &lt;url&gt; http://forum.vingrad.ru/ &lt;/ url&gt;
		 &lt;url&gt; http://forum.sources.ru/ &lt;/ url&gt;
		 &lt;url&gt; http://groups.google.com/ &lt;/ url&gt;
	 &lt;/ sites&gt;
	 &lt;words&gt;
		 &lt;white_list&gt;
			 &lt;phrase&gt; "64-bit" c ++ &lt;/ phrase&gt;
			 &lt;phrase&gt; 64-bit migration &lt;/ phrase&gt;
			 &lt;phrase&gt; viva64 &lt;/ phrase&gt;
		 &lt;/ white_list&gt;
		 &lt;black_list&gt;
			 &lt;phrase&gt; buy &lt;/ phrase&gt;
			 &lt;phrase&gt; download &lt;/ phrase&gt;
		 &lt;/ black_list&gt;
	 &lt;/ words&gt;
 &lt;/ search_params&gt;
</pre><br><h1>  XML parsing </h1><br>  The XML file has a simple structure and small size, so you can use the <a href="http://simplehtmldom.sourceforge.net/">PHP Simple HTML DOM Parser script</a> . <br><br>  The use of the script is described in the documentation, but it is worth noting that the techniques for using with DOM are very similar to how jQuery, a well-known javascript library, does it.  For example, the following code gets all the links from the html page at google.com and displays them on the screen: <br><br><pre> include ('../ simple_html_dom.php');
 // get DOM from URL or file
 $ html = file_get_html ('http://www.google.com/');
 // find all link
 foreach ($ html-&gt; find ('a') as $ e)
     echo $ e-&gt; href.  '&lt;br&gt;';
</pre><br>  However, there is a small memory issue with the Simple HTML DOM Parser.  It consists in the following: the function file_get_html at each call creates a new object of the class simple_html_dom and if this function is called in a loop, then the memory ends.  For some reason, it is impossible to release forcibly.  The solution is simply not to use this function in a loop, but to call it once and work with only one object of the class simple_html_dom. <br><br><h1>  Script creation </h1><br>  Actually nothing interesting, a regular php script written using the MVC pattern.  The source code is also uncomplicated. <br><br>  The user interface is very austere - when accessing the page, one button appears ‚ÄúSend request‚Äù (in the browser window) and after pressing it, the result is displayed after a while. <br><br><h1>  Total </h1><br>  After the introduction of this script, now we always find out what happened in the world in our data domain (64-bit and parallel programming) in the last 24 hours. <br></div><p>Source: <a href="https://habr.com/ru/post/83849/">https://habr.com/ru/post/83849/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../83839/index.html">Google Ads / PayPal via PrivatBank Ukraine</a></li>
<li><a href="../83844/index.html">App Engine SDK 1.3.1 release</a></li>
<li><a href="../83845/index.html">Do you have business cards?</a></li>
<li><a href="../83847/index.html">Opera has released a beta version of the new browser Opera 10.50 for Windows</a></li>
<li><a href="../83848/index.html">Do not rush to bury Flash - a brief overview of the applications of Flash technology</a></li>
<li><a href="../83850/index.html">Timelance.ru - exchange of services and goods: the launch of the beta version</a></li>
<li><a href="../83853/index.html">Gamers are transplanted to the "seven"</a></li>
<li><a href="../83860/index.html">Making a simple web application on the Spring Framework MVC</a></li>
<li><a href="../83864/index.html">Base stations disconnect</a></li>
<li><a href="../83865/index.html">nodeJS and nonblocking I / O</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>