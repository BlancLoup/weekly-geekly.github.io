<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Play on QuickTiGame2d in Appcelerator Titanium. Part 1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Currently, a very promising direction in programming is cross-platform development. Acquainted with various means (Appcelerator Titanium, PhoneGap, mo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Play on QuickTiGame2d in Appcelerator Titanium. Part 1</h1><div class="post__text post__text-html js-mediator-article">  Currently, a very promising direction in programming is cross-platform development.  Acquainted with various means (Appcelerator Titanium, PhoneGap, moSync), I, nevertheless, give my preferences Appcelerator Titanium. <br><br>  Titanium allows you to create Android and iOS applications in JavaScript.  Currently, the official website claims that the number of developers on this platform reaches 300,000. <br><br>  An interesting point is that on Titanium you can create not only applications, but also full-fledged games for mobile devices. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I would like to draw your attention to the two-dimensional module of the game engine for Titanium Mobile - QuickTiGame2d, based on OpenGL ES, which currently supports development for Android and iOS.  In this article we will look at the installation process, as well as the main points of this engine, and the next one will directly describe the creation of a small cross-platform game. <br><a name="habracut"></a><br>  First of all, you should download the latest libraries <a href="http://code.google.com/p/quicktigame2d/downloads/list">here</a> : one for Android, one for iOS.  At the time of this writing, the latest version was version 1.2 (1.3 was recently released). <br><br>  In order to connect these libraries, you must put them in the appropriate directory.  On Mac OS, it looks like this: <br><br><pre><code class="java hljs">/Users/username/Library/Application Support/Titanium/modules/</code> </pre> <br>  Here are two folders: android, iphone.  Everything is very simple: you need to copy the corresponding library into each of them. <br><br>  Next, create a new project.  Open tiapp.xml and add the appropriate code: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">modules</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">module</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">platform</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"iphone"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">version</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1.2"</span></span></span><span class="hljs-tag">&gt;</span></span>com.googlecode.quicktigame2d<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">module</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">module</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">platform</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"android"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">version</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1.2"</span></span></span><span class="hljs-tag">&gt;</span></span>com.googlecode.quicktigame2d<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">module</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">modules</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  I met examples where it was written like this: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">module</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">version</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1.2"</span></span></span><span class="hljs-tag">&gt;</span></span>com.googlecode.quicktigame2d<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">module</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  In my experience, this method of connecting libraries did not work. <br><br>  That's all ready to go.  Let's look at the main elements that will be useful in this work.  The first step is to create a ‚Äúwindow‚Äù and connect QuickTiGame2d, then create a game screen.  All in order: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> <span class="hljs-built_in"><span class="hljs-built_in">window</span></span> = Ti.UI.createWindow({ <span class="hljs-attr"><span class="hljs-attr">backgroundColor</span></span> : <span class="hljs-string"><span class="hljs-string">'black'</span></span> }); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> quicktigame2d = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'com.googlecode.quicktigame2d'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> game = quicktigame2d.createGameView();</code> </pre><br>  Js files that are needed for the project are connected as follows: <br><br><pre> <code class="javascript hljs">Ti.include(<span class="hljs-string"><span class="hljs-string">'loadingScene.js'</span></span>);</code> </pre><br>  An important factor is the location of the screen in the process of the game.  In order to describe this location, you should refer to each platform separately: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Titanium.Platform.osname === <span class="hljs-string"><span class="hljs-string">'android'</span></span>) { game.orientation = Ti.UI.LANDSCAPE_LEFT; <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.orientationModes = [Titanium.UI.LANDSCAPE_LEFT]; }<span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { game.orientation = Ti.UI.LANDSCAPE_RIGHT; <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.orientationModes = [Titanium.UI.LANDSCAPE_RIGHT]; }</code> </pre><br>  You can change the screen color: <br><br><pre> <code class="javascript hljs">game.color(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre><br>  Add event handlers to it, for example: <br><br><pre> <code class="javascript hljs">game.addEventListener(<span class="hljs-string"><span class="hljs-string">'onload'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{ ... LoadingScene.init(); game.pushScene(LoadingScene.scene); game.start(); });</code> </pre><br>  Let's look at the events on the scene in more detail.  We can distinguish the main handlers, such as: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.scene.addEventListener(<span class="hljs-string"><span class="hljs-string">'activated'</span></span>, activated); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.scene.addEventListener(<span class="hljs-string"><span class="hljs-string">'deactivated'</span></span>, deactivated); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.scene.addEventListener(<span class="hljs-string"><span class="hljs-string">'onloadsprite'</span></span>, onloadsprite);</code> </pre><br>  where activated, for example, will look something like this: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> activated = (<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">self</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{ ... }; })(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>);</code> </pre><br>  In my opinion, the code explains itself: we register the events that occur during activation, deactivation of the scene, as well as when loading sprites to the scene. <br><br>  Touch screen events are very useful: <br><br><pre> <code class="javascript hljs">game.addEventListener(<span class="hljs-string"><span class="hljs-string">'touchstart'</span></span>, touchstart); game.addEventListener(<span class="hljs-string"><span class="hljs-string">'touchend'</span></span>, touchend);</code> </pre><br>  We continue. <br><br>  Do not forget that you need to add a game screen, like all elements, and also open the game window: <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.add(game); <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.open({<span class="hljs-attr"><span class="hljs-attr">fullscreen</span></span>:<span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">navBarHidden</span></span>:<span class="hljs-literal"><span class="hljs-literal">true</span></span>});</code> </pre><br>  Let us proceed to the consideration of graphic and text elements on the scene. <br><br>  First, a simple example of adding a text item: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> scoreTextSprite = quicktigame2d.createTextSprite({ <span class="hljs-attr"><span class="hljs-attr">text</span></span> : score, <span class="hljs-attr"><span class="hljs-attr">fontSize</span></span> : <span class="hljs-number"><span class="hljs-number">64</span></span> }); scoreTextSprite.color(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); scoreTextSprite.x = game.screen.width*<span class="hljs-number"><span class="hljs-number">0.4</span></span>; self.scene.add(scoreTextSprite);</code> </pre><br>  Here you create the text of the sprite, set the font size, color and its location along the x axis. <br><br>  Creating a graphic sprite looks like this: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> sprite = quicktigame2d.createSprite({<span class="hljs-attr"><span class="hljs-attr">image</span></span>:<span class="hljs-string"><span class="hljs-string">'images/sprite.png'</span></span>});</code> </pre><br>  You can make various manipulations with sprites: <br><br>  1. Hide and show <br><br><pre> <code class="javascript hljs">sprite.hide(); sprite.show();</code> </pre><br>  2. Rotate <br><br><pre> <code class="javascript hljs">sprite.rotate(<span class="hljs-number"><span class="hljs-number">180</span></span>);</code> </pre><br>  3. Move <br><br><pre> <code class="javascript hljs">sprite.move(<span class="hljs-number"><span class="hljs-number">300</span></span>, <span class="hljs-number"><span class="hljs-number">500</span></span>);</code> </pre><br>  4. To change the scale (both along two axes at once, and each separately) <br><br><pre> <code class="javascript hljs">sprite.scale(<span class="hljs-number"><span class="hljs-number">5</span></span>); sprite.scaleBy(<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>);</code> </pre><br>  For the location of sprites on each other there is a special value z = 0..99: <br><br><pre> <code class="javascript hljs">sprite.z = <span class="hljs-number"><span class="hljs-number">1</span></span>; newSprite.z = <span class="hljs-number"><span class="hljs-number">2</span></span>;</code> </pre><br>  Well, I think it will be enough for a start.  I hope this article will awaken zeal for cross-platform game development and will help in these endeavors.  At this stage, we still do not have a game, but in the next article we will talk about its creation. </div><p>Source: <a href="https://habr.com/ru/post/149812/">https://habr.com/ru/post/149812/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../149803/index.html">Google files a lawsuit against Apple, requires banning imports of iPad, iPhone and Mac in the US</a></li>
<li><a href="../149806/index.html">802.11ac: what we need to know about the new standard Wi-Fi</a></li>
<li><a href="../149808/index.html">Custom firmware with Android 4.0.4 for Desire HD, craftsmen doing work for HTC</a></li>
<li><a href="../149809/index.html">Message dispatching on D</a></li>
<li><a href="../149810/index.html">Development of technical specifications (TZ) for a software product from the point of view of the customer</a></li>
<li><a href="../149813/index.html">The Russian neutron detector at Curiosity has begun work. No water detected yet</a></li>
<li><a href="../149814/index.html">Harvard scientists write 643 kilobytes of data into a DNA molecule</a></li>
<li><a href="../149815/index.html">Basic principles of interaction with the user's computer with visual impairment</a></li>
<li><a href="../149816/index.html">Grids without problems</a></li>
<li><a href="../149817/index.html">Vim: bw,: bd,: bun,: quit,: close. What to do with all this?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>