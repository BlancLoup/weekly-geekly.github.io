<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Linux Quest. Congratulations to the winners and tell about solutions</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="On March 25, we opened registration on Linux Quest , a game for fans and connoisseurs of the Linux operating system. Some statistics: 1117 people regi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Linux Quest. Congratulations to the winners and tell about solutions</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/1h/zh/nd/1hzhnd4vk8qks_p2sjyylz-kpy4.png"><br><br>  On March 25, we opened registration on <a href="https://linux.mail.ru/">Linux Quest</a> , a game for fans and connoisseurs of the Linux operating system.  Some statistics: 1117 people registered for the game, 317 of them found at least one key, 241 successfully coped with the task of the first stage, 123 - the second and 70 completed the third stage.  Today, our game has come to an end, and we congratulate our winners! <br><a name="habracut"></a><br><ul><li>  <b>The first place was taken by Alexander Teldekov.</b> <br>  Alexander said to himself that he is the most typical sysadmin.  He lives in Volgograd, various Unix-like systems have been administrating for about twenty years.  I managed to work in Internet providers, bank, system integrator.  Now he works remotely in a small company, he is engaged in cloud infrastructure for a large foreign customer.  Loves to read, listen to music.  About the Game, Alexander said that he liked the game as a whole, he likes such puzzles.  In one of the companies at the interview dealt with Hackerrank-like, it was interesting. </li><li>  <b>Second place - Roman Suslov.</b> <br>  Roman from Moscow.  He's 37 years old.  Linux / Unix engineer works in Jet Infosystems.  At work, you have to deal with the administration and troubleshooting of Linux / Unix-systems + SAN.  Interests are very different: Linux-systems, programming, reverse engineering, information security, Arduino.  About the Game Roman said that the game was generally liked.  ‚ÄúI crushed some of my convolutions and distracted myself from the everyday routine of everyday work.  :) I would like to have more tasks, but I did not have time to get into the taste as the game was already over. ‚Äù </li><li>  <b>The third is alex3d.</b> <br>  Alex lives in Moscow, develops software.  "Thanks for the contest, it was interesting to test your google-fu skill." </li></ul><br>  Also in the ranking of the top 10 players: <br><br><ul><li>  Yevgeniy saldayev </li><li>  Markel Mokhnachevsky </li><li>  Konstantin Konosov </li><li>  Pavel Sergeev </li><li>  Vladimir Bovaev </li><li>  Ivan Bubnov </li><li>  Pavlo Klets </li></ul><br>  We understand that there are a lot of options for solving all of our tasks; below one of the possible solutions is described. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  1. The first stage </h3><br>  We called it ‚ÄúAre you exactly an admin?‚Äù, Since the task was quite simple - to fix the warm lamp service. <br><br><h4>  1.1.  Interesting Facts: </h4><br>  Two players found the first key in the first 15 minutes of the game, and in the first hour we had three leaders who coped with the task. <br><br><h4>  1.2.  The task </h4><br>  You went to work in a company where for a long time there was no competent information technology specialist.  Before you begin to restore order, you need to solve a burning problem that blocks the work of the office. <br><br>  A cleaning lady hooked a mop to the power cable of the server cabinet.  Meals have been restored, but a very important website still does not work.  The website is important because the company is not very concerned about information security, and on the main page of this you can find in open text the password of the administrator from the CEO computer. <br><br>  The other day the password was changed, and the new one was forgotten, the director cannot work.  Rumor has it that there were more keys on this machine that can help us in deciphering the backup copy of accounting documents. <br><br>  Everyone is waiting for a quick solution <br><br><h4>  1.3.  Decision </h4><br>  1. First of all, you need to change the root password in the virtual machine in order to access it.  At startup, we note that this is Ubuntu 16.04 Server. <br><br>  To reset the root password, restart the machine, at boot, when the grub menu is displayed, go to editing the Ubuntu item with the "e" button.  Edit the linux line, add <code>init=/bin/bash</code> to the end.  Loaded via Ctrl + x, we get bash.  Remount root with rw, change password: <br><br><pre> <code class="bash hljs">$ mount -o remount,rw /dev/mapper/ubuntu--vg-root $ passwd</code> </pre> <br>  Do not forget about sync, reboot. <br><br>  2. The condition states that the web server does not work for us, we look: <br><br><pre> <code class="bash hljs">$ curl localhost Not Found The requested URL / was not found on this server. Apache/2.4.18</code> </pre> <br>  That is, in fact, Apache is running, but responds with code 404. We are looking at the config: <br><br><pre> <code class="bash hljs">$ vim /etc/apache2/sites-enabled/000-default.conf</code> </pre> <br>  Here is the key - StevenPaulSteveJobs. <br><br>  Check the path <code>/usr/share/WordPress</code> - this is not, but there is <code>/usr/share/wordpress</code> .  Edit the configuration and restart the Apache. <br><br><pre> <code class="bash hljs">$ systemctl restart apache2</code> </pre> <br>  3. We try again, we get an error: <br><br><pre> <code class="bash hljs">Warning: mysqli_real_connect(): (HY000/2002): Connection refused <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> /usr/share/wordpress/wp-includes/wp-db.php on line 1488</code> </pre> <br>  DB not running? <br><br><pre> <code class="bash hljs">$ systemctl status mysql Active: active (running)</code> </pre> <br>  What's the matter?  Need to understand.  To do this, you need to access MySQL, as described in the <a href="https://dev.mysql.com/doc/refman/8.0/en/resetting-permissions.html">documentation</a> .  One of the documentation points recommends that we register the <code>skip-grant-tables</code> option in <code>/etc/mysql/mysql.conf.d/mysqld.cnf</code> .  Here, too, is the key - AugustaAdaKingByron. <br><br>  Adjust rights to user <code>'wp'@'localhost'</code> .  We start MySQL, make it available on the network, commenting on the <code>skip-networking</code> option in the config. <br><br>  4. After the done actions, the web server is started, but the site still does not work, because <br><br><pre> <code class="bash hljs">Warning: require_once(/usr/share/wordpress/wp-content/themes/twentysixteen/footer.php): failed to open stream: Permission denied <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> /usr/share/wordpress/wp-includes/template.php on line 562</code> </pre> <br>  We rule the rights to the file. <br><br><pre> <code class="bash hljs">$ chmod 644 /usr/share/wordpress/wp-content/themes/twentysixteen/footer.php</code> </pre><br>  We update the page, go to the site and find the key - BjarneStroustrup!  We found all three keys, our director can work, we decrypted the accounting files.  Everyone is happy, and you have a lot of work ahead to build infrastructure, backups and security in the company. <br><br><h3>  2. The second stage </h3><br>  It was necessary to solve the problem of collecting analytics.  Everyone loves analytics - who and from where and in what quantities go.  We have come up with a case that all engineers in life can face in one form or another. <br><br><h4>  2.1.  Interesting Facts </h4><br>  One of our players entered the correct key in the first 10 minutes of the game, and in the first hour we had a leader who coped with the task. <br><br><h4>  2.2.  The task </h4><br>  You went to work at the company, managers came to you and asked to find out who sent letters from Africa.  You need to build the top 21 recipient addresses for them.  The first letters of the recipients' addresses are the key.  One thing: the mail server through which the letters were sent, does not load.  Everyone is waiting for the prompt resolution of the issue! <br><br><h4>  2.3.  Decision </h4><br>  1. The server is not loaded due to a non-existent swap partition in fstab, while loading, the system tries to mount it and crashes.  How to boot? <br><br>  Download the image, we downloaded CentOS 7, boot from the Live CD / DVD (Troubleshooting -&gt; Rescue), install the system, edit <code>/etc/fstab</code> .  Immediately find the first key - GottfriedWilhelm11646Leibniz! <br><br>  Create a swap: <br><br><pre> <code class="bash hljs">$ lvcreate -n swap centos -L 256M $ sync &amp;&amp; reboot</code> </pre> <br>  2. There is no password as always, you need to change the root password on the virtual machine.  We have already done this in the first task.  We change and successfully go to the server, but it immediately goes into reboot.  The server is overloaded with such speed that it does not even have time to look at all the logs carefully.  How to understand what is happening? <br><br>  Again we load from livecd, carefully study the system logs and just in case we look at kroner, once such a periodicity.  There we find the problem and the second key - Alan1912MathisonTuring! <br><br>  You need to delete or comment out the line <code>echo b &gt; /proc/sysrq-trigger</code> in <code>/etc/crontab</code> . <br><br>  3. After that, the server is loaded, and you can perform the task of managers: ‚ÄúWhat are the addresses of Africa?‚Äù This information is generally public.  You can find this information on the Internet by the phrases ‚Äúip address africa‚Äù, ‚Äúgeoip database‚Äù.  To solve the problem, you can use freely available address allocation bases (geoip).  We used the <a href="https://dev.maxmind.com/geoip/geoip2/geolite2/">MaxMind GeoLite2 DB</a> , which is available under the Creative Commons Attribution-ShareAlike 4.0 license, as a reference. <br><br>  Let's try to solve our problem using only Linux system utilities, but in general it can be solved in a huge number of ways: using text filtering utilities and using scripts in various programming languages. <br><br>  To begin with, we simply get the pairs ‚ÄúIP-sender-recipient‚Äù from the mail log <code>/var/log/maillog</code> (we will build the recipients email table - the sender's IP).  This can be done with this command: <br><br><pre> <code class="bash hljs">$ cat /var/<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>/maillog | fgrep -e <span class="hljs-string"><span class="hljs-string">' connect from'</span></span> -e <span class="hljs-string"><span class="hljs-string">'status=sent'</span></span> | sed <span class="hljs-string"><span class="hljs-string">'s/[]&lt;&gt;[]/ /g'</span></span> | awk <span class="hljs-string"><span class="hljs-string">'/connect from/ {ip=$11} /status=sent/ {print $10" "ip}'</span></span> &gt; log1.txt</code> </pre> <br>  And before we continue with the compilation of a database of African addresses, we will look at the top IP addresses of senders. <br><br><pre> <code class="bash hljs">$ cat log1.txt | cut -d<span class="hljs-string"><span class="hljs-string">' '</span></span> -f1 | sort | uniq -c | sort -r | head -n 40 5206 L2JhbjAbM67GA99jg@mail.ru 4165 iHKTBkegOQa6fIALq@mail.ru 3739 nHkcBl7BdgXxijSYD7@mail.ru 3405 SMAzPJAzbl9vp4hAXo@mail.ru 3346 xILz6d7P@mail.ru</code> </pre><br>  Among all, the first three recipients from the top are clearly distinguished by the number of letters.  If you grep the IP addresses of the senders that were sent to the addresses from this top-3, you can see a clear predominance of certain networks: <br><br><pre> <code class="bash hljs">$ cat log1.txt | fgrep <span class="hljs-string"><span class="hljs-string">'L2JhbjAbM67GA99jg@mail.ru'</span></span> | cut -d<span class="hljs-string"><span class="hljs-string">' '</span></span> -f2 | sort | cut -d<span class="hljs-string"><span class="hljs-string">'.'</span></span> -f1 | uniq -c | sort -r | head 831 105 806 41 782 197 664 196 542 154 503 102 266 156 165 45 150 160 108 165</code> </pre> <br>  Most of the 105/8, 41/8, 196 / 8,197 / 8 networks are allocated to AFRINIC, one of the five regional Internet registrars that distribute Internet resources.  AFRINIC distributes address space in Africa.  A 41/8 refers to the whole AFRINIC. <br><br><pre> <code class="bash hljs">https://www.nic.ru/whois/?searchWord=105.0.0.0 https://www.nic.ru/whois/?searchWord=41.0.0.0</code> </pre><br>  Thus, the answer to the problem, in fact, is in the log itself. <br><br><pre> <code class="bash hljs">$ cat log1.txt | fgrep -e <span class="hljs-string"><span class="hljs-string">'105.'</span></span> -e <span class="hljs-string"><span class="hljs-string">'41.'</span></span> -e <span class="hljs-string"><span class="hljs-string">'196.'</span></span> -e <span class="hljs-string"><span class="hljs-string">'197.'</span></span> -e <span class="hljs-string"><span class="hljs-string">'154.'</span></span> -e <span class="hljs-string"><span class="hljs-string">'102.'</span></span> | awk <span class="hljs-string"><span class="hljs-string">'{print $1}'</span></span> | sort | uniq -c | sort -r | head -n 21 4209 L2JhbjAbM67GA99jg@mail.ru 3313 iHKTBkegOQa6fIALq@mail.ru 2704 nHkcBl7BdgXxijSYD7@mail.ru 2215 uvRbp1O@mail.ru 1774 sPmMsmmFiV@mail.ru 1448 BtG3aHgQgCKuze2AKuRH@mail.ru 1233 eQpuuQ2uQdbwRL3@mail.ru 958 nJT5dpaBZ@mail.ru 862 ef4WbQiB@mail.ru 762 dQCqKL6eVminFfH7wLA@mail.ru 632 ifq6Rd1HxuCQOdO9@mail.ru 539 cFwm2ssypMmx1sA7@mail.ru 531 twtTnr4G@mail.ru 431 TSrczgYASrR11Hs3qCi@mail.ru 380 o3r3exc3OL@mail.ru 357 rzmjr2VAHK@mail.ru 348 vnPr6YjJ3ndw@mail.ru 312 anOjFXrwOtLP2Rl1Vcz6@mail.ru 289 dvny5zHmRW8fiT@mail.ru 282 sgg9jPxFDYvzw8Kr@mail.ru 274 tKSevzA7GntJ@mail.ru</code> </pre> <br>  At this stage, we get the string "LinuxBenedictTorvadst". <br><br>  The correct key is "LinusBenedictTorvalds". <br><br>  The resulting string contains a typo with respect to the correct key in the 3 extreme characters.  This is due to the fact that the networks we have chosen are not entirely allocated to African countries and to the way emails are distributed to IP addresses in our log. <br><br>  With sufficient clarification of the largest networks allocated to African countries, you can get an exact answer .: <br><br><pre> <code class="bash hljs">$ cat log1.txt | fgrep -e<span class="hljs-string"><span class="hljs-string">' '</span></span>105.{30..255}. -e<span class="hljs-string"><span class="hljs-string">' '</span></span>41. -e<span class="hljs-string"><span class="hljs-string">' '</span></span>196.{64..47}. -e<span class="hljs-string"><span class="hljs-string">' '</span></span>196.{248..132}. -e<span class="hljs-string"><span class="hljs-string">' '</span></span>197.{160..31}. -e<span class="hljs-string"><span class="hljs-string">' '</span></span>154.{127..255}. -e<span class="hljs-string"><span class="hljs-string">' '</span></span>102.{70..255}. -e<span class="hljs-string"><span class="hljs-string">' '</span></span>156.{155..255}. | awk <span class="hljs-string"><span class="hljs-string">'{print $1}'</span></span> | sort | uniq -c | sort -r | head -n 21 3350 L2JhbjAbM67GA99jg@mail.ru 2662 iHKTBkegOQa6fIALq@mail.ru 2105 nHkcBl7BdgXxijSYD7@mail.ru 1724 uvRbp1O@mail.ru 1376 sPmMsmmFiV@mail.ru 1092 BtG3aHgQgCKuze2AKuRH@mail.ru 849 eQpuuQ2uQdbwRL3@mail.ru 712 nJT5dpaBZ@mail.ru 584 ef4WbQiB@mail.ru 463 dQCqKL6eVminFfH7wLA@mail.ru 365 ifq6Rd1HxuCQOdO9@mail.ru 269 cFwm2ssypMmx1sA7@mail.ru 225 twtTnr4G@mail.ru 168 TSrczgYASrR11Hs3qCi@mail.ru 142 o3r3exc3OL@mail.ru 111 rzmjr2VAHK@mail.ru 96 vnPr6YjJ3ndw@mail.ru 78 anOjFXrwOtLP2Rl1Vcz6@mail.ru 56 lHzWiB7ExvRtSbAcU9@mail.ru 56 dvny5zHmRW8fiT@mail.ru 40 sgg9jPxFDYvzw8Kr@mail.ru</code> </pre> <br>  The task can also be solved in another way. <br>  We download MaxMind, we unpack, and the following three commands also solve our problem. <br><br><pre> <code class="bash hljs">$ cat GeoLite2-Country-Locations-ru.csv | grep <span class="hljs-string"><span class="hljs-string">""</span></span> | cut -d<span class="hljs-string"><span class="hljs-string">','</span></span> -f1 &gt; africaIds.txt $ grep -Ff africaIds.txt GeoLite2-Country-Blocks-IPv4.csv | cut -d<span class="hljs-string"><span class="hljs-string">','</span></span> -f1 &gt; africaNetworks.txt $ grepcidr -f africaNetworks.txt log1.txt | cut -d<span class="hljs-string"><span class="hljs-string">' '</span></span> -f1 | sort | uniq -c | sort -r | head -n21</code> </pre><br>  One way or another, we eventually counted the statistics, and the managers got the data they needed to work! <br><br><h3>  3. The third stage </h3><br>  The third stage is somewhat similar to the first - you also need to fix the warm lamp service, but everything is more complicated than in the first task. <br><br><h4>  3.1.  Interesting Facts </h4><br>  In the first 15 minutes, three players found the first key, 2 hours and 20 minutes after the start of the stage, our winner coped with the task. <br><br><h4>  3.2.  The task </h4><br>  You went to work at a company where all company documents are stored on the internal Wiki server.  Last year, the engineer ordered 3 new drives for the server in addition to one existing one, arguing that for the fault tolerance of the system, you need to put the drives in certain arrays.  Unfortunately, a few weeks after their installation, the engineer went to rest in India and did not return. <br><br>  For several years the server worked without failures, but a couple of days ago the company‚Äôs network was hacked.  According to the instructions, security officers removed the disks from the server and sent them to you.  In the process of transportation, one disk was irretrievably lost. <br><br>  It is necessary to restore the functionality of the Wiki, primarily interested in the content of wiki pages.  Some piece of text that was on one of the pages of this wiki is a password from server 1C and is urgently needed to unlock it. <br><br>  In addition, somewhere on the wiki pages or elsewhere there were passwords from the log server and the video surveillance server, which are also desirable to recover, without them the investigation of the incident is impossible.  As always they are waiting for the prompt solution of the issue! <br><br><h4>  3.3.  Decision </h4><br>  1. We are trying to boot in turn from the disks we have and everywhere we get the same message: <br><br><pre> <code class="bash hljs">No bootable medium found! System halted</code> </pre><br>  It is necessary to boot from something.  Again saves the boot from the Live CD / DVD (Troubleshooting -&gt; Rescue).  When loading we try to find the boot partition, we don‚Äôt find it, we get into the shell.  We are trying to learn what and how with the disks.  It is known that there are three of them.  There are more tools for this in the 7th CentOS version, where there are <code>blkid</code> or <code>lsblk</code> that show us all the information about disks. <br><br>  How and what we do: <br><br><pre> <code class="bash hljs">$ ls /dev/sd*</code> </pre> <br>  Immediately it is clear that <br><br><pre> <code class="bash hljs">/dev/sdb1 - ext4 /dev/sdb2 -  lvm /dev/sda1  /dev/sdc1 -   /dev/sda2  /dev/sdc2 -        </code> </pre> <br>  Mount sdb1, it is clear that this is the CentOS 6 boot partition. <br><br><pre> <code class="bash hljs">$ mkdir /mnt/sdb1 &amp;&amp; mount /dev/sdb1 /mnt/sdb1</code> </pre> <br>  Obviously, go to the grub section and find the first key there - James191955Gosling in an unusual file. <br><br>  2. We study pvs and lvs, as we work with LVM.  We see that there should be 2 physical volumes, one is not located and swears at the lost uid.  We see that there should be 2 logical volume: root and swap, while root is partially lost (the P attribute for volume).  Mount fails, but sorry!  We really need it. <br><br>  There are 2 more disks, we look at them, we collect and we mount: <br><br><pre> <code class="bash hljs">$ mdadm --examine --verbose --scan $ mdadm --assemble --verbose --scan $ mkdir /mnt/md127 &amp;&amp; mount /dev/md127 /mnt/md127</code> </pre> <br>  We look, it is clear that this is a CentOS 6 boot partition and a duplicate of what is already on <code>/dev/sdb1</code> , and here again the same key - James191955Gosling! <br><br>  We look as <code>/dev/md127</code> . <br><br><pre> <code class="bash hljs">$ mdadm --detail /dev/md127</code> </pre><br>  We see that it should have been assembled from 4 disks, assembled from two <code>/dev/sda1</code> and <code>/dev/sdc1</code> , they should have been numbers 2 and 4 in the system.  We assume that from <code>/dev/sda2</code> and <code>/dev/sdc2</code> also possible to assemble an array.  It is not clear why there are no metadata on them, but this is on the conscience of the admin, who is somewhere in Goa.  We assume that there should be a RAID10, although there are options.  We collect: <br><br><pre> <code class="bash hljs">$ mdadm --create --verbose /dev/md0 --assume-clean --level=10 --raid-devices=4 missing /dev/sda2 missing /dev/sdc2</code> </pre><br>  We look blkid, pvs, lvs.  We find that we have collected a physical volume, which we previously lacked. <br><br>  Immediately fix lvroot, mount it, but first activate VG: <br><br><pre> <code class="bash hljs">$ vgchange -ay $ mkdir /mnt/lvroot &amp;&amp; mount /dev/mapper/vg_c6m1-lv_root /mnt/lvroot</code> </pre><br>  And everything is there, including the key DennisBMacAlistairCRitchie - in the root home directory - <code>/root/sweet</code> . <br><br>  3. We are still trying to revive our server so that it starts up normally.  All logical volume from our <code>/dev/md0</code> (where everything was found) is dragged to <code>/dev/sdb2</code> , where the entire server initially worked. <br><br><pre> <code class="bash hljs">$ pvmove /dev/md0 /dev/sdb2 $ vgreduce vg_c6m1 /dev/md0</code> </pre> <br>  We extinguish the server, remove 1 and 3 discs, leave the second one, boot from the Live CD / DVD into the Rescue.  Find the boot partition, restore the bootloader to grub: <br><br><pre> <code class="bash hljs">root (hd0,0) setup (hd0)</code> </pre><br>  We tear off the boot disk and successfully load, but the site does not work. <br><br>  4. There are two options to start the site: configure Apache from scratch or use nginx already configured in advance with php-fpm: <br><br><pre> <code class="bash hljs">$ /etc/init.d/nginx start $ /etc/init.d/php-fpm start</code> </pre><br>  Finally, you need to start MySQL: <br><br><pre> <code class="bash hljs">$ /etc/init.d/mysqld start</code> </pre> <br>  It does not start, and the secret lies in <code>/var/log/mysql</code> .  As soon as you solve the problem with MySQL, the site will work, on the main page there will be a key - RichardGCCMatthewGNUStallman!  Now we have access to 1C, and employees will be able to receive a salary.  And you, as always, have a lot of work ahead on building infrastructure and security in the company. <br><br>  We can also once again share a list of books that helped us and our participants to prepare for the game: <a href="https://linux.mail.ru/books">linux.mail.ru/books</a> . <br><br>  Thank you for being with us!  Follow the announcements of the next games! </div><p>Source: <a href="https://habr.com/ru/post/447222/">https://habr.com/ru/post/447222/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../447208/index.html">SQA Days EU Conference Review</a></li>
<li><a href="../447210/index.html">Selection @pythonetc, March 2019</a></li>
<li><a href="../447214/index.html">How to improve game design with optimal strategies</a></li>
<li><a href="../447218/index.html">Parsing JPoint 2019 tasks</a></li>
<li><a href="../447220/index.html">Basics of JavaScript engines: common forms and inline caching. Part 2</a></li>
<li><a href="../447226/index.html">Interview with the popularizer of science, the head of the only private school of astronomy in Russia, Pavel Skripnichenko</a></li>
<li><a href="../447232/index.html">Personal experience. How we connected international telephony: comparison of 6 virtual PBXs</a></li>
<li><a href="../447234/index.html">How to write polymorphic programs with Arrow</a></li>
<li><a href="../447236/index.html">Creating a farm of Android devices using Open STF</a></li>
<li><a href="../447240/index.html">We study Adversarial Tactics, Techniques & Common Knowledge (ATT @ CK). Enterprise Tactics. Part 10</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>