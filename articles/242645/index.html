<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ÄúNever say never‚Äù or working with timezone correctly</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This article talks about the problems that await a programmer working with time zones. In theory, it seems, everything is good, simple and understanda...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>‚ÄúNever say never‚Äù or working with timezone correctly</h1><div class="post__text post__text-html js-mediator-article">  This article talks about the problems that await a programmer working with time zones.  In theory, it seems, everything is good, simple and understandable, but life is a complicated thing, and in practice, at times, completely unexpected situations arise. <br><br>  <strong>TL; DR: Working with time zones is pain and humiliation.</strong>  <strong>Never work with timezone!</strong> <br><br>  So, <a href="http://lucumr.pocoo.org/2011/7/15/eppur-si-muove/">everyone</a> <a href="http://habrahabr.ru/company/mailru/blog/242615/">around</a> you is telling you that when you receive time from a user, you need to immediately transfer it to UTC, you only need to work with time in UTC, and you also need to store time strictly in UTC.  The advice, at first glance, looks reasonable, and following it makes your life easier ... Unless your program involves complex work with dates.  Write to the database the date and time of user registration on the site?  Save the time of sending the message or the date of creation of the order in the online store?  Print a message to the log with the date-time?  Use UTC and everything will be fine, you can not even read this article further.  Any current time can be easily converted to UTC and forget about problems.  But what if we want to work with time in the future?  Or in the past?  For example, if we write a calendar service, or a service for postponing sending messages? 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><h1>  UTC is not a panacea </h1>  Let me explain by example.  Suppose we created the same pending message service.  Having visited our site, a user can create a reminder for himself at any time (of course, in the future) by mail or SMS.  Our site is extremely simple: we set the date, time, enter the reminder text and communication channel (email address or phone number), add the data received from the user to the database and then periodically select samples from it and send messages.  Everything, profit and respect of grateful people! <br><br>  No, not all.  Following the advice to always keep everything in UTC everywhere, we converted the date and time received from the user to UTC and put them into a database.  Let a user from Moscow come to our site on March 2, 2014 and create a reminder at 09:00 am on November 3, 2014.  Accordingly, we put the value ‚Äú2014-11-03 05:00:00‚Äù in the database, because on that day, March 2, 2014, the offset for the Europe / Moscow timezone for November 3, 2014 was ‚ÄúUTC + 4‚Äù. <br><br>  Do you understand what I'm getting at? <br><br>  Yes, on July 21, 2014, the State Duma of the Russian Federation adopted a bill on the abolition of summer time.  According to this law, since October 26, 2014, the offset for the Europe / Moscow timezone was ‚ÄúUTC + 3‚Äù instead of ‚ÄúUTC + 4‚Äù (and the daylight saving time was canceled, but this is not about that now).  Accordingly, if we send a notification to the user on November 3 at 5:00 am UTC, he will receive it at 8:00 am Moscow time, and I am sure that the user will be perplexed, because he requested that the notification be sent to him exactly at nine in the morning. <br><br>  The conclusion is simple: you can store time in UTC, but only for events in the present and recent past, that is, for those dates, the time zone of which will not change.  It is dangerous to keep time in UTC for dates in the future, because no one knows what other laws the governments of which countries will adopt, and what will happen to the time zones in ten years, five years, or even a year. <br><br>  On the other hand, if you store the user's local time and time zone in the database, it will be almost impossible to work with such data.  Let us return to our example of the notification service: two users created by notification.  The first user from Moscow asked me to send him an SMS on December 15, 2014 at 3:00 pm (we write to the database his local time ‚Äú2014-12-15 15:00:00‚Äù and his time zone ‚ÄúEurope / Moscow‚Äù).  The second user from New York asked to send him an email on December 15, 2015 at 7:00 PM (we write to the database his local time ‚Äú2014-12-15 19:00:00‚Äù and his time zone is ‚ÄúAmerica / New_York‚Äù ).  So far so good: we have a local time recorded in which the user would like to receive his notification, and he will receive it strictly at this time, even if the government of one of these countries changes one of these time zones (offset, daylight saving time, anything). <br><br>  Problems begin when you write a script that selects from the notification database to send.  If all dates were recorded in UTC, everything would be simple - every minute we select messages to send: <br><pre><code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> reminders <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> remind_time &lt; <span class="hljs-keyword"><span class="hljs-keyword">NOW</span></span>();</code> </pre> <br>  Provided that ‚ÄúSELECT NOW ();‚Äù returns the time in UTC.  But we recorded the user's local time and time zone in the base, what to do?  Suffer :-) After all, ‚ÄúNOW ()‚Äù in UTC is ‚Äú+3‚Äù hours in Moscow (and the message is already late) and ‚Äú-5‚Äù hours in New York (the message is still too early to send). <br><br>  No, of course, you can come up with many ways to select from the database those notifications that it‚Äôs time to send, but all of them on a more or less loaded service will lead to performance problems, and indeed we want to do everything right, without crutches, right? <br><br>  What are the options?  There are many of them, but I see only one more or less acceptable option: store three values ‚Äã‚Äãin the database: the time in UTC (for sampling by this field), the local time of the user and his time zone (time zone).  Yes, we will have redundant data stored, however, I don‚Äôt know of a single loaded service that wouldn‚Äôt resort to data denormalization.  In the real world, this is normal.  What are the benefits we get?  In the case of changes in time zones, we can go through the records for the changed time zones with a special script and update the time in UTC if it has changed as a result of updating the time zone.  In my humble opinion, this is a good compromise. <br><br><h1>  Still worse than it seems </h1>  Like everything, yes?  No, we just started :-) The government can not only change the configuration of time zones, but also add new ones and throw out old time zones.  For example, for the residents of the Russian city of Chita (and not only for him, but now is not about that), from October 26, 2014, a new time zone ‚ÄúAsia / Chita‚Äù was introduced (before such a time zone did not exist) instead of ‚Äú Asia / Yakutsk.  The difference with UTC in the former time zone (Asia / Yakutsk) is +09: 00, and in the new time zone (Asia / Chita), the difference is +08: 00.  The problem is that we store in the database only the time and time zone of the user, but not his geographical location.  And for records with the Asia / Yakutsk time zone, we cannot in any way know whether our user is from Chita or Yakutsk, and we cannot reliably determine the time of sending a message to the user.  Checkmate!  Do not forget to suffer, friends. <br><br>  If you have the opportunity to find out the geographic location of the user and the next time you visit the site to determine that he is in a region with a changed time zone (Chita for the case above), you can ask him for the correct time zone.  And to propose to update the time zone for all its events (with recalculation of time in UTC for each event), but here too there may be pitfalls and nuances that are beyond the scope of this article.  By the way, partly for this reason, in the Mail.ru <a href="https://calendar.mail.ru/">Calendar</a> settings, we ask the user to select his geographical location (city), and not the time zone, as other services do :-) And even so, to be honest, periodically there are problems. <br><br>  Keeping time in the past is also not so simple.  If this past is relatively recent (for example, we are talking about the twenty-first century), then there should be no problems with keeping time in UTC (although no one can guarantee you, of course).  If we are talking about the twentieth century or (oh, horror) more ancient times, problems are guaranteed.  Let's start with the fact that for many periods of the history of the last century, information about the transfer of hours is constantly changing to this day.  For example, in the update of the tzdata time zone database version 2014g dated August 30, 2014, changes were made for a number of USSR time zones by a few seconds or minutes for dates before 1926.  Just someone noticed the inconsistency and notified the tzdata compilers.  Or, here‚Äôs another example from the times closer to us: in the tzdata update of version 2014a of March 9, 2014, the information on the date of Ukraine‚Äôs transition from Moscow time to Eastern Europe changed: this transition did not take place on January 1, 1992 (as recorded in this database), but first of July 1990. <br><br>  The time zone database is updated several times a year, new time zones around the world appear, existing rules change, information about the past time is updated, some changes are constantly taking place, and they need to be constantly taken into account. <br><br><h1>  How is it still correct to store time? </h1>  So, how is it all right to store time in the database?  It is better, of course, not to do this, but if it‚Äôs very necessary, then here are my personal recommendations (I will be glad to hear criticism or suggestions): <br><ol><li>  If you need to keep the time of the event that just happened, the current time, in fact, of a certain action, store it in UTC.  These can be log entries, time of user registration, making an order or sending a letter. </li><li>  If the time is not tied to the user or his time zone, store it in UTC.  This may be, for example, the time of the next solar eclipse. </li><li>  If you need to store time in the past or in the future, save the user's local time, and save it next to the timezone.  And even better, so that for sure, save the geographic location of the user.  If you need to make samples for this time, save alongside the time in UTC, and update this time when the time zone information changes. </li><li>  If you need to know exactly the time for any date for a given geographic location (for example, for astronomical calculations) - store the exact coordinates of the user, but not his time zone.  However, if you are faced with such a task, then you already know how to do it right. </li></ol><br>  The first option covers possible use cases for 99% of programs and, quite possibly, this will be enough for you.  However, it is necessary to clearly understand and be aware of the choice of one or another variant of actions. <br><br><h1>  We work with time </h1>  With the storage of time, sort of, sorted out.  However, you can often hear the same advice ‚Äúalways work with time in UTC‚Äù.  The implication is that as soon as you get the time from the user, you need to immediately transfer it to UTC and work only with time in UTC.  Sounds logical, doesn't it? <br><br>  Not true.  At least, not in all cases, and here's a specific example. <br><br>  Let's return to our example with the service of deferred messages.  Everything is good, the service is evolving, users are satisfied, but they are asked to add functionality for repeating notifications.  And repetitions are not only simple (‚Äúevery day‚Äù, ‚Äúevery other day‚Äù, ‚Äúevery month‚Äù), but also quite complex (‚Äúevery week on Tuesdays‚Äù, ‚Äúevery month on the last Friday of the month‚Äù, etc.).  In order not to write your bike for these repetitions, we will study ready-made solutions.  There is such a thing as "recurring events."  There is a special format for describing the rules of repetition, which, of course, does not take into account all possible options (for example, you cannot specify ‚Äútwo days after two‚Äù), but it covers most cases.  Examples of this format can be seen in the description of the RRULE field of <a href="https://tools.ietf.org/html/rfc5545">the iCalendar specification</a> and in the <a href="https://labix.org/python-dateutil">documentation for the rrule object of</a> the python-dateutil module for Python. <br><br>  Take the python-dateutil module and use it in our code.  It seems everything should be fine, but users complain, and the study of these complaints leads us with rather unexpected results. <br><br>  One of the options for recurring events - repeat by day of the week.  We can describe an event that repeats itself, for example, at 12:00 every week on Tuesdays and Fridays.  Here is how it may look like in practice, in real code: <br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> datetime &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> dateutil <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> rrule &gt;&gt;&gt; list(rrule.rrule(rrule.WEEKLY, count=<span class="hljs-number"><span class="hljs-number">4</span></span>, byweekday=(rrule.TU, rrule.FR), dtstart=datetime.datetime(<span class="hljs-number"><span class="hljs-number">2014</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">12</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>))) [datetime.datetime(<span class="hljs-number"><span class="hljs-number">2014</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">12</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>), datetime.datetime(<span class="hljs-number"><span class="hljs-number">2014</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">12</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>), datetime.datetime(<span class="hljs-number"><span class="hljs-number">2014</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>, <span class="hljs-number"><span class="hljs-number">12</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>), datetime.datetime(<span class="hljs-number"><span class="hljs-number">2014</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>, <span class="hljs-number"><span class="hljs-number">14</span></span>, <span class="hljs-number"><span class="hljs-number">12</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>)]</code> </pre><br>  It would seem that all is well.  Now let's imagine that a user from Moscow has created a recurring event that occurs at one in the morning.  As soon as we received time from him "2014-11-03 01:00:00" we, according to the recommendations of smart people, immediately transfer it to UTC (the translation process does not interest us now, we should know that in fact we take three hours from the received time), and get the next time in UTC: datetime.datetime (2014, 11, 2, 23, 0).  So far, so good.  Let's get replays for the time received: <br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>list(rrule.rrule(rrule.WEEKLY, count=<span class="hljs-number"><span class="hljs-number">4</span></span>, byweekday=(rrule.TU, rrule.FR), dtstart=datetime.datetime(<span class="hljs-number"><span class="hljs-number">2014</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">23</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>))) [datetime.datetime(<span class="hljs-number"><span class="hljs-number">2014</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">23</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>), datetime.datetime(<span class="hljs-number"><span class="hljs-number">2014</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">23</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>), datetime.datetime(<span class="hljs-number"><span class="hljs-number">2014</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>, <span class="hljs-number"><span class="hljs-number">23</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>), datetime.datetime(<span class="hljs-number"><span class="hljs-number">2014</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>, <span class="hljs-number"><span class="hljs-number">14</span></span>, <span class="hljs-number"><span class="hljs-number">23</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>)]</code> </pre><br>  It seems that something went wrong.  If we translate the obtained values ‚Äã‚Äãinto the user's local time (we add three hours to each one), we will see that the repetitions have shifted and the event repeats itself all the same at one in the morning, but already on Wednesdays and Saturdays.  And this is not an error of the python-dateutil module, the code worked correctly.  This is our mistake, in this particular case we needed to work with the user's local time. <br><br>  By the way, many calendar services have this bug, for example, the iCal program in OS X, in certain cases, considers repetitions completely wrong. <br><br><h1>  Do not forget to suffer </h1>  The conclusion can be made simple and completely banal: <strong>never</strong> listen to categorical statements recommending that you <strong>never</strong> do certain things.  Always think over and work through all possible options, carefully study the architecture of the project, write quality tests and keep them up to date. <br><br>  And working with time zones is pain and suffering, yes.  If there is even the slightest opportunity not to work with them - use it, you will not regret.  Finally, I will give a couple of examples of incorrect work of real programs: <br><br>  <strong>Python 2.7.6</strong> <br><pre> <code class="bash hljs">‚ûú date , 9  2014 . 22:44:32 (MSK) ‚ûú python -c <span class="hljs-string"><span class="hljs-string">"import datetime; print datetime.datetime.now()"</span></span> 2014-11-09 22:44:33.310904 ‚ûú python -c <span class="hljs-string"><span class="hljs-string">"import datetime; print datetime.datetime.utcnow()"</span></span> 2014-11-09 19:44:34.405287</code> </pre><br>  It seems all is well.  Look further: <br><pre> <code class="bash hljs">‚ûú date +%z +0300 ‚ûú python -c <span class="hljs-string"><span class="hljs-string">"import time; print time.timezone/3600"</span></span> -4</code> </pre><br>  WAT?  No, like this is <a href="http://bugs.python.org/issue22752">not a bug, but a feature</a> , but this is not easier for anyone.  What is the general sense in the code that can break at any moment (and breaks!)? <br><br>  <strong>Firefox 33.0.3</strong> <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>(<span class="hljs-number"><span class="hljs-number">2015</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>) <span class="hljs-string"><span class="hljs-string">"Tue Jan 06 2015 00:00:00 GMT+0300 (Russia TZ 2 Standard Time)"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>(<span class="hljs-number"><span class="hljs-number">2015</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>) <span class="hljs-string"><span class="hljs-string">"Tue Jan 06 2015 23:00:00 GMT+0300 (Russia TZ 2 Standard Time)"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>(<span class="hljs-number"><span class="hljs-number">2015</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>) <span class="hljs-string"><span class="hljs-string">"Thu Jan 08 2015 00:00:00 GMT+0400 (Russia TZ 2 Daylight Time)"</span></span></code> </pre><br>  WAT?  No, I understand that this question has already been <a href="http://habrahabr.ru/post/239423/">raised</a> many times, but it is no easier to live from it. <br><br>  In general, I can say, <em>do not forget to suffer</em> :-) <br><br>  And how do you work with dates, time and time zones? <br><br>  <i>Vladimir Rudnykh,</i> <i><br></i>  <i>Technical Director of the Mail.Ru Calendar.</i> </div><p>Source: <a href="https://habr.com/ru/post/242645/">https://habr.com/ru/post/242645/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../242627/index.html">A cozy book post for you and your project.</a></li>
<li><a href="../242629/index.html">Hands off the console</a></li>
<li><a href="../242631/index.html">Sync music and gaming events on Unity</a></li>
<li><a href="../242639/index.html">Perfect transfer and universal references in C ++</a></li>
<li><a href="../242643/index.html">Create a portfolio based on photos from Instagram</a></li>
<li><a href="../242647/index.html">The simplest SMTP server for development</a></li>
<li><a href="../242649/index.html">Lattice inheritance</a></li>
<li><a href="../242653/index.html">New profession at the first attempt or sincerity at the interview</a></li>
<li><a href="../242657/index.html">Puppet. Part 1: An Introduction to Hiera</a></li>
<li><a href="../242659/index.html">As I suddenly cut interest in the texts</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>