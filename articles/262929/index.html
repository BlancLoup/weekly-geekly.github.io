<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Automate web application testing using Selenium WebDriver, Python, and Behave</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! 
 Today I want to share our experience in automating web application testing using Selenium WebDriver and the Behave framework. 
 If interested...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Automate web application testing using Selenium WebDriver, Python, and Behave</h1><div class="post__text post__text-html js-mediator-article">  Hello! <br>  Today I want to share our experience in automating web application testing using Selenium WebDriver and the Behave framework. <br>  If interested, welcome under cat. <br><a name="habracut"></a><br><h2>  Before the start </h2><br>  Here I will not dwell on how to search for elements, and how to interact with them with the help of selenium webdriver, but I‚Äôll only talk about how you can easily and conveniently write and run tests written in python using behave. <br><br><h2>  1. Installing a need </h2><br>  First we need python.  You can download it <a href="https://www.python.org/downloads/">here</a> .  I will use version 2.7.6, and you can use the one that you like best.  In addition to python, we also need selenium and behave itself. <br>  You can install selenium using <a href="">pip</a> : <br> <code>pip install selenium <br></code> <br><div class="spoiler">  <b class="spoiler_title">What is selenium?</b> <div class="spoiler_text">  As the wiki succinctly suggests: <br> <code>Selenium ‚Äî     Web-. <br></code> <br>  Also about him wrote a lot on Habr√©: <br>  <a href="http://habrahabr.ru/post/152653/">here</a> , <a href="http://habrahabr.ru/post/248559/">and there is even a partial translation of non-official documentation</a> <br><br>  You can learn more about Selenium: <br>  <a href="http://www.seleniumhq.org/docs/">official documentation</a> <br>  <a href="http://selenium2.ru/docs.html">transfer</a> <br>  <a href="http://selenium-python.readthedocs.org/index.html">not official for selenium with python</a> <br>  <a href="http://selenium.googlecode.com/svn/trunk/docs/api/py/index.html">official for selenium with python</a> <br></div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Now install the behave.  You can use pip: <br> <code>pip install behave <br></code> <br>  And you can download here: <a href="https://pypi.python.org/pypi/behave">behave on pypi</a> <br>  What is behave?  Behave is a framework for programming through python-style behavior ( <a href="http://habrahabr.ru/post/216923/">What is Behavior-driven development?</a> ). <br>  Behave uses tests written in natural language, with logic in python. <br>  He has several serious advantages: <br><br>  + Easy installation <br>  + Reports in junit format <br>  + Tests can write anyone in natural language. <br>  + There is the possibility of integration with jenkins (with other CI, probably, too) <br><br>  <a href="http://pythonhosted.org/behave/comparison.html">Compare behave with similar tools.</a> <br>  When everything you need is installed, you can start setting up the environment for writing and executing tests. <br><br><h2>  2. Customization </h2><br>  The directory from which we will run the tests should contain: <br>  1. Files with the .feature extension are the tests themselves. <br>  2. The steps directory, which contains .py files with a description of the steps from which tests are composed, in python. <br><br>  Optionally, you can add to the directory the folder containing the folder steps file - environment.py with a code that will need to be executed before or after certain events in the test. <br>  Detailed description of this file <a href="http://pythonhosted.org/behave/tutorial.html">here</a> . <br>  Our example will be as simple as possible, so we will not include this file. <br><br>  Total, what our directory looks like in the minimum configuration: <br><br>  features / <br>  features / everything.feature <br>  features / steps / <br>  features / steps / steps.py <br><br>  <a href="http://pythonhosted.org/behave/tutorial.html">example from behave tutorial</a> <br>  That's the whole setup, you can write the first test! <br><br><h2>  3. Writing and running the first test </h2><br>  First we need to create a folder in the folder with a file .py, in which we describe the logic of our test. <br>  Let's name this file first_test.py. <br>  For example, I decided to take a simple case of testing the search form ya.ru. <br><br>  So copy the code below into the firs_test.py file. <br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># -*- coding: utf-8 -*- from behave import * from selenium.webdriver.common.by import By from selenium.webdriver.support.ui import WebDriverWait from selenium.webdriver.support import expected_conditions as EC import time #  .      . @given('website "{url}"') def step(context, url): # ,       context.browser = webdriver.Firefox() context.browser.maximize_window() context.browser.get("http://ya.ru") #    "" @then("push button with text '{text}'") def step(context, text): WebDriverWait(context.browser, 120).until( EC.element_to_be_clickable((By.XPATH, '//button')) ) context.browser.find_element_by_xpath('//button').click() #,       ,     @then("page include text '{text}'") def step(context, text): WebDriverWait(context.browser, 120).until( EC.presence_of_element_located((By.XPATH, '//*[contains(text(), "%s")]' % text)) ) assert context.browser.find_element_by_xpath('//*[contains(text(), "%s")]' % text) context.browser.quit()</span></span></code> </pre><br><br>  If you are too lazy to watch the code, then the logic is as follows: <br>  1. Open ya.ru <br>  2. Click on the "Find" button <br>  3. Check that there is a text on the issue page: ‚ÄúAn empty search query is set‚Äù <br><br>  Now that the test logic is ready, you can write the test itself. <br>  In the folder with the steps directory, create a .feature file in which we use the written steps: <br><br><pre> <code class="html hljs xml">#     Feature: Checking search #   (     ) Scenario: heck some text in search results #   . Given website "ya.ru" Then push button with text '' Then page include text '   '</code> </pre><br><br>  The steps from the test, by decorators will be associated with the python functions.  (Decorators marked with @) <br><br>  Now let's run our test. <br>  Go to the folder where it lies, and execute the command: <br><pre> <code class="html hljs xml">behave -i first_test.feature</code> </pre><br>  The -i flag indicates that it is necessary to run only files matching the search pattern. <br>  If we run it with the --junit flag, we get a report in junit format. <br><br>  If everything went well, the report would be approximately as follows: <br><br><pre> <code class="html hljs xml">Feature: Checking search # first_test.feature:1 Scenario: Send some text in search box and check some text in search results # ya.feature:2 Given website "ya.ru" # steps/test.py:9 0.662s Then push button with text '' # steps/test.py:14 0.242s Then page include text '   ' # steps/test.py:22 1.009s 1 feature passed, 0 failed, 0 skipped 1 scenario passed, 0 failed, 0 skipped 3 steps passed, 0 failed, 0 skipped, 0 undefined Took 0m1.913s</code> </pre><br><br><h2>  Conclusion </h2><br>  Here I brought only the most basic. <br>  Features of selenium are incalculable, and behave knows a lot of things.  This includes junit reports and jenkis integration. <br>  Thank you for your attention, and have a great weekend! <br><br><h3>  List of materials used </h3><br>  Selenium: <br>  <a href="http://habrahabr.ru/post/152653/">habrahabr.ru/post/152653</a> <br>  <a href="http://habrahabr.ru/post/248559/">habrahabr.ru/post/248559</a> <br>  <a href="http://www.seleniumhq.org/docs/">www.seleniumhq.org/docs</a> <br>  <a href="http://selenium2.ru/docs.html">selenium2.ru/docs.html</a> <br>  <a href="http://selenium-python.readthedocs.org/index.html">selenium-python.readthedocs.org/index.html</a> <br>  <a href="http://selenium.googlecode.com/svn/trunk/docs/api/py/index.html">selenium.googlecode.com/svn/trunk/docs/api/py/index.html</a> <br><br>  Behave: <br>  <a href="http://pythonhosted.org/behave/">pythonhosted.org/behave</a> <br><br>  Python: <br>  <a href="https://pypi.python.org/">pypi.python.org</a> <br>  <a href="https://python.org/">python.org</a> <br><br>  UPD: If something in the article is not very well written, or something is missing, then you can comment in the comments, or write to me in person, and together we will improve it. </div><p>Source: <a href="https://habr.com/ru/post/262929/">https://habr.com/ru/post/262929/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../262913/index.html">Bichrome interface in the new browser assembly Vivaldi 1.0.228.3</a></li>
<li><a href="../262917/index.html">Another way to prepare one-page applications</a></li>
<li><a href="../262921/index.html">CocoaHeads July 24th at Rambler & Co</a></li>
<li><a href="../262925/index.html">Configuring Replication in Mysql 5.6</a></li>
<li><a href="../262927/index.html">Automatic generation of API doc via Annotations or how to come to API documentation</a></li>
<li><a href="../262933/index.html">"Ra-a-avnyayus, quietly!". We align the data</a></li>
<li><a href="../262935/index.html">Miracle Puzzles - 10,000 puzzles in one application</a></li>
<li><a href="../262937/index.html">OData REST API - minor tricks (part 1)</a></li>
<li><a href="../262941/index.html">6 best tools to create a great site on Joomla</a></li>
<li><a href="../262943/index.html">Insert in the middle: ArrayList vs. LinkedList</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>