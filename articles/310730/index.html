<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We work in the cloud based on Hyper-V, part 1: familiarity with the control panel</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Part 1: Introduction to the Control Panel 
 Part 2: Deploying Exchange Server 
 Part 3: Storage Spaces 

 Last summer, we talked about a test launch o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We work in the cloud based on Hyper-V, part 1: familiarity with the control panel</h1><div class="post__text post__text-html js-mediator-article">  Part 1: Introduction to the Control Panel <br>  <a href="https://habrahabr.ru/company/dataline/blog/311306/">Part 2: Deploying Exchange Server</a> <br>  <a href="https://habrahabr.ru/company/dataline/blog/315472/">Part 3: Storage Spaces</a> <br><br>  Last summer, we talked about a <a href="https://habrahabr.ru/company/dataline/blog/260349">test launch of a</a> virtual infrastructure (IaaS) based on the Hyper-V platform.  During the year of operation, we stuffed a lot of cones, debugged the work of the service and launched the <a href="http://www.dtln.ru/uslugi/iaas/cloud-v">Cloud-V</a> cloud in a big voyage.  Today we will examine in detail the basic features of the control panel, and in the following posts we will explain how to deploy and configure Active Directory, Exchange and more. <br><img src="https://habrastorage.org/files/ac7/2bb/7f7/ac72bb7f79ab433dbe963366f8082caf.png"><br><a name="habracut"></a><br>  <a href="http://my.cloud-v.ru/">The</a> cloud <a href="http://my.cloud-v.ru/">management portal was</a> made on the basis of <a href="https://www.microsoft.com/ru-ru/server-cloud/products/windows-azure-pack/overview.aspx">Windows Azure Pack</a> , designed to run resources and services in a private or public cloud in self-service mode.  Our engineers refined it and added the missing functionality to the vanilla version: creating virtual machines without an operating system, cloning virtual machines, adding disks and ISO images without stopping virtual machines and loading their own ISO images and virtual machines. <br><br><h3>  Some theory </h3><br>  To access resources on Cloud-V, enter the account information on the site. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/07a/260/48c/07a26048c08a44bdb7f97fc8818c801c.png"><br><br>  To make it easier to navigate in a brave new world, let's deal with the main elements of the management portal My.Cloud-V. <br><br><blockquote>  <b>Subscription</b> is the resource pool allocated to you according to the plan you purchased: virtual processors, number of cores, RAM, and disk size. <br>  <b>Add</b> - <b>ons</b> are additional resources that connect to the standard resource pool.  Here you can find information about the resources that you additionally acquire after activating the basic subscription. <br>  <b>Administrators</b> - accounts with subscription control rights. <br>  <b>Management certificates</b> - in this tab you can connect management certificates for remote management of your subscription.  And work with the cloud through Azure PowerShell - a set of modules with cmdlets for the Windows PowerShell command line.  The Microsoft blog has an article on <a href="https://habrahabr.ru/company/microsoft/blog/253765/">how to set up Azure PowerShell</a> . </blockquote><br>  All these entities can be managed in the <i>My Account</i> tab. <br><br><img src="https://habrastorage.org/files/168/dad/6eb/168dad6eb32a4c1bbf08bdc94ea3eed5.png"><br><br>  With virtual machines in My.Cloud-V also has its own nuances.  You can create as ‚Äúempty‚Äù virtual machines, or with a ‚Äúbody kit‚Äù.  There are several entities for this: <br><br>  <b>Autonomous virtual machine</b> - a virtual machine from the collection with a pre-installed operating system: Windows Server, CentOs, Debian, RedHat and others, or an ‚Äúempty‚Äù virtual machine with resources to install its own OS. <br><br>  <b>The role of the virtual machine</b> is a template with a set of functions for quick service deployment.  A virtual machine deployed within a role is called an instance.  You can choose a role from Microsoft Exchange, SQL or MS Dynamics CRM and run the Domain Controller or Skype4Business from the template. <br><br>  From theory to practice, we will show you step by step how to create a network and virtual machines. <br><br><h3>  Create a network </h3><br>  In order for your virtual machines to be interconnected and have access to the Internet, you need to create a virtual network. <br><br><ol><li>  Go to the <i>Networks</i> menu, click <i>Create Virtual Network</i> . <br><br><img src="https://habrastorage.org/files/916/dcb/266/916dcb266de44ff2acffffc92329919c.jpg"><br><br></li><li>  Select the <i>Virtual Network</i> tab.  There are two options: fast and custom creation.  Custom network creation allows you to specify network settings when creating it in more detail.  In ‚ÄúQuick creation‚Äù, only the name, address space and the number of IP addresses can be set. <br><br>  For our experiment, choose <i>Custom creation</i> . <br><br><img src="https://habrastorage.org/files/684/e1e/f4a/684e1ef4aa6b41a99ed39f0049ad5168.jpg"><br><br></li><li>  Specify the version of the IP protocol, as well as the name of the virtual network. <br><br><img src="https://habrastorage.org/files/fe7/c52/49a/fe7c5249acd64fdaa6b27d8aa2dc71ad.jpg"><br><br></li><li>  We set IP addresses of DNS servers.  Put a tick Enable direct access to the Internet, if we need this access.  When creating a VPN connection ‚Äúnetwork-network‚Äù, make sure that the gateway subnet does not overlap with the subnets of the virtual machines that will be on this network. <br><br><img src="https://habrastorage.org/files/bd7/c39/c09/bd7c39c09581492abb655371dce9aeaa.jpg"><br><br></li><li>  Specify the size of the address space.  In our case, this is a network with a 24-bit mask - 10.10.10.0/24. <br><br><img src="https://habrastorage.org/files/ca5/83a/354/ca583a354f6046fb948970dbd0966eef.jpg"><br><br></li><li>  Virtual network created. <br><br><img src="https://habrastorage.org/files/8b4/7ce/417/8b47ce4176a041d09e3ef47329bcde50.jpg"></li></ol><br><h4>  Create a standalone virtual machine (quick version) </h4><br><ol><li>  Go to the <i>Virtual Machines</i> menu and click <i>Create</i> . <br><br><img src="https://habrastorage.org/files/b09/9cb/b97/b099cbb97966481fa718a6b636479918.png"><br><br></li><li>  Select the <i>Autonomous Virtual Machine</i> and <i>Quick Create</i> tabs. <br><br>  Creating "From the Collection" allows you to deploy virtual resources without an operating system (Empty templates), or from one of the proposed operating systems.  Empty option is not provided for ‚ÄúQuick Create‚Äù. <br><br><img src="https://habrastorage.org/files/aab/7b9/917/aab7b9917cff41bca6824893f493d568.png"><br><br></li><li>  We give the virtual machine a name.  Choose a template with a pre-installed OS.  We set the password and connect the virtual machine to the network.  Click <i>Create Instance VM</i> . <br><br><img src="https://habrastorage.org/files/19e/c2e/83c/19ec2e83c6b945169ccae3bfe2ab33ea.png"><br><br></li><li>  Is done.  The created virtual machine will be displayed in the corresponding section. <br><br><img src="https://habrastorage.org/files/cca/76b/d2e/cca76bd2ea9f4f6a9b74f858c9c02593.png"></li></ol><br>  The role of the virtual machine is created almost as well.  In the next article, we will show you in detail how to create a VM role with Active Directory and Exchange Server. <br><br><h3>  Work with a virtual machine </h3><br>  <b>Virtual machine management.</b>  All VM management takes place through the <i>Command Panel</i> . <br><br><img src="https://habrastorage.org/files/ae9/ca0/8c0/ae9ca08c07c149308e84839b4d653b7a.png"><br><br>  Here are all the available actions: <br><br><ul><li>  <i>Connect</i> ‚Äî connects to the virtual machine via the management console. </li><li>  <i>Suspend</i> - standby mode.  Allows you to pause the VM to test the infrastructure without this virtual machine and run it again in a second without having to go through the entire OS boot cycle. </li><li>  <i>Shut down</i> is a ‚Äúsoft‚Äù shutdown of the virtual machine, the essence is the same as that of the ‚ÄúShut down‚Äù command on computers.  In this state, it is possible to attach / detach networks and disks to VM, change VM sizes, remove machines </li><li>  <i>Stop</i> - emergency shutdown of the VM, comparable to turning off the computer with a button on the power supply or pulling the cord out of the socket.  It is worth using only if the operating system of the machine is not responding. </li><li>  <i>Clone</i> - VM cloning.  As we told at the beginning, this function was added by our specialists and is missing in the classic Azure Pack. </li><li>  <i>Reload, Delete</i> - everything is clear here. </li></ul><br>  <b>Virtual machine scaling</b> .  To change the size of the VM, go to the <i>Virtual Machines</i> section, select the VM you need and complete its work. <br><br><img src="https://habrastorage.org/files/987/f94/a6f/987f94a6f7d94f0a86901c776a0c8dfd.png"><br><br>  Click on the arrow. <br><br><img src="https://habrastorage.org/files/498/d09/43c/498d0943c5b44fca80de529853798664.png"><br><br>  Open the <i>Customize</i> tab and select the desired size of the virtual machine from the list. <br><br>  Ready-made VM size templates are created to fully match the portal with the ‚Äúbig‚Äù Azure UX.  Reducing the size of the virtual machine will not affect data integrity - the number of cores and the size of the RAM will change, the disk volume will remain the same. <br><br><img src="https://habrastorage.org/files/4cc/1ad/06c/4cc1ad06c05b4645b89ab0e93c9e34ea.png"><br><br>  <b>Connection / disconnection of the network.</b>  Turn off the desired virtual machine. <br><br>  Go to the <i>Configure</i> section, select the <i>Attach</i> option on the command panel and select the <i>Network</i> option. <br><br><img src="https://habrastorage.org/files/dcf/c49/220/dcfc49220d7d4b3f8d6f080174321bad.png"><br><br>  Select the desired network from the list. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/35d/f5e/dd6/35df5edd61a143729d86a453061c525b.png"></div><br>  Network added. <br><br><img src="https://habrastorage.org/files/4f9/299/434/4f92994343344209860fdfff6ac8eaf9.png"><br><br>  <b>Connecting ISO images and disks.</b>  ISO-images and virtual hard disks can be connected ‚Äúon hot‚Äù, i.e.  without stopping VM. <br><br>  In the <i>Virtual Machines</i> section <i>,</i> go to the <i>Configure</i> tab, click <i>Attach</i> on the command bar.  Select the disk option if you want to add a virtual hard disk.  ISO-image is added via the DVD option. <br><br><img src="https://habrastorage.org/files/7a0/b4b/e12/7a0b4be126ca48ef9e52a4e80b06b01c.png"><br><br>  Add a virtual hard disk.  Select a disk and a SCSI channel (bus) from the list.  By default, the first free channel will be assigned. <br><br><img src="https://habrastorage.org/files/2d0/b25/6fa/2d0b256fa18c404f9afe46da19390bc1.png"><br><br>  The disc is added. <br><br><img src="https://habrastorage.org/files/f05/b3c/886/f05b3c886487455083c8b2fd6a745c12.png"><br><br>  <b>Monitoring</b>  In the menu of our virtual machine, you can see its working parameters and dimensions. <br><br><img src="https://habrastorage.org/files/fde/823/ba1/fde823ba16264c5b97bdbc97556d106f.png"><br><br>  In the <i>Virtual Machines</i> section <i>,</i> select the required VM and click on the arrow. <br><br><img src="https://habrastorage.org/files/498/d09/43c/498d0943c5b44fca80de529853798664.png"><br><br>  Monitoring will show: <br><br><ul><li>  Performance graph ‚Äî CPU utilization percentage, memory, storage and network bandwidth. <br><br><img src="https://habrastorage.org/files/377/e87/42a/377e8742aef44f2383c2e6baba825ec6.png"><br><br></li><li>  The amount of resources occupied by the virtual machine. <br><br><img src="https://habrastorage.org/files/f32/600/e01/f32600e0163f4a9abf41a7862b88a659.png"><br><br></li><li>  Attached devices - networks and devices connected to a virtual machine. <br><br><img src="https://habrastorage.org/files/17d/ef2/c4d/17def2c4dd074fe196f81f9e3a9c2d4a.png"><br><br></li><li>  Summary ‚Äî the state, the name of the virtual machine server, the IP addresses associated with it, the OS installed on it, the number of cores, the number of disks attached to it. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/c9c/45b/57e/c9c45b57e5d64c7185d39111243b8652.png"></div><br></li></ul><br>  That's all we wanted to tell you today about the Hyper-V based cloud management portal.  Next time we will explain how to deploy and configure the <a href="https://habrahabr.ru/company/dataline/blog/311306/">Exchange Server</a> in Cloud-V. <br><br>  Author: <a href="">Sergey Gruzdov</a> </div><p>Source: <a href="https://habr.com/ru/post/310730/">https://habr.com/ru/post/310730/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../310720/index.html">How to stop being afraid and fall in love with mbed [Part 4]</a></li>
<li><a href="../310722/index.html">Testing filter and setting changes in Google Analytics</a></li>
<li><a href="../310724/index.html">Collaborate on documents: SharePoint 2016. Part 2. Configure external access.</a></li>
<li><a href="../310726/index.html">The book "How to survive the full end of the dinner, or security in PHP." Part 1</a></li>
<li><a href="../310728/index.html">Gartner Quadrant for Wireless and Wired Networks 2016</a></li>
<li><a href="../310732/index.html">Looking for errors in Mono: hundreds of them</a></li>
<li><a href="../310734/index.html">Lecture by Jimmy Wales, founder of Wikipedia, in Yandex</a></li>
<li><a href="../310736/index.html">BGP protocol in Quagga</a></li>
<li><a href="../310738/index.html">Logging Git revision in Java using Maven</a></li>
<li><a href="../310740/index.html">How to rewrite the SDK in TypeScript, upgrade the platform and do not regret anything</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>