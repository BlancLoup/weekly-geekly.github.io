<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Reactive programming with Spring Boot 2. Part 2</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the first part, we learned what reactivity is and how to work with it at a basic level. If you want to continue learning reactive programming with ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Reactive programming with Spring Boot 2. Part 2</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/webt/_d/zu/uf/_dzuufbg1_hv93q4xnu6v4wlrmo.jpeg"></div><br>  In the <a href="https://habrahabr.ru/post/342498/">first part,</a> we learned what reactivity is and how to work with it at a basic level.  If you want to continue learning reactive programming with the new framework from Spring, then welcome! <br><a name="habracut"></a><br>  Now we will analyze what to do with the knowledge gained from the previous article, and also build a small web service that will work in asynchronous mode. <br><br>  <b>For this we need:</b> <br><br><ul><li>  <b>MongoDB database</b> .  The fact is that not all DBMSs support asynchronous operation.  MongoDB is pleasantly different in this sense and fully supports the functionality we need. </li><li>  <b>Driver for asynchronous work with the database</b> .  The usual driver does not know how. </li><li>  <b>Spring Boot 2</b> .  Spring Boot is currently under development, but should be released <a href="https://github.com/spring-projects/spring-boot/milestones">on December 18th</a> .  It will greatly facilitate our work and save a lot of time. </li><li>  <b>Gradle</b> .Will be used as an assembly system. </li><li>  <b>Java 8</b> .  Yes, this is not the latest version at the moment, but for our purposes it is quite suitable. </li><li>  <b>Lombok</b>  It will help to reduce the code. </li></ul><br>  All settings and the final project can be viewed on <a href="https://github.com/Faoxis/habrreactivemongo">github</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>Let's get started</b> <br><br>  If you have not connected all the dependencies, you can do it right now.  In the gradle they will look like this: <br><br><pre><code class="hljs lisp">compile('org.springframework.boot<span class="hljs-symbol"><span class="hljs-symbol">:spring-boot-starter-data-mongodb-reactive</span></span>') compile('org.springframework.boot<span class="hljs-symbol"><span class="hljs-symbol">:spring-boot-starter-webflux</span></span>') compileOnly('org.projectlombok<span class="hljs-symbol"><span class="hljs-symbol">:lombok</span></span>') testCompile('org.springframework.boot<span class="hljs-symbol"><span class="hljs-symbol">:spring-boot-starter-test</span></span>') testCompile('io.projectreactor<span class="hljs-symbol"><span class="hljs-symbol">:reactor-test</span></span>')</code> </pre> <br><br>  So, we have everything ready.  First, create a user of our application: <br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Data</span></span> <span class="hljs-meta"><span class="hljs-meta">@AllArgsConstructor</span></span> <span class="hljs-meta"><span class="hljs-meta">@NoArgsConstructor</span></span> <span class="hljs-meta"><span class="hljs-meta">@Document</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">User</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Id</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String id; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String firstName; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String lastName; }</code> </pre> <br>  I remind you that in order to successfully compile and work in IntelliJ Idea, you must tick the <b>enable annotation processing</b> box or write all the setters, heaters and constructors yourself. <br><br>  Next, create a repository with our users: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.faoxis.habrreactivemongo.domain.User; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.data.mongodb.repository.ReactiveMongoRepository; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserRepository</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ReactiveMongoRepository</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">User</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">String</span></span></span><span class="hljs-class">&gt; </span></span>{ }</code> </pre> <br>  It should be noted here that we inherit from a special interface for working in jet mode.  If you look at the <b>ReactiveMongoRepository</b> interface, you can see that objects are returned to us, wrapped in the already familiar classes <b>Mono</b> and <b>Flux</b> .  This means that with any access to the database, we do not immediately get the result.  Instead, we get a stream of data from which we can get data as soon as it is ready. <br><br>  Currently, multi-layered architecture is the most common solution when working with microservice architecture.  It is really very convenient.  Let's create a service layer.  To do this, we make the appropriate interface: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserService</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-function">Flux&lt;User&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-function"><span class="hljs-function">Mono&lt;User&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">save</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(User user)</span></span></span></span>; }</code> </pre><br>  Our service is quite simple, so we immediately create several useful methods.  And then we implement them: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Service</span></span> <span class="hljs-meta"><span class="hljs-meta">@AllArgsConstructor</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserServiceImpl</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserService</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> UserRepository userRepository; <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Flux&lt;User&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> userRepository.findAll(); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Mono&lt;User&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">save</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(User user)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> userRepository.save(user); } }</code> </pre> <br>  Here it is worth noting that the implementation of the UserRepository dependency occurs through the constructor using the AllArgsConstructor annotation.  Just in case, <b>let me</b> remind you that with some version of Spring 4 you can automatically implement dependency injection through the designer without the <b>Autowire</b> annotation. <br><br>  And finally, let's make the controller: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> lombok.AllArgsConstructor; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.faoxis.habrreactivemongo.domain.User; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.faoxis.habrreactivemongo.service.UserService; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.web.bind.annotation.*; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> reactor.core.publisher.Flux; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> reactor.core.publisher.Mono; <span class="hljs-meta"><span class="hljs-meta">@RestController</span></span> <span class="hljs-meta"><span class="hljs-meta">@RequestMapping</span></span>(<span class="hljs-string"><span class="hljs-string">"/users"</span></span>) <span class="hljs-meta"><span class="hljs-meta">@AllArgsConstructor</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserController</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> UserService userService; <span class="hljs-meta"><span class="hljs-meta">@PostMapping</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Mono&lt;User&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">post</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(@RequestBody User user)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> userService.save(user); } <span class="hljs-meta"><span class="hljs-meta">@GetMapping</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Flux&lt;User&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> userService.get(); } }</code> </pre> <br>  Run our application.  Everything should work.  Now we will make a <b>POST</b> request to <a href="http://localhost/">localhost</a> : 8080 / users with the following contents: <br><br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"firstName"</span></span>: <span class="hljs-string"><span class="hljs-string">"Peter"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"lastName"</span></span>: <span class="hljs-string"><span class="hljs-string">"Griffin"</span></span> }</code> </pre> <br>  In response, we will get the same object, but with the id assigned to it: <br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>: <span class="hljs-string"><span class="hljs-string">"5a0bf0fdc48fd53478638c9e"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"firstName"</span></span>: <span class="hljs-string"><span class="hljs-string">"Peter"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"lastName"</span></span>: <span class="hljs-string"><span class="hljs-string">"Griffin"</span></span> }</code> </pre> <br>  Fine!  Let's save a couple more users and try to see what we already have in the database.  I have such a result <b>GET</b> request on <a href="http://localhost/">localhost</a> : 8080 / users: <br><br><pre> <code class="hljs json">[ { <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>: <span class="hljs-string"><span class="hljs-string">"5a0bf0fdc48fd53478638c9e"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"firstName"</span></span>: <span class="hljs-string"><span class="hljs-string">"Peter"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"lastName"</span></span>: <span class="hljs-string"><span class="hljs-string">"Griffin"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>: <span class="hljs-string"><span class="hljs-string">"5a0bf192c48fd53478638c9f"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"firstName"</span></span>: <span class="hljs-string"><span class="hljs-string">"Lois"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"lastName"</span></span>: <span class="hljs-string"><span class="hljs-string">"Griffin"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>: <span class="hljs-string"><span class="hljs-string">"5a0bf19ac48fd53478638ca0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"firstName"</span></span>: <span class="hljs-string"><span class="hljs-string">"Mag"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"lastName"</span></span>: <span class="hljs-string"><span class="hljs-string">"Griffin"</span></span> } ]</code> </pre> <br>  Fine!  We have a whole service that works in asynchronous mode!  But there is one more thing to keep in mind.  Working with asynchronous repositories can greatly change the type of service that receives data from it. <br><br>  To demonstrate this, create another method URL handler in our controller: <br><br><pre> <code class="java hljs"> <span class="hljs-meta"><span class="hljs-meta">@GetMapping</span></span>(<span class="hljs-string"><span class="hljs-string">"{lastName}"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Flux&lt;User&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getByLastName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(@PathVariable(name = </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"lastName"</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> String lastName) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> userService.getByLastName(lastName); }</code> </pre> <br>  Everything is simple here.  We get the user's last name and print all people with that last name. <br><br>  Of course, this logic can be put on the database, but here I would like to pay attention to how it will look in the service: <br><br><pre> <code class="java hljs"> <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Flux&lt;User&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getByLastName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> String lastName)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> userRepository .findAll() .filter(user -&gt; user.getLastName().equals(lastName)); }</code> </pre> <br>  Note that there is a difference in working with data and data streams.  Usually we perform some actions on the data directly.  Here the situation is different.  We say what should be done in the data stream. <br><br>  Let's try to make a <b>GET</b> request at the URL <a href="http://localhost/">localhost</a> : 8080 / users / Griffin.  I have the following result: <br><br><pre> <code class="hljs json">[ { <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>: <span class="hljs-string"><span class="hljs-string">"5a0bf0fdc48fd53478638c9e"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"firstName"</span></span>: <span class="hljs-string"><span class="hljs-string">"Peter"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"lastName"</span></span>: <span class="hljs-string"><span class="hljs-string">"Griffin"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>: <span class="hljs-string"><span class="hljs-string">"5a0bf192c48fd53478638c9f"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"firstName"</span></span>: <span class="hljs-string"><span class="hljs-string">"Lois"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"lastName"</span></span>: <span class="hljs-string"><span class="hljs-string">"Griffin"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>: <span class="hljs-string"><span class="hljs-string">"5a0bf19ac48fd53478638ca0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"firstName"</span></span>: <span class="hljs-string"><span class="hljs-string">"Mag"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"lastName"</span></span>: <span class="hljs-string"><span class="hljs-string">"Griffin"</span></span> } ]</code> </pre> <br>  In this article, we looked at how to build an asynchronous service with the new <b>WebFlux</b> framework and <b>Netty</b> server (it comes out of the box by default).  We also saw how easy it is to achieve with <b>Spring Boot 2</b> .  If you have a microservice architecture on a project, then most likely you can easily transfer your applications to <b>WebFlux</b> with the release of <b>Spring Boot 2</b> if you wish (if, of course, there is a need for this). <br><br>  <b>PS</b> There are several ideas for follow-up.  If you are interested in the material, and you are not against my submission, then in the following sections we can consider, for example, asynchronous interaction between applications.  Thanks for attention! </div><p>Source: <a href="https://habr.com/ru/post/342506/">https://habr.com/ru/post/342506/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../342494/index.html">How to be a team leader - my version</a></li>
<li><a href="../342496/index.html">The fundamental error of system engineering</a></li>
<li><a href="../342498/index.html">Reactive programming with Spring Boot 2. Part 1</a></li>
<li><a href="../342502/index.html">Why the founder of Interactive Brokers is afraid of bitcoin futures</a></li>
<li><a href="../342504/index.html">Virtuozzo 7 Update 5 - what's new?</a></li>
<li><a href="../342508/index.html">3CX Upgrade from Debian 8 Jessie to Debian 9 Stretch</a></li>
<li><a href="../342510/index.html">3D graphics from scratch. Part 1: ray tracing</a></li>
<li><a href="../342512/index.html">‚ÄúHello, World!‚Äù For novice writers</a></li>
<li><a href="../342514/index.html">How White Label helps in the development of services and products. 5 examples</a></li>
<li><a href="../342516/index.html">Key announcements Connect (); 2017</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>