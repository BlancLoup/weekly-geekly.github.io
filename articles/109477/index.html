<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>JavaScript Performance Best Practices</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Stumbled upon an interesting document on Twitter. 
 JavaScript Performance Best Practices 
 The title indicates the WRT category (Nokia Web Runtime or...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>JavaScript Performance Best Practices</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage/habraeffect/0b/dd/0bdd3a804340f0fed776fb2d5f42d41c.png"><br>  Stumbled upon an interesting document on Twitter. <br><h3>  <a href="http://wiki.forum.nokia.com/index.php/JavaScript_Performance_Best_Practices">JavaScript Performance Best Practices</a> </h3><br>  The title indicates the WRT category (Nokia Web Runtime or Widget for S60), that is, the specific Nokia platform, but I think it will be interesting to read for many people, perhaps you will find something new for yourself.  There are really useful tips, but there are also harmful ones, especially in the light of modern development __ all browsers_. <br>  At first I thought of making it a topic-link, but under the cut, I‚Äôll draw attention to some of the problems of this article.  The article is worth reading, but in no case do not treat it as the ultimate truth. <br><br><a name="habracut"></a><br><br>  Once again, these comments should be viewed from the light of "universal programming for all browsers."  It is possible that in terms of development for Symbian article - extremely true 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Offer your comments in the comments - maybe in the end it will result in a great article about optimization <br>  I would have edited this article on the wiki myself, but ‚ÄúYou don‚Äôt have sufficient privileges to view this page or perform this action.‚Äù <br><br>  To begin with, the article reveals many really useful tips. <br>  For example, the use of eval is best avoided, and when you receive and resize an element <a href="http://chikuyonok.ru/2010/11/optimization-story/">, unnecessary reflow may appear</a> (minimizing the dimensions or location of elements). <br><blockquote>  Avoid modifications while traversing </blockquote><br>  And the container that returns getElementsByTagName is really ‚Äúlive‚Äù and the following code will hang your browser: <br><pre><code class="html hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">charset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"utf-8"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span>Test<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"container"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">em</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">em</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">em</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">em</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="hljs-comment"><span class="actionscript"><span class="hljs-comment">/* Script here */</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> doc = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>, ems = doc.getElementsByTagName(<span class="hljs-string"><span class="hljs-string">'em'</span></span>), cont = doc.getElementById(<span class="hljs-string"><span class="hljs-string">'container'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; ems.length; i++) { cont.appendChild(doc.createElement(<span class="hljs-string"><span class="hljs-string">'em'</span></span>)); };</code> </pre><br><br>  However, there are a number of drawbacks. <br><br>  First, the error.  Examples: <br><blockquote>  Avoid using eval or the Function constructor </blockquote><br><pre> <code class="javascript hljs">addMethod(myObj, <span class="hljs-string"><span class="hljs-string">'methodName'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-string"><span class="hljs-string">'this.localVar=foo'</span></span>; }); <span class="hljs-comment"><span class="hljs-comment">// =&gt; addMethod(myObj, 'methodName', function () { this.localVar=foo; });</span></span></code> </pre><br><br><blockquote>  Download scripts </blockquote><br> <code>script.onreadstatechange =&gt; script.onread <b>y</b> statechange</code> <br> <br>  And the errors are not of the synthical plan, but of a logical one: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> elem = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">'elem'</span></span>).propertyOne = <span class="hljs-string"><span class="hljs-string">'value of first property'</span></span>; elem.propertyTwo = <span class="hljs-string"><span class="hljs-string">'value of second property'</span></span>; elem.propertyThree = <span class="hljs-string"><span class="hljs-string">'value of third property'</span></span> <span class="hljs-comment"><span class="hljs-comment">//  , .. [elem]    'value of first property',   dom- document.getElementById('elem').propertyOne = 'value of first property'; document.getElementById('elem').propertyTwo = 'value of second property'; document.getElementById('elem').propertyThree = 'value of third property';</span></span></code> </pre><br><br>  Secondly, although some tips will really speed up your application - they do not make sense, because  have a completely different program logic. <br>  Simply put, do ‚ÄúB‚Äù instead of ‚ÄúA‚Äù because ‚ÄúB‚Äù is faster. <br><br>  An example is <blockquote>  Don't use try-catch-finally inside performance-critical functions </blockquote><br>  Sometimes it may be necessary to handle exceptions inside the loop, sometimes outside.  These two operations have a completely different basis and a different result. <br><br><blockquote>  Avoid for performance functions </blockquote><br>  Again - a different result.  <code>var i in arr</code> for arrays is applicable in extremely rare situations.  The most correct iteration over an array (used in frameworks): <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>, len = arr.length; i &lt; len; i++) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> arr) { <span class="hljs-comment"><span class="hljs-comment">// action }</span></span></code> </pre><br>  This will correctly pass an array that is not completely filled and corresponds to the behavior of the forEach method from the latest specifications: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> arr = [<span class="hljs-string"><span class="hljs-string">'zero'</span></span>,<span class="hljs-string"><span class="hljs-string">'one'</span></span>,<span class="hljs-string"><span class="hljs-string">'two'</span></span>]; arr[<span class="hljs-number"><span class="hljs-number">10</span></span>] = <span class="hljs-string"><span class="hljs-string">'ten'</span></span>; arr.forEach(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">elem</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(elem); <span class="hljs-comment"><span class="hljs-comment">//  "zero, one, two, ten"   undefined  "two"  "ten" });</span></span></code> </pre><br><br>  If you know the contents of the array and it doesn‚Äôt matter in which order it is traversed, you can use a reverse loop <br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sum</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">arr</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> result = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = arr.length; i--;) { result += arr[i]; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; };</code> </pre><br>  My old tests have shown that it is not only readable well, but also faster than a straight pass. <br><br><blockquote>  Try to keep script comments on a minimum / Avoid long variable names </blockquote><br>  First, in the latest versions of modern browsers there is a jit-compilation, which makes this tip inappropriate. <br>  Secondly, in the working application the scripts are compressed and the comments are cut out.  and during development such optimization does not make sense <br>  Thirdly, comment as much and exactly as you need to properly understand this code.  Whatever impact it has on performance is not important. <br><br><blockquote>  Store local references to out-of-scope variables </blockquote><br>  Caching document makes sense, but the example is bad, which in this case does not make sense, because  Reading from the cache occurs only once. <br><br><blockquote>  Consider using a custom datasets for data exchange. </blockquote><br>  Bad advice.  Try to avoid your own data formats as much as possible and the article shows an example of such horror: <br><pre> <code class="javascript hljs">that.contacts = o.responseText.split(<span class="hljs-string"><span class="hljs-string">"\\c"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> n = <span class="hljs-number"><span class="hljs-number">0</span></span>, len = that.contacts.length, contactSplit; n &lt; len; n++) { contactSplit = that.contacts[n].split(<span class="hljs-string"><span class="hljs-string">"\\a"</span></span>); that.contacts[n] = {}; that.contacts[n].n = contactSplit[<span class="hljs-number"><span class="hljs-number">0</span></span>]; <span class="hljs-comment"><span class="hljs-comment">// ... that.contacts[n].y = contactSplit[8]; }</span></span></code> </pre><br>  First, it <code>var contacts = JSON.parse(o.responseText);</code> lot longer to write than <code>var contacts = JSON.parse(o.responseText);</code> <br>  Secondly, JSON parsing in many browsers is built-in and it is likely that your ‚Äúfast‚Äù format will work much slower than JSON.  But maybe faster, <a href="http://habrahabr.ru/blogs/javascript/109477/">see the comments</a> . <br>  Thirdly, there are a lot of flaws during the support: the non-obvious contents of <code>o.responseText</code> , you have to write a parser and format compiler on the server and the client, third-party developers will be in Shock, etc. <br>  The basic idea is that such optimization rarely makes sense.  In most cases, it is worth avoiding it due to many shortcomings. <br><br>  In general, read and think.  Interesting and useful tips are there, but analyze everything and do not use it thoughtlessly.  As always) </div><p>Source: <a href="https://habr.com/ru/post/109477/">https://habr.com/ru/post/109477/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../109472/index.html">Mylyn Generic Web Templates Connector and PEAR bug tracker</a></li>
<li><a href="../109473/index.html">What you need to know about payment by bank cards via the Internet</a></li>
<li><a href="../109474/index.html">8 of the most stupid management mistakes - at all times</a></li>
<li><a href="../109475/index.html">Come in! Authentication without login and password, "remember me"</a></li>
<li><a href="../109476/index.html">Saving hypertext documents in different browsers</a></li>
<li><a href="../109479/index.html">Long-liver</a></li>
<li><a href="../109480/index.html">Static analysis and regular expressions</a></li>
<li><a href="../109481/index.html">PHPLego: Unobtrusive AJAX</a></li>
<li><a href="../109483/index.html">LibreOffice 3.3 RC1</a></li>
<li><a href="../109486/index.html">AndroidDev # 1. Create a file manager</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>