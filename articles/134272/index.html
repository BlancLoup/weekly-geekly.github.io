<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Quickly create a JavaScript info widget</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Modern mobile phones have large screens. Naturally, the desire to use part of the site to display some important relevant information. Android even ha...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Quickly create a JavaScript info widget</h1><div class="post__text post__text-html js-mediator-article">  Modern mobile phones have large screens.  Naturally, the desire to use part of the site to display some important relevant information.  Android even has a special entity for this, which is called AppWidget (widget).  Using widgets directly on the desktop of your phone or tablet, in addition to application icons, you can display the weather forecast, phone account balance, upcoming events, and selected contacts ‚Äî yes, almost anything, since the data for the widgets are provided by applications. <br><br>  I really like this Android feature (by the way, it's interesting, but on other platforms is there something like that?).  I use it from the very beginning.  That's just there is a certain category of programs that provide widgets, in which I missed something all the time.  I now mean programs that display the current balance of the phone on the screen.  There are many such programs.  To get the current balance, some make a USSD or SMS request, while others use an automated service to manage the subscriber with their tariff via the Internet, such as CCIS at MTS or service guide at Megafon.  I like the second variant more, because through the Internet service one can get information by several different phones, and by SMS or USSD only by the phone from which the request is made.  Well, for tablets without telephony, the first method is generally closed. <br><br>  In general, I tried many such programs, some were better than others, but they didn‚Äôt always show what I wanted (until recently I used <a href="https://market.android.com/details%3Fid%3Dcom.vladyud.balance">balance by</a> ).  For example, I wanted to see how much traffic was left on my phone, how much was on the modem.  It's so simple - here it is this information, on the site!  If information about the balance is taken from there, then why not take information about the traffic?  If only a regular expression could be written for this, I would have done it a long time ago.  But you just had to wait for the program update.  And the updates came out, a bunch of other operators were updated, but the traffic indicator I needed did not appear.  In addition, I did not find a program that would maintain the dynamics of changes in the balance so that you can quickly see at what point the extra money suddenly began to be written off.  And with <a href="http://habrahabr.ru/blogs/infosecurity/134358/">MT tariffing</a> this may well happen. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a>  Next is my solution to the problem ... <br><br>  Since I wanted to explore Android, I decided to write my own such program.  But immediately get rid of the main, in my opinion, lack of existing programs.  The entire set of supported cellular operators and other accounts, the balance in which you have to look, must be removed from the program in the plug-ins.  And these modules should not be written in complex Java, but in plain JavaScript.  Already in the development process, I realized that this opens up more opportunities.  You can absolutely not be limited to mobile operators and Internet providers.  You can display almost any information that is presented in numerical or text form.  For example, <a href="http://code.google.com/p/any-balance-providers/wiki/TutorialExchangeCbr">currency rates</a> and <a href="http://code.google.com/p/any-balance-providers/wiki/TutorialTrackingRussianPost">tracking of EMS mailings</a> are very simple. <br><br>  I called the <a href="https://market.android.com/details%3Fid%3Dcom.dukei.android.apps.anybalance">program AnyBalance</a> .  And plug-ins to it <a href="http://any-balance-providers.googlecode.com/">AnyBalance providers</a> .  I would like AnyBalance providers to be open source, so that those who are not satisfied with the functionality of any provider can easily add it.  Well, or ask about this friend who knows Javascript.  For this purpose, I created a <a href="http://any-balance-providers.googlecode.com/">project on the Google code</a> , and placed the documentation and examples there.  I urge the community to look and appreciate my work.  And, if possible, add your operator to it :) When more AnyBalance providers are written, AnyBalance will be able to search and add providers directly from the repository.  The program itself is available from the <a href="https://market.android.com/details%3Fid%3Dcom.dukei.android.apps.anybalance">Android Market</a> .  There are several operating providers in it, such as Megafon Moscow, <a href="http://code.google.com/p/any-balance-providers/wiki/TutorialExchangeCbr">Currency rates</a> , <a href="http://code.google.com/p/any-balance-providers/wiki/TutorialTrackingRussianPost">EMS tracking,</a> and a couple of providers to get the balance of game currency from games.  Sources of all providers in the <a href="http://code.google.com/p/any-balance-providers/source/browse/">repository</a> . <br><br>  A lot of information about how providers are made is written on the project page on <a href="http://any-balance-providers.googlecode.com/">google code</a> .  I'll tell you briefly here. <br><br>  Each provider declares a set of counters that it represents, and also contains Javascript, which receives these counters.  When updating the widget, AnyBalance creates a WebView in which the provider‚Äôs main function is launched.  Results (counters) are saved by AnyBalance for displaying on widgets, plotting and statistics.  Actually, the provider itself is extremely simple.  Its function is reduced only to obtaining the actual values ‚Äã‚Äãof the counters. <br><br>  Extremely simple classic example - <a href="http://code.google.com/p/any-balance-providers/wiki/TutorialHelloWorld">Hello world</a> . <br><br>  But how the data should look like is determined by the user.  First, the user can choose which counters to show and which not.  Secondly, it selects the widget view.  Now in AnyBalance there are three types of widgets - two types for numerical values ‚Äã‚Äãand one for text values.  The user can choose which counters to show in which fields of the widget. <br><br>  AnyBalance has the ability to show graphs and statistics, which I lacked in other programs.  Here is an example of what it looks like. <br><br><img src="https://habrastorage.org/storage1/8914ed61/6dd719d0/9abd6e6a/3d27e9f5.jpg"><br><br>  Currently I have completely switched to AnyBalance.  I hope it will be about the taste of you and help, in addition to displaying the balance, to solve a long overdue problem of displaying, for example, the amount of gold in a pack or the presence of a certain product on the Internet right on the phone screen :) I will also be grateful to everyone who adds their providers <a href="http://any-balance-providers.googlecode.com/">project</a> or refine existing. <br><br>  Also concerned about the issue of security, is it possible to write malicious providers :).  All account settings are stored in SharedPreferences, so in theory one provider can access the settings of the other.  I still do not know how to fix it. </div><p>Source: <a href="https://habr.com/ru/post/134272/">https://habr.com/ru/post/134272/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../134262/index.html">Jassun L401mini DVR</a></li>
<li><a href="../134263/index.html">Video review of Android applications and games - kedDroid</a></li>
<li><a href="../134266/index.html">DDoS can be from now on !?</a></li>
<li><a href="../134268/index.html">Twitter is going to update its design</a></li>
<li><a href="../134269/index.html">Twitter introduced a new design</a></li>
<li><a href="../134273/index.html">Fuck off, Mr. Bond [The secret code of the British special services hacked]</a></li>
<li><a href="../134274/index.html">Cryptographic protection of DNS traffic</a></li>
<li><a href="../134275/index.html">Embedded Tweet. Now tweets can be inserted into your site</a></li>
<li><a href="../134277/index.html">Home Automation Kit - how do you see it?</a></li>
<li><a href="../134278/index.html">StartFellows is a free grant for Internet startups.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>