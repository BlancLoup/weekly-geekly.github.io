<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>HTML and CSS madness [translation]</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="or Create 3D worlds with HTML, CSS and JS 

 Last year, I made a demo that shows how CSS 3D transforms can be used to create a 3D space. The demo was ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>HTML and CSS madness [translation]</h1><div class="post__text post__text-html js-mediator-article"><h4>  or Create 3D worlds with HTML, CSS and JS </h4><br><img src="http://blog.keithclark.co.uk/wp-content/uploads/2013/01/css3fps-lit.jpg" alt="image"><br>  Last year, I made a <a href="http://keithclark.co.uk/labs/3dcss/demo/">demo</a> that shows how CSS 3D transforms can be used to create a 3D space.  The demo was a technical demonstration of what can be achieved with CSS at the time, but I wanted to see how far I could go, so for the past few months I have been working on a <a href="http://keithclark.co.uk/labs/css3-fps/">new version</a> with even more complex models, realistic lighting, shadows and collision detection.  This post documents how I did it and what techniques I used. <br><br>  <a href="http://keithclark.co.uk/labs/css3-fps/">Demo</a> <a href="http://codepen.io/keithclark/details/ksayr">Demo2</a> <br><a name="habracut"></a><br><h4>  Create 3D objects </h4><br>  In modern 3D engines, objects are stored as a set of points (or vectors), each has an X, Y, and Z value for the declaration of its position in 3D space.  A square, for example, will be defined by 4 vectors, one for each corner.  Each of the vectors can be manipulated individually, moving it along the X, Y, and Z axes, thereby allowing the square to stretch into different shapes.  The 3D visualizer will use these vectors and a lot of smart math to draw a 3D object on your 2D screen. <br>  With CSS transformations, the opposite is true.  We cannot set arbitrary shapes with a set of points, our hands are bound by HTML elements that are constantly square and have two-dimensional properties, such as top, left, width and height to denote their positions and sizes.  But in many ways, this makes working with 3D much easier, since in this case there is no complicated mathematics - you just need to apply the CSS transformation to rotate the element around the axes and you're done! <br>  Creating objects from squares may seem like a limited method at first, but you can create an amazing amount of them, especially when you start playing with PNG alpha channels.  In the picture below, you can observe how the upper part of the barrel and the wheel seem round, despite the fact that they are made of squares. <br><br><img src="http://blog.keithclark.co.uk/wp-content/uploads/2013/01/cssfps-objects.jpg" alt="image">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h6>  example of 3D objects created entirely from square &lt;div&gt; elements </h6><br><br>  All objects are created using JavaScript, using a set of methods for creating primitive geometry.  The simplest object that can be created is the plane, which is essentially a regular <b>&lt;div&gt;</b> element.  Planes can be added to sets, a <b>&lt;div&gt;</b> wrapper above them allows the entire object to rotate and move as a single entity.  A pipe is a set of planes turned around the axes and a barrel is a pipe with a plane at the top and a plane at the bottom. <br><br>  <a href="http://codepen.io/keithclark/details/ksayr">This example</a> shows what is said in practice, take a look at the JS tab. <br><br><h4>  Shine </h4><br>  Light was the most difficult challenge in this project.  I won't lie, math almost broke me, but it was worth it because the light brought an incredible sense of depth and atmosphere into a flat and lifeless space. <br><br><img src="http://blog.keithclark.co.uk/wp-content/uploads/2013/01/css3fps-unlit.jpg" alt="image"><br><h6>  screenshot of a room without lighting </h6><br><br>  As I said, an object in a regular 3D engine is defined by a series of vectors.  To calculate the light, these vectors are used to calculate the "normal" which can be used to determine the amount of light that is reflected from the center point of the object's surface. <br>  This formulates the problem when creating 3D objects using HTML elements, because these vectors do not exist.  So the first obstacle is to write a set of methods for calculating four vectors (one for each angle) for an element that was transformed with CSS, which can be used to calculate light.  As soon as I determined this, I immediately began experimenting with various ways to illuminate objects. <br><br>  In my first experiment, I used several background images to simulate the light incident on the surface, by combining a <b>linear-gradient</b> with a picture.  The effect uses a gradient that begins and ends with the same rgba value, producing a solid color block.  Changing the alpha channel value allows the underlying image to shine through the color block to create the illusion of shading. <br><br><img src="http://blog.keithclark.co.uk/wp-content/uploads/2013/01/css3d-rgba1.jpg" alt="image"><br><h6>  gradient example for shading textures </h6><br><br>  To achieve the most dark effect on the image above, I applied the following styles: <br><pre><code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">element</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">linear-gradient</span></span>(rgba(0,0,0,.8), <span class="hljs-built_in"><span class="hljs-built_in">rgba</span></span>(0,0,0,.8)), <span class="hljs-built_in"><span class="hljs-built_in">url</span></span>(<span class="hljs-string"><span class="hljs-string">"texture.png"</span></span>); }</code> </pre> <br>  Practically, these styles are not declared in advance, they are calculated dynamically and are applied directly to the style attribute of the element using JavaScript. <br>  This technique is called flat shading.  This is an effective shading method, but its result - the entire surface has the same detail.  For example, if I create a 3D wall that moves away a certain distance, it will be shaded equally throughout its length.  I wanted to do something more realistic. <br><br><h4>  Second lighting assault </h4><br>  To simulate real lighting, the surface must be darkened when away from the light source, and if we have several such sources falling on the surface, it should be shaded accordingly. <br>  For a flat shaded surface, I only needed to calculate the light falling on the center point, but now I need to measure the light at different points on the surface to determine how much each point should be illuminated or shaded.  Mathematics required the creation of this light information in the same way as in the case of flat shading.  I tried to create a <b>radial-gradient</b> of light information to use in place of the <b>linear-gradient of</b> my previous attempt.  The results were more realistic, but multiple light sources were still a problem, as the layering of several gradients on top of one another gradually obscures the underlying textures.  If CSS supported combining images and blending modes (they are blending on the way), there would be an opportunity to make radial gradients work. <br>  The solution was to use the <b>&lt;canvas&gt;</b> element to programmatically generate a new texture that can be used as a light map.  Using the calculated light information, I was able to draw sets of black pixels, each one changing the alpha channel, based on the amount of light that should fall on the surface at a given point. <br>  In the end, I used the <b>canvas.toDataURL ()</b> method to encode the image that I used instead of the <b>linear-gradient of</b> my first experiment.  Repeating this process, for each surface, I reproduced the effect of realistic illumination for the entire experiment space. <br>  Calculating and drawing such textures is hard work.  The ceiling and basement floor, both have a size of 1000x2000 pixels, creating a texture to cover this entire area is not very practical, so I measure the light only every 12 pixels, which produces a light map 12 times smaller than the surface it covers. <br>  <b>Background-size</b> setting <b>: 100%</b> causes the browser to scale the texture using bilinear (or similar) filtering, so the light map covers the entire surface we need.  The scaling effect creates a result that is almost completely identical to the light map generated for each pixel. <br><br>  An example of a style rule for a background that is used to define a light map and a surface looks like this: <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">element</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">url</span></span>(<span class="hljs-string"><span class="hljs-string">"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAyCAYAAAAqRkmtAAACiUlEQVRoQ9VZa0vEQAy8+/8/yPcbFVFEEREREcS/4eNSmpKmmU12t/XYD6W3beGmk8kk2a5Xq9XR5vjeHD+B47d/xjrTtdSxud3dl+d+OTmt+yvDmX4c9n8eAbtVoAeCyRRYBknMb4XRfRVyC6wEqYFK0Cj0HG4OfSr8HG56ZhR6AhoJO2u4JPxInxK4BDYCyYu9YOglk/xbsymvy8RhpjlrNEArqWRCrWlBQEsYRWC98EfAmlm/W8FoBKzWp2aT11KbZugJ6NKMzpJMFlANPJX1Wpdyjdj0NKozv9PoTjD0pRYVDb2b9VGgVtZHNKrLpuelEzb5DRhoRKel1alGox1wGfpmgFIYPbCIUa+MRiuTpdMJox7QrSdTM/bUlOFzZ7SERqM+6pbQZpqSZtq8ZhrnZkaRZoa7ZsblZjYgjgM1vmYClYOd1+LBnpRM9iQItLTFQ/0o6vLhXH9aCTTaOWnAehp1K9NZP4rUbufo2UnP9ajV82b6Tg70FudiZtKtHmrtoiOIpU9PpzD0Fwoo2n6sbZo9gJJZcwq9DGi0JpFyhjuoU7pxtSCjtXP9aDfv2gFaOoJofaKst5JJ+ukwM91kMirtyMp0a5MsOtyZicSobxMaLd3K0dZksZlt+HcZoUdsImZTY0g20PtA6OeypohFQR99MCqTDnnqA0NKp7My+ggYjerz34A+LQRUsolCrnWaNPznSqCoeyo1e/bV0T4+LV4KgCJwJAPNZI41WfV+MPzXAFDLluY2e83kqDoR2jcD6ByJhJoRrUtea31OgL4roCU9aORDWMRDIav0Fh890JR3lnz/1GVU1nsGlJX1n4UaRQkV6ZpQ+Uwm05ej0TkSycp8i2Hoo3+utUtvDhk9pwAAAABJRU5ErkJggg=="</span></span>) <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> / <span class="hljs-number"><span class="hljs-number">100%</span></span> <span class="hljs-number"><span class="hljs-number">100%</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">url</span></span>(<span class="hljs-string"><span class="hljs-string">"texture.png"</span></span>) <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> / auto auto; }</code> / png; base64, iVBORw0KGgoAAAANSUhEUgAAACoAAAAyCAYAAAAqRkmtAAACiUlEQVRoQ9VZa0vEQAy8 + / <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">element</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">url</span></span>(<span class="hljs-string"><span class="hljs-string">"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAyCAYAAAAqRkmtAAACiUlEQVRoQ9VZa0vEQAy8+/8/yPcbFVFEEREREcS/4eNSmpKmmU12t/XYD6W3beGmk8kk2a5Xq9XR5vjeHD+B47d/xjrTtdSxud3dl+d+OTmt+yvDmX4c9n8eAbtVoAeCyRRYBknMb4XRfRVyC6wEqYFK0Cj0HG4OfSr8HG56ZhR6AhoJO2u4JPxInxK4BDYCyYu9YOglk/xbsymvy8RhpjlrNEArqWRCrWlBQEsYRWC98EfAmlm/W8FoBKzWp2aT11KbZugJ6NKMzpJMFlANPJX1Wpdyjdj0NKozv9PoTjD0pRYVDb2b9VGgVtZHNKrLpuelEzb5DRhoRKel1alGox1wGfpmgFIYPbCIUa+MRiuTpdMJox7QrSdTM/bUlOFzZ7SERqM+6pbQZpqSZtq8ZhrnZkaRZoa7ZsblZjYgjgM1vmYClYOd1+LBnpRM9iQItLTFQ/0o6vLhXH9aCTTaOWnAehp1K9NZP4rUbufo2UnP9ajV82b6Tg70FudiZtKtHmrtoiOIpU9PpzD0Fwoo2n6sbZo9gJJZcwq9DGi0JpFyhjuoU7pxtSCjtXP9aDfv2gFaOoJofaKst5JJ+ukwM91kMirtyMp0a5MsOtyZicSobxMaLd3K0dZksZlt+HcZoUdsImZTY0g20PtA6OeypohFQR99MCqTDnnqA0NKp7My+ggYjerz34A+LQRUsolCrnWaNPznSqCoeyo1e/bV0T4+LV4KgCJwJAPNZI41WfV+MPzXAFDLluY2e83kqDoR2jcD6ByJhJoRrUtea31OgL4roCU9aORDWMRDIav0Fh890JR3lnz/1GVU1nsGlJX1n4UaRQkV6ZpQ+Uwm05ej0TkSycp8i2Hoo3+utUtvDhk9pwAAAABJRU5ErkJggg=="</span></span>) <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> / <span class="hljs-number"><span class="hljs-number">100%</span></span> <span class="hljs-number"><span class="hljs-number">100%</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">url</span></span>(<span class="hljs-string"><span class="hljs-string">"texture.png"</span></span>) <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> / auto auto; }</code> / xjrTtdSxud3dl + d + OTmt + yvDmX4c9n8eAbtVoAeCyRRYBknMb4XRfRVyC6wEqYFK0Cj0HG4OfSr8HG56ZhR6AhoJO2u4JPxInxK4BDYCyYu9YOglk / xbsymvy8RhpjlrNEArqWRCrWlBQEsYRWC98EfAmlm / W8FoBKzWp2aT11KbZugJ6NKMzpJMFlANPJX1Wpdyjdj0NKozv9PoTjD0pRYVDb2b9VGgVtZHNKrLpuelEzb5DRhoRKel1alGox1wGfpmgFIYPbCIUa + MRiuTpdMJox7QrSdTM / bUlOFzZ7SERqM + 6pbQZpqSZtq8ZhrnZkaRZoa7ZsblZjYgjgM1vmYClYOd1 + LBnpRM9iQItLTFQ / 0o6vLhXH9aCTTaOWnAehp1K9NZP4rUbufo2UnP9ajV82b6Tg70FudiZtKtHmrtoiOIpU9PpzD0Fwoo2n6sbZo9gJJZcwq9DGi0JpFyhjuoU7pxtSCjtXP9aDfv2gFaOoJofaKst5JJ + ukwM91kMirtyMp0a5MsOtyZicSobxMaLd3K0dZksZlt + HcZoUdsImZTY0g20PtA6OeypohFQR99MCqTDnnqA0NKp7My <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">element</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">url</span></span>(<span class="hljs-string"><span class="hljs-string">"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAyCAYAAAAqRkmtAAACiUlEQVRoQ9VZa0vEQAy8+/8/yPcbFVFEEREREcS/4eNSmpKmmU12t/XYD6W3beGmk8kk2a5Xq9XR5vjeHD+B47d/xjrTtdSxud3dl+d+OTmt+yvDmX4c9n8eAbtVoAeCyRRYBknMb4XRfRVyC6wEqYFK0Cj0HG4OfSr8HG56ZhR6AhoJO2u4JPxInxK4BDYCyYu9YOglk/xbsymvy8RhpjlrNEArqWRCrWlBQEsYRWC98EfAmlm/W8FoBKzWp2aT11KbZugJ6NKMzpJMFlANPJX1Wpdyjdj0NKozv9PoTjD0pRYVDb2b9VGgVtZHNKrLpuelEzb5DRhoRKel1alGox1wGfpmgFIYPbCIUa+MRiuTpdMJox7QrSdTM/bUlOFzZ7SERqM+6pbQZpqSZtq8ZhrnZkaRZoa7ZsblZjYgjgM1vmYClYOd1+LBnpRM9iQItLTFQ/0o6vLhXH9aCTTaOWnAehp1K9NZP4rUbufo2UnP9ajV82b6Tg70FudiZtKtHmrtoiOIpU9PpzD0Fwoo2n6sbZo9gJJZcwq9DGi0JpFyhjuoU7pxtSCjtXP9aDfv2gFaOoJofaKst5JJ+ukwM91kMirtyMp0a5MsOtyZicSobxMaLd3K0dZksZlt+HcZoUdsImZTY0g20PtA6OeypohFQR99MCqTDnnqA0NKp7My+ggYjerz34A+LQRUsolCrnWaNPznSqCoeyo1e/bV0T4+LV4KgCJwJAPNZI41WfV+MPzXAFDLluY2e83kqDoR2jcD6ByJhJoRrUtea31OgL4roCU9aORDWMRDIav0Fh890JR3lnz/1GVU1nsGlJX1n4UaRQkV6ZpQ+Uwm05ej0TkSycp8i2Hoo3+utUtvDhk9pwAAAABJRU5ErkJggg=="</span></span>) <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> / <span class="hljs-number"><span class="hljs-number">100%</span></span> <span class="hljs-number"><span class="hljs-number">100%</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">url</span></span>(<span class="hljs-string"><span class="hljs-string">"texture.png"</span></span>) <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> / auto auto; }</code> + MPzXAFDLluY2e83kqDoR2jcD6ByJhJoRrUtea31OgL4roCU9aORDWMRDIav0Fh890JR3lnz / 1GVU1nsGlJX1n4UaRQkV6ZpQ + Uwm05ej0TkSycp8i2Hoo3 + utUtvDhk9pwAAAABJRU5ErkJggg == ") <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">element</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">url</span></span>(<span class="hljs-string"><span class="hljs-string">"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAyCAYAAAAqRkmtAAACiUlEQVRoQ9VZa0vEQAy8+/8/yPcbFVFEEREREcS/4eNSmpKmmU12t/XYD6W3beGmk8kk2a5Xq9XR5vjeHD+B47d/xjrTtdSxud3dl+d+OTmt+yvDmX4c9n8eAbtVoAeCyRRYBknMb4XRfRVyC6wEqYFK0Cj0HG4OfSr8HG56ZhR6AhoJO2u4JPxInxK4BDYCyYu9YOglk/xbsymvy8RhpjlrNEArqWRCrWlBQEsYRWC98EfAmlm/W8FoBKzWp2aT11KbZugJ6NKMzpJMFlANPJX1Wpdyjdj0NKozv9PoTjD0pRYVDb2b9VGgVtZHNKrLpuelEzb5DRhoRKel1alGox1wGfpmgFIYPbCIUa+MRiuTpdMJox7QrSdTM/bUlOFzZ7SERqM+6pbQZpqSZtq8ZhrnZkaRZoa7ZsblZjYgjgM1vmYClYOd1+LBnpRM9iQItLTFQ/0o6vLhXH9aCTTaOWnAehp1K9NZP4rUbufo2UnP9ajV82b6Tg70FudiZtKtHmrtoiOIpU9PpzD0Fwoo2n6sbZo9gJJZcwq9DGi0JpFyhjuoU7pxtSCjtXP9aDfv2gFaOoJofaKst5JJ+ukwM91kMirtyMp0a5MsOtyZicSobxMaLd3K0dZksZlt+HcZoUdsImZTY0g20PtA6OeypohFQR99MCqTDnnqA0NKp7My+ggYjerz34A+LQRUsolCrnWaNPznSqCoeyo1e/bV0T4+LV4KgCJwJAPNZI41WfV+MPzXAFDLluY2e83kqDoR2jcD6ByJhJoRrUtea31OgL4roCU9aORDWMRDIav0Fh890JR3lnz/1GVU1nsGlJX1n4UaRQkV6ZpQ+Uwm05ej0TkSycp8i2Hoo3+utUtvDhk9pwAAAABJRU5ErkJggg=="</span></span>) <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> / <span class="hljs-number"><span class="hljs-number">100%</span></span> <span class="hljs-number"><span class="hljs-number">100%</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">url</span></span>(<span class="hljs-string"><span class="hljs-string">"texture.png"</span></span>) <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> / auto auto; }</code> </pre><br><br>  What creates an illuminated surface: <br><br><img src="http://blog.keithclark.co.uk/wp-content/uploads/2013/01/lightmap.jpg" alt="image"><br><h6>  image scaled and superimposed on the texture of the light map of small resolution </h6><br><br><h4>  Shadow overlay </h4><br>  Using canvas for lighting allows you to overlay shadows.  The logic of shadow overlay is quite simple.  Arranging the surfaces by the criterion of their distance from the light source allowed me not only to create a light map for the surface, but also to determine whether the previous surface was illuminated by the current light source.  If it was necessary, I could set the corresponding pixel on the light map to be in the shadow.  This technique allows a single image to be used both for lighting and shading. <br><br><img src="http://blog.keithclark.co.uk/wp-content/uploads/2013/01/css3fps-lit.jpg" alt="image"><br><h6>  screenshot of the resulting room with lighting and shadows </h6><br><br><h4>  Collision detection </h4><br>  A height map is used to define collisions ‚Äî the image below uses color to display the height of objects on it.  White color represents the deepest, and black is the highest possible position that a player can reach.  As the player moves through the level, I will convert his position to 2D coordinates and use them to check the color on the height map.  If the color is lighter than the last position of the player, it falls; if the color is slightly darker, the player can rise or jump on the object.  If the color is much darker, the player stops, I use it to set the walls and obstacles.  This image is drawn by hand, but it looks the same as the one created dynamically. <br><br><img src="http://blog.keithclark.co.uk/wp-content/uploads/2013/01/3dfps-map.jpg" alt="image"><br><h6>  the image of the height map and its relation to the levels </h6><br><br><h4>  What's next? </h4><br>  Well, a full-fledged game will be a logical next step - it will be interesting to see how scalable these techniques are.  So far, I've started working on a prototype <a href="http://keithclark.co.uk/labs/three-js-css-renderer/demos/cubes.html">CSS3 renderer</a> for the amazing <a href="http://mrdoob.github.com/three.js/">Three.js</a> that uses the same techniques for rendering geometry and light created by this 3D engine. <br><br>  <a href="http://blog.keithclark.co.uk/creating-3d-worlds-with-html-and-css/">original source</a> </div><p>Source: <a href="https://habr.com/ru/post/169077/">https://habr.com/ru/post/169077/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../169063/index.html">Wireless charging available on Google Play</a></li>
<li><a href="../169067/index.html">IBM Watson graduated from medical school and went to work</a></li>
<li><a href="../169069/index.html">Display the electricity meter on the Internet</a></li>
<li><a href="../169073/index.html">Why does it seem to me that the new XCOM is a ported board game?</a></li>
<li><a href="../169075/index.html">On the tablet Surface Pro from Microsoft put Ubuntu</a></li>
<li><a href="../169081/index.html">Donate, Liters and Copyright</a></li>
<li><a href="../169083/index.html">File hosting Mega began to pay rewards for found vulnerabilities</a></li>
<li><a href="../169085/index.html">We are making a dream or "Truckers-2 - the old drive in the new packaging"</a></li>
<li><a href="../169087/index.html">We are urgently updated to Ruby on Rails 3.2.12, 3.1.11 and 2.3.17 for the benefit of our own nerves</a></li>
<li><a href="../169089/index.html">VLC can get support for streaming torrent playback</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>