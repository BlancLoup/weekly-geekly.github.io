<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Security Week 37: Facebook, Twitter and Inflatable Bugs</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nearly marketers now like to discuss that absolutely any message about a new product, technology or event is perceived better if there is a blockchain...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Security Week 37: Facebook, Twitter and Inflatable Bugs</h1><div class="post__text post__text-html js-mediator-article">  Nearly marketers now like to discuss that absolutely any message about a new product, technology or event is perceived better if there is a blockchain in it.  Or machine learning algorithms.  Similarly, any message in the field of information security becomes more resonant if it refers to the social network Facebook.  The informational reality that has been fueled by the scandal over the privacy of user data is such that if you put the words ‚Äúfacebook‚Äù and ‚Äúvulnerability‚Äù in one application, they react and cause an uncontrolled increase in clicks. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/vc/pk/2j/vcpk2jdefb43m_oy_ovy4xadhmo.png"></div><br>  Well, let's surrender to the will of this incomprehensible chemistry and talk about what happened on Facebook last week.  And at the same time remember what happened last week at Twitter.  And in that case, and in the other, there were microscopic bugs, independently discovered by the company's specialists, successfully closed with the maximum number of precautions, the public was notified.  But Facebook‚Äôs ‚Äúproblem‚Äù is being discussed by Facebook, but almost no one noticed the bug on Twitter.  How so?  Now we will understand. <br><a name="habracut"></a><br><h2>  What really happened on Facebook? </h2><br>  <a href="https://threatpost.ru/facebook-admits-potential-breach-of-90-mln-users-data/28483/">News</a>  Detailed <a href="https://newsroom.fb.com/news/2018/09/security-update/">report of the</a> social network about the event. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/2r/7x/bu/2r7xbu-aqgw3exsku7u7abbalfy.png"></div><br>  And that's what.  Facebook has (more precisely, it was, it is not working now, see the screenshot at the beginning of the post) <a href="https://www.facebook.com/help/288066747875915%3Fhelpref%3Dfaq_content">View As</a> function.  Available to all users, she allowed to see her profile as if another person was looking at him.  Because of the many privacy settings, this is quite a useful feature: it allows you to understand what outsiders see on your page and what doesn't. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div style="text-align:center;"><img src="https://habrastorage.org/webt/6y/x-/ep/6yx-epyv7xc4lifnt9fts9bwnau.png"></div><br>  An important point: the page can be viewed with the "eyes" of some random visitor, and you can show how it looks from the point of view of a particular user, with a first and last name.  It is this precision and summed up the developers under the monastery. <br><br>  According to Pedro Kanauati, Facebook's vice president of engineering, security and privacy, there are three different vulnerabilities.  First, there was a bug in the View As feature itself.  In theory, it should switch the Facebook context to another user in ‚Äúread only‚Äù mode, in the sense of ‚Äújust viewing the user's page under which you are logged in.‚Äù  In fact, in the View As mode, the field for posting was also generated.  Secondly, this field did not work (correctly) in all cases except one: when you want to congratulate the person on his birthday and post a video.  Thirdly, when posting a video, the code for downloading this video itself generated a token, which could also be used as an access token from a mobile application. <br><br>  That is, the scenario from the side of the attacker is approximately as follows.  You create a profile or change the settings of an existing one so that you have a birthday today (wiii!).  Using the function View As, open your profile on behalf of another user.  When displaying a profile on behalf of another user, he (this other user) is invited to wish you a happy birthday and to upload a cute video.  When loading a video, a token is generated.  You take this token from the page code and enter the mobile application on behalf of and with the rights of another user. <br><br>  Next begin a little speculation.  For example, do you need to be friends with the person on whose behalf you want to ‚Äúsee‚Äù your page?  Judging by the descriptions (now broken) features on third-party sites - it is necessary.  Now remember, how long have you been asked to become friends of you who are not known to you, but extremely persistent people?  Having access to the token of one user, you can steal the access keys to the account of one of his / her friends.  And so on, theoretically, to the extent limited by the theory of six handshakes.  That is almost unlimited scale. <br><br>  Cool, yeah?  Interestingly, the Facebook message, published on Friday evening (in Moscow), was anticipated by users' <a href="https://roem.ru/28-09-2018/274059/razloginilo-ne-prosto-tak/">complaints</a> that they were logged out from both Facebook and other services, for access to which the social network account was used.  These were the very precautions that Facebook applied to affected users. <br><br>  Or supposedly injured?  We must pay tribute to the experts of Facebook - they told about the detected vulnerabilities in the most detailed and operational manner.  On September 16, according to them, they noticed suspicious activity, on the 25th it became clear that what was happening, on September 28, the information was made public - immediately after the ‚Äúunlocking‚Äù of the victims (which made any stolen tokens useless).  But how exactly those most affected suffered - here Facebook was not very specific.  Perhaps they still do not know for sure. <br><br>  It is known that the vulnerability appeared in the service code in July 2017.  Last week, Facebook forcedly logged out 90 million users.  Of these, 40 million are those for which the View As feature was applied, that is, someone on their behalf was looking at their page, not necessarily with criminal intent.  Another 50 million are those affected by vulnerability.  So how "affected" something?  There is more information in the <a href="https://fbnewsroomus.files.wordpress.com/2018/09/9-28-press-call-transcript.pdf">decoding of the</a> press briefing: about 50 million Facebook users know that their tokens have been extracted.  That is (speculations!) Some people used the View As feature on their birthday, and then (maybe!) They came from the same IP to a different account.  And most likely, that ‚Äúsuspicious activity‚Äù of September 16, which was mentioned by representatives of the social network, was an attempt of mass automated exploitation of the bug, which was stopped in just over a week. <br><br>  In general, Facebook has responded very well to the problem.  He shared (as he could) detailed information, took measures regarding the victims (real or potential).  50 (or 90) million people on Facebook is a bit.  However, given the concern about the privacy of personal data given to social networks, it is understandable and heightened attention to this incident.  There are two positive moments.  First, the passwords were not stolen, and if any tools of unauthorized access to other accounts were available, they were destroyed by ‚Äúcarpet unlocking‚Äù.  Secondly, even if you were among the alleged victims, and even if someone really accessed your data, in their hands turned out to be not all that Facebook knew about you.  Because the real knowledge of Facebook users, even with the users themselves, is <a href="https://threatpost.ru/facebook-uses-2fa-phone-numbers-for-targeting/28477/">not shared</a> . <br><br>  And Twitter last week was lucky. <br><br><h2>  And what happened on Twitter? </h2><br>  <a href="https://threatpost.ru/twitter-api-bug-may-have-caused-data-leak/28387/">News</a>  Technical <a href="https://blog.twitter.com/developer/en_us/topics/tools/2018/details-for-developers-on-Account-Activity-API-bug.html">report of the</a> social network. <br><br>  In a sense, the bug found on Twitter is similar to what we found on Facebook.  The hole was found in the API, which allows companies to communicate with customers - in general, it is an interface for sending mass messages or receiving personal messages.  If you communicated with someone using this API, then under certain circumstances, your correspondence could be in the hands of a third party. <br><br>  Okay, even in this form it does not sound frightening.  Practice is even more boring.  First, only registered Twitter partners can use the API.  Secondly, in order for the bug to work and the private messages go <i>wrong</i> , both partners must (a) sit on the same IP, (b) work with the API using the URL that fully matches the <i>slash</i> (www.xxx.com/twitter_msg and <a href="http://www.yyy.com/twitter_msg">www.yyy .com / twitter_msg</a> is a coincidence), (c) unsuccessful access to Twitter servers in one piece of time, limited to six minutes. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/2x/2h/fu/2x2hfubtilf1srhd86bfdeofjgu.png"></div><br>  When all this coincides, the <s>carriage turns into a pumpkin. The</s> poorly tuned Twitter cache starts spitting messages anywhere, more precisely, in a strictly defined direction of the unique coincidence of pitfalls.  In general, it is not surprising that the bug in Facebook caused much more resonance than the Twitter hole, although the characteristics of both bugs are quite similar.  And there, and there, apparently, there was an oversight when updating the code in a complex infrastructure.  It is likely that someone cut off a couple of corners when they washed down a new feature in production: this often happens if a manager flies over you with the words ‚Äúquickly wash my birthday vidos!‚Äù. <br><br>  It affects the magnitude of the damage.  Take any company smaller, and the vulnerability of 5% of the audience no one would have noticed.  And here we are talking about tens of millions of people.  What about this to do?  The Kaspersky Lab blog is reasonably recommended not to do <a href="https://www.kaspersky.ru/blog/facebook-token-breach/21429/">anything</a> .  In the long term, I recommend the following exercise.  Whatever you send to the Internet, even to the most private-to-private service, imagine for a moment that you post the same message on all the pillars of your city.  If the message in such a context does not seem to be innocuous anymore, it may not be worth sending it. <br><br>  <i>Disclaimer: The opinions expressed in this digest may not always coincide with the official position of Kaspersky Lab.</i>  <i>Dear editors generally recommend to treat any opinions with healthy skepticism.</i> </div><p>Source: <a href="https://habr.com/ru/post/425039/">https://habr.com/ru/post/425039/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../425025/index.html">Golang testing outside gotour</a></li>
<li><a href="../425027/index.html">Development of GLSL shaders on Kotlin</a></li>
<li><a href="../425031/index.html">More practice! Teach the Spring Framework and profiling without any conferences</a></li>
<li><a href="../425033/index.html">Building a jetpack: JetPack Aviation Annual Report 2017</a></li>
<li><a href="../425037/index.html">IT Geek Hub news: how we made a cycle quest in Prague and what awaits you at the next meeting</a></li>
<li><a href="../425041/index.html">What is wrong with GraphQL</a></li>
<li><a href="../425043/index.html">Introduction to the development of a typical open source solution</a></li>
<li><a href="../425047/index.html">How does Robot Editing work in investments? Spoiler: just</a></li>
<li><a href="../425051/index.html">Review of the Dell XPS 13 9370 laptop: easy, beautiful, fast</a></li>
<li><a href="../425053/index.html">SSR: when, why and for what. On the example of Vue</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>