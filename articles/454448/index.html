<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The history of assembling a ‚Äúvillage supercomputer‚Äù from spare parts from eBay, Aliexpress and a computer store. Part 2</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day, dear Habrovchane! 

 Link to the first part of the story for those who missed it 

 I want to continue my story about the assembly of the ‚Äúv...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The history of assembling a ‚Äúvillage supercomputer‚Äù from spare parts from eBay, Aliexpress and a computer store. Part 2</h1><div class="post__text post__text-html js-mediator-article"> Good day, dear Habrovchane! <br><br>  <a href="https://habr.com/ru/post/454282/">Link to the first part of the story for those who missed it</a> <br><br>  I want to continue my story about the assembly of the ‚Äúvillage supercomputer‚Äù.  And I will explain why it is so named - the reason is simple.  I myself live in the village.  And the name is an easy trolling over those who scream on the Internet ‚ÄúThere is no life outside the Moscow Ring Road!‚Äù, ‚ÄúThe Russian village has drank and dies!‚Äù So, somewhere this may be so, and I will be the exception to the rule.  I do not drink, I do not smoke, I do things that are not for every ‚Äúcity cracker (c)‚Äù in my mind and pocket.  But back to our sheep, more precisely - the server, which at the end of the first part of the article already "showed signs of life." 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The board was lying on the table, I climbed the BIOS to tweak it to my liking, I rolled Ubuntu 16.04 Desktop for simplicity and decided to connect a video card to the ‚Äúsuper machine‚Äù.  But only the GTS 250 with a hefty non-native fan was stuck at hand.  Which I installed in PCI-E 16x slot near the power button. <br><a name="habracut"></a><br><img src="https://habrastorage.org/getpro/habr/post_images/2e9/3a3/210/2e93a321018a7f7d3ea8815a54d3605a.jpg" alt="image"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/7ce/c06/809/7cec068090718d7fe4705a2ebd355f5c.jpg" alt="image"><br><br>  "I took a pack of Belomor (c)" so please do not kick for the quality of the photo.  I would rather comment on what is imprinted on them. <br><br>  Firstly, it turned out that when installed in a slot, even a short video card rests against the memory slots with the board, in which for this occasion it cannot be installed and even has to lower the latches.  Secondly, the iron mounting plate of the video card closes the power button, so it had to be removed.  By the way, the power button itself is illuminated by a two-color LED that turns green when everything is in order and flashes orange if there are any problems, the circuit and the protection of the PSU or the + 12VSB power supply are over or under-charged. <br><br>  In fact, this motherboard is not designed so that video cards ‚Äúdirectly‚Äù are included in its PCI-E 16x slots, they all join on risers.  To install an expansion card in the slots near the power button, there are angular risers, low for installing short cards up to the first processor heatsink, and a high angle card with an additional + 12V power connector for installing the video card ‚Äúabove‚Äù with a regular low 1U cooler.  It can include large graphics cards like the GTX 780, GTX 980, GTX 1080, or specialized Nvidia Tesla K10-K20-K40 GPGPU cards or Intel Xeon Phi 5110p "compute cards" and the like. <br><br>  But in GPGPU-riser, the card included in EdgeSlot can be turned on directly, only by connecting additional power with the same connector as on a high-angle riser.  Who cares - on eBay this flexible riser is called ‚ÄúDell PowerEdge C8220X PCI-E GPGPU DJC89‚Äù and costs about 2.5-3 thousand rubles.  Corner risers with extra power are much more rare and I had to arrange to buy them from a specialized store of server parts through Shopota.  They went to 7 thousand apiece. <br><br>  I‚Äôll say at once that ‚Äúrisky guys (tm)‚Äù can even connect a pair of GTX 980 to a motherboard with Chinese flexible risers 16x as one person did on the ‚ÄúTom Forum itself‚Äù, the Chinese, by the way, do quite nicely working on ThermalTack flexibles for PCI-E 16x risers, but if you once run out of such a power supply circuit on the server board - you will only blame yourself.  I did not risk expensive equipment and used original risers with additional power and one Chinese flexible, considering that the connection of one card "directly" does not burn the board. <br><br>  Then the long-awaited connectors for additional power came, and I made the tail for my riser in EdgeSlot.  And this is the same connector, but with a different pinout used to apply additional power to the motherboard.  This connector is just near this very EdgeSlot connector, there is an interesting pinout.  If on the riser there are 2 wires +12 and 2 common, then on the board there are 3 wires +12 and 1 common. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/01f/4cd/644/01f4cd644adc03592078836e2f631a73.jpg" alt="image"><br><br>  That's actually the very GTS 250 is included in the GPGPU-riser.  Additional power, by the way, is taken on risers and motherboard - from the second power connector + 12V CPU of my PSU.  I decided that it would be more correct. <br><br>  The fairy tale is quickly felt, but slowly the parcels are traveling to Russia from China and other places on the globe.  Therefore, in the assembly of "supercomputer" there were large gaps.  But finally, the server-side Nvidia Tesla K20M came to me with a passive radiator.  And absolutely zero, from storage, sealed in the native box, in the native package, with warranty notes.  And the suffering began how to cool it? <br><br>  First, a custom cooler with two small ‚Äúturbines‚Äù was bought from England, here it is in the photo, with a homemade cardboard diffuser. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/596/abe/be6/596abebe6bf74ff9036bc28337bd69d0.jpg" alt="image"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/bb6/c88/6f9/bb6c886f937ff33ff4b48272b7a44cc9.jpg" alt="image"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/854/44a/d72/85444ad727d4312a4e90c4b17942fac8.jpg" alt="image"><br><br>  And they turned out to be a complete crap.  They made a lot of noise, the mount didn‚Äôt fit at all, they blew weakly and gave such a vibration that I was afraid that the components would fall off the Tesla board!  Why they were sent to the trash almost immediately. <br><br>  By the way, in the photo under Tesla, the LGA 2011 1U server-mounted copper radiators with a snail from Coolerserver purchased from Aliexpress are visible on the processors.  Very worthy though noisy coolers.  They fit perfectly. <br><br>  But actually, while I was waiting for a new cooler on Tesla, this time having ordered a snail from Australia already, a large BFB1012 N with a mount printed on a 3D printer, it came to the server‚Äôs storage system.  On the server board there is a mini-SAS connector through which 4 SATA and 2 more SATA conventional connectors are derived.  All SATA standard 2.0 but it suits me. <br><br>  The Intel C602 integrated into the RAID chipset is not bad, and the main thing is that the TRIM command for the SSD is missing, that external RAID controllers are not expensive at many. <br><br>  On eBay, I bought a mini-SAS to 4 SATA cable with a meter length, and on Avito, a hot-swap basket in the 5.25 "compartment for 4 x 2.5" SAS-SATA.  So when the cable and the basket arrived - 4 Terabyte Seigates were installed in it, RAID5 was assembled into 4 BIOSes in the BIOS, I started to install the server Ubuntu ... and stumbled into the fact that the disk layout program did not allow the swap partition to be made on the raid. <br><br>  I solved the problem in the forehead - I bought an adapter ASUS HYPER M.2 x 4 MINI and M.2 SSD Samsung 960 EVO 250 Gb in DNS PCI-E to M.2. Decide that under the swap you need to select the maximum speed device, since the system will work with high computational load, and the memory is still obviously smaller than the size of the data.  Yes, and 256 GB of memory was more expensive than this SSD. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4be/17c/c05/4be17cc052bc3649c24bcad0b23c9e3c.jpg" alt="image"><br><br>  This is the very adapter with an installed SSD in a low angle riser. <br><br>  Anticipating the questions - ‚ÄúWhy not make the whole system on M.2 and have a maximum access speed higher than that of a SATA raid?‚Äù I will answer.  Firstly for 1 or more TB M2 SSD are too expensive for me.  Secondly, even after updating the BIOS to the latest version 2.8.1, the server still does not support loading NVE devices into M.2.  I did the experience when the system put / boot on USB FLASH 64 Gb and everything else on M.2 SSD, but I did not like it.  Although, in principle, such a bundle is quite efficient.  If M.2 NVE large capacity cheaper - I might go back to this option, but for now SATA RAID as a storage system suits me perfectly. <br>  When I decided on a disk subsystem to come up with a combination of 2 x SSD Kingston 240 Gb RAID1 "/" + 4 x HDD Seagate 1 Tb RAID5 "/ home" + M.2 SSD Samsung 960 EVO 250 Gb "swap" it was time to continue my experiments with GPU.  I already had a Tesla and just arrived an Australian cooler with an ‚Äúevil‚Äù snail eating already 2.94A by 12V, the second slot occupied M.2 and for the third I borrowed GT 610 for the experiments. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4dd/ac5/95e/4ddac595e31134f633346592f91fd3a6.jpg" alt="image"><br><br>  Here, in the photo, all 3 devices are connected, with M.2 SSD through a flexible ThermalTack riser for video cards that works on the 3.0 bus without errors.  It is one of the many individual "ribbons" in the likeness of those of which SATA cables are made.  PCI-E 16x risers made from a monolithic flat cable seem to be like the old IDE-SCSI - into the firebox, they are tortured with errors due to mutual pickups.  And as I said, the Chinese are now also making such risers like Thermaltak, but shorter. <br><br>  In combination with the Tesla K20 + GT 610, I tried a lot of things, at the same time finding out that when connecting an external video card and switching to its output in the BIOS, vKVM does not work, which didn‚Äôt really upset me.  I didn‚Äôt plan to use external video on this system anyway, there are no video outputs on Teslah, and remote SSH admin panel without X-Owls works fine when you‚Äôll remember a bit what a command line is without GUI.  But IPMI + vKVM greatly simplifies management, reinstallation and other moments with a remote server. <br><br>  In general, this IPMI board is gorgeous.  A separate 100 Mb port, the ability to reconfigure packet injection into one of 10 Gbps ports, a built-in Web server for power management and server control, download a vKVM Java client and a remote mount client or images for reinstalling directly from it ... The only thing is that the clients are old Java Oraklovskaya, which is no longer supported in Linux and for the remote admin it was necessary to start a laptop with Win XP SP3 with this very ancient Toad.  Well, the client is slow, for the admin and all this is enough, but you can not play remotely with toys, FPS is small.  And the ASPEED video that is integrated with IPMI is weak, only VGA. <br><br>  During the trial with the server, I learned a lot and learned a lot in the field of professional server hardware from Dell.  What I do not regret at all, as well as about the time spent with the use of time and money.  The continuation of the cognitive story about the actual assembly of the frame with all the components of the server will be later. <br><br>  Link to part 3: <a href="https://habr.com/ru/post/454480/">habr.com/en/post/454480</a> </div><p>Source: <a href="https://habr.com/ru/post/454448/">https://habr.com/ru/post/454448/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../454436/index.html">Small python joy # 1: loguru</a></li>
<li><a href="../454440/index.html">Little Python Joy # 2: Starlette</a></li>
<li><a href="../454442/index.html">How to choose a proxy network for business: 3 practical advice</a></li>
<li><a href="../454444/index.html">We profile Habr's download or how 189 requests for render pages affect</a></li>
<li><a href="../454446/index.html">What's new in C # 8?</a></li>
<li><a href="../45445/index.html">International Nanotechnology Forum, Moscow</a></li>
<li><a href="../454450/index.html">How Edison Invented Wireless and Did Not Understand It</a></li>
<li><a href="../454456/index.html">Training Cisco 200-125 CCNA v3.0. Day 7. FAQ</a></li>
<li><a href="../454458/index.html">Metamorphic testing: why almost no one knows about this promising method</a></li>
<li><a href="../45446/index.html">Opera Mini 4.2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>