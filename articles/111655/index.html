<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Non-functional unit testing - "the main thing to shine." Part 2</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Last year I wrote a short note about nonfunctional testing - i.e. about tests trying to identify an ugly and difficult to maintain code. Of course, su...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Non-functional unit testing - "the main thing to shine." Part 2</h1><div class="post__text post__text-html js-mediator-article"> Last year I wrote a <a href="http://community.livejournal.com/ru_perl/383519.html">short note</a> about nonfunctional testing - i.e.  about tests trying to identify an ugly and difficult to maintain code.  Of course, such tests do not guarantee an ideal code, but they will provide some minimum quality level.  despite the obviousness of the requirements of these tests, many ignore them and then have to understand the procedures for 5,000 lines. <br>  The note in LiveJournal did not cause the expected feedback from me (I would like to know what I missed), so despite the resistance of Habr I decided to post a sequel here (thanks to the people who added karmas). <br>  Since the publication of the first note, the following changes have occurred: <a name="habracut"></a><br>  - added a test for cyclomatic complexity and the number of lines of a block of code (04_complexity.t); for cyclomatic complexity, the maximum was set to 20 (some suggest 30, but this each corrects - an increase in the probability of an erroneous fix, see <a href="http://www.aivosto.com/project/help/pm-complexity.html">here</a> ), the maximum number of lines in a block is set at random - 50, edit by yourself, but remember - if there are nested branches in the block and it needs to be scrolled on the screen, then it is already inefficient. <br>  - added test for use warnings (05_warnings.t) <br>  - the varnings in 08-code-coverage.t only appear on FreeBSD for me, on Ubuntu the test works fine, but I had to reduce the amount of coverage <br>  - the result was posted on <a href="https://github.com/worldmind/perl-test-code-quality-template/">github</a> <br> <code>git clone git@github.com:worldmind/perl-test-code-quality-template.git</code> <br> <br>  What do we know if all tests passed successfully? <br>  We know that: <br>  - the code is compiled without errors <br>  - strict pragmas are included <br>  - no FIXME left <br>  - <a href="http://search.cpan.org/perldoc%3FPerl::Critic">Perl :: Critic</a> believes that our code complies with Perl Best Practice <br>  - cyclomatic complexity and the number of lines of the function (or code outside the function) do not exceed the threshold values <br>  - there is POD in the code, it is correct and covers all functions <br>  - a certain percentage of code is covered by tests <br>  - distribution kit complies with CPAN formal requirements <br><br><br>  It would be necessary to check the maximum nesting of conditions (5) and cycles (2) and maybe some more <a href="http://ru.wikipedia.org/wiki/%25D0%259C%25D0%25B5%25D1%2582%25D1%2580%25D0%25B8%25D0%25BA%25D0%25B0_%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25BD%25D0%25BE%25D0%25B3%25D0%25BE_%25D0%25BE%25D0%25B1%25D0%25B5%25D1%2581%25D0%25BF%25D0%25B5%25D1%2587%25D0%25B5%25D0%25BD%25D0%25B8%25D1%258F">code metrics</a> , but I haven‚Äôt yet found the finished module, you may need to write. <br><br>  upd.  there is already a patch from <a href="https://github.com/cub-uanic">cub.uanic</a> , tomorrow I'll take a look - kind of useful </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/111655/">https://habr.com/ru/post/111655/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../111647/index.html">Google docs viewer</a></li>
<li><a href="../111649/index.html">Selenium: waiting for all AJAX requests to complete</a></li>
<li><a href="../111650/index.html">Hackers infiltrated the systems of a nuclear power plant in Iran. Who can stand behind it?</a></li>
<li><a href="../111652/index.html">PPSC and SMM</a></li>
<li><a href="../111653/index.html">Inventory of enterprise software using Kaspersky Anti-Virus</a></li>
<li><a href="../111656/index.html">Book with Bayesian statistics banned in China</a></li>
<li><a href="../111658/index.html">CSS3 now - transition</a></li>
<li><a href="../111661/index.html">The contest is over - we announce the winners.</a></li>
<li><a href="../111663/index.html">The most promising jobs in Canada in 2011</a></li>
<li><a href="../111664/index.html">Software engineer and mathematician - the best professions of 2011 in the USA</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>