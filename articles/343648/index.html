<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The battlefield is augmented reality. Part II: how to recognize the object and show the 3D model</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the previous article we learned the basics of the process. Now you can begin to consider the case. If you missed the beginning - it does not matter...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The battlefield is augmented reality. Part II: how to recognize the object and show the 3D model</h1><div class="post__text post__text-html js-mediator-article">  In the previous article we learned the basics of the process.  Now you can begin to consider the case.  If you missed the beginning - it does not matter, click on the <a href="https://habrahabr.ru/post/342950/">link</a> and catch up. <br><br>  Case is taken from real life, so it is important to say about the conditions that the customer has set before us.  Individually, these conditions do not seem so impossible, but together they complicate the task. <br><br><ul><li>  Tasks must be performed within a single multiplatform solution.  (iOS / Android). </li><li>  Images and objects for recognition can be changed with one click. </li><li>  3D models and animation should be loaded simply without dancing with vertices and polygons. </li><li>  3D models must respond to a click. </li></ul><br><h3>  We divided the work process into the following steps: </h3><br><ul><li>  Recognize an image or object.  After recognition on this place to display the model with a 3D object. </li><li>  Display a 3D object on the screen, similar to ‚Äúpokemon go‚Äù, without being tied to a specific place.  When clicked, the animation is played. </li><li>  Show a 3D object at the given coordinates as a POI (point of interest). </li></ul><br>  Let's analyze the first part, namely, learn to recognize the image and display in its place a 3D object. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><h2>  Platform Selection </h2><br>  While working on the case, I went into the ARKit beta and we managed to dig a little in it.  This is quite a powerful tool, but even such a cool SDK like ARKit does not have an object recognition system.  It contains the so-called "plane detection" - it recognizes the floor or another horizontal plane. <br><br>  If you prefer, you can use ARKit as the basis for solving the task, but we need to add OpenCV here for object recognition, and most likely Unity, for loading GUI components.  The funny thing is that go and find a multiplatform solution that can recognize the floor, because even ARKit is not doing so well with it. <br><br>  It became clear to us that the native solution is not suitable due to the complexity and diversity of the case.  The solution would be to break the project into two parts and do everything for each platform. <br>  There was still a whole breakthrough ahead of us and I wanted to reduce the amount of our work so that the framework for working with add.  made all the dirty work for us. <br><br>  Knowing how much work the project ultimately resulted in, I‚Äôll say that I don‚Äôt regret it one iota about the chosen solution. <br><br><cut></cut><h2>  What we worked with </h2><br>  There are a lot of technologies for AR, we stopped at the Wikitude SDK and SLAM. <br><br>  Why?  Everything is very simple: <br><br>  SLAM (simultaneous localization &amp; mapping), in contrast to the marker-based, allows you not to bind the displayed 3D object to a specific image.  These two distinct approaches influence the position of the object‚Äôs coordinates relative to the world.  Also, before starting work, I recommend to get acquainted with the Wikitude SDK framework on the <a href="https://www.wikitude.com/">official website</a> . <br><br>  Table comparing frameworks for working with AR: <br><img src="https://habrastorage.org/getpro/habr/post_images/97b/38a/6dd/97b38a6dd6ff5b7606f9f16ceb888fae.png" alt="image"><br><br><h3>  Implementation </h3><br>  Even the simplest explanations always take a lot of time, so further only the code and strictly on implementation. <br><br>  First of all, I highly recommend reading the <a href="http://www.wikitude.com/external/doc/documentation/latest/ios/">documentation</a> . <br><br>  We have a multiplatform solution, so we use JS.  You can take as a basis a finished application with examples, the whole basis for calling modules with JS code has been prepared there. <br><br>  The example has already added the Examples.plist file.  Let's take a look inside, edit for our needs and find out what it is for: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3a2/c0f/951/3a2c0f95187bc9b044acefb662ebbb92.png" alt="image"><br><br>  Accordingly, we will get a folder with a module under JS with the same path: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d45/aba/1aa/d45aba1aa796ce51d098d7b4bb6a6d08.png" alt="image"><br><br><cut></cut><h3>  We get the key </h3><br>  In addition to start you should get a key and use it in the code.  Without a key will work, but on the whole screen there will be an inscription "trial". <br><br><div class="oembed"><script type="text/javascript" src="https://gist.github.com/ed59b4150c368ffdfe18578fefaaaae5.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-b3b573358bfc66d89e1e95dbf8319c09.css"><div id="gist83505206" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-wtaugmentedrealityexperience-m" class="file">
    

  <div itemprop="text" class="blob-wrapper data type-objective-c ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-wtaugmentedrealityexperience-m-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-wtaugmentedrealityexperience-m-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k">@class</span> WTAugmentedRealityExperience;</td>
      </tr>
      <tr>
        <td id="file-wtaugmentedrealityexperience-m-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-wtaugmentedrealityexperience-m-LC2" class="blob-code blob-code-inner js-file-line"> </td>
      </tr>
      <tr>
        <td id="file-wtaugmentedrealityexperience-m-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-wtaugmentedrealityexperience-m-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">/*</span>*</span></td>
      </tr>
      <tr>
        <td id="file-wtaugmentedrealityexperience-m-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-wtaugmentedrealityexperience-m-LC4" class="blob-code blob-code-inner js-file-line"><span class="pl-c"> * WTAugmentedRealityViewController class</span></td>
      </tr>
      <tr>
        <td id="file-wtaugmentedrealityexperience-m-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-wtaugmentedrealityexperience-m-LC5" class="blob-code blob-code-inner js-file-line"><span class="pl-c"> *</span></td>
      </tr>
      <tr>
        <td id="file-wtaugmentedrealityexperience-m-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-wtaugmentedrealityexperience-m-LC6" class="blob-code blob-code-inner js-file-line"><span class="pl-c"> * This class manages a instance of the WTArchitectView class.</span></td>
      </tr>
      <tr>
        <td id="file-wtaugmentedrealityexperience-m-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-wtaugmentedrealityexperience-m-LC7" class="blob-code blob-code-inner js-file-line"><span class="pl-c"> * It can receive a object of type WTAugmentedRealityExperience which includes information from where the architect view should loaded the Architect World.</span></td>
      </tr>
      <tr>
        <td id="file-wtaugmentedrealityexperience-m-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-wtaugmentedrealityexperience-m-LC8" class="blob-code blob-code-inner js-file-line"><span class="pl-c"> * Also application lifecycle events like UIApplicationWillResignActiveNotification or UIApplicationDidBecomeActiveNotification are handled internally to pause/resume the architect view when the application switches its state.</span></td>
      </tr>
      <tr>
        <td id="file-wtaugmentedrealityexperience-m-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-wtaugmentedrealityexperience-m-LC9" class="blob-code blob-code-inner js-file-line"><span class="pl-c"> <span class="pl-c">*/</span></span></td>
      </tr>
      <tr>
        <td id="file-wtaugmentedrealityexperience-m-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-wtaugmentedrealityexperience-m-LC10" class="blob-code blob-code-inner js-file-line"><span class="pl-k">@interface</span> <span class="pl-en">WTAugmentedRealityViewController</span> : <span class="pl-e">UIViewController</span> &lt;WTArchitectViewDelegate, UIGestureRecognizerDelegate&gt;</td>
      </tr>
      <tr>
        <td id="file-wtaugmentedrealityexperience-m-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-wtaugmentedrealityexperience-m-LC11" class="blob-code blob-code-inner js-file-line"> </td>
      </tr>
      <tr>
        <td id="file-wtaugmentedrealityexperience-m-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-wtaugmentedrealityexperience-m-LC12" class="blob-code blob-code-inner js-file-line"><span class="pl-k">@property</span> (<span class="pl-k">nonatomic</span>, <span class="pl-k">weak</span>) <span class="pl-k">IBOutlet</span> WTArchitectView *architectView;</td>
      </tr>
      <tr>
        <td id="file-wtaugmentedrealityexperience-m-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-wtaugmentedrealityexperience-m-LC13" class="blob-code blob-code-inner js-file-line"> </td>
      </tr>
      <tr>
        <td id="file-wtaugmentedrealityexperience-m-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-wtaugmentedrealityexperience-m-LC14" class="blob-code blob-code-inner js-file-line">- (<span class="pl-k">void</span>)<span class="pl-en">loadAugmentedRealityExperience</span><span class="pl-en">:</span>(WTAugmentedRealityExperience *)<span class="pl-smi">experience</span> <span class="pl-en">showOnlyBackButton</span><span class="pl-en">:</span>(<span class="pl-c1">BOOL</span>)<span class="pl-smi">showBackButtonOnlyInNavigationItem</span>;</td>
      </tr>
      <tr>
        <td id="file-wtaugmentedrealityexperience-m-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-wtaugmentedrealityexperience-m-LC15" class="blob-code blob-code-inner js-file-line"> </td>
      </tr>
      <tr>
        <td id="file-wtaugmentedrealityexperience-m-L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="file-wtaugmentedrealityexperience-m-LC16" class="blob-code blob-code-inner js-file-line"><span class="pl-k">@end</span></td>
      </tr>
      <tr>
        <td id="file-wtaugmentedrealityexperience-m-L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="file-wtaugmentedrealityexperience-m-LC17" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-wtaugmentedrealityexperience-m-L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="file-wtaugmentedrealityexperience-m-LC18" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">//</span>    viewDidLoad</span></td>
      </tr>
      <tr>
        <td id="file-wtaugmentedrealityexperience-m-L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="file-wtaugmentedrealityexperience-m-LC19" class="blob-code blob-code-inner js-file-line">[<span class="pl-c1">self</span>.architectView <span class="pl-c1">setLicenseKey:</span><span class="pl-c1">kWT_LICENSE_KEY</span>];</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right">view raw</a>
        <a href="">WTAugmentedRealityExperience.m</a>
        hosted with ‚ù§ by <a href="">GitHub</a>
      </div>
    </div>
</div>
</div><br>  Example Wikitude is organized as a table with cells.  Each cell is represented by a model of type WTAugumentedRealityExperience.  Do you remember a bit earlier we looked at the contents of the Examples.plist file?  So each element of this sheet is the representation of the WTAugumentedRealityExperience object. <br><br>  Please take a look at the picture.  On it you will see the designer of this model.  Files from the aforementioned .plist are transferred to it.  Small world! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9dd/7dc/8e2/9dd7dc8e2b0fa97cee190160a770f02e.png" alt="image"><br><br><h3>  Load the picture </h3><br>  Let's start by downloading the pattern for recognition.  To do this, we go to the site of a special tool <a href="https%253A%252F%252Ftargetmanager.wikitude.com%252F">wikitude target manager</a> . <br><br>  After registration create a new project. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/993/478/965/99347896584a02772a35a4cd2f44b46e.png" alt="image"><br><br>  Interestingly, when adding a 3D object, we will need to upload a video in which this object was shot.  This is especially useful for creating a very accurate pattern of an object for recognition.  On their website, they show the fire engine, in which you can turn on the siren when you click on the recognized car. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e76/71b/348/e7671b348527bc1e980f31158fcd9e23.jpg" alt="image"><br><br>  An example of shooting a video.  The machine is on a spinning tray, shooting comes from all angles. <br><br>  After creating the project, we add to it all the objectives for recognition.  One project may contain several goals.  This is also because right there you can add animation or objects accompanying the recognition. <br><br>  By adding pictures for recognition, they are rated by the system on a scale from 0 to 3. From "not at all suitable" to "very suitable." <br><br>  General tips: <br><br><ul><li>  More contrast in the picture. </li><li>  In addition to the text should be graphic material. </li><li>  jpg size from 500 to 1000 pixels. </li><li>  Remove empty spaces. </li><li>  Just the logo is not enough, add additional graphic material. </li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/26b/2d1/a2b/26b2d1a2bd657dc856e71542ecd2929d.png" alt="image"><br><br>  The image above is the picture we uploaded.  Heat map and rating included. <br><br>  What the editor looks like from the inside: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/962/57b/b9b/96257bb9bb09b9906745e24887d209f5.png" alt="image"><br><br>  It is important that Augmentations objects can or may not be used.  We will talk about this a little later, when the conversation turns to the display of 3D objects and animation. <br><br>  In the upper left corner there are two icons: the first for cloud recognition, the second for offline recognition.  We download the file in the second version and get the output * .wtc format.  (Wikitude target collection). <br><br>  Add a file to our project and go write code. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/07e/178/939/07e1789397109e253474e02f3de32ff8.png" alt="image"><br><br><div class="oembed"><script type="text/javascript" src="https://gist.github.com/85238a59bf367ee7147e6435037cea6e.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-b3b573358bfc66d89e1e95dbf8319c09.css"><div id="gist83504886" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-recognition-js" class="file">
    

  <div itemprop="text" class="blob-wrapper data type-javascript ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-recognition-js-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-recognition-js-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-en">init</span><span class="pl-k">:</span> <span class="pl-k">function</span> <span class="pl-en">initFn</span>() {</td>
      </tr>
      <tr>
        <td id="file-recognition-js-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-recognition-js-LC2" class="blob-code blob-code-inner js-file-line">	<span class="pl-c"><span class="pl-c">//</span>   wtc   targetCollectionResource.</span></td>
      </tr>
      <tr>
        <td id="file-recognition-js-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-recognition-js-LC3" class="blob-code blob-code-inner js-file-line">	<span class="pl-c1">this</span>.<span class="pl-smi">targetCollectionResource</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">AR.TargetCollectionResource</span>(<span class="pl-s"><span class="pl-pds">"</span>assets/transformer_tracker.wtc<span class="pl-pds">"</span></span>, {</td>
      </tr>
      <tr>
        <td id="file-recognition-js-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-recognition-js-LC4" class="blob-code blob-code-inner js-file-line">									    <span class="pl-en">onError</span><span class="pl-k">:</span> <span class="pl-k">function</span>(<span class="pl-smi">errorMessage</span>) {</td>
      </tr>
      <tr>
        <td id="file-recognition-js-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-recognition-js-LC5" class="blob-code blob-code-inner js-file-line">										<span class="pl-en">alert</span>(errorMessage);</td>
      </tr>
      <tr>
        <td id="file-recognition-js-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-recognition-js-LC6" class="blob-code blob-code-inner js-file-line">									    }</td>
      </tr>
      <tr>
        <td id="file-recognition-js-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-recognition-js-LC7" class="blob-code blob-code-inner js-file-line">									});</td>
      </tr>
      <tr>
        <td id="file-recognition-js-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-recognition-js-LC8" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-recognition-js-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-recognition-js-LC9" class="blob-code blob-code-inner js-file-line">	<span class="pl-c"><span class="pl-c">//</span>    ImageTracker,       . </span></td>
      </tr>
      <tr>
        <td id="file-recognition-js-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-recognition-js-LC10" class="blob-code blob-code-inner js-file-line">	<span class="pl-c"><span class="pl-c">//</span>            .</span></td>
      </tr>
      <tr>
        <td id="file-recognition-js-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-recognition-js-LC11" class="blob-code blob-code-inner js-file-line">	<span class="pl-c1">this</span>.<span class="pl-smi">tracker</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">AR.ImageTracker</span>(<span class="pl-c1">this</span>.<span class="pl-smi">targetCollectionResource</span>, {</td>
      </tr>
      <tr>
        <td id="file-recognition-js-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-recognition-js-LC12" class="blob-code blob-code-inner js-file-line">					       onError<span class="pl-k">:</span> <span class="pl-c1">this</span>.<span class="pl-smi">trackerError</span></td>
      </tr>
      <tr>
        <td id="file-recognition-js-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-recognition-js-LC13" class="blob-code blob-code-inner js-file-line">					   });</td>
      </tr>
      <tr>
        <td id="file-recognition-js-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-recognition-js-LC14" class="blob-code blob-code-inner js-file-line">	}</td>
      </tr>
      <tr>
        <td id="file-recognition-js-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-recognition-js-LC15" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="file-recognition-js-L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="file-recognition-js-LC16" class="blob-code blob-code-inner js-file-line">	<span class="pl-c"><span class="pl-c">//</span> Backdrop.png      , </span></td>
      </tr>
      <tr>
        <td id="file-recognition-js-L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="file-recognition-js-LC17" class="blob-code blob-code-inner js-file-line">	<span class="pl-c"><span class="pl-c">//</span>         </span></td>
      </tr>
      <tr>
        <td id="file-recognition-js-L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="file-recognition-js-LC18" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">var</span> backdropImg <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">AR.ImageResource</span>(<span class="pl-s"><span class="pl-pds">"</span>assets/backdrop.png<span class="pl-pds">"</span></span>);</td>
      </tr>
      <tr>
        <td id="file-recognition-js-L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="file-recognition-js-LC19" class="blob-code blob-code-inner js-file-line"> </td>
      </tr>
      <tr>
        <td id="file-recognition-js-L20" class="blob-num js-line-number" data-line-number="20"></td>
        <td id="file-recognition-js-LC20" class="blob-code blob-code-inner js-file-line">	<span class="pl-c"><span class="pl-c">//</span> ImageDrawable        </span></td>
      </tr>
      <tr>
        <td id="file-recognition-js-L21" class="blob-num js-line-number" data-line-number="21"></td>
        <td id="file-recognition-js-LC21" class="blob-code blob-code-inner js-file-line">	<span class="pl-c"><span class="pl-c">//</span> ImageDrawable ( imageResource,  height, options )</span></td>
      </tr>
      <tr>
        <td id="file-recognition-js-L22" class="blob-num js-line-number" data-line-number="22"></td>
        <td id="file-recognition-js-LC22" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">var</span> backdrop <span class="pl-k">=</span> [<span class="pl-k">new</span> <span class="pl-en">AR.ImageDrawable</span>(backdropImg, <span class="pl-c1">2</span>)];</td>
      </tr>
      <tr>
        <td id="file-recognition-js-L23" class="blob-num js-line-number" data-line-number="23"></td>
        <td id="file-recognition-js-LC23" class="blob-code blob-code-inner js-file-line"> </td>
      </tr>
      <tr>
        <td id="file-recognition-js-L24" class="blob-num js-line-number" data-line-number="24"></td>
        <td id="file-recognition-js-LC24" class="blob-code blob-code-inner js-file-line">	<span class="pl-c"><span class="pl-c">//</span>  3 </span></td>
      </tr>
      <tr>
        <td id="file-recognition-js-L25" class="blob-num js-line-number" data-line-number="25"></td>
        <td id="file-recognition-js-LC25" class="blob-code blob-code-inner js-file-line">	<span class="pl-c1">this</span>.<span class="pl-smi">modelCar</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">AR.Model</span>(<span class="pl-s"><span class="pl-pds">"</span>assets/car.wt3<span class="pl-pds">"</span></span>, {</td>
      </tr>
      <tr>
        <td id="file-recognition-js-L26" class="blob-num js-line-number" data-line-number="26"></td>
        <td id="file-recognition-js-LC26" class="blob-code blob-code-inner js-file-line">				onLoaded<span class="pl-k">:</span> <span class="pl-c1">this</span>.<span class="pl-smi">loadingStep</span>,</td>
      </tr>
      <tr>
        <td id="file-recognition-js-L27" class="blob-num js-line-number" data-line-number="27"></td>
        <td id="file-recognition-js-LC27" class="blob-code blob-code-inner js-file-line">				scale<span class="pl-k">:</span> {</td>
      </tr>
      <tr>
        <td id="file-recognition-js-L28" class="blob-num js-line-number" data-line-number="28"></td>
        <td id="file-recognition-js-LC28" class="blob-code blob-code-inner js-file-line">					x<span class="pl-k">:</span> <span class="pl-c1">0.045</span>,</td>
      </tr>
      <tr>
        <td id="file-recognition-js-L29" class="blob-num js-line-number" data-line-number="29"></td>
        <td id="file-recognition-js-LC29" class="blob-code blob-code-inner js-file-line">					y<span class="pl-k">:</span> <span class="pl-c1">0.045</span>,</td>
      </tr>
      <tr>
        <td id="file-recognition-js-L30" class="blob-num js-line-number" data-line-number="30"></td>
        <td id="file-recognition-js-LC30" class="blob-code blob-code-inner js-file-line">					z<span class="pl-k">:</span> <span class="pl-c1">0.045</span></td>
      </tr>
      <tr>
        <td id="file-recognition-js-L31" class="blob-num js-line-number" data-line-number="31"></td>
        <td id="file-recognition-js-LC31" class="blob-code blob-code-inner js-file-line">				},</td>
      </tr>
      <tr>
        <td id="file-recognition-js-L32" class="blob-num js-line-number" data-line-number="32"></td>
        <td id="file-recognition-js-LC32" class="blob-code blob-code-inner js-file-line">				translate<span class="pl-k">:</span> {</td>
      </tr>
      <tr>
        <td id="file-recognition-js-L33" class="blob-num js-line-number" data-line-number="33"></td>
        <td id="file-recognition-js-LC33" class="blob-code blob-code-inner js-file-line">					x<span class="pl-k">:</span> <span class="pl-c1">0.0</span>,</td>
      </tr>
      <tr>
        <td id="file-recognition-js-L34" class="blob-num js-line-number" data-line-number="34"></td>
        <td id="file-recognition-js-LC34" class="blob-code blob-code-inner js-file-line">					y<span class="pl-k">:</span> <span class="pl-c1">0.05</span>,</td>
      </tr>
      <tr>
        <td id="file-recognition-js-L35" class="blob-num js-line-number" data-line-number="35"></td>
        <td id="file-recognition-js-LC35" class="blob-code blob-code-inner js-file-line">					z<span class="pl-k">:</span> <span class="pl-c1">0.0</span></td>
      </tr>
      <tr>
        <td id="file-recognition-js-L36" class="blob-num js-line-number" data-line-number="36"></td>
        <td id="file-recognition-js-LC36" class="blob-code blob-code-inner js-file-line">				},</td>
      </tr>
      <tr>
        <td id="file-recognition-js-L37" class="blob-num js-line-number" data-line-number="37"></td>
        <td id="file-recognition-js-LC37" class="blob-code blob-code-inner js-file-line">				rotate<span class="pl-k">:</span> {</td>
      </tr>
      <tr>
        <td id="file-recognition-js-L38" class="blob-num js-line-number" data-line-number="38"></td>
        <td id="file-recognition-js-LC38" class="blob-code blob-code-inner js-file-line">					z<span class="pl-k">:</span> <span class="pl-k">-</span><span class="pl-c1">25</span></td>
      </tr>
      <tr>
        <td id="file-recognition-js-L39" class="blob-num js-line-number" data-line-number="39"></td>
        <td id="file-recognition-js-LC39" class="blob-code blob-code-inner js-file-line">				}</td>
      </tr>
      <tr>
        <td id="file-recognition-js-L40" class="blob-num js-line-number" data-line-number="40"></td>
        <td id="file-recognition-js-LC40" class="blob-code blob-code-inner js-file-line">			});</td>
      </tr>
      <tr>
        <td id="file-recognition-js-L41" class="blob-num js-line-number" data-line-number="41"></td>
        <td id="file-recognition-js-LC41" class="blob-code blob-code-inner js-file-line"> </td>
      </tr>
      <tr>
        <td id="file-recognition-js-L42" class="blob-num js-line-number" data-line-number="42"></td>
        <td id="file-recognition-js-LC42" class="blob-code blob-code-inner js-file-line">	<span class="pl-c"><span class="pl-c">//</span> ImageTrackable   ,       , </span></td>
      </tr>
      <tr>
        <td id="file-recognition-js-L43" class="blob-num js-line-number" data-line-number="43"></td>
        <td id="file-recognition-js-LC43" class="blob-code blob-code-inner js-file-line">	<span class="pl-c"><span class="pl-c">//</span>  transformer_low   ‚Äú*‚Äù </span></td>
      </tr>
      <tr>
        <td id="file-recognition-js-L44" class="blob-num js-line-number" data-line-number="44"></td>
        <td id="file-recognition-js-LC44" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">var</span> overlay <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">AR.ImageTrackable</span>(<span class="pl-c1">this</span>.<span class="pl-smi">tracker</span>, <span class="pl-s"><span class="pl-pds">"</span>transformer_low<span class="pl-pds">"</span></span>, {</td>
      </tr>
      <tr>
        <td id="file-recognition-js-L45" class="blob-num js-line-number" data-line-number="45"></td>
        <td id="file-recognition-js-LC45" class="blob-code blob-code-inner js-file-line">						drawables<span class="pl-k">:</span> {</td>
      </tr>
      <tr>
        <td id="file-recognition-js-L46" class="blob-num js-line-number" data-line-number="46"></td>
        <td id="file-recognition-js-LC46" class="blob-code blob-code-inner js-file-line">						     <span class="pl-c"><span class="pl-c">//</span>     </span></td>
      </tr>
      <tr>
        <td id="file-recognition-js-L47" class="blob-num js-line-number" data-line-number="47"></td>
        <td id="file-recognition-js-LC47" class="blob-code blob-code-inner js-file-line">						     cam<span class="pl-k">:</span> <span class="pl-smi">backdrop</span>.<span class="pl-c1">concat</span>([<span class="pl-c1">this</span>.<span class="pl-smi">modelCar</span>])</td>
      </tr>
      <tr>
        <td id="file-recognition-js-L48" class="blob-num js-line-number" data-line-number="48"></td>
        <td id="file-recognition-js-LC48" class="blob-code blob-code-inner js-file-line">						},</td>
      </tr>
      <tr>
        <td id="file-recognition-js-L49" class="blob-num js-line-number" data-line-number="49"></td>
        <td id="file-recognition-js-LC49" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-recognition-js-L50" class="blob-num js-line-number" data-line-number="50"></td>
        <td id="file-recognition-js-LC50" class="blob-code blob-code-inner js-file-line">						<span class="pl-c"><span class="pl-c">//</span>  ,     , </span></td>
      </tr>
      <tr>
        <td id="file-recognition-js-L51" class="blob-num js-line-number" data-line-number="51"></td>
        <td id="file-recognition-js-LC51" class="blob-code blob-code-inner js-file-line">						<span class="pl-c"><span class="pl-c">//</span> ,         </span></td>
      </tr>
      <tr>
        <td id="file-recognition-js-L52" class="blob-num js-line-number" data-line-number="52"></td>
        <td id="file-recognition-js-LC52" class="blob-code blob-code-inner js-file-line">						onImageRecognized<span class="pl-k">:</span> <span class="pl-c1">this</span>.<span class="pl-smi">trackerEnterFov</span>,</td>
      </tr>
      <tr>
        <td id="file-recognition-js-L53" class="blob-num js-line-number" data-line-number="53"></td>
        <td id="file-recognition-js-LC53" class="blob-code blob-code-inner js-file-line">						onImageLost<span class="pl-k">:</span> <span class="pl-c1">this</span>.<span class="pl-smi">trackerExitFov</span>,</td>
      </tr>
      <tr>
        <td id="file-recognition-js-L54" class="blob-num js-line-number" data-line-number="54"></td>
        <td id="file-recognition-js-LC54" class="blob-code blob-code-inner js-file-line">						<span class="pl-en">onError</span><span class="pl-k">:</span> <span class="pl-k">function</span>(<span class="pl-smi">errorMessage</span>) {</td>
      </tr>
      <tr>
        <td id="file-recognition-js-L55" class="blob-num js-line-number" data-line-number="55"></td>
        <td id="file-recognition-js-LC55" class="blob-code blob-code-inner js-file-line">						    <span class="pl-en">alert</span>(errorMessage);</td>
      </tr>
      <tr>
        <td id="file-recognition-js-L56" class="blob-num js-line-number" data-line-number="56"></td>
        <td id="file-recognition-js-LC56" class="blob-code blob-code-inner js-file-line">						}</td>
      </tr>
      <tr>
        <td id="file-recognition-js-L57" class="blob-num js-line-number" data-line-number="57"></td>
        <td id="file-recognition-js-LC57" class="blob-code blob-code-inner js-file-line">					    });</td>
      </tr>
      <tr>
        <td id="file-recognition-js-L58" class="blob-num js-line-number" data-line-number="58"></td>
        <td id="file-recognition-js-LC58" class="blob-code blob-code-inner js-file-line"> </td>
      </tr>
      <tr>
        <td id="file-recognition-js-L59" class="blob-num js-line-number" data-line-number="59"></td>
        <td id="file-recognition-js-LC59" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">//</span>       var World = { }</span></td>
      </tr>
      <tr>
        <td id="file-recognition-js-L60" class="blob-num js-line-number" data-line-number="60"></td>
        <td id="file-recognition-js-LC60" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">//</span>   </span></td>
      </tr>
      <tr>
        <td id="file-recognition-js-L61" class="blob-num js-line-number" data-line-number="61"></td>
        <td id="file-recognition-js-LC61" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">World</span>.<span class="pl-en">init</span>();</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right">view raw</a>
        <a href="">recognition.js</a>
        hosted with ‚ù§ by <a href="">GitHub</a>
      </div>
    </div>
</div>
</div><br><br>  And that's all about recognition.  Now when you hover on the image machine appears. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7b7/ee0/e66/7b7ee0e660f8d9ec11776662915dfd53.png" alt="image"><br><br>  In this case, we cheated a little bit and used the 3D model already loaded into the project. <br><br>  And that's all for today.  Next time we will examine in more detail the loading of 3D models and animations for them, and also consider how to bind an object to a point of interest and show the model using the SLAM technology. <br><br>  See you again! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8a8/005/b3d/8a8005b3d6a6e0a1f823e0829aed26df.jpg" alt="image"></div><p>Source: <a href="https://habr.com/ru/post/343648/">https://habr.com/ru/post/343648/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../343638/index.html">How to make remote access more secure with a token?</a></li>
<li><a href="../343640/index.html">Greenplum 5: first steps in open source</a></li>
<li><a href="../343642/index.html">Mother's architect: how we collected mobile architectures and pleased our parents</a></li>
<li><a href="../343644/index.html">Forced Introduction to Configuration Management Systems</a></li>
<li><a href="../343646/index.html">Overview of important legal requirements of the Facebook platform</a></li>
<li><a href="../343654/index.html">Why do Russian cybersecurity exhibitions die?</a></li>
<li><a href="../343656/index.html">Report from the Android Devs Meetup Meeting on September 22</a></li>
<li><a href="../343658/index.html">Dagger 2 for novice Android developers. The introduction of dependencies. Part 2</a></li>
<li><a href="../343660/index.html">Must-have documentation for a mobile developer. Part 1</a></li>
<li><a href="../343666/index.html">Must-have documentation for a mobile developer. Part 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>