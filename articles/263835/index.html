<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Viewing statistics on the number of errors in a project, or ‚ÄúWow, graphics have appeared in PVS-Studio!‚Äù</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This note will be of interest primarily to project managers and technical managers, whose teams use the PVS-Studio code analyzer. The tool has the abi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Viewing statistics on the number of errors in a project, or ‚ÄúWow, graphics have appeared in PVS-Studio!‚Äù</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/a8d/0a1/fd9/a8d0a1fd975be41278a65b128f2d5c87.png" alt="Errors correct vigorously!" align="left"><br><br>  This note will be of interest primarily to project managers and technical managers, whose teams use the <a href="http://www.viva64.com/ru/pvs-studio/">PVS-Studio</a> code analyzer.  The tool has the ability to track the effectiveness of the use of a static analyzer in teams.  Now you can prove in numbers to the boss that the analyzer bought for several thousand dollars brings real, visible benefits.  But this article is not about ROI, do not be intimidated. <br><br>  So, what's the problem with static analysis tools besides the fact that they are expensive?  Not always the team that purchased the tool can boast that errors are corrected with its help.  And we are more than anyone else interested in the effective use of our tool.  We are not satisfied if the client simply buys a license and puts it on the shelf.  After all, we have more than half of our clients extend licenses for the next year.  Therefore, our task is to show the effectiveness of using our tool for those who decide to extend the license. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Therefore, in PVS-Studio 5.27, it became possible to plot the number of errors detected by the analyzer when checking a project.  The idea of ‚Äã‚Äãthis feature is very simple: <ol><li>  If you want to correct all the errors that PVS-Studio gives out, over time your schedule should come to zero. </li><li>  If you are ready to put up with old mistakes, but rule all new ones, then your schedule should not grow much upwards. </li><li>  Otherwise, the developers simply do not use PVS-Studio.  Unfortunately, for us (we will not get a license renewal), and for you (you have wasted money on a license). </li></ol>  Before looking at specific graphics, just a couple of words about technology.  More information about this feature can be found in the <a href="http://www.viva64.com/ru/d/0373/">documentation</a> . <br><br><a name="habracut"></a><br><br>  Each time the entire code is checked (the Check Solution command), the analyzer saves in the% AppData% \ Roaming \ PVS-Studio \ Statistics folder a small XML file in which the number of messages is recorded.  In the PVS-Studio menu there is an Analysis Statistics command, which opens the statistics display settings dialog.  Choose a time interval, choose analyzers that are interesting to us and the importance of messages.  Then, using the ‚ÄúShow in Excel‚Äù button, the Microsoft Excel installed on the machine opens in which the desired graph is plotted. <br><br>  It makes no sense to talk long about this dialogue, everything is described in the documentation.  So let's take a closer look at possible situations in the examples. <br><br><h2>  What does the graph look like when, after the introduction, all errors (both old and new) are corrected? </h2>  Consider the first example.  The company bought PVS-Studio, starts to implement it.  Let us be interested in the errors of the class General Analysis (GA), and to begin with, only the most important and medium importance.  When you first start, PVS-Studio issues approximately 1800 messages.  First, developers deal with the most obvious false positives.  For example, disable them through suppression in macros.  Rule more simple errors that are easy.  Over time, the speed of working with messages slows down a bit.  That is why the graph we have is not a straight line, but arched. <br><br>  There are fewer and fewer errors, and finally sometime they become 0. Here is a graph describing this mode of operation of the command over PVS-Studio errors: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/674/601/aff/674601affa93a119433de2fe7991bd5d.png" alt="Figure 1 - First, minor errors are corrected, then more complicated and the most difficult ones remain at the end."><br><br>  <font color="#999999"><i>Figure 1 - First, minor errors are corrected, then more complicated and the most difficult ones remain at the end.</i></font> <br><br>  Everything, all analyzer triggers are worked out, 0 errors are issued.  Can you relax?  Not.  After all, if you relax and further disable the analyzer (do not edit new errors, then over time the number of errors will start to grow. An example of such a graph is shown in Figure 2. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/31a/b87/957/31ab8795704dadde556e5ce80f852f99.png" alt="Figure 2 - After all errors were first corrected, the developers relaxed and stopped responding to the analyzer messages."><br><br>  <font color="#999999"><i>Figure 2 - After all errors were first corrected, the developers relaxed and stopped responding to the analyzer messages.</i></font> <br><br>  See this graph shows the increase in the number of messages?  This is due to the fact that, bringing the number of positives to zero, the developers stopped correcting errors in the new code.  Fortunately, the project manager remembered in time and noticed that mistakes do not rule.  Therefore, after talking with the team in the project, it again became 0 errors.  And so much and maintained daily. <br><br><h2>  An example of an incorrect conclusion about the results of the team based on the schedule </h2>  Okay, but what can you say on the schedule in Figure 3? <br><br><img src="https://habrastorage.org/getpro/habr/post_images/afa/8a8/2e8/afa8a82e818f512a5779095d39804f09.png" alt="Figure 3 - An example of a graph with a double interpretation."><br><br>  <font color="#999999"><i>Figure 3 - An example of a graph with a double interpretation.</i></font> <br><br>  At first glance, we can say that the team is splintered, nothing rules and its number of errors grows.  And quite strongly - from 2700 to 3700 for the period.  But this conclusion can be made by a person who is not at all familiar with the project.  If you know what people do, it becomes clear.  A large amount of new code was added to the project (new project files were connected to the common .sln solution).  And there is nothing wrong with such a schedule.  After all, the number of projects further stabilizes, errors will not grow much, if the team begin to rule them on time. <br><br>  This graph is given as an example of the fact that it is impossible to ‚Äúinterpret‚Äù statistics data, you still need to understand what the team is doing at one time or another. <br><br><h2>  Where do the steps come from? </h2>  Often, the correct form of the graph with a uniform operation resembles steps as in Figure 4. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7c6/6d3/baf/7c66d3baf77ea8e10301f204bf033072.png" alt="Figure 4 - Step graph."><br><br>  <font color="#999999"><i>Figure 4 - Step graph.</i></font> <br><br>  Such a stepped chart is the most correct one, because it means the uniform work of the error correction team.  Guess where steps come from when the number of errors does not decrease?  Of course this is the weekend. <br><br><h2>  What is the ‚Äúonly new‚Äù error chart? </h2>  Well, before that there were examples when the team worked on correcting all the errors that the code analyzer generated.  But after all, the essence of the " <a href="http://www.viva64.com/ru/d/0345/">mass error suppression</a> " function is to say: ‚ÄúOkay, we know that we have a lot of PVS-Studio messages on the old code.  But now we want to close our eyes on him and correct errors only in the new code. ‚Äù  What will the error graph look like in this case?  Figure 5 answers this question. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b41/e6c/017/b41e6c017ca517e72ba0ffbbd096cf2a.png" alt="Figure 5 - Graph of the number of errors for only the new code."><br><br>  <font color="#999999"><i>Figure 5 - Graph of the number of errors for only the new code.</i></font> <br><br>  Although at first glance the graph looks chaotic, this is exactly what a normal workflow should look like using a code analyzer.  What is meant?  Pay attention to the scale along the Y axis. The maximum value here is 8 - this is the maximum number of errors (analyzer responses) were added in one day.  Say it a lot?  But if we are talking about a team of 50 developers and 9 million lines of code, then you will agree, this is a very good result.  But more importantly, they rule the next day. <br><br><h2>  What is the correct scenario of using PVS-Studio so that the ‚Äúschedule was perfect‚Äù? </h2>  So, we understand how the "wrong" graphics look and how the "correct" ones look.  But how should the development process be structured in order for the graphics of the PVS-Studio errors to be ‚Äúcorrect‚Äù?  What should a project manager or technical manager organize? <br><br>  Here are the steps that will lead to the most effective result: <ol><li>  Set up daily verification of the code with PVS-Studio on the assembly server.  This will help you control the error correction process and accumulate history, which is then easy to visualize. </li><li>  For all developers, install PVS-Studio and enable the <a href="http://www.viva64.com/ru/d/0218/">incremental analysis</a> mode.  In this mode, PVS-Studio keeps track of which files the developer rules on his own machine.  And after their successful compilation automatically checks.  If errors are found, they will of course be shown.  The advantage of this mode is that the developer does not need to explicitly run the analyzer.  And after seeing the message from him, he can immediately correct the code.  In this case, the erroneous code does not even fall into the version control system. </li><li>  If the erroneous code gets into the version control system, it will be detected during the night check.  It is very important that the developers see the report on the results of the night launch in the morning.  Then they can correct the mistakes.  PVS-Studio automatically generates a report file with errors found in the .html format, which can be sent to interested parties. </li></ol>  If the team can enter this mode of using the code analyzer, then the implementation of the tool will not be in vain.  And the question of extending the license for the next year will be solved by itself. </div><p>Source: <a href="https://habr.com/ru/post/263835/">https://habr.com/ru/post/263835/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../263823/index.html">Implementing a search engine with Python rankings (Part 1)</a></li>
<li><a href="../263825/index.html">RailsClub Moscow 2015, we start</a></li>
<li><a href="../263827/index.html">How configuration affects the architecture of the application</a></li>
<li><a href="../263831/index.html">How to avoid becoming a bot in Bittorrent DHT and other P2P networks</a></li>
<li><a href="../263833/index.html">CHECK CONSTRAINT in MS SQL - Rakes we walked through</a></li>
<li><a href="../263837/index.html">Corporate Cisco Jabber: Version 11 is very pleased</a></li>
<li><a href="../263839/index.html">Bartle's Psychotypes and Audience Balancing</a></li>
<li><a href="../263841/index.html">Google Chrome for Windows switched to using the AppContainer sandbox</a></li>
<li><a href="../263843/index.html">Acceleration of image processing in Android</a></li>
<li><a href="../263845/index.html">Hacker projects on Kickstarter</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>