<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Detailed analysis of the content protection system in Vista</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="As Peter Gutman writes, in the new operating system some key components working with multimedia information have been significantly reworked. The purp...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Detailed analysis of the content protection system in Vista</h1><div class="post__text post__text-html js-mediator-article">  As Peter Gutman writes, in the new operating system some key components working with multimedia information have been significantly reworked.  The purpose of this rework is to protect the so-called "luxury content" - those files that are usually copied from Blu-Ray or HD-DVD discs.  The problem is that the implementation of such protection leads to a significant decrease in system performance and stability, an increase in the cost of support, equipment and software.  According to Gutman, these costs will fall on the shoulders not only of individual users, but also on the entire global computer industry. <br><a name="habracut"></a><br>  In his article <a href="http://www.cs.auckland.ac.nz/~pgut001/pubs/vista_cost.txt">‚ÄúA Cost Analysis of Windows Vista Content Protection‚Äù</a> ( <a href="http://emdrone.livejournal.com/176676.html">bad translation into Russian</a> ), Peter Gutman analyzes what price we all have to pay for the content protection technology in Windows Vista.  We publish the key points from this article. <br><br>  <b>Disable functionality</b> <br>  The material protection mechanism only allows protected materials to pass through interfaces with built-in protection, and disables other interfaces.  Today, S / PDIF (Sony / Philips Digital Interface Format) is most often used for high-quality audio output.  Most newer audio cards have an optical TOSlink digital output, and even the latest generation of motherboards include at least a coaxial (and often optical) output.  Since S / PDIF does not have built-in protections, Vista requires the interface to be disabled if protected content is played.  Similarly, the YPbPr channel is disabled when viewing secured videos through unprotected Vista interfaces. <br><br>  <b>Indirect shutdown functionality</b> <br>  For example, for VoIP telephony, automatic echo cancellation (AEC) is a critical feature.  When the AEC function is in operation, the reverse signal is mixed into the main signal stream, but Vista protection will not allow this, since in this case there is a danger of access to the protected content.  Vista only allows the transmission of a badly damaged, degraded signal, which makes it difficult for AEC to work effectively. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>Reduced playback quality</b> <br>  In addition to a direct ban on playback, Vista requires that each interface servicing the protected streams spoil the quality of the transmitted signal.  This is done through a ‚Äúnarrowing system‚Äù (constrictor), which degrades the signal to a much lower level, and then restores it again, but with a significant decrease in quality. <br><br>  <b>Destruction of open standards for equipment</b> <br>  In order to prevent the creation of emulators with wired devices, Vista performs a ‚Äúcomponent functionality scan‚Äù (Hardware Functionality Scan, HFS), which receives unique ‚Äúfingerprints‚Äù of devices and ensures that they are real.  For this to work, the specification requires that the operational details of the operation of the devices remain confidential.  Obviously, any programmer who has access to the protocol and is able to write a driver for him knows enough to mimic the HFS response.  The only way to protect scans of "prints" is to not release any technical specifications, except for the necessary minimum. <br><br>  <b>Destruction of unified drivers</b> <br>  Another consequence of the HFS scan. <br><br>  <b>Sabotage "undesirable" drivers</b> <br>  As soon as a vulnerability is found in a specific driver or device that allows copying protected content, its signature identification is revoked by Microsoft, which means that it stops working.  The details here are vague, perhaps the minimum functionality for the device will still be preserved. <br><br>  The threat of driver recall is the threat of multi-million dollar fines and embargoes on future driver versions, in addition to the threat of revoking a device authorization described above. <br><br>  <b>System degradation</b> <br>  Vista requires devices to write something called ‚Äútilt bits‚Äù if they notice anything out of the ordinary.  For example, if there are unusual voltage fluctuations, failures of signals on buses, slightly damaged return codes (return status of operation success) after calling the function, the system sets the ‚Äútilt bit‚Äù. <br>  Such ‚Äúfailures‚Äù in the work of programs often occur.  Previously, this was not a problem - the systems were designed with some margin of safety, and this did not bring down their work.  With the introduction of ‚Äútilt bits‚Äù all the stability disappears.  Any usually inconspicuous oscillation becomes important, because it can be a sign of an attack on protected content. <br><br>  <b>Increase the cost of equipment</b> <br>  Protecting such amazingly valuable ‚Äúluxury materials‚Äù requires additional labor for driver development and user support.  Of course, the bulk of the burden will fall on equipment manufacturers. <br><br>  <b>CPU overhead</b> <br>  To prevent interference with the internal communications of the content protection system, all messages must be encrypted and authorized.  For example, the stream to the video card must be encrypted with AES-128 code.  Requirements for cryptography extend to encrypt data and encompass commands and even control between program components.  For example, communications between user-mode and kernel-mode must be authorized by OMAC tags. <br><br>  To prevent active attacks, drivers should contact the hardware with polls every 30 ms.  In addition, additional polls are being made, for example, Vista accesses the video device while displaying each frame in order to check that the ‚Äútilt bits‚Äù are where they should be. <br><br>  <b>Conclusion</b> <br>  An analysis of the content protection system in the operating system clearly shows that the entire design of Windows Vista is designed around this basic idea.  One characteristic example: blocks of protected "luxury content" in memory are marked with a special protection bit and are encrypted so that this information cannot be copied to the hard disk.  However, Vista does not prescribe any other memory encryption, and will leave your bank passwords, account and credit card data, personal data, etc. with pleasure.  The security mechanism built in by Microsoft makes it clear: what‚Äôs in their eyes is the ‚Äúluxury stuff‚Äù costs much more than the user's bank passwords. <br><br>  Why does Microsoft go to such unprecedented difficulties?  There can be only one logical explanation.  If Microsoft succeeds in making Vista a standard OS, then the corporation will have exclusive control over the distribution of protected digital information.  ‚ÄúThe result will be a technologically executed monopoly, compared to which today's de facto monopoly of Windows will seem like an era of heaven on earth,‚Äù says Peter Guttman. </div><p>Source: <a href="https://habr.com/ru/post/4907/">https://habr.com/ru/post/4907/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../49062/index.html">UX Russia community online seminars: January</a></li>
<li><a href="../49064/index.html">iPhone nano will be released in the spring?</a></li>
<li><a href="../49066/index.html">Google and imagesize</a></li>
<li><a href="../49067/index.html">Continuation of the story about free windows server 2008</a></li>
<li><a href="../49068/index.html">Service of automatic placement of soft hyphenation</a></li>
<li><a href="../49070/index.html">Robot Strenco ST-2 - a real steampunk</a></li>
<li><a href="../49073/index.html">Green 2-terabyte from WD</a></li>
<li><a href="../49077/index.html">Apple opened the way to browsers in the Apple Store</a></li>
<li><a href="../49078/index.html">Team System Training in Petersburg</a></li>
<li><a href="../4908/index.html">Spout Protection</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>