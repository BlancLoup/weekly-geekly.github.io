<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>"Iron tuning" Asus WL-520GC</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I decided to share my esteemed upgrade experience for ASUS WL-520gc router with a respected habrosocompany. 
 I will not write a long introduction, ab...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>"Iron tuning" Asus WL-520GC</h1><div class="post__text post__text-html js-mediator-article">  I decided to share my esteemed upgrade experience for ASUS WL-520gc router with a respected habrosocompany. <br>  I will not write a long introduction, about what the USB port in the router is for, why it is not in the ASUS WL-520gc, but there is in the ASUS WL-520gu, and immediately get down to the heart of the matter :) <br><h1>  What we need: </h1><br><ul><li>  1. <strong>IC</strong> chip voltage regulator <strong>KREN5A, KREN5B</strong> (not tested) or analogues </li><li>  2. USB Extender </li><li>  3. Soldering iron with a thin sting </li></ul><br><br><a name="habracut"></a><br><h2>  Let's start .... </h2><br>  First you need to unplug all the connected cables and the antenna, then proceed to disassemble the router case, with this I had a little trouble first, namely, I could not find the screw that prevented the case from opening, after unscrewing the 2 visible, immediately I will tell you not to tear off all the stickers in a row - the missing screws are arranged symmetrically under the rubber stickers :) <br>  after disassembling, we see next to the power connector our goal ‚Äî not to plug the USB port ;-) <br><h3>  "Iron" part </h3><br><ul><li>  1. We close the gap on the data line, on the board is designated as <em><strong>NF1</strong></em> (you can make jumpers, but my soldering iron did not allow it, so I brought the wires to the back side of the board) </li><li>  2. Put the jumper instead of the element <em><strong>FB12</strong></em> </li><li>  3. Solder the KREN chip in accordance with <em>Image 1</em> </li><li>  4. We make a hole on the back of the router case (between the Ethernet ports and the power supply socket) with a diameter equal to the thickness of the USB extension cable. </li><li>  5. We cut off from the USB extender the part on which the port is located, 15-20 cm long (a matter of taste, for whom it is more convenient) </li><li>  6. Expose the wires, push the cable through the hole, solder to the board, in accordance with the USB pinout (see <em>Picture 1</em> ) </li></ul><br><h3>  Software part </h3><br>  Here, as they say, a matter of taste and habit.  I experienced two versions of firmware: DD-WRT and firmware from Oleg. <br><br><h3>  <a href="http://dd-wrt.com/">DD-WRT</a> </h3><br>  Briefly explain the meaning: <br><ul><li>  1. The DD-WRT firmware for Asus WL-520GC (micro-plus_ssh) is taken, the <a href="">packages that</a> are not needed to boot the router are removed from it (to make room for the USB driver) and the drivers for the USB and ext2 file system are added. </li><li>  2. From the resulting rootfs / sbin folder after unpacking, the init file is moved to the rootfs / usr / sbin folder, a new init file is created, which is a script: </li></ul><br> <code>#!/bin/sh <br> if [ $1 == "noinitrd" ] ; then <br> insmod /lib/modules/`uname -r`/usbcore.o <br> insmod /lib/modules/`uname -r`/usb-uhci.o <br> insmod /lib/modules/`uname -r`/usb-ohci.o <br> insmod /lib/modules/`uname -r`/ehci-hcd.o <br> insmod /lib/modules/`uname -r`/scsi_mod.o <br> insmod /lib/modules/`uname -r`/sd_mod.o <br> insmod /lib/modules/`uname -r`/usb-storage.o <br> insmod /lib/modules/`uname -r`/ext2.o <br> sleep 8s <br> mount -t proc none /proc <br> mount -t ext2 -o noatime,nodiratime /dev/scsi/host0/bus0/target0/lun0/part1 /mnt <br> if [ -x /mnt/sbin/init ] ; then <br> mount -o move /proc /mnt/proc &amp;&amp; \ <br> pivot_root /mnt /mnt/mnt &amp;&amp; { <br> mount -o move /mnt/dev /dev <br> mount -o move /mnt/tmp /tmp <br> mount -o move /mnt/jffs /jffs <br> exec /sbin/init $* <br> } <br> <br> else <br> exec /usr/sbin/init $* <br> fi <br> else <br> exec /usr/sbin/init $* <br> fi</code> <br> <ul><li>  3. Making the script executable, with the help of a <a href="">modkit, the</a> firmware is back packaged in a * .bin file. </li><li>  4. The contents of the rootfs mega folder of the firmware, obtained after unpacking it with the help of a <a href="">modkit,</a> is poured onto the prefiltered ext2 formatted USB stick <a href="">.</a> </li><li>  5. Connect the flash drive to the router, sew the image obtained in the 3rd paragraph </li></ul><br>  After completing the firmware, the router will boot with mega firmware ... <br>  Installing the package is porobno painted <a href="http://www.dd-wrt.com/phpBB2/viewtopic.php%3Ft%3D43886">here</a> all the necessary images of the firmware to take <a href="http://dd-wrt.com/dd-wrtv3/dd-wrt/downloads.html">here</a> <br><h3>  Firmware from <a href="http://wl500g.info/">Oleg</a> </h3><br>  This option is more difficult, in terms of what will have to manually assemble the firmware for this model of the router. We will do it easier, take the finished one ;-) <br><ul><li>  1. Download the <a href="http://ifolder.ru/10186048">firmware</a> </li><li>  2. Download <a href="http://ifolder.ru/10193011">file system</a> for flash drive </li><li>  3. On the formatted in ext3 partition of the flash drive, unpack the archive with the file system </li><li>  4. Connect the USB flash drive, flash the router. </li><li>  5. After flashing and rebooting the router, connect to it via telnet (user / password is admin / admin) and give the command </li></ul><br> <code>nvram set boot_dev="/dev/scsi/host0/bus0/target0/lun0/part1" <br> nvram commit</code> <br> <ul><li>  6. Reboot </li></ul><br>  After the reboot, the router will please us with a ‚Äúfull‚Äù version of the firmware from Oleg with the option of installing packages. <br>  I myself personally now use the second option, since the difference in speed is quite noticeable, and not in favor of DD-WRT. <br>  As a result, we have a functional like Asus WL-520GU for less money (I got this device for about 1500 rubles during the promotion) 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Funny pictures: <br> <a title="Habraffe.ru" href=""><img src="https://habrastorage.org/storage/habraeffect/cb/97/cb97984316e3e3f54992442c1bea57c2.jpg"></a> <br>  Thank you very much for the invaluable help of the distinguished <strong>lightix</strong> from the forum <a href="http://dd-wrt.com/">dd-wrt.com</a> , in fact, he is the author of this method, I just gathered everything in a heap and streamlined. <br></div><p>Source: <a href="https://habr.com/ru/post/49331/">https://habr.com/ru/post/49331/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../49326/index.html">Forms for people</a></li>
<li><a href="../49327/index.html">Promo Site Definition</a></li>
<li><a href="../49328/index.html">Google Apps password strength rating</a></li>
<li><a href="../49329/index.html">.NET Interop on the example of working with sockets</a></li>
<li><a href="../49330/index.html">Lecture of the President of the Group of companies HeadHunter Yuri Virovts</a></li>
<li><a href="../49332/index.html">SharePoint through the perpetual user of Web 2.0</a></li>
<li><a href="../49334/index.html">The idea of ‚Äã‚Äãa startup - who implements?</a></li>
<li><a href="../49335/index.html">App Store - 500 Million Downloads</a></li>
<li><a href="../49336/index.html">Note: Kaspersky blocks gif-animation</a></li>
<li><a href="../49337/index.html">Red search engine. Continued.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>