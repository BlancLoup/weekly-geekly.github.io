<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We write macros for TODO and FIXME in Sublime Text, or how a bit of code saves a lot of time</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The great master fought with chaos. And the harder he fought, the more thoughts came to him. When thoughts of intelligent came, he wrote them down, pr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We write macros for TODO and FIXME in Sublime Text, or how a bit of code saves a lot of time</h1><div class="post__text post__text-html js-mediator-article"><p>  <em>The great master fought with chaos.</em>  <em>And the harder he fought, the more thoughts came to him.</em>  <em>When thoughts of intelligent came, he wrote them down, preceding the magic word TODO.</em>  <em>He also wrote down thoughts about a senseless one, but for such thoughts he had another magic word - FIXME.</em>  <em>And I must say that from the Beginning of Time there was no more powerful spells for defeating Chaos than these two.</em> </p><br><p><img src="https://habrastorage.org/webt/dm/pg/gw/dmpggwpnrnkvqcngl9nrsi9qspw.jpeg"></p><br><p>  I propose to speculate on how to make your life easier and get a simple tool with hot keys to insert comments into the <strong>TODO</strong> and <strong>FIXME</strong> code in the popular <strong>Sublime Text</strong> editor. </p><a name="habracut"></a><br><h2 id="chto-hotim-poluchit">  What we want to get </h2><br><p>  We need to immediately determine what we want to get after calling our insert command.  Suppose that the cursor is on some line of code for which we want to insert a <strong>TODO comment</strong> .  You can add a comment to the end of our line.  But this solution has two significant drawbacks.  First, the line may be too long, and by inserting a comment, we can easily break the agreement on the maximum length of the line.  Even if there is no such agreement, it will be inconvenient to work with such a string.  Secondly, if we want to use the automatic generator of <strong>the TODO file</strong> , which contains a list of all the comments he encountered in the <strong>TODO</strong> and <strong>FIXME</strong> project with links to files and line numbers in them, in the process of building the application, it may be that he demands that the comments were at the beginning of the lines, as the <strong>todo-webpack-plugin</strong> does, which I use. </p><br><p>  So, the comment should appear <strong>above the</strong> line to which we want to add the <strong>TODO</strong> .  That is, after the launch, our team should: </p><br><ol><li>  move the cursor to the beginning of the line </li><li>  insert blank line </li><li>  move the cursor to the beginning of this new line </li><li>  insert commentary characters for this type of file <br><ul><li><code>//  JS, SCSS  .</code> </li> <li> <code>#  python  .</code> </li> <li> <code>&lt;!--  HTML, XML --&gt;</code> </li> <li>  Etc.  - somewhere and ';'  is used. </li></ul></li><li>  insert instruction TODO: and a space after it. </li></ol><br><p>  After completing these steps, the cursor will appear exactly where the description is appropriate. </p><br><h2 id="pishem-makros">  We write a macro </h2><br><p>  To create our tool, it is logical to use the <em>macro</em> creation tools available in the editor.  We simply turn on the recording of the macro, perform some actions in the editor, stop the recording, save it to a file and assign hotkeys for which our recorded sequence of actions ‚Äî our <em>macro</em> ‚Äî will be launched again when we need it. </p><br><p>  Open any file with code and put the cursor on the line for which we want (or pretend that we want, and in fact just write a macro) add <strong>TODO</strong> .  Turn on the record: <strong><em>Tools&gt; Record Macro</em></strong> or <strong><em>Ctrl + Alt + Q.</em></strong>  Dale act on the points discussed above. </p><br><ol><li>  <strong><em>Home</em></strong> - translate the cursor to the beginning of the line. </li><li>  <strong><em>Enter</em></strong> - insert an empty string. </li><li>  <strong><em>Up arrow</em></strong> - put the cursor at the beginning of this empty line. </li><li>  <strong><em>Ctrl + /</em></strong> - insert a comment, using the command available in the editor, which correctly puts a comment according to the content of the code. </li><li>  Enter the text <strong><em>TODO:</em></strong> and the space after it. <cut></cut></li></ol><br><p>  Stop recording with the same keyboard shortcut <strong><em>Ctrl + Alt + Q</em></strong> or <strong><em>Tools&gt; Stop Recording Macro</em></strong> .  Further on <strong><em>Tools&gt; Save Macro ... we</em></strong> open dialogue of record of a macro in a file.  <strong>Set the</strong> file name <strong>InsertTodo</strong> , leaving the proposed extension <strong>.sublime-macro</strong> .  Assign a hot key.  To do this, open <strong><em>Preferences&gt; Key Bindings</em></strong> .  The <em>Key Bindings - Default</em> tab contains a list of all default keyboard shortcuts and commands associated with them.  We need it to find an unallocated keyboard shortcut that would suit us.  It would be convenient to use <strong><em>Ctrl + Shift + T</em></strong> , but this hotkey in Linux is intercepted by the system and opens the terminal.  The combination of <strong><em>Ctrl + Shift + D is</em></strong> also used - duplicates the string.  I stopped at <strong><em>Ctrl + Shift + =</em></strong> - it turned out to be free. </p><br><p>  The ‚ÄúKey Bindings - User‚Äù tab is used to define custom keyboard shortcuts.  There we prescribe our new combination: </p><br><pre> <code class="hljs json">[ { <span class="hljs-attr"><span class="hljs-attr">"keys"</span></span>: [<span class="hljs-string"><span class="hljs-string">"Ctrl+shift+="</span></span>], <span class="hljs-attr"><span class="hljs-attr">"command"</span></span>: <span class="hljs-string"><span class="hljs-string">"run_macro_file"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"args"</span></span>: {<span class="hljs-attr"><span class="hljs-attr">"file"</span></span>: <span class="hljs-string"><span class="hljs-string">"Packages/User/InsertTodo.sublime-macro"</span></span>} } ]</code> </pre> <br><p>  This is if the file was empty.  If it already contains something other than brackets, we put a comma there after the last curly brace, and from the next line add our object: </p><br><pre> <code class="hljs ruby">[ <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> -... { <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>   }, <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>    { <span class="hljs-string"><span class="hljs-string">"keys"</span></span>: [<span class="hljs-string"><span class="hljs-string">"Ctrl+shift+="</span></span>], <span class="hljs-string"><span class="hljs-string">"command"</span></span>: <span class="hljs-string"><span class="hljs-string">"run_macro_file"</span></span>, <span class="hljs-string"><span class="hljs-string">"args"</span></span>: {<span class="hljs-string"><span class="hljs-string">"file"</span></span>: <span class="hljs-string"><span class="hljs-string">"Packages/User/InsertTodo.sublime-macro"</span></span>} } ]</code> </pre> <br><p>  I think that the meaning of this record is quite clear.  The key <strong>key</strong> stores the <strong>key</strong> combination.  <strong>command</strong> defines the command that will be launched by this combination.  In our case, it is <strong>run_macro_file</strong> , which can run macros.  <strong>args</strong> stores the arguments passed to the command.  In our case, the path to the file of our macro is passed. </p><br><p>  Save, close the window with the settings files and test what happened.  We are convinced that everything works correctly both in <strong>Python</strong> , and in <strong>JS</strong> and in <strong>HTML</strong> . </p><br><h2 id="chto-vnutri">  What's inside </h2><br><p>  Now you can be curious and look at the <strong>InsertTodo.sublime-macro</strong> file <strong>itself</strong> : </p><br><pre> <code class="hljs json">[ { <span class="hljs-attr"><span class="hljs-attr">"args"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"extend"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">"to"</span></span>: <span class="hljs-string"><span class="hljs-string">"bol"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"command"</span></span>: <span class="hljs-string"><span class="hljs-string">"move_to"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"args"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"characters"</span></span>: <span class="hljs-string"><span class="hljs-string">"\n"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"command"</span></span>: <span class="hljs-string"><span class="hljs-string">"insert"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"args"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"by"</span></span>: <span class="hljs-string"><span class="hljs-string">"lines"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"forward"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"command"</span></span>: <span class="hljs-string"><span class="hljs-string">"move"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"args"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"block"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"command"</span></span>: <span class="hljs-string"><span class="hljs-string">"toggle_comment"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"args"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"characters"</span></span>: <span class="hljs-string"><span class="hljs-string">"T"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"command"</span></span>: <span class="hljs-string"><span class="hljs-string">"insert"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"args"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"characters"</span></span>: <span class="hljs-string"><span class="hljs-string">"O"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"command"</span></span>: <span class="hljs-string"><span class="hljs-string">"insert"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"args"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"characters"</span></span>: <span class="hljs-string"><span class="hljs-string">"D"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"command"</span></span>: <span class="hljs-string"><span class="hljs-string">"insert"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"args"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"characters"</span></span>: <span class="hljs-string"><span class="hljs-string">"O"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"command"</span></span>: <span class="hljs-string"><span class="hljs-string">"insert"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"args"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"characters"</span></span>: <span class="hljs-string"><span class="hljs-string">":"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"command"</span></span>: <span class="hljs-string"><span class="hljs-string">"insert"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"args"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"characters"</span></span>: <span class="hljs-string"><span class="hljs-string">" "</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"command"</span></span>: <span class="hljs-string"><span class="hljs-string">"insert"</span></span> } ]</code> </pre> <br><p>  Ay - not good!  Each character of the string "TODO:" is output by its own command.  Correct: </p><br><pre> <code class="hljs json">[ { <span class="hljs-attr"><span class="hljs-attr">"args"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"extend"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">"to"</span></span>: <span class="hljs-string"><span class="hljs-string">"bol"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"command"</span></span>: <span class="hljs-string"><span class="hljs-string">"move_to"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"args"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"characters"</span></span>: <span class="hljs-string"><span class="hljs-string">"\n"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"command"</span></span>: <span class="hljs-string"><span class="hljs-string">"insert"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"args"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"by"</span></span>: <span class="hljs-string"><span class="hljs-string">"lines"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"forward"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"command"</span></span>: <span class="hljs-string"><span class="hljs-string">"move"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"args"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"block"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"command"</span></span>: <span class="hljs-string"><span class="hljs-string">"toggle_comment"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"args"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"characters"</span></span>: <span class="hljs-string"><span class="hljs-string">"TODO: "</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"command"</span></span>: <span class="hljs-string"><span class="hljs-string">"insert"</span></span> } ]</code> </pre> <br><p>  We save and check that nothing is broken.  Everything is working. </p><br><h2 id="a-teper-fixme">  And now fixme </h2><br><p>  Build a similar tool to insert FIXME.  To do this, create the <strong>InsertFixme.sublime-macro</strong> file in the same directory, and copy the contents of the <strong>InsertTodo.sublime-macro into it</strong> , transferring the last command <strong>"TODO:"</strong> to <strong>"FIXME:"</strong> : </p><br><pre> <code class="hljs python"><span class="hljs-meta"><span class="hljs-meta">... </span></span>{ <span class="hljs-string"><span class="hljs-string">"args"</span></span>: { <span class="hljs-string"><span class="hljs-string">"characters"</span></span>: <span class="hljs-string"><span class="hljs-string">"FIXME: "</span></span> }, <span class="hljs-string"><span class="hljs-string">"command"</span></span>: <span class="hljs-string"><span class="hljs-string">"insert"</span></span> } ]</code> </pre> <br><p>  Bind hotkeys.  The combination of <strong>Ctrl + Shift + -</strong> I was free. </p><br><pre> <code class="hljs json">[ ... { <span class="hljs-attr"><span class="hljs-attr">"keys"</span></span>: [<span class="hljs-string"><span class="hljs-string">"Ctrl+shift+="</span></span>], <span class="hljs-attr"><span class="hljs-attr">"command"</span></span>: <span class="hljs-string"><span class="hljs-string">"run_macro_file"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"args"</span></span>: {<span class="hljs-attr"><span class="hljs-attr">"file"</span></span>: <span class="hljs-string"><span class="hljs-string">"Packages/User/InsertTodo.sublime-macro"</span></span>} }, { <span class="hljs-attr"><span class="hljs-attr">"keys"</span></span>: [<span class="hljs-string"><span class="hljs-string">"Ctrl+shift+-"</span></span>], <span class="hljs-attr"><span class="hljs-attr">"command"</span></span>: <span class="hljs-string"><span class="hljs-string">"run_macro_file"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"args"</span></span>: {<span class="hljs-attr"><span class="hljs-attr">"file"</span></span>: <span class="hljs-string"><span class="hljs-string">"Packages/User/InsertFixme.sublime-macro"</span></span>} } ]</code> </pre> <br><p>  Everything.  Now we are testing and rejoicing that we have such unpretentious tools at hand that, despite their simplicity, will help us to save a lot of our precious time! </p><br><h2 id="ssylki">  References: </h2><br><ul><li>  <a href="http://docs.sublimetext.info/en/latest/extensibility/macros.html">Sublime Text Unofficial Documentation - Macros</a> </li><li>  <a href="http://gearmobile.github.io/sublime/sublime-macros/">Macros in Sublime Text 3</a> </li><li>  <a href="https://nicothin.github.io/sublime-text/sublime-text-3-hotkeys.html">Crib ninja Sublime Text 3</a> </li></ul><br></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/349076/">https://habr.com/ru/post/349076/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../349062/index.html">AgileDays'18: content - all over the head</a></li>
<li><a href="../349064/index.html">Universal React + Express Applications</a></li>
<li><a href="../349066/index.html">Mobile devices from the inside. Unlocking the tablet loader</a></li>
<li><a href="../349068/index.html">From satellite images to graphs (the competition of the SpaceNet Road Detector) - hit the top 10 and code (translation)</a></li>
<li><a href="../349072/index.html">Dynamic Systems Modeling: Introduction</a></li>
<li><a href="../349078/index.html">Should I be afraid of class imbalances?</a></li>
<li><a href="../349080/index.html">Rekit Studio: IDE for React Applications</a></li>
<li><a href="../349082/index.html">Everything is fine, we fall</a></li>
<li><a href="../349084/index.html">Protect your Xamarin apps with Dotfuscator</a></li>
<li><a href="../349086/index.html">Development on Blockchain - what will change for developers?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>