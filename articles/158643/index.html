<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Cloud Protection: AppFuscator 2.0</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="And now almost three months have passed since the moment of our first announcement of cloud protection for .NET applications . All this time we did no...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Cloud Protection: AppFuscator 2.0</h1><div class="post__text post__text-html js-mediator-article">  And now almost three months have passed since the moment of our first announcement of <a href="http://habrahabr.ru/post/150127/">cloud protection for .NET applications</a> .  All this time we did not waste time and actively worked to improve our product.  The habrasocially actively involved in the tests of the first public version helped us a lot in identifying priorities and finding the most acute problems.  Many thanks to you on behalf of our team! <br><br><h4>  In the new version </h4><br><br><h5>  New core WPF obfuscation </h5><br><ul><li>  Now the classes involved in WPF are not excluded, but obfustsiruyutsya on a par with everyone else.  WPF resources are rebuilt. </li><li>  Linking assemblies containing WPF is supported (which is not possible in ILMerge) </li><li>  Smart automatic exclusion of classes and fields that are not allowed to be renamed, including for complex expressions of type PropertyPath </li><li>  BAML resources renamed </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div style="text-align:center;"><img src="http://66bit.ru/files/paper/appfuscator-v2/WPF_small.png" alt="image"></div><br>  (click to enlarge) <br><br><h5>  Unity 3D support </h5><br><ul><li>  All internal methods, fields and classes are renamed. </li><li>  All modes are supported, including String Encryption, External Method Call Hiding, Decomposition </li></ul><br>  In order to protect the Unity 3D application, just send the assembly with the user code from the Managed folder for obfuscation, and then replace them with the protected versions. <br><br><h5>  Full compatibility with the .NET Framework 4.5 </h5><br><ul><li>  Now obfuscator works equally well with .NET 2.0, 3.0, 3.5, 4.0, 4.5. </li><li>  The code with async / await is correctly obfuscated. </li><li>  Moved to the latest version of Mono Cecil </li></ul><br><br><a name="habracut"></a><br><br><h5>  Automatic Intelligent Obfuscation </h5><br><ul><li>  New powerful mechanism for analyzing hierarchy trees and dependencies </li><li>  Significantly improved code analyzer </li><li>  Autodetection of serializable classes according to standard constructions in code </li><li>  Automatic exclusion from renaming types that are directly or indirectly associated with serialization (for example, Enums used in serializable classes) </li><li>  Projects are handled correctly using Microsoft Unity Container </li><li>  An intelligent algorithm for selecting the appropriate method based on the search for the most complete match.  An example of the case of resolving ambiguous overloads: Method (int arg) and Method &lt;T&gt; (T arg), where T = int </li><li>  Fixed compatibility problem of decomposition algorithms with Expressions and LINQ </li><li>  Support constrained prefix </li><li>  Automatic type recognition for Activator.CreateInstance and ConstructorInfo.Invoke by casting to interface \ type. </li><li>  Improved warnings, now they are less often issued on trifles </li></ul><br><br>  <b>Some examples of clever recognition</b> <br><br><h6>  Enums </h6><br><pre><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">string</span></span> name = <span class="hljs-string"><span class="hljs-string">"Second"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> result = (Mode)Enum.Parse(<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(Mode), name);</code> </pre> <br>  The analyzer determines that the definition of a value by name is used for enum Mode, and marks it together with all members as forbidden to rename. <br><br><h6>  Serializer </h6><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> serializer = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> XmlSerializer(<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(RealySerializable)); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> writer = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StringWriter(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StringBuilder()); serializer.Serialize(writer, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RealySerializable()); <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> res = writer.ToString(); <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> DataState { One, Two } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">RealySerializable</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> MyProperty { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> DataState State { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } }</code> </pre><br>  As you can see, RealySerializable and DataState are not marked with the SerializableAttribute attribute, but upon detecting the initialization of the XmlSerializer of the RealySerializable type, the code analyzer excludes it from the renaming.  A similar approach works for other serializers (JSON, Binary, etc.).  Having discovered that the enum DataState is involved in the serializable type, the analyzer will also mark it as serializable. <br><br><h6>  CreateInstance by interface </h6><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> instance = Activator.CreateInstance(anyUnresolvedName); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> work = instance <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> IRef;</code> </pre><br>  Suppose the name is formed dynamically, respectively, the analyzer cannot understand what anyUnresolvedName is equal to, but it finds an explicit cast to the IRef interface, and prohibits renaming all its heirs. <br><br>  Other cases work in the same way, try it yourself: <a href="http://appfuscator.com/">appfuscator.com</a> <br><br><h4>  Summing up </h4><br>  In this version, we are even closer to our cherished goal - to make sure that you don‚Äôt think about obfuscation at all, but just get the finished result for any of your projects. <br><br>  Very soon we are planning to launch a personal user account and a couple of nice and useful innovations.  Follow the news. <br><br>  And of course, as always, we will be very happy with your wishes and good ideas. </div><p>Source: <a href="https://habr.com/ru/post/158643/">https://habr.com/ru/post/158643/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../158631/index.html">Russian Post tracking service has become like a Chinese colleague</a></li>
<li><a href="../158633/index.html">Apple sells Stratocaster guitars for $ 199.95</a></li>
<li><a href="../158637/index.html">Engineering approach to the training of specialists in software engineering</a></li>
<li><a href="../158639/index.html">What each developer needs to know about character encodings and character sets</a></li>
<li><a href="../158641/index.html">Piping hot. The hottest new items from KYOCERA Document Solutions</a></li>
<li><a href="../158645/index.html">The competition ‚ÄúInternet Mathematics: Yandex.Maps‚Äù - the experience of our participation and the description of the winning algorithm</a></li>
<li><a href="../158649/index.html">Review GALAXY Camera (Part II)</a></li>
<li><a href="../158651/index.html">Distribution on trackers, where it is difficult to distribute, or how to defeat a sidboxer</a></li>
<li><a href="../158653/index.html">International numbering with MTT bonus</a></li>
<li><a href="../158655/index.html">Presentation Meizu MX2, November 27, Beijing</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>