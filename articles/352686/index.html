<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>SASS: Optimize the media screen</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Greetings 

 About a month ago I wrote an article in which I put forward the idea of ‚Äã‚Äãoptimizing the @media screen . The idea is to be able to write ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>SASS: Optimize the media screen</h1><div class="post__text post__text-html js-mediator-article"> Greetings <br><br>  About a month ago I wrote an article in which I put forward the idea of ‚Äã‚Äãoptimizing the <code>@media screen</code> .  The idea is to be able to write values ‚Äã‚Äãfor all screens in one line.  For more information, please read <a href="https://habrahabr.ru/post/350466/">the link</a> .  Most of the comments - this is a criticism regarding the implementation, unfortunately no one threw ideas.  But if you look at it from the other side, you can get an idea out of every criticism, so based on the opinions of the readers, I set myself the goal to write a mixin, which: <br><br><ul><li>  easy to read (maximally repeating sass / scss / css syntax); </li><li>  easy to maintain (so that a year later you understand what is written there); </li><li>  flexible (support for the maximum number of <code>@media</code> descriptions); </li></ul><br>  Let's see what happened to me ( <a href="https://github.com/Dolgik89/-media-screen">Github repository</a> )! <br><a name="habracut"></a><br>  <b>Syntax</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs ruby">.<span class="hljs-keyword"><span class="hljs-keyword">class</span></span>{ @include media($properties, $orientation); }</code> </pre> <br>  Mixin <b>media</b> supports two parameters $ properties and $ orientation. <br>  <b>$ properties</b> - an array of css rules. <br>  <b>$ orientation</b> - screen orientation (optional). <br><br><h3>  $ properties </h3><br><pre> <code class="hljs mel">.class{ @include media(( width: <span class="hljs-number"><span class="hljs-number">100</span></span>%; height: (lg: <span class="hljs-number"><span class="hljs-number">800</span></span>px, md: <span class="hljs-number"><span class="hljs-number">600</span></span>px, sm: <span class="hljs-number"><span class="hljs-number">300</span></span>px), transform: (all: translateX(<span class="hljs-number"><span class="hljs-number">100</span></span>px) translateY(<span class="hljs-number"><span class="hljs-number">100</span></span>px), sm: translateX(<span class="hljs-number"><span class="hljs-number">50</span></span>px) translateY(<span class="hljs-number"><span class="hljs-number">50</span></span>px)), <span class="hljs-keyword"><span class="hljs-keyword">color</span></span>: (sm-md: $white, md-lg: $gray), font-<span class="hljs-keyword"><span class="hljs-keyword">size</span></span>: (<span class="hljs-number"><span class="hljs-number">320</span></span>: <span class="hljs-number"><span class="hljs-number">12</span></span>px, <span class="hljs-keyword"><span class="hljs-keyword">min</span></span><span class="hljs-number"><span class="hljs-number">-480</span></span>: <span class="hljs-number"><span class="hljs-number">18</span></span>px, <span class="hljs-number"><span class="hljs-number">480</span></span>-md: <span class="hljs-number"><span class="hljs-number">24</span></span>px, <span class="hljs-keyword"><span class="hljs-keyword">print</span></span>: <span class="hljs-number"><span class="hljs-number">14</span></span>pt) )); }</code> </pre> <br>  Let's take a look at the code in more detail ... <br><br>  The <b>$ properties</b> parameter is an array, so all properties are taken in (). <br><br><pre> <code class="hljs matlab">width: <span class="hljs-number"><span class="hljs-number">100</span></span><span class="hljs-comment"><span class="hljs-comment">%;</span></span></code> </pre> <br>  The usual rule for all screens.  compiled into <br><br><pre> <code class="hljs css"><span class="hljs-selector-class"><span class="hljs-selector-class">.class</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">100%</span></span>; }</code> </pre> <br>  Interesting further: <br><br><pre> <code class="hljs">height: (lg: 800px, md: 600px, sm: 300px)</code> </pre> <br>  Here we describe the height for screens with a maximum width of <b>lg</b> , <b>md</b> and <b>sm</b> (set by the developer, more on that later). <br><br>  Compilation result: <br><br><pre> <code class="hljs css">@<span class="hljs-keyword"><span class="hljs-keyword">media</span></span> only screen and (max-width: <span class="hljs-number"><span class="hljs-number">1024px</span></span>) { <span class="hljs-selector-class"><span class="hljs-selector-class">.class</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">800px</span></span>; } } @<span class="hljs-keyword"><span class="hljs-keyword">media</span></span> only screen and (max-width: <span class="hljs-number"><span class="hljs-number">768px</span></span>) { <span class="hljs-selector-class"><span class="hljs-selector-class">.class</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">600px</span></span>; } } @<span class="hljs-keyword"><span class="hljs-keyword">media</span></span> only screen and (max-width: <span class="hljs-number"><span class="hljs-number">640px</span></span>) { <span class="hljs-selector-class"><span class="hljs-selector-class">.class</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">300px</span></span>; } }</code> </pre> <br>  Also pay attention to the code below: <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">transform</span></span>: (<span class="hljs-keyword"><span class="hljs-keyword">all</span></span>: translateX(<span class="hljs-number"><span class="hljs-number">100</span></span>px) translateY(<span class="hljs-number"><span class="hljs-number">100</span></span>px), sm: translateX(<span class="hljs-number"><span class="hljs-number">50</span></span>px) translateY(<span class="hljs-number"><span class="hljs-number">50</span></span>px))</code> </pre> <br>  In this example, there is an <b>all</b> screen, I think you guessed that these are all screens.  There is a fundamental difference between <b>all</b> and the usual rule, like <b>width: 100%</b> .  But this is also a little later. <br><br><pre> <code class="hljs mel"><span class="hljs-keyword"><span class="hljs-keyword">color</span></span>: (sm-md: $white, md-lg: $gray)</code> </pre> <br>  Here I tried to maximally flex the screen ranges between <code>min-width</code> and <code>max-width</code> .  Those.  The code presented above will compile the minimum width of <b>sm</b> (640) - the maximum width of <b>md</b> (768), and for screens in this range will set the text color to white, or gray for <b>md</b> (768) - <b>lg</b> (1024). <br><br>  Compiled version: <br><br><pre> <code class="hljs pgsql">.<span class="hljs-keyword"><span class="hljs-keyword">class</span></span>{ @media <span class="hljs-keyword"><span class="hljs-keyword">only</span></span> screen <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> (min-width: <span class="hljs-number"><span class="hljs-number">768</span></span>px) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> (max-width: <span class="hljs-number"><span class="hljs-number">1024</span></span>px) { color: gray; } } .<span class="hljs-keyword"><span class="hljs-keyword">class</span></span>{ @media <span class="hljs-keyword"><span class="hljs-keyword">only</span></span> screen <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> (min-width: <span class="hljs-number"><span class="hljs-number">640</span></span>px) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> (max-width: <span class="hljs-number"><span class="hljs-number">768</span></span>px) { color: white; } }</code> </pre> <br>  There are also cases when we cannot rely only on given screens.  Therefore, it is possible to set custom width dynamically.  Also, if you suddenly need to specify the minimum width instead of the maximum width, or vice versa, this possibility is also present: <br><br><pre> <code class="hljs mel">font-<span class="hljs-keyword"><span class="hljs-keyword">size</span></span>: (<span class="hljs-number"><span class="hljs-number">880</span></span>: <span class="hljs-number"><span class="hljs-number">12</span></span>px, <span class="hljs-keyword"><span class="hljs-keyword">min</span></span><span class="hljs-number"><span class="hljs-number">-480</span></span>: <span class="hljs-number"><span class="hljs-number">18</span></span>px, <span class="hljs-number"><span class="hljs-number">480</span></span>-md: <span class="hljs-number"><span class="hljs-number">24</span></span>px, <span class="hljs-keyword"><span class="hljs-keyword">print</span></span>: <span class="hljs-number"><span class="hljs-number">14</span></span>pt)</code> </pre> <br>  The first screen is <b>max-width: 880px</b> .  By default, the width is set to the maximum (just as easy to change).  For this screen we get <code>font-size: 12px;</code> <br>  The second screen <b>min-480</b> indicates that we will make a start from the minimum screen width 480px (min- prefix), and as a result we get a <code>font-size: 18px</code> for all screens wider than 480px. <br><br>  <b>480-md</b> - will create a custom minimum size of 480px and a maximum <b>md</b> (768).  Those.  This is a variant of the range of screens, as in the previous example, only with an arbitrary value. <br><br>  Please note that if we write 480-768 we get a -288px screen, i.e.  the "-" sign will work as a minus.  Therefore, it is worthwhile to take such an example in quotation marks ‚Äú480-768‚Äù, unless of course you intend to write the operation with ‚Äú-‚Äù (by the way, +, *, / will also work). <br><br><pre> <code class="hljs swift"><span class="hljs-built_in"><span class="hljs-built_in">print</span></span>: 14pt</code> </pre> <br>  <b>print</b> - is an immutable parameter and is intended for printing: <br><br><pre> <code class="hljs css">@<span class="hljs-keyword"><span class="hljs-keyword">media</span></span> print { <span class="hljs-selector-class"><span class="hljs-selector-class">.class</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">14pt</span></span>; } }</code> </pre> <br>  I hope everything is clear at this stage ... If not, I will be happy to explain in the comments. <br><br><h3>  Let's go to the $ orientation parameter </h3><br>  It's all much easier.  There are two options for orientation of the screen <b>landscape</b> and <b>portrait</b> .  Actually, if necessary, the second parameter is prescribed these values. <br><br><pre> <code class="hljs mel">.class{ @include media(( width: <span class="hljs-number"><span class="hljs-number">100</span></span>%; height: (all: <span class="hljs-number"><span class="hljs-number">100</span></span>%, md: <span class="hljs-number"><span class="hljs-number">50</span></span>%) ), portrait); }</code> </pre> <br>  As a result, we get: <br><br><pre> <code class="hljs css"><span class="hljs-selector-class"><span class="hljs-selector-class">.class</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">100%</span></span>; } @<span class="hljs-keyword"><span class="hljs-keyword">media</span></span> only screen and (orientation:portrait){ <span class="hljs-selector-class"><span class="hljs-selector-class">.class</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">100%</span></span>; } } @<span class="hljs-keyword"><span class="hljs-keyword">media</span></span> only screen and (max-width: <span class="hljs-number"><span class="hljs-number">768px</span></span>) and (orientation:portrait){ <span class="hljs-selector-class"><span class="hljs-selector-class">.class</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">50%</span></span>; } }</code> </pre> <br>  In this example, you can clearly see the difference between <b>all</b> and the standard rule.  In the case of <b>width: 100%, the</b> rule under all circumstances falls under all screens.  In the case of <b>all</b> - all screens with <b>portrait</b> / <b>landscape</b> orientation. <br><br><h3>  Settings </h3><br>  Two standard variables that need to be edited are <b>$ breakpoints</b> and <b>$ media-direction</b> .  Here is how they look by default: <br><br><pre> <code class="hljs haskell">$breakpoints: ( lg: <span class="hljs-number"><span class="hljs-number">1024</span></span>, md: <span class="hljs-number"><span class="hljs-number">768</span></span>, sm: <span class="hljs-number"><span class="hljs-number">640</span></span> ) !<span class="hljs-keyword"><span class="hljs-keyword">default</span></span>; //-   $media-direction: max !<span class="hljs-keyword"><span class="hljs-keyword">default</span></span>; -    (<span class="hljs-title"><span class="hljs-title">max</span></span>/<span class="hljs-title"><span class="hljs-title">min</span></span>)</code> </pre> <br>  Those.  In order to create for yourself the necessary number of screens with the necessary names, dimensions and initial direction ( <b>min</b> / <b>max</b> ), you need to create new variables in a place convenient for you: <br><br><pre> <code class="hljs mel">$breakpoints: ( desktop: <span class="hljs-number"><span class="hljs-number">1280</span></span>, ipad: <span class="hljs-number"><span class="hljs-number">1024</span></span>, tablet: <span class="hljs-number"><span class="hljs-number">768</span></span>, mobile: <span class="hljs-number"><span class="hljs-number">640</span></span> ); $media-direction: <span class="hljs-keyword"><span class="hljs-keyword">min</span></span>;</code> </pre> <br>  This is enough to get started. <br><br>  <b>How else can you use this mixin?</b> <br><br>  If the <b>$ properties</b> parameter is put into a variable, then you can get a great function.  For example: <br><br><pre> <code class="hljs mel">$title-style: ( line-height: (lg: <span class="hljs-number"><span class="hljs-number">24</span></span>px, md: <span class="hljs-number"><span class="hljs-number">20</span></span>px, sm: <span class="hljs-number"><span class="hljs-number">16</span></span>px), font-<span class="hljs-keyword"><span class="hljs-keyword">size</span></span>: (lg: <span class="hljs-number"><span class="hljs-number">20</span></span>px, md: <span class="hljs-number"><span class="hljs-number">16</span></span>px, sm: <span class="hljs-number"><span class="hljs-number">12</span></span>px;), <span class="hljs-keyword"><span class="hljs-keyword">text</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">align</span></span>: (all: left, sm: center) ... ) .block{ h2{ <span class="hljs-keyword"><span class="hljs-keyword">color</span></span>: gray; @include media($title-style); } h3{ <span class="hljs-keyword"><span class="hljs-keyword">color</span></span>: black; @include media($title-style, landscape); } }</code> </pre> <br>  We get a kind of <b>extend</b> class.  Agree, it can be very convenient. <br><br><h3>  Let's sum up </h3><br><h4>  pros </h4><br><ul><li>  easy to read - the code repeats the syntax of CSS; </li><li>  easily supported - the screens are well-defined, and there will be no problem in understanding the code; </li><li>  flexible - we were able to describe <code>@media screen</code> for all screens, screen ranges, minimum / maximum width dynamically, at any time there is an opportunity to set custom widths, as well as adjust the rules for printing without departing from the code. </li></ul><br><h4>  Minuses </h4><br><ul><li>  There is no description of the screen height.  I haven‚Äôt gotten to this part yet, and if this mixin is interesting to you, I will definitely add this possibility.  So do not forget to write comments so that I can understand how relevant and useful it is to you. </li><li>  There is no possibility to prescribe <code>@include mixin</code> for different screens.  At the moment, this possibility is impossible in principle in the above mixin using Sass.  As far as critical, I will leave you to think, decide for yourself whether to sacrifice such a function or not.  For me personally, this is not critical at all, since I cannot remember that I ever ever <code>@include mixin</code> inside the <code>@media screen</code> . </li></ul><br><h3>  Conclusion </h3><br>  I think the goal is achieved.  Mixin turned out quite convenient and concise. <br><br>  If you <s>do not</s> agree with me, write comments.  In any case, I‚Äôm happy to hear your advice on how to improve this mixin, or try to extract something useful from your criticism. <br><br>  PS You can download mixin in the Github repository using the <a href="https://github.com/Dolgik89/-media-screen">link</a> .  <b>_mixin.scss</b> is the file you need.  The same <b>package.json</b> file contains plugins for Gulp, which would be nice to connect: <br><br><ul><li>  <b>gulp-autoprefixer</b> will add browser prefixes where necessary; </li><li>  <b>gulp-group-css-media-queries</b> perfectly group the <code>@media screen</code> ; </li><li>  <b>gulp-minify-css</b> optimizes css, we can say that this plugin is necessary. </li></ul><br>  I am sure that for the webpack or for any other collector, you can easily find analogues. <br><br>  Thanks for attention! </div><p>Source: <a href="https://habr.com/ru/post/352686/">https://habr.com/ru/post/352686/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../352676/index.html">Hidden order in color chaos</a></li>
<li><a href="../352678/index.html">NumPy in Python. Part 1</a></li>
<li><a href="../352680/index.html">9 paid, shareware and free programs for tracking application code</a></li>
<li><a href="../352682/index.html">Rsyslog 8. Centralized logging</a></li>
<li><a href="../352684/index.html">VulnHub Basic Pentesting</a></li>
<li><a href="../352688/index.html">Hellish project</a></li>
<li><a href="../352692/index.html">Sysmon to be safe. Enhance event auditing in Windows</a></li>
<li><a href="../352694/index.html">Behavior-Driven Testing for iOS using Quick and Nimble</a></li>
<li><a href="../352696/index.html">Product Design Digest March 2018</a></li>
<li><a href="../352698/index.html">Pre-sale engineer - personal psychologist of Sale or a person on the border of money and technology</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>