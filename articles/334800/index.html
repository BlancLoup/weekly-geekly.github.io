<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>DataGrip 2017.2: Supports Redshift and Azure, several databases in PostgreSQL, transaction control and more</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! We continue a series of posts about new versions of IDE from JetBrains. Talk about what's new in DataGrip 2017.2 . 

 - Amazon Redshift and Mic...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>DataGrip 2017.2: Supports Redshift and Azure, several databases in PostgreSQL, transaction control and more</h1><div class="post__text post__text-html js-mediator-article">  Hello!  We continue a series of posts about new versions of IDE from JetBrains.  Talk about what's new in <a href="https://www.jetbrains.com/datagrip/whatsnew/">DataGrip 2017.2</a> . <br><br>  - <b>Amazon Redshift</b> and <b>Microsoft Azure</b> support <br>  - <b>Multiple databases</b> for a single <b>PostgreSQL</b> source <br>  - <b>Transaction</b> Control <br>  - Evaluation of expressions <br>  - Divide <b>DDL</b> and <b>Data</b> tabs for tables <br>  - Integration with <b>recovery</b> tools for <b>PostgreSQL</b> and <b>MySQL</b> <br>  - Improvements related to the <b>launch of queries</b> <br>  - Improvements related to <b>writing code</b> <br>  and other‚Ä¶ <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/f2a/e47/0bb/f2ae470bb2f5481a8e175a62b593374b.png"></div><a name="habracut"></a><br><h2>  Amazon Redshift and Microsoft Azure support </h2><br>  Cloud technology is gaining momentum, and we are trying to keep up.  Users asked to support some of them in our tracker, <a href="https://youtrack.jetbrains.com/issue/DBE-3266">especially Redshift</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/d02/c30/1ec/d02c301ec041bd6f31dc39fff418d7ba.png"><br><br>  <i><b>Microsoft Azure</b></i> is similar to <i>SQL Server</i> : we added a driver, an interface for creating a data source, and improved getting information about objects.  This process is called "introspection." <br><br>  Introspection in <i><b>Amazon Redshift</b></i> has become incremental: after the operation, DataGrip looks for information only about the changed objects. <br><br>  Supported specific parts of the grammar that are not in <i>PostgreSQL</i> .  For example, <i>UNLOAD is</i> highlighted correctly, and the query in the argument string is processed like normal SQL ‚Äî autocompletion and navigation work. <br><br><img src="https://habrastorage.org/web/e06/777/da2/e06777da2ba342e1a08e9bf20f056b1d.png"><br><br>  Another example: support functions that are not in <i>PostgreSQL</i> . <br><br><img src="https://habrastorage.org/web/3fa/2b4/32c/3fa2b432ce4748d892f8f6b65722bdde.png"><br><br>  If in the code for <i>Redshift</i> something is highlighted in red, and you know that it is correct, this is a bug.  Please write about this in our <a href="https://youtrack.jetbrains.com/issues/DBE">tracker</a> . <br><br>  If you connect to <i>Azure</i> and <i>Redshift</i> through the drivers for <i>SQL Server</i> and <i>PostgreSQL</i> , please switch to the correct driver from the context menu. <br><br><img src="https://habrastorage.org/web/444/4ab/f4c/4444abf4c1fe4e12afc0df1564634996.png"><br><br><h2>  Multiple databases for one PostgreSQL source </h2><br>  We <a href="https://youtrack.jetbrains.com/issue/DBE-2287">have been waiting for</a> this thing for a <a href="https://youtrack.jetbrains.com/issue/DBE-2287">long time</a> , and we thank those who waited :) <br><br>  To do this, we rewrote a significant part of the kernel and are still working on it.  So your opinion on using multiple databases in <i>PostgreSQL</i> is especially important to us. <br><br><img src="https://habrastorage.org/web/fe0/5a4/95c/fe05a495c9ce4347a91bde810fcb8a95.png"><br><br>  Data sources with multiple databases now work in <i>Amazon Redshift</i> , in <i>Microsoft Azure,</i> and in other databases that you connect to via JDBC, if the driver itself supports it. <br><br><h2>  Traction control </h2><br>  <i>Transaction Control has</i> replaced the <i>Auto-commit</i> option <i>.</i> <br><br>  Determine the level of transaction control for each data source.  In <b>manual</b> mode, you need to commit transactions by performing a <i>COMMIT</i> .  In <b>automatic</b> mode ( <b>Auto</b> ) - no. <br><br><img src="https://habrastorage.org/web/be4/40a/115/be440a11594c44b786983260547a71e3.png"><br><br>  The transaction control level can also be defined for each console separately, along with the <b>Isolation level</b> , if the database supports it. <br><br><img src="https://habrastorage.org/web/c64/dce/0d2/c64dce0d2f0e4f59803dd09328fa681a.png"><br><br>  In the data editor, in manual mode, two buttons were added: <i>Commit</i> and <i>Rollback</i> .  These actions are available in the context menu. <br><br><img src="https://habrastorage.org/web/b4c/a41/c54/b4ca41c5482c41c6a2f51a9ec2c3c96f.png"><br><br>  It works like this: <br><br><h3>  Automatic and manual mode. </h3><br>  The <i><b>Submit</b></i> button or <i>Ctrl / Cmd + Enter</i> sends data to the database: your <b>local</b> changes are rolled in, which until then were highlighted and stored within the DataGrip session.  But this transaction <b>will not be fixed</b> if you have <b>manual</b> mode. <br><br>  <b><i>Revert Selected</i></b> from the context menu or <i>Ctrl / Cmd + Alt + Z</i> on selected lines rolls back local changes in these lines.  Previously, this was caused by <i>Ctrl + Z</i> , but usually this key combination means to cancel, not roll back. <br><br><h3>  Only in manual mode </h3><br>  The <b><i>Commit</i></b> or <i>Shift + Ctrl + Alt + Enter</i> button commits the transaction.  If you have local changes that are not sent to the database (remember: highlighted), they will <b>automatically</b> go to the database before they are recorded. <br><br>  <b><i>Rollback</i></b> button rolls back an uncommitted transaction. <br><br><br><h2>  Expression evaluation </h2><br>  This will help to quickly see the data without writing a separate query. <br><br>  As in our other IDEs, use the key combination <i>Ctrl + Alt + F8</i> to quickly calculate the value of an expression.  An expression in this case means the value of a database object, for example, for a table, it is the data itself. <br><br><img src="https://habrastorage.org/web/cc3/8ba/bd4/cc38babd47504400a3126153d383e28f.png"><br><br>  For a column from a query, these are the column values ‚Äã‚Äãin the expected result. <br><br><img src="https://habrastorage.org/web/d9c/d30/95b/d9cd3095b0cb4bd68af58091c25cf785.png"><br><br>  If you perform the same action on a keyword in a query (or subquery), its result will appear in a popup window.  <i>Alt + Click</i> works for this <i>.</i> <br><br><img src="https://habrastorage.org/web/deb/24f/289/deb24f289d0d4c3b8626ae427f3cc8bc.gif"><br><br>  <i>Alt + F8</i> calls a separate window for evaluating expressions.  As in the ‚Äúfast‚Äù version, for the table you will see the data. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/91c/f9c/f08/91cf9cf08e1855c8f15ac24331ba6eb7.png"><br><br>  Here you can evaluate expressions in the classic sense of this. <br><br><img src="https://habrastorage.org/web/08b/a4d/ae4/08ba4dae4aa4479385401c014208f007.png"><br><br><h2>  DDL tables </h2><br>  We have separated the table data from the source code - there are no more tabs <i>DDL</i> and <i>Data</i> . <br><br>  Now, double-click on the table to open the data.  To view the DDL, click Edit Source on the toolbar or Ctrl / Cmd + B on the table. <br><br><img src="https://habrastorage.org/web/26d/ea1/e9c/26dea1e9cce14dbfa924cf65bf41cccc.png"><br><br>  You will see the same DDL editor if you press <i>Ctrl / Cmd + B</i> on the table name in the SQL script.  Ctrl / Cmd + click does the same.  In previous versions, this action selected an object in the database tree.  In 2017.2, to do this, press <i>Alt + F1</i> and select <i>Database view</i> .  Write to us if it became inconvenient: after all, for such an action there used to be one click, and now two. <br><br>  But the data editor for the table has become easier to open - just press <i>F4</i> in the code or in the tree. <br><br><img src="https://habrastorage.org/web/a48/261/6cc/a482616cc1b5406dba79789b87d1a72a.gif"><br><br><br><h2>  Integration with recovery tools for PostgreSQL and MySQL </h2><br>  In 2016.3 we integrated <i>mysqldump</i> and <i>pg_dump</i> into DataGrip.  It was logical to integrate and restore tools for these bases, even <a href="https://habrahabr.ru/company/JetBrains/blog/325066/">asked</a> about it <a href="https://habrahabr.ru/company/JetBrains/blog/325066/">on Habr√©</a> last time.  They appeared in the context menu.  If only one tool is available in this context, for example, the menu item is called ' <i>Restore with pg_restore</i> '. <br><br><img src="https://habrastorage.org/web/5e8/dcb/90e/5e8dcb90e9b842be802a0b675d420a2f.png"><br><br>  If the base is <i>PostgreSQL</i> , then you can use <i>pg_dump</i> or <i>psql</i> : select at the top of the dialog. <br><br><img src="https://habrastorage.org/web/673/d9b/890/673d9b890f0541e687e082d8c5a45b12.png"><br><br>  And this is how the window looks for <i>MySQL</i> : <br><br><img src="https://habrastorage.org/web/ea7/45b/d3e/ea745bd3e79e4288963dc764d9c3c315.png"><br><br><h2>  Run queries </h2><br>  Added a new action - <i>Attach console</i> .  It is called, as always, from the search for actions using <i>Ctrl + Shift + A</i> or the context menu of the file.  The goal is to run the file in the context of a specific console that you attach to it. <br><br>  This way, you can run the script on multiple data sources sequentially. <br><br><img src="https://habrastorage.org/web/ff4/538/fab/ff4538fab50c4a85a2d8c6f295dfe65c.png"><br><br>  This <a href="https://youtrack.jetbrains.com/issue/DBE-3565">requested</a> : notification of the completion of long requests.  Now a request that has a runtime of more than 20 seconds will throw such a notification inside the DataGrip.  Notification can be turned off: the name of the notification ‚ÄúDatabase queries that took much time‚Äù. <br><br><img src="https://habrastorage.org/web/55c/467/e52/55c467e5255643498d7ae52dc6b73665.png"><br><br>  One more thing that was <a href="https://youtrack.jetbrains.com/issue/DBE-265">asked</a> : now, if you switch consoles, the result obtained from it is switched. <br><br><img src="https://habrastorage.org/web/b1c/440/0ed/b1c4400edb914fd3a438c0f2cccff271.gif"><br><br>  And vice versa: when switching tabs with results, consoles are switched. <br><br><img src="https://habrastorage.org/web/cc5/e98/a74/cc5e98a74708400ba8ab3c60a508fff4.gif"><br><br>  This behavior is now the default - to turn it off, look for the ‚Äú <i>Autoscroll</i> ..‚Äù options in the settings menu by the gear icon. <br><br><img src="https://habrastorage.org/web/e93/547/af7/e93547af79b342109e3ac7bdbea40e6f.png" width="48%"><br><br>  Another small improvement is that when you run a query with a subquery, the default selection window is an external query, not an internal one, as before.  Internal queries often cannot be executed. <br><br><img src="https://habrastorage.org/web/f5b/66c/afa/f5b66cafad824e8da18a880c423aaa31.png"><br><br>  Fixed switch schemes for read-only connections in <i>MySQL</i> . <br><br><img src="https://habrastorage.org/web/04b/128/e1c/04b128e1c1d6490abd5cb0e5c580a7f4.png"><br><br><h2>  Code writing </h2><br>  Autocompletion now works for functions returning tables. <br><br><img src="https://habrastorage.org/web/9fb/e11/246/9fbe112468f04c5e8e51e63fc73eae3a.png"><br><br>  Links <i>NEW</i> and <i>OLD are</i> correctly processed for triggers in PostgreSQL. <br><br><img src="https://habrastorage.org/web/801/d2a/4bf/801d2a4bf62546b0b7c4f687633e0edf.png"><br><br>  Added support for <i>MERGE</i> offers. <br><br><img src="https://habrastorage.org/web/226/fc9/480/226fc948079341b68bf19bf5e5639f95.png"><br><br>  Supported sequences in scripts. <br><br><img src="https://habrastorage.org/web/d77/e77/ddc/d77e77ddc8024881acfb5c509fe72ed9.png"><br><br><h2>  Rest </h2><br><h3>  Added: </h3><br>  - Database objects can be added to bookmarks ( <i>Bookmarks</i> ). <br>  - File indexing can be stopped and continued at any time. <br>  - Search results in <i>Find in Path</i> with the same lines are combined into one result. <br>  - Support for <i>ALTER FOREIGN TABLE</i> in <i>PostgreSQL</i> . <br>  - Support for the ' <i>json_table</i> ' function in <i>Oracle</i> . <br>  - All attributes are displayed in the generated DDL for <i>Redshift</i> . <br><br><h3>  Corrected: </h3><br>  - <a href="https://youtrack.jetbrains.com/issue/DBE-4600">DBE-4600</a> , the renamed schema is now immediately displayed in the script and in the tree. <br>  - <a href="https://youtrack.jetbrains.com/issue/DBE-1288">DBE-1288</a> , renaming sequences in PostgreSQL does not break the query. <br>  - <a href="https://youtrack.jetbrains.com/issue/DBE-4507">DBE-4507</a> , you can now create a composite primary key. <br>  - <a href="https://youtrack.jetbrains.com/issue/DBE-4637">DBE-4637</a> , requests with GROUP BY no longer report an error that does not exist. <br>  - Scrolling in the data editor has become faster. <br><br>  And as always: download <a href="https://www.jetbrains.com/datagrip/download/">here</a> , report bugs <a href="https://youtrack.jetbrains.com/issues/DBE">here</a> , and we also respond on the <a href="https://intellij-support.jetbrains.com/hc/en-us/community/topics/200381555-DataGrip">forum</a> , on <a href="https://twitter.com/0xdbe">Twitter</a> and here in the comments. <br><br>  Thank! <br>  JetBrains. </div><p>Source: <a href="https://habr.com/ru/post/334800/">https://habr.com/ru/post/334800/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../334790/index.html">As I made the fastest resize of images. Part 3, fixed-point numbers</a></li>
<li><a href="../334792/index.html">Microsoft did not isolate Windows Defender in the sandbox, so I did</a></li>
<li><a href="../334794/index.html">Bluetooth mesh - network architecture and security</a></li>
<li><a href="../334796/index.html">How Android works, part 1</a></li>
<li><a href="../334798/index.html">1C and ETL</a></li>
<li><a href="../334802/index.html">Music licensing for indie developers</a></li>
<li><a href="../334804/index.html">Finding the best place in the world for a windmill</a></li>
<li><a href="../334806/index.html">New V8 and Node.js speed: optimization techniques today and tomorrow</a></li>
<li><a href="../334810/index.html">Self-orginizing map on TensorFlow</a></li>
<li><a href="../334812/index.html">Rotational Tag Family for Autodesk Revit Downloadable Families</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>