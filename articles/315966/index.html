<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Create a simple VR demo with the Unreal Engine</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="As virtual reality becomes mainstream, more and more game developers are expressing a desire to create new content for devices like the HTC Vive and O...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Create a simple VR demo with the Unreal Engine</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/9a5/e83/316/9a5e8331603d445d9aa0d2488803b776.jpg"><br><br>  As virtual reality becomes mainstream, more and more game developers are expressing a desire to create new content for devices like the HTC Vive and Oculus Rift.  Of the available engines, two stand out in particular: Unreal Engine and Unity3D.  In this article we will look at the process of developing a small demo based on the Unreal Engine.  We are making a level where you can move freely, as well as take or destroy objects. <br><a name="habracut"></a><br><h1>  What is the Unreal Engine? </h1><br>  This is a game engine created by Epic Games in 1998. At first it was used to create the Unreal shooter, and since then, a number of large and complex games have been created based on the engine (including Unreal Tournament, Bioshock, Mortal Kombat X and many others ).  The Unreal Engine provides programmers with two sets of tools: the traditional <i>C ++</i> and the visual scripting system <i>Blueprints</i> , which allows you to quickly develop game logic. <br><br>  VR support came with the fourth version, in 2012.  The first device supported is the Oculus Rift DK1.  Today, the engine already works with all major devices. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Until March 2015, developers had to buy a license, but then the engine became free.  The only condition is that if the profit from a game created on the Unreal Engine exceeds $ 3000, you need to <a href="https://www.unrealengine.com/blog/ue4-is-free">deduct 5% of royalties</a> . <br><br><h1>  Alternative </h1><br>  Alternatively, you can use the Unity3D engine to create VR games.  It is more youthful and was initially sharpened for mobile games, although the 2D functionality in it is very advanced.  And due to its popularity and flexibility, the engine is actively used to create desktop games and VR-content.  You can create games in Unity3D using <i>C #</i> , <i>JavaScript,</i> or <i>Boo</i> .  As with Unreal, the engine is free. <br><br>  For this article, I chose the Unreal Engine to show the process of creating a desktop game that will work on the most advanced VR devices.  Also, this engine allows you to quickly make prototypes. <br><br><h1>  Why develop VR products? </h1><br>  In recent years, VR technology has reached new levels of immersion.  So users will show much more interest in VR games than in 3D and 2D.  And once we have the opportunity to create new impressive content, we must take a logical step and do it. <br><br>  From the developer's point of view, VR poses a number of new challenges related to the interaction and control of various elements of the game.  This includes narration, sound design, movement and more.  Given that future games will be created with the expectation of VR, we already have a chance to change the world of games and entertainment. <br><br><h1>  Device selection </h1><br>  I chose the HTC Vive because: <br><br><ul><li>  We create a demo for desktops (this automatically excludes from consideration mobile devices like Samsung Gear VR, Google Daydream and so on). </li><li>  HTC Vive allows you to use the roomscale (Oculus Rift will also soon get this opportunity). </li><li>  HTC Vive already has two displacement controllers (Oculus Rift Touch needs to be bought separately) </li></ul><br>  Since we want to use controllers to interact with objects, the choice of HTC Vive is obvious. <br><br><h1>  VR setup </h1><br>  Take the glasses HTC Vive, a powerful computer and go through the checklist: <br><br><ol><li>  Check that everything is properly connected.  <a href="https://support.steampowered.com/kb_article.php%3Fref%3D2001-UXCM-4439">Instructions</a> . </li><li>  Install Steam and SteamVR. </li><li>  Check that the firmware on the glasses and all controllers are updated. </li><li>  Run ‚ÄúRoom setup‚Äù and ‚ÄúTutorial‚Äù to set up roomscale.  Check that everything works correctly. </li><li>  Download and install the <a href="https://www.unrealengine.com/">Unreal Engine</a> (version 4.13.2). </li></ol><br>  Now you can start the demo. <br><br><h1>  Implementation of the demo </h1><br>  Before you start developing, you need to arm yourself with the knowledge of how to work with blueprints.  We will analyze the process of creating a new project, adjusting the level and creating simple game logic, so that you can point to an object, click on the trigger and destroy it. <br><br>  Launch the Unreal Engine and go to the <i>New project</i> tab.  In the <i>Blueprint</i> section, select <i>Virtual Reality</i> .  In the project settings ( <i>Project setup</i> ), select <i>Desktop / console</i> , <i>Maximum Quality</i> (maximum quality) and <i>No starter content</i> (without initial data), and in the <i>Location</i> (location) set the path to the project files. <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/8f0/a97/811/8f0a97811003f711b83c5b9f4c71ed62.png"></a> <br><br>  Go to the plugin menu, and confirm in <i>Virtual Reality</i> that we have the ‚ÄúSteamVR‚Äù plugin enabled. <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/307/18a/1f8/30718a1f8c9d6be376a0c1d629daef4a.png"></a> <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/166/528/5ec/1665285eccf442e7a5fd1eb7ff39d175.png"></a> <br><br>  In the content browser, go to the <i>VirtualRealityBP / maps</i> folder and open the ‚ÄúMotionControllerMap‚Äù. <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/fa0/c43/50e/fa0c4350eabb62dfe0cd48f2e097cb15.png"></a> <br><br>  You will see a pre-generated level that can be used.  Here we can apply a variety of actions.  For example, grab objects and teleport a player by level.  Experiment to make sure everything works correctly.  Now let's introduce the logic of destroying an object, when we point at it and click on the trigger. <br><br>  To do this in <i>VirtualRealityBP / Blueprints,</i> open the Blueprint ‚ÄúMotionControllerPawn‚Äù. <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/20a/ae9/987/20aae9987a8f57dfadc8fc16aa4abd53.png"></a> <br><br>  Call the event ‚ÄúMotionController¬Æ Trigger‚Äù for the right hand and set the Boolean value (true / false) to press and release the shutter button: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fb6/570/1b6/fb65701b6259d2eb86b60aa0ca037fae.png"><br><br>  For the Tick event, create a linetrace line to see what object we are aiming at.  To do this, set the start and end points.  For the starting point, we bind the <i>Right Controller</i> , the <i>Motion Controller</i> and get <i>GetWorldLocation</i> . <br><br>  Also with the <i>Motion Controller</i> associate <i>Get Forward Vector</i> .  In this way we will get the direction of aiming by the controller.  Multiply this vector by the required distance (say, by 1000 = 10 meters) and add to the initial location, thereby obtaining the end point. <br><br>  Add the <i>LineTraceByChannel</i> module, connect the start and end points, in the <i>Draw Debug Type</i> tab select <i>One Frame</i> .  This parameter means drawing a line between the start and end points. <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/b80/75c/e4a/b8075ce4ab3ea2fce96c164ce2b36446.png"></a> <br><br>  Next, go to the output <i>Break Hit Result</i> , for <i>Hit Actor</i> make the transition <i>Cast to BP_PickupCube</i> .  This means that at the level we can only choose blue cubes. <br><br>  Now we throw a branch and check the boolean value for the previously created <i>Can Destroy</i> .  If it is false, then we do nothing.  If true, then call the <i>DestroyActor</i> module to destroy the selected object. <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/02b/445/456/02b4454560703b06ed308cbd4ab87ae2.png"></a> <br><br>  Is done.  You can click the Play button, select VRpreview and test your creation. <br><br><h1>  Final word </h1><br>  As you can see, everything is simple.  The engine offers us content billets that greatly facilitate the first steps for beginners.  Moreover, Unreal allows us to distance ourselves from equipment (for example, we do not need to think about tracking devices or how to render an image with glasses).  This allows you to focus on the content itself. <br><br>  In my experience, Blueprints are a great way to create game mechanics with a few clicks.  Based on the demo created by us, you can easily understand the process of VR development on the Unreal engine, mastering more and more complex schemes and gaming activities.  It's time to create the future of virtual reality. </div><p>Source: <a href="https://habr.com/ru/post/315966/">https://habr.com/ru/post/315966/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../315956/index.html">Intersystems DeepSee. Easy and fast data visualization</a></li>
<li><a href="../315958/index.html">How MTS using a solar-powered repeater launched 3G and LTE in the mountains</a></li>
<li><a href="../315960/index.html">Linux wifi from the command line with wpa_supplicant</a></li>
<li><a href="../315962/index.html">The release of CLion 2016.3: improved support for C11, C ++ 11 and C ++ 14, changes in working with the CMake design model and much more</a></li>
<li><a href="../315964/index.html">About types of used routers on MSK-IX and W-IX</a></li>
<li><a href="../315968/index.html">How we made a bot for the bank "Opening"</a></li>
<li><a href="../315970/index.html">The technique of total prescale in the lighting algorithm for a 2D 2D tile game</a></li>
<li><a href="../315972/index.html">Protection of virtual machines located in the data center</a></li>
<li><a href="../315974/index.html">A person. Guido Van Rossum - Python Creator</a></li>
<li><a href="../315976/index.html">The train coming late: Announcement of the JPoint 2017 Java Conference</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>