<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Installing MeteorJS on Raspberry Pi B + running Arch Linux ARM</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="If there is someone else who, like me, suddenly decides to use RPI as a home or test server with a deployed meteor application, I hope this instructio...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Installing MeteorJS on Raspberry Pi B + running Arch Linux ARM</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/5dc/c1c/7f1/5dcc1c7f1b004898b1ac70cc8d27e853.png"><br><br>  If there is someone else who, like me, suddenly decides to use RPI as a home or test server with a deployed meteor application, I hope this instruction will be useful to him.  The choice fell on Arch Linux, because, as I know, at present it is the only distribution for the ARM platform that supports the work of MongoDB on localhost. <br><br>  I usually use Mac OS X and Ubuntu, and this was my first meeting with Arch Linux, so some procedures caused questions and forced me to dig around on the Internet.  Perhaps this instruction will seem to someone primitive, but I would like to find one before I encountered difficulties.  If you find an inaccuracy, an error, or want to add something - you are welcome in the comments. <br><a name="habracut"></a><br><h4>  <b>1. Install Arch Linux ARM</b> </h4><br>  Download and unpack the archive with the img-image <a href="">from here</a> , then write it to the mSD card.  On my Mac, I used the <a href="">ApplePi Baker</a> application for this.  After recording, insert the memory card into RPI and login using ssh: <br><pre><code class="bash hljs">$ ssh root@192.168.1.11</code> </pre> <br>  The default password is 'root'. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  <b>2. Expansion of the root partition</b> </h4><br>  In sufficient detail, the procedure for expanding the disk space of a partition is described in this <a href="http://habrahabr.ru/post/219307/">material by the</a> user <a href="https://habrahabr.ru/users/dmitriy5181/" class="user_link">dmitriy5181</a> .  From myself I want to add that in order to make MongoDB work, the noatime parameter should not be set in the / etc / fstab file ‚Äî Mongo did not work for me with it. <br><br><h4>  <b>3. Set the time zone</b> </h4><br>  Checking current installations <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># timedatectl status</span></span></code> </pre><br>  If necessary, we look, what are the time zones, choose the appropriate <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># timedatectl list-timezones</span></span></code> </pre><br>  And install it with the command <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># timedatectl set-timezone Europe/Minsk</span></span></code> </pre><br><br><h4>  <b>4. Installing node.js and dependencies</b> </h4><br>  In general, for node, js, you need python2, a make utility, and a set of GCC compilers.  Install everything you need <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># pacman -Sy nodejs mongodb python2 make gcc</span></span></code> </pre><br><br><h4>  <b>5. Creating a python symbolic link</b> </h4><br>  When installing python2 in Arch Linux, a symbolic link is created / usr / bin / python2, but we need a link with the name python, so just copy the existing one <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># cp /usr/bin/python2 /usr/bin/python</span></span></code> </pre><br><br><h4>  <b>6. Running Mongo Installed</b> </h4><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># systemctl start mongodb</span></span></code> </pre><br>  You can check the status of his work with the command <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># systemctl status mongodb</span></span></code> </pre><br>  There is a <a href="https://ru.wikipedia.org/wiki/Systemd">systemd</a> daemon in Arch Linux, so to add MongoDB to autorun, just run the command <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># systemctl enable mongodb</span></span></code> </pre><br><br><h4>  <b>7. Project Transfer</b> </h4><br>  On the working machine (on the one where you are developing the project with MeteorJS) in the folder with the application (for example, ~ / meteorapps) we create a bundle of the desired project by the command <br><pre> <code class="bash hljs">$ meteor bundle myapp.tgz</code> </pre><br>  Then we transfer the created app.tgz to the mSD memory card and unpack <br><pre> <code class="bash hljs">tar -xvzf myapp.tgz</code> </pre><br><br><h4>  <b>8. Install specific dependencies</b> </h4><br>  To begin with, reinstall the library for working with unicode (something was wrong with the system version) <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># pacman -Sy libunistring</span></span></code> </pre><br>  Install packages for node.js <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># npm install fibers@1.0.1 bcrypt@0.7.7</span></span></code> </pre><br>  I used specific versions, but I believe that with the latter everything will work too.  If not, they can always be reinstalled using the command above. <br><br>  Also, some libraries were needed for my project. <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># npm install underscore source-map-support semver # npm install</span></span></code> </pre><br><br><h4>  <b>9. Run the application</b> </h4><br>  If everything is ready, the launch of the application can be done as follows. <br><br>  Create a file that describes our service and how to start it. <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># nano /usr/lib/systemd/system/myapp.service</span></span></code> </pre><br>  Contents of myapp.service file <br><pre> <code class="bash hljs">[Unit] Description=My awesome Meteor.JS app After=mongodb.target [Service] User=pi Environment=ROOT_URL=http://192.168.1.11 PORT=80 MONGO_URL=mongodb://localhost:27017/myapp ExecStart=/usr/bin/node /home/pi/meteorapps/myapp/main.js [Install] WantedBy=multi-user.target</code> </pre><br>  Here you need to substitute the user name, PORT, ROOT_URL and the path to main.js. <br><br>  The service is started by the command <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># systemctl start myapp</span></span></code> </pre><br><br>  Similar to the case with MongoDB, the service can be added to autorun <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># systemctl enable myapp</span></span></code> </pre><br><br>  If everything went smoothly, you can now log in from the working machine at <a href="http://192.168.1.11/">192.168.1.11</a> and see the face of the application. </div><p>Source: <a href="https://habr.com/ru/post/249677/">https://habr.com/ru/post/249677/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../249661/index.html">To recognize the pictures, you do not need to recognize the pictures.</a></li>
<li><a href="../249663/index.html">Attempt to reincarnation and stuffing in Open-Source Yandex.Following</a></li>
<li><a href="../249665/index.html">Mobile app security, or ‚ÄúWho will check the reviewers?‚Äù</a></li>
<li><a href="../249673/index.html">27 new free courses virtual academy Microsoft Virtual Academy, February 2015</a></li>
<li><a href="../249675/index.html">Right now there is a live seminar on Extreme Networks</a></li>
<li><a href="../249679/index.html">Installation manual for the Couchbase 2.1.1 Community and the basics of working with it</a></li>
<li><a href="../249681/index.html">Protection of games and mobile applications from hacking for dummies (Unity, C #, Mono)</a></li>
<li><a href="../249685/index.html">(Video) How to document the project at the start and the project scope</a></li>
<li><a href="../249687/index.html">VMware vSphere 5.5 Problem Solving Training Workshop</a></li>
<li><a href="../249693/index.html">Model of access control systems in an enterprise based on Arduino</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>