<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>What should we build an open data center? Some details about the structure of Facebook DC in Altoona</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Over the past year, Facebook has brought many interesting things to the standards for the development of network equipment. Moreover, if the majority ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>What should we build an open data center? Some details about the structure of Facebook DC in Altoona</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/4e3/8dc/775/4e38dc775914171cc73ad3346742e23f.jpg"><br><br>  Over the past year, Facebook has brought many interesting things to the standards for the development of network equipment.  Moreover, if the majority of developers leave their projects proprietary, then Facebook opens up innovations for others.  Actually, for a company whose purpose is to provide information to the public, such a model of work makes sense.  At the same time, an open work scheme allows Facebook to save money.  According to James Taylor, vice president of infrastructure, for the last 3 years, Facebook has saved more than $ 2 billion, allowing members of <a href="http://www.opencompute.org/">the Open Compute Project</a> to work on their own specifications. <br><a name="habracut"></a><br>  In addition, the <a href="https://code.facebook.com/posts/681382905244727/introducing-wedge-and-fboss-the-next-steps-toward-a-disaggregated-network/">Wedge</a> , an open top-of-rack switch developed by the OCP community, attracts attention.  This was followed by <a href="https://code.facebook.com/posts/717010588413497/introducing-6-pack-the-first-open-hardware-modular-switch/">6-Pack</a> , <a href="https://code.facebook.com/posts/843620439027582/facebook-open-switching-system-fboss-and-wedge-in-the-open/">FBOSS</a> and <a href="https://code.facebook.com/posts/1601610310055392/introducing-openbmc-an-open-software-framework-for-next-generation-system-management/">OpenBNC</a> .  Facebook has built its new data center based on the development of the Open Compute Project in Altoona, Iowa, USA.  At the same time, the company provided all the necessary information about <a href="https://code.facebook.com/posts/360346274145943/introducing-data-center-fabric-the-next-generation-facebook-data-center-network/">this project</a> .  There are several ideas that can be used in data centers of other companies, moreover, DC of any size. <br><br><h3>  Facebook cluster design </h3><br>  The first image shows the aggregated cluster design of the DC in Altoona.  The developers call the 4-post architecture of the data center.  Here, up to 255 racks can be combined via ToR switches to high density cluster switches (CSW).  RSW can have up to 44 10G downlinks and 4 or 8 10G uplinks.  Four CWS and connected RSWs make up a cluster. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/467/066/fde/467066fdef4e20f0350a85e10c5329eb.jpg"><br><br>  Four aggregated ‚ÄúFatCat‚Äù (FC) switches unite clusters into a single system.  Each CSW has a 40G connection with one of the four FCs.  A protective 80G ring combines CWS within each cluster, and the FCs are connected to a protective 160G ring. <br><br>  This is a really good structure for several reasons, including the reliability and practicality of the system.  However, for Facebook this was not enough.  The fact is that many problems in this kind of architecture are a consequence of the need to install very large switches for CSW and FC. <br><br><h3>  What is with Altoona? </h3><br>  In the architecture of the data center of the new generation from Altoona, most of the problems of cluster architecture are solved, while maintaining the best features of this type of architecture. <br><br>  For example, not a few big switches are used here, but many small ones.  In addition, each switch is responsible for a small percentage of the load, and the failure of one switch is not a significant problem; <br><br>  Also in such a DC, capital and operating costs are reduced; <br><br>  Increasing the size and power of a data center of this type is made in a very short time, much cheaper than in conventional DCs. <br><br>  The network topology of such a DC is shown in the following image, where you can quickly recognize <a href="http://www.networkworld.com/article/2226122/cisco-subnet/clos-networks--what-s-old-is-new-again.html">Clos</a> .  Instead of working with hundreds of racks in a cluster design, here each of the topological units is responsible for 48 racks. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4c6/7b8/56b/4c67b856b26a24bcaeb32ad57cc28122.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/618/fa6/592/618fa6592acf42efe644c8a004b79616.jpg"><br><br>  Below is a volume diagram of the topology of this kind of data center. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3ab/16b/865/3ab16b86529606b5bca2d159c37afcce.png"><br><br>  Facebook representatives argue that the modular design of the data center allows you to very quickly change the structure of the DC, adding or removing certain elements.  All changes are made in minimal time with minimal cost.  This point of view is explained in more detail here: <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/mLEawo6OzFM%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhgY9lzrKMyukOjLoy_L2Fc-s6o0Yw" frameborder="0" allowfullscreen=""></iframe><br><br>  The advantage of Facebook's new type of data center is the ability to use small switches in architecture, which allows the object to be scaled to any size without the need to change the basic blocks. <br><br>  Switches can be used from Accton, Quanta, Celestica, Dell and some other companies.  At the same time, the cost of a switch from Quanta with 32 40G ports is 7495 dollars, and Juniper QFX5100 with 24 40G ports costs a little less than 30 thousand. <br><br><h3>  Hyperscaling - what is it? </h3><br>  Most professionals working in the telecommunications sector apply this term only to giants like Amazon, Google, Facebook.  However, the term means the ability to change the scaling in a very short time.  A hyper-scaled data center may be relatively small, but it can be enlarged at any time without making fundamental changes to the infrastructure.  Also in this case it should be possible to use the same switches and connections that were used initially. <br><br>  In DC there can be only a few racks, but it can already be hyperscale-DC. <br><br>  Another misconception in terms of hyper-scaling is the belief that DCs of this type are ‚Äúsharpened‚Äù for optimal performance with one or several main applications.  This is not entirely true.  Ideally, hyperscale design means the ability to support hundreds of business applications with the same ease with which DCs work with big-data, search applications or social media. <br><br>  As for DC Facebook - here you can add additional blocks and layers without any problems, and as much as you need at a particular moment. </div><p>Source: <a href="https://habr.com/ru/post/255933/">https://habr.com/ru/post/255933/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../255921/index.html">Eco Driving: an overview of the driver behavior assessment tool.</a></li>
<li><a href="../255925/index.html">Data carriers. What we have year 2015 and what should we expect beyond its horizon?</a></li>
<li><a href="../255927/index.html">Intel Edison officially in Russia: pre-order and project competition</a></li>
<li><a href="../255929/index.html">Schneider Electric thanked the winner of the PHDays hacker contest</a></li>
<li><a href="../255931/index.html">IPP functions with border support for multi-stream image processing</a></li>
<li><a href="../255935/index.html">Limbo game defense research. Keygen</a></li>
<li><a href="../255939/index.html">Unity Web Player and Java support disabled in Google Chrome 42</a></li>
<li><a href="../255941/index.html">Organization and use of segmentation in large mobile applications</a></li>
<li><a href="../255945/index.html">Neural Interfaces: From Photo Paper to Neural Dust</a></li>
<li><a href="../255949/index.html">Retro style in photographic equipment: where does fashion end and need begin?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>