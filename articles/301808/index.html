<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>PostgreSQL is not Rocket Science. How much is the eggs now?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I constantly come across statements from the PostgreSQL series is too complicated a base for my small project, so I will continue to work with MySQL. ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>PostgreSQL is not Rocket Science. How much is the eggs now?</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/e4a/dc9/967/e4adc99677e74469aacf11c2ad26d929.jpg"><br><br>  I constantly come across statements from the PostgreSQL series is too complicated a base for my small project, so I will continue to work with MySQL. <br>  In this article, I would like to show that a person who knows MySQL will have absolutely no difficulty in starting development with PostgreSQL. <br><a name="habracut"></a><br><br>  I'll start very far away 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The classical economic law of supply and demand assumes that as the price of a product decreases, demand automatically increases.  However, in practice, this is not entirely true, because people do not have complete information. <br><br>  Suppose you want to make scrambled eggs for breakfast.  And you need eggs. <br><br>  To get the OPTIMAL result, you need to travel ALL the stores, compare prices, quality, listen to customer reviews, and finally choose a good product for you at the lowest price.  Naturally, no one does this, because there is a high probability of dying of hunger while all this is being done. <br><br>  Or, for example, you made the coolest startup, a certain site that should turn the world around.  But if nobody knows about him, it's all the same that he doesn't exist at all.  Need advertising, marketing, etc. <br><br>  In other words, not only the quality and price of the product, but also the costs of making a decision, for some organizational issues are important.  And all this is very, very significant.  In this article, I would like to slightly reduce the costs of transition to postgresql DBMS.  Those.  prompt ‚Äúegg prices‚Äù. <br><br>  On the past pgday, Oleg Bunin made a speech in which many correct things were said that PostgreSQL, despite all its coolness, was undeservedly used a little in projects.  Various reasons were cited, with most of which I fully agree. <br><br>  But!  At the same time, Oleg gave an example from his practice, when he reluctantly advised his client to use MySQL for the new project, because you can't take the whole team (which already knows how to muskul) to retrain from scratch to write to PostgreSQL.  Few books, courses, etc.  And in the end, the business will suffer from this. <br><br>  I believe that this is not entirely true. <br><br>  Take a typical MySQL project.  What is used there?  In 99% of cases, these are the simplest queries, because in this database there are still no recursive CTEs, no window functions (although they are planning in future versions), no custom data types, no advanced work with arrays, no indexes on expressions, and so on. d etc. <br><br>  Let's compare the syntax of simple queries on different databases. <br><br>  MySQL: <br><br><pre><code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> <span class="hljs-keyword"><span class="hljs-keyword">users</span></span> <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> = <span class="hljs-number"><span class="hljs-number">5</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">users</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> = <span class="hljs-string"><span class="hljs-string">''</span></span> <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> = <span class="hljs-number"><span class="hljs-number">5</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">INSERT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INTO</span></span> <span class="hljs-keyword"><span class="hljs-keyword">users</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">name</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">VALUES</span></span> (<span class="hljs-string"><span class="hljs-string">''</span></span>);</code> </pre> <br><br>  Postgres: <br><br><pre> <code class="sql hljs"><span class="hljs-comment"><span class="hljs-comment">--  SELECT name FROM users WHERE id = 5; UPDATE users SET name = '' WHERE id = 5; INSERT INTO users (name) VALUES ('');</span></span></code> </pre><br><br>  This functionality is already enough to write a lot of things. <br><br>  Well, okay, okay, there are some nuances. <br><br>  In MySQL, complex identifiers can be escaped with <b>`</b> , and in the preceding statement it is used for this <b>"</b> (therefore, you must use single quotes in string constants) <br><br>  MySQL uses INSERT IGNORE ..., <br>  in posgres INSERT ... ON CONFLICT ... <br><br>  In the postpoint there is no INET_NTOA function, but there are a lot of ways to do the same thing in other ways. <br><br>  In MySQL, the term is called DATABASE, in postgres the same is called SCHEMA. <br><br>  In MySQL, you need to write BIGINT AUTO_INCREMENT, in the bigserial list <br><br>  There are other differences, the same in general ‚Äúlarge-scale‚Äù. <br><br>  But tell me, is it so inconceivably difficult to understand quotes and other minor nuances? <br><br>  It seems to me that a person who has, so to speak, a brain on his shoulders, does not need books and courses to comprehend the incredible depth of these differences.  Manual enough or even stupid StackOverflow. <br><br>  And this is well confirmed by the practice: many projects moved to postgres: at first everything was written as used 1: 1 as on mysql, and only then, as we studied various features, we began to introduce a new functionality for ourselves. <br><br>  I often hear another argument: ‚ÄúOh, well, this is some kind of spaceship that I cannot master.  All these CTE and Partial indices, too lazy to study all this.  My project has enough MySQL features. ‚Äù <br><br>  But damn, for a simple project there will be no difference at all between the bases.  Therefore, from the developer‚Äôs point of view, there will be no additional costs for postgres.  And if it grows up (your project), then you may later need advanced features of the database: <br><br>  - simplify complex queries using CTE <br>  - do many things at once with one request using window functions. <br>  - Ability to make multiple CREATE TABLE, ALTER TABLE, etc.  within a transaction (and rolled back in the middle if something went wrong) <br>  - CREATE INDEX CONCURRENTLY (create an index on large tables without forcing the base) <br>  - Materialized View <br>  - Index by expression (instead of generating and maintaining a separate column for this case) <br>  - Partial Index (to speed up some queries or, for example, to ensure uniqueness by condition) <br>  - and a bunch of different indexes (gist, gin, brin, etc.). <br>  - work with arrays, for example, using unnest and array functions <br>  - Replication hot standby <br>  - Inheritance tables <br>  - custom data types and rules for conversion (create type, create cast).  A lot of extensions are made on this account, for example, the type ip4r allows you to easily and quickly work with ip address ranges (ip search in ranges can be indexed with a gist index) <br>  - custom operators (CREATE OPERATOR).  I haven't tried it myself yet, but I look this way. <br>  - stored procedures in different languages, for example javascript (plv8) or python <br>  - time with timezone (timestamp with time zone) <br>  - quick deletion and addition of columns in tables <br>  - indexed json (jsonb type) <br>  - checking the validity of the data through the check (in it, for example, you can check the presence / absence of the necessary elements in json) <br>  - sequences instead of auto_increment (you can do looped, common to several tables, etc.) <br>  - Foreign Data Wrappers - you can zagzhoyunit in a single query table from the post, from mysql and csv-file <br>  - and another 100,500 other features, extensions, and even forks.  I have been working with the company for a long time, but I constantly open new opportunities. <br><br>  For the sake of justice, it should be noted that mysql seems to have begun to develop well and get rid of Legacy.  That is, what was in 5.5 and what is now is already a significant difference (for example, strict mode by default).  They say that in the next version they will refuse to use myisam in system tables, add CTE and window functions - this is a big step forward.  But subjectively for now it is still very, very far behind the edge.  Which, too, in general, does not stand still ( <a href="https://wiki.postgresql.org/wiki/Todo">wiki.postgresql.org/wiki/Todo</a> ) <br><br>  Everything that is written above is fair from the point of view of the developer.  From the point of view of admins and database db differ, there's nothing to say.  However, for a simple project, again, enough Google and stackoverflow. <br><br>  To summarize, in order for a muscular team to start a project on a post, you need only a person who will supply and charge the base for a specific load profile.  (this, however, is true for any DBMS).  You can hire some dBA for this business.  But the code itself can be written without any problems. <br><br>  This is not just a theoretical reasoning, I myself worked (s) as part of projects that migrated to postgresql without any books, etc.  And later, newcomers, too, in general, no problems pouring into the development.  Because when the code finally comes up with advanced features from the program, there are already people who can be asked what and how. <br><br>  PS If DBA read me, please write a distinct article for beginners on Habr ‚ÄúHow to install and configure PostgreSQL.  Basics. "  IMHO this article is very necessary. </div><p>Source: <a href="https://habr.com/ru/post/301808/">https://habr.com/ru/post/301808/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../301798/index.html">Distributed time tracking program</a></li>
<li><a href="../301800/index.html">DevCon 2016. Join the broadcast today at 09:30! What awaits you on the second day?</a></li>
<li><a href="../301802/index.html">All lie, and you do not lie, or the debunking of the myth of memorization</a></li>
<li><a href="../301804/index.html">Event system and responses or the makings of Visual Scripting for Unity3D</a></li>
<li><a href="../301806/index.html">DevConf :: PHP 2016 - the final vote on the section reports is over, manage to cast your vote before May 31</a></li>
<li><a href="../301810/index.html">Squeezing gigabits: or undocumented ViPNet Client / Coordinator feature</a></li>
<li><a href="../301812/index.html">We test the project on SaltStack using KitchenCI</a></li>
<li><a href="../301814/index.html">How to choose ITshnika in Russia: myth number 2, number 3</a></li>
<li><a href="../301816/index.html">Are the "top" sites safe: exploring Alexa ranking</a></li>
<li><a href="../301820/index.html">Postgres in Chinese or setting Full Text Search in Postgres for Chinese</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>