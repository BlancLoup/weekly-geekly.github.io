<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>OAuth in practice. Authentication and authorization of site users through popular social networks</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I think it‚Äôs not for me alone that I‚Äôm extremely fed up with resources requiring registration on every occasion and without. With the obligatory captc...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>OAuth in practice. Authentication and authorization of site users through popular social networks</h1><div class="post__text post__text-html js-mediator-article">  I think it‚Äôs not for me alone that I‚Äôm extremely fed up with resources requiring registration on every occasion and without.  With the obligatory captcha, which is correctly entered only from the fifth time, with confirmation by e-mail, which will definitely fall into spam and then - only in a day.  To invent a new login-password pair every time will be forgotten, it is not safe to enter the same thing on all sites.  In places, they roll pairs of the form ‚Äúqwerty: qwerty‚Äù or ‚Äúlogin: password‚Äù, but, alas, not everywhere.  I'm tired.  Do not count how many times I, seeing the inscription "only a registered user can ****", just crooked and closed the tab, so that I never go to this site again.  Do resource managers themselves do not understand this? <a name="habracut"></a>  But OAuth technology is already 6 years old, and 90% of the Internet audience has an account on at least one of the resources that support OAuth.  So why there is no ‚ÄúLogin through‚Äù button on every resource?  I installed the survey on my site <img src="http://useq.org.ru/pix/oauth_vote.jpg" align="right" alt="image">  those.  I voted a little (not all of my users have their own website with registration), but it‚Äôs enough to have the idea to write this article, in the hope that there will be more sites that use OAuth for authorization.  Because: <ul><li>  This is not a complicated technology.  I dare to hope that everyone who has found the strength to read the article to the end will be able to independently bolt OAuth to his site in 1-2 days. </li><li>  OAuth is based on HTTP.  Most service providers do not even require digital signatures, i.e., apart from the ability to create GET and POST requests, nothing is needed, and the simplicity of the protocol allows an OAuth client to be written ‚Äúon the knee‚Äù in just an hour.  Without any special libraries. </li><li>  So they will register with you!  Simply use their login password on another site.  Service providers do not provide any specific user profile required on your site?  So request this characteristic at the first visit and all business.  For the rest - the user logged in through OAuth is no different from registered in the usual way. </li><li>  I did not intend to describe in detail the OAuth protocol and its capabilities.  This is all written repeatedly, for example, <a href="http://habrahabr.ru/post/77648/">here</a> and <a href="http://habrahabr.ru/company/mailru/blog/115163/">here</a> .  I want to give examples of the practical implementation of OAuth for the most common social networks of RuNet without being tied to a specific language. </li><li>  As for the 7% who do not need OAuth - if 93 out of a hundred administrators who have read this post implement OAuth on their site, I will be more than satisfied :) </li></ul><br><br><h4>  Why OAuth, not OpenID? </h4>  Because OpenID is practically useless for those purposes for which it is declared.  This is purely my opinion, but it does not rely on empty space. <br>  First, OpenIDs are used mainly by geeks, the percentage of which on the Internet is not so high as to rebuild their sites (with some exceptions, of course :)) Why is that?  Because in order to get an OpenID account, you need to - get it.  Log on to the OpenID server and take some action to get some rather obscure set of characters.  Which, in spite of the complexity (for the simple user), must be remembered and entered on occasion, if the familiar icon picks up <img src="http://useq.org.ru/images/openid.gif" alt="image">  .  Well, what kind of casual user will do this?  And with OAuth, everything is much simpler - a person sees the ‚ÄúLogin with VKontakte‚Äù button, clicks, and ... already on the site with registered user rights.  ‚ÄúKeep it simple,‚Äù the classic said, ‚Äúand people will reach for you.‚Äù  As the water looked. <br>  Secondly, the possibilities of OAuth are far from exhausted by authentication and authorization.  Having received a token in the process of authorization, it can be used to further integrate the capabilities of social networks into your resource - reading / writing posts, access to friendlt and wall, and much more. <br>  Thirdly, OpenID is actively used by spammers and hackers.  Frequently, the implementation of OpenID authentication on a resource is done without paying special attention to its known vulnerabilities - only by the description of the protocol on the OpenID provider or with the help of an unknown person and when the written library.  For example, many sites do not require captcha input from incoming OpenID.  And nothing prevents an attacker from raising his OpenID server, which will confirm any identifier and start spamming a trusting site with automatically generated identifiers.  In addition, OpenID authentication, in essence, does not give any guarantees to the client.  It only confirms that the requested user is actually registered on one of the OpenID servers, and that‚Äôs all.  Mechanisms for obtaining additional information about the user (email, name, age) are available, but few are supported.  You can, of course, in violation of the ideas of OpenID, analyze the identifier and trust only certain OpenID providers (for example, the same social programs).  But the point is, if almost all of them (with the exception of LiveJournal, but he doesn‚Äôt tell anything about the user via OpenID) support OAuth, which allows you to get much more information?  So from all of my sites I generally removed support for OpenID. <br><br><h4>  Why OAuth, not the login via widget? </h4>  No problems.  If you are satisfied with the functionality, design and security level of the widget - then it is actually much easier to stick it into the code - you can not read further. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  How it works. </h4>  If anyone is interested in all the details, then see the links above.  And in short - like this: <ol><li>  You go to the service provider XXX, register your website there, get a client code and a secret code. </li><li>  By pressing the button on your site ‚Äúlogin through XXX‚Äù, requests are exchanged with the XXX server, the user is redirected to XXX to enter a password, login and confirmation of data transfer to your website and receive a token, through which XXX server can request additional information about the user .  Specificity depends on the service provider‚Äôs OAuth implementation ‚Äî supported protocol version, supported streams, etc. </li><li>  Using the received token from the XXX server, you can get the name, email, date of birth, avatar and other information that is usually required at registration.  After that, you can call the standard function to add a new user. </li></ol><br><br><h4>  Why is raw HTTP rather than chunks of code using the OAuth library? </h4>  Because I was tormented by the order, pulling out this most raw HTTP often from pieces of code that illustrate the use of a particular library.  The specific implementation of OAuth on each server has its own subtleties, to which even the most flexible library can save.  In addition, many web languages, libraries - even more, to give examples of everything is simply unrealistic.  And raw HTTP (in the presence of brains) is enough to use any library.  What can not be said about the opposite case. <br><br><h4>  Practical recommendations for implementation </h4> Of course, first you need to register on the social network, activate your account, and so on.  Do not rush.  Some servers do not immediately correctly process requests from newly registered OAuth clients.  Here I have painted only successful streams, you should not forget about error handling.  Also, I almost did not pay attention to security aspects - this is a topic for a separate article.  At a minimum, wherever you can pass a unique parameter to the callback-url for each user, this should be done (the main callback address should remain unchanged, and only the parameter should change, otherwise the server will not miss the request. Pay particular attention to this if you should be mod_rewrite), and use the state parameter to transfer additional data to the callback script (where this parameter is supported).  I have so far left all this behind the brackets. <br><br><h5><img src="http://useq.org.ru/images/vk.gif" alt="image">  In contact with </h5>  1. Come <a href="http://vk.com/apps.php%3Fact%3Dadd%26site%3D1">here</a> .  Type - "Website".  Enter the base domain and site address.  On the settings page, we get client_id (application ID) and secret_key (secure key). <img src="http://useq.org.ru/pix/oauth_vk2.jpg" alt="image">  2. We stick in the code the type button <pre><code class="html">&lt;a href="http://oauth.vk.com/authorize?client_id={client_id}&amp;redirect_uri=mysite.com/vklogin&amp;response_type=code" title="  "&gt;  &lt;/a&gt;
</code></pre> response_type=code,   token?       response_type=token.   vklogin?  ,        ,         .<br>
3.   vklogin?<br>
3.1. vklogin   get- (   )  .   <blockquote>http://mysite.com/vklogin?code=7a6fa4dff77a228eeda56603b8f53806c883f011c40b72630bb50df056f6479e52a</blockquote>  <blockquote>http://mysite.com/vklogin?error=invalid_request&amp;error_description=Invalid+display+parameter</blockquote>,      code,      <br>
3.2. https- (<b>  POST,    GET.  ,    </b>) :<blockquote>GET https://oauth.vk.com/access_token?client_id={client_id}&amp;client_secret={secret_key}&amp;  code=7a6fa4dff77a228eeda56603b8f53806c883f011c40b72630bb50df056f6479e52a//   </blockquote>3.3.   .  ,  200 OK   .           <b>  JSON</b>,  access_token  user_id.   (   )    GET  ‚Äî    users.get API :<blockquote>GET https://api.vk.com/method/users.get?uids={user_id}&amp;fields=uid,first_name,last_name,nickname,screen_name,sex,bdate,city,country,timezone,photo&amp;access_token={access_token}</blockquote>3.4.     (    )   - JSON   .     .   ‚Äî  utf8,    ‚Äî   ,         .<br>
<i>  ,   ,   <a href="http://vk.com/developers.php%3Foid%3D-1%26p%3Dusers.get"></a>.    API  <a href="http://vk.com/developers.php%3Foid%3D-1%26p%3D%25D0%259E%25D0%25BF%25D0%25B8%25D1%2581%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5_%25D0%25BC%25D0%25B5%25D1%2582%25D0%25BE%25D0%25B4%25D0%25BE%25D0%25B2_API"></a>.</i><br>
<br>
<h5><img src="http://useq.org.ru/images/ok.gif" alt="image"></h5>1.    <a href="http://dev.odnoklassniki.ru/wiki/pages/viewpage.action%3FpageId%3D5668937"></a>.  <a href="http://dev.odnoklassniki.ru/wiki/pages/viewpage.action%3FpageId%3D13992188"></a>      OAuth . -. , ,  .      ,      . ¬´¬ª,   ...<br>
2.     ,  ,  .<img src="http://useq.org.ru/pix/oauth_ok1.jpg" alt="image"><br>
       .  ¬´¬ª      ,  client_id(Application ID), public_key(  )  secret_key(  )<br>
3.     : <pre><code class="html">&lt;a href="http://www.odnoklassniki.ru/oauth/authorize?client_id={client_id}&amp;response_type=code&amp;redirect_uri=http://mysite.com/oklogin" title=""&gt;  &lt;/a&gt;</code></pre>4. oklogin<br>
3.1.     code. <br>
3.2.  <b>POST </b> : <blockquote>http://api.odnoklassniki.ru/oauth/token.do</blockquote>    :<blockquote>code={code}&amp;redirect_uri=http://mysite.com/oklogin&amp;grant_type=authorization_code&amp;client_id={client_id}&amp;client_secret={secret_key}</blockquote>3.3.  <b>JSON </b> ,  access_token.  GET-:<blockquote>GET http://api.odnoklassniki.ru/fb.do?method=users.getCurrentUser&amp;access_token={access_token}&amp;application_key={public_key}&amp;sig={sign}</blockquote> sign ‚Äî     md5- <blockquote>sign=hex_md5('application_key={public_key}method=users.getCurrentUser'+hex_md5({access_token}+{secret_key}))</blockquote>-,    .<br>
 3.4.    JSON- ,  ,   ,    .  ‚Äî utf8;<br>
<i>     users.getCurrentUser <a href="http://dev.odnoklassniki.ru/wiki/display/ok/REST%2BAPI%2B-%2Busers.getCurrentUser"></a>.  API <a href="http://dev.odnoklassniki.ru/wiki/display/ok/REST%2BAPI%2B-%2Busers.getCurrentUser"></a>.   ,          ,            .</i><br>
<br>
<h5><img src="http://useq.org.ru/images/facebook.gif" alt="image">Facebook</h5>1.  <a href="https://developers.facebook.com/apps"></a>   ¬´  ¬ª.     App Domains  () ().    ¬´Website with Facebook Login¬ª   url  .  client_id (App ID)  secret_key (App Secret).<img src="http://useq.org.ru/pix/oauth_facebook1.jpg" alt="image">  ¬´Auth Dialog¬ª    ¬´Authenticated Referrals¬ª   ¬´code¬ª  ¬´Auth Token Parameter¬ª. <img src="http://useq.org.ru/pix/oauth_facebook2.jpg" alt="image"><br>
2.       : <blockquote>https://www.facebook.com/dialog/oauth?client_id={client_id}&amp;redirect_uri=mysite.com/fblogin&amp;response_type=code</blockquote>3.fblogin.<br>
3.1.     code. <br>
3.2.  <b>GET </b><blockquote>GET https://graph.facebook.com/oauth/access_token?client_id={client_id}&amp;redirect_uri=http://mysite.com/fblogin&amp;client_secret={client_secret}&amp;code={code}</blockquote>3.3.  <b>  </b>   <b>  </b> (param1=value1&amp;param2=value2).       access_token,     GET-: <blockquote>GET https://graph.facebook.com/me?access_token={access_token}</blockquote>3.4.    <b>JSON- </b>,  ,   ,    . <b> ‚Äî NFC </b> (  \u0410\u0401\u0419)<br>
<i>  API (  ) <a href="http://developers.facebook.com/docs/reference/api/"></a>.</i><br>
<br>
<h5><img src="http://useq.org.ru/images/twitter.gif" alt="image">Twitter</h5>1.  <a href="https://dev.twitter.com/apps/new"></a>    .  , ,     -. <img src="http://useq.org.ru/pix/oauth_twitter1.jpg" alt="image">     ¬´Create my access token¬ª.<img src="http://useq.org.ru/pix/oauth_twitter2.jpg" alt="image"><br>
<br>
<i>  ,  .     .     ???      twitter - OAuth-.  ,     (      Net::OAuth  )     .</i><br>
<br>
1.  OAuth 1.0    .     ¬´  Twitter¬ª   ,   <b>POST-</b>  <blockquote>https://api.twitter.com/oauth/request_token</blockquote>   <b></b>:<blockquote>Authorization:OAuth oauth_callback=¬´http%3A%2F%2Fmysite.com%2Ftwlogin¬ª, oauth_consumer_key="{consumer_key}", oauth_nonce="{nonce}", oauth_signature_method=¬´HMAC-SHA1¬ª, oauth_timestamp="{time}", oauth_signature="{sign}", oauth_version=¬´1.0¬ª</blockquote> oauth_callback ‚Äî escape-uri -   ;<br>
 consumer_key     ;<br>
 nonce ‚Äî   base64 ,  ,  ,   32,       ,    ; <br>
time ‚Äî unix-  ( ,        ,     ¬´¬ª ,    ¬´ ¬ª);<br>
  sign ‚Äî     HMAC-SHA1 .<br>
<b>  nonce       ‚Äî          .</b> <br>
1.1.   .           , escape-,           '&amp;'.    : <blockquote>{_}&amp;{escape-uri }&amp;{escape-  }</blockquote>  ,   escape- <b></b> . ,     ,    <s></s>        :<blockquote>str='POST&amp;https%3A%2F%2Fapi.twitter.com%2Foauth%2Frequest_token&amp;oauth_callback%3D{http%253A%252F%252Fmysite.com%252Ftwlogin}%26oauth_consumer_key%3D{consumer_key}%26oauth_nonce%3D{random base64 srting}%26oauth_signature_method%3DHMAC-SHA1%26oauth_timestamp%3D{time}%26oauth_version%3D1.0'</blockquote>1.2.      ,  hmac_sha1  (,   ,  )   64. -  :<blockquote>str1=hmac_sha1(str,Consumer_secret+'&amp;'+OAuth_token_secret,64).</blockquote>   OAuth token secret- ,    ,  Consumer secret      '&amp;'. (  ) base_64 ,     escape-.     .       .<br>
2.    ,     <b>  </b> oauth_token=XXXXX.    <blockquote>https://api.twitter.com/oauth/authenticate?oauth_token=XXXXX</blockquote>3.        twlogin, :<br>
3.1.     oauth_token  oauth_verifier ( )<br>
3.2.  POST-  <blockquote>https://api.twitter.com/oauth/access_token</blockquote>  <blockquote>Authorization:OAuth oauth_consumer_key="{consumer_key}", oauth_nonce="{random base64 string}", oauth_signature_method=¬´HMAC-SHA1¬ª, oauth_timestamp="{time}", oauth_signature="{sign}", oauth_token="{oauth_token}", oauth_version=¬´1.0¬ª'</blockquote> , <b>  </b>:<blockquote>oauth_verifier={oauth_verifier}</blockquote>oauth_token  oauth_verifier    ,     , sign      <blockquote>str='POST&amp;https%3A%2F%2Fapi.twitter.com%2Foauth%2Faccess_token&amp;oauth_consumer_key%3D{consumer_key}%26oauth_nonce%3D{random base64 string}%26oauth_signature_method%3DHMAC-SHA1%26oauth_timestamp%3D{time}%26oauth_token%3D{oauth_token}%26oauth_verifier%3D{oauth_verifier}%26oauth_version%3D1.0';</blockquote>3.3.     ,      .  GET- <blockquote>GET https://api.twitter.com/1/users/lookup.json?user_id={user_id}</blockquote>  <blockquote>Authorization:OAuth oauth_consumer_key="{consumer_key}", oauth_nonce="{random base64 string}", oauth_signature_method=¬´HMAC-SHA1¬ª, oauth_timestamp="{time}", oauth_signature="{sign}", oauth_token="{oauth_token}", oauth_version=¬´1.0¬ª'</blockquote> user_id  oauth_token    ,     <blockquote>str='GET&amp;https%3A%2F%2Fapi.twitter.com%2F1%2Flookup.json&amp;oauth_consumer_key%3D{consumer_key}%26oauth_nonce%3D{random base64 string}%26oauth_signature_method%3DHMAC-SHA1%26oauth_timestamp%3D{time}%26oauth_token%3D{oauth_token}%26oauth_version%3D1.0%26user_id%3D{user_id}'</blockquote> ,     , oauth_token_secret:<blockquote>str1=hmac_sha1(str,Consumer_secret+'&amp;'+OAuth_token_secret,64)</blockquote>3.4.      <b>JSON-</b> ,  ,   . <i>   API    <a href="https://dev.twitter.com/docs/api"></a>.</i><br>
<br>
<h5><img src="http://useq.org.ru/images/mail.gif" alt="image">Mail.ru ()</h5>1.  <a href="http://api.mail.ru/sites/my/add"></a>   .  ,      receiver.html,     . receiver.html ‚Äî ,  JS API, ,      ,               ,   receiver.html   ,  .     client_id (ID)  secret_key ( ).<img src="http://useq.org.ru/pix/oauth_mailru2.jpg" alt="image">2.     : <pre><code class="html">&lt;a href="https://connect.mail.ru/oauth/authorize?client_id={client_id}&amp;response_type=code&amp;redirect_uri=http%3A%2F%2Fmysite.com%2Fmmlogin"&gt;  MailRu&lt;/a&gt;
</code></pre>3. mmlogin<br>
3.1.     code. <br>
3.2.  <b>POST </b> : <blockquote>https://connect.mail.ru/oauth/token</blockquote>    :<blockquote>client_id={client_id}&amp;client_secret={secret_key}&amp;grant_type=authorization_code&amp;code={code}&amp;redirect_uri=http://mysite.com/mmlogin</blockquote>3.3.  <b>JSON </b> ,  access_token.  GET-:<blockquote>GET http://www.appsmail.ru/platform/api?method=users.getInfo&amp;secure=1&amp;app_id={client_id}&amp;session_key={access_token}&amp;sig={sign}</blockquote> sign ‚Äî md5- <blockquote>sign=hex_md5('app_id={client_id}method=users.getInfosecure=1session_key={access_token}{secret_key}')</blockquote>   hex string.<br>
 3.4.    JSON- ,  ,   ,    .  ‚Äî utf8;<br>
<i>  API ( ) <a href="http://api.mail.ru/docs/guides/restapi/"></a>.</i><br>
<br>
<h5><img src="http://useq.org.ru/images/ya.gif" alt="image"></h5>1.  <a href="https://oauth.yandex.ru/client/new"></a>.    ..  . <img src="http://useq.org.ru/pix/oauth_ya1.jpg" alt="image"><br>
 client_id(Id )  secret_key( ).<img src="http://useq.org.ru/pix/oauth_ya2.jpg" alt="image"><br>
2.     : <pre><code class="html">&lt;a href="https://oauth.yandex.ru/authorize?response_type=code&amp;client_id={client_id}" title=""&gt;  &lt;/a&gt;
</code></pre>3. yalogin<br>
3.1.     code. <br>
3.2. <b> POST </b> : <blockquote>https://oauth.yandex.ru/token</blockquote>    :<blockquote>grant_type=authorization_code&amp;code={code}&amp;client_id={client_id}&amp;client_secret={secret_key}</blockquote>3.3.  <b>JSON  </b>,  access_token.  GET-:<blockquote>GET https://login.yandex.ru/info?format=json&amp;oauth_token={access_token}</blockquote>3.4.    JSON- ,  , email,  . (,  .   .       . ‚Äî        c,        ‚Äî      ¬´ ¬ª   .)  ‚Äî NFC-. ,    json-  . ,          , <blockquote>email&nbsp;:&nbsp;xxx@ttt.com</blockquote>        .    , RFC  JSON    ,       ‚Äî  -    .<br>
<i> API yandex.login <a href=""></a>.</i><br>
<br>
<h5><img src="http://useq.org.ru/images/g.gif" alt="image">Google</h5>1.  <a href="https://code.google.com/apis/console"></a>.   .   API access   ¬´Create an OAuth2 client ID¬ª.<img src="https://habrastorage.org/getpro/habr/post_images/e62/046/206/e6204620648a9a5e77acc695d7664b10.jpg" alt="image"> client_id(Client ID)  secret_key(Client Secret).<img src="http://useq.org.ru/pix/oauth_g2.jpg" alt="image"><br>
2.     : <pre><code class="html">&lt;a href="https://accounts.google.com/o/oauth2/auth?redirect_uri=http%3A%2F%2Fmysite.com%2Fgglogin&amp;response_type=code&amp;client_id={client_id}&amp;scope=https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile" title="  Google"&gt;  Google&lt;/a&gt;
</code></pre>3. gglogin<br>
3.1.     code. <br>
3.2. <b> POST </b> : <blockquote>https://accounts.google.com/o/oauth2/token</blockquote>    :<blockquote>code={code}&amp;client_id={client_id}&amp;client_secret={secret_key}&amp;redirect_uri=http://mysite.com/gglogin&amp;grant_type=authorization_code</blockquote> <b>  </b> <blockquote>Content-type:application/x-www-form-urlencoded</blockquote>3.3.  <b>JSON </b> ,  access_token.  GET-: <blockquote>GET https://www.googleapis.com/oauth2/v1/userinfo?access_token={access_token}</blockquote>3.4.    JSON-  .<br>
<i> API   - <a href="https://developers.google.com/google-apps/contacts/v3/"></a>.</i><br>
<br>
   . ,              . <br>
,   ,         OAuth.   ,     ,       .<br>
     perl, ,        OAuth   ‚Äî    .    ‚Äî .</div><p>Source: <a href="https://habr.com/ru/post/145988/">https://habr.com/ru/post/145988/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../145983/index.html">In Scotland, plan to create an underwater power plant</a></li>
<li><a href="../145984/index.html">Wind noise can also be "copyright material"</a></li>
<li><a href="../145985/index.html">Meet FreeCAD</a></li>
<li><a href="../145986/index.html">Configuring OS Inferno</a></li>
<li><a href="../145987/index.html">VTech has released tablets for kids</a></li>
<li><a href="../145991/index.html">Do-it-yourself PID controller</a></li>
<li><a href="../145993/index.html">Catalog of articles on OS Inferno</a></li>
<li><a href="../145994/index.html">Krakako - plugin for Adobe Photoshop</a></li>
<li><a href="../145995/index.html">Ruby NoName Podcast S04E11</a></li>
<li><a href="../145996/index.html">Computex 2012 - final report</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>