<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Telegram-bot: my story. Part two</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day, Habrahabr! This material is a continuation of the first part , which highlights the tools and opportunities for developing a product on a cl...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Telegram-bot: my story. Part two</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/files/ebb/b05/8a8/ebbb058a80744783a72400724a47b7f9.png"></div><br>  Good day, Habrahabr!  This material is a continuation of the <a href="https://habrahabr.ru/post/316868/">first part</a> , which highlights the tools and opportunities for developing a product on a cloud platform.  An example is the current mobile expansion of access to the schedule of couples at the university - Telegram-bot. <br><br>  Having spent time of the first publication, you can familiarize not only with initial expansion and necessary resources, but also with the review of the application from the author.  The information below is concentrated to a greater extent on the description of the technical side and to a lesser extent on the conclusions of the current results. <br><a name="habracut"></a><br>  <b>UPD</b> : the project was successfully refactored using the author's framework for university timetables - ‚ÄúRutetider‚Äù ( <a href="https://habrahabr.ru/post/326222/">article on Habrahabr</a> , <a href="https://github.com/DmytryiStriletskyi/Rutetider">GitHub</a> ).  Therefore, some points in this article may not coincide, some may not exist or look different, but the concept is preserved. <br><br><h1>  Technical review of the project </h1><br>  In parallel with the explanations, you can count on screenshots ‚Äúfrom the scene of events‚Äù for a deeper understanding of the writing process, it is also recommended to pay attention to the full source code ( <a href="https://github.com/DmytryiStriletskyi/DuttyBot">github.com</a> ) and with sufficient interest - delve into the links provided due to the lack of description of one or another at the discretion of the author, explanations of the components used and provided.  If part of the description is not clear, the question can be asked to the author in the comments or dialogs, or take two minutes to interact with the subject area directly, which will allow better orientation in the article and the examples given. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  University Couples Schedule </h2><br>  At the time of designing the application architecture, there were no other options for obtaining a schedule of lectures other than directly collecting information from the official site (parsing).  The API for the platform on which the schedule is located is not available, and there is no opportunity to extract information directly from the database. <br><br>  The required technical operation ( <a href="https://github.com/DmytryiStriletskyi/DuttyBot/blob/master/clock.py">github.com</a> ) is closely related to useful scheduled work on the server, details of which are located at the end of the section. <br><br>  The modules used are: <br><br><ul><li>  <a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/">Beautiful Soup</a> - working with HTML markup data structure; </li><li>  <a href="http://docs.python-requests.org/en/master/">Requests</a> - send HTTP requests. </li></ul><br>  The dataLib.py file contains an array of key-values ‚Äã‚Äãfor querying each academic group and a function to add a dateToDateForm () time range to define the date frames for which a schedule is needed. <br><br><pre><code class="python hljs">groupExample = {<span class="hljs-string"><span class="hljs-string">'TimeTableForm[date1]'</span></span>: firstDay, <span class="hljs-string"><span class="hljs-string">'TimeTableForm[date2]'</span></span>: lastDay, <span class="hljs-string"><span class="hljs-string">'TimeTableForm[faculty]'</span></span>:<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-string"><span class="hljs-string">'TimeTableForm[course]'</span></span>:<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-string"><span class="hljs-string">'TimeTableForm[group]'</span></span>:<span class="hljs-number"><span class="hljs-number">613</span></span>}</code> </pre> <br>  Next, send a post-request to receive the page object and then transfer it to the soup object, which has a number of methods for convenient operation. <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> formData <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> dataLib.dateToDateForm(firstDay, lastDay): r = requests.post(config.url, data = formData) soup = BeautifulSoup(r.text, <span class="hljs-string"><span class="hljs-string">'html.parser'</span></span>) dataProcessing.dataProcessing(soup)</code> </pre><br>  The dataProcessing module has the same function in which the necessary data is processed.  For example, the variable mainHtmlTable is a base table with a schedule that has its own unique identifier. <br><br><pre> <code class="python hljs">mainHtmlTable = soup.find(<span class="hljs-string"><span class="hljs-string">"table"</span></span>, {<span class="hljs-string"><span class="hljs-string">"id"</span></span>: <span class="hljs-string"><span class="hljs-string">"timeTableGroup"</span></span>})</code> </pre><br><div style="text-align:center;"><img src="https://habrastorage.org/files/a00/80a/4d3/a0080a4d3f6344808f4c6bc64ab1bbd3.png"></div><br>  (part of the table for illustrative example, the full version can be "felt" <a href="http://e-rozklad.dut.edu.ua/timeTable/group">by reference</a> , after selecting the faculty, course and group) <br><br>  Another example is dates based on the receipt of all elements of a block type that have a text of ten length inside themselves (‚Äú12.12.2016‚Äù - ten characters). <br><br><pre> <code class="python hljs">divDate = [i.text[:<span class="hljs-number"><span class="hljs-number">-5</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> mainHtmlTable.findAll(<span class="hljs-string"><span class="hljs-string">'div'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> len(i.get_text()) == <span class="hljs-number"><span class="hljs-number">10</span></span>][:<span class="hljs-number"><span class="hljs-number">-2</span></span>]</code> </pre><br>  Next comes a call to a number of interrelated methods and functions that provide final values ‚Äã‚Äãfor further convenient work. <br><br>  I use three arrays with the name of faculties, courses and groups, directly by the schedule and dates, which allow us to conveniently process data and perform further operations. <br><br><h2>  General concept of user interaction </h2><br>  One of the most important qualities of the development is the vision of the final result and the competent construction of the architecture.  At any stage of professional development, it is necessary to make great efforts for modularity and compactness of written code, interconnection of system components and simplicity of what is happening. <br><br>  The work done was no exception, despite the opposite at the starting point of the product, and a certain conceptual design pattern was formed for most operations, including a Handler from the user, a series of subsequent operations (Query) and the generation of source data (Reply ) in reply. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/421/38d/384/42138d3841504ce5a473cf44859c8564.png"></div><br>  There is nothing unusual in this pattern, and if you can determine such a model of application behavior in advance, you can prevent wasting a lot of time and effort in vain. <br><br><h2>  Request Processing Example </h2><br>  In the subsequent section of the main file handler ( <a href="https://github.com/DmytryiStriletskyi/DuttyBot/blob/master/app.py">github.com</a> ) of all requests, you can observe a post-request from the user who made a selection of one of the menu items with the name ‚ÄúUpdates‚Äù (this text value is available as an attribute of the message object ‚Äúmessage‚Äù due to duplication of the menu selection to chat), entering user data (first name, last name, chat ID, text value ‚Äúnews‚Äù as menu item selection and nickname) using the otherFeature () method of middlewareUserData class ( <a href="https://github.com/DmytryiStriletskyi/DuttyBot/blob/master/middlewareUserData.py">github.com</a> ).  This function records user actions for application usage statistics.  After previous processing, a text message with information about the location of the project news is sent as a response by the associated chat ID. <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">@bot.message_handler(func=lambda mess: "" == mess.text, content_types=['text']) def handle_text(message): middlewareUserData.otherFeature(message.chat.first_name, message.chat.last_name, message.chat.id, 'news', message.chat.username) bot.send_message(message.chat.id, '       ‚Äî https://telegram.me/dutbotupdates')</span></span></code> </pre><br>  An illustration of the process is provided below.  Pictures associated with database tables are clickable (you can look better), because they are presented in poor quality, but just so as not to lose the integrity of the development picture. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/53c/ee3/29e/53cee329ee4443dcbe61ce3dd0756ca1.png"></div><br><div style="text-align:center;"> <a href=""><img src="https://habrastorage.org/files/e36/607/879/e36607879a2a440ba6465172bb4c2f52.png"></a> </div><br><h2>  The concept of getting a schedule </h2><br>  The schedule for today or tomorrow is available in two ways.  Consider the first option - through the gradual data entry: you must select the faculty, course and group.  Let me remind you that the ‚Äútext‚Äù attribute of the ‚Äúmessage‚Äù object is the textual value for selecting a menu item. <br><br>  <b>1.</b> Button ‚ÄúGet schedule‚Äù - the user sends the basic data set: <br><br><pre> <code class="python hljs">middlewareUserData.getUser(message.chat.first_name, message.chat.last_name, message.chat.id, message.chat.username)</code> </pre><br>  Therefore, the action is displayed in the database table in this format (the following examples of the database operation at the end of the section): <br><br><div style="text-align:center;"> <a href=""><img src="https://habrastorage.org/files/522/d56/279/522d5627965143a68d197809e8a7d391.png"></a> </div><br>  <b>2.</b> The choice of faculty: <br><br><pre> <code class="python hljs">middlewareUserData.updateFaculty(message.text, str(message.chat.id))</code> </pre><br>  <b>3.</b> The choice of the course and group, the script of which is somewhat different from the previous ones, because the display of the list group on the screen occurs after a request to the table with a full schedule, where the entire list of groups is withdrawn to the faculty and course set by the user <br><br><pre> <code class="python hljs">middlewareUserData.updateCourse(message.text[:<span class="hljs-number"><span class="hljs-number">1</span></span>], str(message.chat.id)) fucAndCourse = middlewareUserData.getFacultyAndGroup(str(message.chat.id)) groupList = selectData.selectGroup(fucAndCourse[<span class="hljs-number"><span class="hljs-number">0</span></span>], fucAndCourse[<span class="hljs-number"><span class="hljs-number">1</span></span>]) basicMarkupRows.markRowGroupList(groupList, message)</code> </pre><br>  <b>4.</b> Button ‚ÄúToday‚Äù or ‚ÄúTomorrow‚Äù, the code of which contains the current set of dates (today, tomorrow, today's index), input check from the user (the database is one for all, you need to take the result of a specific user) and the schedule display itself ( <a href="https://github.com/DmytryiStriletskyi/DuttyBot/blob/master/controllers/printController.py">github.com</a> ): <br><br><pre> <code class="python hljs">day = selectData.selectDates() lastGroup = middlewareUserData.summaryVerification(str(message.chat.id)) bot.send_message(message.chat.id, <span class="hljs-string"><span class="hljs-string">"   ({0}):"</span></span>.format(day[<span class="hljs-number"><span class="hljs-number">1</span></span>])) message.text = printController.show(lastGroup, day[<span class="hljs-number"><span class="hljs-number">1</span></span>]) bot.send_message(message.chat.id, message.text)</code> </pre><br>  Illustration of the alternate filling of the table to user actions: <br><br><div style="text-align:center;"> <a href=""><img src="https://habrastorage.org/files/7c4/eb9/19d/7c4eb919d5a04d0dbdc7d7ea8e2d346b.png"></a> </div><br><h2>  Go back to the previous menu. </h2><br>  If you carefully read the previous section, you would definitely pay attention to the most important element of the table - ‚Äúempty‚Äù.  The function of returning back is repelled directly from the number of such records: <br><br>  ‚ÄúGet schedule‚Äù - a priority object is formed together with four empty values ‚Äã‚Äã(the text value is ‚Äúempty‚Äù) because no faculty, course, group and final menu item is selected (for example, a schedule for a specific day or a subscription to a group); <br><br>  The choice of the faculty is already one ‚Äúempty‚Äù less, the choice of the course is already two. <br><br>  The script ( <a href="https://github.com/DmytryiStriletskyi/DuttyBot/blob/master/app.py">github.com</a> ) determines the number of such fields in the row of the table for the user, knowing in advance how much of which method to call.  For example, we settled on choosing a course, which means that we made a choice of faculty and we had three ‚Äúempty‚Äù meanings: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> emptyCount == <span class="hljs-number"><span class="hljs-number">3</span></span>: backButton.cancelOperation(str(message.chat.id), <span class="hljs-number"><span class="hljs-number">3</span></span>) basicMarkupRows.markRowGetFacultyList(message)</code> </pre><br>  The cancelOperation ( <a href="https://github.com/DmytryiStriletskyi/DuttyBot/blob/master/backButton.py">github.com</a> ) method defines the function that clears the field we want to cancel: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> self.emptyCount == <span class="hljs-number"><span class="hljs-number">3</span></span>: self.cancelFaculty(self.chatid)</code> </pre><br>  If you make a mistake with the faculty, you need to change it.  Under the hood, the situation is the following: by user ID, we change the value of the faculty (for example, ‚ÄúInformation Technology‚Äù) to an empty value (‚Äúempty‚Äù) through a simple SQL query ‚ÄúUpdate‚Äù: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cancelFaculty</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, chatid)</span></span></span><span class="hljs-function">:</span></span> self.chatid = chatid self.cursor.execute(<span class="hljs-string"><span class="hljs-string">"UPDATE statistic SET faculty = (%s) WHERE id IN (SELECT max(id) FROM statistic WHERE chatid = (%s))"</span></span>, (<span class="hljs-string"><span class="hljs-string">'empty'</span></span>, self.chatid)) self.connection.commit()</code> </pre><br>  It is enough to change the data in the statistics table, take the ‚Äúfaculty‚Äù field, where the table field ID is maximum for a specific user ID (that is, the choice of the last line of the table for the desired user is the current state of the menu and data). <br><br><h2>  Subscribe to group schedule </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/files/87e/e2a/edc/87ee2aedc8fc41b2a424d1de7d38f948.png"></div><br>  The function of arranging access to the group schedule for two days from the first menu is based on one entry of its group into the table, that is, you must select the desired group and confirm the subscription available in the most recent menu ( <a href="https://github.com/DmytryiStriletskyi/DuttyBot/blob/master/app.py">github.com</a> ). <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> message.text == <span class="hljs-string"><span class="hljs-string">"   "</span></span>: middlewareUserData.subscribe(message.chat.first_name, message.chat.last_name, message.chat.id, lastGroup, message.chat.username) message.text = <span class="hljs-string"><span class="hljs-string">'    {0}.'</span></span>.format(lastGroup) bot.send_message(message.chat.id, message.text)</code> </pre><br>  The subscribe () function ( <a href="https://github.com/DmytryiStriletskyi/DuttyBot/blob/master/middlewareUserData.py">github.com</a> ) inserts familiar data to a separate, unrelated subscription storage table, but the identifier and the group itself are the most important ones. <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">subscribe</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, firstname, lastname, chatid, group, username)</span></span></span><span class="hljs-function">:</span></span> * -* self.cursor.execute(<span class="hljs-string"><span class="hljs-string">"INSERT INTO subscribers (firstname, lastname, chatid, groupa, username) VALUES (%s, %s, %s, %s, %s)"</span></span>, (self.firstname, self.lastname, self.chatid, self.group, self.username)) self.connection.commit()</code> </pre><br><h2>  Scheduled work on the server </h2><br>  <a href="http://packages.python.org/APScheduler/">APScheduler's easy-</a> to-use library, perfectly <a href="https://devcenter.heroku.com/articles/clock-processes-python">compatible</a> with the platform on which the application is located, allows you to schedule a variety of tasks to be performed at a specific time. <br><br>  My bot needs a daily update of the schedule of pairs of today and tomorrow's dates, which are successfully available through the function in the code below.  Since the server is located in a different time zone, I need to take away two hours from the required time (updates occur at 00:01).  From Monday to Friday, information is withdrawn for the current week, on Sunday (the index of the day is five) - the next. <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">@sched.scheduled_job('cron', day_of_week='mon-sun', hour=22, minute=1) @sched.scheduled_job('cron', day_of_week='mon-fri', hour=22, minute=1) @sched.scheduled_job('cron', day_of_week=5, hour=22, minute=1)</span></span></code> </pre><br>  The source code ( <a href="https://github.com/DmytryiStriletskyi/DuttyBot/blob/master/clock.py">github.com</a> ) is not really operating in combat conditions and is still being finalized, but the concept is defined correctly (fixed at 15.12). <br><br><h2>  Work with databases </h2><br>  The Heroku platform allows you to directly work with databases from a native console (Linux Ubuntu 16.04) or access via SQL Shell (Windows 7), pre-entering data on the type of passwords and logins. <br><br>  The bot part of the database is limited to simple SQL queries (for example, select, insert, update), and the need to create and delete tables with the appropriate create and drop commands. <br><br><h1>  findings </h1><br><div style="text-align:center;"><img src="https://habrastorage.org/files/8d0/c3f/3d1/8d0c3f3d151243699a48bfbffd5831ff.jpg"></div><br>  While typing the program code on my knee, I didn‚Äôt even imagine that my expectations about the final effect would not come true, fortunately - for the better.  But no one who is to some extent involved in the application thinks that the current state of affairs is not deserved.  Being engaged in the modernization of the architecture, I have never planned to use the database or introduce additional functions.  But in the end, all this was present in the development plan and it was possible not only to bring the project to a serious length, but also to obtain the necessary qualitative result both in general and in personal terms.  At some stage, we had to ‚Äúabandon‚Äù the usual pattern of behavior, since it was necessary to get used to different roles in the course of the software development life cycle.  In the process, even managed to do social marketing, distributing information about the developed product among students, ‚Äúsucking‚Äù, as it seemed then, at least some online. <br><br>  Even such an insignificant result ‚Äî more than 100 unique users daily ‚Äî not only has a positive effect on the attitude to the author of the resource, who every day solves the problems of those around him, but is also an indisputable motivator to continue to engage in process improvements in all areas related to the subject area. </div><p>Source: <a href="https://habr.com/ru/post/317280/">https://habr.com/ru/post/317280/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../317270/index.html">Elusive bugs: errors that have escaped all tests and checks</a></li>
<li><a href="../317272/index.html">Security Week 49: Google fuzz open source, Android Trojan steals user accounts, Microsoft fixes old bug</a></li>
<li><a href="../317274/index.html">Asynchronous processing of requests in the database in memory, or how to cope with a million transactions per second on one core</a></li>
<li><a href="../317276/index.html">ITMO University Digest: A Selection of Resources on Artificial Intelligence</a></li>
<li><a href="../317278/index.html">A person. Alan Kay - the prophet, the author of the concept of GUI and the language of Smalltalk</a></li>
<li><a href="../317282/index.html">Servers in the Netherlands for Habr for free for December: E5-2650 v4 (6 Cores) 10GB DDR4 240GB SSD 1Gbps 10TB - $ 29 / month</a></li>
<li><a href="../317286/index.html">Bagofich .RU or how to get problems where they should not be for many years</a></li>
<li><a href="../317288/index.html">Interview with the developer of the alien software: "If something happened, my ass would have taken the brunt"</a></li>
<li><a href="../317290/index.html">Integrating two video surveillance systems: Axxon Next and SureView</a></li>
<li><a href="../317292/index.html">Ocean floor as an effective method of cooling equipment</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>