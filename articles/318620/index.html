<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Experience in building Infrastructure-as-Code in VMware. Part 1.1: Dynamic Inventory</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Greetings, dear reader! In the previous series, I talked about experience, the son of difficult mistakes, and promised to continue with the modificati...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Experience in building Infrastructure-as-Code in VMware. Part 1.1: Dynamic Inventory</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0c6/62c/ae3/0c662cae34ce0999065ceada1246399e.png" alt="image"></div><br>  Greetings, dear reader!  In the previous <a href="https://habrahabr.ru/post/317188/">series,</a> I talked about experience, the son of difficult mistakes, and promised to continue with the modification of the Powershell script. <br><br>  Unfortunately, the project in this area is frozen until next year, and in order not to torment you with expectations, I decided to share my ‚Äúresearch‚Äù in the field of dynamic VMware inventory, which is an intermediate phase for our project.  If your virtualok park changes frequently, then I strongly recommend that you read the material. <br><a name="habracut"></a><br>  The first thing that I did when I found <a href="https://habrahabr.ru/post/317188/">this</a> comment was that I ran to our infrastructure workers with the question ‚ÄúDo I need to cut it?‚Äù.  The guys explained that Vcloud is: <br><br><ul><li>  Expensive. </li><li>  It pays off when you have distributed data centers on different continents. </li><li>  Over9000 changes in infrastructure and the same virtualok. </li><li>  Anyway, we are moving to AWS, why should we. </li></ul><br>  Charged with motivation (‚Äúno one will help us except us‚Äù), I got into the wilds of studying the dynamics.  Do not misunderstand me, dear reader, static inventory in Ansible is a very convenient thing, and you can also ‚Äúwrite dynamically‚Äù armed with echo and sed, but why? 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  We are looking for the right script </h3><br>  Currently, the <a href="https://github.com/ansible/ansible/tree/devel/contrib/inventory">contributor</a> implements the following dynamic implementations on Github: <a href="https://github.com/ansible/ansible/blob/devel/contrib/inventory/vmware.py">one</a> and <a href="https://github.com/ansible/ansible/blob/devel/contrib/inventory/vmware_inventory.py">the other</a> . <br><br>  On the Internet, there <a href="https://raymii.org/s/software/Ansible__Dynamic_Inventory_From_VMware_vCenter.html">is</a> still <a href="https://raymii.org/s/software/Ansible__Dynamic_Inventory_From_VMware_vCenter.html">such an</a> option.  I dropped it immediately - he stupidly rakes out the list of all the machines (without entrails), it works for a long time, the login and password for connecting to the vari should be hardcoded.  In other words - great to play, but no more. <br><br>  vmware.py also disappeared, because it works for a long time even with a cache (on my typewriter 30 minutes without a cache, and 8 with a cache), and I don‚Äôt like the ‚Äúdepth‚Äù of immersion in the inside of the virtual machine either. <br><br>  So my choice fell vmware_inventory.py - it is very flexible, it works with a cache for 2 seconds and gives me the opportunity to group by machine parameters. <br><br>  First of all, a large and long INI file is a configuration for working with variance. <br><br><div class="spoiler">  <b class="spoiler_title">vmware_inventory.ini</b> <div class="spoiler_text"><pre><code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># Ansible VMware external inventory script settings [vmware] # The resolvable hostname or ip address of the vsphere server=virtualcenter.example.com # The port for the vsphere API #port=443 # The username with access to the vsphere API username=example\vmware_reader # The password for the vsphere API password=supersecurepassword # Verify the server's SSL certificate validate_certs = False # Specify the number of seconds to use the inventory cache before it is # considered stale. If not defined, defaults to 0 seconds. cache_max_age = 86400 # Specify the directory used for storing the inventory cache. If not defined, # caching will be disabled. cache_path = ~/.cache/ansible # Max object level refers to the level of recursion the script will delve into # the objects returned from pyvomi to find serializable facts. The default # level of 0 is sufficient for most tasks and will be the most performant. # Beware that the recursion can exceed python's limit (causing traceback), # cause sluggish script performance and return huge blobs of facts. # If you do not know what you are doing, leave this set to 1. max_object_level=2 # Lower the keynames for facts to make addressing them easier. lower_var_keys=True # Host alias for objects in the inventory. VMWare allows duplicate VM names # so they can not be considered unique. Use this setting to alter the alias # returned for the hosts. Any atributes for the guest can be used to build # this alias. The default combines the config name and the config uuid and # expects that the ansible_host will be set by the host_pattern. alias_pattern={{ config.name }} # Host pattern is the value set for ansible_host and ansible_ssh_host, which # needs to be a hostname or ipaddress the ansible controlhost can reach. #host_pattern={{ guest.ipaddress }} # Host filters are a comma separated list of jinja patterns to remove # non-matching hosts from the final result. # EXAMPLES: # host_filters={{ config.guestid == 'rhel7_64Guest' }} # host_filters={{ config.cpuhotremoveenabled != False }},{{ runtime.maxmemoryusage &gt;= 512 }} # host_filters={{ config.cpuhotremoveenabled != False }},{{ runtime.maxmemoryusage &gt;= 512 }} # The default is only gueststate of 'running' host_filters={{ guest.gueststate == "running" }} # Groupby patterns enable the user to create groups via any possible jinja # expression. The resulting value will the groupname and the host will be added # to that group. Be careful to not make expressions that simply return True/False # because those values will become the literal group name. The patterns can be # comma delimited to create as many groups as necessary groupby_patterns={{ guest.guestid }},{{ 'templates' if config.template else 'guests'}} # The script attempts to recurse into virtualmachine objects and serialize # all available data. The serialization is comprehensive but slow. If the # vcenter environment is large and the desired properties are known, create # a 'properties' section in this config and make an arbitrary list of # key=value settings where the value is a path to a specific property. If # If this feature is enabled, be sure to fetch every property that is used # in the jinja expressions defined above. For performance tuning, reduce # the number of properties to the smallest amount possible and limit the # use of properties that are not direct attributes of vim.VirtualMachine #[properties] prop01=name prop04=config.instanceUuid prop05=config.hardware.numCPU prop06=config.template prop07=config.name prop08=guest.hostName prop09=guest.ipAddress prop11=guest.guestState prop12=runtime.maxMemoryUsage</span></span></code> </pre> <br></div></div><br>  First of all, I recommend having a separate user to work with Vary.  In fact, we need a regular user who can read these machines, resources, folders and datastores.  He does <b>not have to have</b> any rights to enable / disable, create / delete virtual machines.  Least privilege principle! <br><br>  I further emphasize: <br><br><ol><li>  Cache lifetime (cache_max_age) in seconds.  I set it for a day, but every time the machine is created, the cache will be updated (running the script with the option --refresh-cache).  Also, the update will be once a day at night (as well) </li><li>  Recursion depth (max_object_level).  Two is the best option to get more metadata about the machine.  More metadata - more games with groupings and filtering.  But - more json and more time the script. </li><li>  Typewriter pattern (alias_pattern) - the default is {{config.name + '_' + config.uuid}}, which makes the name of the machine unreadable, so I removed the config.uuid </li><li>  Grouping patterns (groupby_patterns) - this is the beauty in the script.  Allows you to group machines based on metadata.  You can group around the word "absolutely."  Resource, custom pitch in notes, grid, location, even the name of the datastor.  By default it is grouped according to the guest lists (read - according to the installed OS) </li></ol><br>  I will not describe any obvious things like certificate validation, but if I got into trouble with the script, write in the comments. <br><br>  We try to run. <br><br><pre> <code class="bash hljs">$ time ./vmware_inventory.py &gt; fact_from_vm_py.json real 27m59.970s user 8m33.334s sys 0m7.841s</code> </pre> <br>  I repeat, reader, be careful of updating the cache, and then playbooks will be slower than a bug! <br><br>  With the cache, the entire inventory is loaded in a second, and most of the time the script is running is taken by the scan.  I will not give the whole script exhaust, I will give one single host: <br><br><div class="spoiler">  <b class="spoiler_title">There is a lot of data</b> <div class="spoiler_text"><pre> <code class="hljs cs"><span class="hljs-string"><span class="hljs-string">"edin_host"</span></span>: { <span class="hljs-string"><span class="hljs-string">"resourcepool"</span></span>: { <span class="hljs-string"><span class="hljs-string">"_moId"</span></span>: <span class="hljs-string"><span class="hljs-string">"resgroup-14510"</span></span>, <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"example-BI"</span></span> }, <span class="hljs-string"><span class="hljs-string">"customvalue"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"permission"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"storage"</span></span>: { <span class="hljs-string"><span class="hljs-string">"timestamp"</span></span>: { <span class="hljs-string"><span class="hljs-string">"hour"</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-string"><span class="hljs-string">"min"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"max"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"month"</span></span>: <span class="hljs-number"><span class="hljs-number">12</span></span>, <span class="hljs-string"><span class="hljs-string">"second"</span></span>: <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-string"><span class="hljs-string">"microsecond"</span></span>: <span class="hljs-number"><span class="hljs-number">859999</span></span>, <span class="hljs-string"><span class="hljs-string">"year"</span></span>: <span class="hljs-number"><span class="hljs-number">2016</span></span>, <span class="hljs-string"><span class="hljs-string">"tzinfo"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"resolution"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"day"</span></span>: <span class="hljs-number"><span class="hljs-number">22</span></span>, <span class="hljs-string"><span class="hljs-string">"minute"</span></span>: <span class="hljs-number"><span class="hljs-number">45</span></span> }, <span class="hljs-string"><span class="hljs-string">"perdatastoreusage"</span></span>: [] }, <span class="hljs-string"><span class="hljs-string">"configissue"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"parentvapp"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"tag"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"recenttask"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"resourceconfig"</span></span>: { <span class="hljs-string"><span class="hljs-string">"changeversion"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"lastmodified"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"memoryallocation"</span></span>: { <span class="hljs-string"><span class="hljs-string">"overheadlimit"</span></span>: <span class="hljs-number"><span class="hljs-number">63</span></span>, <span class="hljs-string"><span class="hljs-string">"reservation"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">"limit"</span></span>: <span class="hljs-number"><span class="hljs-number">-1</span></span>, <span class="hljs-string"><span class="hljs-string">"shares"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"expandablereservation"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span> }, <span class="hljs-string"><span class="hljs-string">"cpuallocation"</span></span>: { <span class="hljs-string"><span class="hljs-string">"overheadlimit"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"reservation"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">"limit"</span></span>: <span class="hljs-number"><span class="hljs-number">-1</span></span>, <span class="hljs-string"><span class="hljs-string">"shares"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"expandablereservation"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span> }, <span class="hljs-string"><span class="hljs-string">"entity"</span></span>: { <span class="hljs-string"><span class="hljs-string">"resourcepool"</span></span>: { <span class="hljs-string"><span class="hljs-string">"_moId"</span></span>: <span class="hljs-string"><span class="hljs-string">"resgroup-14510"</span></span>, <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"example-BI"</span></span> }, <span class="hljs-string"><span class="hljs-string">"alarmactionsenabled"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"configissue"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"tag"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"resourceconfig"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"datastore"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"triggeredalarmstate"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"layout"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"guest"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"effectiverole"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"storage"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"layoutex"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"config"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"customvalue"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"permission"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"parentvapp"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"recenttask"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"availablefield"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"overallstatus"</span></span>: <span class="hljs-string"><span class="hljs-string">"green"</span></span>, <span class="hljs-string"><span class="hljs-string">"network"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"guestheartbeatstatus"</span></span>: <span class="hljs-string"><span class="hljs-string">"green"</span></span>, <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"edin_host"</span></span>, <span class="hljs-string"><span class="hljs-string">"rootsnapshot"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"configstatus"</span></span>: <span class="hljs-string"><span class="hljs-string">"green"</span></span>, <span class="hljs-string"><span class="hljs-string">"value"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"summary"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"capability"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"snapshot"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"runtime"</span></span>: {} } }, <span class="hljs-string"><span class="hljs-string">"availablefield"</span></span>: [ { <span class="hljs-string"><span class="hljs-string">"fieldinstanceprivileges"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"fielddefprivileges"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"Service"</span></span>, <span class="hljs-string"><span class="hljs-string">"key"</span></span>: <span class="hljs-number"><span class="hljs-number">101</span></span> }, { <span class="hljs-string"><span class="hljs-string">"fieldinstanceprivileges"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"fielddefprivileges"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"Group"</span></span>, <span class="hljs-string"><span class="hljs-string">"key"</span></span>: <span class="hljs-number"><span class="hljs-number">301</span></span> }, { <span class="hljs-string"><span class="hljs-string">"fieldinstanceprivileges"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"fielddefprivileges"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"Role"</span></span>, <span class="hljs-string"><span class="hljs-string">"key"</span></span>: <span class="hljs-number"><span class="hljs-number">103</span></span> }, { <span class="hljs-string"><span class="hljs-string">"fieldinstanceprivileges"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"fielddefprivileges"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"Owner"</span></span>, <span class="hljs-string"><span class="hljs-string">"key"</span></span>: <span class="hljs-number"><span class="hljs-number">104</span></span> }, { <span class="hljs-string"><span class="hljs-string">"fieldinstanceprivileges"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"fielddefprivileges"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"Environment"</span></span>, <span class="hljs-string"><span class="hljs-string">"key"</span></span>: <span class="hljs-number"><span class="hljs-number">102</span></span> } ], <span class="hljs-string"><span class="hljs-string">"datastore"</span></span>: [ { <span class="hljs-string"><span class="hljs-string">"_moId"</span></span>: <span class="hljs-string"><span class="hljs-string">"datastore-57683"</span></span>, <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"mydatastore"</span></span> } ], <span class="hljs-string"><span class="hljs-string">"summary"</span></span>: { <span class="hljs-string"><span class="hljs-string">"customvalue"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"guest"</span></span>: { <span class="hljs-string"><span class="hljs-string">"toolsstatus"</span></span>: <span class="hljs-string"><span class="hljs-string">"toolsOk"</span></span>, <span class="hljs-string"><span class="hljs-string">"toolsversionstatus"</span></span>: <span class="hljs-string"><span class="hljs-string">"guestToolsUnmanaged"</span></span>, <span class="hljs-string"><span class="hljs-string">"hostname"</span></span>: <span class="hljs-string"><span class="hljs-string">"edin_host.example.com"</span></span>, <span class="hljs-string"><span class="hljs-string">"toolsrunningstatus"</span></span>: <span class="hljs-string"><span class="hljs-string">"guestToolsRunning"</span></span>, <span class="hljs-string"><span class="hljs-string">"guestid"</span></span>: <span class="hljs-string"><span class="hljs-string">"centos64Guest"</span></span>, <span class="hljs-string"><span class="hljs-string">"ipaddress"</span></span>: <span class="hljs-string"><span class="hljs-string">"192.168.1.1"</span></span>, <span class="hljs-string"><span class="hljs-string">"toolsversionstatus2"</span></span>: <span class="hljs-string"><span class="hljs-string">"guestToolsUnmanaged"</span></span>, <span class="hljs-string"><span class="hljs-string">"guestfullname"</span></span>: <span class="hljs-string"><span class="hljs-string">"CentOS 4/5/6/7 (64-bit)"</span></span> }, <span class="hljs-string"><span class="hljs-string">"config"</span></span>: { <span class="hljs-string"><span class="hljs-string">"memoryreservation"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">"product"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"instanceuuid"</span></span>: <span class="hljs-string"><span class="hljs-string">"502c6c2d-8b58-a01c-4ce0-a18e0a65ac3a"</span></span>, <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"edin_host"</span></span>, <span class="hljs-string"><span class="hljs-string">"numethernetcards"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">"numcpu"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">"installbootrequired"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"guestid"</span></span>: <span class="hljs-string"><span class="hljs-string">"centos64Guest"</span></span>, <span class="hljs-string"><span class="hljs-string">"memorysizemb"</span></span>: <span class="hljs-number"><span class="hljs-number">2048</span></span>, <span class="hljs-string"><span class="hljs-string">"vmpathname"</span></span>: <span class="hljs-string"><span class="hljs-string">"[mydatastore] edin_host/edin_host.vmx"</span></span>, <span class="hljs-string"><span class="hljs-string">"template"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"ftinfo"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"uuid"</span></span>: <span class="hljs-string"><span class="hljs-string">"422c78f0-7401-3dbc-2790-9708af08bd03"</span></span>, <span class="hljs-string"><span class="hljs-string">"cpureservation"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">"annotation"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"numvirtualdisks"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"guestfullname"</span></span>: <span class="hljs-string"><span class="hljs-string">"CentOS 4/5/6/7 (64-bit)"</span></span> }, <span class="hljs-string"><span class="hljs-string">"storage"</span></span>: { <span class="hljs-string"><span class="hljs-string">"timestamp"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"uncommitted"</span></span>: <span class="hljs-number"><span class="hljs-number">1064</span></span>, <span class="hljs-string"><span class="hljs-string">"unshared"</span></span>: <span class="hljs-number"><span class="hljs-number">85899345920</span></span>, <span class="hljs-string"><span class="hljs-string">"committed"</span></span>: <span class="hljs-number"><span class="hljs-number">88272314106</span></span> }, <span class="hljs-string"><span class="hljs-string">"vm"</span></span>: { <span class="hljs-string"><span class="hljs-string">"resourcepool"</span></span>: { <span class="hljs-string"><span class="hljs-string">"_moId"</span></span>: <span class="hljs-string"><span class="hljs-string">"resgroup-14510"</span></span>, <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"example-BI"</span></span> }, <span class="hljs-string"><span class="hljs-string">"alarmactionsenabled"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"configissue"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"tag"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"resourceconfig"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"datastore"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"triggeredalarmstate"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"layout"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"guest"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"effectiverole"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"storage"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"layoutex"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"config"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"customvalue"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"permission"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"parentvapp"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"recenttask"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"availablefield"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"overallstatus"</span></span>: <span class="hljs-string"><span class="hljs-string">"green"</span></span>, <span class="hljs-string"><span class="hljs-string">"network"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"guestheartbeatstatus"</span></span>: <span class="hljs-string"><span class="hljs-string">"green"</span></span>, <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"edin_host"</span></span>, <span class="hljs-string"><span class="hljs-string">"rootsnapshot"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"configstatus"</span></span>: <span class="hljs-string"><span class="hljs-string">"green"</span></span>, <span class="hljs-string"><span class="hljs-string">"value"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"summary"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"capability"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"snapshot"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"runtime"</span></span>: {} }, <span class="hljs-string"><span class="hljs-string">"quickstats"</span></span>: { <span class="hljs-string"><span class="hljs-string">"ftsecondarylatency"</span></span>: <span class="hljs-number"><span class="hljs-number">-1</span></span>, <span class="hljs-string"><span class="hljs-string">"privatememory"</span></span>: <span class="hljs-number"><span class="hljs-number">1877</span></span>, <span class="hljs-string"><span class="hljs-string">"compressedmemory"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">"consumedoverheadmemory"</span></span>: <span class="hljs-number"><span class="hljs-number">37</span></span>, <span class="hljs-string"><span class="hljs-string">"swappedmemory"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">"ftlatencystatus"</span></span>: <span class="hljs-string"><span class="hljs-string">"gray"</span></span>, <span class="hljs-string"><span class="hljs-string">"uptimeseconds"</span></span>: <span class="hljs-number"><span class="hljs-number">1898839</span></span>, <span class="hljs-string"><span class="hljs-string">"ssdswappedmemory"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">"guestheartbeatstatus"</span></span>: <span class="hljs-string"><span class="hljs-string">"green"</span></span>, <span class="hljs-string"><span class="hljs-string">"distributedmemoryentitlement"</span></span>: <span class="hljs-number"><span class="hljs-number">602</span></span>, <span class="hljs-string"><span class="hljs-string">"staticcpuentitlement"</span></span>: <span class="hljs-number"><span class="hljs-number">1905</span></span>, <span class="hljs-string"><span class="hljs-string">"balloonedmemory"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">"guestmemoryusage"</span></span>: <span class="hljs-number"><span class="hljs-number">81</span></span>, <span class="hljs-string"><span class="hljs-string">"overallcpuusage"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">"overallcpudemand"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">"staticmemoryentitlement"</span></span>: <span class="hljs-number"><span class="hljs-number">2111</span></span>, <span class="hljs-string"><span class="hljs-string">"ftlogbandwidth"</span></span>: <span class="hljs-number"><span class="hljs-number">-1</span></span>, <span class="hljs-string"><span class="hljs-string">"distributedcpuentitlement"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">"sharedmemory"</span></span>: <span class="hljs-number"><span class="hljs-number">47</span></span>, <span class="hljs-string"><span class="hljs-string">"hostmemoryusage"</span></span>: <span class="hljs-number"><span class="hljs-number">1916</span></span> }, <span class="hljs-string"><span class="hljs-string">"runtime"</span></span>: { <span class="hljs-string"><span class="hljs-string">"powerstate"</span></span>: <span class="hljs-string"><span class="hljs-string">"poweredOn"</span></span>, <span class="hljs-string"><span class="hljs-string">"featuremask"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"onlinestandby"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"cleanpoweroff"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"featurerequirement"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"question"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"boottime"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"maxmemoryusage"</span></span>: <span class="hljs-number"><span class="hljs-number">2048</span></span>, <span class="hljs-string"><span class="hljs-string">"offlinefeaturerequirement"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"minrequiredevcmodekey"</span></span>: <span class="hljs-string"><span class="hljs-string">"intel-sandybridge"</span></span>, <span class="hljs-string"><span class="hljs-string">"toolsinstallermounted"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"suspendinterval"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">"memoryoverhead"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"needsecondaryreason"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"vflashcacheallocation"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">"host"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"maxcpuusage"</span></span>: <span class="hljs-number"><span class="hljs-number">1999</span></span>, <span class="hljs-string"><span class="hljs-string">"device"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"suspendtime"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"recordreplaystate"</span></span>: <span class="hljs-string"><span class="hljs-string">"inactive"</span></span>, <span class="hljs-string"><span class="hljs-string">"consolidationneeded"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"connectionstate"</span></span>: <span class="hljs-string"><span class="hljs-string">"connected"</span></span>, <span class="hljs-string"><span class="hljs-string">"dasvmprotection"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"faulttolerancestate"</span></span>: <span class="hljs-string"><span class="hljs-string">"notConfigured"</span></span>, <span class="hljs-string"><span class="hljs-string">"nummksconnections"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> }, <span class="hljs-string"><span class="hljs-string">"overallstatus"</span></span>: <span class="hljs-string"><span class="hljs-string">"green"</span></span> }, <span class="hljs-string"><span class="hljs-string">"overallstatus"</span></span>: <span class="hljs-string"><span class="hljs-string">"green"</span></span>, <span class="hljs-string"><span class="hljs-string">"ansible_host"</span></span>: <span class="hljs-string"><span class="hljs-string">"192.168.1.1"</span></span>, <span class="hljs-string"><span class="hljs-string">"triggeredalarmstate"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"network"</span></span>: [ { <span class="hljs-string"><span class="hljs-string">"configstatus"</span></span>: <span class="hljs-string"><span class="hljs-string">"green"</span></span>, <span class="hljs-string"><span class="hljs-string">"customvalue"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"bi-acceptatie"</span></span>, <span class="hljs-string"><span class="hljs-string">"effectiverole"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"permission"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"configissue"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"alarmactionsenabled"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"vm"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"value"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"summary"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"host"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"tag"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"recenttask"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"availablefield"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"overallstatus"</span></span>: <span class="hljs-string"><span class="hljs-string">"green"</span></span>, <span class="hljs-string"><span class="hljs-string">"triggeredalarmstate"</span></span>: [] } ], <span class="hljs-string"><span class="hljs-string">"configstatus"</span></span>: <span class="hljs-string"><span class="hljs-string">"green"</span></span>, <span class="hljs-string"><span class="hljs-string">"guestheartbeatstatus"</span></span>: <span class="hljs-string"><span class="hljs-string">"green"</span></span>, <span class="hljs-string"><span class="hljs-string">"layout"</span></span>: { <span class="hljs-string"><span class="hljs-string">"logfile"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"vmware-10.log"</span></span>, <span class="hljs-string"><span class="hljs-string">"vmware-11.log"</span></span>, <span class="hljs-string"><span class="hljs-string">"vmware-12.log"</span></span>, <span class="hljs-string"><span class="hljs-string">"vmware-13.log"</span></span>, <span class="hljs-string"><span class="hljs-string">"vmware-8.log"</span></span>, <span class="hljs-string"><span class="hljs-string">"vmware-9.log"</span></span>, <span class="hljs-string"><span class="hljs-string">"vmware.log"</span></span> ], <span class="hljs-string"><span class="hljs-string">"configfile"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"edin_host.nvram"</span></span>, <span class="hljs-string"><span class="hljs-string">"edin_host.vmsd"</span></span> ], <span class="hljs-string"><span class="hljs-string">"disk"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"snapshot"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"swapfile"</span></span>: <span class="hljs-string"><span class="hljs-string">"[mydatastore] edin_host/edin_host-60ee652b.vswp"</span></span> }, <span class="hljs-string"><span class="hljs-string">"guest"</span></span>: { <span class="hljs-string"><span class="hljs-string">"appheartbeatstatus"</span></span>: <span class="hljs-string"><span class="hljs-string">"appStatusGray"</span></span>, <span class="hljs-string"><span class="hljs-string">"interactiveguestoperationsready"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"toolsversion"</span></span>: <span class="hljs-string"><span class="hljs-string">"2147483647"</span></span>, <span class="hljs-string"><span class="hljs-string">"toolsversionstatus"</span></span>: <span class="hljs-string"><span class="hljs-string">"guestToolsUnmanaged"</span></span>, <span class="hljs-string"><span class="hljs-string">"toolsrunningstatus"</span></span>: <span class="hljs-string"><span class="hljs-string">"guestToolsRunning"</span></span>, <span class="hljs-string"><span class="hljs-string">"ipaddress"</span></span>: <span class="hljs-string"><span class="hljs-string">"192.168.1.1"</span></span>, <span class="hljs-string"><span class="hljs-string">"screen"</span></span>: { <span class="hljs-string"><span class="hljs-string">"width"</span></span>: <span class="hljs-number"><span class="hljs-number">1280</span></span>, <span class="hljs-string"><span class="hljs-string">"height"</span></span>: <span class="hljs-number"><span class="hljs-number">768</span></span> }, <span class="hljs-string"><span class="hljs-string">"guestfamily"</span></span>: <span class="hljs-string"><span class="hljs-string">"linuxGuest"</span></span>, <span class="hljs-string"><span class="hljs-string">"generationinfo"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"ipstack"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"gueststate"</span></span>: <span class="hljs-string"><span class="hljs-string">"running"</span></span>, <span class="hljs-string"><span class="hljs-string">"hostname"</span></span>: <span class="hljs-string"><span class="hljs-string">"edin_host.example.com"</span></span>, <span class="hljs-string"><span class="hljs-string">"guestid"</span></span>: <span class="hljs-string"><span class="hljs-string">"centos64Guest"</span></span>, <span class="hljs-string"><span class="hljs-string">"toolsstatus"</span></span>: <span class="hljs-string"><span class="hljs-string">"toolsOk"</span></span>, <span class="hljs-string"><span class="hljs-string">"net"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"disk"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"appstate"</span></span>: <span class="hljs-string"><span class="hljs-string">"none"</span></span>, <span class="hljs-string"><span class="hljs-string">"guestoperationsready"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"toolsversionstatus2"</span></span>: <span class="hljs-string"><span class="hljs-string">"guestToolsUnmanaged"</span></span>, <span class="hljs-string"><span class="hljs-string">"guestfullname"</span></span>: <span class="hljs-string"><span class="hljs-string">"CentOS 4/5/6/7 (64-bit)"</span></span> }, <span class="hljs-string"><span class="hljs-string">"effectiverole"</span></span>: [ <span class="hljs-number"><span class="hljs-number">-2</span></span> ], <span class="hljs-string"><span class="hljs-string">"rootsnapshot"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"alarmactionsenabled"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"value"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"edin_host"</span></span>, <span class="hljs-string"><span class="hljs-string">"capability"</span></span>: { <span class="hljs-string"><span class="hljs-string">"quiescedsnapshotssupported"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"cpufeaturemasksupported"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"consolepreferencessupported"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"vpmcsupported"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"featurerequirementsupported"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"snapshotconfigsupported"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"bootoptionssupported"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"changetrackingsupported"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"vmnpivwwnupdatesupported"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"poweredonmonitortypechangesupported"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"nestedhvsupported"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"poweredoffsnapshotssupported"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"settingvideoramsizesupported"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"settingscreenresolutionsupported"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"virtualmmuusagesupported"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"sesparsedisksupported"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"s1acpimanagementsupported"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"reverttosnapshotsupported"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"disksharessupported"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"vmnpivwwndisablesupported"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"disablesnapshotssupported"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"swapplacementsupported"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"bootretryoptionssupported"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"memoryreservationlocksupported"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"recordreplaysupported"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"settingdisplaytopologysupported"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"vmnpivwwnsupported"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"npivwwnonnonrdmvmsupported"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"toolsautoupdatesupported"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"multiplecorespersocketsupported"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"guestautolocksupported"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"multiplesnapshotssupported"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"snapshotoperationssupported"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"toolssynctimesupported"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"hostbasedreplicationsupported"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"locksnapshotssupported"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"memorysnapshotssupported"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }, <span class="hljs-string"><span class="hljs-string">"snapshot"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"ansible_uuid"</span></span>: <span class="hljs-string"><span class="hljs-string">"39d641a6-9b9e-4ce0-b1f8-a4e8e38c9743"</span></span>, <span class="hljs-string"><span class="hljs-string">"layoutex"</span></span>: { <span class="hljs-string"><span class="hljs-string">"timestamp"</span></span>: { <span class="hljs-string"><span class="hljs-string">"hour"</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-string"><span class="hljs-string">"min"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"max"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"month"</span></span>: <span class="hljs-number"><span class="hljs-number">12</span></span>, <span class="hljs-string"><span class="hljs-string">"second"</span></span>: <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-string"><span class="hljs-string">"microsecond"</span></span>: <span class="hljs-number"><span class="hljs-number">860550</span></span>, <span class="hljs-string"><span class="hljs-string">"year"</span></span>: <span class="hljs-number"><span class="hljs-number">2016</span></span>, <span class="hljs-string"><span class="hljs-string">"tzinfo"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"resolution"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"day"</span></span>: <span class="hljs-number"><span class="hljs-number">22</span></span>, <span class="hljs-string"><span class="hljs-string">"minute"</span></span>: <span class="hljs-number"><span class="hljs-number">45</span></span> }, <span class="hljs-string"><span class="hljs-string">"disk"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"snapshot"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"file"</span></span>: [] }, <span class="hljs-string"><span class="hljs-string">"runtime"</span></span>: { <span class="hljs-string"><span class="hljs-string">"powerstate"</span></span>: <span class="hljs-string"><span class="hljs-string">"poweredOn"</span></span>, <span class="hljs-string"><span class="hljs-string">"featuremask"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"onlinestandby"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"cleanpoweroff"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"featurerequirement"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"question"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"boottime"</span></span>: { <span class="hljs-string"><span class="hljs-string">"hour"</span></span>: <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-string"><span class="hljs-string">"min"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"max"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"month"</span></span>: <span class="hljs-number"><span class="hljs-number">11</span></span>, <span class="hljs-string"><span class="hljs-string">"second"</span></span>: <span class="hljs-number"><span class="hljs-number">31</span></span>, <span class="hljs-string"><span class="hljs-string">"microsecond"</span></span>: <span class="hljs-number"><span class="hljs-number">402054</span></span>, <span class="hljs-string"><span class="hljs-string">"year"</span></span>: <span class="hljs-number"><span class="hljs-number">2016</span></span>, <span class="hljs-string"><span class="hljs-string">"tzinfo"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"resolution"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"day"</span></span>: <span class="hljs-number"><span class="hljs-number">30</span></span>, <span class="hljs-string"><span class="hljs-string">"minute"</span></span>: <span class="hljs-number"><span class="hljs-number">42</span></span> }, <span class="hljs-string"><span class="hljs-string">"maxmemoryusage"</span></span>: <span class="hljs-number"><span class="hljs-number">2048</span></span>, <span class="hljs-string"><span class="hljs-string">"offlinefeaturerequirement"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"minrequiredevcmodekey"</span></span>: <span class="hljs-string"><span class="hljs-string">"intel-sandybridge"</span></span>, <span class="hljs-string"><span class="hljs-string">"toolsinstallermounted"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"suspendinterval"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">"memoryoverhead"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"needsecondaryreason"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"vflashcacheallocation"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">"host"</span></span>: { <span class="hljs-string"><span class="hljs-string">"alarmactionsenabled"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"configissue"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"vm"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"hardware"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"tag"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"datastore"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"triggeredalarmstate"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"network"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"effectiverole"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"datastorebrowser"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"config"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"customvalue"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"permission"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"systemresources"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"configmanager"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"recenttask"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"availablefield"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"overallstatus"</span></span>: <span class="hljs-string"><span class="hljs-string">"green"</span></span>, <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"esx1.example.com"</span></span>, <span class="hljs-string"><span class="hljs-string">"configstatus"</span></span>: <span class="hljs-string"><span class="hljs-string">"green"</span></span>, <span class="hljs-string"><span class="hljs-string">"value"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"summary"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"capability"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"licensableresource"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"runtime"</span></span>: {} }, <span class="hljs-string"><span class="hljs-string">"maxcpuusage"</span></span>: <span class="hljs-number"><span class="hljs-number">1999</span></span>, <span class="hljs-string"><span class="hljs-string">"device"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"suspendtime"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"recordreplaystate"</span></span>: <span class="hljs-string"><span class="hljs-string">"inactive"</span></span>, <span class="hljs-string"><span class="hljs-string">"consolidationneeded"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"connectionstate"</span></span>: <span class="hljs-string"><span class="hljs-string">"connected"</span></span>, <span class="hljs-string"><span class="hljs-string">"dasvmprotection"</span></span>: { <span class="hljs-string"><span class="hljs-string">"dasprotected"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }, <span class="hljs-string"><span class="hljs-string">"faulttolerancestate"</span></span>: <span class="hljs-string"><span class="hljs-string">"notConfigured"</span></span>, <span class="hljs-string"><span class="hljs-string">"nummksconnections"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> }, <span class="hljs-string"><span class="hljs-string">"config"</span></span>: { <span class="hljs-string"><span class="hljs-string">"uuid"</span></span>: <span class="hljs-string"><span class="hljs-string">"422c78f0-7401-3dbc-2790-9708af08bd03"</span></span>, <span class="hljs-string"><span class="hljs-string">"alternateguestname"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"npivonnonrdmdisks"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"instanceuuid"</span></span>: <span class="hljs-string"><span class="hljs-string">"502c6c2d-8b58-a01c-4ce0-a18e0a65ac3a"</span></span>, <span class="hljs-string"><span class="hljs-string">"cpuaffinity"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"npivdesirednodewwns"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"memoryhotaddenabled"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"hardware"</span></span>: { <span class="hljs-string"><span class="hljs-string">"virtualich7mpresent"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"numcpu"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">"virtualsmcpresent"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"memorymb"</span></span>: <span class="hljs-number"><span class="hljs-number">2048</span></span>, <span class="hljs-string"><span class="hljs-string">"device"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"numcorespersocket"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span> }, <span class="hljs-string"><span class="hljs-string">"vappconfig"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"tools"</span></span>: { <span class="hljs-string"><span class="hljs-string">"beforegueststandby"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"beforeguestreboot"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"beforeguestshutdown"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"toolsupgradepolicy"</span></span>: <span class="hljs-string"><span class="hljs-string">"manual"</span></span>, <span class="hljs-string"><span class="hljs-string">"afterresume"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"afterpoweron"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"synctimewithhost"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"lastinstallinfo"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"pendingcustomization"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"toolsversion"</span></span>: <span class="hljs-number"><span class="hljs-number">2147483647</span></span> }, <span class="hljs-string"><span class="hljs-string">"guestfullname"</span></span>: <span class="hljs-string"><span class="hljs-string">"CentOS 4/5/6/7 (64-bit)"</span></span>, <span class="hljs-string"><span class="hljs-string">"changeversion"</span></span>: <span class="hljs-string"><span class="hljs-string">"2016-11-30T09:42:11.343789Z"</span></span>, <span class="hljs-string"><span class="hljs-string">"defaultpowerops"</span></span>: { <span class="hljs-string"><span class="hljs-string">"defaultresettype"</span></span>: <span class="hljs-string"><span class="hljs-string">"soft"</span></span>, <span class="hljs-string"><span class="hljs-string">"defaultsuspendtype"</span></span>: <span class="hljs-string"><span class="hljs-string">"hard"</span></span>, <span class="hljs-string"><span class="hljs-string">"suspendtype"</span></span>: <span class="hljs-string"><span class="hljs-string">"hard"</span></span>, <span class="hljs-string"><span class="hljs-string">"standbyaction"</span></span>: <span class="hljs-string"><span class="hljs-string">"powerOnSuspend"</span></span>, <span class="hljs-string"><span class="hljs-string">"defaultpowerofftype"</span></span>: <span class="hljs-string"><span class="hljs-string">"soft"</span></span>, <span class="hljs-string"><span class="hljs-string">"resettype"</span></span>: <span class="hljs-string"><span class="hljs-string">"soft"</span></span>, <span class="hljs-string"><span class="hljs-string">"powerofftype"</span></span>: <span class="hljs-string"><span class="hljs-string">"soft"</span></span> }, <span class="hljs-string"><span class="hljs-string">"cpuhotremoveenabled"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"vpmcenabled"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"firmware"</span></span>: <span class="hljs-string"><span class="hljs-string">"bios"</span></span>, <span class="hljs-string"><span class="hljs-string">"npivworldwidenametype"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"nestedhvenabled"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"vmx-11"</span></span>, <span class="hljs-string"><span class="hljs-string">"locationid"</span></span>: <span class="hljs-string"><span class="hljs-string">"564da59f-ac2b-54e9-c006-84e06f757410"</span></span>, <span class="hljs-string"><span class="hljs-string">"maxmksconnections"</span></span>: <span class="hljs-number"><span class="hljs-number">40</span></span>, <span class="hljs-string"><span class="hljs-string">"template"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"guestid"</span></span>: <span class="hljs-string"><span class="hljs-string">"centos64Guest"</span></span>, <span class="hljs-string"><span class="hljs-string">"bootoptions"</span></span>: { <span class="hljs-string"><span class="hljs-string">"enterbiossetup"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"bootorder"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"bootdelay"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">"bootretryenabled"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"bootretrydelay"</span></span>: <span class="hljs-number"><span class="hljs-number">10000</span></span> }, <span class="hljs-string"><span class="hljs-string">"cpufeaturemask"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"hotplugmemorylimit"</span></span>: <span class="hljs-number"><span class="hljs-number">3072</span></span>, <span class="hljs-string"><span class="hljs-string">"npivnodeworldwidename"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"cpuallocation"</span></span>: { <span class="hljs-string"><span class="hljs-string">"overheadlimit"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"reservation"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">"limit"</span></span>: <span class="hljs-number"><span class="hljs-number">-1</span></span>, <span class="hljs-string"><span class="hljs-string">"shares"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"expandablereservation"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span> }, <span class="hljs-string"><span class="hljs-string">"files"</span></span>: { <span class="hljs-string"><span class="hljs-string">"vmpathname"</span></span>: <span class="hljs-string"><span class="hljs-string">"[mydatastore] edin_host/edin_host.vmx"</span></span>, <span class="hljs-string"><span class="hljs-string">"snapshotdirectory"</span></span>: <span class="hljs-string"><span class="hljs-string">"[mydatastore] edin_host/"</span></span>, <span class="hljs-string"><span class="hljs-string">"suspenddirectory"</span></span>: <span class="hljs-string"><span class="hljs-string">"[mydatastore] edint_host/"</span></span>, <span class="hljs-string"><span class="hljs-string">"logdirectory"</span></span>: <span class="hljs-string"><span class="hljs-string">"[mydatastore] edin_host/"</span></span> }, <span class="hljs-string"><span class="hljs-string">"memoryreservationlockedtomax"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"scheduledhardwareupgradeinfo"</span></span>: { <span class="hljs-string"><span class="hljs-string">"fault"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"upgradepolicy"</span></span>: <span class="hljs-string"><span class="hljs-string">"never"</span></span>, <span class="hljs-string"><span class="hljs-string">"versionkey"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"scheduledhardwareupgradestatus"</span></span>: <span class="hljs-string"><span class="hljs-string">"none"</span></span> }, <span class="hljs-string"><span class="hljs-string">"initialoverhead"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"hotplugmemoryincrementsize"</span></span>: <span class="hljs-number"><span class="hljs-number">128</span></span>, <span class="hljs-string"><span class="hljs-string">"guestautolockenabled"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"latencysensitivity"</span></span>: { <span class="hljs-string"><span class="hljs-string">"sensitivity"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"level"</span></span>: <span class="hljs-string"><span class="hljs-string">"normal"</span></span> }, <span class="hljs-string"><span class="hljs-string">"npivtemporarydisabled"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"memoryallocation"</span></span>: { <span class="hljs-string"><span class="hljs-string">"overheadlimit"</span></span>: <span class="hljs-number"><span class="hljs-number">63</span></span>, <span class="hljs-string"><span class="hljs-string">"reservation"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">"limit"</span></span>: <span class="hljs-number"><span class="hljs-number">-1</span></span>, <span class="hljs-string"><span class="hljs-string">"shares"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"expandablereservation"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span> }, <span class="hljs-string"><span class="hljs-string">"ftinfo"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"npivportworldwidename"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"annotation"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"memoryaffinity"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"vassertsenabled"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"datastoreurl"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"changetrackingenabled"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"edin_host"</span></span>, <span class="hljs-string"><span class="hljs-string">"npivdesiredportwwns"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"vflashcachereservation"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">"extraconfig"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"networkshaper"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"modified"</span></span>: { <span class="hljs-string"><span class="hljs-string">"hour"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">"min"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"max"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"month"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">"second"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">"microsecond"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">"year"</span></span>: <span class="hljs-number"><span class="hljs-number">1970</span></span>, <span class="hljs-string"><span class="hljs-string">"tzinfo"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"resolution"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"day"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">"minute"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> }, <span class="hljs-string"><span class="hljs-string">"consolepreferences"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"swapplacement"</span></span>: <span class="hljs-string"><span class="hljs-string">"inherit"</span></span>, <span class="hljs-string"><span class="hljs-string">"flags"</span></span>: { <span class="hljs-string"><span class="hljs-string">"diskuuidenabled"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"snapshotdisabled"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"recordreplayenabled"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"runwithdebuginfo"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"virtualmmuusage"</span></span>: <span class="hljs-string"><span class="hljs-string">"automatic"</span></span>, <span class="hljs-string"><span class="hljs-string">"enablelogging"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"snapshotpoweroffbehavior"</span></span>: <span class="hljs-string"><span class="hljs-string">"powerOff"</span></span>, <span class="hljs-string"><span class="hljs-string">"snapshotlocked"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"htsharing"</span></span>: <span class="hljs-string"><span class="hljs-string">"any"</span></span>, <span class="hljs-string"><span class="hljs-string">"disableacceleration"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"monitortype"</span></span>: <span class="hljs-string"><span class="hljs-string">"release"</span></span>, <span class="hljs-string"><span class="hljs-string">"virtualexecusage"</span></span>: <span class="hljs-string"><span class="hljs-string">"hvAuto"</span></span>, <span class="hljs-string"><span class="hljs-string">"usetoe"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span> }, <span class="hljs-string"><span class="hljs-string">"cpuhotaddenabled"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }, <span class="hljs-string"><span class="hljs-string">"ansible_ssh_host"</span></span>: <span class="hljs-string"><span class="hljs-string">"192.168.1.1"</span></span></code> </pre><br></div></div><br><br>  Great, right?  :) As I said, the amount of metadata is also regulated by max_object_level, so if there is too much data, drop it to 1. <br><br><h3>  We work with the script. </h3><br>  You can use it in two ways: either put the script with the settings in the folder of our inventory, or set the inventory manually: <br><br><pre> <code class="bash hljs">ansible all -i /path/to/my/vmware_inventory.py -m setup</code> </pre> <br>  What I like about the setup module is that it does not require a connection, but is simply driven by the typewriter. <br>  Then you can experiment, and you can use virtual metadata in the processing of conditions.  For the purity of the experiment, I will filter by resource pool. <br>  <i>If at start Ansible will scold, it is necessary to delete comments at the beginning of the script.</i> <br><br><h4>  Example number 1 </h4><br><pre> <code class="hljs pgsql">- <span class="hljs-type"><span class="hljs-type">name</span></span>: example <span class="hljs-number"><span class="hljs-number">1</span></span> hosts: mail-scanner* gather_facts: <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> tasks: - <span class="hljs-type"><span class="hljs-type">name</span></span>: say the <span class="hljs-type"><span class="hljs-type">name</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> the machine <span class="hljs-keyword"><span class="hljs-keyword">debug</span></span>: msg: "Hello from {{ hostvars[inventory_hostname].resourcepool.name }}!"</code> </pre><br>  In this example, I take several of the same name hosts and display a variable taken not from the Ansible facts, but from the machine metadata. <br><br><h4>  Example number 2 </h4><br><pre> <code class="hljs perl">--- - name: example nr2 hosts: all gather_facts: False vars: resource_pool: <span class="hljs-string"><span class="hljs-string">"{{ hostvars[inventory_hostname].resourcepool._moId }}"</span></span> tasks: - name: <span class="hljs-keyword"><span class="hljs-keyword">say</span></span> hello, <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> in RP debug: msg: <span class="hljs-string"><span class="hljs-string">"Hello, fron {{ hostvars[inventory_hostname].name }}"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">when</span></span>: resource_pool == <span class="hljs-string"><span class="hljs-string">"resgroup-1"</span></span></code> </pre><br>  Here we have to use a dirty hack, because the square brackets do not want to be processed normally in the when block, so I first declare the variable and then check it.  If the machine is in the resource pool, Ansible will return her name to me. <br><br><h4>  Example number 3 </h4><br>  You can do this kind of trick in the roles. <br><br><pre> <code class="hljs perl">-- - name: example nr3 hosts: centos64Guest gather_facts: False vars: resource_pool: <span class="hljs-string"><span class="hljs-string">"{{ hostvars[inventory_hostname].resourcepool._moId }}"</span></span> roles: - { role: myrole, <span class="hljs-keyword"><span class="hljs-keyword">when</span></span>: resource_pool == <span class="hljs-string"><span class="hljs-string">"resgroup-1"</span></span> }</code> </pre><br>  Dear reader, the possibilities of using metadata are limited only by your imagination! <br><br><h3>  Group in our own way </h3><br>  It's great to use metadata for filtering in when, but this does not solve the problem of running across all machines - we want to group machines at the script level.  To do this, we once again play with the groupby_patterns setting.  For example, if you set the value {{resourcepool.name}}, then the pool resource will be grouped by name.  You can still group by virtual network name ({{network.name}}) or by tag ({{tag}}) <br><br>  What is the best way to decide you, the reader. <br><br>  <i>PS By the way, you can make a bunch of groups of parents and groups of children in a static inventory.</i>  <i>This is described in detail in the Ansible <a href="http://docs.ansible.com/ansible/intro_dynamic_inventory.html">documentation</a> (albeit using AWS as an example).</i> </div><p>Source: <a href="https://habr.com/ru/post/318620/">https://habr.com/ru/post/318620/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../318608/index.html">JetBrains Night in Moscow. Video. Using ReSharper in .NET Development Teams</a></li>
<li><a href="../318610/index.html">HTML basics video course - to help informatics teacher</a></li>
<li><a href="../318612/index.html">Ten IT jobs that are hardest to find people</a></li>
<li><a href="../318614/index.html">IBM and BMW are working together to create a smart car</a></li>
<li><a href="../318618/index.html">The most difficult problem of computer science</a></li>
<li><a href="../318622/index.html">Titan Quest redesign for smartphones and tablets</a></li>
<li><a href="../318626/index.html">How IT professionals work. Andrei Aksenov, founder of the Sphinx project</a></li>
<li><a href="../318628/index.html">Intel Software Guard Extensions tutorial. Part 4, the enclave</a></li>
<li><a href="../318630/index.html">New Year's Eve Mobile Applications Promotion Test</a></li>
<li><a href="../318632/index.html">Extended regularization of neural networks in online stores - with the help of ... napalm</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>