<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>jQueryUI timePicker - widget for timing</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the process of working on a corporate project, it is often necessary to switch to the tasks of developing a user interface. Of course, to implement...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>jQueryUI timePicker - widget for timing</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/157/f1d/ab5/157f1dab5e261ca1118e5aaaa646f2e4.jpg" alt="image" align="left">  In the process of working on a corporate project, it is often necessary to switch to the tasks of developing a user interface.  Of course, to implement the front-end, we have not reinvented bicycles for a long time, but use ready-made components.  It would seem that for all occasions there is already a plugin, but recently I was surprised to find that there are a huge number of implementations of calendar elements for the date picker field, but the time picker is somehow by-passed. <br><br>  I don‚Äôt know if I‚Äôve been looking badly (there‚Äôs only one similar to plugins.jqueri.com - KitKatClock, but it‚Äôs somewhat ‚Äúunfinished‚Äù), or I don‚Äôt want to search, or nobody really cares about this element.  In general, since the part of the interface I was developing was focused on filling the fields with a finger (the target audience of the devices is the infokiosk) or, more rarely, with a mouse, and there were plenty of fields for entering time, I decided to give birth to another <strike>useless</strike> jquery plugin. <br><a name="habracut"></a><br>  So.  Statement TK. <br><ol><li>  The main tasks that the element must solve are: faster time entry into the field, without a keyboard.  Ideally - in two clicks.  The timing algorithm must be intuitive; </li><li>  The initial focus on touch screens.  The element should prevent unwanted ascending of the on-screen keyboard of the device;  correctly positioned on the screen so that, if possible, do not close the input field and do not go beyond the screen; </li><li>  On desktop machines, do not interfere (and it is better to help) to the user to fill in the field from the keyboard, if he uses it as the primary means of input.  The help can consist, say, in autosubstitution of the dividing ":" character.  Those.  it is enough for a person to enter only numbers; </li><li>  Ensure compatibility with older browsers.  Yes, yes - without IE6 anywhere.  Targeted infokiosks use specialized software based on you-know-who and exactly that version libraries; </li><li>  Ensure compatibility with jQueryUI Calendar.  Our element should work correctly with the fields to which our favorite calendar is already attached, complementing it and not interfering with it; </li><li>  Connection and use should be simple. </li></ol><br><br>  Connecting an item is almost trivial: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"stylesheet"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"clock-ui.css"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/css"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">language</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"javascript"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"clock-ui.min.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  True, there is one thing.  Element uses images.  And these images can be located in completely different places.  Images are written in styles.  That is, using such an element on your site, you must place the pictures where necessary, and then make the appropriate changes to the styles. <br><br><div class="spoiler">  <b class="spoiler_title">Hidden text</b> <div class="spoiler_text">  I was thinking about using dataURI.  But, first, the css-file becomes bulky (which is not good), and secondly, IE does not like it.  If someone tells you how to elegantly solve this problem, I will be grateful. </div></div><br><div class="spoiler">  <b class="spoiler_title">Hidden text</b> <div class="spoiler_text">  I was thinking about using SVG.  I even spent 4 hours (!) On drawing the watch in Xara Xtreme.  But unfortunately, Xara, when trying to export a file from a native format to SVG, either crashes or saves an empty file.  Sorry for the time spent.  If there are kind people who can make exports, they will be happy.  Be sure to collect the version of the element on a pure SVG. <br>  <a href="">Here is this file.</a> <br></div></div><br><br>  Activating an item is even easier: <br><br><pre> <code class="javascript hljs">$(<span class="hljs-string"><span class="hljs-string">'input.time'</span></span>).timePicker();</code> </pre> <br>  Here we associate all the text fields that have the time class with our element.  And repeated calls are allowed. <br><br>  You can call for the fields associated with the calendar, provided that the calendar is initialized first.  In order for timePicker to insert the time value into such combined fields, you must set the dateFormat option (and / or altFormat) with the 'T' character separated by at least one space: <br><br><pre> <code class="javascript hljs">$(<span class="hljs-string"><span class="hljs-string">'.date'</span></span>) .datepicker({<span class="hljs-attr"><span class="hljs-attr">dateFormat</span></span>: <span class="hljs-string"><span class="hljs-string">'dd.mm.yy T'</span></span>}) .timePicker();</code> </pre><br>  If the calendar has altField and altFormat and also contains 'T', the time will be set in it. <br><br>  The timePicker element supports initialization with options.  There are not many options, but they are there. <br><ul><li>  The <b>touchscreen</b> parameter tells the element: is the current device type touch sensitive?  In fact, the element itself is able to identify such devices.  However, in the process of testing on the kiosks, we faced the fact that the screens of the info kiosks, although touch-sensitive, do not support the touchstart event built-in browser.  What led to a malfunction of the element.  Use the parameter to solve such situations. </li><li>  The <b>compatible</b> parameter (default is true).  Designed for compatibility with older browsers.  For example, an element needs the browser to support border-radius and background-size - otherwise the layout will be incorrect.  If there is support for these properties, feel free to set compatible = false, for example: <br><br><pre> <code class="javascript hljs">$(<span class="hljs-string"><span class="hljs-string">'.time'</span></span>).timePicker({ <span class="hljs-attr"><span class="hljs-attr">compatible</span></span>: !(Modernizr.backgroundsize &amp;&amp; Modernizr.borderradius) });</code> </pre><br></li><li>  The <b>defaultHour</b> , <b>defaultMinute parameters</b> set the ‚Äúdefault‚Äù time for empty fields.  The time is set in a 12-hour format (from zero).  The <b>PM</b> (logical) parameter indicates after noon.  For example, the code below makes the element assume that empty fields (or initially incorrectly filled in), time is 12:00: <br><br><pre> <code class="javascript hljs">$(<span class="hljs-string"><span class="hljs-string">'.time'</span></span>).timePicker({ <span class="hljs-attr"><span class="hljs-attr">defaultHour</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">defaultMinute</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">PM</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> });</code> </pre><br></li><li>  Finally, <b>onOpened</b> , <b>onClosed</b> set your handlers to open and close the widget accordingly.  Important note: the handler is called after the widget changes its visibility. </li></ul><br><br>  There are two ways to get the time value selected in the field. <br><br>  First: directly read the value of the field.  In our project, such fields go as strings and are analyzed on the server side, so this solution suits us perfectly. <br><br>  Second: you can read the time in the "raw" format, for example, like this: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> hours = $(<span class="hljs-string"><span class="hljs-string">'#element'</span></span>).data().hours, minutes = $(<span class="hljs-string"><span class="hljs-string">'#element'</span></span>).data().minutes, pm = $(<span class="hljs-string"><span class="hljs-string">'#element'</span></span>).data().pm_time;</code> </pre><br>  Finally, if you need to get the time in unix format (in seconds from the beginning of the day), use: <br><br><pre> <code class="javascript hljs">$(<span class="hljs-string"><span class="hljs-string">'#element'</span></span>).date().time;</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Hidden text</b> <div class="spoiler_text">  For items related to the calendar, I wanted to make getting the date and time more elegant, through <pre> <code class="javascript hljs">$(<span class="hljs-string"><span class="hljs-string">'#element'</span></span>).datepicker(<span class="hljs-string"><span class="hljs-string">'getDate'</span></span>)</code> </pre>  But unfortunately, it was not possible to affect the date of the datePicker element via getDate / setDate.  The calendar, when it was hidden, stubbornly returned the current date, rather than the one previously selected in the field. <br></div></div><br><br>  Those who wish to test the operation of the element are <a href="http://jobject.tmweb.ru/timepicker/">welcome</a> . <br><br>  The project, as it was, on the <a href="https://github.com/KaminskyIlya/timePicker">githaba</a> . </div><p>Source: <a href="https://habr.com/ru/post/244057/">https://habr.com/ru/post/244057/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../244041/index.html">Expressive JavaScript: Event handling</a></li>
<li><a href="../244047/index.html">Summary of course materials ICND1 100-101</a></li>
<li><a href="../244049/index.html">How to create your first e-course and make it sold</a></li>
<li><a href="../244051/index.html">Access certification: reduce risks, armed with relevant data</a></li>
<li><a href="../244055/index.html">Configuring the SWI-Prolog source editor (XPCE Emacs) for a user not familiar with Emacs keyboard shortcuts</a></li>
<li><a href="../244059/index.html">Tracking copy text in Google Tag Manager</a></li>
<li><a href="../244061/index.html">Honeymoon Manager: Part 3</a></li>
<li><a href="../244063/index.html">Unexpected B2B sales research results [infographics]</a></li>
<li><a href="../244065/index.html">Experience of using MVVM in real projects</a></li>
<li><a href="../244067/index.html">The role of industrial design in creating a product for the electronics market</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>