<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>An overview of the Strela robotic platform or a do-it-yourself simple bluetooth bot</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recently, we received a gift for our workshop from one of the leading manufacturers of electronic training kits in Russia - from Ampery . The Strela b...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>An overview of the Strela robotic platform or a do-it-yourself simple bluetooth bot</h1><div class="post__text post__text-html js-mediator-article">  Recently, we received a gift for our workshop from one of the leading manufacturers of electronic training kits in Russia - from <a href="http://amperka.ru/">Ampery</a> .  The <a href="http://amperka.ru/product/strela">Strela</a> board is a new development of the company and they suggested that we try to apply it in real conditions. <br><br>  The main idea of ‚Äã‚Äãthe Strela platform is the rejection of the modular principle of building a robotic Arduino project.  Instead of a set of shields, Ampere offers to use one universal board, which implements the functionality of many shields. <br><br><img src="https://habrastorage.org/files/409/4b0/a89/4094b0a89b17497eace386a0b43f5f2b.gif">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In the article, I offer you my view on what came out of it, and tell you how we built our bluetooth-controlled robot from an Android smartphone.  I tried to be as impartial as possible, but a certain amount of subjectivity, of course, is present. <br><a name="habracut"></a><br><h2>  Prehistory </h2><br>  I teach special disciplines in the radio engineering college and in my spare time I work with students on project activities.  This can not be called a circle in the usual sense of the word.  I just have a group of young people who, individually or in very small groups, work on what they like.  Someone is engaged in 3D printing, someone copters, someone programming, etc.  That is, I have an idea about teaching people how to practice electronics. <br><br>  At the main place of work, I professionally develop electronics and have extensive experience working on real iron projects.  I can express my impressions not only as a teacher, but also as an engineer. <br>  When I was offered to try to use the Arrow in my work and share my experience, I, of course, immediately agreed.  Everything Amperka gave us, I handed over to one of my students, who became interested in the task, and this is what he did: <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/WyJQ7y7ito0%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700191,15700253&amp;usg=ALkJrhhXK0VNUImbcdYeC2ZFtRBDUmT64g" frameborder="0" allowfullscreen=""></iframe><br><br>  So, we proceed to the description of the components. <br><br><h2>  Strela </h2><br>  The <a href="http://amperka.ru/product/strela"><b>Strela</b></a> platform is an Arduino-compatible board, fully prepared for building robots.  It was developed by Amperka and combines almost everything that may be needed to quickly build a robot.  Built on the basis of the controller Atmega32u4 and work with it is necessary, as with the Arduino Leonardo.  She came to us in such a box: <br><br><img src="https://habrastorage.org/files/733/9bb/20c/7339bb20cc234677b49c5b3d72298525.gif"><br><br>  In general, Amperka is attentive to packaging.  All their products are neatly packaged in specially designed boxes.  First of all, they are guided by a rather young audience and, I think, it is pleasant for the guys to receive their purchases in this form, and not wrapped in a bubble film. <br><br><img src="https://habrastorage.org/files/712/90f/1b6/71290f1b664a4efd9b921f087dd28358.gif"><br><br>  In the box, the board itself: <br><br><img src="https://habrastorage.org/files/17c/cd0/a0f/17ccd0a0fe3843ba97ea8a5c205bc549.gif"><br><br>  At first glance, I was surprised that there was nothing in the box except for the board.  Later, when I started working with the board, I returned to this thought more than once, but I couldn‚Äôt think what else could be in it.  There is really a lot of stuff already installed on the board, but getting some cheap bonus bonus is always very nice. <br><br>  The board itself with the front ... <br><br><img src="https://habrastorage.org/files/4d9/ba4/bae/4d9ba4bae9fc412da37385767e2a46e5.gif"><br><br>  ... and from the back: <br><br><img src="https://habrastorage.org/files/b8c/468/e94/b8c468e94fcc469eb4c9b87c41249737.gif"><br><br>  Here are the main characteristics of the board: <br>  <b>Nutrition</b> <br><ol><li>  Input voltage: 7-24V.  From the same voltage, the motor driver is powered; </li><li>  Built-in pulse stabilizer for 5V, 3A.  The board itself consumes very little, that is, all this can be used to power the connected elements (sensors, servo drives, etc.); </li><li>  3.3V Linear Stabilizer for powering communication modules; </li><li>  Powered by USB.  Strela is equipped with a comparator, which, when the main power is disconnected, automatically switches to power from the USB port.  The load capacity of the 5 volt channel will drop to 500mA and the power outputs to the engines will stop working. </li></ol><br>  <b>Board Mounted Peripherals</b> <br><ol><li>  Engine Driver L298P; </li><li>  Piezo emitter without built-in generator.  Can be used to play an arbitrary melody. </li><li>  RESET switch.  That is exactly the switch.  It essentially serves as a circuit breaker.  You can turn off the board if you put an external power switch on the power supply, or you can simply ‚Äúturn off‚Äù the microcontroller with the RESET switch; </li><li>  Four user buttons without latching; </li><li>  Four custom LEDs; </li><li>  Ten indicator LEDs for engine, power and transmission lines status. </li></ol><br>  <b>Connectors for external elements</b> <br><ol><li>  Two terminal blocks for connecting two DC motors for 2A, or one powerful for 4A, or one stepper motor; </li><li>  12 standard three-pin PLS-connectors (GND, 5V, SIG).  They can connect a variety of sensors, servos, etc.  Eight of them can work as analog inputs and 4 as PWM outputs; </li><li>  Connector for installation of communication modules.  All the necessary binding is already on the board - all that remains is to install the necessary module of the XBee format; </li><li>  Connector for connecting an IR receiver for remote control via an optical channel; </li><li>  Connector for connecting liquid crystal displays; </li><li>  Interfaces TWI / I2C, SPI, UART. </li></ol><br>  I hope the reader will forgive me for a free retelling.  All specifications can be found on the <a href="http://wiki.amperka.ru/%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B4%25D1%2583%25D0%25BA%25D1%2582%25D1%258B:strela">wiki</a> . <br>  Today, robot builders most often use the modular principle.  That is, they have to buy individually almost all of these functions, and then combine them together. <br><br>  Approximately our robot made on shild would look like this: <br><br><img src="https://habrastorage.org/files/7bf/43f/8c4/7bf43f8c40024fcb8e591c9447a700b6.jpg"><br><br>  Strela includes several devices that are usually bought separately - Arduino, engine driver, voltage converter and breadboard for prototyping.  This is the main idea of ‚Äã‚Äãthe board and it has two sides. <br>  On the one hand, if you try to buy all these functions in the form of separate shields, you will get much more expensive and larger in size.  That is, if, for example, to plan the purchase of equipment for the class of robotics, then Strela becomes profitable even from an economic point of view. <br><br>  On the other hand, if there is a specific project that is conceived on Arduino and all components of the system are known in advance, then most likely it will be possible to get by with one or two shields and get a gain in both cost and size. <br>  It seems to me that the use of the platform will be justified in the framework of the circle of robotics.  You can constantly rearrange it on different robots, quickly add features, etc.  In the video review from Amperka, they generally built a robot in which they implemented almost all the functionality at the same time.  Strela may also be of interest to people who are knowledgeable in programming, who needed relatively simple hardware in their project.  Strela fits perfectly as a performer of the telepresence robot teams or will help breathe new life into a broken RC model. <br><br>  Summing up this part, I want to list the pros and cons of the board.  So, here is what I consider the virtues: <br><ul><li>  Outwardly, one board looks better than a set of shields.  At a minimum, it will stand out from other robots; </li><li>  Fewer connections will have to be done by mounting.  Easier assembly, higher reliability; </li><li>  The mounting holes on the board repeat the hole pattern on the Arduino Uno and there are four additional holes; </li><li> Detailed documentation with a huge number of examples (I will add the main links at the end of the article); </li><li>  Library to work with the board.  We will talk about it later on separately; </li><li>  The box. </li></ul><br>  But the fact that I personally did not like: <br><ul><li>  Very often, the circuitry is made without a margin of safety.  But is extreme reliability in home robotics necessary? </li><li>  I do not like white mask.  I understand that with her the boards look more interesting, but nothing is visible under it! </li><li>  The 5-volt part of the board is powered from a single power source.  I would make separate stabilizers for the digital and power parts; </li><li>  Still, the board according to my standards is large - 100x80mm.  Big and all; </li><li>  Strela is incompatible with the Arduino shields.  There is no standard seat for this; </li><li>  On the configuration I have already said. </li></ul><br>  That's how <a href="http://amperka.ru/product/strela">much</a> this board is worth now.  It is difficult to say a lot or a little.  It may well turn out that it is cheaper to build a robot from scratch than to assemble shields.  In my experience, the price is fair.  This is exactly the cost of electronics, if you develop it in Russia, sell it officially and organize large-scale technical support. <br><br><h2>  Chassis for the robot </h2><br>  We also received a convenient <a href="http://amperka.ru/product/turtle-chassis">two-wheeled platform Turtle</a> . <br><br><img src="https://habrastorage.org/files/9eb/499/3f0/9eb4993f07b2425a8e4eb87ff7f5a39c.gif"><br><br>  It is quite large and is suitable for Strela in terms of engine power and the number of batteries in the built-in battery holder.  It already has attachments for popular sensors and sensors. <br><br><h2>  Bluetooth module, sensors and indicator </h2><br>  In addition to the controller and the wheel platform, we were presented with many more useful pieces: <br><br><img src="https://habrastorage.org/files/55e/8e1/21c/55e8e121c32946e0be1d0743399c03ab.gif"><br><ol><li>  <a href="http://amperka.ru/product/bluetooth-bee">The Bluetooth Bee module is</a> platform compatible and very easy to use.  It is connected to the controller via the UART, and the operating systems see it as a COM port.  Probably the easiest way to connect something to a PC / smartphone without wires; </li><li>  <a href="http://amperka.ru/product/text-lcd-8x2">8x2 text screen</a> .  It is very convenient if the robot can show some status messages, especially since this display also supports the Russian alphabet; </li><li>  Two <a href="http://amperka.ru/product/analog-line-sensor">analog line sensors</a> for building a line-tracer.  Included with them are the usual three-core cables for connection; </li><li>  <a href="http://amperka.ru/product/infrared-range-meter-80">Infrared range finder 10-80cm</a> with <a href="http://amperka.ru/product/irm-bracket">mount</a> .  At the output of his voltage, the value of which depends on the measured distance; </li><li>  Two <a href="http://amperka.ru/product/infrared-sensor-switch">infrared obstacle sensors</a> .  At its output, either zero or one, depending on the set trigger threshold and the measured distance. </li></ol><br><br><h2>  Build a bluetooth bot </h2><br>  To quickly check the capabilities of the system, we decided to assemble a robot controlled via bluetooth.  For a basis, we took an example from the <a href="http://wiki.amperka.ru/%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B4%25D1%2583%25D0%25BA%25D1%2582%25D1%258B:strela">wiki by Strela</a> . <br><br>  For this, the Strela platform itself, as a controller, communication module, wheel platform and battery, will suffice.  We decided not to use the battery compartment.  Instead, we connected a 11.1V, 3A / h LiPo battery.  Additionally, we also connected an indicator. <br><br>  Here's what we got in the end: <br><br><img src="https://habrastorage.org/files/bfd/d7c/45a/bfdd7c45a850454cb67bfefbe4e95ce5.gif"><br><br>  As you can see, the entire assembly comes down to <a href="http://wiki.amperka.ru/%25D1%2580%25D0%25BE%25D0%25B1%25D0%25BE%25D1%2582%25D0%25BE%25D1%2582%25D0%25B5%25D1%2585%25D0%25BD%25D0%25B8%25D0%25BA%25D0%25B0:%25D0%25B4%25D0%25B2%25D1%2583%25D1%2585%25D0%25BA%25D0%25BE%25D0%25BB%25D1%2591%25D1%2581%25D0%25BD%25D0%25B0%25D1%258F-%25D0%25BF%25D0%25BB%25D0%25B0%25D1%2582%25D1%2584%25D0%25BE%25D1%2580%25D0%25BC%25D0%25B0-%25D1%2581%25D0%25B1%25D0%25BE%25D1%2580%25D0%25BA%25D0%25B0">assembling the chassis</a> , fastening and connecting the boards, and connecting a dozen wires. <br><br>  This is where the whole build ends and programming begins. <br><br><h2>  Arrow Programming </h2><br>  The attentive reader might have noticed that the number of ‚Äúlegs‚Äù that Strela manages is significantly greater than that of the Arduino Leonardo.  For only one LCD, they need eight pieces.  All this is implemented and works simultaneously through the use of port extenders, managed through I2C.  Using the capabilities of these extenders would be quite difficult for a beginner if it were not for the ready-made <a href="https://github.com/amperka/Strela">Strela</a> library. <br><br>  Electronics developers often neglect packaging, documentation, and software.  But this does not apply to Ampere.  There are lots of ready-made examples for the Strela board and an excellent library.  It has only a few functions for working with digital outputs, but without them it would be very difficult to make all possible peripherals work simultaneously.  They are as simple as the standard Arduino functions.  Their use allows not to go into the details of using the I2C bus, otherwise it took much longer to start working with it.  On Strela changed the designation of the conclusions in relation to the Arduino, but there is no confusion. <br>  If you plan to use an LCD display, then it is better to download a guaranteed working library from the wiki by Strela.  And there you will find examples of working with her. <br><br>  To control from the phone, as in the example, we used a ready-made <a href="https://play.google.com/store/apps/details%3Fid%3Dbraulio.calle.bluetoothRCcontroller">Bluetooth RC car</a> application from the Play Market. <br>  My student already had a little experience in C programming of microcontrollers and writing programs for operating systems.  With the development of Arrows he had no problems.  Adding an indicator was his initiative, from which I concluded that he really liked it.  On the indicator, he derived the speed set in the application (or rather, the relative duty cycle of the PWM signal). <br><br>  I will lay out his code in its original form, just to show what it is and what it was written by a person with little experience.  You can look under the spoiler, but you won't find the perfect code or anything new there. <br><br><div class="spoiler">  <b class="spoiler_title">Bluetooth bot program</b> <div class="spoiler_text"><pre><code class="hljs lua">#include &lt;Wire.h&gt; //     I2C #include &lt;Strela.h&gt; //      #include &lt;LiquidCrystal_I2C.h&gt; int velocity = <span class="hljs-number"><span class="hljs-number">0</span></span>; //     int defaultSpeed = <span class="hljs-number"><span class="hljs-number">100</span></span>; //         int start = <span class="hljs-number"><span class="hljs-number">1</span></span>; LiquidCrystal_I2C lcd(LC_ADDR, LCEN, LCRW, LCRS, LC4, LC5, LC6, LC7); void setup() { Serial1.begin(<span class="hljs-number"><span class="hljs-number">9600</span></span>); //Bluetooth Bee      //motorConnection(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); //      //,     //   . //   <span class="hljs-number"><span class="hljs-number">1</span></span>  . uDigitalWrite(L2, HIGH); uDigitalWrite(L3, HIGH); drive(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); lcd.begin(<span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>); lcd.home(); lcd.<span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"Hello"</span></span>); delay(<span class="hljs-number"><span class="hljs-number">2000</span></span>); lcd.setCursor(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); lcd.<span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"Load"</span></span>); delay(<span class="hljs-number"><span class="hljs-number">1000</span></span>); lcd.<span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"."</span></span>); delay(<span class="hljs-number"><span class="hljs-number">1000</span></span>); lcd.<span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"."</span></span>); delay(<span class="hljs-number"><span class="hljs-number">1000</span></span>); lcd.<span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"."</span></span>); delay(<span class="hljs-number"><span class="hljs-number">1000</span></span>); lcd.clear(); lcd.home(); lcd.<span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"Connect"</span></span>); lcd.home(); } void loop() { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Serial1.available() &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) //    { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (start==<span class="hljs-number"><span class="hljs-number">1</span></span>) { lcd.<span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"Conected"</span></span>); delay(<span class="hljs-number"><span class="hljs-number">1000</span></span>); lcd.clear(); lcd.setCursor(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); lcd.<span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"Speed"</span></span>); lcd.setCursor(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); start = <span class="hljs-number"><span class="hljs-number">0</span></span>; } //   control(); } //       } void control() //   { <span class="hljs-built_in"><span class="hljs-built_in">char</span></span> dataIn = Serial1.<span class="hljs-built_in"><span class="hljs-built_in">read</span></span>(); //    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dataIn == <span class="hljs-string"><span class="hljs-string">'F'</span></span>) //   <span class="hljs-string"><span class="hljs-string">"F"</span></span> drive(velocity, velocity); //  <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dataIn == <span class="hljs-string"><span class="hljs-string">'B'</span></span>) //    <span class="hljs-string"><span class="hljs-string">"B"</span></span> drive(-velocity, -velocity); //  <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dataIn == <span class="hljs-string"><span class="hljs-string">'R'</span></span>) //    <span class="hljs-string"><span class="hljs-string">"L"</span></span> drive(-velocity, velocity); //    <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dataIn == <span class="hljs-string"><span class="hljs-string">'L'</span></span>) //    <span class="hljs-string"><span class="hljs-string">"R"</span></span> drive(velocity, -velocity); //    <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dataIn == <span class="hljs-string"><span class="hljs-string">'G'</span></span>) //    <span class="hljs-string"><span class="hljs-string">"I"</span></span>,     drive(defaultSpeed+velocity, defaultSpeed-velocity); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dataIn == <span class="hljs-string"><span class="hljs-string">'H'</span></span>) //    <span class="hljs-string"><span class="hljs-string">"J"</span></span>,     drive(-defaultSpeed-velocity, -defaultSpeed+velocity); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dataIn == <span class="hljs-string"><span class="hljs-string">'I'</span></span>) //    <span class="hljs-string"><span class="hljs-string">"I"</span></span>,     drive(defaultSpeed-velocity, defaultSpeed+velocity); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dataIn == <span class="hljs-string"><span class="hljs-string">'J'</span></span>) //    <span class="hljs-string"><span class="hljs-string">"H"</span></span>,     drive(-defaultSpeed+velocity, -defaultSpeed-velocity); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dataIn == <span class="hljs-string"><span class="hljs-string">'S'</span></span>) //    <span class="hljs-string"><span class="hljs-string">"S"</span></span>,  drive(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dataIn == <span class="hljs-string"><span class="hljs-string">'U'</span></span>) //  <span class="hljs-string"><span class="hljs-string">"U"</span></span>,  <span class="hljs-string"><span class="hljs-string">" "</span></span> { uDigitalWrite(L2, HIGH); uDigitalWrite(L3, HIGH); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dataIn == <span class="hljs-string"><span class="hljs-string">'u'</span></span>) //  <span class="hljs-string"><span class="hljs-string">"u"</span></span>,  <span class="hljs-string"><span class="hljs-string">" "</span></span> { uDigitalWrite(L2, LOW); uDigitalWrite(L3, LOW); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dataIn == <span class="hljs-string"><span class="hljs-string">'W'</span></span>) //  <span class="hljs-string"><span class="hljs-string">"W"</span></span>,  <span class="hljs-string"><span class="hljs-string">" "</span></span> { uDigitalWrite(L1, HIGH); uDigitalWrite(L4, HIGH); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dataIn == <span class="hljs-string"><span class="hljs-string">'w'</span></span>) ////  <span class="hljs-string"><span class="hljs-string">"w"</span></span>,  <span class="hljs-string"><span class="hljs-string">" "</span></span> { uDigitalWrite(L1, LOW); uDigitalWrite(L4, LOW); } //       <span class="hljs-number"><span class="hljs-number">0</span></span>  <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (((dataIn - <span class="hljs-string"><span class="hljs-string">'0'</span></span>) &gt;= <span class="hljs-number"><span class="hljs-number">0</span></span>) &amp;&amp; ((dataIn - <span class="hljs-string"><span class="hljs-string">'0'</span></span>) &lt;= <span class="hljs-number"><span class="hljs-number">9</span></span>)) { velocity = (dataIn - <span class="hljs-string"><span class="hljs-string">'0'</span></span>) * <span class="hljs-number"><span class="hljs-number">25</span></span>; //    lcd.setCursor(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); lcd.<span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">" "</span></span>); lcd.setCursor(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); lcd.<span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(velocity); lcd.setCursor(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dataIn == <span class="hljs-string"><span class="hljs-string">'q'</span></span>) // <span class="hljs-string"><span class="hljs-string">"q"</span></span> -  ! { velocity = <span class="hljs-number"><span class="hljs-number">255</span></span>; lcd.<span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(velocity); lcd.setCursor(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); } }</code> </pre> <br></div></div><br>  The code is almost entirely borrowed from ready-made examples. <br><br><h2>  Results </h2><br>  Strela is a fairly convenient platform for use in various robotic projects.  It seems to me, when training or in projects of the day off, the routine work on rolling boards with LUT or mounting should be reduced to a minimum.  Otherwise, losing enthusiasm is very easy. <br><br>  We had a lot of ideas for using the Arrow.  In the near future we want to print a new frame for it, install a line sensor and make a robot moving along the line, with the possibility of manual control via bluetooth.  I am sure that our team will look decent at the competitions.  The guys have already started working on the robot: <br><br><img src="https://habrastorage.org/files/11d/671/93d/11d67193df85433f9de9e61611de8ffa.gif"><br><br><h2>  Sources of materials </h2><br>  <a href="http://amperka.ru/product/strela">Product page on Amperki website</a> <br>  <a href="http://wiki.amperka.ru/%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B4%25D1%2583%25D0%25BA%25D1%2582%25D1%258B:strela">Wiki</a> <br>  <a href="">Scheme</a> <br>  <a href="https://github.com/amperka/Strela">Library</a> <br>  <a href="http://blog.amperka.ru/%25D0%25BD%25D0%25BE%25D0%25B2%25D0%25BE%25D0%25B5-%25D0%25B4%25D0%25B5%25D1%2582%25D0%25B8%25D1%2589%25D0%25B5-%25D0%25BA%25D0%25BE%25D0%25BC%25D0%25BF%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B8-%25D0%25B0%25D0%25BC%25D0%25BF%25D0%25B5%25D1%2580%25D0%25BA%25D0%25B0-%25D1%2580%25D0%25BE%25D0%25B1%25D0%25BE%25D1%2582">Official review from Amperki</a> <br><br><h2>  PS </h2><br>  I myself like to program C microcontrollers and with all my might I promote the tools for flashing Arduino-compatible hardware with good software, so for advanced users I will add a description of the flashing of an arbitrary hex file to Atmega32u4 using a bootloader.  According to the engineer Amperki: <br><br>  Option 1: <br><ol><li>  We open the terminal, we write there: C: \ Program Files (x86) \ Arduino / hardware / tools / avr / bin / avrdude -CC: \ Program Files (x86) \ Arduino / hardware / tools / avr / etc / avrdude.conf - v -v -v -v -patmega32u4 -cavr109 -PCOM19 -b57600 -D -Uflash: w: C: \ Your_C_FIRMWA.hex: i, where C: \ Your_C_FIRMWA.hex is your firmware file, COM19 - instead of 19 - COM number -arrow port in bootloader mode (different from the usual); </li><li>  Reboot MK; </li><li>  Within 8 seconds, we have time to execute the command from point 1 on the computer (to put it simply - press Enter); </li><li>  We are waiting for when it is loaded. </li></ol><br>  Option 2 - use <a href="https://github.com/amperka/ino">ino</a> . </div><p>Source: <a href="https://habr.com/ru/post/249753/">https://habr.com/ru/post/249753/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../249737/index.html">Possibilities of outdoor 3G / 4G antennas for increasing data transfer speed in mobile networks</a></li>
<li><a href="../249739/index.html">Twitter Bootstrap and SharePoint. How to make Bootstrap work correctly under SP</a></li>
<li><a href="../249743/index.html">Intel¬Æ Graphics Technology. Part I: Almost Gran Turismo</a></li>
<li><a href="../249747/index.html">Yandex.Metro is watching you</a></li>
<li><a href="../249751/index.html">Change CoffeeScript to ES6</a></li>
<li><a href="../249755/index.html">Cards, Troika, payments</a></li>
<li><a href="../249757/index.html">How to hack Yandex two-factor authentication</a></li>
<li><a href="../249759/index.html">Sample Feature Engineering in Machine Learning</a></li>
<li><a href="../249761/index.html">Sberbank Online: find out personal data by phone</a></li>
<li><a href="../249765/index.html">How I fought adware on google play and lost</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>