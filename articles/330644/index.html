<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Red-black trees: short and clear</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The story of life. The girl offered her boyfriend programmer to pass a psychological test: 
 Girl: Draw a tree. 
 Programmer: (draws a binary tree) 
 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Red-black trees: short and clear</h1><div class="post__text post__text-html js-mediator-article">  The story of life.  The girl offered her boyfriend programmer to pass a psychological test: <br><blockquote>  Girl: Draw a tree. <br>  Programmer: (draws a binary tree) <br>  Girl: No, it's different. <br>  Programmer: I can draw a red and black tree. </blockquote><br>  So, today I want to talk a little bit about red-black trees.  The story will be brief, without considering the balancing algorithms when inserting / deleting elements in red-black trees. <br><img src="https://habrastorage.org/web/ae2/9ed/b02/ae29edb02c724c209d25ec3ee48724f5.png"><a name="habracut"></a><br><br>  Red-black trees refer to balanced binary search trees. <br><br><h3>  Like a binary tree, red-black has the properties: </h3><br>  1) Both subtrees are binary search trees. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      2) For each node with a key <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>k</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.211ex" height="2.057ex" viewBox="0 -780.1 521.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/330644/&amp;xid=17259,15700019,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhItEZvEjz5wS9ieP8eY1xp3OXe_g#MJMATHI-6B" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-1"> k </script>  The ordering criteria is satisfied: <br><br><h4>  keys of all left descendants &lt;= <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>k</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.211ex" height="1.939ex" viewBox="0 -749.6 521.5 834.7" role="img" focusable="false" style="vertical-align: -0.198ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/330644/&amp;xid=17259,15700019,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhItEZvEjz5wS9ieP8eY1xp3OXe_g#MJMATHI-6B" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-2"> k </script>  &lt;keys of all right descendants </h4><br>  (in other definitions, duplicates should be located on the right side or absent altogether). <br>  This inequality should be true for all descendants of the node, and not just its child nodes. <br><br><h3>  Properties of red-black trees: </h3><br>  1) Each node is colored either red or black (an additional field appears in the data structure of the node - a bit of color). <br><br>  2) The root is painted black. <br><br>  3) The leaves (the so-called NULL-nodes) are painted black. <br><br>  4) Each red node must have two black child nodes.  It should be noted that a black node may have black child nodes.  Red nodes as a child can only have black. <br><br>  5) The paths from the knot to its leaves must contain the same number of black knots (this is black height). <br><br><h3>  So why is such a tree balanced? </h3><br>  Indeed, red-black trees do not guarantee a strict balance (the height difference between the two subtrees of any node should not exceed 1), as in <a href="https://ru.wikipedia.org/wiki/%25D0%2590%25D0%2592%25D0%259B-%25D0%25B4%25D0%25B5%25D1%2580%25D0%25B5%25D0%25B2%25D0%25BE">AVL-trees</a> .  But the observance of the properties of the red-black tree allows for the implementation of the operations of insertion, deletion and selection during <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>O</mi><mo stretchy=&quot;false&quot;>(</mo><mi>l</mi><mi>o</mi><mi>g</mi><mi>N</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="8.583ex" height="2.66ex" viewBox="0 -832 3695.5 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/330644/&amp;xid=17259,15700019,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhItEZvEjz5wS9ieP8eY1xp3OXe_g#MJMATHI-4F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/330644/&amp;xid=17259,15700019,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhItEZvEjz5wS9ieP8eY1xp3OXe_g#MJMAIN-28" x="763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/330644/&amp;xid=17259,15700019,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhItEZvEjz5wS9ieP8eY1xp3OXe_g#MJMATHI-6C" x="1153" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/330644/&amp;xid=17259,15700019,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhItEZvEjz5wS9ieP8eY1xp3OXe_g#MJMATHI-6F" x="1451" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/330644/&amp;xid=17259,15700019,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhItEZvEjz5wS9ieP8eY1xp3OXe_g#MJMATHI-67" x="1937" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/330644/&amp;xid=17259,15700019,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhItEZvEjz5wS9ieP8eY1xp3OXe_g#MJMATHI-4E" x="2417" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/330644/&amp;xid=17259,15700019,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhItEZvEjz5wS9ieP8eY1xp3OXe_g#MJMAIN-29" x="3306" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><mi>g</mi><mi>N</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-3"> O (log N) </script>  .  And now let's see if this is true. <br><br>  May we have a red and black tree.  Black height equals <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>b</mi><mi>h</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.337ex" height="2.057ex" viewBox="0 -780.1 1006 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/330644/&amp;xid=17259,15700019,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhItEZvEjz5wS9ieP8eY1xp3OXe_g#MJMATHI-62" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/330644/&amp;xid=17259,15700019,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhItEZvEjz5wS9ieP8eY1xp3OXe_g#MJMATHI-68" x="429" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>b</mi><mi>h</mi></math></span></span><script type="math/tex" id="MathJax-Element-4"> bh </script>  (black height). <br><br>  If the path from the root node to the leaf node contains the minimum number of red nodes (ie, zero), then this path is equal to <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>b</mi><mi>h</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.337ex" height="2.057ex" viewBox="0 -780.1 1006 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/330644/&amp;xid=17259,15700019,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhItEZvEjz5wS9ieP8eY1xp3OXe_g#MJMATHI-62" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/330644/&amp;xid=17259,15700019,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhItEZvEjz5wS9ieP8eY1xp3OXe_g#MJMATHI-68" x="429" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>b</mi><mi>h</mi></math></span></span><script type="math/tex" id="MathJax-Element-5"> bh </script>  . <br><br>  If the path contains the maximum number of red nodes ( <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>b</mi><mi>h</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.337ex" height="2.057ex" viewBox="0 -780.1 1006 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/330644/&amp;xid=17259,15700019,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhItEZvEjz5wS9ieP8eY1xp3OXe_g#MJMATHI-62" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/330644/&amp;xid=17259,15700019,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhItEZvEjz5wS9ieP8eY1xp3OXe_g#MJMATHI-68" x="429" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>b</mi><mi>h</mi></math></span></span><script type="math/tex" id="MathJax-Element-6"> bh </script>  in accordance with the property <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>4</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.057ex" viewBox="0 -780.1 500.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/330644/&amp;xid=17259,15700019,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhItEZvEjz5wS9ieP8eY1xp3OXe_g#MJMAIN-34" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>4</mn></math></span></span><script type="math/tex" id="MathJax-Element-7"> 4 </script>  ), then this path will be equal to <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>2</mn><mi>b</mi><mi>h</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.499ex" height="2.057ex" viewBox="0 -780.1 1506.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/330644/&amp;xid=17259,15700019,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhItEZvEjz5wS9ieP8eY1xp3OXe_g#MJMAIN-32" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/330644/&amp;xid=17259,15700019,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhItEZvEjz5wS9ieP8eY1xp3OXe_g#MJMATHI-62" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/330644/&amp;xid=17259,15700019,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhItEZvEjz5wS9ieP8eY1xp3OXe_g#MJMATHI-68" x="930" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn><mi>b</mi><mi>h</mi></math></span></span><script type="math/tex" id="MathJax-Element-8"> 2bh </script>  . <br><br>  That is, the path from the root to the leaves can differ by no more than twice ( <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>h</mi><mo>&amp;lt;=</mo><mn>2</mn><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy=&quot;false&quot;>(</mo><mi>N</mi><mo>+</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="18.221ex" height="2.66ex" viewBox="0 -832 7845 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/330644/&amp;xid=17259,15700019,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhItEZvEjz5wS9ieP8eY1xp3OXe_g#MJMATHI-68" x="0" y="0"></use><g transform="translate(854,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/330644/&amp;xid=17259,15700019,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhItEZvEjz5wS9ieP8eY1xp3OXe_g#MJMAIN-3C"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/330644/&amp;xid=17259,15700019,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhItEZvEjz5wS9ieP8eY1xp3OXe_g#MJMAIN-3D" x="778" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/330644/&amp;xid=17259,15700019,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhItEZvEjz5wS9ieP8eY1xp3OXe_g#MJMAIN-32" x="2689" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/330644/&amp;xid=17259,15700019,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhItEZvEjz5wS9ieP8eY1xp3OXe_g#MJMATHI-6C" x="3189" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/330644/&amp;xid=17259,15700019,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhItEZvEjz5wS9ieP8eY1xp3OXe_g#MJMATHI-6F" x="3488" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/330644/&amp;xid=17259,15700019,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhItEZvEjz5wS9ieP8eY1xp3OXe_g#MJMATHI-67" x="3973" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/330644/&amp;xid=17259,15700019,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhItEZvEjz5wS9ieP8eY1xp3OXe_g#MJMAIN-28" x="4454" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/330644/&amp;xid=17259,15700019,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhItEZvEjz5wS9ieP8eY1xp3OXe_g#MJMATHI-4E" x="4843" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/330644/&amp;xid=17259,15700019,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhItEZvEjz5wS9ieP8eY1xp3OXe_g#MJMAIN-2B" x="5954" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/330644/&amp;xid=17259,15700019,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhItEZvEjz5wS9ieP8eY1xp3OXe_g#MJMAIN-31" x="6955" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/330644/&amp;xid=17259,15700019,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhItEZvEjz5wS9ieP8eY1xp3OXe_g#MJMAIN-29" x="7455" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>h</mi><mo>&lt;=</mo><mn>2</mn><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy="false">(</mo><mi>N</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-9"> h <= 2log (N + 1) </script>  where h is the height of the subtree), this is enough for the execution time of operations in this tree to be <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>O</mi><mo stretchy=&quot;false&quot;>(</mo><mi>l</mi><mi>o</mi><mi>g</mi><mi>N</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="8.583ex" height="2.66ex" viewBox="0 -832 3695.5 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/330644/&amp;xid=17259,15700019,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhItEZvEjz5wS9ieP8eY1xp3OXe_g#MJMATHI-4F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/330644/&amp;xid=17259,15700019,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhItEZvEjz5wS9ieP8eY1xp3OXe_g#MJMAIN-28" x="763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/330644/&amp;xid=17259,15700019,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhItEZvEjz5wS9ieP8eY1xp3OXe_g#MJMATHI-6C" x="1153" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/330644/&amp;xid=17259,15700019,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhItEZvEjz5wS9ieP8eY1xp3OXe_g#MJMATHI-6F" x="1451" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/330644/&amp;xid=17259,15700019,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhItEZvEjz5wS9ieP8eY1xp3OXe_g#MJMATHI-67" x="1937" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/330644/&amp;xid=17259,15700019,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhItEZvEjz5wS9ieP8eY1xp3OXe_g#MJMATHI-4E" x="2417" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/330644/&amp;xid=17259,15700019,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhItEZvEjz5wS9ieP8eY1xp3OXe_g#MJMAIN-29" x="3306" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><mi>g</mi><mi>N</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-10"> O (log N) </script><br><br><h3>  How to insert? </h3><br>  Inserting into a red-black tree begins with the insertion of the element, as in the usual binary search tree.  Only here elements are inserted into the positions of NULL-leaves.  The inserted node is always colored red.  Next is the procedure for checking the preservation properties of red-black tree <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>1</mn><mo>&amp;#x2212;</mo><mn>5</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.165ex" height="2.057ex" viewBox="0 -728.2 2223.9 885.9" role="img" focusable="false" style="vertical-align: -0.366ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/330644/&amp;xid=17259,15700019,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhItEZvEjz5wS9ieP8eY1xp3OXe_g#MJMAIN-31" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/330644/&amp;xid=17259,15700019,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhItEZvEjz5wS9ieP8eY1xp3OXe_g#MJMAIN-2212" x="722" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/330644/&amp;xid=17259,15700019,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhItEZvEjz5wS9ieP8eY1xp3OXe_g#MJMAIN-35" x="1723" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn><mo>‚àí</mo><mn>5</mn></math></span></span><script type="math/tex" id="MathJax-Element-11"> 1-5 </script>  . <br><br>  Property 1 is not violated, since the new node is immediately assigned a red color. <br><br>  Property 2 is violated only if we had an empty tree and the first inserted node (also known as the root) is colored red.  Here it is enough just to repaint the root black. <br><br>  Property 3 is also not violated, since when a node is added, it gets black leafy NULL nodes. <br><br>  Basically there are 2 other violations: <br><br>  1) The red node has a red child node (the property is violated <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>4</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.057ex" viewBox="0 -780.1 500.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/330644/&amp;xid=17259,15700019,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhItEZvEjz5wS9ieP8eY1xp3OXe_g#MJMAIN-34" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>4</mn></math></span></span><script type="math/tex" id="MathJax-Element-12"> 4 </script>  ). <br><br>  2) Paths in the tree contain a different number of black nodes (the property is violated <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>5</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="1.937ex" viewBox="0 -728.2 500.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/330644/&amp;xid=17259,15700019,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhItEZvEjz5wS9ieP8eY1xp3OXe_g#MJMAIN-35" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>5</mn></math></span></span><script type="math/tex" id="MathJax-Element-13"> 5 </script>  ). <br><br>  Learn more about balancing red-ebony in different cases (there are five, if you include a violation of <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>2</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="1.937ex" viewBox="0 -728.2 500.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/330644/&amp;xid=17259,15700019,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhItEZvEjz5wS9ieP8eY1xp3OXe_g#MJMAIN-32" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math></span></span><script type="math/tex" id="MathJax-Element-14"> 2 </script>  ) can be read on the <a href="https://ru.wikipedia.org/wiki/%25D0%259A%25D1%2580%25D0%25B0%25D1%2581%25D0%25BD%25D0%25BE-%25D1%2587%25D1%2591%25D1%2580%25D0%25BD%25D0%25BE%25D0%25B5_%25D0%25B4%25D0%25B5%25D1%2580%25D0%25B5%25D0%25B2%25D0%25BE">wiki</a> . <br><br><h3>  Is it generally used somewhere? </h3><br>  Yes!  When at the institute in the third year we were read ‚ÄúAlgorithms and data structures,‚Äù I could not imagine that red-black trees were used somewhere.  I remember how we didn‚Äôt like the theme of balanced trees.  Oh, these kinship ties in red-and-black trees (‚Äúuncle‚Äù, ‚Äúgrandfather‚Äù, ‚Äúblack brother and <s>godfather of the</s> red father‚Äù), Santa Barbara is straightforward.  Right and left, small and large turns of AVL-trees are solid roller coasters.  You also do not like red-black trees?  So, just do not know how to cook them.  And someone just took it and cooked it.  For example, <a href="https://ru.wikipedia.org/wiki/%25D0%2590%25D1%2581%25D1%2581%25D0%25BE%25D1%2586%25D0%25B8%25D0%25B0%25D1%2582%25D0%25B8%25D0%25B2%25D0%25BD%25D1%258B%25D0%25B9_%25D0%25BC%25D0%25B0%25D1%2581%25D1%2581%25D0%25B8%25D0%25B2">associative arrays</a> in most libraries are implemented precisely through red-black trees. <br><br>  That's all I wanted to tell. </div><p>Source: <a href="https://habr.com/ru/post/330644/">https://habr.com/ru/post/330644/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../330634/index.html">Redux: trying to get rid of the need to think during requests to the API, part 2</a></li>
<li><a href="../330636/index.html">Service of the future: opportunities and risks</a></li>
<li><a href="../330638/index.html">By magic ... (Pike programming language)</a></li>
<li><a href="../330640/index.html">No edits. How to become the happiest designer on the planet</a></li>
<li><a href="../330642/index.html">Is it always safe to encrypt or recover data from an external hard drive Prestigio Data Safe II</a></li>
<li><a href="../330646/index.html">Screen rotation during long-term operation</a></li>
<li><a href="../330648/index.html">Solving linear programming problems using Python</a></li>
<li><a href="../330650/index.html">Ruby on Rails agreement. Part 4</a></li>
<li><a href="../330654/index.html">Dialectics of Neural Machine Translation</a></li>
<li><a href="../330656/index.html">Integration React and DataTables - not as hard as advertised</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>