<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Own cryptocurrency on ethereum</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The total market capitalization of the global cryptocurrency market over the last year has grown from $ 6 billion (in January 2016) to $ 28 billion (c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Own cryptocurrency on ethereum</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/93e/8dd/767/93e8dd767e0c469483bf5d8aa5277bfd.png"><br><p><br>  The total market capitalization of the global cryptocurrency market over the last year has grown from $ 6 billion (in January 2016) to $ 28 billion (currently).  Since the beginning of 2017, the cryptocurrency market has grown by about one and a half times.  More than a hundred different cryptocurrencies are being traded on the exchanges.  Large organizations are consortium to issue their own currency.  Even states make their own national cryptocurrencies.  Blockchain technologies have reached such a level that almost anyone can already launch their own cryptocurrency, which we will do in this article.  The easiest way to create your own coins on ethereum-based smart contracts. </p><a name="habracut"></a><br><p>  Going to the largest cryptocurrency exchange at the moment, you can find for example the following currencies at the top of the list: GNT (Golem), REP (Augur). </p><br><img src="https://habrastorage.org/files/769/ead/161/769ead1610854a6e95d5a74240e29888.png"><br><p><br>  Although they are on the same list as Bitcoin (the first and most famous cryptocurrency) and Ethereum (the second most popular and capitalized currency) - they are not independent cryptocurrencies in their classical sense.  They are crypto-tokens (tokens or assets) based on the ethereum blockchain. </p><br><p>  A list of such tokens can be found for example <a href="https://ethplorer.io/">here</a> , there you can also find statistics on them. </p><br><p>  Such tokens are usually needed for the following: some company wants to release a product that needs some internal currency.  Also this company wants to conduct ICO (Initial Coin Offering), i.e.  raise money for the project by pre-selling tokens to investors.  So these tokens appear.  The advantages here directly expire from the advantages of the blockchain and smart contracts: transparency, security and distribution. </p><br><p>  For example, look at one of the first such companies <a href="https://golem.network/">Golem</a> .  Its essence is as follows: when we need computing power, we can not go to Amazon (Azure, Google ...), but rent a computer from another network member, paying off GNT tokens with it.  Accordingly, you can also rent your computer and get a certain amount of GNT.  Then these tokens can either be spent within the network, or sold on the exchange.  Some tokens can bring dividends, or give the right to vote in the ongoing elections on any issues related to the company's product (this is implemented on smart contracts). </p><br><p>  Golem, releasing 1,000,000,000 tokens, was able to attract 820,000 ETH, which is about $ 32,800,000 for current courses, but at the time of their ICO rate was 3 times worse. </p><br><p>  Now I will tell you how to make your own cryptocurrency (tokens) based on Ethereum. </p><br><p>  The current standard is the ERC20 described <a href="https://github.com/ethereum/EIPs/issues/20">here</a> . </p><br><p>  The interface usually looks something like this: </p><br><pre><code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/* * ERC20 interface * see https://github.com/ethereum/EIPs/issues/20 */</span></span> contract ERC20 { uint public totalSupply; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">balanceOf</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">address who</span></span></span><span class="hljs-function">) </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">constant</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">returns</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">uint</span></span></span><span class="hljs-function">); </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">transfer</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">address to, uint value</span></span></span><span class="hljs-function">); </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">allowance</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">address owner, address spender</span></span></span><span class="hljs-function">) </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">constant</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">returns</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">uint</span></span></span><span class="hljs-function">); </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">transferFrom</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">address from, address to, uint value</span></span></span><span class="hljs-function">); </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">approve</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">address spender, uint value</span></span></span><span class="hljs-function">); </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">event</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Transfer</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">address indexed from, address indexed to, uint value</span></span></span><span class="hljs-function">); </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">event</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Approval</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">address indexed owner, address indexed spender, uint value</span></span></span><span class="hljs-function">); }</span></span></code> </pre> <br><p>  And the implementation is like this: </p><br><pre> <code class="javascript hljs">contract StandardToken is ERC20 { string public constant name = <span class="hljs-string"><span class="hljs-string">"Token Name"</span></span>; string public constant symbol = <span class="hljs-string"><span class="hljs-string">"TKN"</span></span>; uint8 public constant decimals = <span class="hljs-number"><span class="hljs-number">18</span></span>; mapping (<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">address</span></span></span><span class="hljs-function"> =&gt;</span></span> mapping (<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">address</span></span></span><span class="hljs-function"> =&gt;</span></span> uint)) allowed; mapping (<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">address</span></span></span><span class="hljs-function"> =&gt;</span></span> uint) balances; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">transferFrom</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">address _from, address _to, uint _value</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> _allowance = allowed[_from][msg.sender]; <span class="hljs-comment"><span class="hljs-comment">// Check is not needed because safeSub(_allowance, _value) will already throw if this condition is not met // if (_value &gt; _allowance) throw; balances[_to] +=_value; balances[_from] -= _value; allowed[_from][msg.sender] -= _value; Transfer(_from, _to, _value); } function approve(address _spender, uint _value) { allowed[msg.sender][_spender] = _value; Approval(msg.sender, _spender, _value); } function allowance(address _owner, address _spender) constant returns (uint remaining) { return allowed[_owner][_spender]; } function transfer(address _to, uint _value) { balances[msg.sender] -= _value; balances[_to] += _value; Transfer(msg.sender, _to, _value); } function balanceOf(address _owner) constant returns (uint balance) { return balances[_owner]; } }</span></span></code> </pre> <br><p>  We will analyze in more detail. </p><br><p>  This is the current number of coins issued: </p><br><pre> <code class="javascript hljs">uint public totalSupply;</code> </pre> <br><p>  Find out the balance at: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">balanceOf</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">address who</span></span></span><span class="hljs-function">) </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">constant</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">returns</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">uint</span></span></span><span class="hljs-function">);</span></span></code> </pre> <br><p>  We transfer our tokens to someone else: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">transfer</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">address to, uint value</span></span></span><span class="hljs-function">);</span></span></code> </pre> <br><p>  We find out how many coins we are allowed to spend from someone else's account.  These permissions are managed by the approve function described below: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">allowance</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">address owner, address spender</span></span></span><span class="hljs-function">) </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">constant</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">returns</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">uint</span></span></span><span class="hljs-function">);</span></span></code> </pre> <br><p>  We translate foreign tokens that are available to us to someone else: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">transferFrom</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">address from, address to, uint value</span></span></span><span class="hljs-function">);</span></span></code> </pre> <br><p>  We allow someone to use our tokens.  But these tokens remain with us.  There are no restrictions on the number of accounts that will be allowed to use our tokens: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">approve</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">address spender, uint value</span></span></span><span class="hljs-function">);</span></span></code> </pre> <br><p>  Events that someone transferred tokens and that someone allowed to use their tokens: </p><br><pre> <code class="javascript hljs">event Transfer(address indexed <span class="hljs-keyword"><span class="hljs-keyword">from</span></span>, address indexed to, uint value); event Approval(address indexed owner, address indexed spender, uint value);</code> </pre> <br><p>  Full token name: </p><br><pre> <code class="javascript hljs">string public constant name = <span class="hljs-string"><span class="hljs-string">"Token Name"</span></span>;</code> </pre> <br><p>  Short name of token: </p><br><pre> <code class="javascript hljs">string public constant symbol = <span class="hljs-string"><span class="hljs-string">"TKN"</span></span>;</code> </pre> <br><p>  Number of decimal places.  There are 18 in ETH, but you can put another number </p><br><pre> <code class="hljs pgsql">uint8 <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constant</span></span> decimals = <span class="hljs-number"><span class="hljs-number">18</span></span>;</code> </pre> <br><p>  Dictionary address -&gt; number of tokens: </p><br><pre> <code class="javascript hljs">mapping (<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">address</span></span></span><span class="hljs-function"> =&gt;</span></span> uint) balances;</code> </pre> <br><p>  The dictionary is accessible to someone else tokens: </p><br><pre> <code class="javascript hljs">mapping (<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">address</span></span></span><span class="hljs-function"> =&gt;</span></span> mapping (<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">address</span></span></span><span class="hljs-function"> =&gt;</span></span> uint)) allowed;</code> </pre> <br><p>  That's basically it.  But in this type of smart contract is useless, because  Now does not provide for the creation of tokens and their number will always be zero. </p><br><p>  Add a constructor that will create 1,000,000 tokens and transfer them to the owner of the smart contract.  Also, it would not hurt to accompany all mathematical operations with overflow checks, but here I‚Äôll miss it. </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">StandardToken</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ balances[msg.sender] = <span class="hljs-number"><span class="hljs-number">1000000</span></span>; }</code> </pre> <br><p>  It would not hurt to add a function that allows you to buy tokens.  For simplicity, we will mint tokens at the rate of 1 to 1, i.e.  for 1 ETH we will charge 1 our token. <br>  It may look like this: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mint</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">payable</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">external</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (msg.value == <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> numTokens = msg.value; totalSupply += numTokens; balances[msg.sender] += numTokens; Transfer(<span class="hljs-number"><span class="hljs-number">0</span></span>, msg.sender, numTokens); }</code> </pre> <br><p>  It remains to publish it in the blockchain.  After that you can send these tokens to other accounts. </p><br><p>  Useful links on the topic: </p><br><p>  ‚Üí <a href="https://ethplorer.io/">Statistics on tokens</a> <br>  ‚Üí <a href="https://www.icoalert.com/">List of active and upcoming ICOs</a> </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/326626/">https://habr.com/ru/post/326626/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../326616/index.html">Fast loading data from files in R</a></li>
<li><a href="../326618/index.html">K-Meleon 76 Pro - a new Russian browser assembly for oldfags and true connoisseurs.</a></li>
<li><a href="../326620/index.html">Got 1.2K stars on github with terrible architecture. How?</a></li>
<li><a href="../326622/index.html">VulnHub: New series - hackfest2016 Quaoar</a></li>
<li><a href="../326624/index.html">Financial mechanics startups. Startup School from Y Combinator 2017 (Part One)</a></li>
<li><a href="../326628/index.html">SDAccel - first acquaintance</a></li>
<li><a href="../326632/index.html">Under the hood of the development environment. Basic models</a></li>
<li><a href="../326634/index.html">Bash on Windows: Practical Experiments in Crossing Hedgehogs and Snacks</a></li>
<li><a href="../326636/index.html">Moving XenForo Forum to the modern platform</a></li>
<li><a href="../326640/index.html">How to cram your sensor in Android OS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>