<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Making homemade accessories for Dendy</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="At first I did not even think of writing an article on this topic, but it seems that this is already part of a whole series of articles on Dandy topic...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Making homemade accessories for Dendy</h1><div class="post__text post__text-html js-mediator-article">  At first I did not even think of writing an article on this topic, but it seems that this is already part of a whole series of articles on Dandy topics.  And yes, this time it is primarily about the domestic Dandy, and not about the original console - Famicom or NES.  I just made the device as a gift to one person who shoots very interesting videos about Dandy, and focused on compatibility with this particular clone. <br><br>  The fact is that for Famicom and for NES there were a variety of accessories: 3D glasses, keyboards, robots, barcode readers, all sorts of game controllers, and <a href="http://en.wikipedia.org/wiki/List_of_Nintendo_Entertainment_System_accessories">much more</a> .  Only the light gun reached us.  I had the task to assemble a device that would combine a splitter into four players (yes, there were such games) and an Arkanoid-controller. <br><br><img src="https://habrastorage.org/files/a41/be6/3ff/a41be63ffd5747f7a582e3f69bb2dfb6.jpg"><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  I / O ports </h4><br>  First of all, it‚Äôs worth telling how the Famicom, NES and Dendy game controllers work with <s>joysticks</s> , and how they differ in this regard. <br><br>  From the point of view of games, I / O ports are two registers with addresses <b>$ 4016</b> and <b>$ 4017</b> , which are associated respectively with two ports, where everything is connected.  But on standard controllers for reading data only one wire is used - <b>D0</b> , the data from which are available, respectively, through the low (zero) bit in each of the registers: <b>$ 4016.0</b> and <b>$ 4017.0</b> .  Similarly, one wire is used for recording, it is usually called <b>STROBE</b> (or <b>LATCH</b> ), which resets the counter inside the gamepad, and which is available through an entry of <b>$ 4016.0</b> (yes, it is common for both controllers). <br><br>  Simply put, to get the status of the buttons on the first controller, you must first write 1 to <b>$ 4016.0</b> , immediately write 0 to it, dropping the counter, and then read <b>$ 4016</b> and <b>$ 4017</b> eight times (for each of the buttons), getting data on the buttons from the lower bit  But why are the other bits in these registers, where do these lines go?  Consider the controller port at NES: <br><br><img src="https://habrastorage.org/files/485/6b7/060/4856b70609534aa9a1c1ca7cbee082a9.jpg"><br><br>  Yes, <b>D3</b> and <b>D4</b> actually go to him!  It is they that are available through <b>$ 4016.3</b> , <b>$ 4016.4</b> at the first port and <b>$ 4017.3</b> , <b>$ 4017.4</b> at the second, and they are used for non-standard controllers. <br><br>  As for his Japanese brother, Famicom, these ports are not there, and the game controllers themselves are not disconnected from the console, but it has an expansion port, which is a DB-15 connector. <br><br><img src="https://habrastorage.org/files/120/c48/510/120c48510fab4b25a4d22813db5b3553.jpg"><br><br>  Familiar looks, right?  Yes, when the Chinese designed our Dandy (I doubt that it was designed by us), and they had to make the disconnecting controllers, they decided to use the expansion port as a basis, because it has contacts for the second controller, and it is located on Famicom right of center.  They do not even have to change the pinout here.  As for the first controller, they took the same DB-15, positioned it on the left and swapped the pinout so that the first controller could be connected.  And only him. <br><br>  Compare the front ports themselves at Famicom and our Dandy: <br><br><img src="https://habrastorage.org/files/cf5/12d/a2a/cf512da2af664e709ce8cd5c6c7bce38.jpg"><br><br>  Here is such a strange story of these fifteen-pin connectors from gamepads that are used in our country. <br><br>  But let's see what is brought to this expansion port from Famicom? <br><br><img src="https://habrastorage.org/files/eb5/0c1/987/eb50c1987db14f9b928462c502633b14.PNG"><br>  (screenshot from <a href="http://wiki.nesdev.com/">wiki.nesdev.com</a> ) <br><br>  Yes, another <b>$ 4016.1</b> (on input), <b>$ 4017.0-4</b> (on input), <b>$ 4017.0-2</b> (on output), external interruption and even sound go to it  I was very pleasantly surprised when I disassembled the Dandy and saw that all this is there: <br><br><img src="https://habrastorage.org/files/116/b5e/042/116b5e04296c4a5fb3e610597608fc66.jpg"><br><br>  True, not all models, as it turned out.  But if it is, it means there is full compatibility with accessories for Famicom, and the corresponding Japanese games can use them.  But let me remind you that Dandy is a very strange mixture of NES and Famicom, PAL and NTSC.  The pirates produced for her both Japanese and American games, which are essentially 100% compatible, if you do not take into account these accessories and different cartridge formats. <br><br>  <b>Total:</b> in some Dandies there are all the same conclusions as on the Famikom, which at the same time include some of the conclusions available on the NES.  There is no access to <b>$ 4016.3</b> and <b>$ 4016.4</b> , but they are rarely used.  In the form of tablets for clarity: <br><br><img src="https://habrastorage.org/files/5e8/ece/cf1/5e8ececf1d4c417c822bc312196b9667.PNG"><br><br><h4>  The principle of operation of accessories </h4><br>  The American four-player splitter for the NES called the <b>Four Score</b> is a simple set of shift registers.  Those.  the first eight reads from <b>$ 4016.0</b> give data from the first controller, and the second eight from the third.  Similarly, <b>$ 4017.0</b> gives data on the second and fourth controllers.  In addition, when you continue reading, the device issues its signature, with which the game determines that it is the <b>Four Score</b> that is connected, and not something else.  It turns out that such a device can be assembled from six shift registers (4021 or 74165), and it will work on any Dandy, because it does not require additional data lines.  Of course, only with the American games that came out for the NES. <br><br>  The Japanese counterpart for Famicom is much simpler.  The third and fourth controllers are connected directly to the expansion port and are available through <b>$ 4016.1</b> and <b>$ 4017.1</b> .  Accordingly, for such an adapter, we already need a full-fledged expansion port at the Dandy, otherwise the four of us will not be able to play Japanese games. <br><br>  The Arkanoid controller, as the name implies, is used to play Arkanoid and is a twist-knob and one button.  Inside it is an analog-to-digital converter and a shift register, which also consistently gives the position of the handle.  The difference between the Japanese and American versions is only in the connection method.  The Japanese version of the game reads the position of the knob and the state of the button from <b>$ 4016.1</b> and <b>$ 4017.1</b> , and the American version from <b>$ 4016.3</b> and <b>$ 4016.4,</b> respectively.  It turns out that for the Japanese Arkanoid you need a full-fledged expansion port, and for the American any dandy is suitable where the light gun works (it uses the same conclusions). <br><br><h4>  Creating your own accessory </h4><br>  Although the above devices themselves have a simple scheme and are assembled from the simplest logical components, for the heart of an all-in-one device I decided to use FPGAs.  Moreover, I wished to make a simple switch switch there, but I wanted to make it possible to switch buttons A and B. First, I chose Altera <b>EPM3064ATC100</b> , but it soon became clear that 64 macro cells were not enough for me, and the choice fell on <b>EPM3128ATC100</b> , where there are already 128 macrocells. <br><br>  If it comes to that, I decided not to have a trifle at all and put some kind of screen into the device, which would display the current mode and menu with settings, besides, I have had one sign for the synthesis of the ‚Äú16x2‚Äù display for a long time.  I already need a microcontroller to work with it, and I chose <b>ATMEGA16</b> . <br><br>  It has always been the hardest thing for me to give a device a nice look.  Still, I am a programmer, not a designer, but it was during the manufacture of the device as a gift I wanted to make it as beautiful and convenient as possible.  Moreover, this is almost the only way to somehow show others your work of art: photos and videos are not something, according to ready-made schemes and 3D models such things recreate units, mass production is difficult to set up, but a gift is the very thing. <br><br>  So, the appearance requirements were as follows: four ports for standard DB-15 controllers from Dandy, four buttons for selecting and configuring them, a ‚Äúmode‚Äù button, a ‚Äúsettings‚Äù button, a convenient handle for Arkanoid and a button for it that should to settle down conveniently and not to interfere.  In addition, I wanted to make the active ports illuminate with LEDs and somehow intuitively communicate with the corresponding buttons, it‚Äôs most logical to arrange the connectors in a row, but these stupid DB-15s are too huge for that.  In addition to all the device should be comfortable in the hands, because it is in itself a game controller for Arkanoid.  In the end, I came to something like this: <br><br><img src="https://habrastorage.org/files/c6d/d4e/558/c6dd4e55860b4a628e4deda95889b4fb.PNG"><br><br>  Buttons in a row, ports on top of each other, handle on the side, button for Arkanoid back left. <br><br>  It turns out that there is a lot of space inside.  Therefore, I decided to carry out the FPGA with connectors for wires and nests to one board, and a microcontroller with a screen and buttons to another.  They are connected with the simplest serial interface. <br><br>  Board with FPGA (first version): <br><br><img src="https://habrastorage.org/files/0c5/95e/2fd/0c595e2fd84749079811b39c4bd9b1f7.jpg"><br><br>  The second board: <br><br><img src="https://habrastorage.org/files/924/cf5/75b/924cf575b4ed43348ccdffd0fe1836a6.jpg"><br><br>  I wrote the code for FPGAs on Verilog.  For each mode, it turns out quite simple.  First of all, for many of them, we need to consider calls to each of the ports, i.e.  impulses on wire clock: <br><br><pre><code class="hljs pgsql">reg [<span class="hljs-number"><span class="hljs-number">4</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>] counter1; reg [<span class="hljs-number"><span class="hljs-number">4</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>] counter2; <span class="hljs-keyword"><span class="hljs-keyword">always</span></span> @ (posedge strobe_in, posedge clock1_in) <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (strobe_in) counter1 &lt;= <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (counter1 &lt; <span class="hljs-number"><span class="hljs-number">31</span></span>) counter1 &lt;= counter1 + <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">always</span></span> @ (posedge strobe_in, posedge clock2_in) <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (strobe_in) counter2 &lt;= <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (counter2 &lt; <span class="hljs-number"><span class="hljs-number">31</span></span>) counter2 &lt;= counter2 + <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre> <br>  (sorry, habr doesn't know how to highlight Verilog) <br><br>  Where <b>strobe_in</b> is strobe (one on both ports), and <b>clock1_in</b> and <b>clock2_in</b> are respectively clock on each of the ports.  Inside the console there is a logic: clock = R / W nand (address == $ 4016 / $ 4017), i.e.  on clock is a logical zero when the console reads the data at the corresponding address. <br><br>  The imitation mode of the American splitter for four players looks like this: <br><pre> <code class="hljs django"><span class="xml"><span class="xml">always @ (*) begin // Strobe   -    assign strobe_out[0] = strobe_in; assign strobe_out[1] = strobe_in; assign strobe_out[2] = strobe_in; assign strobe_out[3] = strobe_in; //  clock       ,       clock_out[0] </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">=</span></span></span></span><span class="xml"><span class="hljs-tag"> (</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">counter1</span></span></span></span><span class="xml"><span class="hljs-tag"> &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">8)</span></span></span></span><span class="xml"><span class="hljs-tag"> ? </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">clock1_in</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">:</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">1</span></span></span></span><span class="xml"><span class="hljs-tag">; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">clock_out</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">1</span></span></span></span><span class="xml"><span class="hljs-tag">] &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">(counter2</span></span></span></span><span class="xml"><span class="hljs-tag"> &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">8)</span></span></span></span><span class="xml"><span class="hljs-tag"> ? </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">clock2_in</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">:</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">1</span></span></span></span><span class="xml"><span class="hljs-tag">; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">clock_out</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">2</span></span></span></span><span class="xml"><span class="hljs-tag">] &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">(counter1</span></span></span></span><span class="xml"><span class="hljs-tag"> &gt;</span></span></span><span class="xml"> 8 &amp;&amp; counter1 </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">=</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">16</span></span></span></span><span class="xml"><span class="hljs-tag">) ? </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">clock1_in</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">:</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">1</span></span></span></span><span class="xml"><span class="hljs-tag">; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">clock_out</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">3</span></span></span></span><span class="xml"><span class="hljs-tag">] &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">(counter2</span></span></span></span><span class="xml"><span class="hljs-tag"> &gt;</span></span></span><span class="xml"> 8 &amp;&amp; counter2 </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">=</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">16</span></span></span></span><span class="xml"><span class="hljs-tag">) ? </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">clock2_in</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">:</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">1</span></span></span></span><span class="xml"><span class="hljs-tag">; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">if</span></span></span></span><span class="xml"><span class="hljs-tag"> (</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">counter1</span></span></span></span><span class="xml"><span class="hljs-tag"> &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">8)</span></span></span></span><span class="xml"><span class="hljs-tag"> //   </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">joy1_data_out</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">0</span></span></span></span><span class="xml"><span class="hljs-tag">] &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">joy_data[0];</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">else</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">if</span></span></span></span><span class="xml"><span class="hljs-tag"> (</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">counter1</span></span></span></span><span class="xml"><span class="hljs-tag"> &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">16)</span></span></span></span><span class="xml"><span class="hljs-tag"> //   </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">joy1_data_out</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">0</span></span></span></span><span class="xml"><span class="hljs-tag">] &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">joy_data[2];</span></span></span></span><span class="xml"><span class="hljs-tag"> //  </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">else</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">if</span></span></span></span><span class="xml"><span class="hljs-tag"> (</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">counter1</span></span></span></span><span class="xml"><span class="hljs-tag"> == </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">20)</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">joy1_data_out</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">0</span></span></span></span><span class="xml"><span class="hljs-tag">] &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">0;</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">else</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">joy1_data_out</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">0</span></span></span></span><span class="xml"><span class="hljs-tag">] &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">1;</span></span></span></span><span class="xml"><span class="hljs-tag"> //   </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">if</span></span></span></span><span class="xml"><span class="hljs-tag"> (</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">counter2</span></span></span></span><span class="xml"><span class="hljs-tag"> &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">8)</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">joy2_data_out</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">0</span></span></span></span><span class="xml"><span class="hljs-tag">] &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">joy_data[1];</span></span></span></span><span class="xml"><span class="hljs-tag"> //   </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">else</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">if</span></span></span></span><span class="xml"><span class="hljs-tag"> (</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">counter2</span></span></span></span><span class="xml"><span class="hljs-tag"> &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">16)</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">joy2_data_out</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">0</span></span></span></span><span class="xml"><span class="hljs-tag">] &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">joy_data[3];</span></span></span></span><span class="xml"><span class="hljs-tag"> //  </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">else</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">if</span></span></span></span><span class="xml"><span class="hljs-tag"> (</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">counter2</span></span></span></span><span class="xml"><span class="hljs-tag"> == </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">19)</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">joy2_data_out</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">0</span></span></span></span><span class="xml"><span class="hljs-tag">] &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">0;</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">else</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">joy2_data_out</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">0</span></span></span></span><span class="xml"><span class="hljs-tag">] &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">1;</span></span></span></span><span class="xml"><span class="hljs-tag"> //      ,    </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">VCC</span></span></span></span><span class="xml"><span class="hljs-tag">    </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">joy1_data_out</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">1</span></span></span></span><span class="xml"><span class="hljs-tag">] &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">1</span></span></span></span><span class="xml"><span class="hljs-tag">'</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">bZ</span></span></span></span><span class="xml"><span class="hljs-tag">; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">joy2_data_out</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">4:1</span></span></span></span><span class="xml"><span class="hljs-tag">] &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">4</span></span></span></span><span class="xml"><span class="hljs-tag">'</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">bZZZZ</span></span></span></span><span class="xml"><span class="hljs-tag">; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">end</span></span></span></span></span></span></code> </pre><br><br>  In the mode of a Japanese splitter for four, you just need to connect the inputs to the outputs directly: <br><pre> <code class="hljs django"><span class="xml"><span class="xml">always @ (*) begin clock_out[0] </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">=</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">clock1_in</span></span></span></span><span class="xml"><span class="hljs-tag">; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">clock_out</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">1</span></span></span></span><span class="xml"><span class="hljs-tag">] &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">clock2_in;</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">clock_out</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">2</span></span></span></span><span class="xml"><span class="hljs-tag">] &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">clock1_in;</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">clock_out</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">3</span></span></span></span><span class="xml"><span class="hljs-tag">] &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">clock2_in;</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">joy1_data_out</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">0</span></span></span></span><span class="xml"><span class="hljs-tag">] &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">joy_data[0];</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">joy2_data_out</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">0</span></span></span></span><span class="xml"><span class="hljs-tag">] &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">joy_data[1];</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">joy1_data_out</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">1</span></span></span></span><span class="xml"><span class="hljs-tag">] &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">joy_data[2];</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">joy2_data_out</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">1</span></span></span></span><span class="xml"><span class="hljs-tag">] &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">joy_data[3];</span></span></span></span><span class="xml"><span class="hljs-tag"> //      ,    </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">VCC</span></span></span></span><span class="xml"><span class="hljs-tag">    </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">joy2_data_out</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">4:2</span></span></span></span><span class="xml"><span class="hljs-tag">] &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">3</span></span></span></span><span class="xml"><span class="hljs-tag">'</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">bZZZ</span></span></span></span><span class="xml"><span class="hljs-tag">; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">end</span></span></span></span></span></span></code> </pre><br><br>  The most difficult thing was to make it possible to swap buttons A and B, because they are read sequentially, that is,  you need to know in advance the value of B when the console requests A, but it is issued just after A. At first, I thought to somehow speedily read data from the controller using some external clock generator, but in the end I decided to just take the value from the previous read .  This gives a delay, but it is completely invisible.  Moreover, games usually read the state of the buttons several times in a row. <br><br>  Of course, all these modes and settings must somehow be set.  To do this, I defined a 12-bit <b>control</b> register, which is written to it via a serial connection, with an additional parity bit: <br><pre> <code class="hljs pgsql">reg [<span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>] control; reg control_parity; reg [<span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>] control_receiver; reg [<span class="hljs-number"><span class="hljs-number">3</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>] control_counter; <span class="hljs-keyword"><span class="hljs-keyword">always</span></span> @ (posedge control_strobe, posedge control_clock) <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (control_strobe) <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> control_counter = <span class="hljs-number"><span class="hljs-number">0</span></span>; control_parity = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (control_counter &lt;= <span class="hljs-number"><span class="hljs-number">11</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> control_receiver[control_counter] = control_data; control_parity = control_parity ^ control_data; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (control_counter &lt; <span class="hljs-number"><span class="hljs-number">12</span></span>) control_counter = control_counter + <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">always</span></span> @ (posedge strobe_in) <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (control_counter == <span class="hljs-number"><span class="hljs-number">12</span></span> &amp;&amp; !control_parity) control = control_receiver; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre><br><br>  Accordingly, from the side of the microcontroller, the code (very dirty) looks like this: <br><pre> <code class="hljs haskell"><span class="hljs-title"><span class="hljs-title">void</span></span> control_send(uint16_t <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class">) { </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">set_bit</span></span></span><span class="hljs-class">(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">CTRL_PORT</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">CTRL_STROBE_PIN</span></span></span><span class="hljs-class">); // </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Strobe</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">_delay_us</span></span></span><span class="hljs-class">(10); </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">unset_bit</span></span></span><span class="hljs-class">(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">CTRL_PORT</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">CTRL_STROBE_PIN</span></span></span><span class="hljs-class">); // </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Strobe</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">_delay_us</span></span></span><span class="hljs-class">(10); </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">int</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">b</span></span></span><span class="hljs-class">; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">char</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">parity</span></span></span><span class="hljs-class"> = 0; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">for</span></span></span><span class="hljs-class"> (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">b</span></span></span><span class="hljs-class"> = 0; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">b</span></span></span><span class="hljs-class"> &lt; 11; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">b</span></span></span><span class="hljs-class">++) { </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">if</span></span></span><span class="hljs-class"> (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">data</span></span></span><span class="hljs-class"> &amp; (1&lt;&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">b</span></span></span><span class="hljs-class">)) { </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">set_bit</span></span></span><span class="hljs-class">(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">CTRL_PORT</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">CTRL_DATA_PIN</span></span></span><span class="hljs-class">); // </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Data</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">parity</span></span></span><span class="hljs-class"> ^= 1; } else { </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">unset_bit</span></span></span><span class="hljs-class">(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">CTRL_PORT</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">CTRL_DATA_PIN</span></span></span><span class="hljs-class">); // </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Data</span></span></span><span class="hljs-class"> } unset_bit(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">CTRL_PORT</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">CTRL_CLOCK_PIN</span></span></span><span class="hljs-class">); // </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Clock</span></span></span><span class="hljs-class"> _delay_us(10); set_bit(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">CTRL_PORT</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">CTRL_CLOCK_PIN</span></span></span><span class="hljs-class">); // </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Clock</span></span></span><span class="hljs-class"> _delay_us(10); } if (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">parity</span></span></span><span class="hljs-class">) { </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">set_bit</span></span></span><span class="hljs-class">(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">CTRL_PORT</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">CTRL_DATA_PIN</span></span></span><span class="hljs-class">); // </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Data</span></span></span><span class="hljs-class"> } else { </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">unset_bit</span></span></span><span class="hljs-class">(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">CTRL_PORT</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">CTRL_DATA_PIN</span></span></span><span class="hljs-class">); // </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Data</span></span></span><span class="hljs-class"> } unset_bit(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">CTRL_PORT</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">CTRL_CLOCK_PIN</span></span></span><span class="hljs-class">); // </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Clock</span></span></span><span class="hljs-class"> _delay_us(10); set_bit(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">CTRL_PORT</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">CTRL_CLOCK_PIN</span></span></span><span class="hljs-class">); // </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Clock</span></span></span><span class="hljs-class"> _delay_us(10); }</span></span></code> </pre><br><br>  The rest of the microcontroller code is nothing special: working with the display on the HD44780 controller, buttons, LEDs, a simple menu and working with the analog-to-digital converter to determine the angle of rotation of the handle. <br><br>  I debugged everything, I was convinced of working capacity and I already started stuffing the components into the case ... <br><br><img src="https://habrastorage.org/files/a30/d67/8cc/a30d678cc3b046808c168478fe620db1.jpg"><br><br>  But before closing the lid I decided to check on the original Famicom, because the device will also be used with it.  Alas, the modes where it was necessary to count clock pulses did not work correctly.  With the help of a logic analyzer, it turned out that the data line leads to a clock line: <br><br><img src="https://habrastorage.org/files/765/2ac/90b/7652ac90bb0440269b5f5448d15392b5.PNG"><br><br>  This is a noise of only a few tens of nanoseconds that spoils everything.  I decided to see with my simple oscilloscope what happens on the Dandy clock line: <br><br><img src="https://habrastorage.org/files/d3c/191/aa5/d3c191aa58d74c418400bbfe27658be9.png"><br><br>  And here that in the same at Famikom: <br><br><img src="https://habrastorage.org/files/ba5/275/046/ba52750469ce48a1951abffe8ef330cc.png"><br><br>  It can be seen that this line is pulled to VCC, with what is very strong in Dandy and very weak in the original Famikom.  I started experimenting with the kit.  It soon became clear that it was better to look at the result not with a logical analyzer, but with the console itself.  I had to remember the assembler for the 6502 processor, write a simple program for testing and write it to the cartridge: <br><br><img src="https://habrastorage.org/files/df5/a3d/8bc/df5a3d8bccce4b0f8bdb353fe72917f0.jpg"><br><br>  It immediately became clearly visible, and at the same time it was possible to test all modes at once, without changing the game.  ROM can be downloaded <a href="">here</a> . <br><br>  As a result, the problem was solved by tightening the clock lines to the VCC through a 1 kOhm resistor, a capacitor between the clock and the ground at 22nF, and 200 ohm resistors into the break of all data lines.  Alas, I had to poison a new board (I did not photograph it), but after that everything immediately worked. <br><br>  The final view of the device: <br><br><img src="https://habrastorage.org/files/333/6a7/1c9/3336a71c9c7c4cbd8adcbc7494791bed.jpg"><br><br>  In Soviet times, I could be a good industrial designer. <br><br>  Many probably will want to see the video, but at the moment the gift is already in the hands of our mail, and I shot only a small video instruction for the end user.  You can see it here: <a href="https://www.youtube.com/watch%3Fv%3D39beci7nE8w">www.youtube.com/watch?v=39beci7nE8w</a> <br><br>  And if you are interested in the themes of the work of various game controllers and the creation of self-made ones, we just shot the second series of our show ‚ÄúWhile everyone is playing‚Äù on this topic, where a lot is very simply and clearly explained to those who are not at all in the subject: <br><br>  <a href="http://www.youtube.com/watch%3Fv%3DnG-QznTyQKA">http://www.youtube.com/watch?v=nG-QznTyQKA</a> <br><br>  Information on the architecture of these consoles and accessories was taken from the site <a href="http://wiki.nesdev.com/">wiki.nesdev.com</a> <br>  Full code for FPGAs on Verilog: <a href="http://pastebin.com/nt39ZGvH">pastebin.com/nt39ZGvH</a> </div><p>Source: <a href="https://habr.com/ru/post/260749/">https://habr.com/ru/post/260749/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../260737/index.html">Thunderstorm, lightning, and means of protection of the power grid on its own</a></li>
<li><a href="../260739/index.html">Sencha: About licenses and restrictions</a></li>
<li><a href="../260741/index.html">Getting started with OpenCV and its use in C #</a></li>
<li><a href="../260745/index.html">Basics of multithreading in the .NET Framework</a></li>
<li><a href="../260747/index.html">Black archeology date of mining</a></li>
<li><a href="../260753/index.html">Collection and visualization of application metrics in Graphite and Graph-Explorer</a></li>
<li><a href="../260755/index.html">How the PVS-Studio team improved the Unreal Engine code</a></li>
<li><a href="../260757/index.html">How we made programming language from JSON</a></li>
<li><a href="../260761/index.html">Bindings QCustomPlot for Python</a></li>
<li><a href="../260763/index.html">Programming for beginners. My acquaintance with Processing</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>