<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Configuring Siebel Email Marketing Server</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 
 Siebel CRM is about interacting with customers in three main process groups: sales, marketing and service. Siebel by default supports a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Configuring Siebel Email Marketing Server</h1><div class="post__text post__text-html js-mediator-article"><h2>  Introduction </h2><br>  <b>Siebel CRM</b> is about interacting with customers in three main process groups: sales, marketing and service.  Siebel by default supports almost all the main channels of interaction: Email, SMS, CTI, Web.  This article will only look at the opportunities Siebel provides for marketing through the Email channel. <br><br>  <b>Task:</b> Set up the infrastructure for marketing emails.  This infrastructure should allow to collect information about non-delivery of messages, opening of messages and clicking on links within messages.  Letters must be personalized, that is, contain an appeal to the client by name.  Recipient lists should be generated automatically according to the specified criteria at the time the campaign starts.  It should be possible to specify specific information on a specific proposal, a specific user. <br><br>  <b>Note:</b> The SMTP protocol, which sends letters on the Internet, does NOT imply delivery reports and recipient's actions with a letter: opening, deleting, marking as spam.  The good news is that by default there are reports of delivery problems (bounced email).  If there are no problems, it can be stated with certain confidence that the letter has been received.  There is also a way to track the opening of the letter.  Unfortunately, this method has its limitations. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      To configure Email campaigns in Siebel, in addition to the basic set of software modules (Siebel Web Server, Siebel Application Server (s), Siebel Gateway, Siebel Database), you will need to install additional: <br><a name="habracut"></a><br><ol><li>  <b>SMTP Relay Server</b> - any mail server that can send e-mails and that can communicate without authentication. </li><li>  <b>Email Sending Daemon (ESD)</b> is a utility that allows you to collect letters from a template and a specific set of data and sends them to the SMTP Relay Server. </li><li>  <b>Bounced Handling Daemon (BHD)</b> is a utility that can receive and parse reports of delivery problems (bounced email). </li><li>  <b>Click Through Daemon (CTD)</b> is a utility that can handle HTTP requests (referrals, request for resources).  We will need this thing to record information about the opening of the letter and about the transition to the links inside this letter. </li><li>  <b>Network Gateway</b> - a router on the server, which on the one hand is accessible from the Internet, on the other can forward certain requests to the company's internal network.  Its configuration is necessary in order to send bounced email (port 25) to the server from BHD and to transmit HTTP requests (port 80) to the server from CTD. </li><li>  <b>Business Intelligence (BI)</b> is a tool that allows you to define complex criteria for sampling data by customer.  Within our infrastructure, BI has two tasks: segmentation of the client base for the marketing campaign, formation of a list with the data for substitution in the letter body.  Data for these operations BI can take both from the Siebel database, and from the repository. </li></ol><br><br><img src="https://habrastorage.org/files/bcb/e1e/6b7/bcbe1e6b7a1248249e5a09873d05a17f.png"><br><br><h2>  Basic setting </h2><br>  If up to this point on the project, marketing campaigns in Siebel have not been used at all, then you need to do the following: <br><ol><li>  run the necessary server components <br>  <a href="http://docs.oracle.com/cd/E14004_01/books/MKTG_InstallAdmin/mktg_installadmin_installmktg4.html">docs.oracle.com/cd/E14004_01/books/MKTG_InstallAdmin/mktg_installadmin_installmktg4.html#wp186724</a> </li><li>  activate marketing workflow <br>  <a href="http://docs.oracle.com/cd/E14004_01/books/MKTG_InstallAdmin/mktg_installadmin_installmktg5.html">docs.oracle.com/cd/E14004_01/books/MKTG_InstallAdmin/mktg_installadmin_installmktg5.html#wp186830</a> </li><li>  set up integration with BI (I assume that it is already installed and working) <br>  <a href="http://docs.oracle.com/cd/E14004_01/books/MKTG_InstallAdmin/mktg_installadmin_installmktg7.html">docs.oracle.com/cd/E14004_01/books/MKTG_InstallAdmin/mktg_installadmin_installmktg7.html#wp224347</a> </li></ol><br><br><h4>  <b>Install and configure the basic components of Siebel Email Marketing Server</b> </h4><br>  ESD, BHD and CTD are collectively called the Siebel Email Marketing Server.  Distributions for these utilities can be downloaded from support.oracle.com, section ‚ÄúPatches &amp; Updates‚Äù <br><img src="https://habrastorage.org/files/7ab/e02/406/7abe024069dd49e884ad2b0e2408e6a8.png"><br>  <b>Note:</b> At the time of this writing, the latest build had the number 629. <br>  <b>Note:</b> JDK6 must be installed on the target servers for these components to work. <br><br><h4>  <b>Email Sending Daemon</b> </h4><br>  To configure ESD, you must make the following changes to the esd.properties file. <br><ol><li>  When you start ESD, it is authorized in Siebel to check whether you have a license to use Siebel Marketing Server.  For this, it uses the Web Service technology: <br><pre><code class="bash hljs">esd.handler.webservice.url=http://sbl81srvr01/eai_enu/start.swe?SWEExtSource=WebService&amp;SWEExtCmd=Execute&amp;WSSOAP=1 esd.handler.webservice.username=ESD esd.handler.webservice.password=ESD</code> </pre> <br></li><li>  In order for ESD to be able to collect letters, it needs a list with recipients and a letter template.  Siebel will upload this data as files to its file system, to which the ESD should have access: <br><pre> <code class="bash hljs">esd.mountPoint=c:/Siebel/fs</code> </pre> <br></li><li>  ESD must know the name of the mail server (SMTP Server) through which the letters will be sent: <br><pre> <code class="bash hljs">esd.mailServers=sbl81srvr01</code> </pre> <br></li></ol><br>  Running ESD is easiest as a service.  For this, a special installer is provided for this: install-win32-service.bat. <br><br>  <b>Note:</b> Another action that needs to be done before starting ESD: comment out the lines in the esd-axis2.xml file: <pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">parameter</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Transfer-Encoding"</span></span></span><span class="hljs-tag">&gt;</span></span>chunked<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">parameter</span></span></span><span class="hljs-tag">&gt;</span></span>.</code> </pre> <br>  This is due to an error that is described on support.oracle.com. <br><br>  If everything is configured correctly, then after running in the logs (esd.log) you can see the following: <br><pre> <code class="bash hljs">2015-08-26 17:21:06,362 [Thread-1] INFO OnPremiseAppListener ESD is licensed.</code> </pre> <br><br>  Now you need to tell Siebel, where is the ESD, to give him a job on the newsletter.  For this you need: <br><ol><li>  go to the Administration - Web Services -&gt; Outbound Web Services screen </li><li>  find a service called SendMailingService </li><li>  For the Service Port with the name SendMail, you need to specify the address of the server where the ESD is deployed </li></ol><br><img src="https://habrastorage.org/files/74e/ad8/62b/74ead862bd654c298c866635bd658a98.png"><br>  Now the Siebel ‚Äí ESD bundle should work and Siebel will be able to set tasks for ESD to send letters. <br><br><h4>  <b>Bounce handling daemon</b> </h4><br>  To configure BHD, you must make the following changes to the bhd.properties file. <br><ol><li>  Parameters of access to the Web Service in Siebel, through which BHD will check for licenses at startup and send information about all received bounced email: <br><pre> <code class="bash hljs">BhdModule.handler.webservice.url = http://sbl81srvr01/eai_enu/start.swe?SWEExtSource=WebService&amp;SWEExtCmd=Execute&amp;WSSOAP=1 BhdModule.handler.webservice.username = BHD BhdModule.handler.webservice.password = BHD</code> </pre> <br></li><li>  The port number that BHD will listen to and expect to receive bounced email: <br><pre> <code class="bash hljs">SMTPD.port=8096</code> </pre> <br>  <i>It is better not to use the standard port 25, you need administrator rights.</i>  <i>The easiest way is to set the port in the range of 8000-900.</i> <br></li></ol><br><br>  If everything is configured correctly, then after running in the logs (bhd.log) you can see the following: <br><pre> <code class="bash hljs">2015-08-26 18:20:48,823 [main] INFO OnPremiseMain BHD is licensed. ‚Ä¶. 2015-08-26 18:20:49,104 [main] INFO SMTPDaemon started; waiting <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> connections</code> </pre> <br><br><h4>  <b>Click-through Daemon</b> </h4><br>  To configure CTD, you need to make changes to the ctd.properties file <br><ol><li>  Parameters of access to Web Service in Siebel, through which CTD will check for a license at startup and send information to Siebel about all HTTP requests that will be generated when the recipient works with the letter (clicking on links, requesting pictures) <br><pre> <code class="bash hljs">ctd.webservice.url = http://sbl81srvr01/eai_enu/start.swe?SWEExtSource=WebService&amp;SWEExtCmd=Execute&amp;WSSOAP=1 ctd.webservice.username = CTD ctd.webservice.password = CTD</code> </pre> <br></li></ol><br>  This utility can also be installed as a Windows service using the install-win32-service.bat script. <br><br>  If everything is configured correctly, then after running in the logs (ctd.log) you can see the following: <br><pre> <code class="bash hljs">2015-08-26 18:31:49,365 [Thread-1] INFO OnPremiseAppListener CTD is licensed. ‚Ä¶ 2015-08-26 18:31:49,443 [Thread-1] INFO Registry Options configured <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> service: class com.siebel.sem.ctd.integrated.CTDRegisterWebService 2015-08-26 18:31:49,443 [Thread-1] INFO Registry Registering [urn:xml-initialize-ctd] with class [com.siebel.sem.ctd.integrated.CTDRegisterWebService]</code> </pre> <br>  <b>Note:</b> In the <i>c: \ Siebel \ EMS \ ctd \ webapps \ ctd \ enu \ folder</i> there are page templates that are used if the recipient of the letter decides to unsubscribe.  They can be modified in accordance with the company's corporate style. <br><br><h4>  <b>Siebel Setup</b> </h4><br>  In order to use BHD and CTD, it is necessary to configure at the Siebel level.  On the Administration - Marketing ÔÉ† Servers screen, you need to find the Email Marketing Server entry and, for the BHD and CTD parameters, the name of the server that acts as the gateway between the Internet and the enterprise local network. <br><img src="https://habrastorage.org/files/e34/9f7/f18/e349f7f18068439ab55f5e8a1baef9e0.png"><br>  It is important to specify the domain name, not the IP address.  In addition, this domain name must be resolved from the Internet.  If you do not comply with these conditions, then external mail services will interpret your letters as spam. <br><br><h4>  <b>Network gateway</b> </h4><br>  On the router, which will receive bounced email and HTTP requests, packets must be configured to forward from the external network interface to the internal: <br><ol><li>  packets that arrive on port 25 of the external interface, forward to the server where BHD is deployed, to the port that it is listening to; </li><li>  packets that arrive on port 80 of the external interface should be forwarded to the server where CTD is deployed, to the port that it is listening to. </li></ol><br>  On the external interface, it is important to use these ports, otherwise there will be problems with external mail services. <br><br><h4>  <b>Test mailing</b> </h4><br>  Letters that have already been sent back will not work.  Therefore, before sending, you should always send out to some predefined test addresses.  To do this, you can create a fixed list through List Management and link it to the marketing campaign that will be used. <br>  In order to verify that we have all set up correctly, we need to do the following: <br><ol><li>  create a test mailing list </li><li>  create a test offer (Offer) and define an Email for it (Treatment) </li><li>  create a marketing campaign, link it with a test list and email address </li><li>  launch this marketing campaign </li></ol><br>  In the following material we will focus on the creation of email-addresses.  It is there that many interesting things happen. </div><p>Source: <a href="https://habr.com/ru/post/266799/">https://habr.com/ru/post/266799/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../266785/index.html">Unsolvable problems and lower bounds. Lecture by Alexander Shen in Yandex</a></li>
<li><a href="../266789/index.html">What is an antivirus for?</a></li>
<li><a href="../266791/index.html">HP Software Management and Monitoring Systems Overview</a></li>
<li><a href="../266795/index.html">RailsClub 2015: Interview with Vladimir Yartsev</a></li>
<li><a href="../266797/index.html">Recent trends in the world of payments</a></li>
<li><a href="../266801/index.html">Publish Android library in jCenter</a></li>
<li><a href="../266803/index.html">Old code: why is it so</a></li>
<li><a href="../266805/index.html">King's Bounty III: Advanced remake of the original game under DOS in Javascript / HTML5</a></li>
<li><a href="../266807/index.html">Asterisk and Truecaller. Determining the name of an unknown caller for incoming calls</a></li>
<li><a href="../266809/index.html">Easy to use wrapper over LoadLibrary () and GetProcAddress ()</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>