<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>MODx - own ajax calendar of events / news without Ditto</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="They gave me the other day a puzzle: make a calendar of events on ModX Evolution. 
 I sincerely love this engine, for its unprecedented flexibility an...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>MODx - own ajax calendar of events / news without Ditto</h1><div class="post__text post__text-html js-mediator-article">  They gave me the other day a puzzle: make a calendar of events on ModX Evolution. <br>  I sincerely love this engine, for its unprecedented flexibility and personal clarity to me. <br><br>  The task seemed simple, but as it was met, I met with a couple of difficult moments. <br>  So, who wants to make a calendar on your site with a pop-up list of events - I ask for a habrokat! <br><img src="https://habrastorage.org/storage/274c6598/1d75f7b0/5d442d5d/a80c5ff6.png"><br><a name="habracut"></a><br><br>  <b>To complete the task we need:</b> <br><ul><li>  Document (container) with the news.  These should be regular modx documents. </li><li>  Java script jQueryUI and qTip.  The first will draw a calendar and ensure its work, and the second - pop-up events. </li><li>  A self-written snippet of eventsCalendar, which we will write together soon. </li><li>  2 chanka (html clearance).  The first is common, where there will be a call to the scripts and the calendar design, and the second is the design of one event in a pop-up window. </li><li>  TV parameter for event documents.  Created in the admin modx. </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      First, create a TV parameter for event documents.  Go to the modx admin panel in <i>Elements-&gt; Element Management-&gt; Parameters (TV) -&gt; New Parameter (TV)</i> <br> <code> : event_date <br> : event_date <br>  : Date <br> : , ,       . <br></code> <br>  Now, when you enter the event, this parameter will appear below, when you click, there will be a window for choosing a date, on which we will display this event in the calendar. <br><br>  Next, we need to write a snippet that will produce an array of events for jQueryUI.datepicker.  In general, this plugin is not intended for <br>  output events, and to select dates.  Perhaps using it for another function is not the right decision, but there are several reasons why I use it like this: <br><br>  Firstly, I already have jQueryUI on the site, so why connect something else? <br>  Secondly, the datepicker is perfectly customizable, it is possible to specify the range of the displayed dates, hang up the event to select the date, change the month, and so on. <br>  All this will allow you to create a nice calendar of events with ajax requests without inventing your own bicycle. <br>  Something like this I thought. <br><br>  In fact, it turned out that this approach carries a couple of inconveniences, but about them later. <br><br><h5>  Snippet eventsCalendar.  Work on the server side. </h5><br>  So, we write snippet.  For some time now, I already can‚Äôt bring out ‚Äúhello world!‚Äù Without writing a class, so sorry in advance. <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">eventsCalendar</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> $id; <span class="hljs-comment"><span class="hljs-comment">//  -  var $dateFormat = '%d %b %Y %H:%M'; //  ,  strftime() var $dateTV = 'event_date'; //  TV  modx   var $tplEvent = 'tplEvent'; //     var $tplMain = 'tplCalendar'; //      var $conv = 0; //      cp1251  utf8.   -  . /*   */ function error($err) { $arr = array( 'no_id' =&gt; '   id    ', 'no_action' =&gt; '     ajax .', 'no_result' =&gt; '    .' ); return $arr[$err]; } /*  ,    ,    */ function getEvents($id = '', $month = '', $year = '') { global $modx; if (empty($id)) {return $this-&gt;error('no_id');} if (empty($month)) {$month = date('m');} if (empty($year)) {$year = date('Y');} if (strlen($month) == 1) {$month = '0'.$month;} /*    ,    id   */ $tmp = $modx-&gt;getDocumentChildrenTVars($id, array('id',$this-&gt;dateTV)); /*         */ if (empty($tmp)) {return $this-&gt;error('no_result');} else { foreach ($tmp as $v) { $d = strftime('%Y-%m', strtotime($v[0]['value'])); if ($d == $year.'-'.$month) {$ids[] = $v[1]['value'];} $dates_arr[$v[1]['value']] = $v[0]['value']; } } /*      $ids,     ,      ,      .     */ $arr = $modx-&gt;getDocuments($ids, 1, 0, "id,pagetitle,introtext", "", 'pub_date ASC, id', 'ASC'); /*      -    ,     */ if (empty($arr)) {return json_encode(array());} /*    -   ,      */ /*         */ $tpl = $modx-&gt;getChunk($this-&gt;tplEvent); $i = 1; foreach ($arr as $v) { /*        */ $did = $v['id']; $url = $modx-&gt;makeUrl($did); $date = strftime($this-&gt;dateFormat, strtotime($dates_arr[$did])); $date2 = strftime('%Y-%m-%d', strtotime($dates_arr[$did])); $desc = $v['introtext']; $title = $v['pagetitle']; /*    ,       */ if (isset($date3) &amp;&amp; $date3 != $date2) {$i = 1;} $date3 = $date2; /*        modx */ $placeholders = array('[+ec.date+]','[+ec.title+]','[+ec.url+]','[+ec.desc+]','[+ec.num+]'); $values = array($date, $title, $url, $desc, $i); $text = str_replace($placeholders, $values, $tpl); /*    ,     cp1251. */ if ($this-&gt;conv != 0) {$dates[$date2] .= iconv('cp1251', 'utf-8', $text);} else {$dates[$date2] .= $text;} $i++; } /* .. jqueryui.datepicker   '','css class',' ' -       */ foreach($dates as $k =&gt; $v) { $dates2[] = array($k, '', $v); } /*     json */ return json_encode($dates2); } /*      ,   */ function output($tpl) { global $modx; $tpl = $modx-&gt;getChunk($tpl); echo $tpl; } } /*  ,  ,     modx */ $Cal = new eventsCalendar; $Cal-&gt;id = $id; //  ! /*       -   */ if (!empty($dateTV)) {$Cal-&gt;dateTV = $dateTV;} if (!empty($dateFormat)) {$Cal-&gt;dateFormat = $dateFormat;} if (!empty($tplEvent)) {$Cal-&gt;tplEvent = $tplEvent;} if (!empty($tplMain)) {$Cal-&gt;tplMain = $tplMain;} if (!empty($conv)) {$Cal-&gt;conv = $conv;} /*     ajax -       */ if ($_SERVER['HTTP_X_REQUESTED_WITH'] == 'XMLHttpRequest') { $action = $_POST['action']; if (!empty($action)) { switch($action) { case 'getEvents': echo $Cal-&gt;getEvents($Cal-&gt;id, $_POST['month'], $_POST['year']); break; } } else { echo $Cal-&gt;error('no_action'); } die(); } /*    -     */ else { $Cal-&gt;output($Cal-&gt;tplMain); } </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">?&gt;</span></span></span></span></code> </pre><br><br>  Next, go to the modx admin in the snippets, create a new one, call it eventsCalendar and copy the above. <br>  We created a new snippet and call it anywhere on the page like this: <br> <code>[!eventsCalendar? <br> &amp;id=`13` <br> &amp;dateTV=`event_date` <br> &amp;dateFormat=`%d %b %Y %H:%M` <br> &amp;tplMain=`tplCalendar` <br> &amp;tplEvent=`tplEvent` <br> !] <br></code> <br>  <i>See the parameters at the end of the topic.</i> <br><br>  Only while it will not display anything, because we have not written templates. <br><br><br><h5>  Chunky.  Work on the client side. </h5><br>  Let's start with the small one - the template of one tplEvent event. <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'event'</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'num'</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">b</span></span></span><span class="hljs-tag">&gt;</span></span>[+ec.num+].<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">b</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'date'</span></span></span><span class="hljs-tag">&gt;</span></span>[+ec.date+]<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'link'</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'[+ec.url+]'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">target</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'_blank'</span></span></span><span class="hljs-tag">&gt;</span></span>[+ec.title+]<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'notice'</span></span></span><span class="hljs-tag">&gt;</span></span>[+ec.desc+]<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre><br><br>  Next, a bigger template. <br>  I‚Äôll skip all the artwork, as there‚Äôs quite a lot of scribbling there, but here I‚Äôll only provide the main thing, the rest is an attachment. <br><br>  You need to connect the library (follow the path). <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'text/javascript'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'[(site_url)]inc/js/jquery-1.4.4.min.js'</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'text/javascript'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'[(site_url)]inc/js/jquery-ui-1.8.6.custom.min.js'</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'text/javascript'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'[(site_url)]inc/js/jquery.ui.datepicker-ru.js'</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--  datepicker --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'text/javascript'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'[(site_url)]inc/js/jquery.qtip.js'</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  Now, the main magic. <br><pre> <code class="javascript hljs">&lt;script type=<span class="hljs-string"><span class="hljs-string">'text/javascript'</span></span>&gt; $(<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>).ready(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ class_enabled = <span class="hljs-string"><span class="hljs-string">'enabled'</span></span>; <span class="hljs-comment"><span class="hljs-comment">//   ,     class_disabled = 'disabled'; //   element = '#Calendar'; //  DOM     url = '/[~[*id*]~]'; //     ajax,   -  dates = getEvents(); //     ajax Calendar(dates); //         Qtip(); //  qTip,    }); //     . function Calendar(dates) { $(element).datepicker({ language: 'ru', inline: true, dateFormat: 'dd.mm.yy', //    -     .  ,  1   qTip, //       DOM . onChangeMonthYear: function(year, month) { dates = getEvents(year, month); window.setTimeout( function() { Qtip() }, 1000 ); }, //     -     ,   . //  3: /,    ,    title  td. beforeShowDay: function(d) { var date = $.datepicker.formatDate('yy-mm-dd', d); for (i = 0, c = dates.length; i &lt; c; i++) { if (date == dates[i][0]) { return [true, class_enabled, dates[i][2]]; } } return [false, class_disabled]; }, //      .   -   . onSelect: function() {return false;} }); } //     ajax   . //    -  , , ,     -   . //      ,     ,     . function getEvents(year, month) { $.ajaxSetup({async: false}); $.post(url, {action: 'getEvents', month: month, year: year}, function(data) { if (data == 'null') {data = '[]';} dates = jQuery.parseJSON(data); response = dates; } ) return response; } //    qTip. //       .    title . function Qtip() { $(element + ' .' + class_enabled).qtip({ prerender: true, show: {when: {event: 'mouseover'}, effect: {length: 0}, solo: true}, hide: {when: {event: 'unfocus'}, effect: {length: 0}}, position: { corner: { target: 'center', tooltip: 'topLeft' } }, style: {height: 100,width: 300} }); } &lt;/script&gt;</span></span></code> </pre><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'Calendar'</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> -- ,    </code> </pre><br>  I still use some things to darken the calendar when the month changes and display the loading indicator. <br>  Nothing complicated, <a href="http://old.webstartpage.ru/events_calendar.html">you can see here</a> . <br><br><h5>  How it works? </h5><br>  When you first open the page, we just get the tplCalendar template.  After it is loaded, the function of requesting an array of dates starts. <br>  As soon as an array arrives, a calendar is launched, which, when the date is drawn, assigns it a style and text for the tooltip. <br>  Then qTip runs and generates a tooltip. <br><br>  When changing the month, a new array of dates is requested and the pop-ups are restarted (since the DOM has changed). <br><br>  At the same time, we can send events by clicking on the date (for example, go to the page with news on this date).  To change the month (I have <br>  the loading indicator comes out + the calendar itself is dimmed).  The appearance of the popup window is completely customizable, both in style and in content. <br><br>  Now about the shortcomings.  There are several of them. <br><ul><li>  The need to call qTip after each calendar operation.  Since it is impossible to know (at least, I did not think of how) that the calendar <br>  ready, you have to do it on timeout in 1s.  If the server is slow, or there are a LOT of events, the second may not be enough.  On the other hand, <br>  the timeout can be changed, and there are so many events to create so that a regular server could not process them in a second, I could not. </li><li>  Since the text for the pop-up window is written in the title attribute of the td element, you have to remember about quotes and their escape. </li></ul><br>  The drawbacks could have been circumvented by writing my calendar, to php for this particular task, but I decided that the merits of datepicker outweigh the disadvantages of using it to output events. <br><br><h5>  Application. </h5><br>  <a href="http://modx.com/extras/package/eventscalendar2">Download archive with snippet and templates</a> <br>  <a href="http://bezumkin.ru/modx/eventscalendar2/">View in work (Revolution version)</a> <br><br>  Snippet parameters eventsCalendar: <br>  &amp; id <br> <code> : ,   <br> : [int] <br> : ID  - .</code> <br>  &amp; dateFormat <br> <code> : '%d %b %Y %H:%M' <br> :  strftime() <br> :  .</code> <br>  &amp; dateTV <br> <code> : event_date <br> :   tv  <br> :  TV  modx  .</code> <br>  &amp; tplEvent <br> <code> : tplEvent <br> :    modx <br> :    .</code> <br>  &amp; tplMain <br> <code> : tplCalendar <br> : <br> :     .</code> <br>  &amp; conv <br> <code> : 0 <br> : [int] <br> :      cp1251  utf8.</code> <br> <br>  Snippet placeCollers eventsCalendar: <br>  [+ ec.num +] <br> <code>   . ,         .    , <br>        TV   . ,    .</code> <br>  [+ ec.date +] <br> <code> .</code> <br>  [+ ec.url +] <br> <code>  .</code> <br>  [+ ec.title +] <br> <code>,   pagetitle  modx.</code> <br>  [+ ec.desc +] <br> <code> ,   introtext  modx.</code> <br> <br><br>  References to the necessary sites. <br><ul><li>  <a href="http://www.jquery.com/">jQuery</a> </li><li>  <a href="http://www.jqueryui.com/">jQueryUI</a> </li><li>  <a href="http://www.craigsworks.com/projects/qtip/">qTip</a> </li></ul><br><br>  <b>UPD.</b> <br>  Send bugreports to bezumkin@yandex.ru, or leave them in this thread. <br><br>  <b>UPD.2</b> <br>  <a href="http://habrahabr.ru/blogs/modx/111436/">The second version of the calendar is ready</a> , WITHOUT the datepicker and its associated drawbacks! </div><p>Source: <a href="https://habr.com/ru/post/111155/">https://habr.com/ru/post/111155/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../111147/index.html">Apple accused of passing user information to third parties</a></li>
<li><a href="../111148/index.html">Practical advice for those who want to build a web community Part 5</a></li>
<li><a href="../111149/index.html">Recover saved password pppoe session from router</a></li>
<li><a href="../111151/index.html">Stacking JavaScript programming language in 34 lines</a></li>
<li><a href="../111153/index.html">Android naming tips</a></li>
<li><a href="../111156/index.html">Fighting cheating in games where standard tools do not help</a></li>
<li><a href="../111157/index.html">CssUserAgent library</a></li>
<li><a href="../111158/index.html">Time Series Prediction</a></li>
<li><a href="../111160/index.html">Domain (LDAP) Codeigniter Authentication</a></li>
<li><a href="../111162/index.html">Why OOP</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>