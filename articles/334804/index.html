<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Finding the best place in the world for a windmill</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The story of how NASA, ESA, Danish Technological University, neural networks, decision trees and other good people helped me find the best free hectar...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Finding the best place in the world for a windmill</h1><div class="post__text post__text-html js-mediator-article">  The story of how NASA, ESA, Danish Technological University, neural networks, decision trees and other good people helped me find the best free hectare in the Far East, as well as in Africa, South America and other ‚Äúso-so‚Äù places. <br><br><img src="https://habrastorage.org/web/44d/d9a/bd4/44dd9abd4d294cf69aff24d6a9ef408e.PNG"><br><a name="habracut"></a><br><h2>  Prehistory </h2><br>  It seems, about two years ago, and maybe already three, they announced the <a href="https://xn--80aaggvgieoeoa2bo7l.xn--p1ai/">program of distribution of free hectares in the Far East of Russia</a> .  Quickly looking at the map, it became clear that simply choosing the right hectare is not so easy, and the best and obvious places near the cities will probably move away or have already moved to the local ones.  Probably, it was at this moment that I had the idea that you can somehow automate the search for the best place. <br><br>  Having started to think romantically further, I thought that it was not necessary to look to the Far East.  There is now a lot of land that no one needs anywhere, but this may change, after about 50 years, when fossil fuels begin to come to an end.  And people will go looking for new sources of energy.  Then I began to look at renewable energy sources.  And very quickly I realized that the map of resources and territories where this new energy can be mined will change a lot.  <b>Finding such places now, you can buy them in advance and be rich later.</b>  Having estimated still, it seemed to me that in a couple of weekends this can be done easily ... Now, looking back, I understand that it took me about a year.  I want to immediately note that at that time I didn‚Äôt understand much about energy, renewable sources, or machine learning.  Below is a brief retelling of my one-year-old project. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Choosing a type of renewable energy source </h2><br>  Having decided on the idea, I quickly went to look, and what kind of renewable energy sources are there at all, and which of them is the most energetic.  Here is an incomplete, but the most common list: <br><br><ol><li>  solar radiation (solar power); </li><li>  wind power (wind power); </li><li>  energy of rivers and watercourses (hydropower); </li><li>  tidal energy; </li><li>  wave energy; </li><li>  geothermal energy; </li><li>  dissipated thermal energy: heat of air, water, oceans, seas and reservoirs; </li><li>  biomass energy </li></ol><br>  <b>But how to determine which one is the best and will win all the others in the future?</b>  After reading some more interesting articles from the journals ‚ÄúScience and Life‚Äù and ‚ÄúYoung Technician‚Äù.  I went to the <a href="https://en.wikipedia.org/wiki/Cost_of_electricity_by_source">LCOE (levelized cost of electricity)</a> technique, which has a simple principle: smart guys try to estimate the total cost per kilowatt-hour of energy, taking into account production, materials, maintenance, etc.  Below is a picture of data from 2016 with some projection on 2022. I took a fresher picture <a href="http://www.eia.gov/outlooks/aeo/pdf/electricity_generation.pdf">from here</a> , below is a boring tablet from this document. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/afb/e85/6f8/afbe856f8fe34c6099668e22ec71e7cc.png" width="500"></div><br>  In general, these pictures I have darkness for different countries, made by different organizations and everything looks about the same: <br><br><ol><li>  In the first place geothermal energy. </li><li>  Further Hydroelectricity, but it already depends strongly on the country. </li><li>  In third place is the Wind. </li></ol><br>  Geothermal and hydro I did not like, because in my opinion, the places where it would be possible to extract this energy can be counted on fingers.  The wind and the sun is another matter, since you can put them on almost every roof and balcony.  The sun turned out to be more expensive, and three years ago the difference was more than 30%, I chose the Wind. <br><br>  By the way, already in the middle of the project, I began to run into documents with similar reflections of the US state, namely the NREL organizations, the US Department of Energy and others, which made predictions and bets on different energy sources in order to understand now how to modernize the energy system country.  For example, in one of these documents, it all came down to several options: the <b>share of wind energy will be large or very large.</b> <br><br><h2>  How I wanted to crank </h2><br>  The idea how to crank it up was pretty simple and looked like this: <br><br><ol><li>  Find places where windmills are located around the world. </li><li>  Collect information at these points: <br><br>  a.  Wind speed. <br>  b.  Direction. <br>  c.  Temperature <br>  d.  Relief. <br>  e.  What do local fishermen like for dinner? <br>  f.  Etc. <br><br></li><li>  To give this information to a machine learning model that would study and find patterns, which parameters best influence the choice of a construction site by a person. <br><br></li><li>  Give a trained model, all points remaining points in the world with the same information on it. <br><br></li><li>  Get a list of those points that are great for placing a windmill. <br></li></ol><br>  In graphic form, this plan, as it turned out later, looked like this well-known picture: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/379/87f/b94/37987fb943824e4fb20ef07f84e9e488.jpg" width="300"></div><br><h2>  How it was in reality </h2><br>  <b>The first stage</b> was pretty easy.  I just unloaded all the entry points from OpenStreetMaps. <br><br>  <i>By the way, I want to note that OSM is just a storehouse of information about objects around the world with their coordinates, there is almost everything.</i>  <i>Therefore, note to data lovers, OSM is the coolest Big Data source.</i> <br><br>  It was not very difficult to do this. At first I tried using online utilities, it seems here overpass-turbo.eu, by the way a very cool thing, but it didn‚Äôt work because of limitations on the number of points and not very fast work on a large amount of data.  Therefore, we had to deal with utilities that unloaded data from the OSM data cast locally.  Can you always download the current cast <a href="">here</a> ?  In compressed form, it takes about 40GB.  Data from it can be unloaded with queries using this <a href="http://wiki.openstreetmap.org/wiki/Osmosis">Osmosis</a> utility.  As a result, I had a date set at 140 thousand points around the world with coordinates and heatmap.  He looked something like this: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/e05/ba4/270/e05ba42705ae46ae825526d1336af391.png" width="500"></div><br><br>  All problems began <b>in the second stage</b> , as I did not really understand what information I needed to collect.  Therefore, for a couple of days I went into reading the principles of the work of wind turbines and recommendations for their placement, restrictions, etc.  I even had such amusing schemes about placement, wind gradients, wind roses and other other useful terms in my notes. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/53a/d76/8bd/53ad768bdfbb476e89f00239e95f808e.gif" width="500"></div><br>  As a result, I got this list of parameters that, in my opinion, are important when choosing a place: <br><br><ol><li>  The average wind speed per year (ideally 10-11m / s). </li><li>  Wind direction (Prevailing direction - wind rose). </li><li>  Minimum wind speed. </li><li>  Maximum wind speed. </li><li>  Power density. </li><li>  Average temperature. </li><li>  Average humidity </li><li>  Mean pressure </li><li>  Height above sea level. </li><li>  Distance to the water. </li><li>  Height difference. </li><li>  Smooth height differences. </li><li>  The maximum difference in the area of ‚Äã‚Äã5-10km. </li><li>  The percentage of trees or plantations in the area (roughness). </li><li>  Distance to the settlement. </li><li>  The distance to the industrial facility. </li><li>  The average number of residents in the area. </li><li>  The distance to the road (sea, air). </li><li>  Distance to the electricity network. </li><li>  Visual and sound inconvenience. </li><li>  Protected area: reserves and so on. </li><li>  Icing. </li></ol><br><h2>  Big data </h2><br>  <b>WIND</b> .  Actually, as 90% of all projects on big data break down at the stage ‚Äúso now let's look at your data about which you talked so much,‚Äù and mine was cracked.  Having run to look for data on wind speed in Russia, I came across this: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/e37/379/625/e373796256634b9b9b31da7dd14a9237.gif" width="500"></div><br>  And a dozen similar and useless pictures.  Then I began to guess that it was possible in Russia and the truth there is no wind energy, since we simply do not have enough wind in force and somewhere at that moment there was Sechin‚Äôs laughter.  But I clearly remember that in the Samara region alone the steppes and very often going out for bread as a child I was blown back to the porch. <br>  Starting to look for data on Russia and the fact that I realized that it was not similar to the data with which it was possible to do something useful.  Therefore, I moved to foreign sources and immediately found excellent wind maps from <a href="">Tier3 (Vaisala)</a> .  In appearance, the resolution was sufficient and the coverage of the whole world was simply excellent.  Then I realized that such data cost quite good money at about ~ $ 1000 per 10 square km (data from three years ago).  Failure, I thought. <br><br>  After a week of mourning, I decided to write Vaisala, Tier3 and other foreign consulting agencies for working with winds and other wind generators, and ask for data.  I thought that after telling me what a cool idea I was going to do, I would download everything at once. Only one answered - from the Sander-Partner company.  Sander himself gave some advice and also gave links to what I need: the data of the <a href="https://gmao.gsfc.nasa.gov/reanalysis/MERRA/">MERRA</a> program, which is maintained by NASA.  It is worth noting that it took me about a week of evenings to figure out what Reanalysis is, WRF, and roughly understand what is going on: collecting, aggregating, simulating and predicting weather, winds and other things. <br><br>  In short, humanity has collected a bunch of weather data, a bunch of maps with average temperatures and wind speeds have been drawn, but it was impossible to collect all this data at every point on the globe, <b>so white spots are filled with the results of weather simulation for past years and called it Reanalysis</b> .  For example, <a href="https://earth.nullschool.net/">here is a site</a> with the visualization of such simulations of the wind, and this is how it looks: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/12f/cfb/712/12fcfb712da2276138caf9d3659d234c.gif" width="400"></div><br>  This data was essentially a .csv coordinate grid file with an average wind speed with a large step, I made this kind of map using the coolest free QGIS package and the data grid interpolation method. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/ed7/1aa/3d9/ed71aa3d990d4ab0bc5eee2bbd8f914d.png" width="500"></div><br>  And then with the help of it, I pulled from this map data on wind speed for each pair of coordinates.  In fact, I got a map, and a data layer for each pixel on it. <br><br>  Having understood the principle of working with QGIS in about a couple of weeks, I began to build the same maps for the rest of the data sources and drag out values ‚Äã‚Äãalong the coordinates.  For temperature, humidity, pressure and other things.  Here it should be noted that the data files themselves were mainly taken from <b>NASA, NOAA, ESA, WorldClim</b> , etc.  All of them are freely available.  With the help of QGIS, I made calculations and search for the distance to the nearest points, from cities, airports and other infrastructure facilities.  Each card in one parameter was considered to be about 6-8 hours.  And if something was wrong, you had to do it again and again.  My home computer rustled at night somewhere for a couple of weeks, but after that even the neighbors were tired of listening to the loose cooler on it and I crawled into the cloud, where I picked up a small virtual machine for calculation. <br><br>  Already after a few months, I came across <a href="http://globalwindatlas.com/">this site,</a> made by the Department of Wind Energy in Denmark (DTU Wind Energy).  It quickly became clear that permission from them was many times better than my card, I wrote to them and they were happy to upload data to me all over the world, since through the site you can only get small impressions of the territory.  By the way, they also made this map using the simulation of the movement of the wind layers by the models WRF, WAsP and achieved data resolution up to 50-100 meters, as I had about 1-10km. <br><br>  <b>RELIEF.</b>  Remember, I wrote that the relief is very important, so I decided to use this parameter in the same way, but it turned out that everything was not easy either.  First, I wrote a utility that downloaded data from the <a href="https://developers.google.com/maps/documentation/elevation/start">Google Elevation API</a> .  She did an excellent job and downloaded data for all my points around the world in 10 km increments, it took only about 12 hours of work.  But I also had the parameters of the smoothness of the relief or the average value of the differential over the territory around the potential location of the windmill.  That is, I needed data with a pitch of 100‚Äì200 meters of the whole world, with the help of which I could already calculate the mean value of the difference. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/19d/f96/350/19df9635091349e19110c7a47ea8d0bd.JPG" width="300"></div><br>  In order to calculate the drops, it would take a couple of months to download data from Google Elevation.  So I went to look for other options. <br><br>  The first thing I found was the <a href="https://www.wolfram.com/cloud/">Wolfram cloud</a> , which already had the necessary data.  Just writing a formula, this thing began to count, using data from the Wolfram cloud.  But there, too, failure was waiting for me, since I stumbled into some limits that were not indicated anywhere, and having received a funny correspondence with the support of this service, I went to look for another option. <br><br>  Here again, data sources in NASA and data from the space program <a href="https://www2.jpl.nasa.gov/srtm/">STRM (NASA Shuttle Radar Topography Mission Global)</a> helped me.  I honestly tried to pump them out of the site, but there the data were only for small territories.  Having plucked up courage, I wrote a letter to NASA and after about a week of correspondence, they unloaded the necessary data for me, for which I thank them so much.  There, however, the data turned out to be in some tricky satellite binary format, which I probably raked for a week. <br><br>  It all ended well, and I calculated the metrics I needed for the height difference for the whole world in 10 km increments.  By the way, <b>I also made my own API service, which returns the altitude above the sea level by coordinates and published it here at</b> algorithmia.com/algorithms/Gaploid/Elevation.  He works on Azure Tables, where I slyly fit the data and literally keep the centers there for the centers.  By the way, even someone bought access to the API a couple of times, since it is cheaper than Google. <br><br>  <b>TOTAL</b> .  Having spent about 4 months of searching, cleaning, and calculating in QGIS, I got a data set that I could use in machine learning models.  And which contained about <b>20 different parameters</b> in the following categories: Climate, Relief, Infrastructure, Necessity or Consumers. <br><br><h2>  Machine learning and predictions </h2><br>  At that time I already had some knowledge and understanding of how machine learning algorithms work, but I didn‚Äôt really want to deploy all these Pythons and Anaconda.  Therefore, I used the online service for dummies without SMS from <a href="https://studio.azureml.net/">Microsoft Azure ML Studio.</a>  Bribed that it is free and everything can be done with the mouse in the browser.  Here, in theory, there should be a description of how I spent another month on creating a model, clustering data and other things.  All these clusterings were especially difficult since QGIS did them for a very long time on my old home PC.  As a result, the experiment looks like this. <br><br><div style="text-align:center;"> <a href=""><img src="https://habrastorage.org/web/b1f/49d/438/b1f49d4384c8418b8327f3b7f1c1c2ce.png" width="500"></a> </div> <a href=""><br></a> <br>  The total number of points that needed to be estimated was <b>about 1.5 million</b> .  Each such point is an area of ‚Äã‚Äã10 by 10 km and so the whole world.  I removed the cells that already have wind turbines in a radius of 100 km, as well as some areas, and received a date set of ~ 1 500 000 entries.  <b>The model assessed the suitability of each such square on planet Earth</b> .  Used mainly neural networks and boosted decision trees.  Accuracy on those points where wind turbines are already standing and what my model predicted came out like this: <b>Accuracy - ~ 0.9;</b>  <b>Precision - ~ 0.9</b> .  That how, it seems to me, quite accurately, well, or somewhere, retraining took place.  From this exercise I got: <br><br><ul><li>  Firstly, the points at which the model said it was a great new place for a windmill. </li><li>  Secondly, the points at which the model said where the places are not very good. </li></ul><br>  In total, I found about <b>30,000 of the most suitable places</b> (these are new places where there are no windmills nearby at a distance of 100 km). <br><br><h2>  Result and Validation </h2><br>  Having received 30,000 points with new locations, I visualized them and it looks like a heatmap. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/154/611/139/154611139df045bdae79b1a9580fa875.JPG" width="500"></div><br><br>  I made a small web site using cartodb to visualize the map and laid out the entire world map - <a href="http://windcat.ch/">windcat.ch</a> .  Also, I calculated for each point an approximate energy production from one industrial-size wind turbine (50 m).  The points here are colored by the volume of energy, and not by the estimate of the Probability of the model.  At each point, you can click and there will seem ‚Äúconfidence‚Äù of the model at this point, I called it Goodness. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/44d/d9a/bd4/44dd9abd4d294cf69aff24d6a9ef408e.PNG" width="500"></div><br>  I also tried to check the veracity of all this by expert means. <br><br>  <b>Visual inspection: the</b> model predicts points that spread along the shore, which seems to be true, since there will be a good even wind from the water surface. <br>  <b>Visual inspection: the</b> cluster of points for the most part coincides with the places of good and excellent air velocity and density, when compared with maps of winds.  For example, here are Egypt and China: <br><br><div style="text-align:center;"> <a href=""><img src="https://habrastorage.org/web/cff/b11/04e/cffb1104ee854c6298f01f23b01d9658.png" width="500"></a> </div><br><div style="text-align:center;"> <a href=""><img src="https://habrastorage.org/web/d4a/8e3/e4b/d4a8e3e4be354cf08fb578d981b827e3.png" width="500"></a> </div><br><h2>  What's next </h2><br>  Sometimes they write to me and ask me to send more detailed maps of places or explain some things on the map, but nothing more has come of it yet.  Theoretically, you can recalculate the data not in 10 km increments, but in 100 meters and in theory the picture can change dramatically, and in theory it will be able to predict not only the area, but also a specific location point.  But for this you need some more computing power, which I do not yet have.  If you have any ideas for use, I will be glad to hear them. </div><p>Source: <a href="https://habr.com/ru/post/334804/">https://habr.com/ru/post/334804/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../334794/index.html">Bluetooth mesh - network architecture and security</a></li>
<li><a href="../334796/index.html">How Android works, part 1</a></li>
<li><a href="../334798/index.html">1C and ETL</a></li>
<li><a href="../334800/index.html">DataGrip 2017.2: Supports Redshift and Azure, several databases in PostgreSQL, transaction control and more</a></li>
<li><a href="../334802/index.html">Music licensing for indie developers</a></li>
<li><a href="../334806/index.html">New V8 and Node.js speed: optimization techniques today and tomorrow</a></li>
<li><a href="../334810/index.html">Self-orginizing map on TensorFlow</a></li>
<li><a href="../334812/index.html">Rotational Tag Family for Autodesk Revit Downloadable Families</a></li>
<li><a href="../334814/index.html">How the KOMPAS-3D math library turned into a C3D Toolkit for CAD developers ‚Üí part 1</a></li>
<li><a href="../334816/index.html">Voice interface for ordering a car by phone in action</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>