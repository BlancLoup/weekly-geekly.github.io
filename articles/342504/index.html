<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Virtuozzo 7 Update 5 - what's new?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Users of the Virtuozzo family of products often ask us about how each new version differs, and whether it is worth upgrading their systems to the late...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Virtuozzo 7 Update 5 - what's new?</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/ec2/aa7/06f/ec2aa706f867be7971bec222520aaaa9.jpg" alt="image"><br><br>  Users of the Virtuozzo family of products often ask us about how each new version differs, and whether it is worth upgrading their systems to the latest build.  Therefore, we decided to talk in detail here, in Habr√©, about the capabilities of each version, and today is the first post in the series dedicated to Virtuozzo 7 Update 5. <br><a name="habracut"></a><br>  In addition to increasing the stability of each component, quarterly updates of Virtuozzo always carry a number of new features.  Many of these users have specially ordered and are waiting for their appearance in order to be able to get more returns from the hyper-convergent system and containers.  For example, in Virtuozzo Update 6, there are features such as working with geo-replication for S3 or data encryption at rest, but let's look at all the major improvements in order. <br><br><h2>  Security </h2><br>  Previously, users themselves embedded data encryption mechanisms on disks and in Virtuozzo containers.  But starting from Update 5 we have added the ability to encrypt data directly at the level of the distributed storage of VZ Storage.  For cryptography, the AES256 algorithm is used, as practice has shown - the most popular among users.  The key management system is used externally, because the overwhelming majority already have their own Key Management tools. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/1e6/44d/7e0/1e644d7e09e436f11e3f566b1f314b0c.jpg" alt="image"><br><br>  At rest encryption occurs for all passive data.  You can simply enable this feature in the control panel. <br><br>  The second innovation is integration into the LDAP and Active Directory directory systems.  This feature allows you to manage access rights for different users within a single host or virtual machine.  The distributed storage infrastructure of Virtuozzo Storage allows you to configure permissions for each individual object, so that the same profiles and the same credentials are used for authorization on virtual machines and containers as for sharing data access. <br><br>  In addition to this, it is worth noting that Virtuozzo 7 still provides updates for all kernels released in the last 18 months in the form of ReadyKernel live-updates.  Since the release of Virtuozzo 7, users have not created a single ticket related to the stability of this mechanism for updating the kernel of virtualization hosts. <br><br><h2>  Performance </h2><br>  Our developers have worked hard to improve the performance of the ecosystem.  In particular, the installation was accelerated: the main part of the distribution is now deployed from a squashfs compressed image (instead of a per-package installation), so you only need a few minutes to try Virtuozzo, and accelerated deployment to the data center helps to restart services faster after maintenance. <br><br>  Increased productivity has in many ways affected users of Windows virtual machines.  To do this, VirtIO support was added to the hypervisor, and the virtual machines feel ‚Äúat home‚Äù, as if they work in the Hyper-V ecosystem.  Considering that the Virtuozzo hypervisor provides support for all the necessary functions for this, there is a noticeable performance increase in VMs with MS Windows. <br><br>  For example, we can show the results of comparing the performance of Virtuozzo and pure KVM: <br><br>  Tests were performed on the following configuration: <br><br> <code>Model: IBM System x3650 M3 <br> CPU: 24 SMP (2Sx6Cx2T) Xeon E5645 @ 2.4 GHz <br> RAM: 16 x 8GB DDR3 1600 MHz <br> HDD: RAID0 (5 x 900GB 10000 RPM SAS) <br> NET: 10 Gbit direct server &lt;-&gt; client connection</code> <br> <br><img src="https://habrastorage.org/getpro/habr/post_images/7bc/557/c8b/7bc557c8b7c3d95920ce6ed6d7ed9d11.jpg" alt="image"><br><br>  The test used is VConsolidate (https://openvz.org/Performance/vConsolidate-UP) <br><br>  The guaranteed performance of each VM or container has been enhanced by the appearance of I / O limits.  Depending on the type of business, you can now configure I / O limits for some operations.  This is done so that the VM with heavy load does not ‚Äúeat off‚Äù the performance of other machines running on the same host, which is very important if there are indeed many virtual machines on one node.  If we talk about service providers, the maximum load on the I / O creates backup and migration.  Users can now set limits on available resources for these and any other categories of transactions.  Thus, when properly configured, the VMs will not notice that there are ‚Äúneighbors‚Äù on the host.  Of course, if the number of machines corresponds to the performance of the host as a whole. <br><br>  At the same time, it is possible to place even more services on one host without sacrificing performance, if we are talking about not very powerful machines with limited needs.  So, in the hypervisor, you can now determine not only the number of processors, but also the specific number of cores that each VM or container can use.  This feature allows you to better utilize server resources with multi-core processors. <br><br><h2>  Functionality </h2><br>  In each release, we add new features that are the most popular users.  And in Update 5, migration support for NFS volumes appears.  As practice has shown, many users of containers work with NFS-drives, which previously created restrictions in data migration.  NFS support is now officially implemented in containers and Virtuozzo ecosystem virtual machines. <br><br>  The second useful feature is support for S3 geo-replication.  Now containers and virtual machines can request information from S3 distributed storage and save data with the geo-replication option via a standard interface. <br><br>  Also in Virtuozzo 7, support for Docker Swarm has been added.  Docker containers were previously supported, but integration with the Docker Swarm control system allows users of individual virtual machines (VPS) to manage their Docker-izirovannyh applications using standard tools.  Recall that in addition to this, Docker has the ability to implement a permanent data storage for temporarily running services based on Virtuozzo Storage for Docker. <br><br>  Speaking of storage.  Starting from Update 5, it is possible to monitor its status through SMNP.  If earlier it was necessary to collect data via SSH, now you can configure the permanent transfer of all system state information to a single management console via SMNP protocol. <br><br><h2>  And separately about migration </h2><br>  Special attention is given to the modernization of the system of live migration of containers and virtual machines, which allows maintenance, without stopping services.  For these tasks, the CRIU tool is used, which we already wrote about in the previous <a href="https://habrahabr.ru/company/virtuozzo/blog/339286/">post</a> . <br><br>  In Virtuozzo 7 Update 5, migration was accelerated, and several technologies are used for this at once.  For containers, a memory compression mechanism was implemented for transferring information from one space to another.  For a VM, some actions are artificially slowed down during migration, such as accessing a disk and accessing memory.  As a result, the amount of data that needs to be transferred across the network during the migration process is reduced, and the process is completed much earlier. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b19/2c2/58c/b192c258c7d0c19c4a417247fe229c66.png" alt="image"><br><br>  In addition, the compatibility of different nodes for the transfer of applications, the functionality of which depends on the capabilities of the processors, has been improved.  For example, there are technical problems when migrating from AMD to Intel.  By the way, they often occur when moving a virtual machine to a system with another generation of CPU architecture.  To prevent this from happening during the migration, support for unnecessary instructions on the CPU is turned off, and applications continue to work on the new host, as if nothing had happened. <br><br><h2>  What to expect from Version 6? </h2><br>  The next version of Virtuozzo 7 will be presented before the new year.  It will contain about 15 new features, including online reclaim of unallocated disk space of virtual machines, improvement of the network subsystem for Windows, simplified cluster creation, and more.  As the version is released, we will talk about these features in more detail in our blog. </div><p>Source: <a href="https://habr.com/ru/post/342504/">https://habr.com/ru/post/342504/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../342484/index.html">Top 3 announcements with NetApp Insight 2017</a></li>
<li><a href="../342494/index.html">How to be a team leader - my version</a></li>
<li><a href="../342496/index.html">The fundamental error of system engineering</a></li>
<li><a href="../342498/index.html">Reactive programming with Spring Boot 2. Part 1</a></li>
<li><a href="../342502/index.html">Why the founder of Interactive Brokers is afraid of bitcoin futures</a></li>
<li><a href="../342506/index.html">Reactive programming with Spring Boot 2. Part 2</a></li>
<li><a href="../342508/index.html">3CX Upgrade from Debian 8 Jessie to Debian 9 Stretch</a></li>
<li><a href="../342510/index.html">3D graphics from scratch. Part 1: ray tracing</a></li>
<li><a href="../342512/index.html">‚ÄúHello, World!‚Äù For novice writers</a></li>
<li><a href="../342514/index.html">How White Label helps in the development of services and products. 5 examples</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>