<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>HTML 5 and Video in Email</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Watching the rapid development of HTML5, we do not pay attention to how HTML develops in emails. Although many subtleties of HTML5 are still under dev...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>HTML 5 and Video in Email</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/geektimes/post_images/038/92e/4d9/03892e4d99ef94303e5584c60eee974e.png" alt="image"></div><br><br>  Watching the rapid development of HTML5, we do not pay attention to how HTML develops in emails.  Although many subtleties of HTML5 are still under development, Firefox, Safari, Opera and Chrome have already offered support for most of the new technologies. <br><br>  I had a particular interest in the HTML5 <i>&lt;video&gt; tag</i> .  This tag was supposed to solve the problem of native video support, using a single codec, in all browsers, without the need for plug-ins such as Flash.  Although the idea of ‚Äã‚Äãusing a universal codec seems utopian, there is a project that suggests using the <i>&lt;video&gt; tag</i> in browsers that support it, and in others, just hide the contents of this tag. <br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  Current approaches to using video in email. </h3><br><br>  This is not the first time that we have to carefully study the issue of video support in email.  In our previous studies, we looked for an approach that would allow embedding video into email clients that support the <i>&lt;video&gt; tag</i> , and for those that do not, show interactive images (which would then play the video in the browser). <br><br>  The results disappointed us.  Only Apple Mail supports decent video playback using Flash, and still there was no way to provide an alternate display of content for those without Flash.  I believe that this is the main problem.  If the video is not displayed, then alternative content should be shown.  Since most email clients use the <i>&lt;object&gt; tag</i> to insert video, it was not possible to display alternative content. <br><br>  There must be some solution to the problem, perhaps HTML5 could solve it.  As it turned out, I was half right. <br><br><h3>  Simple approach using HTML5 </h3><br><br>  Using Kroc Camen's Video for All as a starting point, I quickly realized that the solution for the browser problem should be different than for email clients. <br><br>  The Kroc technique was a multi-level support.  Thus, if HTML5 <i>&lt;video&gt; is</i> not available, you can use a return to QuickTime or Flash and almost always the video will be guaranteed to work.  Since we know that Flash and QuickTime were blocked everywhere in email, I dropped this simple solution. <br><br>  Because of the format war I mentioned earlier, you have to share your videos, like H.264 (for Apple and Google support) and Ogg Theora (for Mozilla and Opera support).  Email is a little different.  The only popular email client using Gecko (Firefox engine) is Thunderbird, which currently does not support HTML5 video display.  Thus, neither Flash / Quicktime, nor Ogg Theora is suitable for us.  If most of your recipients would choose the web version of emails, then you might consider adding video to recipients using Firefox. <br><br><h3>  Final code </h3><br><br>  After removing all the video parameters, here‚Äôs the final code that gave the best results. <br><br> <code><br> &lt;video width="640" height="360" poster="fallback.jpg" controls="controls"&gt; <br> &lt;source src="http://mysite.com/videoname.mp4" type="video/mp4" /&gt; <br> &lt;a href="http://mysite.com/"&gt;&lt;img src="fallback.jpg" width="640" height="360" /&gt;&lt;/a&gt; <br> &lt;/video&gt; <br></code> <br><br>  As you can see, you provide an alternative as an image (which is conveniently downloaded as a preview for a movie, before viewing email for clients that support video) in the <i>&lt;video&gt; tag</i> along with the width and height of the video.  Together with the <i>&lt;video&gt; tag,</i> you connect the encoded video using H.264 using the <i>&lt;source&gt; tag</i> , remembering that you must put a link to an existing file on your server. <br><br>  Finally, we add alternative content that will need to be displayed in any email client that does not support the HTML5 <i>&lt;video&gt; tag</i> .  These are, as a rule, interactive screenshots of the video, when clicked, the video will play in the browser. <br><br><h3>  results </h3><br><br>  Working on a Mac, my first stop was at Apple Mail.  The video was displayed perfectly.  Next is my iPhone, which remarkably lost the video using the built-in email client. <br><br>  Then I turned to popular web-based email clients - Yahoo !, Gmail and Hotmail.  Unfortunately, it turned out that web clients turn off HTML5 video playback.  Although it was a disappointment, not everything was so bad.  In place of the video, I was able to display alternative content.  In this case, it was a clickable image from which I could put a link to the video on my site.  This has never happened before, so it was a great success. <br><br>  I began to check further, and received the same results on desktop e-mail clients of the PC.  The video does not play, but alternative content appears in all clients that I tested.  Here are the full results of my testing. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/038/92e/4d9/03892e4d99ef94303e5584c60eee974e.png" alt="image"><br><br><h3>  See it in action. </h3><br><br>  To make you understand what HTML5 video looks like in various popular e-mail clients, here are some screenshots. <br><br><h3>  Apple Mail 4 </h3><br><br>  When I opened the letter in Apple Mail, an alternate image, which I indicated in the attributes, was shown at the time the movie started streaming.  After a few seconds, the video controls appeared, and I could see the progress bar and start watching it. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/447/cd8/e9c/447cd8e9ca49e6e945b42af808d30b59.jpg" alt="image"><br><br><h3>  iPhone 3.1.2 </h3><br><br>  The iPhone does not support streaming video in a browser or email client; instead, you click on a link with a preview of the image and you can watch the video promptly.  When you click on the image they are loaded into QuickTime Player's iPhone.  After watching the video you are moved back to viewing the letter. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/74b/750/f7c/74b750f7c7aedd5f1e13631a382a7e3b.jpg" alt="image"><br><br><h3>  Outlook 2007 </h3><br><br>  Like all email clients that do not support HTML5 video, Outlook 2007 displays alternative content that we specify as part of video tags.  This can be any HTML you like, and is not limited to just one image.  In most cases, it will probably be a screenshot from the film and, possibly, an icon for playback to encourage the recipient to click on the image and watch the video in your browser. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/b3f/068/aa3/b3f068aa329a2fd6ee5ab5fe3122e80d.jpg" alt="image"><br><br>  The result was the same for all email clients that did not support HTML5 video, which makes this method convenient for all recipients (We do not know which email client the recipient has, but we don‚Äôt need it, the letter will look the same everywhere). <br><br><h3>  Should we use this method? </h3><br><br>  First of all, I think this approach is the best option for video, including email.  The fact that you can make alternative content that works in every email client is a big plus.  This does not give any other way, as far as I know.  A possible limitation is that now it works only for recipients using Apple products.  (Video is played directly. Only in Apple clients). <br><br>  Deciding on the suitability of this approach comes down to analyzing the list of recipients of your mail.  For example, 50% of our clients who read our newsletter every month use one of Apple's email clients.  If we wanted to include the video in the letter, using this approach would mean that half of our subscribers will be able to watch the video directly in the mail client, and the other half will see the preview image by clicking on which they can watch the video in their browser. <br><br>  Whether it is necessary to send video by mail, this is of course another question, but we will solve it in future posts.  I did not get the opportunity to test this technique in every email client, and I will be glad to see the results in the Palm Pre (just because, like the iPhone, it also uses Webkit).  I will also be glad to hear everyone‚Äôs opinion about the method considered here, of course, if you think it is useful. </div><p>Source: <a href="https://habr.com/ru/post/72843/">https://habr.com/ru/post/72843/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../72836/index.html">Discogs - put your collection in order</a></li>
<li><a href="../72837/index.html">Access to a computer disk via WiFi / Internet using the built-in Symbian client (using the example of Nokia N86, Win7 and IIS6.1)</a></li>
<li><a href="../72839/index.html">Version 1.0.10</a></li>
<li><a href="../72841/index.html">Trivialities that make life easier</a></li>
<li><a href="../72842/index.html">Do you specify the default cursor style on a web page?</a></li>
<li><a href="../72844/index.html">Snow Leopard vs. Windows 7 - so what do you think is better?</a></li>
<li><a href="../72845/index.html">Reception of citizens: on-line document readiness check</a></li>
<li><a href="../72855/index.html">Logo change</a></li>
<li><a href="../72856/index.html">Highly specialized browser :)</a></li>
<li><a href="../72858/index.html">Meta Programming System</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>