<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to create a theme for Magento 2 from scratch</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello, dear users! In this publication I want to describe the process of creating a theme for Magento 2 from scratch. Magento 2 has a fairly large num...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to create a theme for Magento 2 from scratch</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/772/96e/345/77296e345dea4db5aa991cf4180be837.png"><br><br>  Hello, dear users!  In this publication I want to describe the process of creating a theme for Magento 2 from scratch.  Magento 2 has a fairly large number of innovations and improvements compared with the first version.  For the most part they belong to the client side. <br><br>  Here are some of them: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li>  Full support for HTML5 and CSS3; </li><li>  Built-in preprocessor <a href="https://github.com/oyejorge/less.php">LESS</a> ; </li><li>  Asynchronous loading of modules using RequireJS (without manually adding scripts to the head section); </li><li>  jQuery / jQuery UI instead of the Prototype library; </li><li>  Magento UI library (a set of components for a simple and flexible rendering of the user interface). </li></ol><br>  The most interesting - under the cut! <a name="habracut"></a><br><br>  Regarding the development of themes, Magento 2 introduced a new modular code structure.  Now all static sss, js, as well as image files are placed in the theme's web folder, and the skin folder has been removed from the Magento root directory.  In addition, the view folder was introduced in the modules, which stores templates and files that relate to the MVC presentation level specifically for each module. <br><br>  You should create a new theme and consider in more detail the structure of directories and files.  Go! <br><br><h3>  Creating a theme directory </h3><br>  Topics in Magento 2 are in the (M2_root) / app / design / frontend directory.  First you need to create a Vendor folder (called Package in Magento 1) and create a folder for the theme in it. <br><br>  For example: (M2_root) / app / design / frontend / Singree / walkbeyond.  Where Singree is vendor, and walkbeyond is the theme code.  In the code, you can use any combination of letters and numbers. <br><br>  After creating these directories, the topic must be declared so that it can be made active in the administrative part. <br><br><h3>  Announcement and registration </h3><br>  In order for Magento 2 to see the created theme, you need to create a file: (M2_root) / app / design / frontend / (vendor) / (theme codename) / theme.xml with the following content: <br><br><pre><code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">theme</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xsi</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xsi:noNamespaceSchemaLocation</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"urn:magento:framework:Config/etc/theme.xsd"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span>walkbeyond<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">parent</span></span></span><span class="hljs-tag">&gt;</span></span>Magento/blank<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">parent</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">media</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">preview_image</span></span></span><span class="hljs-tag">&gt;</span></span>media/walkbeyond.jpg<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">preview_image</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">media</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">theme</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  The title tag indicates the title of the topic.  The parent specifies the theme that is set as the parent (all non-found static files / template files will be taken from the parent theme).  The example indicates a blank that comes with M2.  She is basic and has no parent.  However, the inheritance levels in Magento 2 can be any number, and there are no restrictions here, unlike the first version. <br><br><img src="https://habrastorage.org/files/917/e2a/89f/917e2a89f9c048ddae0e8f1a93c1a66b.png"><br><br>  The preview_image tag indicates a thumbnail to represent the theme in the admin section. <br><br>  To register a topic in the system, you need to create the registration.php file in the root: <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> \Magento\Framework\Component\ComponentRegistrar::register( \Magento\Framework\Component\ComponentRegistrar::THEME, <span class="hljs-string"><span class="hljs-string">'frontend/Singree/walkbeyond'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">__DIR__</span></span> );</code> </pre><br>  Optional, but you can create the composer.json file to distribute the theme as a composer package.  Sample file: <br><br><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"Singree/walkbeyond"</span></span>, <span class="hljs-string"><span class="hljs-string">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"N/A"</span></span>, <span class="hljs-string"><span class="hljs-string">"require"</span></span>: { <span class="hljs-string"><span class="hljs-string">"php"</span></span>: <span class="hljs-string"><span class="hljs-string">"~5.5.0|~5.6.0|~7.0.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"magento/theme-frontend-blank"</span></span>: <span class="hljs-string"><span class="hljs-string">"100.0.*"</span></span>, <span class="hljs-string"><span class="hljs-string">"magento/framework"</span></span>: <span class="hljs-string"><span class="hljs-string">"100.0.*"</span></span> }, <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"magento2-theme"</span></span>, <span class="hljs-string"><span class="hljs-string">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"100.0.1"</span></span>, <span class="hljs-string"><span class="hljs-string">"license"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"OSL-3.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"AFL-3.0"</span></span> ], <span class="hljs-string"><span class="hljs-string">"autoload"</span></span>: { <span class="hljs-string"><span class="hljs-string">"files"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"registration.php"</span></span> ] } }</code> </pre><br><h3>  Creating directories for static files </h3><br>  To store styles, javascript scripts, images and fonts, you must create a web folder in the root directory of the theme.  The folder structure is as follows: <br><br><pre> <code class="html hljs xml">app/design/frontend/Singree/walkbeyond/ ‚îú‚îÄ‚îÄ web/ ‚îÇ ‚îú‚îÄ‚îÄ css/ ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ source/ ‚îÇ ‚îú‚îÄ‚îÄ fonts/ ‚îÇ ‚îú‚îÄ‚îÄ images/ ‚îÇ ‚îú‚îÄ‚îÄ js/</code> </pre><br>  Note that all these folders are optional. <br><br>  The images folder contains all the static theme files, you can also add logo.svg (the default name) to override the theme logo.  In the folder sss / source, according to the parent theme blank, you can create a _theme.less file with a redefinition of the base variables Magento UI.  In the (M2_root) / lib / web / css / source / lib / variables / folder in the source files, you can find the default values ‚Äã‚Äãfor those variables that can be overridden.  In sss / source, you can set styles for modules in the _module.less file and for widgets in the _widgets.less file.  For minor edits, you can create a _extend.less file. <br><br><h3>  Image configuration </h3><br>  The subject is mandatory for the theme file etc / view.xml (if it is not defined in the parent theme), which contains property values ‚Äã‚Äãfor product images, such as height, width, transparency, background color, etc.  This file must be completely copied from the base theme (values ‚Äã‚Äãare not inherited). Image properties are set by identifier and type attributes within the element: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">images</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">module</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Magento_Catalog"</span></span></span><span class="hljs-tag">&gt;</span></span> ... <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">images</span></span></span><span class="hljs-tag">/&gt;</span></span></code> </pre><br>  For example, you can change the size of the image in the table view of the products catalog. <br><br><img src="https://habrastorage.org/files/089/5b4/a0f/0895b4a0fb2a4fccac229b581dc8a835.jpg"><br><br>  Etc / view.xml file: <br><br><pre> <code class="html hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">view</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xsi</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xsi:noNamespaceSchemaLocation</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"urn:magento:framework:Config/etc/view.xsd"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">media</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">images</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">module</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Magento_Catalog"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">image</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"category_page_grid"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"small_image"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">width</span></span></span><span class="hljs-tag">&gt;</span></span>200<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">width</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">height</span></span></span><span class="hljs-tag">&gt;</span></span>200<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">height</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">image</span></span></span><span class="hljs-tag">&gt;</span></span> ... <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">media</span></span></span><span class="hljs-tag">&gt;</span></span> ... <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">view</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  The category_page_grid identifier is unique within the theme.  The type small_image corresponds to the Small Image Role in the administrative part.  Valid values ‚Äã‚Äãfor image types are: image, small_image, swatch_image, swatch_thumb, and thumbnail. <br><br><img src="https://habrastorage.org/files/35d/1fc/43e/35d1fc43ecac4c4caaad7d48bc776368.png"><br><br>  After saving the goods, all the images are cached.  After resizing, you can run the php (M2_root) / bin / magento catalog command: images: resize to regenerate images. <br><br>  As a result, the following structure was obtained: <br><br><img src="https://habrastorage.org/files/089/5b4/a0f/0895b4a0fb2a4fccac229b581dc8a835.jpg"><br><br><h3>  Application of the topic in the administrative part </h3><br>  The theme can be activated in the store settings after creation in the file system.  To do this, go to the Content - Design - Themes section and check that the created theme is in the list: <br><br><img src="https://habrastorage.org/files/a12/90d/988/a1290d98828c4e8aa1621f407a6fd982.jpg"><br><br>  If we see the created theme in the list, go to Content ‚Üí Design ‚Üí Configuration and there we press edit for a specific website or selected store: <br><br><img src="https://habrastorage.org/files/a6c/c59/ede/a6cc59edeb65450490157c7ec695b0f2.jpg"><br><br>  Select a theme (Applied Theme) and click Save configuration: <br><br><img src="https://habrastorage.org/files/9cf/c0d/705/9cfc0d705c8c41049f01b4d50837ccdb.jpg"><br><br>  If your cache is enabled, you need to clear it after applying the theme.  To do this, go to the System - Cache Management section and update all non-valid cache types: <br><br><img src="https://habrastorage.org/files/434/461/046/4344610462fe4b61b532a43861a62c31.jpg"><br><br>  As a result, we will get the same magento / blank theme, but with a different logo and image size: <br><br><img src="https://habrastorage.org/files/163/9df/7c4/1639df7c4c9c468aa39d147fdec798ee.png"><br><br><h3>  Use LESS to change styles. </h3><br>  After creating a theme, you can begin to change the look of the pages.  To edit project styles, you need to use one of several types of LESS preprocessing in Magento 2: <br><br><ul><li>  LESS server compilation; </li><li>  Client compilation of LESS using less.js. </li></ul><br>  Client compilation is more often used in development mode, since all changes will be immediately visible: the browser will perform a compilation every time you access the style files.  In server compilation, you must manually delete the contents of the pub / static and var / view_preprocessed folders every time.  These actions can be optimized using the Grunt taskrner.  It will track changes in files, clean the specified folders and compile less automatically. <br><br>  You can change the type of compilation in the admin part along the path: Stores ‚Üí Configuration ‚Üí Advanced ‚Üí Developer ‚Üí Front-end development workflow ‚Üí Workflow: <br><br><img src="https://habrastorage.org/files/018/122/022/0181220221be460da6360605d9f7f8d6.jpg"><br><br>  In our simple example server compilation will be used, which is installed by default.  Set the background color of the site, as well as the font in the created _theme.less file: <br><br><pre> <code class="css hljs">@<span class="hljs-keyword"><span class="hljs-keyword">page</span></span>__<span class="hljs-selector-tag"><span class="hljs-selector-tag">background-color</span></span>: <span class="hljs-selector-id"><span class="hljs-selector-id">#484848</span></span>; @<span class="hljs-keyword"><span class="hljs-keyword">text__color</span></span>: #fff; @<span class="hljs-keyword"><span class="hljs-keyword">font</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">family__base</span></span>: <span class="hljs-string"><span class="hljs-string">'Arial'</span></span>, sans-serif;</code> </pre><br>  After deleting the contents of the directories / pub / static / frontend / Singree / walkbeyond / en_US and var / view_preprocessed, we can see the change in the appearance of the site: <br><br><img src="https://habrastorage.org/files/a5d/9ef/ad5/a5d9efad533141d3a8e4d77b7b48b9d0.png"><br><br><h3>  Magento 2: using layouts in the theme </h3><br><img src="https://habrastorage.org/files/bc5/a07/f35/bc5a07f35b3c49b9b6eb54675901acc3.png"><br><br>  In Magento 2, in a specific topic, you can either expand or redefine layouts.  In order not to completely copy the page or general layouts from the base theme, you only need to specify the extension pattern in the theme folder in the following ways: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">theme_dir</span></span></span><span class="hljs-tag">&gt;</span></span> |__/<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Namespace</span></span></span><span class="hljs-tag">&gt;</span></span>_<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Module</span></span></span><span class="hljs-tag">&gt;</span></span> |__/layout |--<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">layout1</span></span></span><span class="hljs-tag">&gt;</span></span>.xml |--<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">layout2</span></span></span><span class="hljs-tag">&gt;</span></span>.xml</code> </pre><br>  For example, to expand the catalog_category_view model of the Catalog module, which is located along the path (atalog_module_dir) /view/frontend/layout/catalog_category_view.xml, you need to create a file along the path: (theme_dir) /Magento_Catalog/layout/catalog_category_view.xml <br><br>  Delete any block (for example, the description of the category), you can: <br><br><pre> <code class="html hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">page</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xsi</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xsi:noNamespaceSchemaLocation</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"urn:magento:framework:View/Layout/etc/page_configuration.xsd"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">referenceBlock</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"category.description"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">remove</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">page</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Not all customization tasks can be performed by extension of the layout.  If the number of changes is extremely large, it is better to override the layout.  That is, this new file will be used instead of the file from the parent theme (or the main layout). <br><br>  Examples of customization layouts that imply a redefinition of the layout: <br><br><ul><li>  Calling a method that suppresses another method of the parent layout (If there is a method that cancels the action of a specific method of the parent layout, then you can call it and not override the entire layout); </li><li>  Change the number of method arguments; </li><li>  Cancel block / container removal using the remove attribute; </li><li>  Setting XML block / container attributes (some attributes, such as htmlClass, htmlId, label can be changed in extensions); </li><li>  Remove block arguments; </li><li>  Delete all descriptors by overriding the layout file with an empty descriptor; </li><li>  Modifying the inclusion of descriptors. </li></ul><br>  You can override the basic base layouts by creating an override / base folder in the theme module folder: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">theme_dir</span></span></span><span class="hljs-tag">&gt;</span></span> |__/<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Namespace_Module</span></span></span><span class="hljs-tag">&gt;</span></span> |__/layout |__/override |__/base |--<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">layout1</span></span></span><span class="hljs-tag">&gt;</span></span>.xml |--<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">layout2</span></span></span><span class="hljs-tag">&gt;</span></span>.xml</code> </pre><br>  These files will override the layouts: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">module_dir</span></span></span><span class="hljs-tag">&gt;</span></span>/view/frontend/layout/<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">layout1</span></span></span><span class="hljs-tag">&gt;</span></span>.xml</code> </pre><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">module_dir</span></span></span><span class="hljs-tag">&gt;</span></span>/view/frontend/layout/<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">layout2</span></span></span><span class="hljs-tag">&gt;</span></span>.xml</code> </pre><br>  You can also override the layouts of the parent theme by creating the override / theme folder in the theme module folder: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">theme_dir</span></span></span><span class="hljs-tag">&gt;</span></span> |__/<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Namespace_Module</span></span></span><span class="hljs-tag">&gt;</span></span> |__/layout |__/override |__/theme |__/<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Parent_Vendor</span></span></span><span class="hljs-tag">&gt;</span></span> |__/<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">parent_theme</span></span></span><span class="hljs-tag">&gt;</span></span> |--<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">layout1</span></span></span><span class="hljs-tag">&gt;</span></span>.xml |--<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">layout2</span></span></span><span class="hljs-tag">&gt;</span></span>.xml</code> </pre><br>  These files will override the layouts that are in the following paths: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">parent_theme_dir</span></span></span><span class="hljs-tag">&gt;</span></span>/<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Namespace</span></span></span><span class="hljs-tag">&gt;</span></span>_<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Module</span></span></span><span class="hljs-tag">&gt;</span></span>/layout/<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">layout1</span></span></span><span class="hljs-tag">&gt;</span></span>.xml <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">parent_theme_dir</span></span></span><span class="hljs-tag">&gt;</span></span>/<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Namespace</span></span></span><span class="hljs-tag">&gt;</span></span>_<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Module</span></span></span><span class="hljs-tag">&gt;</span></span>/layout/<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">layout2</span></span></span><span class="hljs-tag">&gt;</span></span>.xml</code> </pre><br><h3>  Theme Templates </h3><br>  In Magento 2 themes, it is possible to completely override module templates, as is the case with layouts.  To redefine module templates (module_dir) / view / frontend / templates / (path_to_templates), you need to create the templates folder in the theme module (theme_dir) / (Namespace) _ (Module) / templates / (path_to_templates) folder. <br><br>  For example, in the mini-basket file Singree / walkbeyond / Magento_Checkout / templates / cart / minicart.html you can add a text message to display ‚ÄúNumber of Products‚Äù: <br><br><pre> <code class="php hljs">&lt;div data-block=<span class="hljs-string"><span class="hljs-string">"minicart"</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">minicart</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">wrapper</span></span></span><span class="hljs-class">"&gt; &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">action</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">showcart</span></span></span><span class="hljs-class">" </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">href</span></span></span><span class="hljs-class">="&lt;?</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">php</span></span></span><span class="hljs-class"> /* @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">escapeNotVerified</span></span></span><span class="hljs-class"> */ </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">echo</span></span></span><span class="hljs-class"> $</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">block</span></span></span><span class="hljs-class">-&gt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">getShoppingCartUrl</span></span></span><span class="hljs-class">(); ?&gt;" </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">data</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">bind</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">scope</span></span></span><span class="hljs-class">: '</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">minicart_content</span></span></span><span class="hljs-class">'"&gt; &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">span</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">cart</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">title</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">hidden</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">xs</span></span></span><span class="hljs-class">"&gt;&lt;?</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">php</span></span></span><span class="hljs-class"> /* @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">escapeNotVerified</span></span></span><span class="hljs-class"> */ </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">echo</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">__</span></span></span><span class="hljs-class">('</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Shopping</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">cart</span></span></span><span class="hljs-class">'); ?&gt;&lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">span</span></span></span><span class="hljs-class">&gt; &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">span</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">counter</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">total</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">qty</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">empty</span></span></span><span class="hljs-class">" </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">data</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">bind</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">css</span></span></span><span class="hljs-class">: </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">empty</span></span>: cart().summary_count == <span class="hljs-number"><span class="hljs-number">0</span></span> }, blockLoader: isLoading<span class="hljs-string"><span class="hljs-string">"&gt; &lt;?php /* @escapeNotVerified */ echo __('Products count:'); ?&gt; &lt;span class="</span></span>counter-number<span class="hljs-string"><span class="hljs-string">"&gt;&lt;!-- ko text: cart().summary_count --&gt;&lt;!-- /ko --&gt;&lt;/span&gt; &lt;span class="</span></span>counter-label<span class="hljs-string"><span class="hljs-string">"&gt; &lt;!-- ko if: cart().summary_count --&gt; &lt;!-- ko text: cart().summary_count --&gt;&lt;!-- /ko --&gt; &lt;!-- ko i18n: 'items' --&gt;&lt;!-- /ko --&gt; &lt;!-- /ko --&gt; &lt;/span&gt; &lt;/span&gt; &lt;/a&gt; &lt;?php if ($block-&gt;getIsNeedToDisplaySideBar()): ?&gt; &lt;div class="</span></span>block block-minicart <span class="hljs-keyword"><span class="hljs-keyword">empty</span></span><span class="hljs-string"><span class="hljs-string">" data-role="</span></span>dropdownDialog<span class="hljs-string"><span class="hljs-string">" data-mage-init='{"</span></span>dropdownDialog<span class="hljs-string"><span class="hljs-string">":{ "</span></span>appendTo<span class="hljs-string"><span class="hljs-string">":"</span></span>[data-block=minicart]<span class="hljs-string"><span class="hljs-string">", "</span></span>triggerTarget<span class="hljs-string"><span class="hljs-string">":"</span></span>.showcart<span class="hljs-string"><span class="hljs-string">", "</span></span>timeout<span class="hljs-string"><span class="hljs-string">": "</span></span><span class="hljs-number"><span class="hljs-number">2000</span></span><span class="hljs-string"><span class="hljs-string">", "</span></span>closeOnMouseLeave<span class="hljs-string"><span class="hljs-string">": false, "</span></span>closeOnEscape<span class="hljs-string"><span class="hljs-string">": true, "</span></span>triggerClass<span class="hljs-string"><span class="hljs-string">":"</span></span>active<span class="hljs-string"><span class="hljs-string">", "</span></span>parentClass<span class="hljs-string"><span class="hljs-string">":"</span></span>active<span class="hljs-string"><span class="hljs-string">", "</span></span>buttons<span class="hljs-string"><span class="hljs-string">":[]}}'&gt; &lt;div id="</span></span>minicart-content-wrapper<span class="hljs-string"><span class="hljs-string">" data-bind="</span></span>scope: <span class="hljs-string"><span class="hljs-string">'minicart_content'</span></span><span class="hljs-string"><span class="hljs-string">"&gt; &lt;!-- ko template: getTemplate() --&gt;&lt;!-- /ko --&gt; &lt;/div&gt; &lt;/div&gt; &lt;?php endif ?&gt; &lt;script&gt; window.checkout = &lt;?php /* @escapeNotVerified */ echo \Zend_Json::encode($block-&gt;getConfig()); ?&gt;; &lt;/script&gt; &lt;script type="</span></span>text/x-magento-init<span class="hljs-string"><span class="hljs-string">"&gt; { "</span></span>[data-block=<span class="hljs-string"><span class="hljs-string">'minicart'</span></span>]<span class="hljs-string"><span class="hljs-string">": { "</span></span>Magento_Ui/js/core/app<span class="hljs-string"><span class="hljs-string">": &lt;?php /* @escapeNotVerified */ echo $block-&gt;getJsLayout();?&gt; }, "</span></span>*<span class="hljs-string"><span class="hljs-string">": { "</span></span>Magento_Ui/js/block-loader<span class="hljs-string"><span class="hljs-string">": "</span></span><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">/* </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@escapeNotVerified</span></span></span><span class="hljs-comment"> */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $block-&gt;getViewFileUrl(<span class="hljs-string"><span class="hljs-string">'images/loader-1.gif'</span></span>); <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span><span class="hljs-string"><span class="hljs-string">" } } &lt;/script&gt; &lt;/div&gt;</span></span></code> </pre><br><h3>  Topic localization </h3><br>  Translation of the topic is carried out using translation dictionaries.  Dictionaries with translations are searched in such locations: <br><br><ul><li>  &lt;parent_theme_dir&gt; / i18n / (viewing in all parent themes) </li><li>  &lt;current_theme_dir&gt; / i18n / </li></ul><br>  The i18n folder can be in each module or globally in the app folder.  Dictionaries with theme folders have a higher priority in the search for the translated string. <br><br>  To generate a file with translations in the theme folder, you can use the <a href="http://devdocs.magento.com/guides/v2.0/config-guide/cli/config-cli-subcommands-i18n.html">i18n tool</a> . <br><br>  You can run this command in the root directory of magento 2: <br><br><pre> <code class="php hljs">php bin/magento i18n:collect-phrases --output=<span class="hljs-string"><span class="hljs-string">"app/design/frontend/Singree/walkbeyond/i18n/en_US.csv"</span></span> app/design/frontend/Singree/walkbeyond</code> </pre><br>  It will collect all the lines in the dictionary.  Next, the dictionary file: app / design / frontend / Singree / walkbeyond / i18n / en_US.csv.  It can be opened with any table editor and change the translation of any lines in the right column.  Translated strings, instead of the main ones, can be seen after applying the theme. <br><br><h3>  Deleting a topic </h3><br>  If the theme is a Composer package, you can delete it with the command (from the root directory): <br><br><pre> <code class="php hljs">php bin/magento theme:uninstall [-c|--clear-<span class="hljs-keyword"><span class="hljs-keyword">static</span></span>-content] {theme path} ... {theme path}</code> </pre><br>  {theme path} - relative path to the theme, starting with the name area (frontend).  In our case: frontend / Singree / walkbeyond. <br><br>  - clear-static-content - removes static files (for which automatic generation is not needed: css, js, images). <br><br>  In case the theme is not a omposer package, to remove it, you must perform the following steps: <br><br><ul><li>  Delete the theme folder app / design / frontend / (Vendor); </li><li>  Remove contents var / view_preprocessed; </li><li>  Delete the contents of pub / static / frontend /; </li><li>  Open the Magento 2 database, find the theme table and delete the row with the theme name; </li><li>  Delete cache with the php command bin / magento cache: flush. </li></ul><br><h3>  Conclusion </h3><br>  The article reviewed the main components of the topic: how to create from scratch the directory structure and theme files, a preview image.  The process of redefining styles, layouts and theme templates was also reviewed: the site was translated using translation dictionaries.  Next, you should consider the table of constituent topics: <br><br><img src="https://habrastorage.org/files/98a/caf/f8d/98acaff8d60c416ba6e70fed29092c90.png"><br><br>  Most of this structure was addressed in our article.  It would also be worthwhile to mention the rules for working with client Javascript libraries (for example, require.js) or describe in more detail how to work with blocks and containers of layouts, but then the size of the article would increase too much and it would become completely inconvenient to read it. <br><br>  Thank you all for your attention! </div><p>Source: <a href="https://habr.com/ru/post/311350/">https://habr.com/ru/post/311350/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../311340/index.html">Neuromarketing: how brain research helps brands sell</a></li>
<li><a href="../311342/index.html">SAP F & R: Order Creation Process. Part 2</a></li>
<li><a href="../311344/index.html">‚ÄúThe best performance is a story about a painful struggle and victory over evil‚Äù, - Vladimir Krasilshchik about technical reports</a></li>
<li><a href="../311346/index.html">Animated textures in opengl</a></li>
<li><a href="../311348/index.html">Data Science Week 2016. Review of the third and fourth day</a></li>
<li><a href="../311352/index.html">New PostgreSQL 9.6 Release: Postgres Professional Contributions</a></li>
<li><a href="../311354/index.html">About degrees of freedom in statistics</a></li>
<li><a href="../311366/index.html">Will the formal verification of a microkernel code allow creating super-reliable OS?</a></li>
<li><a href="../311368/index.html">How not to do the network</a></li>
<li><a href="../311374/index.html">The results of the summer internship at Digital Security. Department of research</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>