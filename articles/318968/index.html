<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Security in IoT: Security Architecture</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="When designing a system, it is important to understand the threats to which this system may be exposed, and to develop appropriate protective measures...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Security in IoT: Security Architecture</h1><div class="post__text post__text-html js-mediator-article">  When designing a system, it is important to understand the threats to which this system may be exposed, and to develop appropriate protective measures when designing and building its architecture.  It is especially important from the very beginning to consider safety requirements when designing a product.  If you understand how intruders can compromise your system, then this will help you take appropriate risk reduction measures even before starting work. <br><br><img src="https://habrastorage.org/files/6b7/05f/99d/6b705f99db6a4e498ea03910442be328.jpg"><br><a name="habracut"></a><br><h2>  Cycle of articles "Security in IoT" </h2><br>  1. <a href="https://aka.ms/habr_318968_1">Azure IoT Suite for those who start from scratch</a> . <br>  2. A <a href="https://aka.ms/habr_318968_2">comprehensive protection strategy</a> . <br>  3. <a href="https://aka.ms/habr_318968_3">Security system architecture</a> . <br>  4. <a href="https://aka.ms/habr_318968_4">Secure your Azure IoT deployment</a> . <br><br><h2>  Security is based on risk modeling. </h2><br>  The task of risk modeling is to understand exactly how attackers could compromise the system, and then take appropriate measures to reduce the risk.  Thanks to risk modeling, the development team can provide risk mitigation measures at the design stage of the system, and not after its deployment.  This is extremely important because the modernization of security systems on an infinite number of devices operating outside the company, is technically not feasible.  In addition, this approach is fraught with errors and leaves customers without protection from all sorts of risks. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Developers are actively working on defining and documenting functional requirements for the system, which will make user interaction with it even more convenient and efficient.  Nevertheless, the identification of non-obvious ways in which attackers could compromise the system is a much more difficult task.  Risk modeling allows developers to understand exactly what actions an attacker can take and for what purpose.  During this structured process, security design decisions are discussed, as well as changes made to the project at the implementation stage that may affect system security.  The risk model is just a document.  However, it is an ideal way to ensure continuous transfer of knowledge and preserve accumulated experience in order to give new professionals the opportunity to instantly orient themselves in a new environment.  Finally, thanks to risk modeling, you can also consider other aspects of security.  For example, determine the level of security that you are willing to provide your customers.  This documented level, coupled with the risk model, provides the data that is required to test your IoT solution. <br><br><h2>  Time of creation </h2><br>  <a href="http://www.microsoft.com/security/sdl/adopt/threatmodeling.aspx">Risk modeling</a> guarantees a number of significant advantages if performed directly at the design stage.  In the design process, you can make any changes to eliminate the threat.  Elimination of risks at the design stage - this is the result to which one should strive.  It is much easier and more efficient than subsequently introducing and testing risk reduction measures and constantly maintaining their relevance, which is not always possible.  Eliminating risks at a later stage, when the product is almost ready, is much more difficult.  This will require more work, and will have to sacrifice certain benefits.  Early risk modeling allows this to be avoided. <br><br><h2>  Objects for study </h2><br>  It is necessary to create a risk model for the entire solution, paying particular attention to the following areas: <br><br><ul><li>  Security and privacy protection tools. </li><li>  Functions that depend on security. </li><li>  Functions that are on the scheme in contact with the boundary of trust. </li></ul><br><h2>  How to simulate risks </h2><br>  Risk modeling is the same process as any other.  It is recommended to process and verify the risk model, like any other component of the solution.  Developers are actively working on defining and documenting functional requirements for the system, which will make user interaction with it even more convenient and efficient.  Nevertheless, the identification of non-obvious ways in which attackers could compromise the system is a much more difficult task.  Risk modeling allows developers to understand exactly what actions an attacker can take and for what purpose. <br><br><h4>  Key stages </h4><br>  The risk modeling process consists of four steps: <br><br><ol><li>  Simulation application. </li><li>  Risk listing. </li><li>  Risk reduction. </li><li>  Check risk reduction measures. </li></ol><br><h4>  Modeling steps </h4><br>  When building a risk model, three proven steps should be kept in mind: <br><br><ol><li>  Create a schema based on the reference architecture. </li><li>  Start search wide.  To look at the results and try to evaluate the system as a whole, without going into details yet.  Thus, you can choose the right direction for in-depth analysis. </li><li>  Manage the process, but don't let the process control you.  However, if you find a problem at the modeling stage and want to study it, do it.  You should not scrupulously follow absolutely all the recommendations. </li></ol><br><h4>  Main threats </h4><br>  Four key elements of the risk model: <br><br><ol><li>  Processes (web services, Win32 services, control programs * nix, and so on).  Please note that some complex objects (for example, field gateways and sensors) can be abstractedly perceived as processes if it is technically impossible to analyze these areas in detail. </li><li>  Data storages (any place where data is stored, for example, a configuration file or a database). </li><li>  Data flow (route of moving data between other elements of the application). </li><li>  External objects (all objects that interact with the system but are not controlled by the application, for example, users and satellite channels). </li></ol><br>  All elements in the architecture diagram are subject to varying degrees to varying degrees.  We use the following mnemonic rule: <a href="https://blogs.msdn.microsoft.com/larryosterman/2007/09/04/threat-modeling-again-stride/">STRIDE</a> . <br><br>  Various elements in the application diagram are subject to various STRIDE threats: <br><br><ul><li>  Processes are at risk from STRIDE. </li><li>  Data streams are subject to TID threats. </li><li>  Data warehouses are subject to TID threats and sometimes R threats if they are log files. </li><li>  External objects are subject to SRD threats. </li></ul><br><h2>  Security in IoT environment </h2><br>  Connected specialized devices contain many points of potential interaction that must be taken into account when developing an adequate security system for digital access to these devices.  The term ‚Äúdigital access‚Äù refers to all operations performed by directly interacting with the device, if security is provided through physical access control.  For example, you can put the device in a room that can be locked.  Although physical access cannot be denied with software and hardware, certain measures can still be taken to prevent entry into the system through physical access. <br><br>  In studying the various mechanisms of interaction, we must equally pay attention to device and data management on the device.  Device management can be understood as any information that is provided to the device by any participant in the data exchange in order to influence the behavior of the device so as to change its state or the state of its environment.  The data on the device is the information that the device itself creates and provides to another participant in the data exchange.  This is information about the state of the device and the registered state of its environment. <br><br>  To provide a higher level of security, it is recommended in this risk modeling exercise to divide the standard IoT architecture into several components (zones).  These include: <br><br><ul><li>  Device. </li><li>  Field gateway </li><li>  Cloud Gateways. </li><li>  Service. </li></ul><br>  Zoning is a versatile way to segment a solution.  Each zone often contains its own data, and also has separate requirements for authentication and authorization.  Zoning can be used to localize the damage and limit the impact of low confidence zones on higher trust zones. <br><br>  Each zone is separated by a boundary of trust, which in the diagram below is indicated by a red dotted line.  It represents the transfer of data (information) from one source to another.  During such a transition, data (information) may become an object of falsification (S - Spoofing), illegal change (T - Tampering), distortion of meaning (R - Repudiation), information disclosure (I - Information Disclosure), denial of service (D - Denial of Service) and privilege escalations (E - Elevation of Privilege).  In the aggregate, we call all these threats, by the first letters of the English words, the abbreviation "STRIDE". <br><br><img src="https://habrastorage.org/files/3d3/09a/b7f/3d309ab7f0124bfaa699a9c719f81643.png"><br><br>  Components designated within each of the boundaries are also subject to STRIDE threats, which makes it possible, in full detail, to simulate the risks for a particular solution.  The sections below describe each of these components and specific security problems, as well as recommended solutions. <br><br><h4>  Device zone </h4><br>  The device environment is the physical space immediately surrounding the device.  In the device environment, physical access to the device and (or) peer-to-peer digital access via a local network is provided.  Local network is a network separated and separated from the public Internet (but with the ability to connect to it via a bridge connection).  Such networks include short-range wireless radio networks through which a peer-to-peer connection between devices is established.  Such networks do not include virtualized networks that create the illusion of a local network, nor public networks of operators, within which it is assumed that two devices exchange data in a public network space to establish a peer-to-peer connection. <br><br><h4>  Field Gateway Area </h4><br>  A field gateway is a general-purpose device, software, or server software that serves as a means of implementing data exchange, as well as, if possible, a device management system and a data center received from devices.  The field gateway itself, as well as all devices connected to it, enters the field gateway zone.  As the name implies, field gateways operate outside specialized data centers.  Usually they are limited by location, may become subject to physical intrusion and have a limited working power margin.  Thus, the field gateway is a device that can be physically disabled if you know what functions it performs. <br><br>  Unlike a simple traffic router, the field gateway plays an important role in access control and stream processing.  That is, it is the object accessed by the application, network connection, or session terminal.  A NAT device and a firewall, in contrast, are not a field gateway, as they themselves do not function as connection or session terminals, but are connections or route (block) sessions.  The field gateway contains two separate contact zones.  One of them interacts with connected devices (internal part), and the second - with external participants of data exchange, representing essentially a zone transition. <br><br><h4>  Cloud Gateway Area </h4><br>  A cloud gateway is a system for remotely exchanging data between various devices and field gateways.  Data usually comes from various sites in the public network to the cloud-based data analysis and control system, which is a federation of such systems.  In some cases, the cloud gateway may provide direct access to specialized devices from terminals such as tablet PCs and telephones.  In this article, the term ‚Äúcloud‚Äù refers to a specialized data processing system that is not tied to the same site as the connected devices or field gateways.  In the cloud zone, you can also implement operational measures to prevent intentional physical access.  This zone may not be provided as part of the public cloud infrastructure. <br><br>  A cloud gateway can be mapped to a network virtualization overlay to isolate the cloud gateway and all devices or field gateways connected to it from any network traffic.  The cloud gateway itself is neither a device management system, nor a device data processing or storage system, but the gateway interacts with all of the specified systems.  The cloud gateway zone contains the cloud gateway itself, as well as all field gateways and devices that are directly or indirectly connected to it.  A zone transition is a clearly marked contact zone through which it interacts with all external data exchange participants. <br><br><h4>  Service Zone </h4><br>  A service is defined in the context of this article as any software component or module that interacts with devices through a field or cloud gateway, collecting and analyzing data, as well as monitoring and sending commands.  Services act as mediators.  Using their own identity, services interact with gateways and other subsystems, store and analyze data, autonomously send commands to devices based on operational data or schedules, and provide authorized end users with the required information and monitoring tools. <br><br><h4>  Comparison of information and specialized devices </h4><br>  Computers, phones and tablet PCs mainly belong to interactive information devices.  Phones and tablets are optimized for maximum battery life.  On such devices, it is possible to partially disable the functions for the period when the user does not use the device to play music, GPS navigation, etc. From the point of view of the system, such information devices act as proxies when interacting with users.  This is a ‚Äúuser drive‚Äù if it‚Äôs about actions, and a ‚Äúuser sensor‚Äù if we are talking about collecting input data. <br><br>  Specialized include many different devices - from ordinary temperature sensors to the most complex factory production lines, consisting of thousands of very different components.  These devices are focused on a wider application.  And even if a user interface is provided for them, they still perform a wide range of interaction or integration functions with resources in the physical world.  They analyze the state of the environment and create relevant reports, turn valves on and off, control servomotors, activate audible alarms, turn on and off lights, and also perform many other tasks.  They help to do the work for which the range of tasks of information devices is too universal, or such devices are too expensive, too large or not strong enough.  The technical design of the device is determined directly by the specific task, as well as by the available budget allocated for production and the planned lifetime.  The combination of these two factors limits the budget allocated for energy supply during operation.  Physical impact and available storage, computing and security resources are also limited. <br><br>  If something happens to automated or remotely controlled devices, such as physical failure or control logic problems, this can lead to intentional unauthorized intrusion and fraudulent activities.  The production batch may be destroyed, the building may be robbed or burned to the ground, people may suffer or even die.  This, of course, is a completely different category of damage, which is significantly different from the banal devastation of a stolen credit card.  Devices that set things and objects in motion, as well as sensor data, which are subsequently converted into teams that set various things and objects in motion, should be subject to higher security requirements than any commercial or banking systems. <br><br><h4>  Device management and interaction with data on the device </h4><br>  Connected specialized devices contain many points of potential interaction that must be taken into account when developing an adequate security system for digital access to these devices.  The term ‚Äúdigital access‚Äù refers to all operations performed by directly interacting with the device, if security is provided through physical access control.  For example, you can put the device in a room that can be locked.  Although physical access cannot be denied with software and hardware, certain measures can still be taken to prevent entry into the system through physical access. <br><br>  In studying the various mechanisms of interaction, we must equally pay attention to device and data management on the device.  Device management can be understood as any information that is provided to a device by any participant in data exchange in order to influence the behavior of a device so as to change its state or the state of its environment.  The data on the device is the information that the device itself creates and provides to another participant in the data exchange.  This is information about the state of the device and the registered state of its environment. <br><br><h2>  Azure IoT Reference Architecture: Risk Modeling </h2><br>  Microsoft uses the concept described above to model risk in Azure IoT.  In the next section, we will provide a specific example of the Azure IoT reference architecture to demonstrate the principles of risk modeling in the IoT environment and eliminate detected threats.  In this case, we will highlight four main areas: <br><br><ul><li>  Devices and data sources. </li><li>  Data transport </li><li>  Devices and event handling. </li><li>  Representation. </li></ul><br><img src="https://habrastorage.org/files/81b/9b5/7d1/81b9b57d11d44c69b0088b5e41a2a0a8.png"><br><br>  The following diagram presents a simplified reference IoT architecture from Microsoft.  For the demonstration, we use the data flow diagram model, which is also used by the Microsoft risk modeling tool. <br><br><img src="https://habrastorage.org/files/233/603/0d2/2336030d251d42f8b54bc4b4e4584abb.png"><br><br>  It is important to understand that within the architecture, the functionality of the device and the gateway are different.  Thus, the user will be able to effectively use more reliable and secure gateways.  Gateways support data exchange with the cloud gateway through secure protocols;  this usually requires more processing overhead than your own device (for example, a thermostat) can provide.  In the Azure Services Zone, it is assumed that the Azure IoT Hub performs the role of a cloud gateway. <br><br><h4>  Devices and data sources / data transport </h4><br>  This section discusses the architecture described above in the context of risk modeling, and also presents solutions to various related problems.  We consider in detail a number of key elements of the risk model: <br><br><ul><li>  Processes (user-driven, as well as external elements). </li><li>  Data exchange (the so-called data stream). </li><li>  Storage (the so-called data storage). </li></ul><br><h5>  Processes </h5><br>  In each of the categories identified in the Azure IoT architecture, we try to reduce various risks at different stages of the existence of data (information): process, data exchange and storage.  The following is an overview of the most common risks for the ‚Äúprocess‚Äù category.  Then we will talk about how to reduce these risks. <br><br>  <b>Spoofing</b> .  An attacker can retrieve a cryptographic key material from a device (at the software or hardware level) and access the system from another physical or virtual device using the credential of the device from which this material was extracted.  The most striking example is the remote control, with which you can turn on any TV - it is often used by drawers. <br><br>  <b>Denial of Service</b> .  The device can be disabled or excluded from the data transfer process due to radio interference or simply cutting the wires.  For example, a video surveillance system camera, intentionally disconnected from the power and from the network, will not transmit any data <br><br>  <b>Illegal change (Tampering)</b> .  An attacker can completely or partially replace the software running on the device.  In this case, the software installed instead of the original one will be able to use the authentic identification of the device if it has access to the key material or cryptographic data containing the key material.  For example, an attacker could use the extracted key material to intercept and block the data from the device along the communication path and replace it with spurious data for which authentication is performed using stolen key material. <br><br>  <b>Information Disclosure</b> .  If fraudulent software is installed on the device, it can cause data leakage and transfer to unauthorized users.  For example, an attacker could use the received key material to penetrate the communication path between the devices and the controller or the field / cloud gateway and start outputting data. <br><br>  <b>Elevation of Privilege</b> .  A device that performs a specific function can be forced to perform some other action.  For example, a valve programmed to open 180 degrees can be illegitimately configured to open fully. <br><table><tbody><tr><th width="100">  <b>Component</b> </th><th width="100">  <b>Threat</b> </th><th>  <b>Risk reduction</b> </th><th>  <b>Risk</b> </th><th>  <b>Implementation</b> </th></tr><tr><td>  Device </td><td>  Spoofing </td><td>  Assigning Identities and Device Authentication </td><td>  Full or partial replacement of the device with another device How to determine the legitimacy of the device? </td><td>  Device authentication using TLS or IPSec protocols.  The infrastructure must support the use of a shared key on devices where asymmetric encryption processing is not supported.  Using Azure AD, <a href="http://www.rfc-editor.org/in-notes/internet-drafts/draft-ietf-ace-oauth-authz-01.txt">OAuth</a> </td></tr><tr><td></td><td>  TRID </td><td>  You can apply illegal change protection mechanisms on your device to complicate the acquisition of keys and other cryptographic material or make it completely impossible </td><td>  However, there is a risk of physical unlawful device change.  How can I protect my device from illegal changes? </td><td>  The most effective way to reduce the risk of such a threat is to use a trusted platform module that allows you to store keys in a special integrated chip.  Data on such a scheme cannot be counted, but it can be used for encryption operations that involve the key without revealing it.  Encrypt device memory.  Key management on the device.  Code signing </td></tr><tr><td></td><td>  Elevation of Privilege </td><td>  Getting control of access to the device.  Authorization scheme </td><td>  If the device is allowed to perform individual actions in accordance with commands received from an external source or even from compromised sensors, this will allow attackers to perform operations that otherwise would not be available. </td><td>  Getting an authorization scheme for a device </td></tr><tr><td>  Field gateway </td><td>  Spoofing </td><td>  Field gateway authentication when interacting with a cloud gateway (based on certificate, shared key, assertion, and so on) </td><td>  If the attacker manages to illegally change the field gateway, he will be able to impersonate any device. </td><td>  TLS RSA / Shared Key, IPSe, <a href="https://tools.ietf.org/html/rfc4279">RFC 4279</a> .  Recommendations on key storage and certification remain the same - in order to support wireless sensor networks (WSN), it is recommended to use the TPM extension.  6LowPAN for IPSec </td></tr><tr><td></td><td>  TRID </td><td>  Protect the field gateway against illegal change (TPM)? </td><td>  Data fraud attacks, in which the cloud gateway mistakenly believes that it is exchanging data with the field gateway, lead to information disclosure and illegal data alteration </td><td>  Memory Encryption, Trusted Platform Modules, Authentication </td></tr><tr><td></td><td>  Elevation of Privilege </td><td>  Field Gateway Access Control Mechanism </td><td></td><td></td></tr></tbody></table><br>  Below we give some examples of threats belonging to this category. <br><br>  <b>Fake</b>  An attacker can retrieve a cryptographic key material from a device (at the software or hardware level) and access the system from another physical or virtual device using the credential of the device from which this material was extracted. <br><br>  <b>Denial of service</b> .  The device can be disabled or excluded from the data transfer process due to radio interference or simply cutting the wires.  For example, a surveillance camera, intentionally disconnected from the power and from the network, will not transmit any data. <br><br>  <b>Illegal change</b> .  An attacker can completely or partially replace the software running on the device.  In this case, the software installed instead of the original one will be able to use the authentic identification of the device if it has access to the key material or cryptographic data containing the key material. <br><br>  <b>Illegal change</b> .  A security camera that broadcasts in the visible spectrum an image of an empty lobby can actually show just a static photograph of this lobby.  A smoke detector or fire detector may work if someone just brings a lit match to it.  In any case, the device can be physically completely reliable, but at the same time inform the system of false information sent by fraudsters. <br><br>  <b>Illegal change</b> .  For example, an attacker could use the extracted key material to intercept and block the data from the device along the communication path and replace it with spurious data for which authentication is performed using stolen key material. <br><br>  <b>Illegal change</b> .  An attacker can completely or partially replace the software running on the device.  In this case, the software installed instead of the original one will be able to use the authentic identification of the device if it has access to the key material or cryptographic data containing the key material. <br><br>  <b>Disclosure</b> .  If fraudulent software is installed on the device, it can cause data leakage and transfer to unauthorized users. <br><br>  <b>Disclosure</b> .  For example, an attacker could use the extracted key material to penetrate the communication path between the devices and the controller or field / cloud gateway and start outputting data. <br><br>  <b>Denial of service</b> .  The device can be turned off or switched to a mode in which data exchange is impossible (this is specifically done in many production plants). <br><br>  <b>Illegal change</b> .  The device configuration can be changed to give it a state unknown to the control system (outside the range of known calibration parameters).  Thus, data may be received from the device, which will be interpreted incorrectly. <br><br>  <b>Privilege escalation</b> .  A device that performs a specific function can be forced to perform some other action.  For example, a valve programmed to open 180 degrees can be illegitimately configured to open fully. <br><br>  <b>Denial of service</b> .  The device can be switched to a state in which data exchange is impossible. <br><br>  <b>Illegal change</b> .  The device configuration can be changed to give it a state unknown to the control system (outside the range of known calibration parameters).  Thus, data may be received from the device, which will be interpreted incorrectly. <br><br>  <b>Fake / illegal change / distortion of meaning</b> .  If the device is not protected (for example, any protection is rarely used for remote controls), then the attacker will be able to anonymously change the state of the device.  The most striking example is the remote control, with which you can turn on any TV - it is often used by fans of practical jokes. <br><br><h5>  Data exchange </h5><br>  Threats associated with communication by transferring data between various devices, between devices and field gateways, as well as between devices and the cloud gateway.  The following table provides guidelines for setting up open sockets on a device / VPN. <br><table><tbody><tr><th width="100">  <b>Component</b> </th><th width="60">  <b>Threat</b> </th><th width="100">  <b>Risk reduction</b> </th><th>  <b>Risk</b> </th><th>  <b>Implementation</b> </th></tr><tr><td>  IoT Hub service on device </td><td>  Tid </td><td>  (D) TLS (Shared Key / RSA) to encrypt traffic </td><td>  Listening or interfering with the data exchange between the device and the gateway </td><td>  Security at the protocol level.  If you use custom protocols, then you need to configure the best method of protection.  In most cases, data is exchanged in the direction from the device to the IoT Hub service (the connection is initiated by the device) </td></tr><tr><td>  Device // Device </td><td>  Tid </td><td>  (D) TLS (Shared Key / RSA) to encrypt traffic </td><td>  Reading data in the process of transfer between devices.  Illegal change of data.  Device overload with new connections </td><td>  Protocol-level security (HTTP (S) / AMQP / MQTT / CoAP).  If you use custom protocols, then you need to configure the best method of protection.  To reduce the risk of a DOS attack, you can configure peer-to-peer communication for devices using a cloud or field gateway, which is configured only as a client on the network.  In this case, a direct connection can be established between the peer devices after the gateway, acting as an intermediary </td></tr><tr><td>  Device // External Object </td><td>  Tid </td><td>  Sustainable binding of an external object to a device </td><td>  Listening to the connection with the device.  Interference with device communication </td><td>  Securely link an external object with an NFC / Bluetooth LE device.  Control of the device's operation panel (physical) </td></tr><tr><td>  Field Gateway // Cloud Gateway </td><td>  Tid </td><td>  TLS (shared key / RSA) to encrypt traffic </td><td>  Listening or interfering with the data exchange between the device and the gateway </td><td>  Protocol-level security (HTTP (S) / AMQP / MQTT / CoAP).  If you use custom protocols, then you need to configure the best way to protect </td></tr><tr><td>  //   </td><td> TID </td><td> TLS ( /RSA)    </td><td>           </td><td>     (HTTP(S)/AMQP/MQTT/CoAP).    ,         </td></tr></tbody></table><br>      ,    . <br><br> <b>  </b> .   ,  ,   DOS-            :      ,        .          .         . <br><br> <b>,  </b> .            (,    PIN-)        (      ,        ,       ).  ,                  ,   . <br><br> <b></b> .        ,     (). <br><br> <b> </b> .        ,     . <br><br> <b> </b> .           . <br><br> <b>  </b> .           . <br><br><h5>  Storage </h5><br>          (     ,   ). <br><table><tbody><tr><th width="100">  <b>Component</b> </th><th width="60"> <b></b> </th><th width="100"> <b> </b> </th><th>  <b>Risk</b> </th><th>  <b>Implementation</b> </th></tr><tr><td>    </td><td> TRID </td><td>  ,   </td><td>     ( PII),    .     ,     .                     ()     </td><td> ,     (MAC)   .            (ACL)   </td></tr><tr><td>    </td><td> TRID </td><td></td><td>   /   </td><td>     ¬´ ¬ª,   ,  </td></tr><tr><td>     (   </td><td> TRID </td><td>  ,   </td><td>     ( PII),    ,     ,      .          (     )            ()     </td><td>  Bitlocker </td></tr><tr><td>     </td><td> TRID </td><td></td><td>   /   </td><td>     ¬´ ¬ª,   ,  </td></tr></tbody></table><br><h4>    /   </h4><br>               . ,  ,              ,    .               ,     . ,       ¬´¬ª     ,       ,       ,           .            .        ,                 .           ,       ,       .       ,       ,       . <br><br>  ,  ,      (,     ,        ).  ,       .          <a href="http://www.microsoft.com/sdl">SDL</a> . <br><br><h5>   </h5><br>   () ‚Äî   ,    ,     ,       ()  ,             .   ‚Äî  ,    ,      .       , , ,            ,       ,      . <br><br>         ,                  .    ,  ,     ,     ,      ,       .        .   <a href="https://cloudsecurityalliance.org/research/top-threats/">Cloud Security Alliance</a> (CSA). <br><br><h2>  Useful materials </h2><br> 1. <a href="https://docs.microsoft.com/en-us/azure/iot-suite/iot-suite-predictive-overview">       </a> . <br> 2. <a href="https://azure.microsoft.com/en-us/documentation/articles/iot-suite-faq/">Azure IoT Suite:   </a> . <br> 3. <a href="https://github.com/YuriDio">    GitHub</a> . <br><br>  <i>If you see an inaccuracy of the translation, please report this to private messages.</i> </div><p>Source: <a href="https://habr.com/ru/post/318968/">https://habr.com/ru/post/318968/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../318958/index.html">json-api-normalizer: an easy way to make friends with Redux and the JSON API</a></li>
<li><a href="../318960/index.html">Scala type classes (with a little overview of the cats library)</a></li>
<li><a href="../318962/index.html">About string formatting in modern C ++</a></li>
<li><a href="../318964/index.html">Towers of Hanoi - a theoretical solution without recursion</a></li>
<li><a href="../318966/index.html">Features of the development of mobile MMO RTS. Part 2</a></li>
<li><a href="../318970/index.html">Neural network optimization methods</a></li>
<li><a href="../318972/index.html">Adaptive jQuery without window.matchMedia</a></li>
<li><a href="../318976/index.html">How IT professionals work. Ilya Safonov, Senior Research Scientist at Schlumberger</a></li>
<li><a href="../318980/index.html">Theoretical Foundations of VMware Virtual SAN 6.5</a></li>
<li><a href="../318982/index.html">The history of one bug (# 1653967)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>