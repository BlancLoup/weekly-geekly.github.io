<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Debugging a Java application when it doesn't wait at all - welcome to the InTrace approach</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Have you ever had to explore step by step the execution of some Java code that you did not bother to provide with logging tools or other monitoring me...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Debugging a Java application when it doesn't wait at all - welcome to the InTrace approach</h1><div class="post__text post__text-html js-mediator-article">  Have you ever had to explore step by step the execution of some Java code that you did not bother to provide with logging tools or other monitoring mechanisms? <br>  Let us complicate the task by not recompiling the code under study, and generally restarting the existing process (the case when the incomprehensible behavior was and even during the restart floated).  The Java machine, of course, is running with the most common options (without parameters for the debug attachment or any other frills). <br>  And so I want to understand what is happening. <br><br>  This is what we are going to do. <br><a name="habracut"></a><br>  For illustrative example, let's take a simple code, some semblance of the implementation of the good old well-known fairy tale "Turnip".  The purpose of the demonstration below the above code does not show the beauty of the organization of classes or methods, and especially naming (here, rather, disgrace), but simply make a series of calls for the call. <br><br><pre><code class="java hljs"><span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> skazka; <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.io.BufferedReader; <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.io.InputStreamReader; <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Repka</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> Exception </span></span>{ <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BufferedReader(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> InputStreamReader(System.in)).readLine(); <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-number"><span class="hljs-number">11</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Dedka().tyanem(<span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-number"><span class="hljs-number">200</span></span>); <span class="hljs-number"><span class="hljs-number">12</span></span>: } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (Exception ex) { <span class="hljs-number"><span class="hljs-number">13</span></span>: processError(ex); <span class="hljs-number"><span class="hljs-number">14</span></span>: } <span class="hljs-number"><span class="hljs-number">15</span></span>: <span class="hljs-number"><span class="hljs-number">16</span></span>: } <span class="hljs-number"><span class="hljs-number">17</span></span>: <span class="hljs-number"><span class="hljs-number">18</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">processError</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Exception ex)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-number"><span class="hljs-number">19</span></span>: <span class="hljs-comment"><span class="hljs-comment">// ... 20: return true; 21: } 22: } 23: 24: class Dedka { 25: void tyanem(String target, int weight) { 26: new Babka().tyanem(target, weight - 15); 27: } 28: } 29: 30: class Babka { 31: void tyanem(String target, int weight) { 32: new Vorona().tyanem(target, weight - 10); 33: } 34: } 35: 36: class Vorona { 37: void tyanem(String target, int weight) { 38: if (!target.equals("")) { 39: throw new RuntimeException("    "); 40: } 41: 42: // ... 43: } 44: }</span></span></code> </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Compile <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">javac</span></span> skazka/Repka.java</code> </pre><br>  And run <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">java</span></span> skazka.Repka</code> </pre><br><br>  Now you need to somehow "wedge" into an already running process and adapt the code to your needs.  The Java agent created by Martin Robertson (for which he has many, many sincere thanks), called InTrace <a href="http://mchr3k.github.io/org.intrace">mchr3k.github.io/org.intrace</a> , is perfectly <a href="http://mchr3k.github.io/org.intrace">suited for this</a> , allowing it to be <a href="http://mchr3k.github.io/org.intrace">injected</a> into the executable code on the fly, providing it with elements of tracing. <br><br>  The InTrace agent is placed in an already running Java process in a couple of simple ways (optional): <br>  <b>1)</b> software method <br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">loadAgent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String pid, String agentFilePath)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> Exception </span></span>{ VirtualMachine vm = VirtualMachine.attach(pid); vm.loadAgent(agentFilePath, <span class="hljs-string"><span class="hljs-string">""</span></span>); vm.detach(); }</code> </pre><br><br>  Slipping the process with a java agent intrace-agent.jar from <a href="https://github.com/mchr3k/org.intrace/tree/master/binaries/jars/latest_development">github.com/mchr3k/org.intrace/tree/master/binaries/jars/latest_development</a> <br><br>  <b>2)</b> taking VisualVM (by downloading, if there is no <a href="http://visualvm.java.net/">visualvm.java.net</a> from here) and patching it (Tools-&gt; Plugins) InTrace with the plugin org-intrace-visualvm.nbm taken from <br>  <a href="https://github.com/mchr3k/org.intrace/tree/master/binaries/jars/latest_development">github.com/mchr3k/org.intrace/tree/master/binaries/jars/latest_development</a> <br><br>  The trouble is that in org-intrace-visualvm.nbm are not the latest files, so find out where VisualVM stores the plugins and replace the corresponding jars with the most recent ones from <a href="https://github.com/mchr3k/org.intrace/tree/master/binaries/jars/latest_development">github.com/mchr3k/org.intrace/tree/master/binaries/jars/ latest_development</a> <br>  In my case (Linux OS), it was necessary to replace <br>  intrace-agent.jar on intrace-agent.jar and intrace-client-gui-linux.jar on intrace-ui.jar (see the screenshot below, the plugin suggests ways) <br><br>  Now it remains to run VisualVM, call the context menu for skazka.Repka and select ‚ÄúInTrace Application ...‚Äù, after which we will see <br><img src="https://habrastorage.org/getpro/habr/post_images/956/3b9/3b6/9563b93b63d58a43ff23b9432424df6f.png"><br><br>  press the ‚ÄúLoad InTrace Agent‚Äù button and the console will report on the implementation of InTrace with a text like <br><br><img src="https://habrastorage.org/getpro/habr/post_images/471/840/846/471840846e370e4a835b4532f2941561.png"><br><br>  The implementation stage is successfully completed: the InTrace agent has successfully settled in the Java machine, ready to transform the byte code, supplying it with trace commands, and report the results. <br><br>  We proceed to the stage of observing the result, for which we launch the agent management tool and analysis of the results (separate application). <br><br>  Again there are two simple options. <br>  <b>1)</b> we implemented the agent in the first "program way" then we start <br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">java</span></span> -jar intrace-ui.jar</code> </pre><br>  taken here <br>  <a href="https://github.com/mchr3k/org.intrace/tree/master/binaries/jars/latest_development">github.com/mchr3k/org.intrace/tree/master/binaries/jars/latest_development</a> <br>  <b>2)</b> in the case of using VisualVM, click on the ‚ÄúLaunch InTrace Client‚Äù button, and, in principle, absolutely the same file will start as in the first example (since we patched a new intrace-ui.jar) <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2b3/0b7/af4/2b30b7af4b122c346adeeac03e7f044d.png"><br><br>  We drive in the address, set up the parameters of the trace (I turned on the Entry / Exit + Branch + Args), click the ‚ÄúClasses ...‚Äù button and specify there skazka (this will add tracing to the classes from the skazka package). <br>  Press "Enter" in the console with the launched "Turnip" (do not forget that this is exactly what she is waiting for to continue) and in the end we will get on the client a chain of program execution in the form of output: <br><br><pre> <code class="hljs ruby">[<span class="hljs-number"><span class="hljs-number">21</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">52</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">39.861</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:</span></span>[<span class="hljs-number"><span class="hljs-number">1</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:skazka</span></span>.<span class="hljs-symbol"><span class="hljs-symbol">Dedka:</span></span>&lt;init&gt;: {<span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">21</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">52</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">39.862</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:</span></span>[<span class="hljs-number"><span class="hljs-number">1</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:skazka</span></span>.<span class="hljs-symbol"><span class="hljs-symbol">Dedka:</span></span>&lt;init&gt;: }<span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">21</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">52</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">39.862</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:</span></span>[<span class="hljs-number"><span class="hljs-number">1</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:skazka</span></span>.<span class="hljs-symbol"><span class="hljs-symbol">Dedka:</span></span><span class="hljs-symbol"><span class="hljs-symbol">tyanem:</span></span> {<span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">26</span></span> [<span class="hljs-number"><span class="hljs-number">21</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">52</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">39.865</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:</span></span>[<span class="hljs-number"><span class="hljs-number">1</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:skazka</span></span>.<span class="hljs-symbol"><span class="hljs-symbol">Dedka:</span></span><span class="hljs-symbol"><span class="hljs-symbol">tyanem:</span></span> Arg (target):  [<span class="hljs-number"><span class="hljs-number">21</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">52</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">39.866</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:</span></span>[<span class="hljs-number"><span class="hljs-number">1</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:skazka</span></span>.<span class="hljs-symbol"><span class="hljs-symbol">Dedka:</span></span><span class="hljs-symbol"><span class="hljs-symbol">tyanem:</span></span> Arg (weight): <span class="hljs-number"><span class="hljs-number">200</span></span> [<span class="hljs-number"><span class="hljs-number">21</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">52</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">39.868</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:</span></span>[<span class="hljs-number"><span class="hljs-number">1</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:skazka</span></span>.<span class="hljs-symbol"><span class="hljs-symbol">Babka:</span></span>&lt;init&gt;: {<span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">30</span></span> [<span class="hljs-number"><span class="hljs-number">21</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">52</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">39.869</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:</span></span>[<span class="hljs-number"><span class="hljs-number">1</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:skazka</span></span>.<span class="hljs-symbol"><span class="hljs-symbol">Babka:</span></span>&lt;init&gt;: }<span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">30</span></span> [<span class="hljs-number"><span class="hljs-number">21</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">52</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">39.871</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:</span></span>[<span class="hljs-number"><span class="hljs-number">1</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:skazka</span></span>.<span class="hljs-symbol"><span class="hljs-symbol">Babka:</span></span><span class="hljs-symbol"><span class="hljs-symbol">tyanem:</span></span> {<span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">32</span></span> [<span class="hljs-number"><span class="hljs-number">21</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">52</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">39.871</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:</span></span>[<span class="hljs-number"><span class="hljs-number">1</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:skazka</span></span>.<span class="hljs-symbol"><span class="hljs-symbol">Babka:</span></span><span class="hljs-symbol"><span class="hljs-symbol">tyanem:</span></span> Arg (target):  [<span class="hljs-number"><span class="hljs-number">21</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">52</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">39.871</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:</span></span>[<span class="hljs-number"><span class="hljs-number">1</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:skazka</span></span>.<span class="hljs-symbol"><span class="hljs-symbol">Babka:</span></span><span class="hljs-symbol"><span class="hljs-symbol">tyanem:</span></span> Arg (weight): <span class="hljs-number"><span class="hljs-number">185</span></span> [<span class="hljs-number"><span class="hljs-number">21</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">52</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">39.878</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:</span></span>[<span class="hljs-number"><span class="hljs-number">1</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:skazka</span></span>.<span class="hljs-symbol"><span class="hljs-symbol">Vorona:</span></span>&lt;init&gt;: {<span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">36</span></span> [<span class="hljs-number"><span class="hljs-number">21</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">52</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">39.878</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:</span></span>[<span class="hljs-number"><span class="hljs-number">1</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:skazka</span></span>.<span class="hljs-symbol"><span class="hljs-symbol">Vorona:</span></span>&lt;init&gt;: }<span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">36</span></span> [<span class="hljs-number"><span class="hljs-number">21</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">52</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">39.878</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:</span></span>[<span class="hljs-number"><span class="hljs-number">1</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:skazka</span></span>.<span class="hljs-symbol"><span class="hljs-symbol">Vorona:</span></span><span class="hljs-symbol"><span class="hljs-symbol">tyanem:</span></span> {<span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">38</span></span> [<span class="hljs-number"><span class="hljs-number">21</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">52</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">39.879</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:</span></span>[<span class="hljs-number"><span class="hljs-number">1</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:skazka</span></span>.<span class="hljs-symbol"><span class="hljs-symbol">Vorona:</span></span><span class="hljs-symbol"><span class="hljs-symbol">tyanem:</span></span> Arg (target):  [<span class="hljs-number"><span class="hljs-number">21</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">52</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">39.879</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:</span></span>[<span class="hljs-number"><span class="hljs-number">1</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:skazka</span></span>.<span class="hljs-symbol"><span class="hljs-symbol">Vorona:</span></span><span class="hljs-symbol"><span class="hljs-symbol">tyanem:</span></span> Arg (weight): <span class="hljs-number"><span class="hljs-number">175</span></span> [<span class="hljs-number"><span class="hljs-number">21</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">52</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">39.879</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:</span></span>[<span class="hljs-number"><span class="hljs-number">1</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:skazka</span></span>.<span class="hljs-symbol"><span class="hljs-symbol">Vorona:</span></span><span class="hljs-symbol"><span class="hljs-symbol">tyanem:</span></span> /<span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">39</span></span> [<span class="hljs-number"><span class="hljs-number">21</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">52</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">39.885</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:</span></span>[<span class="hljs-number"><span class="hljs-number">1</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:skazka</span></span>.<span class="hljs-symbol"><span class="hljs-symbol">Vorona:</span></span><span class="hljs-symbol"><span class="hljs-symbol">tyanem:</span></span> <span class="hljs-symbol"><span class="hljs-symbol">Throw:</span></span><span class="hljs-number"><span class="hljs-number">39</span></span>: java.lang.<span class="hljs-symbol"><span class="hljs-symbol">RuntimeException:</span></span>      at skazka.Vorona.tyanem(Repka.<span class="hljs-symbol"><span class="hljs-symbol">java:</span></span><span class="hljs-number"><span class="hljs-number">39</span></span>) at skazka.Babka.tyanem(Repka.<span class="hljs-symbol"><span class="hljs-symbol">java:</span></span><span class="hljs-number"><span class="hljs-number">32</span></span>) at skazka.Dedka.tyanem(Repka.<span class="hljs-symbol"><span class="hljs-symbol">java:</span></span><span class="hljs-number"><span class="hljs-number">26</span></span>) at skazka.Repka.main(Repka.<span class="hljs-symbol"><span class="hljs-symbol">java:</span></span><span class="hljs-number"><span class="hljs-number">11</span></span>) [<span class="hljs-number"><span class="hljs-number">21</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">52</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">39.885</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:</span></span>[<span class="hljs-number"><span class="hljs-number">1</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:skazka</span></span>.<span class="hljs-symbol"><span class="hljs-symbol">Vorona:</span></span><span class="hljs-symbol"><span class="hljs-symbol">tyanem:</span></span> }<span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">39</span></span> [<span class="hljs-number"><span class="hljs-number">21</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">52</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">39.886</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:</span></span>[<span class="hljs-number"><span class="hljs-number">1</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:skazka</span></span>.<span class="hljs-symbol"><span class="hljs-symbol">Repka:</span></span><span class="hljs-symbol"><span class="hljs-symbol">main:</span></span> /<span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">13</span></span> [<span class="hljs-number"><span class="hljs-number">21</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">52</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">39.890</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:</span></span>[<span class="hljs-number"><span class="hljs-number">1</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:skazka</span></span>.<span class="hljs-symbol"><span class="hljs-symbol">Repka:</span></span><span class="hljs-symbol"><span class="hljs-symbol">processError:</span></span> {<span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">20</span></span> [<span class="hljs-number"><span class="hljs-number">21</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">52</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">39.890</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:</span></span>[<span class="hljs-number"><span class="hljs-number">1</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:skazka</span></span>.<span class="hljs-symbol"><span class="hljs-symbol">Repka:</span></span><span class="hljs-symbol"><span class="hljs-symbol">processError:</span></span> Arg (ex): java.lang.<span class="hljs-symbol"><span class="hljs-symbol">RuntimeException:</span></span>      [<span class="hljs-number"><span class="hljs-number">21</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">52</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">39.891</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:</span></span>[<span class="hljs-number"><span class="hljs-number">1</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:skazka</span></span>.<span class="hljs-symbol"><span class="hljs-symbol">Repka:</span></span><span class="hljs-symbol"><span class="hljs-symbol">processError:</span></span> <span class="hljs-symbol"><span class="hljs-symbol">Return:</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> [<span class="hljs-number"><span class="hljs-number">21</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">52</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">39.891</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:</span></span>[<span class="hljs-number"><span class="hljs-number">1</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:skazka</span></span>.<span class="hljs-symbol"><span class="hljs-symbol">Repka:</span></span><span class="hljs-symbol"><span class="hljs-symbol">processError:</span></span> }<span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">20</span></span> [<span class="hljs-number"><span class="hljs-number">21</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">52</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">39.891</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:</span></span>[<span class="hljs-number"><span class="hljs-number">1</span></span>]<span class="hljs-symbol"><span class="hljs-symbol">:skazka</span></span>.<span class="hljs-symbol"><span class="hljs-symbol">Repka:</span></span><span class="hljs-symbol"><span class="hljs-symbol">main:</span></span> }<span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">16</span></span></code> </pre><br><br>  Each line of output is described in the following format. <br><pre> <code class="hljs markdown">[<span class="hljs-symbol"><span class="hljs-symbol"> </span></span>]:<span class="hljs-link"><span class="hljs-link">[ ]::: </span></span></code> </pre><br>  Where: <br>  current time - speaks for itself <br>  thread identifier - unique identifier of the stream, different streams - different numbers (1, 2, 3, 4, ...) <br>  package - namespace <br>  method - the name of the method in which the execution takes place <br>  additional information - depends on the situation <br><br>  Supported Trace Types: <br>  - input / output method <br><pre> <code class="hljs markdown">[<span class="hljs-symbol"><span class="hljs-symbol">21:52:39.861</span></span>]:<span class="hljs-link"><span class="hljs-link">[1]:skazka.Dedka:&lt;init&gt;: {:24 [21:52:39.862]:[1]:skazka.Dedka:&lt;init&gt;: }:24</span></span></code> </pre><br>  or <br><pre> <code class="hljs markdown">[<span class="hljs-symbol"><span class="hljs-symbol">21:52:39.890</span></span>]:<span class="hljs-link"><span class="hljs-link">[1]:skazka.Repka:processError: {:20</span></span></code> </pre><br><br>  - branching <br><pre> <code class="hljs markdown">[<span class="hljs-symbol"><span class="hljs-symbol">21:52:39.879</span></span>]:<span class="hljs-link"><span class="hljs-link">[1]:skazka.Vorona:tyanem: /:39</span></span></code> </pre><br>  - arguments (display of objects goes through toString ()) <br><pre> <code class="hljs css"><span class="hljs-selector-attr"><span class="hljs-selector-attr">[21:52:39.865]</span></span>:<span class="hljs-selector-attr"><span class="hljs-selector-attr">[1]</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:skazka.Dedka</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:tyanem</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">Arg</span></span> (<span class="hljs-selector-tag"><span class="hljs-selector-tag">target</span></span>):  <span class="hljs-selector-attr"><span class="hljs-selector-attr">[21:52:39.866]</span></span>:<span class="hljs-selector-attr"><span class="hljs-selector-attr">[1]</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:skazka.Dedka</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:tyanem</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">Arg</span></span> (<span class="hljs-selector-tag"><span class="hljs-selector-tag">weight</span></span>): 200</code> </pre><br>  -return values <br><pre> <code class="hljs css"><span class="hljs-selector-attr"><span class="hljs-selector-attr">[21:38:31.444]</span></span>:<span class="hljs-selector-attr"><span class="hljs-selector-attr">[1]</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:skazka.Repka</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:processError</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">Return</span></span>: 1</code> </pre><br>  - exceptions <br><pre> <code class="hljs css"><span class="hljs-selector-attr"><span class="hljs-selector-attr">[21:52:39.885]</span></span>:<span class="hljs-selector-attr"><span class="hljs-selector-attr">[1]</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:skazka.Vorona</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:tyanem</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">Throw</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:39</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">java</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.lang</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.RuntimeException</span></span>:      <span class="hljs-selector-tag"><span class="hljs-selector-tag">at</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">skazka</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.Vorona</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.tyanem</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">Repka</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.java</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:39)</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">at</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">skazka</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.Babka</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.tyanem</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">Repka</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.java</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:32)</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">at</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">skazka</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.Dedka</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.tyanem</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">Repka</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.java</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:26)</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">at</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">skazka</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.Repka</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.main</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">Repka</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.java</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:11)</span></span></code> </pre><br>  In general - everything you need to successfully understand the progress of the program. <br><br>  Practice analyzing the output in the above example (something may be intuitively not at all clear, but you quickly get used to it). <br><br>  An illustrative example of what the code turns into (how traces are arranged) can be found on the author‚Äôs page <a href="http://mchr3k.github.io/org.intrace/howintraceworks.html">mchr3k.github.io/org.intrace/howintraceworks.html</a> <br><br>  I also advise you to immediately pay attention to the very useful button "Filter ...", which helps to get rid of unnecessary garbage. <br><br>  The existing integration with Eclipse allows you to run a Java application with an agent already deployed in InTrace, configure tracing parameters and analyze the result of the work.  For more details see here <a href="http://mchr3k.github.io/org.intrace/eclipse.html">mchr3k.github.io/org.intrace/eclipse.html</a> <br><br>  <b>TOTAL</b> <br><br>  <b>Benefits:</b> <br>  1) Monitoring the progress of the program on the fly: <br>  - method calls, passed arguments, branches, generated exceptions, ... <br>  - without recompilation and even without restarting a running program <br>  2) Available code (OpenSource) <br>  3) Easy to set up and use. <br>  4) Cross-platform solution (Windows, Linux) <br>  5) Integration with popular development tools is possible (Eclipse, VisualVM) <br><br>  <b>Disadvantages:</b> <br>  1) Change byte code on the fly: <br>  - performance speed suffers (performance) <br>  - introduction of the agent ‚Äúmutates‚Äù the existing process and it will never be the same as before (you will not enter the river twice) <br>  - Modifications of the code bytes are ‚Äúas is‚Äù and, naturally, ‚Äúat your own peril and risk‚Äù <br>  2) There is no mass support - only one developer, but is compensated by the small size of the project and the availability of source codes.  I am glad that the last update in the repository was a couple of weeks from the publication of this post. <br>  3) The product is well tested on Java 1.6, but not tested on Java 1.7 (and there are problems with it, see the bug <a href="https://github.com/mchr3k/org.intrace/issues/28">github.com/mchr3k/org.intrace/issues/28</a> ).  As far as I understand, the author uses only 1.6, wrote ‚Äúfor himself‚Äù and not at all for commerce, so who needs a newer one, do not be lazy to take it and screw it up <br><br>  In conclusion: InTrace is an agent that definitely deserves to be met at a minimum, and perhaps it will become an indispensable tool for you, revealing the debugging of Java applications from a different angle, and, undoubtedly, will help someone more than once. <br><br>  Taking into account the comments and additions, I strive to unleash the power of InTrace (as well as a number of other interesting agents) in the JAVA hub and will be very grateful for the help. <br><br>  Thank you for your attention and be sure to share with those who may be interested! </div><p>Source: <a href="https://habr.com/ru/post/219661/">https://habr.com/ru/post/219661/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../219651/index.html">Rakes that are not worth stepping on</a></li>
<li><a href="../219653/index.html">As we were beaten by current on April 1</a></li>
<li><a href="../219655/index.html">Automate acceptance testing for Android applications using Calabash</a></li>
<li><a href="../219657/index.html">String theory for guitarists</a></li>
<li><a href="../219659/index.html">Review of the home robot ver 0.3</a></li>
<li><a href="../219665/index.html">Django BDD development</a></li>
<li><a href="../219669/index.html">How to get data on 5 million companies via the LinkedIn REST API or why it is better to allow OAuth to use Request Token only once</a></li>
<li><a href="../219673/index.html">Spreading the open innovation business model using the API</a></li>
<li><a href="../219675/index.html">The value of an online brand: case distributors and industrialists</a></li>
<li><a href="../219677/index.html">Edward Snowden used the TAILS distribution</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>