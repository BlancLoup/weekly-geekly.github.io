<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>A word about DSP Builder</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="To my surprise, I did not find a single article about DSP Builder on Habr√© (maybe I was looking bad?). And it‚Äôs strange, because DSP Builder is a real...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>A word about DSP Builder</h1><div class="post__text post__text-html js-mediator-article"> To my surprise, I did not find a single article about DSP Builder on Habr√© (maybe I was looking bad?).  And it‚Äôs strange, because DSP Builder is a real revolution in the field of FPGA construction almost unnoticed by anyone.  In my opinion, this situation was created for two reasons. <a name="habracut"></a><br><br>  The first is a somewhat contemptuous attitude of the harsh pleaters to this product.  For some reason, it is considered that DSP Builder is ‚Äúfor students‚Äù.  The situation is just like with Delphi.  Moreover, this attitude towards DSP Builder is especially unclear against the background of enthusiastic reviews in the direction of shells like Active HDL.  True, this may in part be apparently explained by the fact that it is quite rare for specialists to be well-versed in both pleus and signal processing.  Such experts are single and have three-digit sn.  The rest are either in one or the other.  And the first ones cannot understand why they need this ‚Äúbuilder‚Äù (and here‚Äôs some kind of Simulink!), And the second sculpt the algorithms and declare ‚Äúand their implementation is not my business!‚Äù (The real picture is from one well-known domestic office). <br><br>  The second reason is a bunch of three very heterogeneous programs and environments.  With the ensuing dancing with the incompatibility of versions and some completely strange inconsistencies.  Especially touches when DSP Builder does not notice the established Matlab point-blank, and at least what you are doing! 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      But the author himself found a very stable bundle.  Therefore, I will only talk about the version that comes with the 11.0th Quartus.  She, fortunately, finds without problems and clings to Matlab, dearly beloved by the author, version 7.9 (in the author's opinion, the best after the famous version 6.5).  After successful installation, two libraries should appear in Simulinka: Altera DSP Builder Blockset and Altera DSP Builder Advanced Blockset.  And the corresponding section in the Matlab help and examples links.  The examples, I must say, are very obvious and cover almost all typical tasks encountered in the plisovodam. <br><br>  If your DSP Builder was bundled with Quartus and before installing megafunctions (and this is probably the case), then megafunctions should be picked up.  We type the <b>alt_dspbuilder_setup_megacore</b> command in the <b>Matlab</b> command window and get: <br><br><img src="https://habrastorage.org/files/c3c/1cb/4ff/c3c1cb4fff8c4b5ab87d899e4ea23827.JPG">  " <br><br>  The team will definitely work with an error, this is due to the fact that an extremely limited number of megafunctions support (and at the same time correctly support) the clinging to Simulink.  Most likely, except for the six shown in Fig.  blocks, nothing else to pick up and fail.  If you still have the feeling that someone else supports Simulink, then you can simply manually transfer the files to the temporary directory from the &lt;where Quartus&gt; \ libraries subdirectory and run <b>alt_dspbuilder_setup_megacore</b> again and again.  There is a chance that something else clings. <br><br>  The use of these blocks is somewhat specific to the Simula.  The fact is that at the beginning Simulin does not know which parameters you would like to choose for the mega-function used, so at first it will look like a ‚Äúblack box‚Äù in your model: <br><img src="https://habrastorage.org/files/dbe/56e/7ea/dbe56e7ea6824208900399e9a674339f.JPG"><br>  After that, you click on it and the standard configuration window for this mega-function drops out, which you saw a hundred times in the Mega Wizard Plug-In Manager.  But now, after selecting the parameters, ‚ÄúManager‚Äù knows that you also want to generate files for Simula.  And, about a miracle, now your block becomes a normal simulinkovsky block: <br><img src="https://habrastorage.org/files/add/71a/4f6/add71a4f6f354a0b9774888febe10522.JPG"><br>  DSPbuilder initially supports a certain number of ‚Äústarter whales‚Äù.  This support boils down to the fact that DSPbuilder ‚Äúknows‚Äù where you have connected lights, where are the buttons, and where (even!) Hangs sma.  To the surprise of the author, there is even a familiar 4th Stratix board in the list.  But the list is extremely limited.  For example, the author is currently working with a DE2-115 board with a stone from the Cyclone IVE series.  And she, alas, this version is not supported. <br><br><img src="https://habrastorage.org/files/4b5/079/877/4b50798778f3415096653e562c0d9513.JPG"><br><br>  The question arises: is it possible to add a description of your board with your hands?  We will answer.  Well, first of all, nobody needs it.  And, secondly, it is done very simply. <br><br>  We climb into the &lt;where_DSPbuilder&gt; \ lib \ boardsupport \ boards directory and see files with the .board extension.  Next, copy any of the files that describes the most related to us fee (in my case - this is Cyclone_III_EP3C120.board), open and edit it.  The file format is so clear that it is even funny.  But if it is still not clear, then open the DSP Builder Handbook, Volume 2: DSP Builder Standard Blockset p.137 and read. <br><br>  Despite the fact that everything is clear, the description of the new board must be done very carefully, so that later not scribbling messages in conferences like: ‚Äúhelp, dspbuilder gives an error ...‚Äù.  You can even change the board image in the same directory.  Next, you need to inform DSPbuilder of the new board.  This is done by the <b>alt_dspbuilder_createComponentLibrary</b> command.  After it has been worked out (and it will probably fly out with an error, but you need to score for it), you will happily see your board in the ‚Äúlibraries‚Äù sub-library.  By the way, in a similar way a new binary component can be screwed to the board.  For example, a non-standard indicator, joystick button, rail switch, external bus, etc. <br><br>  The main advantage of DSP Builder is not only the preparation of projects for FPGAs, but also the ability to upload and check them in the ‚Äúlive gland‚Äù without leaving Simulink.  The method of preparing the initial contents of the RAM and ROM directly from the Matlab variables, and not with the help of crookedly written utilities, confusing to the bit depths and encodings, also relates to this.  And, not least, check the work of the project using the very convenient graphical toolkit Simulinka, rather than scribbling text "workbenches" on dozens of pages for the constantly falling "Modelsima" (although this is possible in DSP Builder'e). <br><br>  DSP Builder offers two tools for testing.  The first is ‚ÄúHIL‚Äù (Hardware-in-the-loop, which in Russian can be translated as ‚Äúreal hardware inside the model‚Äù).  Here, you must first assemble a project of the system under study, and then create a ‚Äúcovering‚Äù model, where your system will be a HIL-subsystem, separated from the model space by inputs and outputs, input and output, respectively.  It sounds difficult, but open the FreqSweep example from the Tutorials and everything will become clear. <br><br><img src="https://habrastorage.org/files/caf/38a/064/caf38a064a2c440b8dd7b1089c921e76.JPG"><br><br>  By the way, some pleasovods think that HIL uses SignalTap.  Actually, SignalTap has nothing to do with the HIL methodology.  But SignalTap can also be used with DSP Builder, and this is the second way.  In order to enable SignalTap, you need to use the ‚ÄúSignalTap II Logic Analyzer‚Äù block from the ‚ÄúAltLab‚Äù library.  There is a limitation when using SignalTap - only one clock signal (the rest are perceived as normal inputs).  But, frankly, how often do we use several clock regions in SignalTap? <br><br>  Regarding the optimality of the generated code.  DSPbuilder is, in essence, a translator from Simulink's graphics to the selected HDL code.  Open the generated project and see the main file.  You will see that DSPbuilder simply verbally "described" the connection of blocks in your simulinkovsky project.  Similarly, you would have done when manually transferring to the HDL code.  It follows that the level of optimality of the project depends only on you.  Use mega-function for, for example, CIC-filter - one result, too lazy to read the description, or do not want to get involved in commercial bark and decide to write with your hands - another result.  All the same! <br><br>  In conclusion, briefly about connecting their blocks.  As the author mentioned at the beginning, in his opinion DSPbuilder is a revolution unnoticed by anyone.  A good tone, therefore, is considered a style when you don‚Äôt crawl out of DSPbuilder at all and gradually forget that there are any AHDLs and Verilogs, Quartuses and Synplicity.  With such an approach, in theory, even <s>miserable</s> mathematicians will be able to create the firmware (and in our case, the leaders of IT firms stubbornly believe that only people after Math must work on algorithms, although, according to the author‚Äôs experience, mathematicians are never able to algorithms!), which the chips only in the picture before seen. <br><br>  By the way, DSPbuilder allows you to completely control the project settings from the Simulin frame.  For this, there are corresponding blocks in the AltLab sub-library.  From DSPbuilder, you can work perfectly with SOPC Builder (well, if someone likes to insert a processor with very little features into an expensive plisin).  But, the author hears the right question: how can one not leave the environment at all, when, after all, we need to dock with the outside world?  With the same Ethernet Ethernet, com-port, etc.  etc.  In fact, for this you need to write the corresponding component yourself.  Here you can act in three ways. <br><br>  The first, the most difficult and almost impracticable, is to create your own mega-function, go through the IP Certifications process (in my opinion not for free, who knows, correct), and then read above.  By the way, not such a fantastic way.  The author spent some time creating a new mega-function for one of the CAD manufacturers for FPGAs.  But then you only have to do this and nothing else. <br><br>  The second way is to write a new block using Simula.  But, a true pleisovod sniffs contemptuously at such a method. <br><br>  Well, the third way is to drag your HDL code into the framework of Simulink.  For this case in the DSPbuilder'e block provides ¬´HDL Import¬ª.  This is a whole process that the author can describe later in a separate post, but this is the most realistic way that, believe me, it‚Äôs worth spending time once. </div><p>Source: <a href="https://habr.com/ru/post/238821/">https://habr.com/ru/post/238821/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../238809/index.html">20 ways to scam when buying an iPhone</a></li>
<li><a href="../238813/index.html">LOTSMAN: We write our WorkFlow configurator. Start</a></li>
<li><a href="../238815/index.html">Windows 10 from Microsoft, new Google requirements for device manufacturers, new mobile advertising opportunities - and other news of the week for mobile developers</a></li>
<li><a href="../238817/index.html">Lenovo Yoga 13 + Comodo Firewall ‚â† <3</a></li>
<li><a href="../238819/index.html">Asterisk Callback, or how to make cheap calls</a></li>
<li><a href="../238823/index.html">How to withdraw Yandex-money to a free card of Sberbank</a></li>
<li><a href="../238825/index.html">How can a programmer draw a logo without knowing how to draw?</a></li>
<li><a href="../238829/index.html">Modular smartphone ‚ÄúProject Ara‚Äù: new details from Google</a></li>
<li><a href="../238831/index.html">Transferring files to an isolated DOS-based virtual machine using the ... keyboard</a></li>
<li><a href="../238835/index.html">Wi-Fi on the passport will be only for paid access points</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>