<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Introduction to ASP.NET MVC 4 New Features</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This article describes the new features of the ASP.NET MVC 4 web framework presented in the first Developer Preview version. 

 Mobile web 
 One of th...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Introduction to ASP.NET MVC 4 New Features</h1><div class="post__text post__text-html js-mediator-article">  This article describes the new features of the ASP.NET MVC 4 web framework presented in the first Developer Preview version. <br><br><h4>  Mobile web </h4><br>  One of the most stable and gaining trends in modern development is the trend of the mobile web.  Having a mobile version of the site is no longer just an offer of convenient access for some users, but a means of making money and expanding the audience. <br><br>  That is why in ASP.NET MVC 4 great emphasis is placed on the provision of special features to the developer who wants to make a mobile version of the site. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  Mobile site - two approaches </h5><br>  When creating a mobile version of the site, you can use two approaches: <br><ul><li>  create a separate mobile version of the site; </li><li>  add the main site the ability to display correctly on mobile devices (adaptive markup). </li></ul>  Both approaches found their support in ASP.NET MVC 4. <br><br><a name="habracut"></a><h5>  Mobile Site Template </h5><br>  A new special project template for a mobile site has been added to ASP.NET MVC 4, you can use it to create a separate version of the site that will work on mobile devices (Figure 1). <br><br><img title="image" alt="image" src="https://habrastorage.org/getpro/habr/post_images/9bb/18a/eff/9bb18aeff816896b9db2bf303c49bf92.png" width="534" height="480"><br>  Fig.1.  New mobile site template <br><br>  After creating a project based on the new template and launching it, you can see the characteristic mobile view in the browser (Figure 2). <br><br><img title="image" alt="image" src="https://habrastorage.org/getpro/habr/post_images/881/976/19b/88197619bbc3a5b770da1e3cafee93b1.png" width="550" height="298"><br>  Fig.  2. Presentation of the mobile site <br><br>  However, all the functionality of the standard template is still available: authorization, demo pages, and validation for errors.  The interface of the new view is based on the jQuery Mobile JavaScript library, which is now included in ASP.NET MVC. <br><br>  Using the new template, you can easily create a separate mobile version for your site. <br><br><h5>  Adaptive Markup and New Default Template </h5><br>  The second option to create a mobile version of the site is the use of adaptive markup, which changes the presentation depending on the screen resolution.  In ASP.NET MVC 4, the standard default web application template has been updated, which already uses an adaptive layout (Figure 3). <br><br><img title="image" alt="image" src="https://habrastorage.org/getpro/habr/post_images/5d5/f65/c2e/5d5f65c2e7cf6a592cec95f43ad0941e.png" width="484" height="480"><br>  Fig.  3. New default application pattern <br><br>  In addition to the updated appearance, which became more attractive in the template, an adaptive rendering approach was used.  The idea of ‚Äã‚Äãadaptive rendering is as follows: as the resolution changes, the appearance of the page adjusts to the free space, displaying only those elements that make sense (Figure 5). <br><br><img title="image" alt="image" src="https://habrastorage.org/getpro/habr/post_images/853/794/6db/8537946db8392964ee04c6ccaefe9350.png" width="409" height="406"><br><img title="image" alt="image" src="https://habrastorage.org/getpro/habr/post_images/77e/7a3/adb/77e7a3adb82f43d4861d9582851ecffd.png" width="382" height="406"><br><img title="image" alt="image" src="https://habrastorage.org/getpro/habr/post_images/689/96a/788/68996a788ed3bcd6cb037347c33cae0f.png" width="178" height="406"><img title="image" alt="image" src="https://habrastorage.org/getpro/habr/post_images/d7e/915/f08/d7e915f08f351cca07f0f74741cfa7de.png" width="218" height="406"><br>  Fig.  5. Adaptive Markup <br><br>  Pay attention to these images.  When reducing the resolution, the markup adjusts to the new screen parameters and, for example, hides unnecessary design elements, changes the location of the elements and key menu items.  At low resolutions, the markup is formed in such a way that important content occupies the entire usable area available for display. <br><br>  The adaptive markup in the ASP.NET MVC 4 project is based on the new HTML5 and CSS3 standards, in particular, on the CSS3 Media Queries standard, which allows you to define different CSS rules for specific conditions, for example, different resolutions.  Here‚Äôs how it works: in the Site.css style definition file you can find the following code: <br><br><pre><code class="css hljs">@<span class="hljs-keyword"><span class="hljs-keyword">media</span></span> only screen and (max-width: <span class="hljs-number"><span class="hljs-number">850px</span></span>) { <span class="hljs-selector-tag"><span class="hljs-selector-tag">header</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.float-left</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">header</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.float-right</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">float</span></span>: none; } ‚Ä¶</code> </pre> <br>  The <a href="https://habrahabr.ru/users/media/" class="user_link">media</a> construct defines a rule that will use nested markup when the condition is met.  In this case, the condition is the use of displays and the size of the displayed window is up to 850 pixels.  Using a similar mechanism and setting the rules, you can react very flexibly to different conditions of displaying your site.  In addition, a meta tag is defined in the _Layout.cshtml build file: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"viewport"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"width=device-width"</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  which tells the browser to adjust the content to the width of the screen. <br><br>  In addition to adaptive markup, the updated application template uses other new standards, such as CSS Gradients. <br><br>  Another change in the web application template was the introduction of support for window forms for login and registration views (Figure 6). <br><br><img title="image" alt="image" src="https://habrastorage.org/getpro/habr/post_images/e76/51a/468/e7651a468914c47e211f05a5e3d3c587.png" width="550" height="471"><br>  Fig.  6. Registration form window <br><br>  This functionality is noteworthy because with browser support, the browser prompts the user to use a form in the form of a pop-up window, and if there are no scripts, it automatically takes the user to a separate page for logging (Figure 7). <br><br><img title="image" alt="image" src="https://habrastorage.org/getpro/habr/post_images/bd0/b1f/465/bd0b1f46594253529930b8fe1a452a7c.png" width="550" height="471"><br>  Fig.  7. Separate page of registration form <br><br>  This functionality is implemented using a new script file AjaxLogin.js, included in the project.  The windows of the forms themselves are built on the functionality of the jQuery UI library, which is included in the project by default. <br><br><h5>  Display modes </h5><br>  Earlier, we only talked about changes in project templates.  In addition to these innovations in ASP.NET MVC 4, a new functionality was added at the level of the framework itself, designed to simplify the work of the site with mobile devices. <br><br>  The new display mode feature (Display Modes) allows an application to select views based on the type of browser that requested the page.  For example, if the desktop browser requests the Home page, then the web application can return the usual Index view, which is based on the Views \ Home \ Index.cshtml template.  Upon request from the browser, the site will be able to return a special mobile presentation based on the Views \ Home \ Index.mobile.cshtml template. <br><br>  This functionality works automatically, it is enough to define an additional template with the * .mobile.cshtml postfix and it will be used for mobile clients.  Similarly, you can determine the mobile version of _Layout.cshtml - _Layout.mobile.cshtml and the mobile versions of partial views: _MyPartial.cshtml - _MyPartial.mobile.cshtml. <br><br>  The beauty and power of the new functionality lies in the possibility of expanding and fine-tuning for specific mobile devices, mobile OS, any other conditions.  You can register your instance of <em>DefaultDisplayMode</em> by specifying the name that will be used in the name of the view and the condition that this view will be selected. <br><br>  For example, you can add the following code in <em>Application_Start</em> in the Global.asax file: <br><br><pre> <code class="hljs javascript">DisplayModes.Modes.Insert(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DefaultDisplayMode(<span class="hljs-string"><span class="hljs-string">"iPhone"</span></span>) { ContextCondition = (<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">context</span></span></span><span class="hljs-function"> =&gt;</span></span> context.Request.UserAgent.IndexOf (<span class="hljs-string"><span class="hljs-string">"iPhone"</span></span>, StringComparison.OrdinalIgnoreCase) &gt;= <span class="hljs-number"><span class="hljs-number">0</span></span>) });</code> </pre><br>  This code defines a new type of view ‚ÄúiPhone‚Äù and indicates the condition when such a view should be used: when the user‚Äôs client agent string contains the string ‚ÄúiPhone‚Äù, which indicates the user's use of the iPhone mobile phone.  If this condition is met, the Views \ Shared \ _Layout.iPhone.cshtml view will be used. <br><br>  You can build a much more complicated condition for determining which particular representation you should use for a particular query.  Now it becomes much easier to customize your site for different devices and mobile operating systems. <br><br><h5>  Switching display modes </h5><br>  A useful feature of a mobile site is the ability to switch to a standard desktop view, in cases where the user lacks the functionality of a mobile site.  Sometimes there can be another situation where the user chooses to work in the mobile version instead of the standard one. <br><br>  To provide such a function in ASP.NET MVC 4, a new mechanism was introduced to obtain information about the current request context: whether it is standard or redefined.  Now the HttpContext property contains a number of new methods: <br><br><ul><li>  <code>HttpContext.SetOverriddenBrowser(userAgentString)-</code> overrides the current browser agent string with a new value; </li><li>  <code>HttpContext.GetOverriddenUserAgent()-</code> returns the initial or current value of the browser agent string, if there were no overrides; </li><li>  <code>HttpContext.GetOverriddenBrowser() ‚Äì</code> returns an instance of <em>HttpBrowserCapabilitiesBase</em> that matches the current value of the browser agent string (real or overridden); </li><li>  <code>HttpContext.ClearOverriddenBrowser()</code> - allows you to clear all overrides. </li></ul>  The override mechanism uses cookies to save on the client side the type of view that is selected.  Like almost all other parts of the framework, you can replace the storage provider of the presentation type through its functionality.  To do this, you just need to override the provider and replace the <em>BrowserOverrideStores.Current</em> value <em>with</em> your own instance <em>.</em> <br><br><h4>  Recipes </h4><br>  Recipes are a new opportunity to expand the functions of Visual Studio and your projects for common tasks: code generation, form creation, scaffolding. <br><br>  Consider how recipes work on a simple example.  Create a project based on ASP.NET MVC 4 and install the MvcHaack.ViewMobilizer package using the NuGet package manager.  This package contains a recipe for automatically generating mobile views for all or selected views of your site. <br><br>  After installing the package, in the context menu of the Views folder, select Add - Run Recipie (Figure 8). <br><br><img title="image" alt="image" src="https://habrastorage.org/getpro/habr/post_images/676/95d/96b/67695d96b3482f301231a57d979a3853.png" width="550" height="281"><br>  Fig.  8. Run recipe <br><br>  You will see a window with a selection of recipes installed in the project (Figure 9). <br><br><img title="image" alt="image" src="https://habrastorage.org/getpro/habr/post_images/a13/a31/e07/a13a31e07cac256ae49b229fcd1e21aa.png" width="483" height="412"><br>  Fig.  9. Recipe Selection Window <br><br>  Select the recipe View Mobilizer and click OK.  The internal recipe mechanism will be launched, which will display its own form allowing you to select views for creating their mobile versions (Figure 10). <br><br><img title="image" alt="image" src="https://habrastorage.org/getpro/habr/post_images/74a/0d5/f25/74a0d5f2527ca13490bdeed3de768441.png" width="407" height="386"><br>  Fig.  10. Recipe Created Window <br><br>  Select the desired views and click Mobilize!  You can specify the necessary postfix if you create views for your own display modes (for example, iPhone).  The recipe will automatically create the necessary files and add them to the project (Figure 11). <br><br><img title="image" alt="image" src="https://habrastorage.org/getpro/habr/post_images/dd2/c28/2f5/dd2c282f5795e0d719dfb929ce52909c.png" width="277" height="371"><br>  Fig.  11. Recipe files <br><br><h5>  How recipes work </h5><br>  A recipe is a class library that contains a specially created recipe class and the necessary dialog boxes for specifying the recipe operation parameters. <br><br>  Recipes can be of a different type, but all of them must implement one of the interfaces: IRecipe, IFolderRecipe, IFileRecipe, which are defined in the new Microsoft.VisualStudio.Web.Mvc.Exhibition namespace. <br><br>  The recipe class must be the exported type of the MEF framework, that is, it must be marked with the [Export (typeof (IRecipe))] attribute.  Below is the recipe class View Mobilizer created by Phil Haack: <br><br><pre> <code class="hljs cs">[<span class="hljs-meta"><span class="hljs-meta">Export(typeof(IRecipe))</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">ViewMobilizerRecipe</span></span> : <span class="hljs-title"><span class="hljs-title">IFolderRecipe</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Execute</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ProjectFolder folder</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> model = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ViewMobilizerModel(folder); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> form = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ViewMobilizerForm(model); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> result = form.ShowDialog(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (result == DialogResult.OK) { <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> view <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> model.SelectedViews) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> file = view.Item1; <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> mobileFileName = view.Item2; File.Copy(file.FullName, mobileFileName); folder.DteProjectItems.AddFromFile(mobileFileName); } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">IsValidTarget</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ProjectFolder folder</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Description { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"A package for creating display mode views."</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Icon Icon { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Resources.ViewMobilizer; } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Name { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"View Mobilizer"</span></span>; } } }</code> </pre><br>  Recipes are a powerful new tool that integrates into projects with the help of the NuGet package manager and allows you to accumulate practices for code generation and other routine tasks.  Over time, thanks to the community and NuGet recipes will be set. <br><br><h4>  Async support for asynchronous controllers </h4><br>  The ability to create asynchronous controllers appeared in ASP.NET MVC for a long time.  In the new version of the framework, this feature can be used on the basis of powerful asynchronous innovations of the new version of C #. <br><br>  Now you can write your method in an asynchronous controller as follows: <br><br><pre> <code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">async</span></span></span><span class="hljs-function"> Task&lt;ActionResult&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Index</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> city</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> newsService = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> NewsService(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> sportsService = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SportsService(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> View(<span class="hljs-string"><span class="hljs-string">"Common"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PortalViewModel { NewsHeadlines = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> newsService.GetHeadlinesAsync(), SportsScores = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> sportsService.GetScoresAsync() }); }</code> </pre><br>  Note the use of new async and await language constructs.  They allow this code to execute the <em>newsService.GetHeadlinesAsync</em> and <em>sportsService.GetScoresAsync methods</em> asynchronously. <br><br>  In addition to direct support for asynchronous extensions, the framework adds support for asynchronous extension timeouts and the ability to cancel the execution of an asynchronous operation.  To determine the timeout of an asynchronous action in the controller, it is necessary to mark it with a new attribute AsyncTimeout: <br><br>  [AsyncTimeout (2500)] <br><br>  To display a special view after the timeout expires, use the HandleError attribute: <br><br>  [HandleError (ExceptionType = typeof (TaskCanceledException), View = "TimedOut")] <br><br>  After the timeout expires, the client will be shown a TimeOut view. <br><br><pre> <code class="hljs cs">[<span class="hljs-meta"><span class="hljs-meta">AsyncTimeout(2500)</span></span>] [HandleError(ExceptionType = <span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(TaskCanceledException), View = <span class="hljs-string"><span class="hljs-string">"TimedOut"</span></span>)] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">async</span></span></span><span class="hljs-function"> Task&lt;ActionResult&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Index</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> city, CancellationToken cancellationToken</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> newsService = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> NewsService(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> sportsService = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SportsService(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> View(<span class="hljs-string"><span class="hljs-string">"Common"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PortalViewModel { NewsHeadlines = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> newsService.GetHeadlinesAsync(cancellationToken), SportsScores = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> sportsService.GetScoresAsync(cancellationToken) }); }</code> </pre><br>  In addition, you can define a special parameter of type CancelationToken to add the ability to cancel the execution of an asynchronous operation (example above). <br><br><h4>  Conclusion </h4><br>  Innovations in ASP.NET MVC 4 presented in the first Developer Preview version demonstrate the willingness of developers to respond to modern requests facing web development and offer simple ways to create mobile website views and simplify work with many mobile devices. <br><br>  On the other hand, recipes make it possible to expand the functionality of projects and Visual Studio in a new way based on the familiar MEF and NuGet mechanisms. <br><br>  Finally, support for asynchronous innovations of the C # 5 language for creating asynchronous controllers and actions will significantly simplify the creation of complex and scalable web applications. <br><br>  We reviewed the innovations of the first only preliminary version of the framework.  It can be expected that in future versions ASP.NET MVC 4 developers will get even more features and functions. </div><p>Source: <a href="https://habr.com/ru/post/132729/">https://habr.com/ru/post/132729/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../132723/index.html">Panasonic KX-TGP500 DECT</a></li>
<li><a href="../132725/index.html">Coin keeper. C # iPhone Application</a></li>
<li><a href="../132726/index.html">Manage a large group of hosts using http requests</a></li>
<li><a href="../132727/index.html">Materialized views as a means of controlling data integrity.</a></li>
<li><a href="../132728/index.html">A practical example of using Backbone</a></li>
<li><a href="../132730/index.html">Slowly but surely Cleverbot bypasses Suzette</a></li>
<li><a href="../132731/index.html">SMS templates for programmers</a></li>
<li><a href="../132733/index.html">Project Moonshot: 2800 servers in one rack</a></li>
<li><a href="../132734/index.html">‚ÄúWhite‚Äù hackers and CTF</a></li>
<li><a href="../132735/index.html">What is TYPO3 and what is it eaten with?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>