<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Android: [DirectoryBind] A simple way to link an external sd card and internal memory to make room</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="At once I will make a reservation that it will not be about programs like link2sd. The principle is similar, but we will not link the program director...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Android: [DirectoryBind] A simple way to link an external sd card and internal memory to make room</h1><div class="post__text post__text-html js-mediator-article"> At once I will make a reservation that it will not be about programs like link2sd.  The principle is similar, but we will not link the program directories, but the data directories of these programs, for example <code>/sdcard2/Navigon -&gt; /sdcard/Navigon</code> or <code>/mnt/extSdCard/Books -&gt; /sdcard/Books</code> , etc. <br>  In addition, we need a <a href="https://habr.com/post/114645/">root</a> (where do without it).  By the way, after I learned about this program, this is another argument for root for me. <br><br>  Many owners of Android smartphones or tablets with a small built-in memory probably faced the following problem: a large sd card was inserted (for example, 16, 32 or even 64 GB), but after installing several heavy programs our device or another program with arrogance declares that it‚Äôs not Enough space.  Sometimes the program itself is small, but after installation it climbs the Internet and pulls gigabytes of data onto a smartphone. <br>  Once again, having received the message ‚ÄúNo place‚Äù and looking at the card we see that it is practically empty, but the internal memory of the device is packed to capacity. <br>  This is because internal memory is often used as the default directory for many programs.  The fact is that it is mounted as <code>/sdcard</code> , which historically has always been an external sd card (it used to be on all smartphones before).  The external sd card is mounted in this case as <code>/sdcard2</code> , <code>/mnt/sdcard2</code> , <code>/mnt/extSdCard</code> or even <code>/sdcard/.externalSD</code> .  I understand that this is done by the manufacturers so that the device works out of the box, i.e.  completely without sd card. <br><br>  Many "unscrupulous" programs always want to read / write data from / to the <code>/sdcard/</code> directory <code>/sdcard/</code> .  Rarely, this can be changed in the program settings. <br>  As a result, we have what we have, and several opportunities to correct the situation: <ul><li>  remount directories: external sd card to <code>/sdcard</code> , and internal to <code>/sdcard2</code> (you need <code>/sdcard2</code> , if not in the settings).  In my opinion is not a flexible way, because  now the internal memory is dead we have.  Another disadvantage of this method is the <a href="https://habr.com/ru/post/169965/">speed of the system</a> . <br>  If you still decide to go this way, <a href="https://habr.com/ru/post/169965/">below</a> I added how this can be done. </li><li>  create a symbolic link to external directories as we need, for example <br>  <code>ln -sf /mnt/externalSD/Books /sdcard/Books</code> . <br>  It does not work if the file system does not support simlink (for example, fat). </li><li>  when downloading android mount external directories to internal memory using something like <br> <code>mount -o bind /mnt/externalSD/Books /sdcard/Books</code> <br>  and add it to autoload, for example using <a href="https://play.google.com/store/apps/details%3Fid%3Dnk.bla.android.autostart">Autostart (root)</a> , so that this happens automatically when you turn on or after rebooting the device. </li></ul><br>  The last two methods are also not a panacea, because  they require certain skills from the user, besides they are not sufficiently ‚Äúclean‚Äù, for example, problems are known when connecting a smartphone to a computer via usb (not unmounted), etc. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a>  The <a href="http://forum.xda-developers.com/showthread.php%3Ft%3D1410262">DirectoryBind</a> program will help to correct the situation, which a good person slig from xda wrote for himself and posted on the forum for general use. <br><div class="spoiler">  <b class="spoiler_title">QR code</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/geektimes/post_images/7af/b6b/5ae/7afb6b5aefd3f9fbda67b40cf7cd8879.png" alt="QR-image"></div></div><br>  Although the audience here is technically savvy, but for inexperienced Habr readers, you need to make a couple of explanations.  As he himself wrote (the program is not idiot-proof), i.e.  hardly pass the test for a fool. <br><br>  After installation, run the program (for the first time, naturally, we allow Root rights forever), press the menu then ‚ÄúPreferences‚Äù and set the default paths to the external memory ‚ÄúDefault data path‚Äù for example <code>/sdcard/external_sd/</code> and the internal memory ‚ÄúDefault target path‚Äù <code>/sdcard/</code> .  Exit the menu. <br><br>  Click the menu, then "Add new entry" <br><img src="https://habrastorage.org/storage2/e68/da5/3d3/e68da53d3f9e7f92bda2daf462aee718.jpg" alt="screenshot"><br><br>  Now create a new directory link, for example, transfer the <code>CamScanner</code> folder to an external map.  A long press on the folder path opens a small built-in file manager in which you can create and / or select a folder.  A folder on the external map must be created (and empty). <br><img src="https://habrastorage.org/storage2/af6/a49/dd5/af6a49dd5a53b1ef92cb304a3483021f.jpg" alt="screenshot"><br><br>  By checking the ‚ÄúTransfer files from target to data‚Äù checkbox, the files and folders will be transferred from the <code>/sdcard/CamScanner/</code> directory to the <code>/sdcard/external_sd/CamScanner</code> . <br><img src="https://habrastorage.org/storage2/34b/cbd/b8b/34bcbdb8bbf7edc259765fcb9c70e7b2.jpg" alt="screenshot"><br><br>  It should be noted that the links after creation are not activated automatically (gray diskette icon, as in the screenshot below for gameloft).  To complete the binding of folders, select the necessary connections with the checkboxes and press the menu -&gt; ‚ÄúBind checked‚Äù.  Icons for active (linked) folders should turn green. <br><img src="https://habrastorage.org/storage2/c2a/2cb/670/c2a2cb670514c789122a296cb1bc1ea7.jpg" alt="screenshot"><br><br>  By the way, if you want to attach the entire external card, I fully recommend that you do it wrong <code>/sdcard/externalSD/</code> , but with a dot in front of <code>/sdcard/.externalSD/</code> .  It will save you from such troubles as double thumbnails in galleries, etc.  The truth will not help for all galleries and players, because  some are looking for media and hidden directories. <br>  Having suffered, I decided for myself to link only individual directories. <br><br><a name="slow"></a>  UPD.  By the way, the external SD card is much slower than the internal memory, so the transfer of program data to an external SD naturally slows down the work of this program.  This is especially necessary to remember those who decide to completely change the mount points of the internal and external memory, because  Most likely your entire device will run slower than before. <br><br>  I hope this program will complement your piggy bank of useful utilities for android devices. <br><br><a name="change_int_ext"></a><hr>  If you do decide to swap the internal and external memory, i.e.  To reassign the external sd card to <code>/sdcard</code> and in the device settings there is no such option - having a root, this can be easily done by performing the following operation: <br>  In the Root-Explorer we mount "/ etc" as R / W (if R / O), find the file "/etc/vold.fstab", save the copy and open it (with a long click) with it in the Text Editor. <br>  In the following two lines we change the name of the mount points in places: <pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">dev_mount</span></span> sdcard /mnt/sdcard emmc<span class="hljs-variable"><span class="hljs-variable">@fat</span></span> /devices/platform/goldfish_mmc.<span class="hljs-number"><span class="hljs-number">0</span></span> ... dev_mount sdcard /mnt/external_sd auto /devices/platform/goldfish_mmc.<span class="hljs-number"><span class="hljs-number">1</span></span> ...</code> </pre>  on <pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">dev_mount</span></span> sdcard /mnt/external_sd emmc<span class="hljs-variable"><span class="hljs-variable">@fat</span></span> /devices/platform/goldfish_mmc.<span class="hljs-number"><span class="hljs-number">0</span></span> ... dev_mount sdcard /mnt/sdcard auto /devices/platform/goldfish_mmc.<span class="hljs-number"><span class="hljs-number">1</span></span> ...</code> </pre><br>  You can read more <a href="http://www.droidiser.com/2012/11/swap-internal-sdcard-external-mod-android.html">here</a> .  They also offer, as an alternative, to use another interesting program <a href="https://play.google.com/store/apps/details%3Fid%3Deu.codlab.int2ext">Root External 2 Internal SD</a> . <br>  I will add that in both cases, before switching, you need to copy the entire contents of the <code>/sdcard</code> folder to an external sd card. <br>  Remember that after switching, your entire system may run <a href="https://habr.com/ru/post/169965/">slower</a> than before. <br>  <b>Be careful</b> - you need to understand that everything you do under the root, you do at your own peril and risk, and for example saving the wrong ‚Äúvold.fstab‚Äù can make it impossible to load the device and for treatment you will need to be loaded into the recovery and edit ‚Äúvold. fstab ‚Äùis already there. <br><br>  This method can be used in conjunction with DirectoryBind, only now the other way around is the ‚ÄúDefault target path‚Äù (/ sdcard) and all links created in DirectoryBind will point to an external map. </div><p>Source: <a href="https://habr.com/ru/post/169965/">https://habr.com/ru/post/169965/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../169949/index.html">Interview for junior position. Antipertenants interviewing</a></li>
<li><a href="../169953/index.html">How to secure yourself on Facebook</a></li>
<li><a href="../169957/index.html">Who writes WebKit?</a></li>
<li><a href="../169959/index.html">WebSockets support added to trunk nginx</a></li>
<li><a href="../169961/index.html">Employment portals: an unexpected marketing tool</a></li>
<li><a href="../169967/index.html">Homemade IR Remote for iRobot Roomba</a></li>
<li><a href="../169969/index.html">Facebook as an important tool for promoting mobile applications</a></li>
<li><a href="../169975/index.html">Dell's All-Russian IT Solutions Forum: registration is open!</a></li>
<li><a href="../169977/index.html">I invented Erlang because it did not exist.</a></li>
<li><a href="../169979/index.html">Sony Xperia Tablet Z</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>