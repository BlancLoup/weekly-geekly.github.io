<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Introduction to Angular Modules - Root Module</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Note Translation: To understand this article, you must have basic knowledge of Angular: what are components, how to create a simple SPA application, e...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Introduction to Angular Modules - Root Module</h1><div class="post__text post__text-html js-mediator-article"><p>  <em>Note</em>  <em>Translation: To understand this article, you must have basic knowledge of Angular: what are components, how to create a simple SPA application, etc.</em>  <em>If you are not familiar with this topic, then I recommend first to get acquainted with the <a href="https://angular.io/tutorial">example of creating a SPA application</a> from the office.</em>  <em>documentation.</em> </p><br><h2 id="vstuplenie">  Introduction </h2><br><p> <code>@NgModule</code> is a <a href="http://www.typescriptlang.org/docs/handbook/decorators.html">decorator</a> added to Angular 2. From the <a href="https://angular.io/guide/ngmodules">official documentation,</a> it follows that <code>@NgModule</code> defines a class as an Angular module.  Angular modules help break an application into parts (modules) that interact with each other and ultimately represent a holistic application.  In other words, a module is a package or encapsulation of a part of the application functional.  Modules can be designed for reuse, i.e.  independent of the specific implementation of the application. </p><a name="habracut"></a><br><p>  <strong>Please note</strong> that if you want to implement <a href="https://en.wikipedia.org/wiki/Lazy_loading">lazy load</a> in your application, then you need to use the concept of Angular Modules when designing the application. </p><br><h2 id="kornevoy-modul-root-module">  Root Module </h2><br><p>  The root module in the Angular application is used as an entry point.  A module is a class that is decorated with <code>@NgModule</code> .  Take a look at the standard module code (for example, when creating a new project via <code>ng new project-name</code> , the following <code>AppModule</code> is <code>AppModule</code> : </p><br><pre> <code class="hljs coffeescript"><span class="hljs-regexp"><span class="hljs-regexp">//</span></span> app.<span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.ts @NgModule({ imports: [BrowserModule], declarations: [AppComponent], bootstrap: [AppComponent], }) <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppModule</span></span></span><span class="hljs-class"> { }</span></span></code> </pre> <br><p>  A javascript object is used as an argument in the <code>@NgModule</code> decorator. </p><br><p>  In the <code>declarations</code> property, we declare the components that our module contains.  In this case, this is the <code>AppComponent</code> component.  There may be several components, they are declared separated by commas (as in a regular JavaScript array). </p><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">declarations</span></span>: <span class="hljs-selector-attr"><span class="hljs-selector-attr">[AppComponent]</span></span></code> </pre> <br><p>  Suppose our component has a selector <code>my-app</code> .  When we write a <code>&lt;my-app&gt;&lt;/my-app&gt;</code> application in the HTML template, the application loads the component. </p><br><p>  <strong>How does a component load into the DOM?</strong> </p><br><p>  <code>AppModule</code> tells the browser to build the <code>AppComponent</code> component into the DOM. </p><br><p>  <strong>How does the <code>AppModule</code> add a component to the DOM?</strong> </p><br><p>  <code>AppModule</code> imports Angular service modules, for example <br>  <code>BrowserModule</code> , responsible for the application in the browser.  In essence, this is a service that interacts with our code (for example, <code>AppComponent</code> ) and the browser API.  <code>BrowserModule</code> also includes <code>NgIf</code> and <code>NgFor</code> , which we can use in component templates. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/694/1aa/7fc/6941aa7fcf409146eb17b3f5efc02b00.gif" alt="image"></p><br><p>  <code>AppModule</code> acts as a <code>AppModule</code> between the data, its presentation and the browser. </p><br><h2 id="komponovka-prilozheniya">  Application Layout </h2><br><p>  Using the Angular application begins with the <code>main.ts</code> file, <a href="https://angular.io/guide/styleguide">read the manual</a> for details. </p><br><pre> <code class="hljs pgsql">// main.ts <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { platformBrowserDynamic } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@angular/platform-browser-dynamic'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { AppModule } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./app.module'</span></span>; platformBrowserDynamic().bootstrapModule(AppModule);</code> </pre> <br><p>  In the example above, we use <a href="https://ru.wikipedia.org/wiki/JIT-%25D0%25BA%25D0%25BE%25D0%25BC%25D0%25BF%25D0%25B8%25D0%25BB%25D1%258F%25D1%2586%25D0%25B8%25D1%258F">dynamic compilation (JIT - Just In Time)</a> .  However, in Angular, you can implement <a href="https://ru.wikipedia.org/wiki/AOT-%25D0%25BA%25D0%25BE%25D0%25BC%25D0%25BF%25D0%25B8%25D0%25BB%25D1%258F%25D1%2586%25D0%25B8%25D1%258F">AOT-compilation (Ahead of Time)</a> , but this is an extensive topic and will be discussed in another article. </p><br><h2 id="deklarirovanie-obyavlenie">  Declaring (ad) </h2><br><p>  In our applications we create our own components, directives and pipes.  We can tell our application what functionality we want to add (components, directives and pipes) by listing them in the <code>declarations</code> property of the object, which is an argument for the <code>@NgModule</code> decorator: </p><br><pre> <code class="hljs coffeescript"><span class="hljs-regexp"><span class="hljs-regexp">//</span></span> app.<span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.ts @NgModule({ imports: [BrowserModule], declarations: [ AppComponent, VehicleListComponent, VehicleSelectionDirective, VehicleSortingPipe ], bootstrap: [AppComponent], }) <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppModule</span></span></span><span class="hljs-class"> { }</span></span></code> </pre> <br><p>  After declaring components, we can use them inside other components through their selector, which is indicated in the component description. </p><br><h2 id="importirovanie-i-vlozhennye-moduli">  Import and nested modules </h2><br><p>  We import the <code>BrowserModule</code> into <code>AppModule</code> , which in turn imports the <code>CommonModule</code> , which contains the <code>NgIf</code> and <code>NgFor</code> that are available in Angular from the box.  <code>CommonModule</code> importing <code>CommonModule</code> we get access to the functionality implemented in this module throughout the application. </p><br><p>  But what if we want to use the functionality that is needed to implement forms, such as <code>ngModel</code> and <code>http</code> ?  The solution is simple - we just need to import these modules into the <code>AppModule</code> : </p><br><pre> <code class="hljs coffeescript"><span class="hljs-regexp"><span class="hljs-regexp">//</span></span> app.<span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.ts @NgModule({ imports: [ BrowserModule, FormsModule, HttpModule ], declarations: [ AppComponent, VehicleListComponent, VehicleSelectionDirective, VehicleSortingPipe ], bootstrap: [AppComponent], }) <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppModule</span></span></span><span class="hljs-class"> { }</span></span></code> </pre> <br><p>  After we imported the <code>FormsModule</code> module, we can use <code>ngModel</code> in the templates of our components.  And the <code>HttpModule</code> allows us to send or receive data via the HTTP protocol. </p><br><h2 id="provaydery">  Providers </h2><br><p>  Often in our applications there are services that we want to use in several (or all) components.  How to provide all components access to the service?  Use Angular Modules. </p><br><p>  To do this, you need to add the provider to the root module, in our case <code>AppModule</code> .  In Angular, adding dependencies is implemented using the <a href="https://angular.io/guide/dependency-injection-pattern">Dependency Incetion</a> pattern.  When we added the provider to the root module <code>AppModule</code> , it will be available in any part of the application. </p><br><p>  As the most illustrative example of a provider that is needed in our application everywhere is the authorization service (Logger Service).  Our application should also show the list of active users, so we need <code>VehicleService</code> to retrieve the list of active users by accessing the API using <code>http</code> , which we can use thanks to the <code>HttpModule</code> module.  We imported it into our application earlier. </p><br><pre> <code class="hljs pgsql">// logger.service.ts <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { Injectable } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@angular/core'</span></span>; @Injectable() export <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> LoggerService { <span class="hljs-keyword"><span class="hljs-keyword">log</span></span> = (msg: string) =&gt; { console.log(msg); }; }</code> </pre> <br><pre> <code class="hljs pgsql">// vehicle.service.ts <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { Injectable } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@angular/core'</span></span>; @Injectable() export <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> VehicleService { getVehicles = () =&gt; [ { id: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-type"><span class="hljs-type">name</span></span>: <span class="hljs-string"><span class="hljs-string">'X-Wing Fighter'</span></span> }, { id: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-type"><span class="hljs-type">name</span></span>: <span class="hljs-string"><span class="hljs-string">'Tie Fighter'</span></span> }, { id: <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-type"><span class="hljs-type">name</span></span>: <span class="hljs-string"><span class="hljs-string">'Y-Wing Fighter'</span></span> } ]; }</code> </pre> <br><p>  When we presented these services in the root module <code>AppModule</code> they are available in the application components: </p><br><pre> <code class="hljs coffeescript"><span class="hljs-regexp"><span class="hljs-regexp">//</span></span> app.<span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.ts @NgModule({ imports: [BrowserModule, FormsModule, HttpModule], declarations: [ AppComponent, VehicleListComponent, VehicleSelectionDirective, VehicleSortingPipe ], providers: [ LoggerService, VehicleService, UserProfileService ], bootstrap: [AppComponent], }) <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppModule</span></span></span><span class="hljs-class"> { }</span></span></code> </pre> <br><p>  We describe how this works.  We added the creation of a provider object to our component constructor, it looks like this: </p><br><pre> <code class="hljs pgsql">// <span class="hljs-keyword"><span class="hljs-keyword">some</span></span>.component.ts @Component({ selector: <span class="hljs-string"><span class="hljs-string">'some-component'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>: <span class="hljs-string"><span class="hljs-string">'&lt;h1&gt;Some component {{ service.data }}&lt;/h1&gt;'</span></span> styleUrls: [<span class="hljs-string"><span class="hljs-string">'./path/to/style.css'</span></span>] }) export <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> SomeComponent implements OnInit{ construcotr (private service: Service){} //   //    }</code> </pre> <br><p>  When creating an instance of a component (for example, when we opened the page where the component is used), a service object is created simultaneously, described in the <code>providers</code> property (see listing app.module.ts above) and Angular starts looking for the class of this service in the parent components.  Since  we did not declare the provider in the components, eventually Angular will find this service in the root module of <code>AppModule</code> .  It should be noted that the provider in Angular implements the <a href="https://en.wikipedia.org/wiki/Singleton_pattern">Singleton</a> pattern, so that only one instance of the service class can be created in the application.  In our case, if the service instance has already been created somewhere, then the component will use it, if not, it will create a service object. </p><br><h2 id="zaklyuchenie">  Conclusion </h2><br><p>  Providers, in my opinion, are one of the most interesting and complex concepts of the Angular modular system.  The basic rule of using providers (services) is to create an instance of the service in the root module and transfer this instance to other parts (components) of the application on request. </p><br><p>  - <a href="http://t.me/angular_ru">Telegram of the</a> Russian-speaking Angular Community. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/351504/">https://habr.com/ru/post/351504/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../351490/index.html">KOMPAS-3D Home - professional CAD software for home and hobby</a></li>
<li><a href="../351492/index.html">C ++ 20 is getting closer. Meeting in jacksonville</a></li>
<li><a href="../351496/index.html">Writing celestial bees on Cloud Haskell</a></li>
<li><a href="../351498/index.html">Use Reflection.Emit to precompile expressions in MSIL</a></li>
<li><a href="../351500/index.html">SellAnyCar: how auto auctions work in the desert</a></li>
<li><a href="../351506/index.html">Where worlds are created: jobs 22 game developers</a></li>
<li><a href="../351510/index.html">Rather simple and effective algorithm for recognition and tracking of movement</a></li>
<li><a href="../351512/index.html">A note about the new linux kernel interface - gpio uapi</a></li>
<li><a href="../351514/index.html">Restore Microsoft Money online features. Account authentication</a></li>
<li><a href="../351516/index.html">Kotlin's current development</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>