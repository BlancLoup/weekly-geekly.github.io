<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Archivelink - Attachment Attachment Technology in SAP for Beginning Consultants</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This article is a synthesis of five years of experience as a consultant in the field of corporate workflow in the SAP environment. My experience is li...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Archivelink - Attachment Attachment Technology in SAP for Beginning Consultants</h1><div class="post__text post__text-html js-mediator-article">  This article is a synthesis of five years of experience as a consultant in the field of corporate workflow in the SAP environment.  My experience is limited to only one vendor - <a href="http://en.wikipedia.org/wiki/Open_Text_Corporation">OpenText (Canada)</a> , but in recent years, this technology has become more and more popular, and therefore there was a desire to publish this material. <br><br>  The article describes the technology of working with unstructured documents (document scans, electronic originals in MS Office format, etc.) in the environment of structured electronic documents - SAP transactions.  Both the technical aspect and the main business scenarios of working with documents are described.  The publication will be useful to all novice (and not so) document flow consultants working on SAP projects.  The material was written almost "from the head," as a kind of crib, or manuals. <br><br>  The publication here is the desire to share with all the experts in order to pass on their experience to the younger generation.  I clearly understand that not a single training course or training manual will allow a single person (a spherical SAP / ECM consultant in a vacuum) to take and carry out a turnkey project for a customer.  Therefore, I regard the material published here as the saving of precious human time.  Well, glad criticism, of course! <br><a name="habracut"></a><br><h1>  Description of typical business scenarios </h1><br>  The EA system based on the standard Archivelink technology encompasses all types of paper documents that are subject to accounting in connection with conducting business transactions on them.  In the direction of movement all documents can be divided into two types: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li>  Incoming documents (from external organizations, other information systems); </li><li>  Outbound (source of origin is SAP ERP). </li></ol><br><br>  Incoming documents, in turn, are divided into three typical scenarios: <br><ol><li>  Incoming with pre-registration (the document enters the EA system at the time of the transaction, an SAP electronic document already exists; later it can be associated with other existing transactions). </li><li>  Inbox without prior registration (the document is placed in the EA before the transaction is completed; it is the basis for creating one or several SAP electronic documents). </li><li>  Incoming documents without reference to SAP objects (category of documents for which it is difficult to establish connection with transactions due to their large number or complete absence). </li></ol><br>  To realize the possibility to process the flow of documents in practice, labeling documents with bar codes is used.  In the chain of movement of a document, a barcode is used to identify the scan itself and the place in the accounting system (transaction in SAP) to which it should be attached. <br><br>  In addition, the presence on the first page of each document SK allows you to automatically disassemble the flow of scanned pages by document units. <br><br>  For those who like to watch screenshots, there is a link to YouTube that describes one of the typical projects for the implementation of an electronic archive for SAP users: <br><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/7Q6i5jBexGg%3Ffeature%3Doembed&amp;xid=17259,15700002,15700022,15700186,15700190,15700253&amp;usg=ALkJrhiyjKjnmH2XLebZ7Hq9si9pGpZ4tQ" frameborder="0" allowfullscreen=""></iframe><br><br>  In this video you can see on what equipment you can make a similar project.  Further, more specific questions can be in a personal. <br><br><h2>  Document marking methods </h2><br>  On outgoing documents (generated by SAP) the barcode image is printed simultaneously with the printing of the document on a laser printer. <br><br><img src="https://habrastorage.org/files/8a4/764/f39/8a4764f3944f4843b58b046c34c4adf5.png"><br><br>  On incoming documents, regardless of the script, the barcode is placed with a sticker, for example: <br><br><img src="https://habrastorage.org/files/2b1/e79/191/2b1e79191634438cb92cbfaf5a1d403f.png"><br><br><div class="spoiler">  <b class="spoiler_title">Typical Scenario Descriptions</b> <div class="spoiler_text"><h2>  Inbound documents with pre-registration in SAP </h2><br>  To realize the possibility of registering barcodes (documents), minor modifications are made to the SAP user interface. <br><br>  Pre-registered incoming documents are documents that enter the EA system at the time when the SAP electronic document already exists.  In other words, the document is attached to an already completed transaction.  The posting is performed by the same employee who performed the receipt of documents. <br><br>  Formation of identification labels with CCs comes from the corresponding business transaction.  To work with such documents, for example, a new functionality can be introduced into each transaction: the ‚ÄúApplication Registration‚Äù button. <br><br><img src="https://habrastorage.org/files/02f/440/aec/02f440aec7084e74b7a43e37542c90ff.png"><br><br>  The scenario of work can be described by the scheme: <br><br><img src="https://habrastorage.org/files/0f5/85b/71d/0f585b71dc3c48459723a0a185e4c549.png"><br><br><h2>  Incoming documents without prior registration </h2><br>  Incoming documents without prior registration are documents that are placed in the EA before the transaction is completed in SAP.  A typical example of the use of this scenario is bookkeeping separated from warehouses, which is geographically located in an arbitrary location.  The warehousekeeper, accepting the delivery of goods, performs only the registration of each paper document from the package of documents, but does not perform the movement of materials or other operations on them.  Instead, the bookkeeper is sent a task to process each document (or package of documents). <br><br>  Initially, the CC of these documents contains information about the type of document and the route of its movement.  Printing labels with CC is made from the developed transaction Z *.  When selecting from the directory, the values ‚Äã‚Äãof the ‚ÄúProcessing unit‚Äù and ‚ÄúDocument type‚Äù fields are dependent on each other, i.e.  From the list, you can select only those documents with which specific departments work. <br><br><img src="https://habrastorage.org/files/cef/85d/bd8/cef85dbd891042db97d40c6f3a4bc9c4.png"><br><br>  The scenario of work can be described by the scheme: <br><br><img src="https://habrastorage.org/files/012/c61/f6d/012c61f6d88841b0b08c99ce587b3cbf.png"><br><br>  Incoming documents without reference to standard SAP objects are a special subtype of documents that cannot be associated with a standard business object (for example, references) or with an array of transactions (for example, reports).  As a result, for this subtype of documents, you can create an artificial Z-object that does not contain any postings.  You can simply attach links to an array of archived documents with attributes to this business object. <br><br><h2>  Outgoing documents </h2><br>  Outgoing documents are documents generated by the SAP system.  The scenario of working with outgoing documents is intended for archiving the copies of outgoing documents signed by the contractor. <br><br>  The functionality of the CC generation is integrated into the business transaction from which printing is performed.  There is no need to use a sticker with CC (CC is printed simultaneously with the document). <br><br><img src="https://habrastorage.org/files/b14/44d/120/b1444d120a4c415285d3c31093db818e.png"><br></div></div><br><br>  ... however, we wanted to talk about Archivelink here.  We continue in the technical plane. <br><br><h1>  Technical scheme of interaction component Archivelink </h1><br>  Description of the interaction scheme of the components of the SAP Document Access by OpenText solution based on the standard Archivelink technology in the scenario of mass scanning of documents from CC: <br><br><img src="https://habrastorage.org/files/359/178/0f3/3591780f39f24f7e97d00f5e12d6c5fb.png"><br><br><ol><li>  The SAP ERP user through the GUI registers a new record about the document.  A unique identifier is assigned to the document, a label is printed with the CC; </li><li>  The sticker is pasted on a paper document; </li><li>  A paper document with a label is sent in the document stream to a scanner that is locally connected to the scan station (‚Äúthick‚Äù OpenText client); </li><li>  The scan client receives a stream of pages from the scanner, recognizes the borders of documents and recognizes barcode numbers from labels; </li><li>  The user initiates a session of sending a stream of documents to an electronic archive.  The OpenText Document Pipeline document pipeline component is invoked: <br>  a.  Metadata is sent via http on port 8080. <br>  b.  The scanner image is sent to the special folder DPDIR on the archive server, in which the action on the document then takes place. <br></li><li>  The document conveyor initiates sending a document scan to the logical archive specified on the SAP side (ARCHIV_ID); </li><li>  The Administration Server component responds to the pipeline with the host name for sending the scan (ALHOST); </li><li>  The scan image file is sent to the archive server; </li><li>  The archive server confirms successful placement by returning a new DocID (ARC_DOC_ID) to the pipeline; </li><li>  The document conveyor sends the SAP application server through a call to RFC parameters: BARCODE, DOCID; </li><li>  Further interactions occur at the SAP application server level. </li></ol><br><br>  According to paragraphs 6-9, the interaction is carried out via a secure channel https.  Protection is based on a self-signed certificate between the DP server and the Archive Server. <br><br>  Here is how SAP imagines it from the point of view of organizing a business process: <br><br><img src="https://habrastorage.org/files/b0d/296/514/b0d296514b3a4f0e92c927882eb75456.png"><br><br>  At the level of the SAP link tables, the schema for attaching an Archivelink document with CC: <br><br><img src="https://habrastorage.org/files/c18/827/061/c18827061292480b91c6a1169462be3a.png"><br><br>  <b>BDS_BAR_IN</b> is a standard table in which records of open <b>CCs</b> are temporarily registered (that is, a new CC was registered in an electronic document). <br>  <b>BDS_BAR_EX</b> is a standard table that receives for temporary storage records of documents arriving in an EA with identification CCs. <br>  <b>TOA01</b> is a standard link table containing linked records of electronic documents and references to EA documents added to them. <br><br>  The functional of the document card is implemented using the standard ‚ÄúR / 3 Indexing‚Äù script, which allows the scanning client to transfer along with the CC to an arbitrary number of additional document attributes that will be deposited in Archivelink tables.  Of course, this approach provides for the addition of standard tables, for example, the new Z_BDS_BAR_EX tables for attributes coming from the scanning system and Z_TOA01 for their permanent placement. <br><br>  In the standard Archivelink chain, after linking, the CC value is lost, but for further EA maintenance (for example, to implement the function of managing physical storage of documents), it makes sense to continue to store the value of the identification CC in the document card. <br><br><h2>  Http link syntax Archivelink </h2><br>  The Archivelink link can be made ‚Äúmanually‚Äù, knowing the parameters of a specific archived document (table TOA01 will help us).  The link uses several attributes, the minimum set of which are: <br><br><pre><code class="hljs objectivec">http:<span class="hljs-comment"><span class="hljs-comment">//hostname:port/script?get&amp;pVersion=XXXX&amp;contRep=YY&amp;docId=ZZZZZZZZZZZZZZ&amp;accessMode=r</span></span></code> </pre> <br><br>  In the given example: <br><ul><li>  <b>script</b> - the name of the application on the application server, through which the functions of the archive data storage are called (for the OpenText Archive Server, this is <b>archive</b> , for IBM FileNet - <b>cs</b> , etc.) </li><li>  X - Archivelink protocol version, usually <b>0046</b> ; </li><li>  Y is the name of the logical archive (repository from transaction oac0); </li><li>  Z is a unique document key assigned either by SAP itself (consists of 16 uppercase characters - <b>005056B4DE071EE48790BFFD3EECF989</b> ) or external to the SAP system (then it will be written with small characters <b>aaaa1g5wyelfhthsb3bmjcqqqfidi</b> ). </li><li>  The <b>accessMode</b> parameter specifies the type of access to the content (r, w, u, d).  It is optional. </li></ul><br><br>  In production systems, a security key is added at the end of the Archivelink link, which is generated using a self-signed security certificate sent by SAP to the archiving system side. <br><br>  For test purposes, security (certificate verification) can be disabled, then it becomes possible to form a link in the browser, for example: <br><br><pre> <code class="hljs pgsql">http://vm-<span class="hljs-keyword"><span class="hljs-keyword">as</span></span><span class="hljs-number"><span class="hljs-number">-11</span></span>:<span class="hljs-number"><span class="hljs-number">8080</span></span>/archive?<span class="hljs-keyword"><span class="hljs-keyword">get</span></span>&amp;pVersion=<span class="hljs-number"><span class="hljs-number">0046</span></span>&amp;contRep=L0&amp;docId=aah1yo65r5yviqtqlecc1g5avaiim</code> </pre> <br><img src="https://habrastorage.org/files/c7c/e4b/6a4/c7ce4b6a4ad846648b490b048427b019.png"><br><br><hr><br><br>  If this topic is of interest to the Habrasoobshchestvu, it is ready to deepen it, for example, with the settings in SAP, as well as with articles about installing OpenText servers. </div><p>Source: <a href="https://habr.com/ru/post/243135/">https://habr.com/ru/post/243135/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../243123/index.html">How to create and earn SaaS | Part 12 | Mobile revolution of access to the clouds: how to change the operator in "one click"</a></li>
<li><a href="../243125/index.html">Dialplan on LUA for Asterisk</a></li>
<li><a href="../243127/index.html">Everything begins with the announcement on Habr√©</a></li>
<li><a href="../243129/index.html">XFeatures - Useful extension for ATMEL STUDIO 6</a></li>
<li><a href="../243133/index.html">Website hosting provider redesign: errors and solutions</a></li>
<li><a href="../243139/index.html">Forwarding to mobile and SMS notification in the absence of a response. One of the possible implementations of the "callback"</a></li>
<li><a href="../243141/index.html">Another heart on Atmega</a></li>
<li><a href="../243145/index.html">Barcode scanners in trade automation</a></li>
<li><a href="../243147/index.html">We invite to the conference on web development on November 29</a></li>
<li><a href="../243149/index.html">Free CppCat for students</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>