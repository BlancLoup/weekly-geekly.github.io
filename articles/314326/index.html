<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Firefox 52 will remove the battery level API to preserve user data privacy</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Mozilla will block access to one of the functions of the Firefox browser, known as Battery Status API. With its help, websites could learn about the b...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Firefox 52 will remove the battery level API to preserve user data privacy</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/87e/b8c/af7/87eb8caf71414a9f86d3f79b313c4041.png"><br><br>  Mozilla will block access to one of the functions of the Firefox browser, known as Battery Status API.  With its help, websites could learn about the battery level of a laptop, tablet or smartphone user.  The decision was made in order to protect the right of users to privacy.  The chronology of events is such that the story began with the suspicion of experts, followed by the implementation and actual use.  At the moment it is not clear what other browsers will do with this feature. <br><a name="habracut"></a><br>  The reason for the dramatic changes was that data privacy was at risk.  Additional circumstances are an abuse of opportunity and many mistakes in implementation.  The decision to remove the function due to privacy concerns is unprecedented after the well-known obvious cases of illegal use. <br><br>  The purpose of the function is to offer users different versions of the site depending on the remaining charge of the device.  If the device is discharged, the user can be offered a version of the site that does not ‚Äúeat‚Äù the battery so much.  Behind different versions there is a big work of owners and authors of sites, developers and others.  Battery Status API received the status of charging from the network or battery life and how much time was left until the device was turned off.  And also, what percentage of the battery remained unspent.  The specific application of the function looked like this: social networks turned off automatic video playback, and services with maps displayed fewer details, without which it was possible to do. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/62f/2ea/34a/62f2ea34a29b4f0d84d16c7a53503336.png"><br>  The potential threat came true when two security researchers from Princeton University discovered tracking scripts that were used in the real world to <code>fingerprint</code> a particular device in order to further monitor it in different situations.  This discovery motivated Mozilla‚Äôs developers to remove ‚Äúbad‚Äù features from their browser.  The function was finally removed on October 27, 2016.  17 months have passed since the discovery of the problem. <br><br>  In addition to Firefox, two more browsers supported the function: Opera and Google Chrome.  Let the Battery Status API be part of the HTML5 specification, IE, Edge browsers never implemented it.  In WebKit, there was support for the Battery Status API, but it never appeared in the Safari browser.  There are only a few common applications in reality beyond the scope of the user identification task. <br><br><img src="https://habrastorage.org/files/0f3/a6c/231/0f3a6c23165248e898c0993a1842afb4.png"><br><br><h2>  About the function itself </h2><br>  <a href="https://habrahabr.ru/post/145608/">Battery Status API</a> was documented in 2012.  Mozilla Firefox is the first browser in which it was implemented.  The Battery status API adds the navigator.getBattery () method to the window.navigator.  In the example below you can see how the charging status (connection to the network) and the charge level in the battery, and the remaining time, change.  This is possible using the listen function for events: chargingchange, levelchange, chargingtimechange, dischargingtimechange. <br><br><pre> <code class="javascript hljs">navigator.getBattery().then(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">battery</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateAllBatteryInfo</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ updateChargeInfo(); updateLevelInfo(); updateChargingInfo(); updateDischargingInfo(); } updateAllBatteryInfo(); battery.addEventListener(<span class="hljs-string"><span class="hljs-string">'chargingchange'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ updateChargeInfo(); }); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateChargeInfo</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">"Battery charging? "</span></span> + (battery.charging ? <span class="hljs-string"><span class="hljs-string">"Yes"</span></span> : <span class="hljs-string"><span class="hljs-string">"No"</span></span>)); } battery.addEventListener(<span class="hljs-string"><span class="hljs-string">'levelchange'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ updateLevelInfo(); }); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateLevelInfo</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">"Battery level: "</span></span> + battery.level * <span class="hljs-number"><span class="hljs-number">100</span></span> + <span class="hljs-string"><span class="hljs-string">"%"</span></span>); } battery.addEventListener(<span class="hljs-string"><span class="hljs-string">'chargingtimechange'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ updateChargingInfo(); }); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateChargingInfo</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">"Battery charging time: "</span></span> + battery.chargingTime + <span class="hljs-string"><span class="hljs-string">" seconds"</span></span>); } battery.addEventListener(<span class="hljs-string"><span class="hljs-string">'dischargingtimechange'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ updateDischargingInfo(); }); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateDischargingInfo</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">"Battery discharging time: "</span></span> + battery.dischargingTime + <span class="hljs-string"><span class="hljs-string">" seconds"</span></span>); } });</code> </pre> <br>  The site should not be able to connect the user's identity in incognito mode with different IP with and without VPN.  In the case of a quick VPN shutdown, the battery charge level will be about the same.  Having considered this information, the browser will transmit it to the site.  Two data sets will be matched and it will be possible to conclude that the user is the same. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/da8/934/62c/da893462c32c43a786bd1eb43b1e5b1e.jpg"></div><br>  The Guardian quotes Lukasz Oleynik, a security consultant and researcher at UCL, about what's happening with Firefox.  He was one of four people who first discovered the potential threat to the Battery Status API.  Of course, he was glad to see how his work bore fruit.  The specialist did not expect the development company to completely abandon the use of the API.  ‚ÄúThis is indeed unprecedented.  I do not know about similar developments in the history of development.  Regarding the delay in the deletion process: this is not so critical, because we proposed to make changes to the function of the function last year, but in the end we received a complete deletion.  The fact that this is for confidentiality emphasizes the importance of the decision. ‚Äù  Mozilla said in a statement that the feature is now unavailable for web content, but it can still be found in extensions.  Battery Status API <a href="https://bugzilla.mozilla.org/show_bug.cgi%3Fid%3D1313580">will be removed</a> in the 52nd version of Firefox. <br><br>  So far, the function is going to remove only Mozilla.  The developers of the Webkit engine, which underlies Apple's Safari, also suggested removing the API code.  <a href="https://www.theguardian.com/technology/2016/nov/01/firefox-disable-battery-status-api-tracking">The Guardian</a> turned to Google and Opera for comment.  Apple <a href="https://lists.webkit.org/pipermail/webkit-dev/2016-October/028469.html">declined to</a> comment.  Confirmation that the function has been removed from access is posted on the official Mozilla website. </div><p>Source: <a href="https://habr.com/ru/post/314326/">https://habr.com/ru/post/314326/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../314310/index.html">Design of Russian cities, where is he?</a></li>
<li><a href="../314312/index.html">We draw, code under libGDX and other small joys from the life of an indi-developer</a></li>
<li><a href="../314314/index.html">Console commands with PHPixie Console</a></li>
<li><a href="../314318/index.html">How we distinguished a trolley from a foreman - video analytics for the hypermarket checkout zone (and a continuation about the cat terminator)</a></li>
<li><a href="../314324/index.html">Aidra boosted botnet infected 3,500 devices in less than a week</a></li>
<li><a href="../314328/index.html">Comparing objects by value - 1: Beginning</a></li>
<li><a href="../314330/index.html">Analysis of the class of non-stationary processes with stationary increments in stock markets</a></li>
<li><a href="../314332/index.html">Casual Theory of Inventive Problem Solving</a></li>
<li><a href="../314334/index.html">IoT devices - the favorite target of DDoS attacks</a></li>
<li><a href="../314336/index.html">Theory of Inventive Problem Solving on Fingers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>