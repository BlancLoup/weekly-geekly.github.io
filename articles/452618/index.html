<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>What did Google I / O 2019 talk about: Android 10, AR apps and more</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article I will tell you about my impressions of the Google I / O 2019 conference, which my colleagues and I visited the other day (and even ‚Äúl...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>What did Google I / O 2019 talk about: Android 10, AR apps and more</h1><div class="post__text post__text-html js-mediator-article">  In this article I will tell you about my impressions of the Google I / O 2019 conference, which my colleagues and I visited the other day (and even ‚Äúlit up‚Äù with our application in one of the presentations).  It will help you feel the atmosphere and, perhaps, encourage you to watch several reports posted on <a href="https://www.youtube.com/user/GoogleDevelopers/videos">the Google Developers channel</a> . <br><br><img src="https://habrastorage.org/webt/rp/0x/jq/rp0xjqe28osfvr7luwanv3krvea.png"><br>  <i>Badoo Developers on Google I / O 2019</i> <br><br><h1>  Day 0. Preface </h1><br>  To get to the conference, you need to win the lottery, which starts in February <a href="https://events.google.com/io/">on Google I / O</a> (usually it becomes known from the news).  But the victory does not provide for obtaining a ticket, but only gives the opportunity to buy it for $ 1,150.  There are other programs that allow you to get a ticket with a big discount or for free, for example, <a href="https://codingcompetitions.withgoogle.com/codejamio">Code Jam</a> .  Students and employees of universities can buy a ticket much cheaper - for $ 375. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Before the conference, IT companies organized parties for the participants.  I learned about them from the chat in Telegram, which brought together more than 150 Russian-speaking users.  Typically, these chat rooms can be accessed by invitation from the specialized Android-communities in the Telegram.  Such parties are a good opportunity to meet other conference participants in an informal setting.  For example, we met there the organizer Mobius and the development team that makes the app for air travelers App in the Air. <br><br>  The conference was held under the slogan "No parking".  Google organized free buses from and to the most popular hotels in the area, and also provided promotional codes for Lyft (an American competitor to Uber) taxi service. <br><br>  There were five developers from Badoo.  Everyone who won the opportunity to buy a ticket went.  Reports went in six-ten streams, and often we were divided to cover more interesting topics. <br><a name="habracut"></a><br><h1>  Day 1 </h1><br>  The first day of the conference opens the so-called keynotes - general presentations.  The first is for everyone, the second is for developers. <br><br><img src="https://habrastorage.org/webt/bz/wd/cu/bzwdcuscu1ldjrdnrauu-ziwqbm.jpeg" width="450"><br>  <i>Before the keynote man-DJ and AI-DJ work together</i> <br><br><h2>  Main news </h2><br>  At the first keynote presentation talked about different Google projects.  Here are some news: <br><br><ul><li>  The company continues to develop Google Duplex, a robot assistant who can call and book a time at a hairdresser / restaurant table; <br></li><li>  Google Lens can analyze checks and split invoice amount with tip amount (a popular task in the USA); <br></li><li>  Google Assistant will work offline and will noticeably decrease in size, and audio messages in messengers and calls can be seen as text on the screen using Live Relay. <br></li></ul><br>  Android 10 will appear: <br><br><ul><li>  more parental control; <br></li><li>  dark theme; <br></li><li>  improved support for folding devices; <br></li><li>  new navigation gestures; <br></li><li>  improved sharing; <br></li><li>  new grouping of notifications by priority. <br></li></ul><br>  The presentation for developers announced that Kotlin is now the main programming language for Android development.  Google introduced the new library for the Camera X camera, a new declarative UI Jetpack Compose (apparently, it is still quite raw, but very promising), new features for updating the application: the developer will be able to request the update on his own in the application interface. <br><br><img src="https://habrastorage.org/webt/pw/fe/ji/pwfejiyadtvpes30cmzqntdepbk.png" width="450"><br>  <i>During each report, subtitles are generated in real time.</i> <br><br><h2>  Google Tips for Folding Devices </h2><br>  Recently only lazy people are not talking about folding devices.  Although they now occupy a scanty market share, applications should work <s>somehow</s> for them. <br><br>  Google representatives assured that if you follow the best practices, for example, properly handle the screen flipping, then everything will work out of the box.  To support folding devices, the same mechanism is used as for multi-windowing on tablets and Chrome OS.  In addition to the already existing android: maxAspectRatio, android: minAspectRatio will appear, designed to add restrictions on the ratios of supported parties in the application.  Google says that 2 inches (5.08 cm) will be the minimum screen width of Android devices starting with Android Q. <br><br>  A few things worth checking out if you are implementing support for folding devices in your application, while flexing and stretching a device: <br><br><ul><li>  the application should restore the same state; <br></li><li>  scroll position must be maintained; <br></li><li>  keyboard focus should remain the same. <br></li></ul><br>  If you do not want the Activity to change its size, then the android: resizeableActivity = false flag may not always help, since the system can still change the size of the Activity or put it in compatibility mode: <br><br><img src="https://habrastorage.org/webt/hc/mg/3h/hcmg3hxpaufglszydka2u9uc-qa.png" width="450"><br><br>  <i>Compatibility Mode</i> <br><br>  It seems that now there are very few users with folding devices, but the cost of such gadgets is quite high and you definitely need to check how the application works on them. <br><br><h2>  On the pros and cons of multi-modularity </h2><br>  At the conference, much attention was paid to modularity.  The main advantages of multi-modularity: <br><br><ul><li>  tests can be run only for those modules that are somehow affected by changes in the current branch; <br></li><li>  You can isolate testing of various functions of the application;  for example, we have a gallery application in Badoo, in which all UI elements are collected, during their development this application can be assembled rather quickly, since it has a limited number of dependencies (my colleagues told about this <a href="https://youtu.be/QQeJLbfayTE%3Flist%3DPL3xVZC4USRNSq0J1GOSfUKWEv90rR_9AH">in the MBLT DEV report</a> ); <br></li><li>  the ability to add dynamic features: according to the speaker, 80% of users use 20% of the application's functions, so most of the functions can be added to the dynamic module and loaded later;  good candidates are, for example, features for expert users, features to pay for, the About Application screen;  however, Onboarding should not be made a dynamic function, as it will be shown to all users of the application. <br></li></ul><br>  Multi-modularity also scales well for a large number of developers, which is a significant advantage for large and fast-growing teams. <br>  Multi-modularity has problems.  For example, it is not clear how to create a database.  There are three approaches: <br><br><ul><li>  create one database for the entire application; <br></li><li>  create a database for each module; <br></li><li>  create one database for several modules that can be linked logically. <br></li></ul><br>  All approaches have their drawbacks, but the guys from Google promise a bright future with the Room, where they want to maintain the isolation of the modules and support cross-module queries, as well as modules with dynamic functions.  Unfortunately, this is not yet available. <br><br>  We have more than 170 modules in the Badoo application, we are not using the dynamic feature yet, but we get other advantages <s>and disadvantages of</s> multi-modularity. <br><br><h1>  Day 2 </h1><br>  The second day of the conference was the most intense.  The first report began at 8:30, and the last ended at 20:00.  A total of 90 reports were submitted. <br><br><img src="https://habrastorage.org/webt/eo/jw/gk/eojwgkvte8orygswi4fxihsn5so.jpeg"><br>  <i>Such an audience is completely filled with people in about ten minutes.</i> <br><br><h2>  New declarative UI </h2><br>  The Android system is already ten years old, the current UI is obsolete.  Old UI is quite difficult to maintain.  For example, the View class has 29,188 lines of code, including comments, the AppCompat version has acquired a lot of hacks for different versions of Android.  Looking at this picture, the developers of Google decided to make a UI-framework, which will be supplied with the application and will be completely untied from Android.  The working title of the framework is Jetpack Compose. <br><br>  Flutter, React, Litho and Vue.js were sources of inspiration for developers, so the new framework will seem familiar to many.  The basic idea is to ensure that the UI responds to changes in the model, while there is no logic in the UI. <br><br>  View hierarchy is represented as functions annotated with @Composable annotation.  The framework uses the Compiler Plugin to intercept calls to composable functions. <br>  The Google team promises support for the new framework in the old hierarchies of the View (using the @GenerateView annotations), as well as a preview right in Android Studio and support for animations. <br>  Jetpack Compose is still quite raw and not ready for use in real applications, but it‚Äôs worth exploring how it works now to understand where Android development is heading. <br><br><h2>  Designing Augmented Reality Applications </h2><br>  Google has prepared tips for designing AR applications. <br><br><ul><li>  All interface elements should be on the AR scene, and not in the device, as users do not pay attention to the device when they are passionate about AR. <br></li><li>  Avoid moments when the user needs to move back, as this can lead to injuries. <br></li><li>  If an AR experience is built in a city, do not forget its dangers.  For example, it is worth warning the user about approaching pedestrian crossings and asking to lower the device. <br></li><li>  In an AR scene, objects must interact with real light, that is, the shadows should change as the lighting changes.  ARCore provides lighting data in order to highlight virtual objects. <br></li><li> Objects in AR must have the properties that they possess in reality.  For example, the ball should bounce off the floor. <br></li><li>  When the user moves the object far away, you need to increase the area of ‚Äã‚Äãcontact of the object in order to maintain the possibility of conveniently controlling it. <br></li><li>  The developer needs to clearly explain to the user that for an AR application to work, access to the device's camera is required. <br></li></ul><br>  More information on how to design AR elements in the app can be found in the <a href="https://www.youtube.com/watch%3Fv%3DBlM2T1beKbg">video from the conference</a> . <br><br><h2>  Best practices for using text in the development of Android applications </h2><br>  This report describes the best practices for working with text and some changes in the new version of Android. <br><br><ul><li>  Android Q will disable hyphenation. <br></li><li>  PrecomputedTextCompat helps to calculate the size of the text before rendering.  It should be noted that it will be impossible to change the font and other TextView parameters after passing the parameters to the PrecomputedTextCompat. <br></li><li>  Styles that apply to the text (from highest priority to lowest priority): <br></li><li>  In Android, it will be possible to set folbacks for fonts using Typeface.CustomFallbackBuilder.  For example, if some application font is not supported in one of the languages, then you can specify another as an alternative, you can also set fonts for Emoji.  Our application is translated into more than 40 languages, so it is important for us to understand how it will look if the main font is not supported in one of them. <br></li><li>  Use android: imeOptions = "flagNoPersonalizedLearning" in EditText to prevent memorization of the entered words (for example, when entering a promotional code). <br></li><li>  If you need to use two languages ‚Äã‚Äãin the application, you can use setImeHintLocales to signal the keyboard that you need another language.  This can be useful for dictionary applications or training services. <br></li></ul><br>  And one more small news.  In the report <a href="https://www.youtube.com/watch%3Fv%3DFtwtC1Ic9ps%26list%3DPLOU2XLYxmsILVTiOlMJdo7RQS55jYhsMi%26index%3D99%26t%3D0s%26fbclid%3DIwAR3p3Hc35yqJKjL9uEYRcQLCbLy4bbsPsrPrhNCHaZzsNCyK62zqhnP3Kp0">GIFs and More: Integrating Expression Search in Your App,</a> Google presented its API for working with GIF - <a href="https://tenor.com/">Tenor</a> , an alternative to the well-known Giphy.  We were one of the first to use it in our Badoo application, so we got on the slide to the speaker - as an example of use.  Trifle, but nice! <br><br><img src="https://habrastorage.org/webt/k9/jr/mq/k9jrmqvg91uwryfolxii5chfxyq.png"><br>  <i>Our application ‚Äúlit up‚Äù in the presentation of Tenor</i> <br><br><h2>  Concert </h2><br>  At the end of the second day, Google organized a concert at which The Flaming Lips performed.  To be honest, before I had not heard about it, but, apparently, in the US it is quite popular.  A <a href="https://www.youtube.com/watch%3Fv%3DOXrLr_1x_Fk">small fragment of the performance</a> is available on the Internet. <br><br><img src="https://habrastorage.org/webt/cp/js/ap/cpjsap70ur9u15dy96pdfusoajk.png" width="450"><br>  <i>Before the concert</i> <br><br><h1>  Day 3 </h1><br>  The third day was short.  Already by 4:30 pm all the reports were submitted, and with the end of the reports the conference ended.  Basically, I talked with other participants that day, but I‚Äôll tell you about a couple of reports that you should pay attention to. <br><br><img src="https://habrastorage.org/webt/ts/-o/ar/ts-oardf2ychs17h80wypsiafbg.jpeg" width="450"><br>  <i>There are areas for communication at the conference where it is not recommended to use equipment.</i> <br><br><h1>  Principles of Animation </h1><br>  In his report, <a href="https://twitter.com/crafty">Nik Butcher</a> talked about how to implement animations to improve user experience in the reactivity era.  The problem is that in a reactive application, View objects have no state, and animations, on the contrary, have a state. <br><br>  Good animations must meet three criteria: <br><br><ul><li>  reentrant: the animation can be canceled and run again; <br></li><li>  continuous (continuous): the animation should not jump from one state to another; <br></li><li>  smooth (smooth): the animation should change the speed / direction of movement gradually. <br></li></ul><br>  How to achieve this: <br><ul><li>  at the start of the animation set only the final value (where it should end);  for a given initial value, the animation can jump from one state to another, this can happen if it starts by pressing a button and the user presses it several times; <br></li><li>  cancel the old animation before starting a new one (sometimes it is already implemented inside the Android SDK; for example, ViewPropertyAnimator, obtained from View # animate, cancels the previous animation for the property being animated); <br></li><li>  use <a href="https://developer.android.com/guide/topics/graphics/spring-animation">Spring Animation</a> ;  such animations move according to the laws of physics, which means that smoothness and continuity are achieved more easily, that is, if an object moves from point A to point B and the command moves to point C, then if you use Spring Animation, the object will smoothly change the direction of motion; <br></li><li>  use <a href="https://developer.android.com/reference/android/graphics/drawable/AnimatedStateListDrawable">&lt;animated-selector&gt;</a> to add animation to the drawable;  To avoid the implementation of transitions between all possible states, you can enter an intermediate state (for example, the loading state) and go through it. <br></li></ul><br>  But it is better to see once than <s>hear a</s> hundred times <s>to</s> read, so here is a <a href="https://www.youtube.com/watch%3Fv%3Df3Lm8iOr4mE">video</a> with the report. <br><br><h2>  Performance testing </h2><br>  The library for measuring application performance is now in alpha version as part of Jetpack.  It allows you to take measurements of the performance of the code and avoids a lot of measurement errors, there is also integration with Android Studio. <br><br>  What is worth remembering when writing and running performance tests using <a href="https://developer.android.com/jetpack/androidx/releases/benchmark">Jetpack Benchmark Library</a> : <br><br><ul><li>  on the emulator it is unreliable to collect measurements, kindly prompts a warning at the start; <br></li><li>  ProGuard / R8 must be turned on to measure performance correctly; <br></li><li>  the device must have a sufficient battery charge level so that a low charge level does not affect the measurement results; <br></li><li>  the module in which the performance tests are written should be with the parameter ‚Äúdebuggable = false‚Äù; <br></li><li>  You should not compare the results of measurements on different devices, they can vary greatly. <br></li></ul><br><br><h1>  Conclusion </h1><br><img src="https://habrastorage.org/webt/at/nx/tm/atnxtmqc5dvngofozprfcdzwy0q.jpeg"><br>  <i>Badoo team and Google developer</i> <br><br>  Google I / O is definitely worth a visit.  In such an atmosphere, over a cup of tea, you can hear many interesting stories and learn about interesting engineering solutions.  For example, about how guys from VKontakte invented to make a dark theme and roll it out to users who asked: ‚ÄúWhere is the dark theme?‚Äù, How on the other end of the Earth Tinder developers are struggling with spam and porn content and how the App in the Air team implemented autoregistration on air travel.  You can also catch Google representatives creating the tools we use and ask questions. <br><br>  In general, a conference of this level is not only a bunch of reports, but also many interesting people with whom you can exchange experiences. </div><p>Source: <a href="https://habr.com/ru/post/452618/">https://habr.com/ru/post/452618/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../452608/index.html">Part 1. QInst: it is better to lose a day, then fly five minutes later (we write the instrumentation is trivial)</a></li>
<li><a href="../45261/index.html">Venture Dating Service</a></li>
<li><a href="../452610/index.html">Help and request for it. Article about information security for ordinary users</a></li>
<li><a href="../452612/index.html">Machine learning of a deep neural network with reinforcement at tensorflow.js: stunts</a></li>
<li><a href="../452614/index.html">How to start programming in Adobe Illustrator. Part two</a></li>
<li><a href="../452622/index.html">An introduction to genomics for programmers</a></li>
<li><a href="../452624/index.html">Introduction to Spring Boot Actuator</a></li>
<li><a href="../452636/index.html">‚ÄúI am inevitability myself‚Äù: how do ecosystems appear and what can we expect from them</a></li>
<li><a href="../452638/index.html">How we launched 2GIS under CarPlay and are still unraveling</a></li>
<li><a href="../45264/index.html">SearchWiki</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>