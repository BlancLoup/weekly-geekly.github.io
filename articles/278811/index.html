<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to organize the transfer of financial data on the American stock exchange Nasdaq: ITCH and OUCH protocols</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In our blog, we have already talked about the financial information transfer protocols used on world exchanges . These were protocols such as FIX and ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to organize the transfer of financial data on the American stock exchange Nasdaq: ITCH and OUCH protocols</h1><div class="post__text post__text-html js-mediator-article"> <a href="https://habrahabr.ru/company/itinvest/blog/278811/"><img src="https://habrastorage.org/files/70b/4d8/bb7/70b4d8bb71f0450e81e337e22589dcda.png"></a> <br><br>  In our blog, we have already talked about the financial information transfer protocols used on <a href="http://www.itinvest.ru/services/access/">world exchanges</a> .  These were protocols such as <a href="http://habrahabr.ru/company/itinvest/blog/242789/">FIX</a> and <a href="http://habrahabr.ru/company/itinvest/blog/243657/">FAST</a> , which are widely used by stock markets around the world, as well as the proprietary protocols <a href="https://habrahabr.ru/company/itinvest/blog/261709/">Plaza II</a> and <a href="https://habrahabr.ru/company/itinvest/blog/270961/">ASTS Bridge</a> , which were created by specialists from the Russian stock exchanges RTS and MICEX, which later merged into the Moscow Exchange. <br><br>  Today we will continue the cycle of materials and talk about the proprietary protocols of the Nasdaq ITCH and OUCH exchange. <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Introduction: Two Sides of a Transaction </h4><br>  When making each transaction on the exchange during electronic trading, the process always involves two types of data - incoming and outgoing.  Each has its own protocols for transmitting information.  Today we will talk about the two most popular of them, which are used, for example, on the Nasdaq - these are protocols and ITCH and OUCH. <br><br>  The ITCH protocol is a data transfer protocol through which information related to an order sent to the exchange, as well as service messages, is transmitted.  With this protocol, you can only exchange information, and not to make trades. <br><br>  ITCH was created in the late 90s of the last century - at that time it was one of the most advanced financial data transfer protocols.  Since then, he has established himself as a standard in the financial industry. <br><br>  In turn, the OUCH protocol allows traders on the Nasdaq to conduct operations on the market ‚Äî with its help, it is possible to place, execute or cancel trading orders.  Since its inception, the protocol has been refined several times and has become a truly powerful tool. <br><br>  OUCH was created in 1997 so that traders can quickly integrate their trading software with Nasdaq and trade at high speeds.  For the sake of the increase, some flexibility of the protocol had to be sacrificed. <br><br><h4>  How does ouch work </h4><br>  <a href="http://www.nasdaqtrader.com/content/technicalsupport/specifications/TradingProducts/OUCH4.2.pdf">The OUCH protocol</a> transmits messages of a specific length between the trader and the exchange, in addition, there is the possibility of re-sending data in case of software or hardware failure.  In this case, messages from customers are processed by the exchange engine in the sequence in which they were received - the priority in time of receipt is strictly observed. <br><br>  OUCH messages do not have a delivery guarantee - this is precisely why the re-sending functionality was introduced; however, to obtain such a guarantee, you can use lower-level protocols like SoupBinTCP and UFO.  There are several types of data transmitted using a protocol for which digital or alphanumeric representations are used. <br><br>  To create a trade order, use the Enter Order Message message - each order must have a token that is unique for each day.  Below is an example of the message format - in this case for entering a trade order: <br><br><table><tbody><tr><th colspan="5">  Enter Order Message </th></tr><tr><td>  Name </td><td width="100">  Offset </td><td width="100">  Len </td><td width="100">  Value </td><td>  Notes </td></tr><tr><td>  Type of </td><td>  0 </td><td>  one </td><td>  "O" </td><td>  Message Type Identifier Enter Order Message </td></tr><tr><td>  Order token </td><td>  one </td><td>  14 </td><td>  Token </td><td>  Any information can act as a token, but every day for each OUCH account it must be unique. </td></tr><tr><td>  Buy / sell indicator </td><td>  15 </td><td>  one </td><td>  Characters </td><td>  ‚ÄúB‚Äù - an order to buy <br>  ‚ÄúS‚Äù - an order to sell <br>  ‚ÄúT‚Äù is a short sale, the client confirms the possibility of borrowing shares for their sale and subsequent repurchase within three business days </td></tr><tr><td>  Number of shares </td><td>  sixteen </td><td>  four </td><td>  Integer </td><td>  The total number of shares to be sold or bought must be greater than 1 and less than 1,000,000 </td></tr><tr><td>  Stock </td><td>  20 </td><td>  eight </td><td>  Characters </td><td>  Financial instrument ticker </td></tr><tr><td>  Price </td><td>  28 </td><td>  four </td><td>  Integer </td><td>  The price at which to conduct a transaction. </td></tr><tr><td>  Lifetime </td><td>  32 </td><td>  four </td><td>  Integer </td><td>  The number of seconds that the order must "live" before automatic cancellation. </td></tr><tr><td>  Trader ID </td><td>  36 </td><td>  four </td><td>  Characters </td><td>  The field must contain only capital letters.  Trader ID under which account the order was sent.  One logical OUCH account can be used to enter orders from multiple traders. </td></tr><tr><td>  Display </td><td>  40 </td><td>  one </td><td>  Characters </td><td>  This field displays the order display settings (Attributalbe-Price to Display, Anonymous-Price to Comply, etc.) </td></tr><tr><td>  Capacity </td><td>  41 </td><td>  one </td><td>  Characters </td><td>  There are 4 possible field values: <br>  ‚ÄúA‚Äù = agency <br>  ‚ÄúP‚Äù = principal <br>  ‚ÄúR‚Äù = riskless <br>  ‚ÄúO‚Äù = other </td></tr><tr><td>  The possibility of transferring the application between the markets Nasdaq (intermarket sweep eligibility) </td><td>  42 </td><td>  one </td><td>  Characters </td><td>  ‚ÄúY‚Äù - yes <br>  ‚ÄúN‚Äù - no </td></tr><tr><td>  Minimal amount </td><td>  43 </td><td>  four </td><td>  Integer </td><td>  Minimum acceptable number of shares to buy or sell </td></tr><tr><td>  Type of cross application </td><td>  47 </td><td>  one </td><td>  Characters </td><td>  Describes the types of cross-applications (Opening cross, Closing cross, Supplemental Order, etc.) </td></tr><tr><td>  Client type </td><td>  48 </td><td>  one </td><td>  Characters </td><td>  An optional field indicating that the order is intended for execution in the common market. </td></tr></tbody></table><br>  There are also messages for: <br><br><ul><li>  Replace Order Message; </li><li>  Cancel Order Message; </li><li>  Modify Order Parameters; </li></ul><br>  In addition, there are a number of system messages.  Here are some of them: <br><br><ul><li>  The message about events in the Nasdaq system (System Event Message) - in particular, they transmit information about the start of trading and the close of the trading day; </li><li>  Notification of the acceptance of the message - it is used to confirm the fact that the order was accepted by the exchange's trading system; </li><li>  Notification about the replacement of the order - the reaction to the corresponding message of the trader; </li><li>  The notification about the cancellation of the order is the same, the reaction to the trader‚Äôs team; </li><li>  Notification of the execution of the order - information about the execution of the order; </li><li>  Execution Error Notification - indicates the reason for which the transaction could not be completed; </li><li>  Notification of refusal to execute an order - the reasons for the refusal to execute are indicated here. </li></ul><br>  On the Nasdaq, there are more flexible protocols, like FIX, but alternatives lose OUCH in performance and speed. <br><br><h4>  How ITCH works </h4><br>  In turn, <a href="http://www.nasdaqtrader.com/content/technicalsupport/specifications/dataproducts/NQTVITCHspecification.pdf">ITCH</a> displays quotes and order information for all price levels for all securities and financial instruments traded on the Nasdaq.  In addition, ITCH messages contain data on which financial instruments will be traded on the current day, trading in which shares are suspended and other important proprietary information. <br><br>  In addition to the transfer of dynamic information about the queue of requests and quotations, ITCH contains information on the opening and closing prices of the market, and even data on applications for participation in the IPO - for such orders, the message Net Order Imbalance Indicator is used. <br><br>  Among the existing types of ITCH messages: <br><br><ul><li>  System events - the beginning of trading, the closing of the market, the beginning and end of the work of data feed, etc .; </li><li>  Stock information - trading status of financial instruments, etc. </li><li>  Market maker data; </li><li>  Information about securities stocks on IPO; </li><li>  etc. </li></ul><br>  Below is an example of a message about the addition of new anonymous orders to the general queue of applications: <br><br><img src="https://habrastorage.org/files/443/fa6/b01/443fa6b01c874ecd9d0b2085e95fb110.png"><br><br>  In addition, ITCH also transfers data about canceling, modifying, or replacing orders. <br><br>  There is an ITCH implementation specifically for FPGA-based trading systems - this data stream is distributed from a dedicated Nasdaq data center in New Jersey.  In this case, the requirements for client connections are 10 or 40 gigabits, otherwise the data feed is not provided. <br><br>  As in the case of OUCH, Nasdaq offers alternatives to ITCH ‚Äî for example, TotalView Aggregate, but other protocols do not allow such a wide range of data to be obtained. <br><br><h4>  Conclusion </h4><br>  ITCH and OUCH protocols were created for use in the Nasdaq-OMX markets, but even this exchange provides other options for connecting customers.  For example, the implementation of FIX and FAST protocols is used to obtain market information (Market Data) and transfer trade data.  At the same time, the ITCH and OUCH protocols are applied on other exchange platforms, for example, stock exchanges in <a href="http://www.asx.com.au/documents/trading_services/asx-ouch.pdf">Austria</a> , <a href="http://www.borsaistanbul.com/docs/default-source/%25C3%25BCye-%25C3%25B6zel-doc/bist-equity-market-itch-spec.pdf%3Fsfvrsn%3D8">Turkey</a> and <a href="http://www.six-swiss-exchange.com/download/participants/trading/x-stream_inet_performance_measurement_details.pdf">Switzerland</a> . <br><br>  In our next articles we will continue to talk about existing exchange technologies, in particular, we will discuss the protocol Simple Binary Encoding, which, to a certain extent, is the successor of the FIX case. <br><br>  PS ITinvest allows its customers to <a href="http://www.itinvest.ru/services/markets/international-markets/cme/">organize a connection</a> not only to Russian, but also to foreign exchange platforms (for example, CME Group). <br><br>  Other materials about exchange technologies: <br><br><ul><li>  <a href="https://habrahabr.ru/company/itinvest/blog/242789/">Financial data transfer methods: FIX protocol</a> </li><li>  <a href="https://habrahabr.ru/company/itinvest/blog/243657/">Ways to transfer financial data # 2: FAST protocol</a> </li><li>  <a href="https://habrahabr.ru/company/itinvest/blog/261709/">Financial Transmission Ways # 3: Plaza II Protocol</a> </li><li>  <a href="https://habrahabr.ru/company/itinvest/blog/270961/">Financial Transmission Ways # 4: ASTS Bridge Protocol</a> </li><li>  <a href="https://habrahabr.ru/company/itinvest/blog/275967/">How does the world's largest stock exchange from Chicago: infrastructure and technology</a> </li><li>  <a href="https://habrahabr.ru/company/itinvest/blog/274021/">Trading and "iron": What are stock exchange data centers</a> </li></ul></div><p>Source: <a href="https://habr.com/ru/post/278811/">https://habr.com/ru/post/278811/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../278801/index.html">Custom configuration file in Rails</a></li>
<li><a href="../278803/index.html">I invite to the programming championship</a></li>
<li><a href="../278805/index.html">Charts and other usefulness for UWP applications</a></li>
<li><a href="../278807/index.html">Intel RealSense SDK Plug-in for Unreal Engine 4</a></li>
<li><a href="../278809/index.html">OSSIM - we use integrated open source security management system</a></li>
<li><a href="../278813/index.html">Register for the webinar ‚ÄúUsing Panda SaaS Solutions to Protect and Manage Enterprise IT Assets‚Äù</a></li>
<li><a href="../278815/index.html">Android application architecture</a></li>
<li><a href="../278817/index.html">ReactiveCocoa. Concurrency. Multithreading</a></li>
<li><a href="../278819/index.html">Security in the hands of a smartphone: the first car without keys is on its way</a></li>
<li><a href="../278821/index.html">The book "Algorithms: development and application. Classic Computer Science ¬ª</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>