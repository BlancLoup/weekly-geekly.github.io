<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We write and collect Android applications in the linux console</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article I will show how you can build an apk file in Ubuntu using only 
 command line utilities. 


 Usually, Android Studio is used to create...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We write and collect Android applications in the linux console</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/getpro/habr/post_images/92d/afb/48a/92dafb48ab3e8bc6e37f50d01b8fcb8f.png" alt="image"></p><br><p>  In this article I will show how you can build an apk file in Ubuntu using only <br>  command line utilities. </p><br><p>  Usually, Android Studio is used to create applications for Adroid.  But to build small programs, you can get away with the command line.  For example, when computer resources are limited and your application is very simple. </p><br><p>  As a permanent development environment, this may not be very convenient, but if you need to <br>  sometimes collecting some small utilities is just right. </p><a name="habracut"></a><br><h2 id="vvedenie">  Introduction </h2><br><p>  Development for Android is not the main focus of my work, I sometimes make some small applications for my needs. </p><br><p>  I used to use QPython, but it is rather heavy and inconvenient to use.  Therefore, I turned to the development of native programs.  Even with superficial knowledge of Java <br>  This is not a big deal. </p><br><p>  This guide is largely based on this document: <a href="http://www.hanshq.net/command-line-android.html">Building an Android App</a> <a href="http://www.hanshq.net/command-line-android.html"><br></a>  <a href="http://www.hanshq.net/command-line-android.html">from the Command Line</a> .  Who are interested in the details, refer to the source. </p><br><p>  A similar article: <a href="https://habrahabr.ru/post/210584/">Writing, compiling and running HelloWorld for Android in a notebook</a> has already been encountered on this resource, but it reviewed the development in Windows. </p><br><p>  Here I will look at how to build an application in linux. </p><br><h2 id="zhelezo">  Iron </h2><br><p>  Testing was conducted on an old netbook with an Atom processor, 1GB of RAM <br>  and 8GB SSD disk. </p><br><h2 id="operacionnaya-sistema">  operating system </h2><br><p>  I tested the application on Ubuntu 17.04.  Starting from Ubunu 16.04, you can install android-sdk through a package manager. </p><br><div class="spoiler">  <b class="spoiler_title">Manually Downloading the SDK</b> <div class="spoiler_text"><p>  Basically, the same SDK can <br>  <a href="https://developer.android.com/studio/index.html">download from the site</a> . <br>  Download file from the <em>'Get just the command line tools'</em> section <br>  In fact, this does not greatly change the process, but through the package manager everything is much simpler. <br>  The difference will be only in the ways and installation of additional packages "android-platform". </p></div></div><br><h2 id="ustanovka-paketov">  Package installation </h2><br><p>  So, let's proceed to the installation. </p><br><pre><code class="bash hljs">sudo apt install android-sdk</code> </pre> <br><p>  A large number of packages will be installed, including Java. </p><br><p>  Further, depending on the required version of Android, you need to install the necessary <br>  version of the packages.  For lolipop 5.1, you must install: </p><br><pre> <code class="bash hljs">sudo apt install google-android-platform-22-installer sudo apt install google-android-build-tools-22-installer</code> </pre> <br><p>  It is also necessary to install an additional package. </p><br><pre> <code class="bash hljs">sudo apt install apksigner</code> </pre> <br><p>  If you plan to install apk-package via <strong>adb</strong> , then you need a few additional settings. </p><br><h3 id="nastroyka-adb">  Adb setup </h3><br><p>  Use lsusb to find a connected device. </p><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># lsusb .... Bus 001 Device 004: ID 1782:75b0 MyDevice ....</span></span></code> </pre> <br><p>  And create a file with the rule: </p><br><pre> <code class="bash hljs">sudo vi /etc/udev/rules.d/51-android.rules</code> </pre> <br><p>  Add one line to the file: </p><br><pre> <code class="hljs pgsql">SUBSYSTEM=="usb", ATTR{idVendor}=="1782", MODE="0666", <span class="hljs-keyword"><span class="hljs-keyword">GROUP</span></span>="plugdev"</code> </pre> <br><p>  Here "1782" is taken from the <strong>lsusb</strong> output. </p><br><p>  Restart service </p><br><pre> <code class="bash hljs">sudo systemctl restart udev</code> </pre> <br><p>  After connecting via <strong>adb</strong> , the device must confirm the connection. </p><br><p>  Now everything is ready for work. </p><br><h2 id="postanovka-zadachi">  Formulation of the problem </h2><br><p>  An application that we will build is a bit more complicated than 'Hello world'. </p><br><ul><li>  Required by pressing the button to take a line from the clipboard. </li><li>  Cut a substring </li><li>  Write the substring back to the buffer. </li><li>  With the help of Toast, print a substring or an error message. </li></ul><br><p>  In general, everything is simple. </p><br><p>  I have prepared <a href="https://bitbucket.org/kostya13/extract_video_id">an example</a> which we take as a basis. </p><br><h2 id="sozdanie-podpisi">  Create a signature </h2><br><p>  First, create a key to sign the file: </p><br><pre> <code class="bash hljs">keytool -genkeypair -keystore keystore.jks -<span class="hljs-built_in"><span class="hljs-built_in">alias</span></span> androidkey \ -validity 10000 -keyalg RSA -keysize 2048 \ -storepass android -keypass android</code> </pre> <br><p>  This will come in handy later. </p><br><h2 id="manifest">  Manifesto </h2><br><div class="spoiler">  <b class="spoiler_title">AndroidManifest.xml</b> <div class="spoiler_text"><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">manifest</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:android</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.android.com/apk/res/android"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">package</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ru.kx13.extractvidid"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">versionCode</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">versionName</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0.1"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">uses-sdk</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:minSdkVersion</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"22"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">application</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:label</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"EctractId"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:icon</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@drawable/icon"</span></span></span><span class="hljs-tag"> &gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">activity</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">".MainActivity"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">intent-filter</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">action</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"android.intent.action.MAIN"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">category</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"android.intent.category.LAUNCHER"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">intent-filter</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">activity</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">application</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">manifest</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> </div></div><br><p>  Here we indicate the name of the application in the <strong>"android: label"</strong> attribute.  Also, the application will use its icon, it is listed in the <strong>"android: icon"</strong> attribute.  The icon itself is in the "res / drawable-mdpi" directory file "icon.png".  As an icon, you can take any small png file. </p><br><h2 id="layout">  Layout </h2><br><p>  The file with the location of elements is in the directory "/ res / layout /". </p><br><div class="spoiler">  <b class="spoiler_title">activity_main.xml</b> <div class="spoiler_text"><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LinearLayout</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:android</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.android.com/apk/res/android"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"match_parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"match_parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:gravity</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"center"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:orientation</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"vertical"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TextView</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"wrap_content"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"wrap_content"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/my_text"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/button_id"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"wrap_content"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"wrap_content"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LinearLayout</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> </div></div><br><p>  You can add widgets to it if you want to expand the functionality. </p><br><h2 id="ishodnyy-kod-prilozheniya">  Application source code </h2><br><p>  The source code of the application is here "java / ru / kx13 / extractvidid" </p><br><div class="spoiler">  <b class="spoiler_title">MainActivity.java</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> ru.kx13.extractvidid; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.app.Activity; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.os.Bundle; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.widget.TextView; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.widget.Button; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.widget.Toast; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.view.View; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.content.ClipboardManager; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.content.ClipData; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainActivity</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Activity</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">extract</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String s)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> start = s.indexOf(<span class="hljs-string"><span class="hljs-string">"%3D"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> end = s.indexOf(<span class="hljs-string"><span class="hljs-string">"%26"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(start == -<span class="hljs-number"><span class="hljs-number">1</span></span> || end == -<span class="hljs-number"><span class="hljs-number">1</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"error"</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> s.substring(start + <span class="hljs-number"><span class="hljs-number">3</span></span>, end); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Bundle savedInstanceState)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onCreate(savedInstanceState); setContentView(R.layout.activity_main); TextView text = (TextView)findViewById(R.id.my_text); text.setText(<span class="hljs-string"><span class="hljs-string">" youtube video id"</span></span>); Button button = (Button) findViewById(R.id.button_id); button.setOnClickListener(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> View.OnClickListener() { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View v)</span></span></span><span class="hljs-function"> </span></span>{ ClipboardManager myClipboard = (ClipboardManager) getSystemService(CLIPBOARD_SERVICE); ClipData abc = myClipboard.getPrimaryClip(); ClipData.Item item = abc.getItemAt(<span class="hljs-number"><span class="hljs-number">0</span></span>); String text = item.getText().toString(); String video_id = MainActivity.extract(text); ClipData myClip = ClipData.newPlainText(<span class="hljs-string"><span class="hljs-string">"text"</span></span>, video_id); myClipboard.setPrimaryClip(myClip); Toast toast = Toast.makeText(getApplicationContext(), video_id, Toast.LENGTH_SHORT); toast.show(); } }); } }</code> </pre> </div></div><br><p>  The code is very simple and primitive, but this template can be used in other applications. </p><br><h2 id="skript-dlya-sborki">  Build script </h2><br><p>  I did not use build tools like <strong>make</strong> or <strong>ant</strong> , since  All code is in one file and it will not give special advantages.  Therefore, this is a regular shell script: </p><br><div class="spoiler">  <b class="spoiler_title">build.sh</b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/sh SOURCE=ru/kx13/extractvidid BASE=/usr/lib SDK="${BASE}/android-sdk" BUILD_TOOLS="${SDK}/build-tools/22.0.1" PLATFORM="${SDK}/platforms/android-22" mkdir -p build/gen build/obj build/apk "${BUILD_TOOLS}/aapt" package -f -m -J build/gen/ -S res -M AndroidManifest.xml -I "${PLATFORM}/android.jar" javac -source 1.7 -target 1.7 -bootclasspath "${JAVA_HOME}/jre/lib/rt.jar" \ -classpath "${PLATFORM}/android.jar" -d build/obj \ build/gen/${SOURCE}/R.java java/${SOURCE}/MainActivity.java "${BUILD_TOOLS}/dx" --dex --output=build/apk/classes.dex build/obj/ "${BUILD_TOOLS}/aapt" package -f -M AndroidManifest.xml -S res/ -I "${PLATFORM}/android.jar" \ -F build/Extractor.unsigned.apk build/apk/ "${BUILD_TOOLS}/zipalign" -f 4 build/Extractor.unsigned.apk build/Extractor.aligned.apk apksigner sign --ks keystore.jks \ --ks-key-alias androidkey --ks-pass pass:android \ --key-pass pass:android --out build/Extractor.apk \ build/Extractor.aligned.apk</span></span></code> </pre> </div></div><br><p>  Some comments on the paths. </p><br><ul><li>  By default, the <strong>BASE</strong> variable points to the path in which the package manager saves files.  If you install the SDK manually, then the path will need to be changed. </li><li>  If you are using an API version other than 22, then you need to tweak the variables <strong>BUILD_TOOLS</strong> and <strong>PLATFORM</strong> </li></ul><br><h2 id="sborka-i-ustanovka">  Assembly and installation </h2><br><p>  To build, simply run </p><br><pre> <code class="hljs">./build.sh</code> </pre> <br><p>  If everything is configured correctly, no messages will be displayed, and the file "Extractor.apk" will appear in the "build" directory </p><br><p>  Now we need to install our application. </p><br><pre> <code class="bash hljs">adb install -r build/Extractor.apk</code> </pre> <br><p>  If everything went well, a new application will appear on the device.  You can run and use. </p><br><p>  In general, you can transfer the <em>apk</em> file to the device in any convenient way. </p><br><h2 id="zaklyuchenie">  Conclusion </h2><br><p>  As you can see from the article to start development in the console is a snap. </p><br><p>  Console utilities allow you to develop programs with very small resources. </p><br><p>  Pleasant development! </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/335074/">https://habr.com/ru/post/335074/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../335060/index.html">How to stand on the shoulders of a giant. Allowance for fintech startups</a></li>
<li><a href="../335064/index.html">GitLab 9.4 released: Related tasks and web monitoring applications</a></li>
<li><a href="../335066/index.html">Hackathon "Budget-Pro": the first step to winning the competition</a></li>
<li><a href="../335068/index.html">Warned means intellectual callback</a></li>
<li><a href="../335072/index.html">Advanced Ruby Enumerations</a></li>
<li><a href="../335076/index.html">JetBrains Rider 2017.1 - the first release of the new cross-platform .NET IDE</a></li>
<li><a href="../335080/index.html">Optimization of presentation templates in the Codeigniter Framework using AST transformations</a></li>
<li><a href="../335082/index.html">Visual Plugin Pack in OBIEE: what it is eaten with and how it is prepared</a></li>
<li><a href="../335084/index.html">5G Through the Eyes of Huawei</a></li>
<li><a href="../335092/index.html">10 basics of branding for start-ups</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>