<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>From Phone to Cloud: Azure Mobile Services. Where to begin?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Author: Anastasia Belokurova, .NET Developer DataArt. 

 I'll tell you how and why to use the Azure Mobile Services cloud system for your mobile apps....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>From Phone to Cloud: Azure Mobile Services. Where to begin?</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/fb4/9d0/36d/fb49d036d70e43a7977afbe9e3e79da2.png"><br>  Author: Anastasia Belokurova, .NET Developer DataArt. <br><br>  I'll tell you how and why to use the Azure Mobile Services cloud system for your mobile apps.  To do this, we will analyze a small application, by the example of which we will see how this all works, we will touch on both practice and theory. <br><br>  But before that, let's remember what the benefits of cloud technologies are and how these technologies relate to mobile devices. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  <b>Cloud Benefits</b> </h5><br>  The term "cloud computing" appeared quite a long time ago, but its meaning changed a little.  At first cloud computing was called simply distributed computing.  But now the cloud platform is a large set of convenient services that you can use to solve your problems. <br><br>  So why clouds?  They provide the following benefits to your application: <br><ul><li>  Scalable. </li><li>  Reliability. </li><li>  Large selection of services. </li></ul><br><br>  Imagine that you run a small online store - first you just want to check whether it will be in general in demand.  Your budget is small.  Therefore, you write a small web application and place it on your computer, which you do not turn off at night.  Your site has access from the outside, and it can withstand, say, 10 users at a time.  Over time, your site becomes popular, and you already need it to withstand 100 users at a time.  But your computer is not able to cope with such a load.  And then you start to think, can I turn my apartment into a server room? .. No, this is terribly inconvenient!  Then you buy the server provided by the hosting.  Now your site supports 100 requests per minute and even a thousand.  Finally, at some point you realize that you are entering the global market, because you have a lot of users around the clock, and the servers that you bought are no longer cope. <br><br>  Here we come to the first advantage of cloud platforms - they provide the scalability of almost everything at almost any time.  And this is done very simply, quickly and conveniently: you only have to think about development, and not about placement and load.  This is the first advantage. <br><a name="habracut"></a><br>  The second.  Suppose you have a successful project with many visitors and users hosted on servers.  And then a meteorite falls on your servers or something else happens.  And in general all the data of your project was stored on them ... Meanwhile, most of the cloud platforms support replication: you choose the region in which the application will reside, but it will automatically be duplicated on servers in some other region.  Therefore, cloud providers always securely store your data: they promise that in force majeure situations they will be restored in about 20 minutes. You will never achieve such reliable data protection if you store your data in one place. <br><br>  The third is also a very important advantage: now most of the cloud providers provide many bicycle services that can be used.  This is the code that we can use in each project.  Therefore, we can not write the same code every time, not build the same architecture - much of this is provided to us.  We can take advantage of this and think only about the specific things that are needed for a specific project. <br><br><h5>  <b>Mobile devices and cloud technologies</b> </h5><br>  How are mobile devices connected to clouds? <br><br>  Many mobile applications work only with connected Internet.  Therefore, they can use logic that is not located on the phone, but is located somewhere on the servers - this saves device resources. <br><br>  It is worth noting that now there is a tendency to increase the use of mobile devices in everyday life - one person may even have several such devices.  And, of course, convenient if the data between all these mobile devices are synchronized.  If all our devices, for example, from Apple - with this there are no problems.  But what if our devices have different OS?  Separately write applications for each of the OS?  It is not comfortable!  And where to store the general data?  Thus, we can highlight the following list of problems: <br><ul><li>  Requires launch on different platforms. </li><li>  It is inconvenient to write one application for different platforms. </li><li>  Access to data is needed from other applications. </li></ul><br><br>  Cloud technologies help solve these problems.  Let's look at a solution using the example of Azure Mobile Services. <br><br><h5>  <b>Create an app using Azure Mobile Services</b> </h5><br>  The application that we consider - the list of tasks.  This is the simplest application that you can download by logging on to the Azure Portal.  In this application, you can create tasks, delete them and rename.  The application includes basic functionality for working with Azure services. <br><br><img src="https://habrastorage.org/files/b37/eb5/c12/b37eb5c127f94c5b933abffd8e552153.png"><br><br>  We need this application to work on different devices with different operating systems, and that everything is synchronized.  Let's look at an example of a task list, how to write a mobile application using Azure Mobile Services using PhoneGap.  PhoneGap is a framework that allows you to write code once, and then compile it for multiple platforms.  In other words, you do not need to write native applications for each OS. <br><br>  In addition to PhoneGap, for the development of such an application you will need: <br><ul><li>  SQL Azure is the base in which all your data will be stored.  This service operates independently of Mobile Services, but Mobile Services has functionality that makes it easier to work with SQL Azure. </li><li>  SDK: Android SDK, Visual Studio Express for Windows Phone 8, and / or Xcode, depending on which platform you are developing for.  I will show you the development in Visual Studio. </li></ul><br><br>  To solve the challenges we face, you need to create an Azure Mobile service.  To do this, we need to go to <a href="http://portal.azure.com/">Azure Portal</a> , and click ‚Äúcreate mobile service‚Äù (compute&gt; mobile service&gt; create): <br><br><img src="https://habrastorage.org/files/e93/55f/ac8/e9355fac8d724cc8ad063ca59e885641.png"><br><br>  What is important in the mobile service?  Its URL, the database with which it will work (we cannot create a mobile service without it), the region (the place where your data will be placed) and the language in which you will write the service logic.  For example, I chose Node.js for this application (you can also choose .NET). <br><br><img src="https://habrastorage.org/files/49d/757/972/49d757972f7a49fba548f1df50ceee45.png"><br><br><img src="https://habrastorage.org/files/750/18b/729/75018b72938a4991b6ee3ceec4d46651.png"><br><br>  After creating the service, you enter the portal: <br><br><img src="https://habrastorage.org/files/8ca/2d4/e46/8ca2d4e46b2348daa60b87fa0f216a6c.png"><br><br>  Here you see your service.  Go to it and see the following "start page": <br><br><img src="https://habrastorage.org/files/0d4/2fd/d8a/0d42fdd8a2914d0f8cd01e3ee1f2300b.png"><br><br>  Here you can choose one of the platforms that you will use to present (UI) your application.  That is, the next step you will download is a ready project with all the necessary connected libraries in the desired language, with which you will continue to work. <br><br>  Of course, you can create an environment in other environments, you can write from scratch, but it will be more convenient to download from here.  Here you can download native applications for Android, iOS or Windows, or just an HTML application.  Xamarin and PhoneGap are frameworks that allow cross-platform development.  They differ in that in Xamarin you write on .NET, and in PhoneGap - in JS;  and then you just compile the code and run the application on the platform you need. <br><br>  Choosing PhoneGap, you see such a small step-by-step instruction: <br><br><img src="https://habrastorage.org/files/855/d54/ae4/855d54ae4b2e4368a2e186c1835fb96b.png"><br><br>  Here are the necessary tools.  In the second step, you must create a table for the base application ‚Äî this will be the table in the database associated with your mobile service.  Then you download the application and can use it.  Everything! <br><br><h5>  <b>Some theory</b> </h5><br>  And now I will talk about how this all works. <br><br>  Any such application that works with data will have the following structure: <br><br><img src="https://habrastorage.org/files/3ca/ecf/6e6/3caecf6e67c54538a9e09c268fa86132.png"><br><br>  Of course, your application may be more complicated, but in any case it includes these parts: the view (the only thing that will be placed on the device), the database (which the application works with) and the server logic (that will transfer data from the database to the view) .  The diagram shows that Azure is responsible for the database and server logic.  The server logic you have originally written to Azure ‚Äî you can only modify it a little to suit your needs. <br><br><img src="https://habrastorage.org/files/60d/ecc/1ab/60decc1ab6dc4ba2904e4ae80eff674b.png"><br><br><h5>  <b>What else does Azure provide besides data storage and logic?</b> </h5><br><ul><li>  Authentication.  It is carried out, including with the help of popular social networks, that is, you can not write the logic for it yourself. </li><li>  Push service (push notifications), which shows the user notifications on his mobile device, if he is online. </li><li>  Task Manager.  It is needed, for example, so that your application, for example, once a week shows users notifications (in the case of an online store, this can be information about discounts). </li></ul><br><br><h5>  <b>Database</b> </h5><br>  As for the database, it is a SQL database.  You can write any queries to it, and there is indexing that you need. <br><br>  A very nice thing is a dynamic scheme that allows you not to build all the tables completely.  Suppose your application has four columns in a table, and there you entered some more data for which columns are not provided.  Do not worry - everything will be added! <br><br>  The database can be easily managed from all possible portals and applications designed for this.  These can be Azure Portal (read and delete), SQL Portal (Silverlight), SQL Management Studio (Windows) and the REST API. <br><br><h5>  <b>REST API</b> </h5><br>  REST API is attached not only to work with the database, but also to the service in general.  This is the only mechanism for interacting with Azure services that our smartphone has.  All requests will go via HTTP (although, I must say, mobile services are already emerging that allow working offline).  Requests will look like this: <br><br><img src="https://habrastorage.org/files/3af/8f3/a42/3af8f3a4234c44b8b2ed254eebae5b25.png"><br><br>  The base address consists of the following elements: [your service name] .azure-mobile.net / tables / [table name]. <br><br><h5>  <b>Todoitem speakers</b> </h5><br>  A little more talk about the database. <br><br>  In any table there are columns ‚Äúid‚Äù, ‚Äúcreated‚Äù, ‚Äúupdated‚Äù, ‚Äúversion‚Äù and ‚Äúdeleted‚Äù.  These columns, with the exception of "id", we do not get from the default database when we get the item.  They are used to determine the time of creation, etc. The main thing is to remember that they are, and not to create something extra.  There are also two columns (‚Äútext‚Äù and ‚Äúcomplete‚Äù), created using a dynamic scheme. <br><br><img src="https://habrastorage.org/files/9f2/036/797/9f20367970c646dfa890d97f37cc2ac5.png"><br><br>  And here is an example of filling the table (what type of data is used in each column, you can see in the image above): <br><br><img src="https://habrastorage.org/files/740/83e/89b/74083e89b03d4b8399e113e559143b7d.png"><br><img src="https://habrastorage.org/files/dad/d05/c7d/dadd05c7dc5a4924a31a6a7b956843f9.png"><br><br>  Column "_deleted" - the implementation of the mechanism of "soft deletion."  That is, when you delete a record, you delete it imaginary: it remains in the table, but users will not see it, and if you need it, you can quickly restore it.  If you still need to completely delete the record under the delete action, you can write your own implementation for this - it is written very simply.  Alternatively, you can delete the entry manually if it is at some stage of testing. <br><br><h5>  <b>Server logic</b> </h5><br>  For mobile services, two server logic languages ‚Äã‚Äãare supported: .NET Web API and Node.js. <br><br><img src="https://habrastorage.org/files/c15/297/11a/c1529711ae9643758ef7e41d56818d5b.png"><br><br>  Node.js provides customized SQL tables by default.  Requests to tables are hidden - we do not write the request itself. <br><br>  The .NET Web API provides all the features that exist when developing common server applications.  You can even connect NoSQL-databases: MongoDB and Table Storage. <br><br><h5>  <b>Implementation example</b> </h5><br>  The most convenient thing about mobile services is that you don't need any environment, no environment to write server-side logic.  Here, for example, a screenshot from the portal: <br><br><img src="https://habrastorage.org/files/e74/1e6/67f/e741e667f6234b4a8b5ac4039f7237a8.png"><br><br>  You choose a table, select the ‚Äúscript‚Äù tab and see ready-made scripts for four operations: insert, update, delete and receive.  By default, the script is reduced to ‚Äúrequest.execute‚Äù.  That is, we get our item, the user who performs these actions, and the object that is responsible for this request.  Here the logic for validation is written: it happens already here, and if it does not pass, we send a special object ‚ÄústatusCodes‚Äù and a certain message, but do not execute ‚Äúexecute‚Äù. <br><br>  And so I wrote this code on the portal, saved it, and my application that works via the Internet (I did not recompile it and did not change it) will work on the basis of this new logic. <br><br><h5>  <b>What else can be done with the cloud service?</b> </h5><br>  Let's look again at the ‚Äústart page‚Äù of our service: <br><br><img src="https://habrastorage.org/files/21a/377/cca/21a377cca06e4283b454a6a091467efa.png"><br><br>  There is a tab ‚ÄúData‚Äù - work with a database.  There you will see a list of tables and you can create new ones.  In the table itself, you will see the data that it contains.  And in the ‚ÄúScript‚Äù section you will see what operations there are to work with the table now. <br><br>  The next tab is ‚ÄúAPI‚Äù.  We can write our own API, if we are not satisfied with the simple functions of creating, updating, and deleting, if we have, for example, some more complex interaction between several tables. <br><br>  There is a ‚ÄúScheduler‚Äù - a task scheduler. <br><br>  ‚ÄúPush‚Äù - create notifications. <br><br>  ‚ÄúIdentity‚Äù - you can configure the authentication mechanism in the application.  All identification data will be in the ‚Äúuser‚Äù object that you saw in the screenshot. <br><br>  ‚ÄúScale‚Äù - service scaling options: you can change the amount of resources allocated for servicing your services, adjust the number of push notifications, etc. <br><br>  As for languages, now you can write applications on .NET, Node.js, Java, PHP and Python, host them in Azure and interact with all the services provided. <br><br>  Azure, of course, is not free, but for students there is a program DreamSpark, which provides many features for free.  There is also a trial subscription for the month. <br><br>  In general, working with Azure Mobile Services is very convenient and simple: all changes are made on the fly (at least in the case of Node.js) and do not need to be recompiled.  The code can be quickly changed from any device.  This is ideal for simple applications and prototypes.  But for complex projects it is hardly suitable - one day we will encounter restrictions that will be quite difficult to get around. <br><br>  Finally, I want to note that since writing the article, Microsoft Azure managed to introduce a new service, Azure Mobile Apps, which is intended in the future to replace Azure Mobile Services.  But this is the topic of the next article. </div><p>Source: <a href="https://habr.com/ru/post/276031/">https://habr.com/ru/post/276031/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../276017/index.html">Adjusted sliding exam, coclassifiers, fractal classifiers and local error probability</a></li>
<li><a href="../276019/index.html">Fuzzy search in the dictionary with the universal Levenshtein automaton. Part 2</a></li>
<li><a href="../276023/index.html">Install / Update Veeam B & R v9 on Hyper-V Server</a></li>
<li><a href="../276025/index.html">SLES 12, Watchdog Timer and IBM / Lenovo Servers</a></li>
<li><a href="../276027/index.html">Debugging and Profiling in Visual Studio 2015</a></li>
<li><a href="../276033/index.html">BPG format can replace animated gif and not only</a></li>
<li><a href="../276035/index.html">BEM methodology: how it all began and why it is all needed</a></li>
<li><a href="../276037/index.html">Prime numbers: history and facts</a></li>
<li><a href="../276039/index.html">The largest hackathon in the history of software development with a prize fund of $ 140,000</a></li>
<li><a href="../276041/index.html">Updates in the service ViaLatM</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>