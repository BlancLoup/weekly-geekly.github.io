<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How we animate the presentation</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Our company is developing systems for shooting video and broadcasting and webinars. The project began in an ordinary apartment with the filming of the...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How we animate the presentation</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/a78/440/e02/a78440e027f91dd637e632fc67ddab06.png"><br><br>  Our company is developing systems for shooting video and broadcasting and webinars.  The project began in an ordinary apartment with the filming of the educational project Skill Up.  It was a non-profit project, so everything had to be done independently.  Often, the speaker had to prepare himself, shoot and edit the video.  This beginning largely determined the direction of development and features of our system. <br><a name="habracut"></a><br>  After a brief search, it was decided to assemble the glass board and write on it with markers. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0a1/1d5/cb5/0a11d5cb570ebf17c35f1f78fa2a53ff.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      And it was a good decision.  The picture looked natural, as teachers used to write on the blackboard, and at the time of writing they looked either at the viewer or at what they were writing. <br><br>  But people write, and even more draw, and even more draw beautifully, not so fast.  It was decided to add some pictures.  And we tried several ways: <br><br><ol><li>  Showed pictures and text on the teleprompter.  In this case, the speaker constantly looks into the camera, and the objects are simply superimposed during installation. </li><li>  Translucent images were displayed on top of the video and projected onto the wall in front of the speaker.  At the same time, the speaker looks at the elements he talks about.  However, the direction of his gaze is quite different from the expectations of the viewer. </li><li>  They displayed translucent images on top of the video, but now they put labels on the glass where the elements are located.  Now the lecturer is looking where it is necessary, but only labels must be set for each new object and remember what each label is responsible for. </li><li>  We drove our hands in the place where the object is expected to appear, and then substituted the objects during installation.  But this option turned out to be extremely laborious, both in terms of post-processing and in terms of filming. </li></ol><br>  Then we conducted an analysis of the market, which showed that the majority use either a ‚Äútalking head‚Äù along with a presentation, or expensive methods (for example, shooting with chroma key).  And we started developing our own software product.  At the same time, they tried to ensure that the speaker simply downloaded our program, made a presentation in it, conducted shooting in the studio, and then cut off the beginning and end of good duplicates using the built-in Windows or YouTube tools and received the finished video.  Further, by removing the bottlenecks, we were able to start broadcasting without losing quality. <br><br>  Consider how everything works: <br><img src="https://habrastorage.org/getpro/habr/post_images/66a/556/55c/66a55655cd78ebb67ef4a0552b786ea4.png"><br><br>  The video camera shoots the lecturer.  Video and sound come to the local server where the presentation is overlaid.  The resulting video stream is saved to disk and sent to the broadcast server to which viewers are connected.  The same video stream is displayed on the screen, located in front of the speaker.  Thanks to this screen, the speaker sees himself and the elements that surround him. <br><br>  The picture projected on the screens is distorted so that the viewer has the illusion that the speaker is looking at these elements located on the plane in front of him.  The image on the screens looks like this: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b39/b59/8be/b39b598be65daa13492c1a83252c5ce0.jpg"><br><br>  When the speaker begins to move, the video on the screens should be distorted so that the eyes still look at the objects on the slide.  Below is shown how the image transmitted to projectors is distorted when a person is moved from left to right. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ab1/f53/d46/ab1f53d460b2ff08e4f52ba87275156f.png"><br><img src="https://habrastorage.org/getpro/habr/post_images/435/e2e/a6b/435e2ea6b01fe10bc79877ae053b4a7d.png"><br><img src="https://habrastorage.org/getpro/habr/post_images/281/996/108/281996108ec0eb9e33e36df532ab29c7.png"><br><br>  It is seen that the images on the left and right projectors are distorted in different ways.  This is due to the fact that the projectors are located at different angles and at different distances from the screens. <br><br>  The system allows you to work with screens of various shapes.  For example, we have a studio in which the projection takes place directly on the walls, which is convenient for small rooms: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e73/7ec/7a6/e737ec7a63479b900e70291f1acde1df.png"><br><br>  Now it is possible to look at the object, show it to the elements with your hands and write with a marker during the shooting.  But I wanted to add more interaction options, and then our choice fell on Kinect v2.  Now we have the coordinates of the head, hands and information about the three gestures: "fist", "palm" and "lasso".  Next, the coordinates from Kinect had to be converted to the coordinates of the main camera.  And here OpenCV and Habr <a href="https://habrahabr.ru/post/272629/">habrahabr.ru/post/272629</a> came to the rescue.  Many thanks to the author for the sensible article.  I would like to share my experience: use a large size chessboard.  Now we use a board of 6x9 cells and the size of A0.  This increases the accuracy of the conversion and significantly accelerates the convergence of the algorithm. <br><br>  First, simple features were added: draw or erase with the help of a hand, move objects, hide them or make them visible.  Next, active elements were created: a ‚Äúmap‚Äù on which you can navigate and change the scale, a ‚Äútext‚Äù with the possibility of vertical rewinding and a ‚Äúbrowser‚Äù, which can be used almost in the same way as in a regular touch interface. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/42e/1ce/402/42e1ce402e6bf06fb2b986d18b5a6b03.png"><br><br>  And that's what happened: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/Rl8dqrvl5Do" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  And you can add a glass board: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/VuDp6HWNcLM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe> <br>  Before the advent of active elements, users created presentations in Power Point and imported into Jalinga Studio using the built-in mechanism.  But these changes required us to create a fully-fledged built-in editor for creating presentations. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f96/07e/7dc/f9607e7dcfeb0126447dc306122fba67.jpg"><br><br>  An important feature of the system is the ability to independently manage the shooting process.  Using the joystick and hand gestures, the speaker controls all stages of the shooting or broadcasting process. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1b0/bac/d22/1b0bacd22a655bf497abec80bb388749.png"><br><br>  The speaker has a lot of control over the process of shooting: start and finish video recording, mark successful duplicates and move on to the next scene, draw, erase, interact with active elements, manage feedback, etc. <br><br>  On how the program part is arranged, we will discuss in more detail in the following articles.  For now, we only mention that the system does not require a lot of resources, and a computer with the following configuration can be used as a server: i5-4460, DDR3 8 GB (2x4GB), GeForce GTX750Ti, AVerMedia Live Gamer HD. <br><br>  So, in general terms, we tried to revive presentations already familiar to everyone.  In the near future, we plan to focus on new ways to interact with the audience during the broadcast and webinars.  For now we will be glad to comments and questions. </div><p>Source: <a href="https://habr.com/ru/post/317082/">https://habr.com/ru/post/317082/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../317066/index.html">Psychology in the service of information security. Tendency to crime</a></li>
<li><a href="../317068/index.html">Install Oracle ApEx</a></li>
<li><a href="../317072/index.html">vSphereTools: How we created an open source automation tool for vSphere</a></li>
<li><a href="../317074/index.html">Features of the implementation of a virtual machine in Dart. JS and Dart compiler eyes</a></li>
<li><a href="../317078/index.html">Overtaking compiler</a></li>
<li><a href="../317084/index.html">On the eve of the birthday of the first female programmer: my story</a></li>
<li><a href="../317086/index.html">New service on My Circle - access to the resume database</a></li>
<li><a href="../317088/index.html">Your / my / our code</a></li>
<li><a href="../317090/index.html">Asterisk, Hangupcause Substitution</a></li>
<li><a href="../317092/index.html">The Stegano exploit kit is used by attackers to compromise users.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>