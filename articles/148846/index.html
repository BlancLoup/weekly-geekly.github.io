<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Sieve method in the game "Bulls and Cows"</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello. 
 Back in the fall of the 2nd year as a laboratory work on the Theory of Automata, the teacher thought up tasks for us on the move, orienting o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">🔎</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">📜</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">⬆️</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">⬇️</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Sieve method in the game "Bulls and Cows"</h1><div class="post__text post__text-html js-mediator-article">  Hello. <br>  Back in the fall of the 2nd year as a laboratory work on the Theory of Automata, the teacher thought up tasks for us on the move, orienting ourselves to our wishes in the assessment.  These were mostly games.  Someone got hockey, someone got tennis, but I did not get the well-known logic game <b>"Bulls and Cows</b> . <b>"</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f5e/ac9/9a4/f5eac99a43186bc02b21952cc10156fa.jpg" alt="image"><br><a name="habracut"></a><br>  It was necessary to implement at least some reasonable behavior of the computer in a game with a person.  But I went further and already after a month the computer in most cases easily beat my classmates.  And on the subject was received automatic.  Get the program after the description of the algorithms. <br><br><h4>  The essence of the game </h4><br>  The player and computer guess four-digit numbers using numbers from <i>0</i> to <i>9</i> .  Players try to figure out the opponent’s numbers by sending him possible numbers, in return, receiving two numbers - the number of <i>"bulls"</i> and the number of <i>"cows</i> . <i>"</i>  What are these numbers like? <br><ul><li>  "Bulls" - the right numbers in the right places.  Four "bull" - a pledge of victory, the dream of every farmer. </li><li>  “Cows” are the right numbers in the wrong places. </li></ul><br>  For understanding, I will give an example: <br><blockquote>  The number <i>1622 is made</i> .  If we assume <i>6112</i> , then the answer will come: <i>1 bull</i> (fourth digit “2” in its place), <i>2 cows</i> (six and one not in their places). </blockquote><br>  Using data about the "cattle" of the enemy, you need to guess the number faster than him. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The first trivial algorithm that suggests itself is to iterate over the sets <i>“1111”, “2222”, “3333” ...</i> until the complete set is obtained, and then to generate displacements of this set. <br><blockquote>  For example, the same number is made up in <i><b>1622</b></i> , we assume <i>“1111”</i> , we get <i>“bull”</i> in response, then <i>“2222”</i> - we get in response already <i>2 “bulls”</i> , <i>“3333”</i> is empty, <i>“4444”</i> is empty, <i>“5555”</i> - it is empty, <i>"6666"</i> - <i>1 bull</i> . <br>  We will not continue further, since <u>there are already 4 bulls</u> in total.  It remains to find the right combination.  We will generate permutations until we get Ta-daaam: <i>“1226”, “1262”, “1226”, “1262”, <b>“1622”</b></i> .  Everything. </blockquote><br>  Obviously, the algorithm is not very good, but it is understandable and not confused.  The maximum number of guesses for guessing is 10 (“7890”) + 24 permutations.  <i>34</i> is the worst case.  Of course, it is possible to optimize brute force and permutations, for example, iterate alternately from two ends - <i>“1111”, “0000”, “2222”, “9999” ...</i> also optimize the generation of permutations in the presence of identical numbers (as in our example - several times ask the same thing). <br>  But we will not do it.  Let this strategy be with us an easy level of computer complexity. <br><br>  I sat a lot on pairs and played with myself, trying to come up with some kind of a cool algorithm.  But only individual ideas came from which I could not make a single strategy.  He began to study literature.  I came across articles, sort of "guessing in 7 moves."  They did not attract me, because there <i>is a</i> lot of branching.  But after reading the book of our Kirov professor (but not from our university) <b>S.M.</b>  <b>Okulova "Programming in algorithms,"</b> I found a description of a fairly simple and fairly effective algorithm.  It uses the so-called <b>“sieve method”</b> (an example is the well-known <i>“Erastophen sieve”</i> - the classical problem of finding primes).  We consider a finite set of all possible numbers and every move excludes all elements of the set that are of no interest. <br><blockquote>  For example, for the hidden number <i>1234</i> we assumed <i>5678</i> , and got <i>0 bulls and 0 cows</i> , what to think - we exclude all numbers containing <i>5, 6, 7, 8</i> .  You can immediately estimate how much will be taken from <i>10,000.</i> Do not be afraid of the multitude of <i>10,000</i> elements.  For <i>5-6</i> moves, only a few numbers will remain. </blockquote><br>  Let's start with the data structures.  Pascal code: <br><br><pre><code class="hljs vhdl">Const Pmax=<span class="hljs-number"><span class="hljs-number">10000</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">Type</span></span> Post=<span class="hljs-built_in"><span class="hljs-built_in">string</span></span>[<span class="hljs-number"><span class="hljs-number">4</span></span>]; Var A:<span class="hljs-keyword"><span class="hljs-keyword">array</span></span>[<span class="hljs-number"><span class="hljs-number">1</span></span>..Pmax] <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> Post; // B:<span class="hljs-keyword"><span class="hljs-keyword">array</span></span>[<span class="hljs-number"><span class="hljs-number">1</span></span>..Pmax] <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-built_in"><span class="hljs-built_in">boolean</span></span>; //  , <span class="hljs-number"><span class="hljs-number">1</span></span> -  , <span class="hljs-number"><span class="hljs-number">0</span></span> - </code> </pre> <br><br>  Initialization: <br><br><pre> <code class="hljs pgsql">t:=<span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i:=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> j:=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> k:=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> l:=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> a[t]:=inttostr(i)+inttostr(j)+inttostr(k)+inttostr(l); //   inc(t); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i:=<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> pmax <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> b[i]:=<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; //     </code> </pre> <br><br>  The function that implements the analysis of the element set for the values ​​of variables (bk, kr - bulls and cows) <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">function</span></span> pr(a,b:post;bk,kr:<span class="hljs-type"><span class="hljs-type">integer</span></span>):<span class="hljs-type"><span class="hljs-type">boolean</span></span>; //b -  , a-  ""  var i,x:<span class="hljs-type"><span class="hljs-type">integer</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> x:=<span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i:=<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> //    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> a[i]=b[i] <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> inc(x); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> x&lt;&gt;bk <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> pr:=<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">exit</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; x:=<span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i:=<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> //    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (a[i]&lt;&gt;b[i]) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> (pos(b[i],a)&lt;&gt;<span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> inc(x); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> x&lt;kr <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> pr:=<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">exit</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; pr:=<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;</code> </pre> <br><br>  so after each of our moves we launch a sieve <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i:=<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> Pmax <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> b[i] <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> pr(a[i],hod,bk,kr) <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> b[i]:=<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>;</code> </pre><br><br>  In conclusion, we can say that the algorithm is memory-intensive and, compared to standard algorithms, it will think “longer”, but how much simpler and fully optimized it is. <br>  Well, that's all, not at all difficult.  My first article to judge strictly. <br><br>  As promised, a link to my toy from the second year to feel the “sieve” method on myself: <br>  <a href="http://rghost.ru/39447884">Bulls and cows</a> </div><p>Source: <a href="https://habr.com/ru/post/148846/">https://habr.com/ru/post/148846/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../148841/index.html">Apache Maven - web application</a></li>
<li><a href="../148842/index.html">Simplify your life with Sublime Text 2</a></li>
<li><a href="../148843/index.html">Database Migration in Zend Framework: Akrabat_Db_Schema_Manager</a></li>
<li><a href="../148844/index.html">The first experience of writing plugins for Autocad in C #</a></li>
<li><a href="../148845/index.html">.NET is more valuable than .COM?</a></li>
<li><a href="../148847/index.html">Get structured data from PostgreSQL</a></li>
<li><a href="../148849/index.html">Summary of the problem of “two or more teachers” and a subjective opinion about the AI ​​community</a></li>
<li><a href="../148850/index.html">Qt + OpenCV. New device GigE interface access to network cameras as CvCapture</a></li>
<li><a href="../148851/index.html">VKontakte messenger for Windows Phone, prize pool 2 000 000 rubles!</a></li>
<li><a href="../148853/index.html">Runetology (158): founder of the online hotel booking service Oktogo.ru Marina Kolesnik</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>