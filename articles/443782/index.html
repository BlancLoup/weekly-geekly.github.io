<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Developers can now use Valve's Network API for their games on Steam</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="For the past few years, Valve has been working to improve the quality of multiplayer in Dota 2 and CS: GO by relaying traffic and transferring it to i...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Developers can now use Valve's Network API for their games on Steam</h1><div class="post__text post__text-html js-mediator-article">  For the past few years, Valve has been working to improve the quality of multiplayer in Dota 2 and CS: GO by relaying traffic and transferring it to its network backbone.  This allows you to protect the game from DoS-attacks, lowers ping and improves the quality of the connection.  In the Steamworks SDK version 1.44, <a href="https://partner.steamgames.com/doc/api/ISteamNetworkingSockets">Valve rolled out a new API</a> that provides access to this service to all Steam partners. <br><br><img src="https://habrastorage.org/webt/ve/qu/vr/vequvrmtsdcepzvg52jc62de1uu.png"><br><a name="habracut"></a><br>  Valve published a <a href="https://steamcommunity.com/groups/steamworks">special post</a> .  The API includes: <br><br><ul><li>  Access to the Valve network, which allows you to protect players from attacks, provides reliable one hundred percent NAT traversal and improved connection. </li><li>  Tools for instant evaluation of ping between two arbitrary nodes without sending packets. </li><li>  High-quality connection over a reliable UDP-protocol with end-to-end encryption. </li></ul><br><h3>  Access to the Valve network </h3><br>  Valve has relay nodes deployed at 30 network connection points around the world with a bandwidth of several terabits.  There are at least several advantages of the network. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      First, traffic relay is anonymous and protects game servers and users from DoS attacks.  In addition, since routing decisions are made dynamically by the client, if the relay node becomes unavailable, the client can switch to another node within a few seconds or, if necessary, to another connection point.  An attacker will be able to disrupt the gameplay only if his attack is able to overload several data centers at once. <br><br>  Secondly, customers will be able to choose the route, transferring them from the public Internet connection to the dedicated ones as soon as possible.  On its network backbone, Valve guarantees optimal routing, as they cooperate with more than 2500 Internet service providers.  In addition, latency-sensitive gaming traffic takes precedence over HTTP content downloads.  This is possible because the share of gaming traffic in the bandwidth used is relatively small.  On a network backbone, a sudden surge of non-game traffic will not affect the quality of the game. <br><br>  Cherry on the cake is to reduce ping!  The Valve protocol gives the client the opportunity to choose the route on which requests will rush.  The client takes into account each connection point of the relay, determines the end-to-end delay on the route, and then selects the route with the least delay. <br><br>  If you allow customers to choose a route, their connection will be better than the default surprisingly often.  After analyzing 16 million connections of unique client IP addresses to dedicated servers in Valve data centers, they obtained the following results: <br><br><ul><li>  Ping time has decreased in 43% of players. </li><li>  In 25% of the players, the ping time decreased by 10 ms or more. </li><li>  In 10% of players, the ping time decreased by 40 ms or more. </li></ul><br>  The scope of improvements varies by region. <br><br><img src="https://habrastorage.org/webt/6n/vx/g1/6nvxg1izxxebeugpt-pqnetffxe.jpeg"><br><br><h3>  Ping Assessment Tools </h3><br>  The functions of the <a href="https://partner.steamgames.com/doc/api/ISteamNetworkingUtils"><code>ISteamNetworkingUtils</code></a> interface include ping assessment tools based on a relay network.  By measuring the ping time to different relay nodes, we generate coordinates that describe the location of the host on the Internet.  Using two such sets of coordinates, Valve can quite accurately estimate the ping time between two arbitrary nodes without sending packets.  This feature is extremely useful in selecting games and choosing a peer-to-peer network node. <br><br><h3>  Open source end-to-end protocol </h3><br>  <code>SteamNetworkingSockets</code> not only provides access to functions based on the Valve relay network and the network backbone for Steam partners, it is also a universal transport library for games, offering the following features: <br><br><ul><li>  Fragmentation, assembly and retransmission.  In your code, you send and receive messages that may be less or more network packets.  To increase efficiency, the protocol combines several small messages into one packet, splits large messages into several packets, collects them on the receiving side, and retransmits reliable message segments lost due to packet loss. </li><li>  Encryption and authentication.  Security is not a secondary task for a modern online game: vulnerability can spoil the impression of the game.  Proper encryption is a real challenge.  Valve was guided by modern standards for reliable broadcasts and applied them to unreliable messages used by games.  Built-in default encryption protects data from interception.  Protection against interception attacks requires that a trusted third party provide access to a certificate or shared secret.  Steam is such for its games: for an attacker to intercept or alter packets, it must be inside the gameplay, where the VAC system will detect it. </li><li>  The basic functions of this API are also available in <a href="https://github.com/ValveSoftware/GameNetworkingSockets">the open source version</a> .  Valve wants developers to fully enjoy the benefits of the <a href="https://suvitruf.ru/2019/03/14/4372/steam_devs_can_now_use_the_networking_apis_created_for_csgo_and_dota_2/">API</a> , and it would be impossible without the certainty that access to the source code is free. </li></ul><br><h3>  That's not all </h3><br>  This is the first of a series of updates aimed at improving the work of games on the network for partners Steam.  So far, Valve has only improved the performance of peer-to-peer networks, but beyond that, they plan to give partners access to the developments used for their dedicated servers. </div><p>Source: <a href="https://habr.com/ru/post/443782/">https://habr.com/ru/post/443782/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../443766/index.html">We try contract programming With ++ 20 already now</a></li>
<li><a href="../443768/index.html">Monolith for hundreds of client versions: how we write and support tests</a></li>
<li><a href="../443770/index.html">Domain Driven Design: Value Objects and Entity Framework Core in practice</a></li>
<li><a href="../443772/index.html">Antiquities: IBM ThinkPad T40, the first wireless</a></li>
<li><a href="../443776/index.html">China introduces experimental face recognition system when paying for subway fares</a></li>
<li><a href="../443790/index.html">Survivor error</a></li>
<li><a href="../443792/index.html">Common mistakes when working with PostgreSQL. Part 2</a></li>
<li><a href="../443794/index.html">The main directions for IT startups in real estate sales</a></li>
<li><a href="../443800/index.html">Smart speakers with "Alice" on a low start</a></li>
<li><a href="../443804/index.html">C # is a low level language?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>