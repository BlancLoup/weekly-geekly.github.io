<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Linus Torvals spoke about the SHA-1 collisions in the Git repositories: there is nothing to fear</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A few days ago, Google and the Center for Mathematics and Computer Science in Amsterdam presented the first collision generation algorithm for SHA-1. ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Linus Torvals spoke about the SHA-1 collisions in the Git repositories: there is nothing to fear</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/0c5/12d/ea8/0c512dea8e424b7c979f2e8e8fda4493.png" align="left">  A few days ago, Google and the Center for Mathematics and Computer Science in Amsterdam <a href="https://habrahabr.ru/post/322478/">presented the</a> first collision generation algorithm for SHA-1.  For ten years of the existence of SHA-1, not a single practical method of generating documents with the same SHA-1 hash and digital signature as in another document was known, but now this possibility has appeared. <br><br>  The SHA-1 hash function is used everywhere, so the news of the generation of documents with identical hashes caused natural concern among users.  This includes <a href="http://public-inbox.org/git/20170226004657.zowlojdzqrrcalsm%40sigill.intra.peff.net/T/">users of the Git version control system</a> , which also uses SHA-1 hashes.  A detailed response to these concerns was <a href="https://plus.google.com/%2BLinusTorvalds/posts/7tp2gYWQugL">given by</a> Linus Torvals.  In short, <b>there is nothing to fear</b> . <br><a name="habracut"></a><br>  Linus believes that this attack on the search for collisions will not do anything crucial.  According to him, there is a big difference between using a cryptographic hash for digital signatures in encryption systems and for generating ‚Äúcontent identification‚Äù in a system like Git. <br><br>  In the first case, the hash is a kind of statement of trust.  The hash acts as a source of trust that fundamentally protects you from people you cannot verify in other ways. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      On the contrary, in projects like Git the hash is not used for ‚Äútrust‚Äù.  Here, trust extends to <i>people</i> , not to hashes, says Linus.  In projects like Git, SHA-1 hashes are used for a completely different, technical purpose - just to avoid accidental conflicts and as a really good way to detect errors.  It is simply a tool that helps you quickly identify corrupted data.  This is not about data security, but about the technical convenience of de-duplication and error detection.  Other version control systems often use error detection methods like CRC. <br><br>  Linus acknowledges that SHA-1 is also used in Git to sign branches, so in this sense it is also part of the trust network, so the appearance of an attack on the search for collisions really has negative consequences for Git. <br><br>  But in reality, you need to keep in mind that this particular attack is <b>very easy to avoid</b> for several reasons. <br><br>  First, in this attack, the attacker can not simply create a document with a given hash.  He needs to create <i>two documents at once</i> , since the attack is carried out on the same prefix. <br><br>  Secondly, the developers of the attack to search for collisions SHA-1 published a scientific article and laid out the tools to recognize the signs of an attack.  It is very easy to recognize documents that have this prefix suitable for generating a second document with an identical hash. <br><br>  That is, in practice, if you implement the appropriate measures to protect against documents with this prefix, the attack will not be feasible.  By the way, such protection is already implemented in Gmail and GSuite.  Vulnerable Document Detector is openly available on <a href="http://shattered.io/">shattered.io</a> .  The <a href="https://github.com/cr-marcstevens/sha1collisiondetection">sha1collisiondetection</a> collision detection <a href="https://github.com/cr-marcstevens/sha1collisiondetection">library is</a> published on Github. <br><br>  When all the data are in the public domain, then the real attack is almost impossible.  The authors of the scientific paper give an example of an attack on PDF documents with an identical prefix.  This attack succeeds because the prefix itself is ‚Äúclosed‚Äù inside the document, like a blob.  If we have open source in the repository, then it is quite another matter.  It is hardly possible to make such a prefix from the source code (only from the blob).  In other words, to create an identical prefix and then generate code branches with the same SHA-1 hashes, you will have to inject some random data into the code, which <b>will be noticed immediately</b> .  Linus says that there are places where you can hide the data, but <code>git fsck</code> already catches such tricks. <br><br>  Linus Torvalds acknowledges that only tracking PDF documents with Git can be a real concern.  Here you can recommend using the tools for detecting the signs of attack mentioned above.  Such patches have already been created for github.com and kernel.org, they will soon become active, so there is nothing to worry about. <br><br>  Well, among other things, Git will go away from using SHA-1 in the future, Linus said, there is a plan so that no one even has to convert their repositories.  But as is already clear, it is not such a critical thing to rush with her. <br><br>  By the way, the problem of tracking PDF documents with identical SHA-1 hashes, mentioned by Torvalles, has already proven itself in the Apache SVN version control system, which is used in the WebKit repository and other large projects.  On Friday evening, on the <a href="https://shattered.io/">information site of the</a> attack on the search for collisions SHA-1, new information appeared regarding the action of the attack on the SVN version control system.  It indicates that PDF files with the same SHA-1 hash already break SVN repositories. <br><br>  It turned out that if you upload two different files with the same hashes, the version control system does not cope with the bug.  Someone uploaded such files to the WebKit repository, after which he jammed and <a href="https://bugs.webkit.org/show_bug.cgi%3Fid%3D168774">stopped accepting new commits</a> . <br><br>  These two PDF files with the same hashes: <br><br><ul><li>  <a href="https://shattered.it/static/shattered-1.pdf">https://shattered.it/static/shattered-1.pdf</a> </li><li>  <a href="https://shattered.it/static/shattered-2.pdf">https://shattered.it/static/shattered-2.pdf</a> </li></ul><cut><br><pre> <code class="hljs perl"> $ls -l sha*.pdf -rw-r--r--@ <span class="hljs-number"><span class="hljs-number">1</span></span> amichal staff <span class="hljs-number"><span class="hljs-number">422435</span></span> Feb <span class="hljs-number"><span class="hljs-number">23</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>:<span class="hljs-number"><span class="hljs-number">01</span></span> shattered-<span class="hljs-number"><span class="hljs-number">1</span></span>.pdf -rw-r--r--@ <span class="hljs-number"><span class="hljs-number">1</span></span> amichal staff <span class="hljs-number"><span class="hljs-number">422435</span></span> Feb <span class="hljs-number"><span class="hljs-number">23</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>:<span class="hljs-number"><span class="hljs-number">14</span></span> shattered-<span class="hljs-number"><span class="hljs-number">2</span></span>.pdf $shasum -a <span class="hljs-number"><span class="hljs-number">1</span></span> sha*.pdf <span class="hljs-number"><span class="hljs-number">38762</span></span>cf7f55934b34d179ae6a4c80cadccbb7f0a shattered-<span class="hljs-number"><span class="hljs-number">1</span></span>.pdf <span class="hljs-number"><span class="hljs-number">38762</span></span>cf7f55934b34d179ae6a4c80cadccbb7f0a shattered-<span class="hljs-number"><span class="hljs-number">2</span></span>.pdf</code> </pre> </cut></div><p>Source: <a href="https://habr.com/ru/post/322622/">https://habr.com/ru/post/322622/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../322612/index.html">Perspective API is available for developers.</a></li>
<li><a href="../322614/index.html">Overview of automated paid parking systems</a></li>
<li><a href="../322616/index.html">Setting up DKIM / SPF / DMARC records or defending against spoofing</a></li>
<li><a href="../322618/index.html">Visualization of JavaScript exchange sorting algorithms</a></li>
<li><a href="../322620/index.html">Moving to Yandex ClickHouse</a></li>
<li><a href="../322624/index.html">Uber - the reasons for the transition from Postgres to MySQL</a></li>
<li><a href="../322626/index.html">Open machine learning course. Topic 1. Primary data analysis with Pandas</a></li>
<li><a href="../322634/index.html">Free IP Camera Software</a></li>
<li><a href="../322636/index.html">Experiment: looking for int i = 0xDEADBEEF in a physical memory dump</a></li>
<li><a href="../322642/index.html">Pygest # 4. Releases, articles, interesting projects from the world of Python [February 14, 2017 - February 27, 2017]</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>