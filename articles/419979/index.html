<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How Python Helps Replace Financial Advisors</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In continuation of the article on the dangers of excessive diversification, we will create useful tools for selecting stocks. After that, we will do a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How Python Helps Replace Financial Advisors</h1><div class="post__text post__text-html js-mediator-article">  In continuation of the <a href="https://habr.com/post/419313/">article</a> on the dangers of excessive diversification, we will create useful tools for selecting stocks.  After that, we will do a simple rebalancing and add unique conditions of technical indicators, which are so often lacking in popular services.  And then we compare the profitability of individual assets and different portfolios. <br><br>  In all this, we use Pandas and minimize the number of cycles.  We group the time series and draw graphs.  Let's get acquainted with multi-index and their behavior.  And all this in Jupyter in Python 3.6. <br><a name="habracut"></a><br><blockquote>  If you want to do something good, do it yourself. <br>  Ferdinand Porsche </blockquote><br>  The described tool will allow selecting the optimal assets for the portfolio and excluding instruments imposed by consultants.  But we will see only a general picture - without taking into account liquidity, time for recruiting positions, broker commissions and the cost of one share.  In general, with monthly or annual rebalancing of large brokers, this will be a minor cost.  However, before applying the chosen strategy, it is still worth checking in the event-driven back tester, for example, Quantopian (QP), in order to eliminate potential errors. <br><br>  Why not immediately in QP?  Time.  There the easiest test lasts about 5 minutes.  And the current solution will allow you to check hundreds of different strategies with unique conditions in a minute. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Loading raw data </h2><br>  To download the data, take the method described in this <a href="https://habr.com/post/416681/">article</a> .  I use PostgreSQL to store daily prices, but now there are a lot of free sources from which you can generate the necessary DataFrame. <br><br>  The code for downloading the price history from the database is available in the repository.  The link will be at the end of the article. <br><br><h2>  DataFrame structure </h2><br>  When working with price history, for convenient grouping and access to all data, the best solution is to use the multi-index (MultiIndex) with the date and tickers. <br><br><pre><code class="python hljs">df = df.set_index([<span class="hljs-string"><span class="hljs-string">'dt'</span></span>, <span class="hljs-string"><span class="hljs-string">'symbol'</span></span>], drop=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>).sort_index() df.tail(len(df.index.levels[<span class="hljs-number"><span class="hljs-number">1</span></span>]) * <span class="hljs-number"><span class="hljs-number">2</span></span>)</code> </pre> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e63/f7d/80a/e63f7d80a7d25c5099c940b03cd38e33.png" alt="image"><br><br>  Using a multi-index, we can easily access the entire price history for all assets and can group an array separately by date and asset.  We can also get a price history for one asset. <br><br>  Here is an example of how you can easily group history by week, month, and year.  And all this is shown on the graphs by Pandas: <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#      agg_rules = { 'dt': 'last', 'symbol': 'last', 'open': 'first', 'high': 'max', 'low': 'min', 'close': 'last', 'volume': 'sum', 'adj': 'last' } level_values = df.index.get_level_values #  fig = plt.figure(figsize=(15, 3), facecolor='white') df.groupby([pd.Grouper(freq='W', level=0)] + [level_values(i) for i in [1]]).agg( agg_rules).set_index(['dt', 'symbol'], drop=False ).close.unstack(1).plot(ax=fig.add_subplot(131), title="Weekly") df.groupby([pd.Grouper(freq='M', level=0)] + [level_values(i) for i in [1]]).agg( agg_rules).set_index(['dt', 'symbol'], drop=False ).close.unstack(1).plot(ax=fig.add_subplot(132), title="Monthly") df.groupby([pd.Grouper(freq='Y', level=0)] + [level_values(i) for i in [1]]).agg( agg_rules).set_index(['dt', 'symbol'], drop=False ).close.unstack(1).plot(ax=fig.add_subplot(133), title="Yearly") plt.show()</span></span></code> </pre> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6f7/af2/5da/6f7af25dae49fd088111cc457143ae34.png" alt="image"><br><br>  To correctly display the area with the chart legend, we move the index level with tickers to the second level above the columns using the Series (). Unstack (1) command.  With DataFrame () this number will not work, but there is a solution below. <br><br>  When grouping by standard periods, Pandas uses the latest calendar date of the group in the index, which is often different from actual dates.  To fix this, update the index. <br><br><pre> <code class="python hljs">monthly = df.groupby([pd.Grouper(freq=<span class="hljs-string"><span class="hljs-string">'M'</span></span>, level=<span class="hljs-number"><span class="hljs-number">0</span></span>), level_values(<span class="hljs-number"><span class="hljs-number">1</span></span>)]).agg(agg_rules) \ .set_index([<span class="hljs-string"><span class="hljs-string">'dt'</span></span>, <span class="hljs-string"><span class="hljs-string">'symbol'</span></span>], drop=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>)</code> </pre> <br>  An example of getting the price history of a certain asset (we take all the dates, the ticker QQQ and all the columns): <br><br><pre> <code class="python hljs">monthly.loc[(slice(<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>), [<span class="hljs-string"><span class="hljs-string">'QQQ'</span></span>]), :] <span class="hljs-comment"><span class="hljs-comment">#   </span></span></code> </pre> <br><h2>  Monthly Asset Volatility </h2><br>  Now we can see in a few lines on the chart the change in the price of each asset for the period of interest to us.  To do this, we get the percentage change in price, grouping the dataframe by the multi-index level with the asset ticker. <br><br><pre> <code class="python hljs">monthly = df.groupby([pd.Grouper(freq=<span class="hljs-string"><span class="hljs-string">'M'</span></span>, level=<span class="hljs-number"><span class="hljs-number">0</span></span>), level_values(<span class="hljs-number"><span class="hljs-number">1</span></span>)]).agg( agg_rules).set_index([<span class="hljs-string"><span class="hljs-string">'dt'</span></span>, <span class="hljs-string"><span class="hljs-string">'symbol'</span></span>], drop=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>) <span class="hljs-comment"><span class="hljs-comment">#     .   . monthly['pct_close'] = monthly.groupby(level=1)['close'].pct_change().fillna(0) #  ax = monthly.pct_close.unstack(1).plot(title="Monthly", figsize=(15, 4)) ax.axhline(0, color='k', linestyle='--', lw=0.5) plt.show()</span></span></code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/284/7b8/23b/2847b823be4247ecf47418120b78cb15.png" alt="image"><br><br><h2>  Compare the return on assets </h2><br>  Now we use the Series (). Rolling () window method and derive the return on assets for a certain period: <br><br><div class="spoiler">  <b class="spoiler_title">Python code</b> <div class="spoiler_text"><pre> <code class="python hljs">rolling_prod = <span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x: x.rolling(len(x), min_periods=<span class="hljs-number"><span class="hljs-number">1</span></span>).apply(np.prod) <span class="hljs-comment"><span class="hljs-comment">#   monthly = df.groupby([pd.Grouper(freq='M', level=0), level_values(1)]).agg( agg_rules).set_index(['dt', 'symbol'], drop=False) #     .   .   1. monthly['pct_close'] = monthly.groupby(level=1)['close'].pct_change().fillna(0) + 1 #  DataFrame    2007  fltr = monthly.dt &gt;= '2007-01-01' test = monthly[fltr].copy().set_index(['dt', 'symbol'], drop=False) #  dataframe    test.loc[test.index.levels[0][0], 'pct_close'] = 1 #    1 #    test['performance'] = test.groupby(level=1)['pct_close'].transform(rolling_prod) - 1 #  ax = test.performance.unstack(1).plot(title="Performance (Monthly) from 2007-01-01", figsize=(15, 4)) ax.axhline(0, color='k', linestyle='--', lw=0.5) plt.show() #       test.tail(len(test.index.levels[1])).sort_values('performance', ascending=False)</span></span></code> </pre> <br></div></div><br><img src="https://habrastorage.org/getpro/habr/post_images/3a0/07d/83c/3a007d83c19b3635f969351d3b288818.png" alt="image"><br><br><h2>  Portfolio Rebalance Methods </h2><br>  So we got to the most delicious.  In the examples, we will look at the results of the portfolio in the allocation of capital on pre-determined shares between several assets.  And also we will add unique conditions according to which we will refuse some assets at the moment of capital distribution.  If there are no suitable assets, we will assume that the capital lies with the broker in the cache. <br><br>  In order to use the Pandas methods when rebalancing, we need to store the distribution shares and the rebalancing conditions in the DataFrame with grouped data.  Now consider the rebalancing functions that will be passed to the DataFrame (). Apply () method: <br><br><div class="spoiler">  <b class="spoiler_title">Python code</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rebalance_simple</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(x)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment">#     data = x.unstack(1) return (data.pct_close * data['size']).sum() / data['size'].sum() def rebalance_sma(x): #   ,   SMA50 &gt; SMA200 data = x.unstack(1) fltr = data['sma50'] &gt; data['sma200'] if not data[fltr]['size'].sum(): return 1 #   ,    return (data[fltr].pct_close * data[fltr]['size']).sum() / data[fltr]['size'].sum() def rebalance_rsi(x): #   ,   RSI100 &gt; 50 data = x.unstack(1) fltr = data['rsi100'] &gt; 50 if not data[fltr]['size'].sum(): return 1 #   ,    return (data[fltr].pct_close * data[fltr]['size']).sum() / data[fltr]['size'].sum() def rebalance_custom(x, df=None): #         data = x.unstack(1) for s in data.index: if data['dt'][s]: fltr_dt = df['dt'] &lt; data['rebalance_dt'][s] #   values = df[fltr_dt].loc[(slice(None), [s]), 'close'].values data.loc[s, 'custom'] = 0 #    if len(values) &gt; len(values[np.isnan(values)]): #  RSI  100  data.loc[s, 'custom'] = talib.RSI(values, timeperiod=100)[-1] fltr = data['custom'] &gt; 50 if not data[fltr]['size'].sum(): return 1 #   ,    return (data[fltr].pct_close * data[fltr]['size']).sum() / data[fltr]['size'].sum() def drawdown(chg, is_max=False): #    total = len(chg.index) rolling_max = chg.rolling(total, min_periods=1).max() daily_drawdown = chg/rolling_max - 1.0 if is_max: return daily_drawdown.rolling(total, min_periods=1).min() return daily_drawdown</span></span></code> </pre> <br></div></div><br>  In order: <br><br><ul><li>  rebalance_simple is the simplest function that will distribute the profitability of each asset by shares. </li><li>  rebalance_sma is a function that distributes capital to assets that have a 50-day moving average higher than the value for 200 days at the time of rebalancing. </li><li>  rebalance_rsi is a function that distributes capital to assets for which the value of the RSI indicator for 100 days is above 50. </li><li>  rebalance_custom is the slowest and most universal function, where we will calculate the indicator values ‚Äã‚Äãfrom the daily price history of an asset at the time of rebalancing.  Here you can use any conditions and data.  Even download every time from external sources.  But without a cycle can not do. </li><li>  drawdown - auxiliary function, showing the maximum drawdown of the portfolio. </li></ul><br>  In the rebalancing functions, we need an array of all the data on the date in terms of assets.  The DataFrame (). Apply () method, by which we will calculate the results of the portfolios, will pass an array to our function, where the columns will become an index of rows.  And if we make a multi-index, where tickers are zero, then a multi-index will come to us.  We will be able to expand this multi-index into a two-dimensional array and get the data of the corresponding asset on each line. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fa8/2d1/d1c/fa82d1d1ca7cfca3f8f554e46f8e433a.png" alt="image"><br><br><h2>  Rebalancing portfolios </h2><br>  Now it‚Äôs enough to prepare the necessary conditions and make a calculation for each portfolio in a cycle.  First of all, let's calculate the indicators on the daily price history: <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#    1  ,      df['sma50'] = df.groupby(level=1)['close'].transform(lambda x: talib.SMA(x.values, timeperiod=50)).shift(1) df['sma200'] = df.groupby(level=1)['close'].transform(lambda x: talib.SMA(x.values, timeperiod=200)).shift(1) df['rsi100'] = df.groupby(level=1)['close'].transform(lambda x: talib.RSI(x.values, timeperiod=100)).shift(1)</span></span></code> </pre> <br>  Now group the history under the desired rebalancing period using the methods described above.  We will take in this case the values ‚Äã‚Äãof the indicators at the beginning of the period, in order to exclude peeping into the future. <br><br>  We describe the structure of portfolios and indicate the necessary rebalancing.  Portfolios are calculated in a cycle, since we need to specify unique shares and conditions: <br><br><div class="spoiler">  <b class="spoiler_title">Python code</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#  :  ,  ,  portfolios = [ {'symbols': [('SPY', 0.8), ('AGG', 0.2)], 'func': rebalance_sma, 'name': 'Portfolio 80/20 SMA50x200'}, {'symbols': [('SPY', 0.8), ('AGG', 0.2)], 'func': rebalance_rsi, 'name': 'Portfolio 80/20 RSI100&gt;50'}, {'symbols': [('SPY', 0.8), ('AGG', 0.2)], 'func': partial(rebalance_custom, df=df), 'name': 'Portfolio 80/20 Custom'}, {'symbols': [('SPY', 0.8), ('AGG', 0.2)], 'func': rebalance_simple, 'name': 'Portfolio 80/20'}, {'symbols': [('SPY', 0.4), ('AGG', 0.6)], 'func': rebalance_simple, 'name': 'Portfolio 40/60'}, {'symbols': [('SPY', 0.2), ('AGG', 0.8)], 'func': rebalance_simple, 'name': 'Portfolio 20/80'}, {'symbols': [('DIA', 0.2), ('QQQ', 0.3), ('SPY', 0.2), ('IWM', 0.2), ('AGG', 0.1)], 'func': rebalance_simple, 'name': 'Portfolio DIA &amp; QQQ &amp; SPY &amp; IWM &amp; AGG'}, ] for p in portfolios: #    rebalance['size'] = 0. for s, pct in p['symbols']: #       rebalance.loc[(slice(None), [s]), 'size'] = pct #            rebalance_perf = rebalance.stack().unstack([1, 2]).apply(p['func'], axis=1) #    p['performance'] = (rebalance_perf.rolling(len(rebalance_perf), min_periods=1).apply(np.prod) - 1) #    p['drawdown'] = drawdown(p['performance'] + 1, is_max=True)</span></span></code> </pre> <br></div></div><br>  This time we will need to turn the trick with the indexes of columns and rows to get the desired multi-index in the rebalancing function.  We achieve this by calling the DataFrame (). Stack (). Unstack ([1, 2]) methods in succession.  This code will transfer the columns to the lower-order multi-index, and then return the multi-index back with tickers and columns in the desired order. <br><br><h2>  Ready portfolios for graphics </h2><br>  Now it remains to draw everything.  To do this, once again run a cycle of portfolios, which will display data on the graphs.  In the end we draw SPY as a benchmark for comparison. <br><br><div class="spoiler">  <b class="spoiler_title">Python code</b> <div class="spoiler_text"><pre> <code class="python hljs">fig = plt.figure(figsize=(<span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>), facecolor=<span class="hljs-string"><span class="hljs-string">'white'</span></span>) ax_perf = fig.add_subplot(<span class="hljs-number"><span class="hljs-number">121</span></span>) ax_dd = fig.add_subplot(<span class="hljs-number"><span class="hljs-number">122</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> portfolios: p[<span class="hljs-string"><span class="hljs-string">'performance'</span></span>].rename(p[<span class="hljs-string"><span class="hljs-string">'name'</span></span>]).plot(ax=ax_perf, legend=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, title=<span class="hljs-string"><span class="hljs-string">'Performance'</span></span>) p[<span class="hljs-string"><span class="hljs-string">'drawdown'</span></span>].rename(p[<span class="hljs-string"><span class="hljs-string">'name'</span></span>]).plot(ax=ax_dd, legend=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, title=<span class="hljs-string"><span class="hljs-string">'Max drawdown'</span></span>) <span class="hljs-comment"><span class="hljs-comment">#       print(f"{p['name']}: {p['performance'][-1]*100:.2f}% / {p['drawdown'][-1]*100:.2f}%") # SPY,   rebalance.loc[(slice(None), ['SPY']), :].set_index('dt', drop=False).performance. \ rename('SPY').plot(ax=ax_perf, legend=True) drawdown(rebalance.loc[(slice(None), ['SPY']), :].set_index('dt', drop=False).performance + 1, is_max=True).rename('SPY').plot(ax=ax_dd, legend=True) ax_perf.axhline(0, color='k', linestyle='--', lw=0.5) ax_dd.axhline(0, color='k', linestyle='--', lw=0.5) plt.show()</span></span></code> </pre> <br></div></div><br><img src="https://habrastorage.org/getpro/habr/post_images/c68/2e2/870/c682e287032885dea4b266758934f7e5.png" alt="image"><br><br><h2>  Conclusion </h2><br>  The considered code allows you to select different portfolio structures and rebalancing conditions.  With it, you can quickly check whether, for example, it is worth holding gold (GLD) or emerging markets (EEM) in a portfolio.  Try it yourself, add your own indicator conditions or select the parameters already described.  (But remember the survivor‚Äôs mistake and that fitting to past data may not meet future expectations.) And after that, decide who you trust your portfolio to - Python or finco-sultant? <br><br>  Repository: <a href="https://github.com/iamraa/rebalance.portfolio.python">rebalance.portfolio</a> </div><p>Source: <a href="https://habr.com/ru/post/419979/">https://habr.com/ru/post/419979/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../419963/index.html">Making a smart controller for an air conditioner on an ESP8266</a></li>
<li><a href="../419965/index.html">Features of ExtremeXOS Switch Configuration</a></li>
<li><a href="../419969/index.html">Hiding in Ruby. We also hide classes from Top-Level.</a></li>
<li><a href="../419971/index.html">Rocket lab repairs, expands and accelerates</a></li>
<li><a href="../419975/index.html">As we corporate from Windows ran away</a></li>
<li><a href="../419981/index.html">The nightlife of the sky or in search of Perseid</a></li>
<li><a href="../419983/index.html">The digest of fresh materials from the world of the frontend for the last week ‚Ññ326 (August 6 - 12, 2018)</a></li>
<li><a href="../419985/index.html">Klats, klats: the story of Cherry, famous for the switches for keyboards</a></li>
<li><a href="../419987/index.html">What do the drops of blood tell: trigonometry of crimes</a></li>
<li><a href="../419989/index.html">New Zealand bans plastic bags</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>