<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>SAP F & R: Order Creation Process. Part 1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Habr! Today I will talk about the process of creating orders in the SAP F & R system with examples and calculations. 
 I remind you that SAP F & R...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>SAP F & R: Order Creation Process. Part 1</h1><div class="post__text post__text-html js-mediator-article">  Hi, Habr!  Today I will talk about the process of creating orders in the SAP F &amp; R system with examples and calculations. <br>  I remind you that SAP F &amp; R is a demand forecasting and inventory management system at the level of target location-location provider.  The system is part of the SAP SCM (Supply Chain Management) solution and is implemented in two variations: <br><br><ul><li>  SAP F &amp; R SCM - implementation with seamless integration with SAP systems; </li><li>  SAP F &amp; R OI - system for integration with non-SAP systems. </li></ul><br>  All the functionality of SAP F &amp; R can be divided into 4 main blocks: <br><ul><li>  Input processing </li><li>  Forecast calculation </li><li>  Requirement calculation </li><li>  Needs optimization </li></ul><br><img src="https://habrastorage.org/files/f61/d69/006/f61d69006bd249618957f1ea2f70d53f.png"><br><a name="habracut"></a><br>  At the entrance to SAP F &amp; R, sales data is presented in terms of product-location, history of balances, product and supplier master data, predefined delivery schedules and some tuning parameters that allow the system to function efficiently in accordance with the retailer's business. <br><br><h3>  Input processing </h3><br>  It often happens that the sales statistics of the retailer is incorrect (unexplained peaks, lost days, underestimated sales due to the deficit are permissible).  SAP F &amp; R can work with inaccurate input data.  The meaning of clearing statistics from outliers is to avoid the influence of outliers on the sales forecast.  F &amp; R first detects outliers and then replaces them with a local average of sales.  The local average is the average between neighboring weeks, relative to the week with the extraneous value. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <i>Example 1. Peak Correction</i> <br><br>  In the figure we see several unexplained system surges (peak sales).  The black line is the real statistics, the red line is the adjusted sales values. <br><br><img src="https://habrastorage.org/files/5b5/087/dfb/5b5087dfb8874d89a6c91fdd994e3dfd.png"><br><br>  Detection: To detect extraneous values ‚Äã‚Äãin the case of a peak, F &amp; R calculates how strongly the value of weekly sales of peak or recession deviates from the local average weekly sales, taking into account neighboring weeks (two weeks on one side and two on the other).  If the deviation from the local average&gt; Standard deviation of the time series * coefficient, then such weekly sales are considered as extraneous values.  The coefficient is set in the settings.  Deviation from the local average = local average of weekly sales - the value of sales of a particular week, taken by module.  The standard deviation of the time series is calculated for all weeks for which the sales history is provided. <br><br>  <i>Example 2. Correction of the history of undervalued due to the lack of sales data</i> <br><br>  The figure shows a clear wholesale sales of goods and, in consequence, zero stocks of goods or shortages.  Days with a shortage of goods lead to incorrect sales statistics (lost sales are not counted).  The system also corrects such values. <br><br><img src="https://habrastorage.org/files/f13/2bc/9d0/f132bc9d0c0444c391cc9b2ffc692b76.png"><br><br>  Discovery: Zero stock data is also uploaded to the system, as is input data.  Products for which the stock was zero on some days of the week have undervalued sales for the week.  The system adds to weekly sales a value = (Local average * number of days with a deficit per week) / number of working days per week. <br><br>  <i>Example 3. Correction of consecutive undervalued sales</i> <br><br>  The system also adjusts the sales history for too long consecutive periods of low weekly sales. <br><br><img src="https://habrastorage.org/files/200/d49/cbb/200d49cbb234432c8acb9a7b15ff2992.png"><br><br>  Detection: The detection length of consecutive weeks is set in the settings.  If within a few weeks, where their number is not less than a given length, consecutive weekly sales are less than a specified threshold, then the system considers these weeks as weeks of underestimated sales and adjusts the sales history for these weeks in accordance with the local average. <br><br><h3>  Forecast calculation </h3><br>  In this block, the system predicts average sales values ‚Äã‚Äã(or average forecast).  The average forecast in the terminology of SAP F &amp; R is such a value of the volume of goods on location, which with a probability of 50% will satisfy customer demand in the store, or, in other words, will ensure the level of customer service = 50%.  The average forecast is not the end result put to the order. <br><br>  To build an average forecast in the SAP F &amp; R system, sales forecasting models are used, taking into account not only static consumption data, but also the influence of external factors, such as calendar events or promotions.  The effect of such factors can be set either manually or automatically detected by the system in the past.  Thus, when forming a predictive model of a time series, both in the past and in the future, SAP F &amp; R uses data on a possible change in the predicted value and imposes the effect of an external factor on the smoothed series. <br><br>  As can be seen in the figure, when forming a forecasting model in the past, SAP F &amp; R clearly revealed seasonal sales fluctuations and peak spikes in the pre-New Year period and periods of other holidays. <br><br><img src="https://habrastorage.org/files/bb1/c41/868/bb1c41868aaf404a83c1765055328282.png"><br><br>  As mentioned above, when calculating the average forecast, the system takes into account not only the sales behavior in the past, but also some features of the business.  For a more flexible setting of the predictive model, all product-location combinations are divided into 6 groups according to the turnover rate: quick-turn 1, fast-turn 2, medium-turn 1, medium-turn 2, low-turn 1, low-turn 2. The boundaries of the values ‚Äã‚Äãfor which the distributions are made into groups are specified in the settings.  Distribution by groups is a dynamic process, a product can belong to one group or to another in the case of an increase / decrease in turnover rate.  Many business settings in the system are conducted in the context of these groups. <br><br>  Also, on the basis of a group of products according to the speed of turnover in the system, the predictive model is automatically selected: <br><br><ul><li>  Simplified forecasting methods (moving average, weighted average, etc.) are selected for new products whose sales history does not exceed 6 weeks. </li><li>  Constant methods (forecast = n) are used for products with a low turnover rate. </li><li>  Methods based on exponential smoothing and regression analysis are applied to all products, in the case of an external factor affecting sales, affecting demand. </li></ul><br><br>  Methods can also be customized and manually at the request of the client company. <br><br>  After selecting the prediction method, the system automatically calibrates the prediction model (calculation and selection of smoothing factors, trend, adaptability, etc., using the least prediction-fact error in the past). <br><br>  <u>Factors affecting demand</u> <br><br>  The system uses 3 main groups of factors affecting the demand: <br><br><ul><li>  Boolean factors: an event of a boolean factor consists of two possible situations: the factor is either valid or not (for example, promotional events, holidays, other calendar events).  F &amp; R assesses the effect on sales of goods on a store that was in the past due to an event factor, for example, a lifting factor equal to 1.5 caused by a promotion.  If a factor event with the same indicator occurs in the future for the same product and store, the system will calculate its expected effect on the forecast.  The figure shows the effect of PROMO factors, and the new year (+ weeks before the new year).  The reaction to other factors is not so obvious.  The forecast (blue line) is considered taking into account the action of the ‚ÄúBefore the New Year‚Äù factor. <br><br><img src="https://habrastorage.org/files/d2a/a15/987/d2aa15987198473783bb6890cb13feec.png"><br></li><li>  Metric factors: a factor has a certain value at any given time (for example, price dynamics).  The system evaluates the correlation between sales values ‚Äã‚Äãunder the action of a factor and the history of the consumption of goods.  If a discount is used as a metric FCF, then during periods of non-rebate, the value of the FCF should be determined and equal to 0. <br><br><img src="https://habrastorage.org/files/145/4b5/9e3/1454b59e382e4ef98c00b2e2ed58c206.png"><br></li><li>  Factor ‚ÄúIgnore‚Äù: events of this factor are used to exclude some periods of sales history from statistics, as they are not the correct values ‚Äã‚Äã(for example, the period of repair of a part of a store, etc.). </li></ul><br>  <u>Prediction of new products</u> <br><br>  In F &amp; R, new items are predicted for 2 scenarios: <br><ul><li>  Simplified: manual order or forecast using average methods to retrieve the required product history; </li><li>  Complicated: indication of the product predecessor from the same store. </li></ul><br><br>  <i>Example 4. Forecasting new products.</i> <br><br>  When specifying the counterpart from the same store, the sales history of the predecessor product is ‚Äúglued‚Äù to the tail of the new product.  The system predicts based on the statistics of sales of goods predecessor.  There is no real sales history (black line).  Red line: the history of the product analog. <br><br><img src="https://habrastorage.org/files/eb0/30a/a41/eb030aa4129342279bfb4dd4862576f2.png"><br><br>  <u>Additional functionality</u> <br><br>  Also, SAP F &amp; R can take into account periods of temporary exclusion of goods from the assortment matrix, the mutual influence of sales (when beer sales affect sales of chips, for example), using a reference module to predict sales of new products (combining the sales history of several goods), etc.  etc.  to achieve the most accurate result. <br><br>  As I already wrote above, as a result of the module‚Äôs work, an average forecast is formed - such a value of the product‚Äôs volume on location, which with a probability of 50% will satisfy the demand of customers in the store, or, in other words, will ensure the level of customer service = 50%. <br><br>  In order to avoid lost sales, the target level of customer service, as a rule, is planned to be not lower than 95%.  This means that in 95 cases out of 100 the customer will buy what he planned in the store.  Ensuring a high level of service in SAP F &amp; R is made by means of an insurance premium to the average forecast, which depends not only on the target level of service, but also on the variability of past values ‚Äã‚Äãof sales of goods.  Thus, a maximum sales forecast is formed in the system, the volume of which will be sufficient to minimize stock in a warehouse or in a store (and, therefore, withdraw frozen capital in stocks) and meet the target level of customer service. <br><br>  In the second part I will tell about the calculation of the need and optimization of the quantity of goods in the order. <br><br>  Read my SAP F &amp; R publications: <br><br>  ¬ª <a href="https://habrahabr.ru/post/307946/">Overview: SAP F &amp; R today and tomorrow is the future of sales forecasting</a> <br>  ¬ªThe <a href="https://habrahabr.ru/post/307842/">Art of Forecasting in the SAP F &amp; R System for Inventory Management</a> </div><p>Source: <a href="https://habr.com/ru/post/308412/">https://habr.com/ru/post/308412/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../308398/index.html">How we wrote a chat for the application of the bank "Opening"</a></li>
<li><a href="../308400/index.html">Step-by-step instructions for setting up LXD on Ubuntu 16.04</a></li>
<li><a href="../308402/index.html">Docker: flexible network without NAT for all occasions</a></li>
<li><a href="../308406/index.html">New course on Stepic platform: "Advanced C / C ++ Programming"</a></li>
<li><a href="../308410/index.html">JavaScript Performance, databases and searches for the "silver bullet": video TOP-5 reports of HolyJS 2016</a></li>
<li><a href="../308418/index.html">We work with a hybrid cloud: VMware vCloud Connector, part 2</a></li>
<li><a href="../308420/index.html">Ways of integration with 1C</a></li>
<li><a href="../308422/index.html">Match ambiguous terms in GitLab, GitHub and Bitbucket</a></li>
<li><a href="../308424/index.html">‚ÄúMy friends lost sight of me for 3 months‚Äù or how people learn from us big data</a></li>
<li><a href="../308426/index.html">Increase conversion</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>