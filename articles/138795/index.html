<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Intel Wireless Display: for developer</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="No, this is not a mistake in the Habra engine, and not a repetition of an article published last week on WiDi technology . This time we will talk abou...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Intel Wireless Display: for developer</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/def/dee/3b6/defdee3b69cc475fbd70b8d7bedd5bf3.png" align="left">  No, this is not a mistake in the Habra engine, and not a repetition of an article published last week <a href="http://habrahabr.ru/company/intel/blog/138202/">on WiDi technology</a> .  This time we will talk about how developers can use WiDi in their applications.  Did you know that there is a <a href="http://downloadcenter.intel.com/Detail_Desc.aspx%3Flang%3Drus%26changeLang%3Dtrue%26DwnldID%3D20410">WiDi Extension SDK</a> for working with WiDi?  Not?  Then this article is for you. <br><a name="habracut"></a><br>  Which developer can this be useful?  In theory, this may be limited only by the imagination of the developer.  Ideas lying on the surface are programs for playing video or audio with visualization, programs for viewing photos.  A smart program can detect the presence of WiDi in the system and prompt the user to display the content being played on the TV screen.  It is possible that at the moment this topic is not very relevant - WiDi adapters are currently not so much. <br><br>  But in the near future, after WiDi adapters start installing directly into televisions, for example, LG has already demonstrated the first television at CES 2012 and <a href="http://www.worldtvpc.com/blog/lg-smart-3dtv-widi-builtin-easy-wireless-streaming/">is going to start</a> their release this year, this topic will interest many developers. <br><br>  For developers who want to integrate WiDi functionality into their applications, Intel has released the Intel WiDi Extensions SDK.  This SDK allows you to: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  Determine the availability and availability of WiDi </li><li>  Find and identify adapters ready to connect </li><li>  Connect to adapter </li><li>  Change screen settings, display mode (clone screen, expand desktop on second screen) </li></ul><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a95/3fd/2c4/a953fd2c42c8f4712039f7a5c924bb50.png"></div><br><br>  In the SDK you will find the documentation, the files needed for inclusion in the project and examples in C ++, C #. <br><br>  By the way, to develop an application that works with WiDi, it is not necessary to have hardware that supports this technology.  This iron is needed only for testing. <br><br>  We will begin to build functionality for working with WiDi into our program. <br><br>  First you need to go to the site and download the <a href="http://downloadcenter.intel.com/Detail_Desc.aspx%3Flang%3Drus%26changeLang%3Dtrue%26DwnldID%3D20410">Intel WiDi Extensions SDK</a> .  Inside the archive is a distribution kit containing the SDK itself.  Save, unpack, install. <br><br>  Create our test application, connect the header file to the project <br><br><pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;IntelWiDiExtensions_i.h&gt;</span></span></span></span></code> </pre> <br>  The first thing to do is create and initialize the IWiDiExtensions <br><br><pre> <code class="cpp hljs">HRESULT hr; hr = CoCreateInstance(CLSID_WiDiExtensions, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, CLSCTX_INPROC_SERVER, __uuidof(IWiDiExtensions), (LPVOID*)&amp;m_pWiDi); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(hr == S_OK) { hr = m_pWiDi-&gt;Initialize((DWORD)m_hWnd); }</code> </pre><br>  All WiDi API functions are asynchronous.  To notify about the result of the operation performed, window messages are sent to the window, the handle of which was transferred when the <i>Initialize</i> function was called. <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">HRESULT </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Initialize</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( HWND windowHandle )</span></span></span></span>;</code> </pre><br>  In order to receive notification of the successful completion of initialization, the application window must be able to process the <i>WM_WIDI_INITIALIZED</i> message. <br><br>  To receive notification of an error that occurred during the initialization process, use the <i>WM_WIDI_INITIALIZATION_FAILED</i> message.  The wParam parameter of the <i>WM_WIDI_INITIALIZATION_FAILED</i> message <i>handler</i> will contain the corresponding error code: <br><br><pre> <code class="cpp hljs">RC_WIDI_APP_NOT_FOUND <span class="hljs-comment"><span class="hljs-comment">//       WiDi RC_WIDI_FAILED_TO_START //        WiDi RC_INTERNAL_ERROR //    RC_WIDI_APPLICATION_ERROR //  </span></span></code> </pre><br>  After successful initialization, you can start searching for available WiDi adapters.  This is done using the <i>StartScanForAdapters</i> function <i>.</i> <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">HRESULT </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">StartScanForAdapters</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>;</code> </pre><br>  To notify about the found adapter, the <i>WM_WIDI_ADAPTER_DISCOVERED</i> message is <i>used</i> .  The lParam parameter will be a pointer to the adapter identifier.  This ID is required to connect to the selected adapter. <br><br>  After the search is completed, the window will receive the <i>WM_WIDI_SCAN_COMPLETE</i> message.  The wParam parameter will contain a code whose analysis will help determine why the scan was completed: <br><br><pre> <code class="cpp hljs">RC_SUCCESS <span class="hljs-comment"><span class="hljs-comment">//    RC_UNABLE_TO_START_SCAN //     RC_INTERNAL_ERROR //    RC_WIDI_APPLICATION_ERROR //        WiDi RC_CONNECT_CANCELLED_SCAN //   </span></span></code> </pre><br><br>  If one or more devices were detected, you can proceed with the connection.  The connection is made by calling the <i>StartConnectionToAdapter</i> function. <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">HRESULT </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">StartConnectionToAdapter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( BSTR AdapterUniqueID, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> SourceScreenResolution, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> TargetScreenResolution, ScreenMode Mode )</span></span></span></span>;</code> </pre><br>  After successful connection, the window will receive a <i>WM_WIDI_CONNECTED</i> message.  In case of problems - <i>WM_WIDI_DISCONNECT_FAILED</i> , the wParam parameter will contain the code: <br><br><pre> <code class="cpp hljs">RC_CONNECTION_DROPPED <span class="hljs-comment"><span class="hljs-comment">//     RC_USER_DISCONNECT //    </span></span></code> </pre><br>  The adapter ID will be passed to the <i>lParam</i> parameter. <br><br>  That's all for now.  For more information about the capabilities of the WiDi Extensions SDK, you can view the documentation that comes with the SDK.  There will be questions - ask here, in the comments, or on the <a href="http://software.intel.com/ru-ru/forums/">Intel Software Network</a> forum. </div><p>Source: <a href="https://habr.com/ru/post/138795/">https://habr.com/ru/post/138795/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../138786/index.html">Taming Windows Server Core</a></li>
<li><a href="../138788/index.html">Digium launches its own IP phones</a></li>
<li><a href="../138791/index.html">PostGIS + Mapnik + TileCache on FreeBSD</a></li>
<li><a href="../138793/index.html">Canobuvosti, 132nd edition</a></li>
<li><a href="../138794/index.html">High five. Or meet JIRA 5.0</a></li>
<li><a href="../138796/index.html">First GAC Driver Iteration</a></li>
<li><a href="../138797/index.html">Apple bought the search company Chomp and plans to completely redo the search on the App Store</a></li>
<li><a href="../138798/index.html">SEO promotion on Android markets</a></li>
<li><a href="../138799/index.html">DropBoh updated the android client: testers of a new function are given 3 GB each</a></li>
<li><a href="../138800/index.html">Announcement of Visual Studio 11 beta</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>