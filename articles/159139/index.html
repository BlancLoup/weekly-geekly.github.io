<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>IBM SOM: external object system with support for inheritance</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I would like to share my find: IBM SOM. According to Wikipedia , there was once Microsoft with COM, and IBM was with SOM. On Windows and OS / 2, respe...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>IBM SOM: external object system with support for inheritance</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/917/340/a67/917340a6785f7932c267e469557dd356.png" alt="image" align="left">  I would like to share my find: IBM SOM.  According to <a href="https://ru.wikipedia.org/wiki/System_Object_Model">Wikipedia</a> , there was once Microsoft with COM, and IBM was with SOM.  On Windows and OS / 2, respectively.  And they had the means of interconnection for them: DCOM and - what do you think?  - right, DSOM.  Such is the idyll, which may give the impression that they are twins.  Only here in SOM there was inheritance, but in COM it was not, and in <a href="http://www.byte.com/art/9401/sec8/art7.htm">journalistic articles, which are referenced from Wikipedia</a> , this is all about it. <br><br><a name="habracut"></a><br>  But this is only the beginning of the journey to the rabbit hole. <br><br>  There is documentation on SOM, there are reviews, but I would call 4 articles by Scott H. Danforth and Ira R. Forman (Ira is a male Hebrew name) as such documents according to which you can make an impression: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <a href="http://www.edm2.com/index.php/Scott_H._Danforth">www.edm2.com/index.php/Scott_H._Danforth</a> <br><br><ul><li>  Binary Compatibility Releases to Releases SOM Article: Ira R. Forman, Michael H. Conner, Scott H. Danforth and Larry K. Raper (IBM's System Object Model) (1995) </li><li>  Reflections on Metaclass Programming in SOM by Ira R. Forman, Scott H. Danforth (1994) </li><li>  Inheritance of Metaclass Constraints in SOM by Ira R. Forman, Scott H. Danforth (1994) </li><li>  Composition of Before / After Metaclasses in SOM by Ira R. Forman, Scott H. Danforth, Hari Madduri (1994) </li></ul><br><br>  The most delicious moments: <br><br>  RRBC: <br><blockquote>  This can be stated as: <br>  <b>Only application alteration necessitates recompilation</b> <br>  It‚Äôs not worth recompilation. </blockquote><br><br>  A little further in the text, the capabilities that a regular procedural linker provides, which are everywhere and beyond which it has not yet gone, namely, the admissible transformations are listed. <br><br>  Then, by chance, this list continues with another list of transformations, for those classes with inheritance.  The object's private variable can be added, the class hierarchy can change.  Anything that does not require changing the source code should not require recompilation.  Such work was done in the IBM Object Technology Group (Austin). <br><br>  And finally, in RRBC there is a table in which SOM is compared with alternatives (Delta / C ++, OBI - I am not familiar, but it was interesting to find out).  In this table, I really <div class="spoiler">  <b class="spoiler_title">I do not agree with note h</b> <div class="spoiler_text">  If we consider the Objective-C runtime separately from Objective-C and assume that we only implement descendants through bindings that do not know the exact sizes of the ancestor instances, recognize this value dynamically and recalculate all offsets, then this is one thing.  But the problem is in Objective-C, which from this point of view is the worst consumer of Objective-C runtime, because inheritance mechanisms involve freezing displacements within ancestors since the API was published. </div></div><br><br>  It is pleasantly pleased that the authors are familiar with CLOS and not only!  In the table by one item (migrate metaclass constraint downward) CLOS is inferior to SOM.  This problem (metaclass incompatibility) is discussed in more detail in, for example, Reflections on Metaclass Programming in SOM.  The bottom line is that it is expected that the descendant metaclass will be a descendant of the parent metaclass, otherwise metaclass incompatibility.  With explicit metaclasses, this becomes possible.  Given the variability of the class hierarchy and, without forgetting the motto of the SOM, it becomes clear that what comes from the hands of CLOS will not get away from the hands of the SOM. <br><br>  In SOM 2.0, the original solution to the problem is applied: the metaclass specified in the IDL class is now not an exact indication of the metaclass for this class, but only a limitation.  The class metaclass must be a descendant of the metaclasses of each parent, as well as a descendant of the metaclass specified in the class declaration.  If one of these metaclasses satisfies all the requirements, it is taken.  Otherwise, the SOM runtime decides to cross all the required metaclasses in order to obtain the minimally satisfying metaclass. <br><br>  At the same time, this document explains what these metaclasses are.  I will retell on the example of Delphi and Java, in which metaclasses are implicit. <br><br>  So, there are in both Delphi and Java, in addition to the methods of the object, also class methods.  Delphi also has virtual constructors.  As for Delphi, there is a TClass, declared as a class of TObject.  Every time a class method or a virtual constructor is added to the Delphi class, this would be similar to the inheritance of the metaclass with the addition of these methods to the SOM.  In Delphi and Java, metaclasses are implicit, and the chain of their inheritance almost mirrors the chain of inheritance of classes.  If no new class methods have been added, we can assume that in this case the parent's metaclass is taken without changes.  TClass and other class of ... in Delphi do not behave like ordinary objects.  TObject has, for example, TObject.Dispatch, but for variables of type TClass, this method cannot be called.  And any other method of the TObject object cannot be called on variables of type TClass.  TClass is not a TObject descendant, they are in other ways.  In Java, a little different: there is java.lang.Class and it is really the heir of java.lang.Object with all that it implies.  However, if a class has a method, and we got into the hands of an instance of java.lang.Class representing a descendant of this class, then it will not be possible to call some method on such an instance.  A class ‚Äì like ‚Äì object does not have the same methods that a class has ‚Äì‚Äì simply. <br><br>  Now, after I wrote how things are going in Delphi and Java, it should be clear what metaclasses are: in SOM, classes ‚Äì objects are full-fledged objects, and their methods are full-fledged methods of the object, as complete as in their copies.  And since objects cannot simply exist as objects, they must be declared in the class of this <br>  object.  The class of the class is the metaclass.  The metaclass itself usually has a SOMClass as its class, but even it, being a full-fledged object, may have some other class.  Forcing the SOM runtime to cross metametaclasses if necessary for that. <br><br><blockquote>  In effect, inheritance is given a new dimension </blockquote><br><br>  Here is such a twin COM with support for inheritance. <br><br>  I wrote a <a href="http://octagram.name/OM">review of object systems</a> , and SOM shines in the light of its capabilities. <br><br>  And now two news: <br><br>  <b>Good:</b> SOM has been ported to Windows NT as well.  Other targets are problematic to use.  AIX for PowerPC, <a href="https://en.wikipedia.org/wiki/OS/2">OS / 2 is not enough for every PC emulator</a> and costs money, Himalaya NonStop - and nothing to think about, Mac OS Classic - also somehow far away. <br><br>  SOM version 3.0 was available free of charge in the form of the February beta of 1996 and the December release, from which several features that could not be brought to mind were cut out.  For example, Direct-To-SOM allowed not .h to be made from .idl, but, on the contrary, .idl from .h.  We write on a modified C ++ compiler, the resulting code uses SOM and due to this it becomes flexible.  In contrast to Delta / C ++, other C ++ compilers and compilers of other programming languages ‚Äã‚Äãautomatically become potential library consumers. <br><br>  <b>The bad:</b> I can‚Äôt find SOMobjects 3.0 Developer's Toolkit for WinNT anywhere.  Something happened in 1997 or 1998 so terrible that it would be okay for IBM to stop developing in this direction, but no, it was necessary to clean SOM from its back streets from everywhere.  On FTP, I just found the documentation, but there are no files themselves.  Only thanks to the Hobbes archive the version for OS / 2 is preserved, the rest is bye-bye.  I put VisualAge C ++ 4.0, I thought it was bundled.  No, it is not. <br><br>  A few months ago I started to get in touch with people who both participated in the development and who themselves used, including the version for Windows.  It's nice that the answer, you can still find someone, but they do not have these files.  Especially kills me when <div class="spoiler">  <b class="spoiler_title">so respond those who, I know, put a lot of energy and creative power into this work</b> <div class="spoiler_text"><blockquote>  Hi, Ivan, <br><br>  I‚Äôm not a SOM (I‚Äôm not signed) but I‚Äôm not contact with the team at that point. <br><br>  I don‚Äôt know anyone who has the binaries at this time.  It is a shame that IBM marketed so poorly ‚Äî for a while. <br><br>  Sorry I can't help you. <br><br>  andy </blockquote></div></div><br><br>  Ideas who could still have the file stay temporarily exhausted.  As far as I can tell, on physical media, SOM 3.0 was not distributed separately.  The CD-ROM must be available for both OS / 2, WinNT, and AIX.  Judging by the file name som30os2.zip (all that was saved on the Internet), this is the version from the CD-ROM.  Internet-sized files had other names: som30ox1.zip, som30ox2.zip and som30ox3.zip. <br><br><h5>  What's next? </h5><br><br>  First, with some interest in the SOM, there may be missing files.  In my opinion, it is still relevant, even considering the need for versions for Linux and Mac OS X. I like the idea of ‚Äã‚ÄãPE COFF executable files that can detect execution inside wine, download native OS versions wxWidgets or Qt and, using them, forget your roots.  Even without having the SOM source code, you can be useful, and having a working SOM and working code using the SOM can help you create a compatible replacement.  Linux wxWidgets so easily can not be used from the program that compiles to Windows.  This is where the interlayer would be useful, and why not SOM? <br><br>  Secondly, the SOM awareness itself is a matrix in the mind that influences decision making by developers.  Those who developed GObject did not have such a matrix in their minds, and GObject did not grow in SOM. <br><br>  <b>UPD</b> .  File found: <a href="">som30nt.zip</a> ! <br><br>  The person who gave this file is in search of SOM 3.0 for AIX, and, in addition, developed an open replacement for SOM: <a href="http://forums.nekochan.net/viewtopic.php%3Ff%3D15%26t%3D16726016">somFree</a> .  I couldn‚Äôt unpack tardist for IRIX, asked to upload hosting to open source. <br><br>  If you install VisualAge C ++ 4.0 for Win32, note that it can tolerate PATH on modern Windows.  Environment variables must be backed up. <br><br>  <b>UPD2</b> .  <a href="https://sourceforge.net/projects/somfree/">somFree at sourceforge</a> .  So far only for POSIX systems. <br><br>  In the meantime, I managed to <a href="https://bitbucket.org/OCTAGRAM/somobjects">deal with IBM SOM on VAC ++ 4.0</a> and even managed to build and run animals using Borland C ++ 5.5 Free. <br><br>  In the short term, I would like to lay out the joint IBM SOM &amp; Borland C ++ 5.5 Free distribution, in which one could collect and see all the examples from the box and get answers to my questions personally, and not from journalistic propaganda articles.  Executable files speak louder than words. </div><p>Source: <a href="https://habr.com/ru/post/159139/">https://habr.com/ru/post/159139/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../159129/index.html">Proper definition of the user's language</a></li>
<li><a href="../159131/index.html">Mysql PARTITION BY YEAR (date) / MONTH (date) / DAYOFWEEK (date)</a></li>
<li><a href="../159133/index.html">Configuring Asus RT-N56U Router to Access Pandora, Hulu and Other Resources</a></li>
<li><a href="../159135/index.html">Android 4.2 calendar is missing December</a></li>
<li><a href="../159137/index.html">Vkontakte has its own advertising network for partner sites</a></li>
<li><a href="../159141/index.html">Designer's letter to layout makers</a></li>
<li><a href="../159143/index.html">Lytro photos can now change perspective and color.</a></li>
<li><a href="../159145/index.html">Chrome extension - with chess and librarians</a></li>
<li><a href="../159147/index.html">Go to Fusion Drive</a></li>
<li><a href="../159151/index.html">New amendments to the law "On Information" are being prepared: pages of sites offer to block pointwise</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>