<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>TDS and MLS methods of impulse response estimates</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Little preface 
 Looking ahead a bit, I‚Äôll say that I‚Äôve shoveled a fair share of the Russian-speaking segment of the Internet, I could not find an ad...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>TDS and MLS methods of impulse response estimates</h1><div class="post__text post__text-html js-mediator-article"><h4>  Little preface </h4><br>  Looking ahead a bit, I‚Äôll say that I‚Äôve shoveled a fair share of the Russian-speaking segment of the Internet, I could not find an adequate description of the TDS and MLS methods for measuring the impulse characteristics of a room.  Therefore, I decided to fill this gap.  If this article does not claim to adequacy, then just let it stay here. <br><br><h5>  - What is all this all about? </h5><br>  In general, the impulse response is the response of the system to the impact in the form of a <a href="http://ru.wikipedia.org/wiki/%25D0%2594%25D0%25B5%25D0%25BB%25D1%258C%25D1%2582%25D0%25B0-%25D1%2584%25D1%2583%25D0%25BD%25D0%25BA%25D1%2586%25D0%25B8%25D1%258F">delta function</a> (Dirac function).  Of course, in reality, the delta function cannot be obtained; therefore, we will understand by it a very short and very large signal in amplitude.  In the context of room acoustics, the imitation of the delta function can be called a banal clap, the sound of a burst ball or a shot of a starting pistol. <br><br><h5>  - Why is it necessary? </h5><br><ul><li>  Using the impulse response, it is possible to determine a variety of acoustic parameters of the room (for example, the <a href="http://ru.wikipedia.org/wiki/%25D0%25A0%25D0%25B5%25D0%25B2%25D0%25B5%25D1%2580%25D0%25B1%25D0%25B5%25D1%2580%25D0%25B0%25D1%2586%25D0%25B8%25D1%258F">reverberation</a> time or signal-to-noise ratio) and electro-acoustic systems (for example, the path response using the Fourier transform); </li><li>  Having the impulse characteristic of the room, you can very easily imitate the sound of any sound in this room.  For example, check how you will be heard in the hall where you will read the report tomorrow. </li></ul><br><a name="habracut"></a><br><h5>  - How is this possible? </h5><br>  This is possible due to the convolution operation.  What it is, where and with what it is eaten is very well described <a href="http://websound.ru/articles/theory/convolut.htm">here</a> (it is recommended to read for a better understanding). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Mini FAQ is over, get down to business </h4><br><h5>  Delta function </h5><br>  As mentioned above, the easiest way to measure the impulse response of a room is, for example, to shoot from the starting pistol at the point where the announcer / performer should be placed, and simply record the sound that reaches the listener's placement point.  However, for this method there are a number of problems: <br><br><ul><li>  experiments with test signals in the form of a pistol shot sound are not very repeatable; </li><li>  the range of the characteristics they produce is often quite complex; </li><li>  the high peak power they produce can create nonlinearities that can change the test result; </li><li>  if we try to replace the pistol with a loudspeaker and lose some impulse with it, we can get a problem when the necessary amplitude power does not reach the room. </li></ul><br>  For these reasons, the impulse response is often measured indirectly ‚Äî through a technique that uses an impact, which is not a pulse in itself, but a signal that is rather long in time. <br><br><h5>  Tds </h5><br>  TDS (Time Delay Spectrometry - Time Delay Spectrometry) is a technique for measuring the impulse responses of electro-acoustic systems (as well as audiences) in rooms with noticeable reverberation.  So TDS allows you to get three-dimensional (time-energy-frequency) graphics impulse characteristics.  Although the conceptual and mathematical basis of TDS has been known for quite some time, this method itself is usually attributed to the achievements of Dr. Richard Heyzer, who first published it in 1967 in the Journal of the Audio Engineering Society. <br><br>  Consider the use of TDS to measure the pulse characteristics of electroacoustic systems.  Since measurements are taken in a room with reverberation, each wave emitted by a loudspeaker will be reflected from the surfaces of the room.  Therefore, it is necessary to take into account only direct waves, i.e.  need to filter out other sounds brought by the room. <br><br><img src="https://habrastorage.org/storage2/710/3f3/6df/7103f36dff57d537ea33c7fe0689aa26.png"><br><br>  The response is recorded using a bandpass filter tuned to a given frequency.  With a change in the frequency of the radiation, the filter is also reset to the new frequency, and the operation is repeated.  Since it is necessary to measure the loudspeaker response for a given frequency range (for example, from 20 Hz to 20 kHz - the human hearing range), using this approach you will need to repeat the experiment for each frequency in the range. <br><br>  One way around this obstacle is to use a <a href="http://ru.wikipedia.org/wiki/%25D0%259B%25D0%25B8%25D0%25BD%25D0%25B5%25D0%25B9%25D0%25BD%25D0%25B0%25D1%258F_%25D1%2587%25D0%25B0%25D1%2581%25D1%2582%25D0%25BE%25D1%2582%25D0%25BD%25D0%25B0%25D1%258F_%25D0%25BC%25D0%25BE%25D0%25B4%25D1%2583%25D0%25BB%25D1%258F%25D1%2586%25D0%25B8%25D1%258F">linear frequency modulated signal</a> (chirp) as an input.  The chirp signal starts from zero frequency and linearly "turns around" to higher frequencies. <br><br>  Since the input signal ‚Äúunfolds‚Äù, the filter must also ‚Äúunfold‚Äù at the same speed.  However, it is necessary to take into account the time during which the wave front reaches the microphone.  This time delay is usually constant, as the microphone and speaker do not move relative to each other.  The time delay is related to the frequency offset, since the center frequency of the bandpass filter is always slightly behind the frequency of the signal emitted by the speaker. <br><br>  We extend this technique to measure the impulse characteristics of rooms with reverberation noise.  To do this, you simply need to slow down the chirp signal so that acoustic dispersions from the surfaces of the room leak through the tracking filter.  In essence, the goal is to achieve a stationary equilibrium at each frequency in a room before switching to a new frequency. <br><br>  Since it is assumed that the system under study is linear and invariant in time, it can be assumed that each reflecting surface is an image of a loudspeaker.  A room is a collection of images, each of which has its own unique transfer function, which is described by the product of the spectral dissipation energy <i>S (œâ)</i> and the phase component <i>e <sup>-jœât</sup></i> .  Impulse response is the sum of all single responses: <br><br><img src="https://habrastorage.org/storage2/599/b04/1b1/599b041b1ffd3a8c4cac36f4d3f9a840.png"><br><br><img src="https://habrastorage.org/storage2/32a/900/59b/32a90059b27806b3351a9bb64ffbd477.png"><br><br>  TDS-method requires that the duration of the test signal was much longer than the duration of the response of the system.  Thus, if the room being measured has a reverberation time of one second, the duration of the test signal must be at least 10 seconds. <br><br>  To obtain the impulse response, you can use a chirp signal of any duration, resulting in a larger signal-to-noise ratio in a noisy room.  The disadvantage is that the system under test (ie, the room) should be linear and stationary in time (ie, there should be, for example, no air flow). <br><br><h5>  Mls </h5><br>  MLS (Maximum length sequence - maximum length sequence) is a name in the signal processing of a periodic pseudo-random sequence of values ‚Äã‚Äã1 and -1.  The same name has a cost-effective method for measuring the impulse response of a linear system using the MLS sequence as an input signal.  The period of such a signal is: <br><br><img src="https://habrastorage.org/storage2/f6f/7d6/cdd/f6f7d6cddb1066fc3cc779bd8f1f203b.png"><br><br>  <i>N</i> is the order of the sequence, i.e.  the number of changing registers used to generate a sequence. <br><br><img src="https://habrastorage.org/storage2/20f/6fd/c12/20f6fdc1254e6f0af04f288ce89f07ee.png"><br>  <sub>MLS sequence (N = 15)</sub> <br><br>  The result of the autocorrelation function of such a sequence is the delta function.  This means that the impulse response of the room is estimated using a cross-correlation function between the original MLS signal and the signal at the receiving point. <br><br><img src="https://habrastorage.org/storage2/c49/73d/00d/c4973d00d1ee7a60ce0242d4ceabf3bc.png"><br>  <sub>The autocorrelation function of the MLS sequence (N = 15)</sub> <br><br><img src="https://habrastorage.org/storage2/eda/540/367/eda54036763cda9f45a9a18fec2fbd24.png"><br>  <sub>The autocorrelation function of the MLS sequence (N = 8191)</sub> <br><br>  The cross-correlation function is calculated using the Walsh ‚Äì Hadamard transform - a special case of the generalized Fourier transform, in which the Walsh function system is the basis.  This family of functions that form an orthogonal system takes on values ‚Äã‚Äãof only 1 and -1 over the entire domain of definition. <br><br>  A convenient measure of how much energy a signal has per unit of time is the peak factor ‚Äî the ratio of the amplitude value of the signal to the average: <br><br><img src="https://habrastorage.org/storage2/72a/800/15c/72a80015cd9974c0226cc8b290e637d5.png"><br><br>  Ideally, the peak factor should be as close as possible to unity.  Since the amplitude and average values ‚Äã‚Äãare equal, it is impossible to have a larger energy value per unit of time, therefore we can say that the input signal is as close as possible to the ideal pulse. <br><br>  The MLS sequence peak factor is very close to one, so it makes sense to use this type of signal as an input to achieve a high signal-to-noise ratio during measurements.  Because MLS is well suited for setting up an experiment in noisy rooms. <br><br>  The main requirement of the MLS technique is the linearity of the system under test.  The impact must be at least as long as the response.  The system must also be stationary during the duration of the sequence. <br><br><h4>  Examples </h4><br><h5>  Delta function </h5><br><img src="https://habrastorage.org/storage2/965/d53/583/965d53583a7dcc862b6a994f7c0a4965.png"><br>  <a href="">Listen</a> <br><br><h5>  Tds </h5><br><img src="https://habrastorage.org/storage2/cc1/9ea/6aa/cc19ea6aa705fe5411e8de707cfac4d1.png"><br>  <a href="">Listen</a> <br><br><h5>  Mls </h5><br><img src="https://habrastorage.org/storage2/a0c/293/355/a0c2933558121fdaa683fa4bb50d3f5e.png"><br>  <a href="">Listen</a> <br><br><h4>  Basement </h4><br><ul><li>  <a href="http://www.clear.rice.edu/elec301/Projects00/elec301/">Sound System Measurements using Time Delay Spectrometry</a> </li><li> <a href="http://www.davidgriesinger.com/dgaes92b.pdf">Impulse Response Measurements Using All-Pass Deconvolution.</a>  David Griesinger, Lexicon, Inc.  Waltham, Massachusetts 02154, USA </li><li>  <a href="http://www.musicoff.com/Files/Intro_2_SoundRecording.pdf">Introduction to Sound Recording.</a>  Geoff Martin, B. Mus., Ph.  D., March 14, 2004 </li></ul><br><br>  <b>PS:</b> there is an interesting <a href="http://irlibrary.org/">site</a> , which is a collection of impulse characteristics of various rooms that are loaded by users.  You can also listen to how the vocals or drummers will sound in the room.  Unfortunately, the resource has fallen so far.  And it is not clear when he will rise. </div><p>Source: <a href="https://habr.com/ru/post/144625/">https://habr.com/ru/post/144625/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../144620/index.html">Using the Arduino UNO as a programmer</a></li>
<li><a href="../144621/index.html">IT Quest 4</a></li>
<li><a href="../144622/index.html">Unity3D 3.x Introduction to Surface Shaders</a></li>
<li><a href="../144623/index.html">Deepest Site</a></li>
<li><a href="../144624/index.html">Weather Forecast Thermometer</a></li>
<li><a href="../144626/index.html">Moving project from SVN to Git</a></li>
<li><a href="../144628/index.html">List functions in CouchDB</a></li>
<li><a href="../144630/index.html">Materials online conference. NET developers</a></li>
<li><a href="../144631/index.html">Open-source module for Gauss guns (coil gun)</a></li>
<li><a href="../144632/index.html">Quotes about programming languages</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>