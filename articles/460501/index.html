<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>An example implementation of Continuous Integration using BuildBot</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="(Image by Computerizer from Pixabay) 
 
 Hello! 

 My name is Evgeny Cherkin , I am a programmer of the development team at the mining company Polymet...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>An example implementation of Continuous Integration using BuildBot</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/jj/-4/-g/jj-4-gindpovkdi6rbmzxax4yqu.jpeg" alt="BuildBot Trial Configuration"><br>  <i>(Image by <a href="https://pixabay.com/users/Computerizer-4588466/%3Futm_source%3Dlink-attribution%26amp%3Butm_medium%3Dreferral%26amp%3Butm_campaign%3Dimage%26amp%3Butm_content%3D2301646">Computerizer</a> from <a href="https://pixabay.com/%3Futm_source%3Dlink-attribution%26amp%3Butm_medium%3Dreferral%26amp%3Butm_campaign%3Dimage%26amp%3Butm_content%3D2301646">Pixabay)</a></i> <i><br></i> <br>  Hello! <br><br>  My name is <b>Evgeny Cherkin</b> , I am a programmer of the development team at the mining company <b>Polymetal</b> . <br><br>  Starting any large project you start to think: ‚ÄúWhat software is better to use for its maintenance?‚Äù.  IT-project before the release of the next version goes through a series of stages.  Well, when the chain of these stages is automated.  By itself, the automated process of releasing a new version of an IT project is called <i>Continuous Integration</i> .  <b>BuildBot</b> for us was a good helper, implementing this process. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In this article, I decided to present an overview of the capabilities of <b>BuildBot</b> .  What is this software capable of?  How to approach it and how to build with it normal EFFECTIVE WORKING RELATIONS?  You can also apply our experience in your own home by creating a working service for assembling and testing your project on your machine. <br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Content</b> <div class="spoiler_text"><div class="scrollable-table"><table><tbody><tr><td colspan="4" align="center"><h3>  Content </h3></td></tr><tr><td>  <a href="https://habr.com/ru/post/460501/">1. Why BuildBot?</a> </td><td>  <a href="https://habr.com/ru/post/460501/">2. Concept led by BuildMaster</a> </td><td>  <a href="https://habr.com/ru/post/460501/">3. Installation</a> </td><td>  <a href="https://habr.com/ru/post/460501/">4. First steps</a> </td></tr><tr><td colspan="4" align="center">  <a href="https://habr.com/ru/post/460501/">5. Configuration.</a>  <a href="https://habr.com/ru/post/460501/">Step-by-step recipe</a> </td></tr><tr><td>  <a href="https://habr.com/ru/post/460501/">5.1 BuildmasterConfig</a> </td><td>  <a href="https://habr.com/ru/post/460501/">5.2 workers</a> </td><td>  <a href="https://habr.com/ru/post/460501/">5.3 change_source</a> </td><td>  <a href="https://habr.com/ru/post/460501/">5.4 shedulers</a> </td></tr><tr><td colspan="2" align="center">  <a href="https://habr.com/ru/post/460501/">5.5 BuildFactory</a> </td><td colspan="2" align="center">  <a href="https://habr.com/ru/post/460501/">5.6 builders</a> </td></tr><tr><td colspan="4" align="center">  <a href="https://habr.com/ru/post/460501/">6. Example of custom configuration</a> </td></tr><tr><td>  <a href="https://habr.com/ru/post/460501/">6.1 On the way to my master.cfg</a> </td><td>  <a href="https://habr.com/ru/post/460501/">6.2 Working with svn</a> </td><td colspan="2">  <a href="https://habr.com/ru/post/460501/">6.3 Letter to you: reporters authorized to declare</a> </td></tr><tr><td colspan="4" align="center">  <a href="https://habr.com/ru/post/460501/">We did it!</a>  <a href="https://habr.com/ru/post/460501/">My congratulations</a> </td></tr></tbody></table></div><br></div></div><br><a name="Why"></a><h3>  1. Why BuildBot? </h3><hr><br>  Earlier on habr-e, I met articles on the implementation of <i>Continuous Integration</i> using <b>BuildBot</b> .  For example, <a href="https://habr.com/ru/post/439096/">this one</a> seemed to me the most informative.  There is another example - <a href="https://habr.com/ru/post/204700/">easier</a> .  These articles can be seasoned with <a href="http://docs.buildbot.net/current/tutorial/fiveminutes.html">an example from the manual</a> , and <a href="http://trac.buildbot.net/wiki/Press">this will</a> follow in English.  The coupe is a good starting point.  After reading these articles, you probably immediately want to do something on the <b>BuildBot</b> . <br><br>  Stop!  Did anyone even use it in their projects?  It turns out yes, <a href="https://github.com/buildbot/buildbot/wiki/SuccessStories">many have</a> applied it in their tasks.  You can find <a href="https://code.google.com/archive/search%3Fq%3Ddomain:code.google.com%2520label:buildbot">examples of</a> using <b>BuildBot</b> in the archives of Google codes. <br><br>  So what is the logic of people using <b>Buildbot</b> ?  After all, there are other tools: <b>CruiseControl</b> and <b>Jenkins</b> .  I will answer this way.  For most tasks, <b>Jenkins</b> really will be enough.  In turn, the <b>BuildBot</b> is more adaptive, while the tasks there are solved as easily as in <b>Jenkins</b> .  Choose you.  But since we are looking for a tool for a developing target project, then why not choose the one that allows, building on simple steps, to get an assembly system that has interactivity and a unique interface. <br><br>  For those whose target project is written in python, the question arises: ‚ÄúWhy not choose an integration system that has a clear interface from the point of view of the language used in the project?‚Äù.  And then it's time to present the benefits of <b>BuildBot</b> . <br><blockquote>  So, our ‚Äúinstrumental quartet‚Äù.  For myself, I defined the four features of <b>BuildBot</b> : <br><ol><li>  This is an open source framework under the GPL license. </li><li>  This is the use of python as a tool for configuring and describing the required actions. </li><li>  This is an opportunity to receive a response from the side of the machine on which the assembly takes place. </li><li>  This, finally, the minimum requirements for the host.  Deployment requires python and twisted, and does not require a virtual machine and java-machine. </li></ol><br></blockquote><a name="Concepts"></a><h3>  2. Concept led by BuildMaster </h3><hr><br><img src="https://habrastorage.org/webt/so/qs/u1/soqsu1skae_0xuktzdemfv-n3yq.png" alt="BuildBot BuildMaster"><br><br>  A central place in the task distribution architecture is <b>BuildMaster</b> .  It is a service that: <br><br><ul><li>  <b>tracks</b> changes in the project source tree </li><li>  <b>sends</b> commands that Worker should execute to build a project and test it </li><li>  <b>notifies</b> users of the results of actions performed </li></ul><br>  <b>BuildMaster is</b> configured through the <i>master.cfg</i> file.  This file is in the root of <b>BuildMaster</b> .  Later I will show how this root is created.  By itself, the <i>master.cfg</i> file contains python, a script that uses <b>BuildBot</b> calls. <br><br>  The next most important <b>BuildBot</b> object is called <b>Worker</b> .  This service can be run on another host from another OS, and maybe on where <b>BuildMaster</b> .  It can also exist in a specially prepared virtual environment with its own packages and variables.  These virtual environments can be prepared using python utilities like <i>vertualenv, venv</i> . <br><br>  <b>BuildMaster</b> transmits commands to each <b>Worker</b> , and that, in turn, executes them.  That is, it turns out that the process of building and testing a project can go on a <b>Worker</b> running Windows and on another Worker running linux. <br><br>  <i>The checkout</i> of project source codes occurs at each <b>Worker</b> . <br><br><a name="Install"></a><h3>  3. Installation </h3><hr><br>  So let's go.  As a host, I will use Ubuntu 18.04.  On it, I will put one <b>BuildMaster</b> -a and one <b>Worker</b> -a.  But first you need to install python3.7: <br><br><pre><code class="bash hljs">sudo apt-get update sudo apt-get install python3.7</code> </pre> <br>  For those who need python3.7.2 instead of 3.7.1, you can do the following: <br><br><pre> <code class="bash hljs">sudo apt-get update sudo apt-get software-properties-common sudo add-apt-repository ppa:deadsnakes/ppa sudo apt-get install python3.7 sudo ln -fs /usr/bin/python3.7 /usr/bin/python3 pip3 install --upgrade pip</code> </pre><br>  The next step is to install <i>Twited</i> and <b>BuildBot</b> , as well as packages that allow you to use the additional functionality of <b>BuildBot</b> -a. <br><br><pre> <code class="bash hljs">/*   sudo        /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/lib/python3.7/dist-packages*/ <span class="hljs-comment"><span class="hljs-comment">#     Worker- sudo pip install twisted # twisted sudo pip install buildbot #BuildMaster #  pip install pysqlite3 #  sqllite    pip install jinja2 #framework  django,  web     pip install autobahn #Web c   BuildMaster-&gt;Worker pip install sqlalchemy sqlalchemy-migrate #     # Web  BuildBot-a pip install buildbot-www buildbot-grid-view buildbot-console-view buildbot-waterfall-view pip install python-dateutil #   web #         pip install buildbot-worker #Worker #  sudo pip install virtualenv # </span></span></code> </pre><br><a name="master"></a><h3>  4. First steps </h3><hr><br>  Time to create a <b>BuildMaster</b> .  We will have it in the folder <i>/ home / habr / master</i> . <br><pre> <code class="bash hljs">mkdir master buildbot create-master master <span class="hljs-comment"><span class="hljs-comment">#    </span></span></code> </pre> <br><a name="createworker"></a>  Next step.  Create a <b>Worker</b> .  We will have it in the folder <i>/ home / habr / worker</i> . <br><pre> <code class="bash hljs">mkdir worker buildbot-worker create-worker --<span class="hljs-built_in"><span class="hljs-built_in">umask</span></span>=0o22 --keepalive=60 worker localhost:4000 yourWorkerName password</code> </pre><br>  When you start <b>Worker</b> , by default it will create a folder in <i>/ home / habr / worker</i> with the name of the project that is specified in <i>master.cfg</i> .  And in the daddy with the name of the project he will create a <i>build</i> directory, and then he will <i>checkout there</i> .  The work directory for the <b>Worker</b> will be the <i>/ home / habr / yourProject / build</i> directory. <br><br>  <b>"Golden Key</b> <br>  And now, for the sake of what I wrote the previous paragraph: the script that the <b>Master</b> will require the <b>Worker</b> to do remotely in this directory will not be executed, since the script does not have permissions to run.  To remedy the situation, you need a key <a name="umask"></a>  <i>--umask = 0o22</i> , which imposes a ban on writing to this directory, but will leave the launch rights.  And we just need it. <br><br>  <b>BuildMaster</b> and <b>Worker</b> establish a connection between themselves.  It happens that it breaks off and the <b>Worker</b> awaits a response from <b>BuildMaster</b> for a while.  If no response is given, the connection is restarted.  The key <b>--keepalive = 60</b> is just needed in order to specify the time after which <i>connect</i> restarts. <br><br><a name="Recept"></a><h3>  5. Configuration.  Step-by-step recipe </h3><hr><br>  The <b>BuildMaster</b> configuration is maintained on the side of the machine, where we executed the <i>create-master</i> command.  In our case, this is the directory <i>/ home / habr / master</i> .  The configuration file <i>master.cfg</i> does not yet exist, but the team itself has already created the file <i>master.cmg.sample</i> .  You must rename it in <i>master.cfg.sample</i> in <i>master.cfg</i> <br><pre> <code class="bash hljs">mv master.cfg.sample master.cfg</code> </pre> <br>  Open this <i>master.cfg</i> .  And analyze what it consists of.  And then try to make your configuration file. <br><br><div class="spoiler">  <b class="spoiler_title">master.cfg</b> <div class="spoiler_text"><pre> <code class="python hljs">c[<span class="hljs-string"><span class="hljs-string">'change_source'</span></span>] = [] c[<span class="hljs-string"><span class="hljs-string">'change_source'</span></span>].append(changes.GitPoller( <span class="hljs-string"><span class="hljs-string">'git://github.com/buildbot/hello-world.git'</span></span>, workdir=<span class="hljs-string"><span class="hljs-string">'gitpoller-workdir'</span></span>, branch=<span class="hljs-string"><span class="hljs-string">'master'</span></span>, pollInterval=<span class="hljs-number"><span class="hljs-number">300</span></span>)) c[<span class="hljs-string"><span class="hljs-string">'schedulers'</span></span>] = [] c[<span class="hljs-string"><span class="hljs-string">'schedulers'</span></span>].append(schedulers.SingleBranchScheduler( name=<span class="hljs-string"><span class="hljs-string">"all"</span></span>, change_filter=util.ChangeFilter(branch=<span class="hljs-string"><span class="hljs-string">'master'</span></span>), treeStableTimer=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>, builderNames=[<span class="hljs-string"><span class="hljs-string">"runtests"</span></span>])) c[<span class="hljs-string"><span class="hljs-string">'schedulers'</span></span>].append(schedulers.ForceScheduler( name=<span class="hljs-string"><span class="hljs-string">"force"</span></span>, builderNames=[<span class="hljs-string"><span class="hljs-string">"runtests"</span></span>])) factory = util.BuildFactory() factory.addStep(steps.Git(repourl=<span class="hljs-string"><span class="hljs-string">'git://github.com/buildbot/hello-world.git'</span></span>, mode=<span class="hljs-string"><span class="hljs-string">'incremental'</span></span>)) factory.addStep(steps.ShellCommand(command=[<span class="hljs-string"><span class="hljs-string">"trial"</span></span>, <span class="hljs-string"><span class="hljs-string">"hello"</span></span>], env={<span class="hljs-string"><span class="hljs-string">"PYTHONPATH"</span></span>: <span class="hljs-string"><span class="hljs-string">"."</span></span>})) c[<span class="hljs-string"><span class="hljs-string">'builders'</span></span>] = [] c[<span class="hljs-string"><span class="hljs-string">'builders'</span></span>].append( util.BuilderConfig(name=<span class="hljs-string"><span class="hljs-string">"runtests"</span></span>, workernames=[<span class="hljs-string"><span class="hljs-string">"example-worker"</span></span>], factory=factory)) c[<span class="hljs-string"><span class="hljs-string">'services'</span></span>] = [] c[<span class="hljs-string"><span class="hljs-string">'title'</span></span>] = <span class="hljs-string"><span class="hljs-string">"Hello World CI"</span></span> c[<span class="hljs-string"><span class="hljs-string">'titleURL'</span></span>] = <span class="hljs-string"><span class="hljs-string">"https://buildbot.github.io/hello-world/"</span></span> c[<span class="hljs-string"><span class="hljs-string">'buildbotURL'</span></span>] = <span class="hljs-string"><span class="hljs-string">"http://localhost:8010/"</span></span> c[<span class="hljs-string"><span class="hljs-string">'www'</span></span>] = dict(port=<span class="hljs-number"><span class="hljs-number">8010</span></span>, plugins=dict(waterfall_view={}, console_view={}, grid_view={})) c[<span class="hljs-string"><span class="hljs-string">'db'</span></span>] = { <span class="hljs-string"><span class="hljs-string">'db_url'</span></span> : <span class="hljs-string"><span class="hljs-string">"sqlite:///state.sqlite"</span></span>, }</code> </pre><br></div></div><br><a name="BC"></a><h4>  <u>5.1 BuildmasterConfig</u> </h4><br><pre> <code class="python hljs">c = BuildmasterConfig = {}</code> </pre> <br>  <i>BuildmasterConfig</i> - the basic dictionary of the configuration file.  It must be necessarily involved in the configuration file.  For ease of use in the configuration code is entered its alias <i>"c"</i> .  <a href="http://docs.buildbot.net/current/bb-cfg.html">Key</a> names in <i>c [‚ÄúkeyFromDist‚Äù]</i> are fixed elements for interacting with <b>BuildMaster</b> .  Under each key, the corresponding object is substituted as a value. <br><br><a name="Worker"></a><h4>  <u>5.2 workers</u> </h4><br><pre> <code class="python hljs">c[<span class="hljs-string"><span class="hljs-string">'workers'</span></span>] = [worker.Worker(<span class="hljs-string"><span class="hljs-string">"example-worker"</span></span>, <span class="hljs-string"><span class="hljs-string">"pass"</span></span>)]</code> </pre> <br>  This time we specify the <b>BuildMaster</b> list of <b>Workers</b> .  We created the <b>Worker</b> <a href="https://habr.com/ru/post/460501/">above</a> , specifying <i>you-worker-name</i> and <i>password</i> .  Now they need to be specified instead of <i>example-worker</i> and <i>pass</i> . <br><br><a name="CS"></a><h4>  <u>5.3 change_source</u> </h4><br><pre> <code class="python hljs">c[<span class="hljs-string"><span class="hljs-string">'change_source'</span></span>] = [] c[<span class="hljs-string"><span class="hljs-string">'change_source'</span></span>].append(changes.GitPoller( <span class="hljs-string"><span class="hljs-string">'git://github.com/buildbot/hello-world.git'</span></span>, workdir=<span class="hljs-string"><span class="hljs-string">'gitpoller-workdir'</span></span>, branch=<span class="hljs-string"><span class="hljs-string">'master'</span></span>, pollInterval=<span class="hljs-number"><span class="hljs-number">300</span></span>))</code> </pre><br>  <i>Using the change_source</i> key of the <i>c</i> dictionary, we get access to the list where you want to put the object that polls the repository with the project source code.  The example uses the Git repository, which is polled with a certain frequency. <br><br>  The first argument is the path to your repository. <br><br>  <i>workdir</i> is the path to the folder where, on the <b>Worker</b> side, relative to the path <i>/ home / habr / worker / yourProject / build,</i> git will store the local version of the repository. <br><br>  <i>branch</i> contains a specific branch in the repository, which should be monitored. <br><br>  <i>pollInterval</i> contains the number of seconds after which the <b>BuildMaster</b> will poll the repository for changes. <br><br>  There are several methods to track changes in the project repository. <br><br>  The easiest method is <i>Polling</i> , which implies that <b>BuildMaster</b> periodically polls the server with the repository.  If the <i>commit</i> reflected the changes in the repository, then <b>BuildMaster</b> with some delay will create an internal <i>Change</i> object and send it to the <i>Scheduler</i> event handler, which will launch the steps to build and test the project on the <i>Worker</i> .  Among these steps will be specified <i>update</i> repository.  It is on <b>Worker that</b> a local copy of the repository will be created.  The details of this process will be explained below in the next two sections <b>( <a href="https://habr.com/ru/post/460501/">5.4</a> and <a href="https://habr.com/ru/post/460501/">5.5</a> )</b> . <br><br>  An even more elegant method of tracking changes in the repository is direct sending messages from the server on which it is hosted to <b>BuildMaster</b> ‚Äî about changing the source codes of a project.  In this case, as soon as the developer makes a <i>commit</i> , the server with the project repository will send a message to <b>BuildMaster</b> .  And that, in turn, will be intercepted by creating a <i>PBChangeSource</i> object.  Further, this object will be transferred to <i>Scheduler</i> , which activates the steps for building the project and testing it.  An important part of this method is working with server hooks in the repository.  In the <i>hook</i> script, which is responsible for handling actions during <i>commit</i> , you must call the <i>sendchange</i> utility and specify the network address of <b>BuildMaster</b> .  You need to <i>specify the</i> network port that the <i>PBChangeSource</i> will listen to.  <i>PBChangeSource</i> , by the way, is part of <b>BuildMaster</b> .  This method will require <i>admin</i> -a privileges on the server where the project repository is located.  You must first make a backup repository. <br><br><a name="shedulers"></a><h4>  <u>5.4 shedulers</u> </h4><br><pre> <code class="python hljs">c[<span class="hljs-string"><span class="hljs-string">'schedulers'</span></span>] = [] c[<span class="hljs-string"><span class="hljs-string">'schedulers'</span></span>].append(schedulers.SingleBranchScheduler( name=<span class="hljs-string"><span class="hljs-string">"all"</span></span>, change_filter=util.ChangeFilter(branch=<span class="hljs-string"><span class="hljs-string">'master'</span></span>), treeStableTimer=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>, builderNames=[<span class="hljs-string"><span class="hljs-string">"runtests"</span></span>])) c[<span class="hljs-string"><span class="hljs-string">'schedulers'</span></span>].append(schedulers.ForceScheduler( name=<span class="hljs-string"><span class="hljs-string">"force"</span></span>, builderNames=[<span class="hljs-string"><span class="hljs-string">"runtests"</span></span>]))</code> </pre><br>  <i>schedulers</i> is an element that acts as a trigger that runs the entire chain of assembly and testing of the project. <br><img src="https://habrastorage.org/webt/sh/1j/jo/sh1jjoo3rog47fsyjgqgorizyfs.png" alt="Buildbot shedulers"><br><br>  Those changes that were committed by <i>change_source</i> were transformed during the work of the <b>BuildBot</b> -a into a <i>Change</i> object, and now each <i>Sheduler</i> builds requests for starting the project build process on their basis.  However, it also determines when to send these requests further in the queue.  An object <a name="builder"></a>  <i>Builder</i> keeps a queue of requests and monitors the status of the current assembly on a separate <b>Worker-</b> e.  <i>Builder</i> exists on <b>both BuildMaster</b> -e and <b>Worker</b> -e.  He also sends from <b>BuildMaster</b> to <b>Worker a</b> specific <i>build</i> , a series of steps that should be performed. <br>  We see that in the current example of such <i>schedulers</i> 2 pieces are created.  Moreover, each has its own type. <br><br>  <i>SingleBranchScheduler</i> is one of the most popular schedule classes.  It observes one branch and is triggered by a fixed change in it.  When he sees the changes, he can postpone sending the build request (postpone for the period specified in the <i>treeStableTimer</i> special parameter).  The <i>name</i> specifies the name of the schedule that will be displayed in the <b>BuildBot-</b> web interface.  In <i>ChangeFilter,</i> a filter is set, after passing which changes in the branch cause the schedule to send a build request.  In <i>builderNames</i> , the name <i>builder</i> -a is specified, which we will specify later.  The name in our case will be the same as the project name: <i>yourProject</i> . <br><br>  <i>ForceScheduler is a</i> very simple thing.  This type of schedule is triggered by a mouse click through the <b>BuildBot</b> -web interface.  Parameters have the same essence as in <i>SingleBranchScheduler</i> . <br><br>  <b>PS number 3.</b>  <b>Suddenly useful</b> <br>  <i>Periodic</i> is a schedule that is triggered at a certain fixed time interval.  It looks like this <br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> buildbot.plugins <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> schedulers nightly = schedulers.Periodic(name=<span class="hljs-string"><span class="hljs-string">"daily"</span></span>, builderNames=[<span class="hljs-string"><span class="hljs-string">"full-solaris"</span></span>], periodicBuildTimer=<span class="hljs-number"><span class="hljs-number">24</span></span>*<span class="hljs-number"><span class="hljs-number">60</span></span>*<span class="hljs-number"><span class="hljs-number">60</span></span>) c[<span class="hljs-string"><span class="hljs-string">'schedulers'</span></span>] = [nightly]</code> </pre><br><a name="buildfactory"></a><h4>  <u>5.5 BuildFactory</u> </h4><br><pre> <code class="python hljs">factory = util.BuildFactory() factory.addStep(steps.Git(repourl=<span class="hljs-string"><span class="hljs-string">'git://github.com/buildbot/hello-world.git'</span></span>, mode=<span class="hljs-string"><span class="hljs-string">'incremental'</span></span>)) factory.addStep(steps.ShellCommand(command=[<span class="hljs-string"><span class="hljs-string">"trial"</span></span>, <span class="hljs-string"><span class="hljs-string">"hello"</span></span>], env={<span class="hljs-string"><span class="hljs-string">"PYTHONPATH"</span></span>: <span class="hljs-string"><span class="hljs-string">"."</span></span>}))</code> </pre><br>  <i>periodicBuildTimer</i> sets the time of this periodicity in seconds. <br><br>  <i>BuildFactory</i> creates a specific <i>build</i> , which the <i>builder</i> then sends to the <b>Worker</b> .  The <i>BuildFactory</i> indicates the steps to be performed by the <b>Worker</b> .  Steps are added by calling the <i>addStep</i> method <i>.</i> <i><br></i> <br><br>  The first step added in this example is <i>git clean -d -f -f ‚Äìx</i> , then <i>git checkout</i> .  These actions are included in the <i>method</i> parameter, which is not clearly indicated, but implies the default value of <i>fresh</i> .  The parameter <i>mode = 'incremental'</i> says that the files from the directory where <i>chechout</i> is being <i>made</i> , while those that are missing from the repository, remain intact. <br><br>  The second step added is to call the <i>trial</i> script with the <i>hello</i> parameter on the <b>Worker</b> side from the <i>/ home / habr / worker / yourProject / build directory</i> with the PATHONPATH = environment variable ... ... Thus, you can write your own scripts and execute them on the <b>Worker</b> -a side through the <i>util.ShellCommand</i> step.  These scripts can be put directly into the repository.  Then when <i>chechout</i> -e they will fall into <i>/ home / habr / worker / yourProject / build</i> .  However, then there are two "but": <br><ol><li>  <b>The Worker</b> must be created with the <a href="https://habr.com/ru/post/460501/"><i>--umask switch</i></a> so that it does not block execution rights after <i>checkout</i> -a. </li><li>  When <i>git push</i> these scripts, you must specify the <i>exacutable</i> property, so that when <i>chechout</i> -e you do not lose the right to execute the Git script. </li></ol><br><br><a name="builders"></a><h4>  <u>5.6 builders</u> </h4><br><pre> <code class="python hljs">c[<span class="hljs-string"><span class="hljs-string">'builders'</span></span>] = [] c[<span class="hljs-string"><span class="hljs-string">'builders'</span></span>].append(util.BuilderConfig(name=<span class="hljs-string"><span class="hljs-string">"runtests"</span></span>, workernames=[<span class="hljs-string"><span class="hljs-string">"example-worker"</span></span>], factory=factory))</code> </pre><br>  About what <i>Builder</i> was told <a href="https://habr.com/ru/post/460501/">here</a> .  Now I will tell you more about how to create it.  <i>BuilderConfig</i> is a <i>builder</i> constructor.  There are several such constructors in <i>c ['builders']</i> , since this is a list of <i>builder</i> type objects.  Now let's rewrite the example from <b>BuildBot</b> , bringing it closer to our task. <br><pre> <code class="python hljs">c[<span class="hljs-string"><span class="hljs-string">'builders'</span></span>] = [] c[<span class="hljs-string"><span class="hljs-string">'builders'</span></span>].append(util.BuilderConfig(name=<span class="hljs-string"><span class="hljs-string">"yourProject"</span></span>, workernames=[<span class="hljs-string"><span class="hljs-string">"yourWorkerName"</span></span>], factory=factory))</code> </pre><br>  Now I will tell you about the parameters <i>BuilderConfig</i> . <br><br>  <i>name</i> specifies the name of the <i>builder</i> -a.  Here we called it <i>yourProject</i> .  This means that on the <b>Worker</b> , this same path will be created <i>/ home / habr / worker / yourProject / build</i> .  <i>Sheduler is</i> looking for a <i>builder</i> by that name. <br><br>  <i>workernames</i> contains a list of <i>workers</i> .  Each of which must be added to <i>c ['workers']</i> . <br><br>  <i>factory</i> - a specific <i>build</i> with which the <i>builder is</i> associated.  It will send the <i>build</i> object to the <b>Worker</b> to perform all the steps that make up this <i>build</i> -a. <br><br><a name="myconfig"></a><h3>  6. Example of custom configuration </h3><hr><br>  Here is the sample project architecture that I propose to implement via <b>BuildBot</b> <b><br></b>  . <br><br>  As a version control system, we will use <i>svn</i> .  The repository itself will be located in a certain cloud.  Here is the address of this cloud <i><a href="https://svn.host/svn/yourProject/trunk">svn.host/svn/yourProject/trunk</a></i> .  In the cloud under <i>svn</i> there is a username: <i>user</i> account, passwd: <i>password</i> .  Scripts that are <i>build</i> -a steps will also be located in the <i>svn</i> branch, in a separate <i>buildbot / worker_linux folder</i> .  These scripts are in the repository with the <i>executable</i> property saved. <br><br>  <b>BuildMaster</b> and <b>Worker</b> work on the same <i>project.host</i> host.  <b>BuildMaster</b> stores its files in the <i>/ home / habr / master</i> folder.  <b>Worker</b> stores the following path <i>/ home / habr / worker</i> .  <b>BuildMaster</b> -a and <b>Worker-</b> processes are <b>connected</b> through the 4000th port using the <b>BuildBot</b> -a protocol, that is, the <i>'pb'</i> protocol. <br><br>  The target project is written entirely in python.  The task is to track its changes, create an executable file, generate documentation, carry out testing.  In case of failure, all developers need to send a message to the mail stating that there is a failed action. <br><br>  Web mapping <b>BuildBot</b> we will connect to port 80 for <i>project.host</i> .  Apatch is not required.  The <i>twisted</i> library already contains a web server, <b>BuildBot</b> uses it. <br><br>  To store the internal information for <b>BuildBot,</b> we will use <i>sqlite</i> . <br><br>  For mailing, you need the <i>smtp.your.domain</i> host - it allows sending emails from <i>projectHost@your.domain</i> without authentication.  Also, on the <i>smtp</i> host, the protocol is heard on post 1025. <br><br>  There are two persons involved in the process: <i>admin</i> and <i>user</i> .  admin admins <b>BuildBot</b> .  user is the commit <i>commit</i> . <br><br>  The exacutable file is generated via <i>pyinstaller</i> .  Documentation is generated via <i>doxygen</i> . <br><br>  For this architecture, I wrote this <i>master.cfg</i> : <br><br><div class="spoiler">  <b class="spoiler_title">master.cfg</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os, re <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> buildbot.plugins <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> steps, util, schedulers, worker, changes, reporters c= BuildmasterConfig ={} c[<span class="hljs-string"><span class="hljs-string">'workers'</span></span>] = [ worker.Worker(<span class="hljs-string"><span class="hljs-string">'yourWorkerName'</span></span>, <span class="hljs-string"><span class="hljs-string">'password'</span></span>) ] c[<span class="hljs-string"><span class="hljs-string">'protocols'</span></span>] = {<span class="hljs-string"><span class="hljs-string">'pb'</span></span>: {<span class="hljs-string"><span class="hljs-string">'port'</span></span>: <span class="hljs-number"><span class="hljs-number">4000</span></span>}} svn_poller = changes.SVNPoller(repourl=<span class="hljs-string"><span class="hljs-string">"https://svn.host/svn/yourProject/trunk"</span></span>, svnuser=<span class="hljs-string"><span class="hljs-string">"user"</span></span>, svnpasswd=<span class="hljs-string"><span class="hljs-string">"password"</span></span>, pollinterval=<span class="hljs-number"><span class="hljs-number">60</span></span>, split_file=util.svn.split_file_alwaystrunk ) c[<span class="hljs-string"><span class="hljs-string">'change_source'</span></span>] = svn_poller hourlyscheduler = schedulers.SingleBranchScheduler( name=<span class="hljs-string"><span class="hljs-string">"your-project-schedulers"</span></span>, change_filter=util.ChangeFilter(branch=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>), builderNames=[<span class="hljs-string"><span class="hljs-string">"yourProject"</span></span>], properties = {<span class="hljs-string"><span class="hljs-string">'owner'</span></span>: <span class="hljs-string"><span class="hljs-string">'admin'</span></span>} ) c[<span class="hljs-string"><span class="hljs-string">'schedulers'</span></span>] = [hourlyscheduler] checkout = steps.SVN(repourl=<span class="hljs-string"><span class="hljs-string">'https://svn.host/svn/yourProject/trunk'</span></span>, mode=<span class="hljs-string"><span class="hljs-string">'full'</span></span>, method=<span class="hljs-string"><span class="hljs-string">'fresh'</span></span>, username=<span class="hljs-string"><span class="hljs-string">"user"</span></span>, password=<span class="hljs-string"><span class="hljs-string">"password"</span></span>, haltOnFailure=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) projectHost_build = util.BuildFactory() cleanProject = steps.ShellCommand(name=<span class="hljs-string"><span class="hljs-string">"Clean"</span></span>, command=[<span class="hljs-string"><span class="hljs-string">"buildbot/worker_linux/pyinstaller_project"</span></span>, <span class="hljs-string"><span class="hljs-string">"clean"</span></span>] ) buildProject = steps.ShellCommand(name=<span class="hljs-string"><span class="hljs-string">"Build"</span></span>, command=[<span class="hljs-string"><span class="hljs-string">"buildbot/worker_linux/pyinstaller_project"</span></span>, <span class="hljs-string"><span class="hljs-string">"build"</span></span>] ) doxyProject = steps.ShellCommand(name=<span class="hljs-string"><span class="hljs-string">"Update Docs"</span></span>, command=[<span class="hljs-string"><span class="hljs-string">"buildbot/worker_linux/gendoc"</span></span>, []] ) testProject = steps.ShellCommand(name=<span class="hljs-string"><span class="hljs-string">"Tests"</span></span>, command=[<span class="hljs-string"><span class="hljs-string">"python"</span></span>,<span class="hljs-string"><span class="hljs-string">"tests/utest.py"</span></span>], env={<span class="hljs-string"><span class="hljs-string">'PYTHONPATH'</span></span>: <span class="hljs-string"><span class="hljs-string">'.'</span></span>} ) projectHost_build.addStep(checkout) projectHost_build.addStep(cleanProject) projectHost_build.addStep(buildProject) projectHost_build.addStep(doxyProject) projectHost_build.addStep(testProject) c[<span class="hljs-string"><span class="hljs-string">'builders'</span></span>] = [ util.BuilderConfig(name=<span class="hljs-string"><span class="hljs-string">"yourProject"</span></span>, workername=<span class="hljs-string"><span class="hljs-string">'yourWorkerName'</span></span>, factory=projectHost_build) ] template_html=<span class="hljs-string"><span class="hljs-string">u'''\ &lt;h4&gt;  : {{ summary }}&lt;/h4&gt; &lt;p&gt;   : {{ workername }}&lt;/p&gt; &lt;p&gt;: {{ projects }}&lt;/p&gt; &lt;p&gt;         : {{ buildbot_url }}&lt;/p&gt; &lt;p&gt;         : {{ build_url }}&lt;/p&gt; &lt;p&gt; WinSCP     c ip:xxx.xx.xxx.xx.   habr/password,   executable    ~/worker/yourProject/build/dist.&lt;/p&gt; &lt;p&gt;&lt;b&gt;    Buildbot&lt;/b&gt;&lt;/p&gt; '''</span></span> sendMessageToAll = reporters.MailNotifier(fromaddr=<span class="hljs-string"><span class="hljs-string">"projectHost@your.domain"</span></span>, sendToInterestedUsers=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, lookup=<span class="hljs-string"><span class="hljs-string">"your.domain"</span></span>, relayhost=<span class="hljs-string"><span class="hljs-string">"smtp.your.domain"</span></span>, smtpPort=<span class="hljs-number"><span class="hljs-number">1025</span></span>, mode=<span class="hljs-string"><span class="hljs-string">"warnings"</span></span>, extraRecipients=[<span class="hljs-string"><span class="hljs-string">'user@your.domain'</span></span>], messageFormatter=reporters.MessageFormatter( template=template_html, template_type=<span class="hljs-string"><span class="hljs-string">'html'</span></span>, wantProperties=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, wantSteps=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) ) c[<span class="hljs-string"><span class="hljs-string">'services'</span></span>] = [sendMessageToAll] c[<span class="hljs-string"><span class="hljs-string">'title'</span></span>] = <span class="hljs-string"><span class="hljs-string">"The process of bulding"</span></span> c[<span class="hljs-string"><span class="hljs-string">'titleURL'</span></span>] = <span class="hljs-string"><span class="hljs-string">"http://project.host:80/"</span></span> c[<span class="hljs-string"><span class="hljs-string">'buildbotURL'</span></span>] = <span class="hljs-string"><span class="hljs-string">"http://project.host"</span></span> c[<span class="hljs-string"><span class="hljs-string">'www'</span></span>] = dict(port=<span class="hljs-number"><span class="hljs-number">80</span></span>, plugins=dict(waterfall_view={}, console_view={}, grid_view={})) c[<span class="hljs-string"><span class="hljs-string">'db'</span></span>] = { <span class="hljs-string"><span class="hljs-string">'db_url'</span></span> : <span class="hljs-string"><span class="hljs-string">"sqlite:///state.sqlite"</span></span> }</code> </pre><br></div></div><br>  First you need <a href="https://habr.com/ru/post/460501/">to create</a> <b>BuildMaster</b> -a and <b>Worker</b> -a.  Then paste this <i>master.cfg</i> file into <i>/ home / habr / master</i> . <br><br>  The next step is to start the <b>BuildMaster</b> service <b>.</b> <br><pre> <code class="bash hljs">sudo buildbot start /home/habr/master</code> </pre><br>  Then start the <b>Worker</b> -a service. <br><pre> <code class="bash hljs">buildbot-worker start /home/habr/worker</code> </pre><br>  Done!  Now <b>Buildbot</b> will track changes and work on a <i>commit</i> in <i>svn</i> , following the steps of building and testing a project with the above architecture. <br><br>  Below I will write down some of the features of the above <i>master.cfg.</i> <i><br></i> <br><br><a name="fails"></a><h4>  <u>6.1 On the way to my master.cfg</u> </h4><br>  A lot of mistakes will be made while writing your <i>master.cfg</i> , so you will need to read the log file.  It is stored both on <b>BuildMaster</b> -ec in absolute way <i>/home/habr/master/twistd.log</i> , and on the <b>Worker</b> -a side with absolute way <i>/home/habr/worker/twistd.log</i> .  As you read the error and fix it, you will need to restart the <b>BuildMaster</b> -a service.  Here is how it is done: <br><pre> <code class="bash hljs">sudo buildbot stop /home/habr/master sudo buildbot upgrade-master /home/habr/master sudo buildbot start /home/habr/master</code> </pre><br><a name="svn"></a><h4>  <u>6.2 Working with svn</u> </h4><br><pre> <code class="python hljs">svn_poller = changes.SVNPoller(repourl=<span class="hljs-string"><span class="hljs-string">"https://svn.host/svn/yourProject/trunk"</span></span>, svnuser=<span class="hljs-string"><span class="hljs-string">"user"</span></span>, svnpasswd=<span class="hljs-string"><span class="hljs-string">"password"</span></span>, pollinterval=<span class="hljs-number"><span class="hljs-number">60</span></span>, split_file=util.svn.split_file_alwaystrunk ) c[<span class="hljs-string"><span class="hljs-string">'change_source'</span></span>] = svn_poller hourlyscheduler = schedulers.SingleBranchScheduler( name=<span class="hljs-string"><span class="hljs-string">"your-project-schedulers"</span></span>, change_filter=util.ChangeFilter(branch=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>), builderNames=[<span class="hljs-string"><span class="hljs-string">"yourProject"</span></span>], properties = {<span class="hljs-string"><span class="hljs-string">'owner'</span></span>: <span class="hljs-string"><span class="hljs-string">'admin'</span></span>} ) c[<span class="hljs-string"><span class="hljs-string">'schedulers'</span></span>] = [hourlyscheduler] checkout = steps.SVN(repourl=<span class="hljs-string"><span class="hljs-string">'https://svn.host/svn/yourProject/trunk'</span></span>, mode=<span class="hljs-string"><span class="hljs-string">'full'</span></span>, method=<span class="hljs-string"><span class="hljs-string">'fresh'</span></span>, username=<span class="hljs-string"><span class="hljs-string">"user"</span></span>, password=<span class="hljs-string"><span class="hljs-string">"password"</span></span>, haltOnFailure=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>)</code> </pre><br>  First, take a look at <i>svn_poller</i> .  This is all the same interface that regularly polls the repository once a minute.  In this case, <i>svn_poller</i> refers only to the <i>trunk</i> branch.  The mysterious parameter <i>split_file = util.svn.split_file_alwaystrunk</i> sets the rules: how to split the <i>svn</i> folder structure into branches.  He offers them relative paths.  In turn, <i>split_file_alwaystrunk</i> simplifies the process by saying that only <i>trunk is</i> in the repository. <br><br>  In <i>Schedulers</i> , a <i>ChangeFilter</i> is <i>specified</i> , which sees <i>None</i> and associates with it the <i>trunk</i> branch by the specified association through <i>split_file_alwaystrunk</i> .  In response to changes in the <i>trunk</i> , it starts the <i>builder</i> with the name <i>yourProject</i> . <br><br>  <i>The properties</i> here are needed in order for the admin to receive a mailing from the results of the assembly and testing as the owner of the process. <br><br>  The <i>build</i> -a <i>checkout</i> step is capable of completely deleting any files in the local version of the <b>Worker</b> repository.  A then do a full <i>svn update</i> .  The mode is configured through the parameter <i>mode = full</i> , <i>method = fresh</i> .  The <i>haltOnTailure</i> parameter says that if <i>svn update</i> is executed with an error, then the entire build and testing process should be suspended, since further actions do not make sense. <br><br><a name="reporter"></a><h4>  <u>6.3 Letter to you: reporters authorized to declare</u> </h4><br>  <i>reporters</i> is a mailing notification service. <br><pre> <code class="python hljs">template_html=<span class="hljs-string"><span class="hljs-string">u'''\ &lt;h4&gt;  : {{ summary }}&lt;/h4&gt; &lt;p&gt;   : {{ workername }}&lt;/p&gt; &lt;p&gt;: {{ projects }}&lt;/p&gt; &lt;p&gt;         : {{ buildbot_url }}&lt;/p&gt; &lt;p&gt;         : {{ build_url }}&lt;/p&gt; &lt;p&gt; WinSCP     c ip:xxx.xx.xxx.xx.   habr/password,   executable    ~/worker/yourProject/build/dist.&lt;/p&gt; &lt;p&gt;&lt;b&gt;    Buildbot&lt;/b&gt;&lt;/p&gt; '''</span></span> sendMessageToAll = reporters.MailNotifier(fromaddr=<span class="hljs-string"><span class="hljs-string">"projectHost@your.domain"</span></span>, sendToInterestedUsers=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, lookup=<span class="hljs-string"><span class="hljs-string">"your.domain"</span></span>, relayhost=<span class="hljs-string"><span class="hljs-string">"smtp.your.domain"</span></span>, smtpPort=<span class="hljs-number"><span class="hljs-number">1025</span></span>, mode=<span class="hljs-string"><span class="hljs-string">"warnings"</span></span>, extraRecipients=[<span class="hljs-string"><span class="hljs-string">'user@your.domain'</span></span>], messageFormatter=reporters.MessageFormatter( template=template_html, template_type=<span class="hljs-string"><span class="hljs-string">'html'</span></span>, wantProperties=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, wantSteps=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) ) c[<span class="hljs-string"><span class="hljs-string">'services'</span></span>] = [sendMessageToAll]</code> </pre><br>  He can send messages in <a href="http://docs.buildbot.net/current/manual/configuration/reporters.html">different ways</a> . <br><br>  <i>MailNotifier</i> uses mail to send notifications. <br><br>  <i>template_html</i> specifies the template text to be distributed.  To create markup is used html.  It is modified by the <a href="http://jinja.pocoo.org/docs/dev/templates/"><i>jinja2</i></a> engine (can be compared with <i>django</i> ).  <b>BuildBot</b> has a set of variables, the values ‚Äã‚Äãof which are substituted into the template during the formation of the message text.  These variables are inscribed in {{double braces}}.  For example, <i>summary</i> displays the status of completed operations, that is, success or failure.  And the <i>projects</i> will display <i>yourProject</i> .  So, with the help of control commands in <i>jinja2</i> , <i>BuildBot</i> variables and python string formatting tools, you can create a completely informative message. <br><br>  <i>MailNotifier</i> contains the following arguments. <br><br>  <i>fromaddr</i> - address from which all will receive mailing. <br><br>  <i>sendToInterestedUsers</i> = True sends a message to the owner and the user who made the <i>commit</i> . <br><br>  <i>lookup</i> is the suffix to add to the names of users who receive the feed.  So <i>admin</i> as the user will receive the newsletter at admin@your.domain. <br><br>  <i>relayhost</i> sets the name of the host on which the <i>smtp</i> server is open, and <i>smptPort</i> sets the port number that the <i>smtp</i> server listens to. <br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mode = "warning"</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> says that the distribution should be done only if there is at least one </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">build</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> step </font><font style="vertical-align: inherit;">, which ended with the status of failure or warning. In the case of success, the mailing list is not required. </font></font><br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">extraRecipients</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> contains a list of persons to whom the mailing list should be sent, in addition to the owner and the person who made the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">commit</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">messageFormatter</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> is an object that defines the message format, its template, and the set of variables available from </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jinja2</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Parameters such as </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wantProperties = True</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wantSteps = True</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> set this set of available variables. </font></font><br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">with ['services'] = [sendMessageToAll]</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> provides a list of services, among which will be our</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">reporter</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><a name="goodboy"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We did it! </font><font style="vertical-align: inherit;">My congratulations</font></font></h3><hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We created our own configuration and saw the functionality that </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BuildBot</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> is </font><b><font style="vertical-align: inherit;">capable of</font></b><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">This, I think, is enough to understand whether this tool is needed to create your project. </font><font style="vertical-align: inherit;">Is he interesting to you? </font><font style="vertical-align: inherit;">Will it be useful to you? </font><font style="vertical-align: inherit;">Is it convenient to work with him? </font><font style="vertical-align: inherit;">Then I write this article for good reason.</font></font><br><br>  And further.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It would be great if the professional community using the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BuildBot</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> becomes wider, the manuals are translated, and there are more examples.</font></font><br><br>  Thank you all for your attention.  Good luck. </div><p>Source: <a href="https://habr.com/ru/post/460501/">https://habr.com/ru/post/460501/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../460495/index.html">Container - on the conveyor: CRI-O is now the default in OpenShift Container Platform 4</a></li>
<li><a href="../460497/index.html">Intuitive use of MCMC</a></li>
<li><a href="../460499/index.html">Three winners of the Dijkstra Prize: how did Hydra 2019 and SPTDC 2019 go</a></li>
<li><a href="../4605/index.html">IPTV subscribers by the end of the year will be double</a></li>
<li><a href="../46050/index.html">One gas emotion of Japanese Emoji</a></li>
<li><a href="../460503/index.html">Wireless configuration Raspberry PI 3 B +</a></li>
<li><a href="../460505/index.html">Allure three crosses, or Why projects are so hard to finish on time</a></li>
<li><a href="../460507/index.html">XEN and the future of automotive: how open source hypervisor becomes a competitor to commercial automotive solutions</a></li>
<li><a href="../460509/index.html">How resident proxies help in business: a real case of using Infatica in the field of Data Mining</a></li>
<li><a href="../46051/index.html">Installing Wireless DLink AirPlus XtremeG DWL G520 on Debian Linux</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>