<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Terrasoft CRM: Developer's Guide</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Due to my work in the past few months, I had to deal with the development of CRM infrastructure for a single publishing house. The company‚Äôs managemen...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Terrasoft CRM: Developer's Guide</h1><div class="post__text post__text-html js-mediator-article">  Due to my work in the past few months, I had to deal with the development of CRM infrastructure for a single publishing house.  The company‚Äôs management chose the desktop version of CRM, since  At that time, the web version of bpm'online was fairly raw.  Prior to the development, the main entities specific to the publisher, which had no analogues out of the box (such as "Editions", "Formats", "Numbers", for advertising in the magazines "Orders", "Placements", etc., were worked out and agreed upon ., closely interacting with each other).  But what was my surprise when, having started the development, I did not find adequate documentation for developers, or rather did not find anything at all.  All that was possible to dig out is the answers to the questions and blogs of the CRM developers themselves, on the forum.  Scanty documentation can be found at <a href="http://terrasoft.ru/sdk/">terrasoft.ru/sdk</a> , but at the very beginning of my acquaintance with the system it didn‚Äôt help me much.  Therefore, I spent a lot of time to understand what works and how. <br><a name="habracut"></a><br>  So, the whole system can be divided into sections (Contacts, Contractors, Banks and details to these sections, for example Addresses, Contracts, Career for Contacts, Brands, Payment details for Counterparties, etc.) <br><br><img src="https://habrastorage.org/files/af3/127/6f5/af31276f50ba4e2889e1fe830a64ddf3.png"><br><br>  Here is an example of the section ‚ÄúContacts‚Äù and details of the ‚ÄúAddress‚Äù. It is worth noting that sections are created using a special utility. <br><div class="spoiler">  <b class="spoiler_title">How to create a section</b> <div class="spoiler_text">  To do this, you need to register a special key for the Terrasoft Client launch shortcut in the ‚ÄúObject‚Äù field: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="bash hljs">\wnd=wnd_CreateNewWorkspace</code> </pre> <br>  It should get something like this: <br><br><pre> <code class="bash hljs"><span class="hljs-string"><span class="hljs-string">"C:\Program Files (x86)\Terrasoft Press\Bin\TSClient.exe"</span></span> \wnd=wnd_CreateNewWorkspace</code> </pre><br></div></div><br>  By the way, in the same way, using a different key, you can turn on the database query profiler, which is indispensable when searching for errors: <br><br><pre> <code class="bash hljs"><span class="hljs-string"><span class="hljs-string">"C:\Program Files (x86)\Terrasoft Press\Bin\TSClient.exe"</span></span> /profiler</code> </pre><br>  Actually, the most important thing for a developer is just the addition, editing and structuring of data, the study of the connections of all entities with each other.  Therefore, we will create a partition (or also Workspace) of <b>MyWorkspace</b> and <b>adjust the</b> addition of data. <br><br><img src="https://habrastorage.org/files/295/d9c/2c9/295d9c2c985c4156a2b8e1d6b94fd5f1.png"><br><br>  After that you need to add the newly created section to the workplace: <br><br><pre> <code class="bash hljs"> -&gt;  -&gt;  </code> </pre><br><img src="https://habrastorage.org/files/54b/dd5/a95/54bdd5a959174eef95ba86109de9797c.png"><br><br>  After that we can open Terrasoft Administrator and find all the services necessary for the work of our section (workspace). <br>  You can find it in the services tree: <br><br><pre> <code class="bash hljs">Custom -&gt; Workspaces -&gt; myworkspace -&gt; General -&gt; Main Grid</code> </pre><br><br><img src="https://habrastorage.org/files/1bd/46a/802/1bd46a80236f427b81c41f4177c641b5.png"><br><br>  Now briefly about the services that make up our workspace. <br><br><ul><li>  <i>tbl_myworkspace</i> (tbl_ = Table) Table with a description of fields, indices, and relationships; </li><li>  <i>sq_myworkspace</i> (sq_ = Select Query) Query that retrieves data from a table (or several tables using JOINs); </li><li>  <i>ds_myworkspace</i> (ds_ = Data Set) The data set allows you to add, delete or change data in the table; </li><li>  <i>wnd_myworkspaceEdit</i> (wnd_ = Window) Editing window with which the user adds data to this section; </li><li>  <i>wnd_myworkspaceGridArea</i> This is a grid in which all of our entries from this section are displayed; </li><li>  <i>wnd_myworkspaceWorkspace</i> The main section window that contains both the main grid and the details associated with it.  Also, if necessary, you can add new parts here (a one-to-many connection is obtained, that is, one record of the grid can have several records in the details, as I wrote earlier, ‚ÄúContact‚Äù can have several addresses, etc.); </li></ul><br><h3>  Adding data </h3><br>  Let's try to create a section with information about employees.  Add some new fields: <br><br><ul><li>  E-mail </li><li>  Position </li><li>  Salary </li></ul><br>  First you need to create all these fields in the <b>tbl_myworkspace</b> table.  No difficulties should arise.  After saving, the fields will be updated in the database you are using (I have Microsoft SQL).  Here we can add indexes by fields or links if necessary. <br><br>  Now you need to update the query <b>sq_myworkspace</b> , which is responsible for <b>selecting</b> data from this table. <br><br><img src="https://habrastorage.org/files/262/495/e00/262495e002104da59ce4c7a5b665aa76.png"><br><br>  Add the required fields and save.  If you wish, you can view the SQL query by pressing ctrl + P. <br><br>  At the end, we add all these fields to ds_myworkspace <b>so</b> that you can work with the data through a special object. <br><br><img src="https://habrastorage.org/files/430/e73/98d/430e7398db5f4474b9c0e478ea088d83.png"><br><br>  The same can be done much easier, you need to find the directory of our section (myworkspace) and change the structure of the fields: <br><br><pre> <code class="bash hljs"> -&gt; </code> </pre><br>  Now that we have added the required fields, we can display them on the <b>wnd_myworkspaceEdit</b> data addition / editing <b>form</b> . <br><br>  From the set of available elements, select <b>TextDataControl.</b>  In the properties you must specify the following parameters: <br><br><ul><li>  DatasetLink - usually it is only one on the dlData form (located on the ‚ÄúNon-visual‚Äù tab); </li><li>  DataFieldName - select the field we want to display (if our added fields are not visible, try closing and re-opening the wnd_myworkspaceEdit window) </li><li>  Name - you can leave the standard name, but it is better to use a specific style for such elements (for example, edtNameOfField). </li></ul><br>  For salary, select <b>IntegerDataControl</b> and do the same.  Now we can open the Terrasoft Client and add an entry using the section data editing window.  Record is added without problems, but our custom fields are not displayed in the grid.  Why?  Yes, because we have not added them to this very grid.  Therefore, open <b>wnd_myworkspaceGridArea</b> , find the element grdData -&gt; gdvData, right-click, select the item "Define columns" and add our fields.  After that, they will be visible in the grid in the client (you may need to add them by clicking the plus sign in the upper right corner of the grid, where you can add or hide the necessary columns on the contrary). <br><br><h3>  Drop down lists </h3><br>  Quite often you have to deal with drop-down lists.  It is much more convenient to make, for example, a list of posts once in the directory, and then just choose the name of the post from this list.  This is much more convenient and correct from the point of view of database design. <br><br>  Suppose we have already created a directory with a list of posts <b>MyWorkspaceAppointments</b> .  Create an AppointmentID field in the <b>tbl_myworkspace</b> table where the post ID will be stored.  Add it to the <b>sq_myworkspace</b> , and also we will need to select the field " <b>Job</b> Title", which will be displayed in the drop-down list.  Therefore we do JOIN with the table of posts across the field AppointmentID.  And we add this field to the SELECT block.  Extract it as an AppointmentName. <br><br><img src="https://habrastorage.org/files/df2/7f1/fcc/df27f1fccdb4488aad878dd2d9998006.png"><br><br>  Now we add the field ‚ÄúReference field‚Äù to the dataset.  Select the AppointmentID column, select the data directory of posts directory in the directory data source, and select the AppointmentName field that we selected earlier in the ‚ÄúColumn for display‚Äù field.  At the bottom, put a tick "Display as a drop-down list in the cards."  Add a LookupDataControl element to the window and select it in the DataFieldName.  Everything can be checked. <br><br><img src="https://habrastorage.org/files/3de/60b/b7e/3de60bb7eea24d64b0df38ac6f945087.png"><br><br>  Actually, this is the very basis on which the Terrasoft system is built (in my personal opinion). <br><br><h3>  Work with Dataset dataset </h3><br>  As I already said, work with the database occurs through the dataset data set.  You can get the current dataset for the window in which we work via DataLink: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Dataset = dlData.Dataset;</code> </pre><br>  You can also get any other data set by its name: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> TestDataset = Services.GetNewItemByUSI(<span class="hljs-string"><span class="hljs-string">'ds_Test'</span></span>);</code> </pre><br><br>  <b>Adding an entry in the code</b> <br><br><pre> <code class="javascript hljs">TestDataset.Append(); TestDataset.Values(<span class="hljs-string"><span class="hljs-string">'Name'</span></span>) = <span class="hljs-string"><span class="hljs-string">' '</span></span>; TestDataset.Values(<span class="hljs-string"><span class="hljs-string">'Salary'</span></span>) = <span class="hljs-number"><span class="hljs-number">30000</span></span>; TestDataset.Post();</code> </pre><br>  ID - it is not necessary to add a unique identifier, this will happen automatically. <br><br>  <b>Editing Record</b> <br>  To edit a specific record, apply a filter (hereinafter, the filters will be discussed in more detail) to the data set: <br><br><pre> <code class="javascript hljs">ApplyDatasetFilter(TestDataset, <span class="hljs-string"><span class="hljs-string">'ID'</span></span>, <span class="hljs-string"><span class="hljs-string">'{e2ad6e6f-481a-40d0-abb6-50e4b19a43d6}'</span></span>, <span class="hljs-literal"><span class="hljs-literal">true</span></span>); TestDataset.Open(); <span class="hljs-comment"><span class="hljs-comment">//   if(!TestDataset.IsEmptyPage) { TestDataset.Edit(); TestDataset.Values('Salary') = 35000; //    TestDataset.Post(); //  } TestDataset.Close(); //    </span></span></code> </pre><br>  If you need to edit more than one entry: <br><br><pre> <code class="javascript hljs">TestDataset.Open(); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (!TestDataset.IsEOF) { TestDataset.Edit(); TestDataset.Values(<span class="hljs-string"><span class="hljs-string">'Salary'</span></span>) = <span class="hljs-number"><span class="hljs-number">40000</span></span>; TestDataset.Post(); TestDataset.GotoNext(); <span class="hljs-comment"><span class="hljs-comment">//     } TestDataset.Close();</span></span></code> </pre><br><br>  <b>Deletion</b> <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//     ,      TestDataset.Open(); while(!TestDataset.IsEOF) { TestDataset.Delete(); TestDataset.Open(); } TestDataset.Close();</span></span></code> </pre><br>  You can count the number of records in a set using the RecordsCount property. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Records = TestDataset.RecordsCount;</code> </pre><br><br><h3>  Select Query and Dataset: custom filters </h3><br>  Data obtained using datasets can be filtered using custom filters.  They are set in <b>sq_</b> services.  In our case, this is <b>sq_myworkspace</b> .  By default, a filter by ID will be created, which can be used immediately in the code. <br><br>  The normal filter is applied using the ApplyDatasetFilter function: <br><br><pre> <code class="javascript hljs">ApplyDatasetFilter(Dataset, <span class="hljs-string"><span class="hljs-string">'ID'</span></span>, id, <span class="hljs-literal"><span class="hljs-literal">true</span></span>);</code> </pre><br><ul><li>  Dataset - to which it is necessary to apply the filter </li><li>  'ID' - the name of the filter in the WHERE block </li><li>  id - identifier by which the search will be performed </li><li>  true - this parameter indicates that the filter should be enabled </li></ul><br><br>  Create a simple filter on the field "Salary": <br><br>  1) create a parameter that will be passed to the filter (SalarySum); <br>  2) add the ‚ÄúComparison Filter‚Äù to the WHERE block, specify the same name as the parameter (SalarySum).  Select the field ( <i>tbl_myworkspace.Salary</i> ) to compare with the parameter that we will pass from the ApplyDatasetFilter function. <br><br><img src="https://habrastorage.org/files/2e5/e4d/9ea/2e5e4d9eadff4a21afb009c1c267b98b.png"><br><br>  Now we can apply it in the code and find all employees with a salary of 30,000. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ds = Services.GetNewItemByUSI(<span class="hljs-string"><span class="hljs-string">'ds_myworkspace'</span></span>); ApplyDatasetFilter(ds, <span class="hljs-string"><span class="hljs-string">'SalarySum'</span></span>, <span class="hljs-number"><span class="hljs-number">30000</span></span>, <span class="hljs-literal"><span class="hljs-literal">true</span></span>); ds.Open(); Log.Write(<span class="hljs-number"><span class="hljs-number">2</span></span>, ds.ValAsStr(<span class="hljs-string"><span class="hljs-string">'Name'</span></span>)); ds.Close();</code> </pre><br>  You can also apply multiple filters.  For example, to find all directors with a salary of more than 30,000, etc. <br><br><h3>  Dataset events </h3><br>  I would also like to mention the most used dataset events: <br><br>  <i>OnDatasetAfterOpen</i> - occurs after opening a dataset; <br>  <i>OnDatasetAfterPositionChange</i> - occurs after switching to another record (it is useful when tracking the change of the selected record in the grid); <br>  <i>OnDatasetAfterPost</i> - occurs after adding / changing a record (it is useful when you need to change related data in another table); <br>  <i>OnDatasetBeforePost</i> - occurs before adding / changing a record (it is useful for user data check, before saving).  Also, the DoPost parameter is passed to the event, if for some reason you need to cancel the addition (for example, the data did not pass the user check) you simply do: <br><br><pre> <code class="javascript hljs">DoPost.Value = <span class="hljs-literal"><span class="hljs-literal">false</span></span>;</code> </pre><br>  <i>OnDatasetDataChange</i> - occurs when dataset data changes.  For example, some kind of logic is needed when changing a field position from our drop-down list. <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dlDataOnDatasetDataChange</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">DataField</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> FieldName = DataField.Name; <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span>(FieldName) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'EditionID'</span></span>: <span class="hljs-comment"><span class="hljs-comment">//        break; } }</span></span></code> </pre><br>  <i>OnDatasetBeforeDelete</i> - occurs before deleting a record (for example, you can hang a custom data check, and, if necessary, cancel delete using the DoDelete parameter). <br><br><pre> <code class="javascript hljs">DoDelete.Value = <span class="hljs-literal"><span class="hljs-literal">false</span></span>;</code> </pre><br>  <i>OnDatasetAfterDelete</i> - occurs after deleting a record (for example, you can check, update or delete associated data with this record). <br><br><h3>  Window events, accessing elements </h3><br>  Sometimes you need to register a certain logic when you open a window, you can do this in the <b>OnPrepare</b> event. <br>  By default, the window, in the event, will have the function <b>wnd_BaseDBEditOnPrepare</b> , which must be called to properly initialize each window.  But we need to add our logic, so we will rename the function to <b>wnd_MyWorkspaceDBEditOnPrepare</b> and double click on it.  A window script will open (or create a new one). <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">wnd_MyWorkspaceDBEditOnPrepare</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Window</span></span></span><span class="hljs-function">) </span></span>{ scr_BaseDBEdit.wnd_BaseDBEditOnPrepare(Window); }</code> </pre><br>  Do not forget to call this function for correct initialization and add our own logic.  Suppose that we need to calculate income tax from an employee‚Äôs salary.  Add a new element NumericEdit to the window. <br><br>  Defining events for the <i>Salary</i> OnKeyDown and OnKeyUp fields, these events will be triggered when data is entered or deleted.  Let us write a function that will update the <i>Salary</i> field with each <i>Tax</i> field.  It should get something like this: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">edtSalaryOnKeyDown</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Control, Key, Shift</span></span></span><span class="hljs-function">) </span></span>{ calculateTax(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">edtSalaryOnKeyUp</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Control, Key, Shift</span></span></span><span class="hljs-function">) </span></span>{ calculateTax(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">calculateTax</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Dataset = dlData.Dataset; <span class="hljs-comment"><span class="hljs-comment">//       edtTax.Value = dlData.Dataset.ValAsInt('Salary') * 0.13; }</span></span></code> </pre><br>  Everything works fine.  However, when you open the window, the "Tax" field will not be filled.  This can be fixed by using the OnPrepare window event. <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">wnd_MyWorkspaceDBEditOnPrepare</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Window</span></span></span><span class="hljs-function">) </span></span>{ scr_BaseDBEdit.wnd_BaseDBEditOnPrepare(Window); calculateTax(); <span class="hljs-comment"><span class="hljs-comment">//      }</span></span></code> </pre><br>  In the process of work, some developments have appeared that have come in handy to me more than once. <br><div class="spoiler">  <b class="spoiler_title">Look</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//       DataGrid function grdDataOnGetRowDrawInfo(DataGrid, Color, TextColor, ImageName, Font) { if (/*  */) { Color.Value= clRed; //   TextColor.Value = clYellow; //   } }</span></span></code> </pre><br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//       function edtContactOnPrepareSelectWindow(LookupDataControl, SelectWindow) { ApplyDatasetFilter(LookupDataControl.DataField.LookupDataset, 'IsActive', true, true); } //   ,        OnPrepareSelectWindow&lt; (        ,  ,    ) edtContact.UnprepareDropDownList();</span></span></code> </pre><br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//    var EditWindowUSI = 'wnd_OpportunityEdit'; var Attributes = GetNewDictionary(); Attributes.Add('RecordID', GUID_NULL); //    RecordID      ,  ,    ID = RecordID    var DefaultValues = GetNewDictionary(); //    DefaultValues.Add('CustomerID', AccountID); ShowEditWindowEx(EditWindowUSI, Attributes, DefaultValues);</span></span></code> </pre><br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// -    ,           Connector.Attributes('DatasetToSave') = object;</span></span></code> </pre><br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//     (       ) var ParentWindow = Self.Attributes('NotifyObject').ParentContainer.ParentWindow.ComponentsByName('edtPriceListsEditionID'); //      (    ) var ParentWindow = Self.ParentContainer.ParentWindow.ComponentsByName('edtName'); //        workspace var grd = Self.ParentContainer.ParentWindow.ComponentsByName('wndGridData').Window.ComponentsByName('grdData');</span></span></code> </pre><br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// ,     ,      Window.Attributes('IsNewRecordAppend')</span></span></code> </pre><br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//     var ArrayIDs = GetArrayByCollection(grdData.SelectedIDs);</span></span></code> </pre><br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//       Log.Write(2, 'Text'); //   ,    try { //   } catch(e) { Log.Write(2, e.message); }</span></span></code> </pre><br></div></div><br>  Actually, I described all the key points on working with the system.  I think that to start developing for this CRM (relevant for version 3.4, I don‚Äôt know about others) this will be quite enough. </div><p>Source: <a href="https://habr.com/ru/post/242081/">https://habr.com/ru/post/242081/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../242071/index.html">Runet in pictures XVIII. Bank cards in Russia and the world</a></li>
<li><a href="../242073/index.html">Command infrastructure for the user to invoke actions in the MVVM pattern</a></li>
<li><a href="../242075/index.html">How to deploy web sites in Microsoft Azure?</a></li>
<li><a href="../242077/index.html">Query Builder library for working with SphinxQL</a></li>
<li><a href="../242079/index.html">Professional Invisibility: A fun way to get covered with moss from boredom</a></li>
<li><a href="../242083/index.html">Amazon + Ansible</a></li>
<li><a href="../242085/index.html">How programmers look for apartments</a></li>
<li><a href="../242087/index.html">How to become a Fulbright Fellow and go to magistracy in the United States [Practical Guide]</a></li>
<li><a href="../242089/index.html">Layout of business cards in LaTeX</a></li>
<li><a href="../242091/index.html">Using the MVC approach in WinForms for the smallest</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>