<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Why Erlang?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Original article: smyck.net/2012/04/22/why-erlang 

 The chances that you are reading this article on a device with a multi-core processor are growing...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Why Erlang?</h1><div class="post__text post__text-html js-mediator-article">  <b>Original article:</b> <a href="http://smyck.net/2012/04/22/why-erlang/">smyck.net/2012/04/22/why-erlang</a> <br><br>  The chances that you are reading this article on a device with a multi-core processor are growing every day, which is why everyone constantly talks about concurrency.  Parallelism for our web applications and backend APIs is when htop output looks something like the picture: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/abb/c71/eec/abbc71eec534a0c632a50e46dff615bf.jpg" alt="Concurrente htop">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I was recently at a great <a href="http://railsberry.com/">Ruby conference</a> and three or four reports were about concurrency.  The Ruby community is quite open and discussed quite a lot of possibilities: use threads, use different Ruby runtimes to get around <a href="https://en.wikipedia.org/wiki/Global_Interpreter_Lock">GIL</a> , use more processors, use <a href="https://en.wikipedia.org/wiki/Actor_model">actor model</a> through libraries like <a href="http://celluloid.io/">Celluloid,</a> or even use <a href="http://akka.io/">Akka</a> through JRuby. <br><br>  While the model of actors seems to be well suited for creating network parallel applications that often suffer from problems if the runtime environment on which the application is implemented does not have native support.  There are implementations for Ruby, Python, and Java, but they all need to be tailored to achieve normal operation and not necessarily the result gives the best performance.  This is one of the many reasons why Erlang would be a much better choice, but first, let's take a little time to model the actors to understand why this works so well. <br><br><a name="habracut"></a><br><br><h5>  Actor Model </h5><br><br>  Here is a good quote from wikipedia, for superficial understanding: <br><br><blockquote>  ‚ÄúThe model of actors proceeds from such a philosophy that everything around is actors.  This is similar to the philosophy of object-oriented programming, where everything around is some objects, but differs in that in object-oriented programming, programs are usually executed sequentially, while in the model of actors, the calculations are essentially the same. ‚Äù </blockquote><br><br>  Despite some similarities between actor and objects, such as: modularity, encapsulation and the ability to send messages;  actors have a unique feature - they can do their work at the same time. <br><br>  In other words, sending messages to share the state with other actors works in parallel allowing for asynchronous interaction, which means that the sender does not have to wait for a response from the receiver. <br><br>  Another big difference from the PLO world is that the model of actors does not have a global state and therefore does not share the common memory between actors.  In languages ‚Äã‚Äãsuch as: Java, Ruby and Python, the global state is always used and threads have access to shared memory.  This circumstance often becomes a problem in the form of locks or <a href="http://ru.wikipedia.org/wiki/%25D0%25A1%25D0%25BE%25D1%2581%25D1%2582%25D0%25BE%25D1%258F%25D0%25BD%25D0%25B8%25D0%25B5_%25D0%25B3%25D0%25BE%25D0%25BD%25D0%25BA%25D0%25B8">races of states</a> and is possibly the greatest inconvenience. <br><br>  In the model of actors, each actor has its own internal state, which is distributed only through messages.  Thus, the actor acts as a serializer to access its state, thereby effectively avoiding blocking and race conditions. <br><br>  It should also be noted that the model of actors is very well suited for functional programming languages ‚Äã‚Äãwith the concept of immutable data (Immutable Data). <br><br>  There is a lot that you can read about the actors, but I would point out the most important thing you need to know.  In general, the actor model makes it possible to develop parallel applications much easier and faster. <br><br><h5>  Well, what about Erlang? </h5><br><br>  First, I would like to say that for many years I have been a passionate Ruby developer.  I really like this language and its community.  But from time to time I felt that I was overcoming invisible walls when it came to network applications, web applications, web servers, proxies, etc. That is, all those applications that process multiple requests and / or perform non-trivial tasks. <br><br>  Erlang was in my field for a long time, but from the height of my ivory tower and ruby ‚Äã‚Äãroof it took many attempts to realize that it was worth trying.  Conceptually, this is of great importance to me, and I am sure that most people who read about Erlang will agree with me.  I must confess that I was shocked by the syntax of the language and it stopped me <br>  from wanting to try this language.  I think this was a big mistake, which motivated me to write this article, to tell you that you should try Erlang as soon as possible. <br><br>  First let me give Erlang a one-line description: <br><br>  <i>‚ÄúErlang is a functional language implemented on actor models for parallel applications.‚Äù</i> <br><br>  This language was developed by Ericsson for its telecommunications switches and the goal was to create a language that would allow the development of fault-tolerant and parallel systems with high availability. <br><br>  You can read about everything on <a href="http://goo.gl/Wp37" title="Erlang programmig language">wikipedia</a> or the magnificent site: <a href="http://learnyousomeerlang.com/">learnyousomeerlang.com</a> - These guys did an excellent job describing the language. <br><br><h5>  A practical example of using Erlang in Wooga </h5><br><br>  This article is a kind of push, I want to encourage you to try Erlang and I will try to do it telling the story of Erlang's use in <a href="http://www.wooga.com/">Wooga</a> . <br><br>  Wooga makes social games with millions of active players per day.  Games constantly tell servers to change and retain the status of game participants.  Some of our games have been developed in Ruby and they work well.  Ruby, as I said, is a really good language and although not the fastest, it can be quite productive if you know what you are doing. <br><br>  Our biggest game, by the number of users, with complex internal logic, runs on servers ranging from 80 to 200. They process about 5000-7000 requests every second and almost all requests change the player‚Äôs state in the game itself.  I should note, although the number of servers is kept within reasonable limits at the time of peak loads, but the figure is, of course, not the most impressive. <br><br>  When it came time to create a new game with similar logic and complexity, this time my colleague <a href="http://twitter.com/">Paolo</a> decided to choose Erlang, he thought it would be the right choice.  We hired an experienced developer at Erlang ( <a href="http://twitter.com/">Knut</a> ) and together they implemented the logic.  Now this game has about 50% of players from other games and the number of servers required to serve it is 1! .. <br><br>  The game is served by two or three servers for some redundancy, but it can perfectly work on one.  Even if the game really needs four servers, it will still be much more efficient and productive than other games. <br><br>  Of course, they already knew about all the mistakes made in previous games and this is not only the absence of Erlang, it helped to achieve such an increase in performance and contributed to the implementation of logic, it was really easier to achieve this goal using the model of actors. <br><br>  Speaking in a different language, they created a web server to store the state of the players, which means that each player who plays the moment is served by a separate actor inside the Erlang VM.  A player, starting a game, generates an actor with his condition.  Subsequent requests, while he plays, go directly to the actor with whom he is associated.  Accordingly, while the state of the game is stored in memory, this excludes any access to the database, requests are processed and respond very quickly. <br><br>  If the actor falls, the other actors remain ‚Äúalive‚Äù as there is no common / global state.  When a player stops playing, the actor stores the player‚Äôs state in permanent storage and the garbage collector (GC) removes it from memory.  At the same time, as we remember, the data in Erlang does not change, which allows the player to return the status of the player until there are any changes and something goes wrong. <br><br>  This is really amazing and I can tell a lot more.  Fortunately, Knut and Paolo spoke at several conferences about our experience and laid out their slides in open access.  You can view them at the links: <br><br>  * <a href="http://www.slideshare.net/wooga/erlang-factory-sanfran">www.slideshare.net/wooga/erlang-factory-sanfran</a> <br>  * <a href="http://www.slideshare.net/hungryblank/getting-real-with-erlang">www.slideshare.net/hungryblank/getting-real-with-erlang</a> <br><br><h5>  More Erlang in Wooga </h5><br><br>  After Paolo and Knut infected the entire company with the Erlang virus, we made a new game on Erlang and several additional services.  I can confirm that the more you study Erlang, the more you understand how to do it right.  It makes me feel a little sorry for those who, at Ruby conferences, struggled with different libraries so that parallel applications could be easily developed, which Erlang provides in one package.  A package that has been used for over 20 years. <br><br>  The difficult part in learning a new language is to find a small project and take part in it.  Studying, just reading books, always slowly and when you start writing code, most of what you read is forgotten.  Also, the strange syntax (now I don‚Äôt find it strange) was an insurmountable barrier for me to start using Erlang in a real project.  For this, I recommend choosing a small project and ‚Äúplay around‚Äù with Erlang.  I think you will not regret. <br><br>  I hope to write an article in the near future as I studied Erlang and post it.  In the meantime, you yourself can start exploring by visiting <a href="http://learnyousomeerlang.com/">learnyousomeerlang.com</a> .  Trust me - this is a better choice than any books on Erlang currently available. <br><br>  PS: Thank you <a href="http://twitter.com/">Elise Huard</a> for proofreading!  If you have comments, images of ivory towers with a ruby ‚Äã‚Äãroof, to make the article more colorful or any wishes, send them to me immediately! </div><p>Source: <a href="https://habr.com/ru/post/179053/">https://habr.com/ru/post/179053/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../179037/index.html">Video from ScalaDev 2013. # 1</a></li>
<li><a href="../179039/index.html">Notes for playing business</a></li>
<li><a href="../179045/index.html">Why do GIT users edit their commits?</a></li>
<li><a href="../179049/index.html">Radio day</a></li>
<li><a href="../179051/index.html">Deja vu - bug or feature?</a></li>
<li><a href="../179057/index.html">ISS goes to Linux</a></li>
<li><a href="../179059/index.html">BitTorrent announced a new format of torrent files: Bundle, with a request for action before the jump</a></li>
<li><a href="../179063/index.html">YouTube introduced Trends Map: visualizing user preferences on a map.</a></li>
<li><a href="../179065/index.html">Second beta released elementary OS Luna</a></li>
<li><a href="../179067/index.html">We explore the game with an arcade machine Part 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>