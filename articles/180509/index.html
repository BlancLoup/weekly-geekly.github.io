<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Google coding tips in Python. Part Two: Tips for Formatting Source Code</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day. So the time has come for the publication of the second part of the translation of the style guide for the Python language from Google, so mu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Google coding tips in Python. Part Two: Tips for Formatting Source Code</h1><div class="post__text post__text-html js-mediator-article"><img align="right" src="https://habrastorage.org/storage2/107/a5b/127/107a5b127855c8481360050863ec68ad.jpg"><br>  Good day.  So the time has come for the publication of the second part of the translation of the style guide for the Python language from Google, so much liked by many habrovans, (the <a href="http://habrahabr.ru/post/179271/">first part is</a> carefully kept by the habr).  Now we will touch directly on formatting source code in the Python programming language.  As you know, cleanliness is a guarantee of health, and cleanliness of a program code is a guarantee of respect for colleagues and (ideally) encouragement from someone above.  In general, Python itself is a well-read language, and even the syntax of this language calls for order in the code (and, as a result, in the head).  But each of us is his own documenter and creator of his own design.  And as it was already said once - it is impossible not to listen to the opinion of authoritative comrades.  So, the second part of Google Python Style Guide - Python Style Rules is waiting for you under the cut.  And <a href="">pdf</a> here as here. <br><a name="habracut"></a><br><h4>  Python Style Rules </h4><br><h5>  Semicolons </h5><br><div class="spoiler">  <b class="spoiler_title">Do not separate your lines with semicolons</b> <div class="spoiler_text">  Do not separate your lines with semicolons and do not use semicolons to separate commands that are on the same line. <br></div></div><br><h5>  Line length </h5><br><div class="spoiler">  <b class="spoiler_title">The maximum string length is 80 characters.</b> <div class="spoiler_text"><h6>  Exceptions </h6><br><ul><li>  Long import strings </li><li>  URL in the comments </li></ul><br>  Do not use backslash as a newline.  Use the explicit string concatenation available in Python through parentheses and curly braces.  If necessary, you can add an extra pair of parentheses around the expression. <br><br>  <b>Good:</b> <br><br><pre><code class="python hljs">foo_bar(self, width, height, color=<span class="hljs-string"><span class="hljs-string">'black'</span></span>, design=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>, x=<span class="hljs-string"><span class="hljs-string">'foo'</span></span>, emphasis=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>, highlight=<span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (width == <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> height == <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> color == <span class="hljs-string"><span class="hljs-string">'red'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> emphasis == <span class="hljs-string"><span class="hljs-string">'strong'</span></span>):</code> </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      When your text does not fit on one line, use parentheses to explicitly concatenate strings. <br><br><pre> <code class="python hljs">x = (<span class="hljs-string"><span class="hljs-string">'This will build a very long long '</span></span> <span class="hljs-string"><span class="hljs-string">'long long long long long long string'</span></span>)</code> </pre><br>  For comments, put the long URL, if necessary, on a single line. <br><br>  <b>Good:</b> <br><br><pre> <code class="python hljs"> <span class="hljs-comment"><span class="hljs-comment"># See details at # http://www.example.com/us/developer/documentation/api/content/v2.0/csv_file_name_extension_full_specification.html</span></span></code> </pre><br><br>  <b>Poorly:</b> <br><br><pre> <code class="python hljs"> <span class="hljs-comment"><span class="hljs-comment"># See details at # http://www.example.com/us/developer/documentation/api/content/\ # v2.0/csv_file_name_extension_full_specification.html</span></span></code> </pre><br>  Note the indent of the element in the line above (see the section on indents for clarification). <br></div></div><br><h5>  Parentheses </h5><br><div class="spoiler">  <b class="spoiler_title">Use brackets sparingly</b> <div class="spoiler_text">  Do not use them (brackets) with a <b>return statement</b> or conditional if you do not need to arrange a line break.  (See above).  However, brackets are good to use for creating tuples. <br><br>  <b>Good:</b> <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> foo: bar() <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> x: x = bar() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> y: bar() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> x: bar() <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> foo <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (x, y) <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> dict.items(): ...</code> </pre><br><br>  <b>Poorly:</b> <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (x): bar() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span>(x): bar() <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (foo)</code> </pre><br></div></div><br><h5>  Indentation </h5><br><div class="spoiler">  <b class="spoiler_title">Never use tabs or a mixture of tabs and spaces</b> <div class="spoiler_text">  In the case when you mean a line break, you must align each transferred item vertically as described in the example about the length of the lines, or using a space of 4 spaces, in this case there should not be any arguments on the first line. <br><br>  <b>Good:</b> <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># Aligned with opening delimiter foo = long_function_name(var_one, var_two, var_three, var_four) # 4-space hanging indent; nothing on first line foo = long_function_name( var_one, var_two, var_three, var_four)</span></span></code> </pre><br><br>  <b>Poorly:</b> <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># Stuff on first line forbidden foo = long_function_name(var_one, var_two, var_three, var_four) # 2-space hanging indent forbidden foo = long_function_name( var_one, var_two, var_three, var_four)</span></span></code> </pre><br></div></div><br><h5>  Blank lines </h5><br><div class="spoiler">  <b class="spoiler_title">There should be two blank lines between top level declarations.</b> <div class="spoiler_text">  There should be two blank lines between top-level declarations, one blank line between method declarations.  Two blank lines must be between top-level declarations, be it a class or a function.  One blank line must be between the method definitions and between the class declaration and its first method.  Use a single blank line as you like inside functions and methods. <br></div></div><br><h5>  Spaces </h5><br><div class="spoiler">  <b class="spoiler_title">Follow standard typographical rules regarding the use of a space in punctuation.</b> <div class="spoiler_text">  No spaces inside any brackets. <br>  The good: <b>spam (ham [1], {eggs: 2}, [])</b> <br>  Bad: <b>spam (ham [1], {eggs: 2}, [])</b> <br><br>  No spaces before comma, semicolon, or period.  Use a space after a comma, a semicolon or a point, except when they are at the end of a line. <br><br>  <b>Good:</b> <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> x == <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> x, y x, y = y, x</code> </pre><br>  <b>Poorly:</b> <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> x == <span class="hljs-number"><span class="hljs-number">4</span></span> : <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> x , y x , y = y , x</code> </pre><br>  There are no spaces before the opening bracket, which starts the argument list, the index or the slice. <br>  Good: <b>spam (1)</b> <br>  <i>Bad:</i> <b>spam (1)</b> <br>  <i>Good:</i> <b>dict ['key'] = list [index]</b> <br>  <i>Bad:</i> <b>dict ['key'] = list [index]</b> <br>  Surround binary operators with single spaces on each side, this applies to assignment ( <b>=</b> ), comparison operators ( <b>==, &lt;,&gt;,! =, &lt;&gt;, &lt;=,&gt; =, In, not in, is, is not</b> ), and Boolean operators (and, or, not).  Use as you think the environment <br>  spaces with respect to arithmetic operators, but always arranging spaces on both sides of a binary operator will impart integrity to your code. <br>  <i>Good:</i> <b>x == 1</b> <br>  <i>Bad:</i> <b>x &lt;1</b> <br>  Do not use spaces on the sides of the "=" sign when you use it to point to a named argument or a default value. <br><br>  <b>Good:</b> <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">complex</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(real, imag=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0.0</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> magic(r=real, i=imag)</code> </pre><br>  <b>Poorly:</b> <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">complex</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(real, imag = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0.0</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> magic(r = real, i = imag)</code> </pre><br>  Do not use spaces to vertically align pieces of consecutive lines, since such alignments are burdensome.  (Refers to <b>:, #, =,</b> etc.): <br><br>  <b>Good:</b> <br><br><pre> <code class="python hljs">foo = <span class="hljs-number"><span class="hljs-number">1000</span></span> <span class="hljs-comment"><span class="hljs-comment"># comment long_name = 2 # comment that should not be aligned dictionary = { 'foo': 1, 'long_name': 2, }</span></span></code> </pre><br>  <b>Poorly:</b> <br><br><pre> <code class="python hljs"> foo = <span class="hljs-number"><span class="hljs-number">1000</span></span> <span class="hljs-comment"><span class="hljs-comment"># comment long_name = 2 # comment that should not be aligned dictionary = { 'foo' : 1, 'long_name': 2, }</span></span></code> </pre><br></div></div><br><h5>  Line #!  (hash bang) </h5><br><div class="spoiler">  <b class="spoiler_title">Most .py files do not need to be run in line #!</b> <div class="spoiler_text">  Run the main program file using <b>#! / Usr / bin / python</b> .  This string is used by the kernel to find the Python interpreter, but is ignored by Python when importing modules.  This is necessary for a file that is executed directly. <br></div></div><br><h5>  Comments </h5><br><div class="spoiler">  <b class="spoiler_title">Be sure to use the right style.</b> <div class="spoiler_text">  Be sure to use the correct style for a module, function, method, or string comment. <br><br><h6>  Lines of documentation. </h6><br>  Python has a unique commenting style - documentation lines.  A documentation string is a string that is the first construct in a package, module, class, or function.  Such strings can be exported automatically using the object attribute <b>__doc__</b> and are used by pydoc.  (Try running pydoc on your module to see what it looks like.) Our agreement on documentation strings tells you to use three double quotes to frame such a string.  Documentation lines should be organized as a summary line (one physical line), broken down by character count, question mark or exclamation mark, following the empty line, and then the remaining documentation lines from the cursor position as the first quote of the first line.  The following describes even more information on the design of documentation lines. <br><br><h6>  Modules </h6><br>  Each file must contain a license template.  Select the appropriate license template for your project. (For example, Apache 2.0, BSD, LGPL, GPL). <br><br><h6>  Functions and methods </h6><br>  The term (function) used in this section refers to methods, functions, and generators. <br>  The function must have a string of documentation in all cases except those described below: <br><ul><li>  Not visible outside the module </li><li>  Very short </li><li>  Obvious (easy to read) </li></ul><br>  The documentation string should give enough information to place a function call without reading its source code.  The documentation string should describe the syntax of the function call and its semantics, but should not describe its implementation.  For clever code, comments inside the source code are more preferable than documentation lines.  Certain aspects of the function should be documented in the special sections listed below.  Each section starts with a header line that ends with a period.  Sections should be indented by two spaces, with the exception of the title. <br>  <b>Args</b> : <br>  List each parameter by name.  The description should immediately follow the name and be separated by a dot and a space.  If the description is too long to fit in 80 characters, use a hanging indent of 2 or 4 spaces (be consistent in the design of the entire file). <br>  The description must refer to the type (s) required and the purpose of the argument.  If the function allows * foo (variable-length argument lists) and / or ** bar (an arbitrary set of arguments of type key-value), they should be written as * foo and ** bar. <br>  <b>Returns</b> : (or <b>Yields</b> for generators) <br>  Describe the type and semantics of the return value.  If the function always returns None, then this section is optional. <br>  <b>Raises</b> : <br>  List of all exceptions that are possible for this interface. <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fetch_bigtable_rows</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(big_table, keys, other_silly_variable=None)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"""Fetches rows from a Bigtable. Retrieves rows pertaining to the given keys from the Table instance represented by big_table. Silly things may happen if other_silly_variable is not None. Args: big_table: An open Bigtable Table instance. keys: A sequence of strings representing the key of each table row to fetch. other_silly_variable: Another optional variable, that has a much longer name than the other args, and which does nothing. Returns: A dict mapping keys to the corresponding table row data fetched. Each row is represented as a tuple of strings. For example: {'Serak': ('Rigel VII', 'Preparer'), 'Zim': ('Irk', 'Invader'), 'Lrrr': ('Omicron Persei 8', 'Emperor')} If a key from the keys argument is missing from the dictionary, then that row was not found in the table. Raises: IOError: An error occurred accessing the bigtable.Table object. """</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span></code> </pre><br><br><h6>  Classes </h6><br>  Classes must have a documentation line below their declaration.  If your class has public attributes, they must be documented right there in the Attributes section and follow the same formatting style as the Args section. <br><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SampleClass</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-string"><span class="hljs-string">"""Summary of class here. Longer class information.... Longer class information.... Attributes: likes_spam: A boolean indicating if we like SPAM or not. eggs: An integer count of the eggs we have laid. """</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, likes_spam=False)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"""Inits SampleClass with blah."""</span></span> self.likes_spam = likes_spam self.eggs = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">public_method</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"""Performs operation blah."""</span></span></code> </pre><br><br><h6>  Blocks and inline comments </h6><br><br>  The last place that comments should have is tricky places in the code.  If you want to explain them in your next code review, you should comment on them now.  Complex operations that occupy several lines of documentation before its execution.  Implicit parts should have a comment at the end of the line. <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># We use a weighted dictionary search to find out where i is in # the array. We extrapolate position based on the largest num # in the array and the array size and then do binary search to # get the exact number. if i &amp; (i-1) == 0: # true iff i is a power of 2</span></span></code> </pre><br><br>  To improve readability, such comments should be at least 2 spaces away from the code.  On the other hand, it is better not to describe the code at all.  Assume that the person reading this code knows Python (and not what you tried to do) better than you. <br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># BAD COMMENT: Now go through the b array and make sure whenever i occurs # the next element is i+1</span></span></code> </pre><br></div></div><br><h5>  Classes </h5><br><div class="spoiler">  <b class="spoiler_title">If a class is not inherited from any classes, explicitly inherit from the object class.</b> <div class="spoiler_text">  This also applies to nested classes. <br><br>  <b>Good:</b> <br><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SampleClass</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OuterClass</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">InnerClass</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ChildClass</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(ParentClass)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-string"><span class="hljs-string">"""Explicitly inherits from another class already."""</span></span></code> </pre><br><br>  <b>Poorly:</b> <br><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SampleClass</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OuterClass</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">InnerClass</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span></code> </pre><br><br>  Inheritance from the object class is necessary to allow properties to work correctly and protects your code from possible incompatibility with Python 3000. It also defines special methods that implement the standard object semantics, for example: <b>__new__, __init__, __delattr__, __getattribute__, __setattr__, __hash__ , __repr__, and __str__</b> . <br></div></div><br><h5>  Strings </h5><br><div class="spoiler">  <b class="spoiler_title">Use the% operator to format strings</b> <div class="spoiler_text">  Use the% operator to format strings, even if all parameters are strings.  Carefully consider using the + operator instead of the% operator. <br><br>  <b>Good:</b> <br><br><pre> <code class="python hljs">x = a + b x = <span class="hljs-string"><span class="hljs-string">'%s, %s!'</span></span> % (imperative, expletive) x = <span class="hljs-string"><span class="hljs-string">'name: %s; score: %d'</span></span> % (name, n)</code> </pre><br><br>  <b>Poorly:</b> <br><br><pre> <code class="python hljs">x = <span class="hljs-string"><span class="hljs-string">'%s%s'</span></span> % (a, b) <span class="hljs-comment"><span class="hljs-comment"># use + in this case x = imperative + ', ' + expletive + '!' x = 'name: ' + name + '; score: ' + str(n)</span></span></code> </pre><br>  Avoid using the + and + = operators to concatenate a string using a loop, because  strings are an immutable data type, this approach creates unnecessary objects and increases the time of work on a quadratic, rather than a linear law.  Instead, simply add each substring to the list and use the join method after the loop ends (or write each substring to the cStringIO.StringIO buffer) <br><br>  <b>Good:</b> <br><br><pre> <code class="python hljs">items = [<span class="hljs-string"><span class="hljs-string">'&lt;table&gt;'</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> last_name, first_name <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> employee_list: items.append(<span class="hljs-string"><span class="hljs-string">'&lt;tr&gt;&lt;td&gt;%s, %s&lt;/td&gt;&lt;/tr&gt;'</span></span> % (last_name, first_name)) items.append(<span class="hljs-string"><span class="hljs-string">'&lt;/table&gt;'</span></span>) employee_table = <span class="hljs-string"><span class="hljs-string">''</span></span>.join(items)</code> </pre><br>  <b>Poorly:</b> <br><br><pre> <code class="python hljs">employee_table = <span class="hljs-string"><span class="hljs-string">'&lt;table&gt;'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> last_name, first_name <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> employee_list: employee_table += <span class="hljs-string"><span class="hljs-string">'&lt;tr&gt;&lt;td&gt;%s, %s&lt;/td&gt;&lt;/tr&gt;'</span></span> % (last_name, first_name) employee_table += <span class="hljs-string"><span class="hljs-string">'&lt;/table&gt;'</span></span></code> </pre><br>  Use ‚Äú‚Äù ‚Äùfor multi-line strings instead of‚Äú ‚Äù.  Note, however, that it is always better to use an explicit string concatenation, since  multiline lines do not continue until the end of the program with the same indentation. <br><br>  <b>Good:</b> <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"This is much nicer.\n"</span></span> <span class="hljs-string"><span class="hljs-string">"Do it this way.\n"</span></span>)</code> </pre><br>  <b>Poorly:</b> <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"""This is pretty ugly. Don't do this. """</span></span></code> </pre><br></div></div><br><h5>  Files and Sockets </h5><br><div class="spoiler">  <b class="spoiler_title">Explicitly close files and sockets when you finish working with them.</b> <div class="spoiler_text">  Neglecting open files, sockets, and other file-like objects has many side effects, such as: <br><ul><li>  They may consume limited system resources, such as file descriptors.  Code that is associated with many objects can lead to the depletion of those resources without benefit if they are not returned to the system after use. </li><li>  The content of files in open form may prevent other actions from being performed on them, such as, for example, moving or deleting. </li><li>  Files and sockets that are publicly available through code may be inadvertently read or written after they have been logically ‚Äúclosed‚Äù. </li></ul><br>  If they are really closed, an attempt to read or write will throw an exception, thereby identifying the problem very quickly.  Moreover, files and sockets are automatically closed when an object destructor is called, but associating the lifetime of an object with the state of the file is a bad practice for the following reasons: <br><ul><li>  There is no guarantee that the destructor of the object will be called during the execution of the program.  Different Python implementations use different approaches to memory management, such as deferred garbage collection, which can significantly extend the life of a ‚Äúremote‚Äù object. </li><li>  Unexpected references to a file can make it ‚Äúlive‚Äù longer than we expect (for example, the stack of exceptions, global objects, etc.) </li><li>  The priority way to manage files is to use the with construct. </li></ul><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">with</span></span> open(<span class="hljs-string"><span class="hljs-string">"hello.txt"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> hello_file: <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> line <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> hello_file: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> line</code> </pre><br><br>  Objects similar to the <b>for</b> loop that do not support the with construct and use contextlib.closing () <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> contextlib <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> contextlib.closing(urllib.urlopen(<span class="hljs-string"><span class="hljs-string">"http://www.python.org/"</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> front_page: <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> line <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> front_page: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> line</code> </pre><br><br>  Old code written under Python 2.5 can enable the use of the <b>with</b> construct using the " <b>from __future__ import with_statement</b> " <b>import</b> . <br></div></div><br><h5>  TODO Comment </h5><br><div class="spoiler">  <b class="spoiler_title">Use the TODO comment for a time code, short-term patch, or a good, but not perfect solution.</b> <div class="spoiler_text">  TODO comments should include the <b>TODO</b> line at the beginning of each comment following the name, email address, or other identifier that can best provide a solution to the problem in brackets.  Point is optional.  A comment explaining what should happen there is not required.  The main goal is a generic format for TODO, which allows you to quickly find a specific call that can provide a more detailed description of the problem.  TODO is not a guarantee that a person will solve this problem.  Thus, when you create a TODO, it almost always contains only your name. <br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># TODO(kl@gmail.com): Use a "*" here for string repetition. # TODO(Zeke) Change this to use relations. If your TODO is of the form "At a future date do something" make sure that you either include a very specific date ("Fix by November 2009") or a very specific event ("Remove this code when all clients can handle XML responses.").</span></span></code> </pre><br></div></div><br><h5>  Import clearance </h5><br><div class="spoiler">  <b class="spoiler_title">Each import must be on a separate line.</b> <div class="spoiler_text">  <b>Good:</b> <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sys</code> </pre><br>  <b>Poorly:</b> <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os, sys</code> </pre><br><br>  Imports are always located at the beginning of the file, immediately after the module level comments, documentation lines, before declaring constants and <br>  module level objects.  Imports should be grouped in order from the simplest to the most complex: <br><ul><li>  Imports from the standard library </li><li>  Third-party imports </li><li>  Imports from your application libraries </li></ul><br>  Along with grouping, imports must be sorted lexicographically, nonregister-dependently, according to the full path to each module. <br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> foo <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> foo <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> bar <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> foo.bar <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> baz <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> foo.bar <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Quux <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> Foob <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ar</code> </pre><br></div></div><br><h5>  Constructions </h5><br><div class="spoiler">  <b class="spoiler_title">Basically only one construction per line.</b> <div class="spoiler_text">  However, you can place the result of the text on the same line as the condition on you.  But this can be done only in the case when the whole expression is placed on one line.  In particular, you can never do this with the try / except construction, since  try and except cannot be on the same line, and you can only place on one line with the if construct WITHOUT else. <br>  <b>Good:</b> <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> foo: bar(foo)</code> </pre><br><br>  <b>Poorly:</b> <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> foo: bar(foo) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: baz(foo) <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>: bar(foo) <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> ValueError: baz(foo) <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>: bar(foo) <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> ValueError: baz(foo)</code> </pre><br></div></div><br><h5>  Access control </h5><br><div class="spoiler">  <b class="spoiler_title">Hidden text</b> <div class="spoiler_text">  If the getter function would be simple, you would need to use shared variables for getter functions to avoid <br>  additional resource costs for internal Python calls.  When a lot of functionality is added, you can use properties <br>  in order to follow the integrity of the interface.  On the one hand, if the getter function is more complex, or the access speed to a variable is very important, you should use function calls (see the next section of the guideline), such as get_foo () and set_foo ().  If the behavior allows access through the property, then do not attach a new getter to it.  Any code that is still trying to access the variable using the old method should obviously fall, so that you can get a warning that the access complexity has changed. <br></div></div><br><h5>  Naming </h5><br><div class="spoiler">  <b class="spoiler_title">module_name, package_name</b> <div class="spoiler_text">  module_name, package_name, ClassName, method_name, ExceptionName, function_name, GLOBAL_CONSTANT_NAME, global_var_name, instance_var_name, function_parameter_name, local_var_name. <br><br>  Names to avoid: <br><ul><li>  Single-character names, excluding counters, or iterators </li><li>  Cons in the names of modules and packages. </li><li>  Double underscores (at the beginning and end of names) - reserved for the language. </li></ul><br><br>  Naming convention <br><ul><li>  ‚ÄúInternal‚Äù means internal for a module, protected or private class. </li><li>  The leading underscore (_) substitution is supported for protected module variables and functions (which are not imported during import * from) </li><li>  Substituting a double leading underscore (__) to the name of a variable or method effectively makes them private for this class (uses append to the name).  Putting related classes and top-level levels together in a module.  Unlike Java, you do not need to limit yourself to creating a single class in a single module. </li><li>  Use camel notation for class naming, and notation with capital letters and underscores for module names.  Although there are many modules that use camel notation for naming, but it is not recommended to do so, because it can be misleading, since  The module is named after the class.  (wait, didn‚Äôt I write import StringIO or from StringIO import StringIO?) </li></ul><br><br>  <b>Styles are based on Guido's recommendations:</b> <br><table><tbody><tr><td>  <b>Type of</b> </td><td>  <b>External</b> </td><td>  <b>Interior</b> </td></tr><tr><td>  Packages </td><td>  lower_with_under </td><td></td></tr><tr><td>  Modules </td><td>  lower_with_under </td><td>  _lower_with_under </td></tr><tr><td>  Classes </td><td>  Capwords </td><td>  _CapWords </td></tr><tr><td>  Exceptions </td><td>  Capwords </td><td></td></tr><tr><td>  Functions </td><td>  lower_with_under () </td><td>  _lower_with_under () </td></tr><tr><td>  Global / Interclass Constants </td><td>  CAPS_WITH_UNDER </td><td>  _CAPS_WITH_UNDER </td></tr><tr><td>  Global / Interclass Variables </td><td>  lower_with_under </td><td>  _lower_with_under </td></tr><tr><td>  Class instance variables </td><td>  lower_with_under </td><td>  _lower_with_under (protected) or __lower_with_under (private) </td></tr><tr><td>  Method Names </td><td>  lower_with_under () </td><td>  _lower_with_under () (protected) or __lower_with_under () (private) </td></tr><tr><td>  Function / Method Arguments </td><td>  lower_with_under </td><td></td></tr><tr><td>  Local variables </td><td>  lower_with_under </td><td></td></tr></tbody></table><br></div></div><br><h5>  Main </h5><br><div class="spoiler">  <b class="spoiler_title">Even when the file was created in order to be imported ..</b> <div class="spoiler_text">  Even when the file was created in order to be imported, a regular import should not have side effects in the form of the execution of the functional part of the script.  The main functionality should be incorporated in the main () function. <br>  In Python, pychecker, pydoc and unit tests, imported modules are required.  Your code should always check if __name__ == '__main__' before execution, which means that your module will not be fully executed when importing it into another program. <br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> ... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> __name__ == <span class="hljs-string"><span class="hljs-string">'__main__'</span></span>: main()</code> </pre><br>  All top level code will be executed when the module is imported.  Be careful not to call functions, do not create an object, and do not perform any other type of operation that should not be performed when the file is checked with pychecker or documentation is being collected with pydoc. <br></div></div><br><h5>  Final words </h5><br><div class="spoiler">  <b class="spoiler_title">Hidden text</b> <div class="spoiler_text">  If you are editing someone's code, select a few minutes to look at this code and choose the style of writing.  If each operator is framed by spaces, you should do the same.      ,     (#) ,        .     ,     ,          ,        . <br>      ,      ,     .      ,         ‚Äî     ,     . <b> .</b> <br></div></div><br> <i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Version:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2.48 </font></font><br> <a href="http://www.businessinsider.com/googles-first-20-employees-where-are-they-now-2012-7%3Fop%3D1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Amit Patel </font></font></a> <br> <a href="https://plus.google.com/117981587031259733981/about"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Antoine Picard </font></font></a> <br> <a href="http://www.zoominfo.com/p/Eugene-Jhong/113513089"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eugene Jhong </font></font></a> <br> <a href="https://plus.google.com/117162507282113102399/about"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jeremy Hylton </font></font></a> <br> <a href="https://plus.google.com/106166516302462658901/about"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Matt Smart </font></font></a> <br> <a href="http://www.linkedin.com/in/shields"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mike Shields</font></font></a></i> <br><br><h4>  From translator </h4><br><h5>  FAQ </h5><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> A PDF version of the translation will soon be posted in both articles as a link, so you won't miss :) </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No, I do not translate comments. </font><font style="vertical-align: inherit;">I think (personally my opinion) that the comments in the code should be in English.</font></font></li></ul><br><h5>  Thanks </h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thank you so much </font></font><a href="https://habrahabr.ru/users/squaii/" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">squaii</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> for the review and search for errors.</font></font><br><br><h5>  Conclusion </h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Please, I implore you - write a decent code, gentlemen! </font><font style="vertical-align: inherit;">Take care of those who will support your work. </font><font style="vertical-align: inherit;">Pity their eyes, save their strength, give them the joy of life, free from constantly sick head and circles under the eyes. </font><font style="vertical-align: inherit;">As you know, you have just written the code and after a month you returned to support it - you are already in team development, so do not be lazy to write transparently even when you intend to support the written code alone. </font><font style="vertical-align: inherit;">Eradicate evil, violence and sodomy among IT-specialists (and not only).</font></font> All good! <br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS: And remember:</font></font></b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/storage2/216/f10/ed3/216f10ed33ac877b11a4eb1598a073c6.jpg"></div><br></div></div></div><p>Source: <a href="https://habr.com/ru/post/180509/">https://habr.com/ru/post/180509/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../180497/index.html">We make dDNS client for DNS Yandex on MikrotikOS</a></li>
<li><a href="../180499/index.html">Beginning data scientists at your service</a></li>
<li><a href="../180503/index.html">Update Kits for Windows XP x86 and Windows 7 x86-x64</a></li>
<li><a href="../180505/index.html">We study the principles of interaction between Ubuntu Touch and Android</a></li>
<li><a href="../180507/index.html">Adding Google Apps to the Android emulator (Intel x86 Atom System Image)</a></li>
<li><a href="../180513/index.html">Wonderful introduction to programming</a></li>
<li><a href="../180515/index.html">Voice control in Android applications</a></li>
<li><a href="../180517/index.html">Why develop electronic meeting minutes for Sharepoint 2013</a></li>
<li><a href="../180523/index.html">Dennis Ritchie's first C compiler - on Github</a></li>
<li><a href="../180525/index.html">RiSCiSO - another group of scenery, hit by the FBI</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>