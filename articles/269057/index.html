<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Very handy abstract adapter for RecyclerView do it yourself</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Once, at the dawn of my career as an Android developer, I was looking at examples of existing applications and in a beautiful, like the sun in spring,...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Very handy abstract adapter for RecyclerView do it yourself</h1><div class="post__text post__text-html js-mediator-article">  Once, at the dawn of my career as an Android developer, I was looking at examples of existing applications and in a beautiful, like the sun in spring, <a href="https://github.com/JakeWharton/u2020">U2020,</a> I found an example of a very convenient adapter.  Its name is <a href="">BindableAdapter</a> .  For a long time, I used it as the basis of my adapters for ListView and GridView, but their era comes to its end and the era of RecyclerView comes.  This era needs a new handy adapter, and I tried to make it. <br><a name="habracut"></a><br>  To begin with, I decided to ask Google <s>"Where is my favorite?"</s> "RecyclerBindableAdapter", and he did not give me an answer.  I honestly tried to find an adapter with which it would be convenient for me to work, but everything was in vain.  All the examples I found implemented only a specific functionality and did not try to be abstract.  And, frankly, many moments in them confused me, for example: in many of them the Context and LayoutManager were transferred to the designer for some reason.  Although the RecyclerView.Adapter has an excellent onAttachedToRecyclerView (RecyclerView recyclerView) method, you can also get the Context and LayoutManager out of the received recyclerView without unnecessary noise and dust. <br><br>  All this made me think that they were written in a hurry rather than thoughtful.  Since I use the RecyclerView everywhere and every time I produce a bunch of similar code somehow not comme il faut, I decided to correct the situation and write a convenient abstract adapter. <br><br><h2>  And what do you actually need? </h2><br>  Port the very BindableAdapter under RecyclerView, while trying to make the most of all the new features of RecyclerView.  As always, there is one ‚Äúbut‚Äù: RecyclerView does not have Headers and Footers by default.  Therefore, when a future user tries to correct this problem by creating a new item type, because of this, the position number will be shifted by the number of Headers.  This is bad.  So you need to make it possible in advance to work with Headers and Footers, and also to provide for their presence in the methods of working with data. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Then I thought that it would be nice to implement other features of RecyclerView that I often use, namely: element filtering and Header parallax.  Here, too, is not so smooth. <br><br>  The adapter providing filtering is forced to keep two lists of objects (the general list and the list of those items that are now displayed).  Consequently, it takes more memory, and the methods for working with elements will work more slowly.  There is no need to pre-fill the memory with unnecessary data, and filtering is not needed very often.  Therefore, it was decided to make it a separate class extending our main adapter.  Thus, we will use this adapter only when we need filtering, and in other cases we will use the main adapter. <br><br>  A similar situation exists with Header's parallax.  The main adapter can have many Headers and Footers.  Implementing parallax of several elements at once synchronously is likely to be problematic, and it will look ugly, so there‚Äôs no point in even trying.  We make it as a separate class. <br><br>  At this stage, I thought that it would be nice to have some analogue SimpleAdapter.  This, so that it can be declared in one line, just slipping into it the Layout ID and ViewHolder.  After all, why produce a bunch of code for a simple list. <br><br>  As a result, the task was to create 4 adapters: <br><ol><li>  RecyclerBindableAdapter - our main adapter </li><li>  FilterBindableAdapter - filterable adapter </li><li>  ParallaxBindableAdapter - an adapter with Header parallax capability </li><li>  SimpleBindableAdapter - simple adapter </li></ol><br><h2>  Getting started </h2><br><h4>  RecyclerBindableAdapter </h4><br>  To begin with, we will make it possible to add Headers and Footers, I once met a similar implementation in the vast StackOverflow and adjusted it according to the needs of our adapter.  I think most people working with Android have seen or done this implementation, so I‚Äôll not dwell on it in detail. <br><br><div class="spoiler">  <b class="spoiler_title">Make it possible to add headers and footers</b> <div class="spoiler_text"><pre><code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//   Header'  Footer' public static final int TYPE_HEADER = 7898; public static final int TYPE_FOOTER = 7899; //     private List&lt;View&gt; headers = new ArrayList&lt;&gt;(); private List&lt;View&gt; footers = new ArrayList&lt;&gt;(); @Override public VH onCreateViewHolder(ViewGroup viewGroup, int type) { //   ,    ViewHolder if (type != TYPE_HEADER &amp;&amp; type != TYPE_FOOTER) { return (VH) onCreteItemViewHolder(viewGroup, type); //  header  footer } else { //  FrameLayout   ,   ,      View FrameLayout frameLayout = new FrameLayout(viewGroup.getContext()); frameLayout.setLayoutParams(new ViewGroup.LayoutParams( ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT)); //  ViewHolder  header'  footer'.    ,         FrameLayout return (VH) new HeaderFooterViewHolder(frameLayout); } } @Override final public void onBindViewHolder(final RecyclerView.ViewHolder vh, int position) { //                  header/footer,      if (isHeader(position)) { View v = headers.get(position); prepareHeaderFooter((HeaderFooterViewHolder) vh, v); } else if (isFooter(position)) { View v = footers.get(position - getRealItemCount() - getHeadersCount()); prepareHeaderFooter((HeaderFooterViewHolder) vh, v); } else { onBindItemViewHolder((VH) vh, position - headers.size(), getItemType(position)); } } @Override final public int getItemViewType(int position) { //      if (isHeader(position)) { return TYPE_HEADER; } else if (isFooter(position)) { return TYPE_FOOTER; } int type = getItemType(position); if (type == TYPE_HEADER || type == TYPE_FOOTER) { throw new IllegalArgumentException("Item type cannot equal " + TYPE_HEADER + " or " + TYPE_FOOTER); } return type; }</span></span></code> </pre> <br></div></div><br>  Now you need to make methods for working with data; we take the names for them from the BindableAdapter for the ListView / GridView. <br><br><div class="spoiler">  <b class="spoiler_title">Work with data</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//    private List&lt;T&gt; items = new ArrayList&lt;&gt;(); //  -      header'  footer' public int getRealItemCount() { return items.size(); } //     public T getItem(int position) { return items.get(position); } //     public void add(int position, T item) { //    items.add(position, item); //   notifyItemInserted(position); //     ViewHolder    ,         int positionStart = position + getHeadersCount(); int itemCount = items.size() - position; notifyItemRangeChanged(positionStart, itemCount); } //     public void add(T item) { //    items.add(item); //   notifyItemInserted(items.size() - 1 + getHeadersCount()); } // List    ,       List,      .    ,           ,     public void addAll(List&lt;? extends T&gt; items) { final int size = this.items.size(); //    this.items.addAll(items); //   notifyItemRangeInserted(size + getHeadersCount(), items.size()); } //     public void set(int position, T item) { //    items.set(position, item); //     ViewHolder    ,         int positionStart = position + getHeadersCount(); int itemCount = items.size() - position; //  notifyItemRangeChanged(positionStart, itemCount); } //     public void removeChild(int position) { //    items.remove(position); //  notifyItemRemoved(position + getHeadersCount()); //     ViewHolder    ,         int positionStart = position + getHeadersCount(); int itemCount = items.size() - position; notifyItemRangeChanged(positionStart, itemCount); } //      Header'  Footer' public void clear() { final int size = items.size(); //  items.clear(); //   notifyItemRangeRemoved(getHeadersCount(), size); } //       public void moveChildTo(int fromPosition, int toPosition) { //         if (toPosition != -1 &amp;&amp; toPosition &lt; items.size()) { //    ... final T item = items.remove(fromPosition); //    items.add(toPosition, item); //  notifyItemMoved(getHeadersCount() + fromPosition, getHeadersCount() + toPosition); //     ViewHolder    ,         int positionStart = fromPosition &lt; toPosition ? fromPosition : toPosition; int itemCount = Math.abs(fromPosition - toPosition) + 1; notifyItemRangeChanged(positionStart + getHeadersCount(), itemCount); } } //   public int indexOf(T object) { return items.indexOf(object); }</span></span></code> </pre><br></div></div><br>  Well, in principle, we finished our RecyclerBindableAdapter.  The full text can be viewed <a href="">here</a> or under the spoiler. <br><br><div class="spoiler">  <b class="spoiler_title">RecyclerBindableAdapter</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RecyclerBindableAdapter</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">VH</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RecyclerView</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ViewHolder</span></span></span><span class="hljs-class">&gt; </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RecyclerView</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Adapter</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">VH</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> TYPE_HEADER = <span class="hljs-number"><span class="hljs-number">7898</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> TYPE_FOOTER = <span class="hljs-number"><span class="hljs-number">7899</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> List&lt;View&gt; headers = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> List&lt;View&gt; footers = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> List&lt;T&gt; items = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> RecyclerView.LayoutManager manager; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> LayoutInflater inflater; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> GridLayoutManager.SpanSizeLookup spanSizeLookup = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GridLayoutManager.SpanSizeLookup() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getSpanSize</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> position)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> getGridSpan(position); } }; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getRealItemCount</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> items.size(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> T </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getItem</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> position)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> items.get(position); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> position, T item)</span></span></span><span class="hljs-function"> </span></span>{ items.add(position, item); notifyItemInserted(position); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> positionStart = position + getHeadersCount(); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> itemCount = items.size() - position; notifyItemRangeChanged(positionStart, itemCount); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(T item)</span></span></span><span class="hljs-function"> </span></span>{ items.add(item); notifyItemInserted(items.size() - <span class="hljs-number"><span class="hljs-number">1</span></span> + getHeadersCount()); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addAll</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(List&lt;? extends T&gt; items)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> size = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.items.size(); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.items.addAll(items); notifyItemRangeInserted(size + getHeadersCount(), items.size()); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">set</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> position, T item)</span></span></span><span class="hljs-function"> </span></span>{ items.set(position, item); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> positionStart = position + getHeadersCount(); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> itemCount = items.size() - position; notifyItemRangeChanged(positionStart, itemCount); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">removeChild</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> position)</span></span></span><span class="hljs-function"> </span></span>{ items.remove(position); notifyItemRemoved(position + getHeadersCount()); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> positionStart = position + getHeadersCount(); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> itemCount = items.size() - position; notifyItemRangeChanged(positionStart, itemCount); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">clear</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> size = items.size(); items.clear(); notifyItemRangeRemoved(getHeadersCount(), size); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">moveChildTo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> fromPosition, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> toPosition)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (toPosition != -<span class="hljs-number"><span class="hljs-number">1</span></span> &amp;&amp; toPosition &lt; items.size()) { <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> T item = items.remove(fromPosition); items.add(toPosition, item); notifyItemMoved(getHeadersCount() + fromPosition, getHeadersCount() + toPosition); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> positionStart = fromPosition &lt; toPosition ? fromPosition : toPosition; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> itemCount = Math.abs(fromPosition - toPosition) + <span class="hljs-number"><span class="hljs-number">1</span></span>; notifyItemRangeChanged(positionStart + getHeadersCount(), itemCount); } } <span class="hljs-comment"><span class="hljs-comment">//@TODO need test public int indexOf(T object) { return items.indexOf(object); } @Override public VH onCreateViewHolder(ViewGroup viewGroup, int type) { //if our position is one of our items (this comes from getItemViewType(int position) below) if (type != TYPE_HEADER &amp;&amp; type != TYPE_FOOTER) { return (VH) onCreteItemViewHolder(viewGroup, type); //else we have a header/footer } else { //create a new framelayout, or inflate from a resource FrameLayout frameLayout = new FrameLayout(viewGroup.getContext()); //make sure it fills the space frameLayout.setLayoutParams(new ViewGroup.LayoutParams( ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT)); return (VH) new HeaderFooterViewHolder(frameLayout); } } @Override final public void onBindViewHolder(final RecyclerView.ViewHolder vh, int position) { //check what type of view our position is if (isHeader(position)) { View v = headers.get(position); //add our view to a header view and display it prepareHeaderFooter((HeaderFooterViewHolder) vh, v); } else if (isFooter(position)) { View v = footers.get(position - getRealItemCount() - getHeadersCount()); //add our view to a footer view and display it prepareHeaderFooter((HeaderFooterViewHolder) vh, v); } else { //it's one of our items, display as required onBindItemViewHolder((VH) vh, position - headers.size(), getItemType(position)); } } private void prepareHeaderFooter(HeaderFooterViewHolder vh, View view) { //if it's a staggered grid, span the whole layout if (manager instanceof StaggeredGridLayoutManager) { StaggeredGridLayoutManager.LayoutParams layoutParams = new StaggeredGridLayoutManager.LayoutParams( ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT); layoutParams.setFullSpan(true); vh.itemView.setLayoutParams(layoutParams); } //if the view already belongs to another layout, remove it if (view.getParent() != null) { ((ViewGroup) view.getParent()).removeView(view); } //empty out our FrameLayout and replace with our header/footer ((ViewGroup) vh.itemView).removeAllViews(); ((ViewGroup) vh.itemView).addView(view); } private boolean isHeader(int position) { return (position &lt; headers.size()); } private boolean isFooter(int position) { return footers.size() &gt; 0 &amp;&amp; (position &gt;= getHeadersCount() + getRealItemCount()); } protected VH onCreteItemViewHolder(ViewGroup parent, int type) { return viewHolder(inflater.inflate(layoutId(type), parent, false), type); } @Override public int getItemCount() { return headers.size() + getRealItemCount() + footers.size(); } @Override final public int getItemViewType(int position) { //check what type our position is, based on the assumption that the order is headers &gt; items &gt; footers if (isHeader(position)) { return TYPE_HEADER; } else if (isFooter(position)) { return TYPE_FOOTER; } int type = getItemType(position); if (type == TYPE_HEADER || type == TYPE_FOOTER) { throw new IllegalArgumentException("Item type cannot equal " + TYPE_HEADER + " or " + TYPE_FOOTER); } return type; } @Override public void onAttachedToRecyclerView(RecyclerView recyclerView) { super.onAttachedToRecyclerView(recyclerView); if (manager == null) { setManager(recyclerView.getLayoutManager()); } if (inflater == null) { this.inflater = LayoutInflater.from(recyclerView.getContext()); } } private void setManager(RecyclerView.LayoutManager manager) { this.manager = manager; if (this.manager instanceof GridLayoutManager) { ((GridLayoutManager) this.manager).setSpanSizeLookup(spanSizeLookup); } else if (this.manager instanceof StaggeredGridLayoutManager) { ((StaggeredGridLayoutManager) this.manager).setGapStrategy( StaggeredGridLayoutManager.GAP_HANDLING_MOVE_ITEMS_BETWEEN_SPANS); } } protected int getGridSpan(int position) { if (isHeader(position) || isFooter(position)) { return getMaxGridSpan(); } position -= headers.size(); if (getItem(position) instanceof SpanItemInterface) { return ((SpanItemInterface) getItem(position)).getGridSpan(); } return 1; } protected int getMaxGridSpan() { if (manager instanceof GridLayoutManager) { return ((GridLayoutManager) manager).getSpanCount(); } else if (manager instanceof StaggeredGridLayoutManager) { return ((StaggeredGridLayoutManager) manager).getSpanCount(); } return 1; } //add a header to the adapter public void addHeader(View header) { if (!headers.contains(header)) { headers.add(header); //animate notifyItemInserted(headers.size() - 1); } } //@TODO need test public void removeHeader(View header) { if (headers.contains(header)) { //animate notifyItemRemoved(headers.indexOf(header)); headers.remove(header); } } //add a footer to the adapter public void addFooter(View footer) { if (!footers.contains(footer)) { footers.add(footer); //animate notifyItemInserted(headers.size() + getItemCount() + footers.size() - 1); } } //@TODO need test public void removeFooter(View footer) { if (footers.contains(footer)) { //animate notifyItemRemoved(headers.size() + getItemCount() + footers.indexOf(footer)); footers.remove(footer); } } public int getHeadersCount() { return headers.size(); } protected View getHeader(int location) { return headers.get(location); } public int getFootersCount() { return footers.size(); } protected View getFooter(int location) { return footers.get(location); } protected int getItemType(int position) { return 0; } abstract protected void onBindItemViewHolder(VH viewHolder, int position, int type); protected abstract VH viewHolder(View view, int type); protected abstract @LayoutRes int layoutId(int type); public interface SpanItemInterface { int getGridSpan(); } //our header/footer RecyclerView.ViewHolder is just a FrameLayout public static class HeaderFooterViewHolder extends RecyclerView.ViewHolder { public HeaderFooterViewHolder(View itemView) { super(itemView); } } }</span></span></code> </pre><br></div></div><br>  Now create some example: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LinearExampleAdapter</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RecyclerBindableAdapter</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Integer</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LinearViewHolder</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> LinearViewHolder.ActionListener actionListener; <span class="hljs-comment"><span class="hljs-comment">// layout id    @Override protected int layoutId(int type) { return R.layout.linear_example_item; } // ViewHolder @Override protected LinearViewHolder viewHolder(View view, int type) { return new LinearViewHolder(view); } //    @Override protected void onBindItemViewHolder(LinearViewHolder viewHolder, final int position, int type) { viewHolder.bindView(getItem(position), position, actionListener); } //    public void setActionListener(LinearViewHolder.ActionListener actionListener) { this.actionListener = actionListener; } }</span></span></code> </pre><br><div class="spoiler">  <b class="spoiler_title">ViewHolder (Caution Butterknife 7)</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LinearViewHolder</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RecyclerView</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ViewHolder</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Bind</span></span>(R.id.linear_example_item_text) TextView text; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> position; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> ActionListener actionListener; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">LinearViewHolder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View itemView)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(itemView); ButterKnife.bind(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, itemView); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">bindView</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Integer item, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> position, ActionListener listener)</span></span></span><span class="hljs-function"> </span></span>{ actionListener = listener; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.position = position; text.setText(String.valueOf(item)); } <span class="hljs-meta"><span class="hljs-meta">@OnClick</span></span>(R.id.linear_example_item_move_to_top) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnMoveToTopClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (actionListener != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { actionListener.onMoveToTop(position); } } <span class="hljs-meta"><span class="hljs-meta">@OnClick</span></span>(R.id.linear_example_item_remove) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnRemoveClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (actionListener != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { actionListener.OnRemove(position); } } <span class="hljs-meta"><span class="hljs-meta">@OnClick</span></span>(R.id.linear_example_item_up) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnUpClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (actionListener != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { actionListener.OnUp(position); } } <span class="hljs-meta"><span class="hljs-meta">@OnClick</span></span>(R.id.linear_example_item_down) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnDownClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (actionListener != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { actionListener.OnDown(position); } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ActionListener</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onMoveToTop</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> position)</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnRemove</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> position)</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnUp</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> position)</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnDown</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> position)</span></span></span></span>; } }</code> </pre><br></div></div><br>  So here, everything is now simple.  Work with the adapter simplified many times.  <a href="https://github.com/princeparadoxes/RecyclerBindableAdapter/tree/master/sample/src/main/java/com/danil/recyclerbindableadapter/sample/linear">Here</a> you can find this example, and here <a href="https://github.com/princeparadoxes/RecyclerBindableAdapter/tree/master/sample/src/main/java/com/danil/recyclerbindableadapter/sample/grid">is</a> an example for several types. <br><br><h4>  FilterBindableAdapter </h4><br>  Let's now create an adapter with the ability to filter.  Extend the RecyclerBindableAdapter and first create two lists of objects: all objects and those that are now displayed.  We will redefine a part of the methods, so that now they work with two lists. <br><br><div class="spoiler">  <b class="spoiler_title">Create two lists.</b>  <b class="spoiler_title">Override methods</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//  private List&lt;T&gt; originalValues; private List&lt;T&gt; objects; protected FilterBindableAdapter() { objects = new ArrayList&lt;T&gt;(); originalValues = new ArrayList&lt;T&gt;(); } //       ,            ,       @Override public void addAll(List&lt;? extends T&gt; data) { //             if (objects.containsAll(data)) { return; } //       objects.clear(); objects.addAll(data); //       originalValues.clear(); originalValues.addAll(data); // notifyItemRangeInserted(getHeadersCount(), data.size()); } //          </span></span></code> </pre><br></div></div><br>  Now we do the filtering. <br><br><div class="spoiler">  <b class="spoiler_title">We do filtering</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//     public Filter getFilter() { if (filter == null) { filter = new ArrayFilter(); } return filter; } //        public interface OnFilterObjectCallback { void handle(int countFilterObject); } //    private class ArrayFilter extends Filter { //   @Override protected FilterResults performFiltering(CharSequence prefix) { FilterResults results = new FilterResults(); // prefix   ,     if (prefix == null || prefix.length() == 0) { ArrayList&lt;T&gt; list; synchronized (lock) { list = new ArrayList&lt;T&gt;(originalValues); } results.values = list; results.count = list.size(); //     } else { //         String prefixString = prefix.toString().toLowerCase(); ArrayList&lt;T&gt; values; synchronized (lock) { values = new ArrayList&lt;T&gt;(originalValues); } final int count = values.size(); final ArrayList&lt;T&gt; newValues = new ArrayList&lt;T&gt;(); //       for (int i = 0; i &lt; count; i++) { final T value = values.get(i); final String valueText = itemToString(value).toLowerCase(); //            if (valueText.startsWith(prefixString)) { newValues.add(value); //  ,          } else { final String[] words = valueText.split(" "); //   ,       for (String word : words) { if (word.startsWith(prefixString)) { newValues.add(value); break; } } } } results.values = newValues; results.count = newValues.size(); } return results; } //   @Override protected void publishResults(CharSequence constraint, FilterResults results) { objects = (List&lt;T&gt;) results.values; // callback    if (onFilterObjectCallback != null) { onFilterObjectCallback.handle(results.count); } notifyDataSetChanged(); } }</span></span></code> </pre><br></div></div><br>  The adapter example is completely analogous to the RecyclerBindableAdapter example except for one method.  This method is for converting an element into a string, so that we can later filter the elements. <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">itemToString</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String item)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> item; }</code> </pre><br>  The full text can be viewed <a href="">here</a> or under the spoiler. <br><br><div class="spoiler">  <b class="spoiler_title">FilterBindableAdapter</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FilterBindableAdapter</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">VH</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RecyclerView</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ViewHolder</span></span></span><span class="hljs-class">&gt; </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RecyclerBindableAdapter</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">VH</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Object lock = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Object(); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> List&lt;T&gt; originalValues; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> List&lt;T&gt; objects; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> ArrayFilter filter; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> OnFilterObjectCallback onFilterObjectCallback; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FilterBindableAdapter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ objects = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;T&gt;(); originalValues = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;T&gt;(); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addAll</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(List&lt;? extends T&gt; data)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (objects.containsAll(data)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } objects.clear(); objects.addAll(data); originalValues.clear(); originalValues.addAll(data); notifyItemRangeInserted(getHeadersCount(), data.size()); } <span class="hljs-comment"><span class="hljs-comment">//@TODO need test public void addShowed(List&lt;? extends T&gt; data) { objects.clear(); objects.addAll(data); notifyDataSetChanged(); } //@TODO need test @Override public void removeChild(int position) { objects.remove(position); originalValues.remove(position); objects.remove(position); notifyItemRemoved(position + getHeadersCount()); int positionStart = position + getHeadersCount(); int itemCount = objects.size() - position; notifyItemRangeChanged(positionStart, itemCount); } //@TODO need test public void setOnFilterObjectCallback(OnFilterObjectCallback objectCallback) { onFilterObjectCallback = objectCallback; } @Override public T getItem(int position) { return objects.get(position); } @Override public int getRealItemCount() { return objects.size(); } @Override public long getItemId(int position) { return position; } protected abstract String itemToString(T item); public Filter getFilter() { if (filter == null) { filter = new ArrayFilter(); } return filter; } public interface OnFilterObjectCallback { void handle(int countFilterObject); } private class ArrayFilter extends Filter { @Override protected FilterResults performFiltering(CharSequence prefix) { FilterResults results = new FilterResults(); if (originalValues == null) { synchronized (lock) { originalValues = new ArrayList&lt;T&gt;(objects); } } if (prefix == null || prefix.length() == 0) { ArrayList&lt;T&gt; list; synchronized (lock) { list = new ArrayList&lt;T&gt;(originalValues); } results.values = list; results.count = list.size(); } else { String prefixString = prefix.toString().toLowerCase(); ArrayList&lt;T&gt; values; synchronized (lock) { values = new ArrayList&lt;T&gt;(originalValues); } final int count = values.size(); final ArrayList&lt;T&gt; newValues = new ArrayList&lt;T&gt;(); for (int i = 0; i &lt; count; i++) { final T value = values.get(i); final String valueText = itemToString(value).toLowerCase(); // First match against the whole, non-splitted value if (valueText.startsWith(prefixString)) { newValues.add(value); } else { final String[] words = valueText.split(" "); // Start at index 0, in case valueText starts with space(s) for (String word : words) { if (word.startsWith(prefixString)) { newValues.add(value); break; } } } } results.values = newValues; results.count = newValues.size(); } return results; } @Override protected void publishResults(CharSequence constraint, FilterResults results) { //noinspection unchecked objects = (List&lt;T&gt;) results.values; if (onFilterObjectCallback != null) { onFilterObjectCallback.handle(results.count); } notifyDataSetChanged(); } } }</span></span></code> </pre><br></div></div><br>  An example can be found <a href="https://github.com/princeparadoxes/RecyclerBindableAdapter/tree/master/sample/src/main/java/com/danil/recyclerbindableadapter/sample/filter">here</a> . <br><br><h4>  ParallaxBindableAdapter </h4><br>  Now let's get down to creating a parallax effect.  Initially, I planned to make parallax only for Header, but then I thought that making parallax and for Footer would be a very interesting experience.  To begin, override the methods for adding Headers and Footers so that our adapter can have only one instance of them. <br><br><div class="spoiler">  <b class="spoiler_title">Override addHeader and addFooter</b> <div class="spoiler_text"><pre> <code class="java hljs"> <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addHeader</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View header)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (getHeadersCount() == <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.addHeader(header); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { removeHeader(getHeader(<span class="hljs-number"><span class="hljs-number">0</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.addHeader(header); } } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addFooter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View footer)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (getFootersCount() == <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.addFooter(footer); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { removeFooter(getFooter(<span class="hljs-number"><span class="hljs-number">0</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.addFooter(footer); } }</code> </pre><br></div></div><br>  Now we will create a container that will limit the rendering area so that the header does not climb under other elements.  If you have already done parallax, then most likely you have already met with a similar implementation.  The difference with this implementation is that it also supports footer.  We will use this container instead of FrameLayout in onCreateViewHolder (). <br><div class="spoiler">  <b class="spoiler_title">ParallaxContainer</b> <div class="spoiler_text"><pre> <code class="java hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ParallaxContainer</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FrameLayout</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> isParallax; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> isFooter; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> offset; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ParallaxContainer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Context context, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">boolean</span></span></span></span><span class="hljs-function"><span class="hljs-params"> shouldClick, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">boolean</span></span></span></span><span class="hljs-function"><span class="hljs-params"> isFooter)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(context); isParallax = shouldClick; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.isFooter = isFooter; } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dispatchDraw</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(@NonNull Canvas canvas)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (isParallax) { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> top = isFooter ? -offset : <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> bottom = isFooter ? getBottom() : getBottom() + offset; Rect rect = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Rect(getLeft(), top, getRight(), bottom); canvas.clipRect(rect); } <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.dispatchDraw(canvas); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setClipY</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> offset)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.offset = offset; invalidate(); } }</code> </pre><br></div></div><br>  Now let's make the methods for moving the container when scrolling.  To do this, in the onAttachedToRecyclerView () method, hang it on RecyclerView OnScrollListener.  Inside it we will call a method for shifting.  Well, of course, you need to create methods to enable / disable the parallax effect. <br><br><div class="spoiler">  <b class="spoiler_title">We implement the shift</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//         setter'   private boolean isParallaxHeader = true; private boolean isParallaxFooter = true; public void setParallaxHeader(boolean isParallaxHeader) { this.isParallaxHeader = isParallaxHeader; } public void setParallaxFooter(boolean isParallaxFooter) { this.isParallaxFooter = isParallaxFooter; } @Override public void onAttachedToRecyclerView(RecyclerView recyclerView) { super.onAttachedToRecyclerView(recyclerView); // ScrollListener  RecyclerView recyclerView.addOnScrollListener(new RecyclerView.OnScrollListener() { @Override public void onScrolled(RecyclerView recyclerView, int dx, int dy) { super.onScrolled(recyclerView, dx, dy); // header             if (header != null &amp;&amp; isParallaxHeader) { translateView(recyclerView.computeVerticalScrollOffset(), header, false); } // footer             if (footer != null &amp;&amp; isParallaxFooter) { int range = recyclerView.computeVerticalScrollRange(); int extend = recyclerView.computeVerticalScrollExtent(); int offset = recyclerView.computeVerticalScrollOffset(); translateView(range - (extend + offset), footer, true); } } }); } //  private void translateView(float of, ParallaxContainer view, boolean isFooter) { float ofCalculated = of * SCROLL_MULTIPLIER; //  footer        ofCalculated = isFooter ? -ofCalculated : ofCalculated; //   if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.HONEYCOMB) { view.setTranslationY(ofCalculated); } else { TranslateAnimation anim = new TranslateAnimation(0, 0, ofCalculated, ofCalculated); anim.setFillAfter(true); anim.setDuration(0); view.startAnimation(anim); } //   view.setClipY(Math.round(ofCalculated)); //  callback,     (  / ActionBar  ) if (parallaxScroll != null &amp;&amp; !isFooter) { float left = Math.min(1, ((ofCalculated) / (view.getHeight() * SCROLL_MULTIPLIER))); parallaxScroll.onParallaxScroll(left, of, view); } }</span></span></code> </pre><br></div></div><br>  The full text can be viewed <a href="">here</a> or under the spoiler. <br><br><div class="spoiler">  <b class="spoiler_title">ParallaxBindableAdapter</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ParallaxBindableAdapter</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">VH</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RecyclerView</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ViewHolder</span></span></span><span class="hljs-class">&gt; </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RecyclerBindableAdapter</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">VH</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> SCROLL_MULTIPLIER = <span class="hljs-number"><span class="hljs-number">0.5f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> ParallaxContainer header; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> ParallaxContainer footer; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> OnParallaxScroll parallaxScroll; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> isParallaxHeader = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> isParallaxFooter = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; <span class="hljs-comment"><span class="hljs-comment">//parallax adapter may have only one header @Override public void addHeader(View header) { if (getHeadersCount() == 0) { super.addHeader(header); } else { removeHeader(getHeader(0)); super.addHeader(header); } } //parallax adapter may have only one header @Override public void addFooter(View footer) { if (getFootersCount() == 0) { super.addFooter(footer); } else { removeFooter(getFooter(0)); super.addFooter(footer); } } private void translateView(float of, ParallaxContainer view, boolean isFooter) { float ofCalculated = of * SCROLL_MULTIPLIER; ofCalculated = isFooter ? -ofCalculated : ofCalculated; if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.HONEYCOMB) { view.setTranslationY(ofCalculated); } else { TranslateAnimation anim = new TranslateAnimation(0, 0, ofCalculated, ofCalculated); anim.setFillAfter(true); anim.setDuration(0); view.startAnimation(anim); } view.setClipY(Math.round(ofCalculated)); if (parallaxScroll != null &amp;&amp; !isFooter) { float left = Math.min(1, ((ofCalculated) / (view.getHeight() * SCROLL_MULTIPLIER))); parallaxScroll.onParallaxScroll(left, of, view); } } @Override public VH onCreateViewHolder(ViewGroup viewGroup, int type) { //if our position is one of our items (this comes from getItemViewType(int position) below) if (type != TYPE_HEADER &amp;&amp; type != TYPE_FOOTER) { return (VH) onCreteItemViewHolder(viewGroup, type); //else if we have a header } else if (type == TYPE_HEADER) { //create a new ParallaxContainer header = new ParallaxContainer(viewGroup.getContext(), isParallaxHeader, false); //make sure it fills the space header.setLayoutParams(new ViewGroup.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT)); return (VH) new HeaderFooterViewHolder(header); //else we have a footer } else { //create a new ParallaxContainer footer = new ParallaxContainer(viewGroup.getContext(), isParallaxFooter, true); //make sure it fills the space footer.setLayoutParams(new ViewGroup.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT)); return (VH) new HeaderFooterViewHolder(footer); } } @Override public void onAttachedToRecyclerView(RecyclerView recyclerView) { super.onAttachedToRecyclerView(recyclerView); recyclerView.addOnScrollListener(new RecyclerView.OnScrollListener() { @Override public void onScrolled(RecyclerView recyclerView, int dx, int dy) { super.onScrolled(recyclerView, dx, dy); if (header != null &amp;&amp; isParallaxHeader) { translateView(recyclerView.computeVerticalScrollOffset(), header, false); } if (footer != null &amp;&amp; isParallaxFooter) { int range = recyclerView.computeVerticalScrollRange(); int extend = recyclerView.computeVerticalScrollExtent(); int offset = recyclerView.computeVerticalScrollOffset(); translateView(range - (extend + offset), footer, true); } } }); } public void setParallaxHeader(boolean isParallaxHeader) { this.isParallaxHeader = isParallaxHeader; } public void setParallaxFooter(boolean isParallaxFooter) { this.isParallaxFooter = isParallaxFooter; } public void setOnParallaxScroll(OnParallaxScroll parallaxScroll) { this.parallaxScroll = parallaxScroll; this.parallaxScroll.onParallaxScroll(0, 0, header); } public interface OnParallaxScroll { /** * Event triggered when the parallax is being scrolled. * * @param percentage * @param offset * @param parallax */ void onParallaxScroll(float percentage, float offset, View parallax); } }</span></span></code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The example is essentially the same as for the RecyclerBindableAdapter, just need to change what to expand. </font><font style="vertical-align: inherit;">An example to watch </font></font><a href="https://github.com/princeparadoxes/RecyclerBindableAdapter/tree/master/sample/src/main/java/com/danil/recyclerbindableadapter/sample/parallax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> SimpleBindableAdapter </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In order to make such an adapter, first we need to create our ViewHolder. </font><font style="vertical-align: inherit;">This is done so that we then know exactly what methods to call us. </font><font style="vertical-align: inherit;">You also need to make your interface from which we will be inherited in the future.</font></font><br><br><div class="spoiler">  <b class="spoiler_title">Hidden text</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BindableViewHolder</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">&gt; </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RecyclerView</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ViewHolder</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">BindableViewHolder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View itemView)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(itemView); } <span class="hljs-comment"><span class="hljs-comment">//      ,   OnItemClickListener public void bindView(final int position, final T item, final ActionListener actionListener) { if (actionListener != null) { itemView.setOnClickListener(new View.OnClickListener() { @Override public void onClick(View v) { actionListener.OnItemClickListener(position, item); } }); } } //        public interface ActionListener { void OnItemClickListener(int position, Object Item); } }</span></span></code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Now let's start creating our adapter. </font><font style="vertical-align: inherit;">Just finally redefine all the methods from the RecyclerBindableAdapter and will create a new instance of our ViewHolder via Java Reflection.</font></font><br><br><div class="spoiler">  <b class="spoiler_title">Hidden text</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//  final,  ,   ,     . ,  VH    BindableViewHolder public final class SimpleBindableAdapter&lt;T, VH extends BindableViewHolder&gt; extends RecyclerBindableAdapter&lt;T, VH&gt; { //     layout id   @LayoutRes private final int layoutId; // ViewHolder    ,       ViewHolder Class&lt;VH&gt; vhClass; //     BindableViewHolder.ActionListener actionListener; public SimpleBindableAdapter(@LayoutRes int layoutId, Class&lt;VH&gt; vhClass) { this.layoutId = layoutId; this.vhClass = vhClass; } @Override protected void onBindItemViewHolder(BindableViewHolder viewHolder, int position, int type) { //   ViewHolder,       BindableViewHolder viewHolder.bindView(position, getItem(position), actionListener); } @Override protected VH viewHolder(View view, int type) { // Java Reflection    ViewHolder try { return (VH) vhClass.getConstructor(View.class).newInstance(view); } catch (InstantiationException e) { e.printStackTrace(); return null; } catch (IllegalAccessException e) { e.printStackTrace(); return null; } catch (NoSuchMethodException e) { e.printStackTrace(); return null; } catch (InvocationTargetException e) { e.printStackTrace(); return null; } } @Override protected int layoutId(int type) { return layoutId; } public void setActionListener(BindableViewHolder.ActionListener actionListener) { this.actionListener = actionListener; } }</span></span></code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Now about how to use it. </font><font style="vertical-align: inherit;">Everything is very, very simple.</font></font><br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> SimpleBindableAdapter&lt;Integer, SimpleViewHolder&gt; simpleExampleAdapter; <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Bundle savedInstanceState)</span></span></span><span class="hljs-function"> </span></span>{ ............................................................................................. simpleExampleAdapter = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SimpleBindableAdapter&lt;&gt;(R.layout.simple_example_item, SimpleViewHolder.class); simpleExampleAdapter.setActionListener(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SimpleViewHolder.SimpleActionListener() { ............................................................................................. } simpleExampleRecycler.setAdapter(simpleExampleAdapter); .............................................................................................. }</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">That's all, very simple, isn't it. </font><font style="vertical-align: inherit;">Of course, we still need a ViewHolder.</font></font><br><br><div class="spoiler">  <b class="spoiler_title">Hidden text</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SimpleViewHolder</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BindableViewHolder</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Integer</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Bind</span></span>(R.id.simple_example_item_tittle) TextView tittle; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> position; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> SimpleActionListener simpleActionListener; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SimpleViewHolder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View itemView)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(itemView); ButterKnife.bind(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, itemView); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">bindView</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> position, Integer item, ActionListener actionListener)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.bindView(position, item, actionListener); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.position = position; simpleActionListener = (SimpleActionListener) actionListener; tittle.setText(String.valueOf(item)); } <span class="hljs-meta"><span class="hljs-meta">@OnClick</span></span>(R.id.simple_example_item_move_to_top) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnMoveToTopClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (simpleActionListener != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { simpleActionListener.onMoveToTop(position); } } <span class="hljs-meta"><span class="hljs-meta">@OnClick</span></span>(R.id.simple_example_item_remove) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnRemoveClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (simpleActionListener != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { simpleActionListener.OnRemove(position); } } <span class="hljs-meta"><span class="hljs-meta">@OnClick</span></span>(R.id.simple_example_item_up) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnUpClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (simpleActionListener != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { simpleActionListener.OnUp(position); } } <span class="hljs-meta"><span class="hljs-meta">@OnClick</span></span>(R.id.simple_example_item_down) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnDownClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (simpleActionListener != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { simpleActionListener.OnDown(position); } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SimpleActionListener</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ActionListener</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onMoveToTop</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> position)</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnRemove</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> position)</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnUp</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> position)</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnDown</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> position)</span></span></span></span>; } }</code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">That's the whole initialization. </font><font style="vertical-align: inherit;">Here </font></font><a href="https://github.com/princeparadoxes/RecyclerBindableAdapter/tree/master/sample/src/main/java/com/danil/recyclerbindableadapter/sample/simple"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">it is</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> possible to find an example. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Here is a </font></font><a href="https://github.com/princeparadoxes/RecyclerBindableAdapter"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">link</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> to the repository, in it you will find all the examples and adapters, as well as more documentation in curved English.</font></font><br><br>  Ps.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The project is not yet 100% complete, so I would appreciate the help, constructive criticism and suggestions for improvement. </font><font style="vertical-align: inherit;">It is also possible by the time you read this article, something new will appear.</font></font><br><br>  Pss.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">On one of the projects in which I participated, my colleague began creating a BindableAdapter for RecyclerView, but did not finish it, having made the implementation only for a specific project. </font><font style="vertical-align: inherit;">In any case, if you read this, thank you very much for the push and for the idea.</font></font></div><p>Source: <a href="https://habr.com/ru/post/269057/">https://habr.com/ru/post/269057/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../269039/index.html">PHP Digest 72 - interesting news, materials and tools (October 5 - 18, 2015)</a></li>
<li><a href="../269041/index.html">Solving common problems when building an Xcode project generated by Unity3D</a></li>
<li><a href="../269045/index.html">Phone numbers in email clients</a></li>
<li><a href="../269049/index.html">Serge - the solution for continuous localization from Evernote</a></li>
<li><a href="../269055/index.html">Pulling information from the URL, in the style of Slack and Twitter</a></li>
<li><a href="../269061/index.html">Steam Protocol v2</a></li>
<li><a href="../269065/index.html">Big data, Beeline and Coco</a></li>
<li><a href="../269067/index.html">Hackers attack, what to do?</a></li>
<li><a href="../269069/index.html">TypeScript 1.6 release: not just React</a></li>
<li><a href="../269073/index.html">RedHat Acquires Ansible</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>