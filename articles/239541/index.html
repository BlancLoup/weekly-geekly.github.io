<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Talk radio on the knee</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="At a certain point, suffering from laziness to update the OpenStreetMap news blog, I decided to make a weekly program about the project. Instead of th...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Talk radio on the knee</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/112/e60/c80/112e60c801d640e9be72430911ab5abd.jpg" align="right" width="300">  At a certain point, suffering from laziness to update the OpenStreetMap news blog, I decided to make a weekly program about the project.  Instead of three hours of extorting text - an hour to discuss with familiar OSM participants news and current issues.  Great idea, glad and dispersed.  Six months later, with the words ‚Äúwell, damn it is enough to idle, let's call Skype on the day after,‚Äù I began to figure out how to record sound from a microphone and Skype in your Linux while simultaneously transmitting it to the Internet.  This story is about setting PulseAudio, about Skype and Mumbles, and about amazing JACK.  It turned out that raising your own radio with guests on the air is easier than drawing a logo for it. <br><a name="habracut"></a><br><br><h2>  Labyrinths PulseAudio </h2><br>  Soon we decided - I quickly collect the broadcast.  The presenters are combined into a Skype group, respectively, you need to record the input and output of the sound card (since Skype does not copy sound from the microphone into headphones).  Around here I learned that PulseAudio is great: it has modules and a powerful audio routing application, which for some reason is called a volume control. <br><br>  What does the ‚Äúdesigner‚Äù of PulseAudio look like for the user?  For each sound card there is a device-input ( <i>source</i> , usually a microphone) and a device-output ( <i>sink</i> , usually - speakers).  Applications take the sound from the <i>source</i> and give it to the <i>sink</i> .  But how then to record the sound from the speakers, i.e. give the application sound from the sink?  For this, all the sinks have a <i>monitor</i> , which is also source.  It turns out such a directed graph.  And how to direct the sound from <i>source</i> to <i>sink</i> without the application in the middle?  The <i>module-loopback module</i> is a virtual application that simply copies the sound.  Often it is plugged in to hear a microphone in the headphones (and woe to you, if you start the loopback from the microphone into the speakers - I managed to include such a configuration in autorun, and I was very scared).  We stick the headphones in the audio output and type without sudo: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="bash hljs">pactl load-module module-loopback</code> </pre> <br>  This module will allow you to make the simplest scheme for recording your own voice and co-hosts at the same time: <br><br><img src="https://habrastorage.org/files/87c/465/f9b/87c465f9b5fb4253aa2257ec02cdccf3.png" width="700"><br><br>  To configure the input and output of Skype, gstreamer (see below) and loopback, you need to start the corresponding sound consumers (for example, call Skype Sound Test Service) and find the application in the ‚Äúvolume control‚Äù ( <i>pavucontrol</i> ).  In the "Playback" tab, select the <i>sink</i> (headphones in our case), in "Recording" - the <i>source</i> (microphone).  To see the loopback module in the window, at the bottom, select ‚ÄúAll Streams‚Äù. <br><br><img src="https://habrastorage.org/files/051/ff6/88b/051ff688bed74009be32e635f03c916e.png" width="700"><br><br>  In the picture, I choose the <i>source</i> for Skype.  The two buttons on the right allow you to silence the input and adjust the volume of the left and right channels separately (by default, they are connected).  Be sure to check that the signal level in all tabs is 100%, and decrease only if necessary. <br><br>  The most difficult in this scheme was to speak.  Yes, it is banal to pronounce coherent sentences.  Because the loopback occurs with a delay of 0.2 seconds: as if you are constantly interrupting yourself.  Reflex - silence and give to the one who is in headphones, speak out.  But he, too, falls silent!  Somehow reduced this effect, having muffled one channel in earphones. <br><br><h2>  Icecast Repeater </h2><br>  For a live broadcast on the Internet you need a server like shoutcast, the most popular of the open ones is icecast2.  It is in all popular Linux distributions.  After installation, it is enough to edit <code>/etc/icecast2/icecast.xml</code> , registering your passwords in the ‚Äúauthentication‚Äù section, and correcting just below the ‚Äúhostname‚Äù.  You also need to check that in <code>/etc/default/icecast2</code> the ENABLE parameter is true.  Next run the icecast2 daemon and write it into autorun.  You may need to open tcp-ports (by default - 8000 and 8001). <br><br>  Server status and statistics can be viewed by accessing port 8000 with a browser.  I did not have enough distribution of listeners by countries and cities - for this I wrote a simple <a href="https://gist.github.com/Zverik/9af331895f015f613bc7">php script</a> that uses the PECL GeoIP module. <br><br><h2>  Slow down, gstreamer writes </h2><br>  To send sound to the icecast server, strange people on the Internet put some kind of muddy programs like Darkice or LiquidSoap, but in reality, the usual gstreamer is enough.  It is very easy for them to record sound from any <i>source</i> to an mp3 file (or ogg, to taste): <br><br><pre> <code class="bash hljs">SOURCE=alsa_output.pci-0000_00_1b.0.analog-stereo.monitor DATE=$(date +%y%m%d-%H%M) gst-launch-0.10 pulsesrc device=<span class="hljs-variable"><span class="hljs-variable">$SOURCE</span></span> ! audioconvert ! audio/x-raw-int,channels=1 ! lamemp3enc bitrate=64 cbr=<span class="hljs-literal"><span class="hljs-literal">true</span></span> ! filesink location=radio-<span class="hljs-variable"><span class="hljs-variable">$DATE</span></span>.mp3</code> </pre><br>  Available sources for the variable SOURCE will show the command <br><br><pre> <code class="bash hljs">pactl list short sources</code> </pre><br>  Although the source can simply be selected in the volume control.  Other network instructions will tell you how to send sound to the server: <br><br><pre> <code class="bash hljs">gst-launch-0.10 pulsesrc device=<span class="hljs-variable"><span class="hljs-variable">$SOURCE</span></span> ! audioconvert ! audio/x-raw-int,channels=1 ! lamemp3enc bitrate=64 cbr=<span class="hljs-literal"><span class="hljs-literal">true</span></span> ! shout2send ip=<span class="hljs-variable"><span class="hljs-variable">$IP</span></span> port=8000 password=<span class="hljs-variable"><span class="hljs-variable">$PASSWORD</span></span> mount=radio <span class="hljs-string"><span class="hljs-string">'streamname=Beta Radio'</span></span></code> </pre><br>  Finally, the thread mechanism allows you to do both with one command: <br><br><pre> <code class="bash hljs">gst-launch-0.10 pulsesrc device=<span class="hljs-variable"><span class="hljs-variable">$SOURCE</span></span> ! audioconvert ! audio/x-raw-int,channels=1 ! lamemp3enc bitrate=64 cbr=<span class="hljs-literal"><span class="hljs-literal">true</span></span> ! tee name=t ! queue ! shout2send ip=<span class="hljs-variable"><span class="hljs-variable">$IP</span></span> port=8000 password=<span class="hljs-variable"><span class="hljs-variable">$PASSWORD</span></span> mount=radio <span class="hljs-string"><span class="hljs-string">'streamname=Beta Radio'</span></span> t. ! queue ! filesink location=radio-<span class="hljs-variable"><span class="hljs-variable">$DATE</span></span>.mp3</code> </pre><br>  Voila!  I note that when I forgot to transfer the stream to mono, the computer could not cope with the encoding and sent some scraps to the Internet.  So be sure to check the stream and the recorded file.  You can run several gstreamers to record different devices in the files: for example, separate the microphone and skype to clean them separately and collect the podcast in the editor. <br><br><h2>  This is not an archiver, this is Audacity. </h2><br>  The transfer has passed, you need to publish a podcast on the Internet.  You can immediately, but nekomilfo: the track is noisy, the voices are quiet, the pause for ten seconds is annoying.  So black podkasterskoy work can not be avoided: run Audacity and open the record there.  First you need to remove the void from the beginning and end, then - especially gaping pauses and random violations of the NDA by guests.  I noticed that the correct background music does not prevent such shredding: the rhythm jumps are almost imperceptible.  So the individual channel recordings are not yet useful. <br><br>  Then we delete the clicks (Effect ‚Üí Click Removal), we find a quiet place without music and without breathing (for this, it‚Äôs good to record the broadcast after the transfer when the music is over) and we get the noise profile from these 0.5-1 seconds (Effect ‚Üí Noise Removal ‚Üí Get Noise Profile).  And, having dumped selection, in the same place we delete noise.  I am not a professional, I have not changed the default settings.  Just checking that the procedure did not remove the useful frequencies ‚Äî I didn‚Äôt make the voice duller or louder ‚Äî and am content with it. <br><br>  Judging by the dozens of instructions in Russian only, the most difficult thing is sound compression (Effect ‚Üí Compressor).  There is nothing in common with archiving; it is a banal compression of a wave in amplitude.  As I understand it, the algorithm takes fragments of a wave with an amplitude larger than ‚ÄúThreshold‚Äù, and these tops (not the whole wave) are compressed a number of times as specified in ‚ÄúRatio‚Äù.  I'm impatient, so I put 8: 1, but, they say, several approaches are better for 3-4.  Here are some of the articles on the topic: <br><br><ul><li>  <a href="http://tipz.umputun.com/2007/08/blog-post_28.html">a short note from the TR</a> ; </li><li>  <a href="http://wikisound.org/%25D0%259A%25D0%25BE%25D0%25BC%25D0%25BF%25D1%2580%25D0%25B5%25D1%2581%25D1%2581%25D0%25B8%25D1%258F">educational program in wikisound</a> ; </li><li>  <a href="http://habrahabr.ru/post/183044/">translation of the introductory article in Habr√©</a> ; </li><li>  <a href="http://corpuscul.net/sintez-i-obrabotka-zvuka/obrabotka-zvuka/amplitudnye-preobrazovaniya/kompressiya-na-praktike/">sound compression music</a>  <a href="http://corpuscul.net/sintez-i-obrabotka-zvuka/obrabotka-zvuka/amplitudnye-preobrazovaniya/kompressiya-na-praktike/">tools at corpuscul.net</a> . </li></ul><br>  When saving to MP3 (File ‚Üí Export ‚Üí MP3 Files), select the ‚ÄúPreset / Standard‚Äù mode (this is a very good quality, believe me), and then be sure to enter the tag values.  I put the genre "Vocal", although, probably, there are more suitable options. <br><br><h2>  VLC, DJ Thunderstorm </h2><br>  This configuration made it possible to record an awkward zero release, but did not fit the first one: I recorded several interviews on the tape recorder a week earlier on the ‚ÄúLive Evening Card Party‚Äù and wanted to reproduce them in the program.  Also, many recommend putting under the voices of the leading quiet music, which not only masks long pauses and makes the transfer more dynamic, but also shows that the connection is not broken. <br><br>  Music, of course, must be with an open license, the so-called.  <a href="http://rpod.ru/podsafe/">podsafe</a> .  Many sites advise <a href="http://www.musicalley.com/">musicalley</a> , but it is creepy, so I went to dig in scraps for <a href="http://promodj.com/podsafe">promodj</a> .  The requirements are simple: no vocals, no drums, preferably in the style of old consoles (impressed with the music from the Otaku video diaries).  Of course, I didn‚Äôt find any good tracks from this data, but I collected some acceptable ones.  I let one of them in the background, I switch on the rest half an hour before the broadcast, so that the early listeners do not get bored. <br><br>  As the radio is on my knee, the VLC player is a source of music and an interview.  In it, directly from the menu, you can specify in which <i>sink to</i> send the sound.  But the challenge: the interview must be heard and the interlocutors in Skype, to know what to discuss. <br><br><h2>  Back to the graph </h2><br>  The second useful PulseAudio <i>module</i> is <i>module-null-sink</i> , a virtual device with input and output.  It can be used as an intermediate one: in my example, the sound of a microphone and a VLC are put in there.  The mixed result gets skype at the entrance, and co-hosts of the whole program listen to background music, and interviews sometimes.  I recall: <br><br><ul><li>  applications (green in the diagram) take the sound from the source and / or send it to the sink; </li><li>  you cannot transfer sound from one application to another immediately, you need an intermediate <i>module-null-sink</i> ; </li><li>  you cannot transfer sound from source directly to the sink; you need an intermediate <i>module-loopback</i> . </li></ul><br>  It turned out a scheme that I used to broadcast and record several releases: <br><br><img src="https://habrastorage.org/files/a0e/2a8/11f/a0e2a811f0a7463ea5fabfda7695a071.png" width="700"><br><br>  When the interview starts, the sound from Skype can be redirected to the headphones, and the microphone device can be muted (the button in the volume control) or sent directly to Skype.  Finally, by slightly complicating the scheme, you can simultaneously transfer the entire ‚Äúsandwich‚Äù to the Internet, and write only the speech of the presenters to the file, which, after processing, be put on the music files.  Delighted with the routing capabilities of PulseAudio, I wrote and debugged a <a href="https://gist.github.com/Zverik/16ff6e8e4ebf5fe62da4">script to prepare for the broadcast</a> .  True, in the "production" I have never used it: right after writing, I found the strength to take and adjust JACK. <br><br><h2>  Blog on the knee </h2><br>  The main result of the weekly broadcasts is not fifteen satisfied listeners, but a podcast that hundreds of people will listen to.  To publish and discuss it, you need a blog.  Out of habit, I chose the Birman <a href="http://blogengine.ru/">e2</a> : simple and easy, even supports audio files out of the box. <br><br>  Comments did not appear, but the blog did not decide the main task, which I did not guess.  Several listeners complained that the RSS blog does not accept their podcast app.  It turns out that RSS entries should contain links to audio files in the <i>enclosure</i> and a dozen of their parameters in special tags.  Egea doesn‚Äôt know how to do that, but I didn‚Äôt want to put something heavy, so I started a copy of the podcast on <a href="http://rpod.ru/">rpod.ru</a> : about 10% of the audience listened to us through this site, but it‚Äôs easy to subscribe to.  And there is a volume control on the player. <br><br>  It would be correct not to show off and go stop the German podcast about OSM, which rolled the <a href="http://podlove.org/podlove-podcast-publisher/">Podlove</a> plugin on regular WordPress.  The result is somewhat technologically monstrously, but pleasing in appearance, and allows, for example, fast navigation within the podcast through tags.  I found another option this week: the We Build podcast blog is hosted on <a href="https://github.com/webuildsg/live">GitHub Pages</a> , i.e.  on static jekyll templates. <br><br>  To publish only on rpod is fraught with: so, I could not download the fifth transfer because of an idiotic error about exceeding the amount, which is not explained (files of 40 megabytes in total), only a couple of disappointed replicas of the same podcasters. <br><br><h2>  JACK time </h2><br>  Experts of sound processing in our little chapters made me switch to the advanced audio subsystem JACK, and I, of course, could not resist, pushed by curiosity, the desire to get rid of the 200 ms loopback delay and hope for the charm of IDJC (see below).  It turned out that 1) to work with JACK, you no longer need to remove or disable PulseAudio, and it can be turned on and off as desired - for example, only to record a program.  And 2) for some reason all the necessary packages are already installed in Fedora out of the box.  It remains only to <i>install qjackctl</i> and run it. <br><br>  Of course, this panel immediately complained about the curve setting.  He says, let's turn on realtime scheduling in your Linux.  Again, it turned out that for this <a href="http://jackaudio.org/faq/linux_rt_config.html">you</a> do <a href="http://jackaudio.org/faq/linux_rt_config.html">not need to change the kernel</a> , it is enough to edit <code>/etc/security/limits.conf</code> .  And again, someone in Fedor did it for me: judging by <code>/etc/security/limits.d/95-jack.conf</code> , it suffices to add yourself to the jackuser group.  And for this you need to re-log.  I never logged out to KDE, I had to google it. <br><br>  Run QjackCtl again.  In the settings I specified the required microphone and output, and most importantly - in the ‚ÄúMisc‚Äù tab, enable ‚ÄúEnable D-Bus interface‚Äù, and the next tick, about turning off JACK on exit.  It seems that these are all settings of the audio subsystem, you can click Start - and launch the desired Internet DJ Console. <br><br><h2>  And finally, the IDJC </h2><br>  This console, many advise for the organization of a simple radio station.  She is tuned to the broadcast of music and mixes, but she is able to properly handle the voice of a DJ.  As it should be an advanced console, it scares the number of buttons and levers: <br><br><img src="https://habrastorage.org/files/aa7/482/13f/aa748213f41d46ff9ab1a2677a5d8fba.png" width="700"><br><br>  In fact, all, of course, easy.  Two panels of music, below - a crossfader to switch between them (the ‚ÄúPass‚Äù button switches smoothly).  There is a DJ channel and a broadcast channel (‚ÄúStream‚Äù), they are separate: for example, you can turn off the music for the DJ, or vice versa, check the second playlist while the first is playing on the radio.  On the right is a bunch of indicators, the most interesting is the number under the headphones, the number of listeners.  The buttons below include the broadcast of the presenter's voice and streams from other channels (in the picture - the final version, after Mumble, about which further).  A few descriptions and a link to the textbook is <a href="http://idjc.sourceforge.net/tour.html">on the project website</a> . <br><br>  All settings are hidden under the button on the bottom left.  In the Preferences, I included separate volume controls for playlists: in the first one there is a quiet background melody repeated in a circle, in the second pre-air songs and interviews.  The ‚ÄúChannels‚Äù tab can confuse: at the same time, the buttons at the bottom of the player, which open the channels, and these channels themselves are configured.  It shows that the sound from the microphone is driven through a bunch of filters, including the High Pass, limiter, noisegate, etc.  If you spend time setting up (not only for yourself, but also for the co-facilitators), post-processing may not be necessary.  I have not spent.  For starters, the first channel is enough, which is with a microphone. <br><br>  The translation is configured in the "Output".  They can be up to six (in different quality and formats).  Below - a button to write to the file.  For me, for some reason, it only works once per session, I have to restart.  What is not obvious in this window is to activate the broadcast, you need to open "Individual Controls" and click the button with the server address there.  Perhaps it's easier to turn on the checkboxes above and click "Connect", I do not know. <br><br><img src="https://habrastorage.org/files/264/c80/ea8/264c80ea81aa43e594795cc3a26eac1b.png"><br><br>  This vermicelli is the QjackCtl window under the Connect button.  The system section is a microphone and speakers, in PulseAudio only Skype is broadcasting, so I did not make a separate sink for it.  JACK does all this routing by default, I just added vectors from PulseAudio to the voip_in section of the IDJC.  This makes the buttons with phones workable: red is useless, but green mixes sound from Skype to broadcast.  When I need to launch an interview, I pull in additional links from str_out to PulseAudio (with a simple drag and drop).  To remove the connection, you need to select the source on the left, the receiver on the right, click on the last right button and "Disconnect". <br><br>  The problem of the loopback delay, the new configuration, however, did not solve.  All the same 0.2 seconds.  But it is easier to raise, and somehow in an adult way. <br><br><h2>  Do you sell go mic? </h2><br>  Less than a month later, as a lavalier microphone finally knocked me out with noises and low volume, and I decided to replace it.  All manuals for newcomers to the podcasts recommended taking a USB microphone, and between the $ 200 <a href="http://www.rodemic.com/microphones/podcaster">Rode</a> and the two- <a href="http://www.samsontech.com/samson/products/microphones/usb-microphones/gomic/">handed Samson Go Mic,</a> I chose the latter.  It is easy to find it in stores, it is more difficult to keep a serious face expression, dictating the name to the seller.  It is about the size of a good lighter. <br><br>  And, of course, in comparison with my past microphones - heaven and earth.  Sensitivity is such that you can hear the purring of a cat sleeping in the next room, and draining the water three floors below.  But you do not need to shout, you do not need to hold the microphone in your mouth, and thanks to the USB connector, a cheap external sound device went to the shelf (my laptop does not have a microphone input).  The pop filter does not seem to be critical for this microphone, but the rack needs to be searched. <br><br>  Suddenly, Go Mic solved the problem with the loopback delay in the headphones: he has his own sound card inside, which mixes the signal from the computer with the voice in the microphone.  Since the signal does not scroll in the computer, the delay is zero.  Finally, my own echo doesn't bother me.  It was not easy to turn off the loopback in IDJC: I found the ‚ÄúIn The DJ's Mix‚Äù checkboxes, but if you press the VoIP button, the echo returns, and what to do with it is incomprehensible.  I decided to abandon the buttons with the phones, screwing Skype on the fourth channel and making for it the button next to the ‚ÄúDJ‚Äù - as for Mumble. <br><br><h2>  Mumble instead of Skype </h2><br>  The problem with voice conferencing on Skype is unpredictability.  The presenter with the broadcast will almost certainly not be the admin, and the voices of the co-presenters will go long and hard.  Someone accidentally turns off - and takes with them all the interlocutors.  Finally, Linux skype sometimes crashes out just like that, unmotivated.  Several alternatives, I chose the most popular and open source: Mumble.  The presence of clients attracted not only under all desktop OSes, but also for iOS and Android. <br><br>  The server, Murmur, is put in two accounts at all: register the server password in <code>/etc/murmur/murmur.ini</code> (the default settings are adequate), start and register the daemon‚Äôs autorun, open port 64738 for tcp and udp. <br><br>  With the client more difficult.  After installation, of course, you need to go through the setup wizard.  Required.  Do not forget to plug in headphones, because there will be an echo.  I managed to connect to the server somehow after a couple of restarts, but to connect Mumble with JACK - no.  It turned out that this subsystem is simply not supported.  The corresponding <a href="http://sourceforge.net/p/mumble/patches/324/">patch was</a> loaded almost four years ago, but was never accepted.  Therefore, you need to download the source, roll the patch yourself and build the application. <br><br>  It sounds difficult, but from my past with ArchLinux, I remember about AUR.  This is an amazing repository, the best I've ever seen in Linux, and the only thing I regret is when I leave Archa.  The AUR database entries are instructions for preparing an installation package of <s>dirt and sticks of</s> source codes and patches, while the user is no more difficult than the usual <code>pacman -S</code> .  For Mumble, there is an assembly from snapshot, an assembly from a gita, an assembly from a gita using the JACK patch and an assembly from the sources of a stable version with this patch.  Open the <a href="https://aur.archlinux.org/packages/mu/mumble-jack/PKGBUILD">pkgbuild last</a> , download the patch and execute the instructions from <code>prepare()</code> and <code>build()</code> .  Assembly instructions (without patch) are <a href="http://wiki.mumble.info/wiki/BuildingLinux">in the mumble wiki</a> .  The main thing - do not forget about the package <code>jack-...-devel</code> .  The assembled application did not install in <code>/usr</code> , I run from the build directory.  In the settings you will need to enable JACK and disable all tinsel, such as echo and positional audio. <br><br>  I can't get rid of Skype: I want to leave it for receiving calls from listeners and for guests who do not have time to set up a mumble.  The signal routing graph turned into an incomprehensible vermicelli: <br><br><img src="https://habrastorage.org/files/fe8/0f6/fac/fe80f6fac3474b31b7e34f857903a6ff.png"><br><br>  I'll try to explain.  The sound from the microphone goes to 1 and 2 channels IDJC (as usual), to the mumble and to Skype.  Only dj_out from IDJC goes into headphones.  The output of the mumble is bolted to channel 3, Skype to 4 (stereo to mono), no shamanism with voip.  Finally, Skype and Mumble are connected in both directions so that the guest and the presenter can hear each other. <br><br>  What to do with interview recordings that should be heard on skype and mumble?  Alas, hands to stretch a few more links, from str_out there and there.  And turn off the broadcast of all four channels in the IDJC, of ‚Äã‚Äãcourse.  Despite the complexity of the system, I don‚Äôt want to roll back to PulseAudio: communication in QjackCtl is faster and clearer to correct than in the ‚Äúvolume control‚Äù and it is easier to work in one IDJC than to coordinate VLC, gstreamer and ‚Äúcontrol‚Äù. <br><br><h2>  Headless Radio </h2><br>  Even regardless of the technical part (I am sure, the podcasting professionals will criticize me), there is much to develop the system.  Now I do not like the dependence of the broadcast on my laptop.  And what if I'm on the road, or forgot a laptop?  For this purpose, I plan to push the robot murmur to the server, which will include all the buddies in the file in an hour - (as the Mumble desktop client can do), and with a button somewhere on the web under the password will start and then stop the broadcast on the icecast server.  The main thing is to maintain the weekly schedule online, and you can collect the podcast later.  In this configuration, I will be able to broadcast even from a smartphone. <br><br>  Need a bar and a pop filter for the microphone, yes.  Still lazy to poke connectors in JACK, you need to write a script.  Adjust the microphone filters so that you do not have to clean the recording from noise every time in Audacity.  Fix, finally, the RSS in the podcast blog.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">All this stuff, the main thing - we took and did, now our community has a predictable, regular broadcast, in which you can participate both through the IRC channel and with your voice. </font><font style="vertical-align: inherit;">Hearing the voices of the participants, after all, is not at all like reading them on the forum: the community seemed to have received a new dimension, people became visible behind the words.</font></font></div><p>Source: <a href="https://habr.com/ru/post/239541/">https://habr.com/ru/post/239541/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../239531/index.html">On the road to professional use of modern OCR. Understanding FineReader</a></li>
<li><a href="../239533/index.html">Setting the nanoCAD environment for advanced users</a></li>
<li><a href="../239535/index.html">Your own AWS. Part 1</a></li>
<li><a href="../239537/index.html">How to collect a million on Kickstarter?</a></li>
<li><a href="../239539/index.html">3D printing in the service of prosthetists</a></li>
<li><a href="../239543/index.html">The use of neural networks in robotics: prospects and advantages</a></li>
<li><a href="../239545/index.html">Making an HTML5 quest: creating a character and basic animation</a></li>
<li><a href="../239549/index.html">Demonstration of vulnerabilities in Liqpay</a></li>
<li><a href="../239553/index.html">SAP security. Do you regularly install updates?</a></li>
<li><a href="../239555/index.html">Intel¬Æ Parallel Studio XE 2015 - Talk About New Names and "Chips"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>