<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Gothic Recognition: how we helped digitize the National Library of Latvia</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Today we want to tell you how the publications of the National Library of Latvia were digitized. If you follow our blog, you probably read how our tec...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Gothic Recognition: how we helped digitize the National Library of Latvia</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/916/f30/fc6/916f30fc68dd46a8bb52d0b5946b459f.jpg"><br><br>  Today we want to tell you how the publications of the National Library of Latvia were digitized.  If you follow our blog, you probably read how our technologies help digitize the literary heritage of <a href="https://habrahabr.ru/company/abbyy/blog/128104/">various libraries</a> , as well as articles on individual projects - digitization in the <a href="https://habrahabr.ru/company/abbyy/blog/266987/">Sakhalin Library</a> , the Royal <a href="https://habrahabr.ru/company/abbyy/blog/116330/">Botanical Garden of</a> Edinburgh and <a href="https://habrahabr.ru/company/abbyy/blog/134651/">the Hartley Library</a> .  Today is a story about how it was in Riga.  So, the National Library of Latvia - the largest in the country, founded in 1919, has a 4.5 million collection of books and documents, including in the Latvian language in a unique Gothic writing. <a name="habracut"></a><br><br>  Since the XVI century, the recording of all texts was conducted in Gothic type, confirmation of this is the oldest printing monuments in Latvian: the Catholic Catechism P. Canisia (Vilnius, 1585) and the Small Catechism by M. Luther (Koenigsberg, 1586).  Gothic font was used to write the Latvian language until the twentieth century.  The most interesting thing is that it differed from the many familiar (and already familiar to us) German languages ‚Äã‚Äãin the Gothic version. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/d0f/27f/bf2/d0f27fbf290d4898bb8e9ed37c50820f.jpg"><br><br><img src="https://habrastorage.org/files/bbb/39c/494/bbb39c4943754a24a2c46074bb883425.jpg"><br><br>  It was originally planned to process materials that are physically damaged or popular among readers, or are considered historically important.  They had to be ‚Äúsaved‚Äù, at least in digital form.  The approximate amount of work was 2.5 thousand pages of periodicals, which is equal to about 1000 of the publications themselves and 1.5 million pages of books - about 7,000 pieces. <br><br><h1>  Dating history </h1><br>  By the time of our acquaintance, the library had already collaborated with a digitization service provider company, which, in turn, used ABBYY OCR technologies.  But it was impossible to recognize scans - the problem was that our technologies could not ‚Äúsee‚Äù Latvian Gothic correctly, since they were not trained in such symbols.  Then the library turned to ABBYY. <br><br><h1>  Gothic Recognition </h1><br>  By that time, our <a href="https://www.abbyy.com/ru-ru/ocr-sdk/%3Futm_source%3Dhabrahabr.ru%26utm_medium%3Dpost%26utm_campaign%3Dhabr1705">ABBYY FineReader Engine</a> had already supported the gothic font, but the Latvian gothic was different from the similar and known German one.  To teach the product a new font, I had to add a lot of new characters. <br>  A package of images came from the library.  This is part of the first package. <br><br><img src="https://habrastorage.org/files/a11/7ae/e31/a117aee31bc24f59880aca8ad02a8384.jpg"><br><br><img src="https://habrastorage.org/files/c12/d29/e56/c12d29e56ed94b518489f51821d82cfa.jpg"><br><br>  We took a small part of the images from this package and divided it into two bases: a training one, according to which graphemes are taught, and a test one, with which we verify the correctness of recognition.  Grapheme is a specific way to graphically represent a symbol.  The relationship between symbols and graphemes is quite complicated - in European languages, a single grapheme can correspond to several symbols (a small "c" and a large "C" in Latin and Cyrillic are all one grapheme), and a single symbol can correspond to several graphemes (the letter "a" in different fonts may be indicated by different graphemes). <br><br><img src="https://habrastorage.org/files/c2b/c34/3be/c2bc343bea8f45328014c3e05826e62e.png"><br><br>  We add graphemes, and then for each grapheme with the help of classifiers (we have several, for example, omnifont, contour and raster - we wrote about the work of classifiers here in detail) feature vectors are selected so that many images of this grapheme are divided into groups (clusters) , inside each of which all the images are most similar to each other and at the same time the images from different groups were not as similar as possible.  Thus, it is possible to calculate the basic confidence that a character encountered in text recognition is some kind of grapheme (it will belong to a certain cluster of this grapheme with some certainty). <br><br>  In case there were several possible options for recognition of the same image, differential pairs are compiled.  These are pairs of different graphemes, which are similar to each other and, accordingly, can be confused.  For such couples, different traits are distinguished by which they can be distinguished. <br><br>  Some of them are shown below. <br><br><img src="https://habrastorage.org/files/c0e/4ac/beb/c0e4acbebef342beb8bd16c096fc05f6.png"><br><br><img src="https://habrastorage.org/files/c51/27b/a52/c5127ba52b3f482885aadb8c78faf438.png"><br><br><img src="https://habrastorage.org/files/13a/144/477/13a144477953438db2d6fd5f9af2b8dd.png"><br><br>  After all the signs are described and the program on the test package of images shows less than 5% of errors (95% accuracy is generally sufficient to assume that we support the language as a first approximation), the work on adding a font can be considered complete.  In total, we added 39 characters.  We made a version of the FineReader Engine with a new font and sent it to the library.  A little later we were sent another batch of images - there were characters in it that were not in the first batch.  And everything started all over again - of course, the new introductory ones turned out to be smaller in terms of volume, anyway, the technology had to be ‚Äúretrained‚Äù. <br><br><h1>  Change is inevitable </h1><br>  Finally, the FineReader Engine with Gothic support in Latvian writing was ready.  When we sent it to the client, it turned out that the library had ceased to cooperate with the former digitization service provider.  For us, this meant that there was no one to embed our SDK into the final product, which was supposed to recognize the books.  We had no choice but to convert the Engine into the final product - as a result, in one day we made an application that took all the images from one folder and put the recognition result in a given format into another folder - a very much simplified analogue of <a href="https://www.abbyy.com/ru-ru/recognition-server/%3Futm_source%3Dhabrahabr.ru%26utm_medium%3Dpost%26utm_campaign%3Dhabr1705">ABBYY Recognition Server</a> .  In the meantime, the library management was looking for a replacement for a company that provides digitization and maintenance services for library software.  The choice fell on the German company CCS, which has already worked with our products and technologies.  It was enough for them to simply embed a ready-made Engine with a gothic font in their system and start working. <br><br>  And, as is customary in such stories, there are some statistics at the end.  A little more than a year it took to process 4 million pages of ancient books and modern editions.  During the peak periods of the project 60, scanning and verification operators had to work on three eight-hour shifts daily. <br><br>  Digital versions of the books of the National Library of Latvia can be found at <a href="http://www.periodika.lv/">www.periodika.lv</a> . </div><p>Source: <a href="https://habr.com/ru/post/300918/">https://habr.com/ru/post/300918/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../300902/index.html">Get leads through ads on Facebook</a></li>
<li><a href="../300906/index.html">Notes on Percona Live 2016 CA</a></li>
<li><a href="../300908/index.html">FlexboxLayout - part 1</a></li>
<li><a href="../300910/index.html">On the eve of the Confrontation: the participants of PHDays VI –°ityF - about who who</a></li>
<li><a href="../300916/index.html">Blind programmer and fake coin</a></li>
<li><a href="../300920/index.html">The program of the cloud track of the DevCon 2016 conference has been finalized</a></li>
<li><a href="../300922/index.html">Happy birthday, Alan Key«É (or how to get +80 to IQ)</a></li>
<li><a href="../300924/index.html">Honor cup</a></li>
<li><a href="../300926/index.html">Report from the RISSPA workshop April 20</a></li>
<li><a href="../300928/index.html">Why is it worth hiring a junior</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>