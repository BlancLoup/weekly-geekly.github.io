<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>When AES (‚ò¢) = ‚ò† - cryptobinary focus</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="An expert in reverse engineering, Ange Albertini from Corkami, was jokingly asked if it was possible to generate a JPEG picture, which, after being pr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>When AES (‚ò¢) = ‚ò† - cryptobinary focus</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/5e3/c99/3e7/5e3c993e7880578e9da9b1291d325fcf.png"><br><br>  An expert in reverse engineering, Ange Albertini from Corkami, was jokingly asked if it was possible to generate a JPEG picture, which, after being processed with the AES cipher, would again become a valid JPEG.  Ange <a href="https://twitter.com/v6ak/status/427107991620317184">accepted the challenge</a> , and according to the results of the study published a <a href="https://speakerdeck.com/ange/when-aes-equals-episode-v">presentation</a> explaining how this is done with different formats. <br><a name="habracut"></a><br>  ‚ÄúYou don‚Äôt even need to know AES or JPEG, it‚Äôs too difficult,‚Äù writes Albertini.  ‚ÄúWe'll just play Lego cubes.‚Äù <br><br>  AES is a block cipher that completely changes the ciphertext as a result of changing at least one byte in the original text.  It seems that there is no way to control the contents of the ciphertext. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      A file of a specific format usually begins with a signature (for JPG, the signature \ xFF or \ xD8 is used), followed by several sections, among which are the necessary sections, but there are optional, followed by a file termination marker.  After the marker, you can add arbitrary content (junk). <br><br>  The block cipher has several modes (CBC, OFB, CFD, etc.), for which the parameter IV is valid, which provides for the selection of external data for use in the encryption process.  Although this data is assumed to be random, in practice we can slip such data that fragment A at the beginning of the source text will always turn into fragment B in a ciphertext.  Thus, we can control the contents of the first block, that is, the signature of the file format. <br><br>  We can also use the decrypt function to decrypt arbitrary text.  If we need a certain type of ciphertext (a certain picture), then we simply pre-decrypt it with the X key, and then we encrypt the result with the same X key to get the desired text.  We will inject this data in junk after the end of file marker. <br><br>  The action algorithm looks something like this. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bd4/9a9/24e/bd49a924ec9e7487c0ac66fbda186a94.png"><br><br>  Albertini was able to encrypt PDF to PDF and JPG to JPG, PNG to PNG and FLV to FLV, and ZIP to PNG in this way.  The relevant examples of files and code see <a href="https://code.google.com/p/corkami/source/browse/">here</a> . <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/wbHkVZfCNuE%3Ffeature%3Doembed&amp;xid=17259,15700023,15700186,15700190,15700253&amp;usg=ALkJrhgRKxpHkP3vtFuNdOCxXKhtEEsxqg" frameborder="0" allowfullscreen=""></iframe></div><p>Source: <a href="https://habr.com/ru/post/224205/">https://habr.com/ru/post/224205/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../224191/index.html">Minification of Ext JS and Sencha Touch applications using ASP.NET</a></li>
<li><a href="../224193/index.html">Through hardship to the stars. To the imperatives of cosmic colonialism</a></li>
<li><a href="../224195/index.html">Writing a Simple SailsJS Blog: Visual Practice for Beginners (Part 1)</a></li>
<li><a href="../224197/index.html">Sunduk or 10 seconds per name</a></li>
<li><a href="../224199/index.html">RESTful API on Yii framework with RBAC and tests</a></li>
<li><a href="../224207/index.html">Implementing a quick import from Excel to PHP</a></li>
<li><a href="../224209/index.html">InterSystems Ensemble 2014 Integration Platform Release</a></li>
<li><a href="../224217/index.html">Announcement - Artem Gavrichenkov from Qrator will tell in Moscow about DDoS attacks</a></li>
<li><a href="../224221/index.html">Learning through lectures is inefficient, scientists say</a></li>
<li><a href="../224223/index.html">[libGDX] Writing a full game for Android. Part 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>