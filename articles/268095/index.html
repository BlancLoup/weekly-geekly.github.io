<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Two types of applications for Bitrix24</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content=""Bitriks24" is a complete set of tools for organizing the work of the company. Here you will find everything you need to create communications within ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Two types of applications for Bitrix24</h1><div class="post__text post__text-html js-mediator-article">  "Bitriks24" is a complete set of tools for organizing the work of the company.  Here you will find everything you need to create communications within the team, to manage tasks and projects, to work with various documents, CRM, communications, and much more.  Often there are situations when standard cloud service tools fail to solve a particular business problem.  Using the <a href="https://www.bitrix24.ru/apps/api.php">open API,</a> clients and developers can easily adapt the ‚Äúcloud‚Äù to their specific tasks, customizing business logic. <br><br>  If desired, the toolkit can be expanded using self-developed applications, which are divided into two types: <br><br><ul><li>  internal (cloud) </li><li>  external (server) </li></ul><br>  Many of our partners create their own applications for Bitrix24.  Someone does this only for their own needs, someone makes it publicly available for free, and someone can earn money from it.  One of our partners once also became interested in the development for Bitrix24, and achieved impressive results in this - its applications are already used by more than 30 thousand Bitrix24 portals.  And if you also planned to develop an application for your needs, then recommendations and advice from our partner may be useful to you. <br><a name="habracut"></a><br>  Internal applications always work inside the Bitrix24 interface.  External can work both inside and outside the interface.  Both types of applications use <a href="https://dev.1c-bitrix.ru/rest_help/">REST API</a> for their work, therefore they have equal opportunities for data processing and use. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      If you want to develop your own application for "Bitrix24", then choosing the type - external or internal - you need to be guided by the tasks and the means necessary for this. <br><br><h3>  Internal applications </h3><br>  Internal applications in their work use HTML + JavaScript + CSS.  You cannot use tools such as PHP, mySQL and cron.  But this does not mean that you can create only simple applications like the ‚Äú <a href="https://www.bitrix24.ru/apps/%3Fapp%3Dhtmls.ProdCalend">Production calendar</a> ‚Äù.  You are free to use in your application any JavaScript framework, for example, jQuery.  It is possible to connect remote libraries: for example, using Google Charts you can create a variety of graphical reports, like in the <a href="https://www.bitrix24.ru/apps/%3Fapp%3Dhtmls.chart">Diagrams and Charts</a> application.  The most interesting thing in it is the publication of the created chart in a live tape.  It looks like this: <br><br><pre><code class="javascript hljs">&lt;script&gt; fields = {<span class="hljs-attr"><span class="hljs-attr">POST_TITLE</span></span>: varTitle, <span class="hljs-attr"><span class="hljs-attr">POST_MESSAGE</span></span>: varMessage}Õæ BX24.callMethod(<span class="hljs-string"><span class="hljs-string">'log.blogpost.add'</span></span>, fields, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">result</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!result.error()){ <span class="hljs-comment"><span class="hljs-comment">//  } else{ //    } })Õæ &lt;/script&gt;</span></span></code> </pre> <br>  This message will be received by all portal users. <br><br>  In the case of using the server application in PHP, the above code may look like this: <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?</span></span> $arFields = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">"auth"</span></span> =&gt; $auth, <span class="hljs-string"><span class="hljs-string">"POST_TITLE"</span></span> =&gt; $imTitle, <span class="hljs-string"><span class="hljs-string">"POST_MESSAGE"</span></span> =&gt; $imMessage, <span class="hljs-string"><span class="hljs-string">"SPERM"</span></span>=&gt; <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'U'</span></span>=&gt;explode(<span class="hljs-string"><span class="hljs-string">','</span></span>, $user)) )Õæ $url = <span class="hljs-string"><span class="hljs-string">'https://'</span></span> . $domain . <span class="hljs-string"><span class="hljs-string">'/rest/log.blogpost.add.json'</span></span>Õæ $res = file_get_contents($url . <span class="hljs-string"><span class="hljs-string">'?'</span></span> . http_build_query($arFields))Õæ <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span></code> </pre><br>  This message will be received only by those users specified in the SPERM parameter. <br><br>  Of course, the scope of internal applications is very wide and is not limited to these examples.  With their help, you can perform all sorts of data operations.  For example, select all transactions for the counterparty for a certain interval, calculate their amount and, depending on it, set the value of the user field ‚ÄúDiscount percentage‚Äù. <br><br>  Generally, a bunch of REST API + HTML + JavaScript gives the widest scope for creativity when creating internal applications for Bitrix24.  Easier to list restrictions.  For example, you cannot use a database to collect information, you cannot use cron to launch an application or its functions on a schedule, fail to respond to CRM events or implement an exchange with an external service. <br><br>  If you need something from the above, you will need to create an external (server) application. <br><br><h3>  External (server) applications </h3><br>  An application of this type is scripts that reside on the developer's server.  When implementing such applications, the developer can use all the tools available to him (libraries, databases, special services, ...) to solve the problems posed. <br><br>  Server applications can be divided into two subtypes: <br><ul><li>  working inside the Bitrix24 interface; </li><li>  working in the external environment. </li></ul><br>  There is a small requirement for server applications - to keep logs of REST API calls for resolving technical support issues. <br><br>  From the point of view of the implementation of internal logic, there is no fundamental difference between these subtypes.  They differ only in the way they connect to Bitrix24 and extend data access. <br><br>  Applications running inside the interface are easier to connect.  In principle, as such, the connection procedure and no, you just need to install the application.  To work with the data he needs to periodically update the access key, which is carried out automatically. <br><br>  Applications running outside the Bitrix24 interface require certain actions to connect and extend access keys.  Both of these processes are described in the REST API <a href="https://dev.1c-bitrix.ru/learning/course/index.php%3FCOURSE_ID%3D43%26CHAPTER_ID%3D05379%26LESSON_PATH%3D3913.5377.5379">documentation</a> . <br><br>  The application must be external if you need, say, to use PHP to generate files.  As an example, the " <a href="https://www.bitrix24.ru/apps/%3Fapp%3Dhtmls.docdesigner">Document Designer</a> ".  This application creates documents in .PDF and .DOCX format based on data from CRM and a custom document template.  In such a scheme, Bitrix24 is a ‚Äúserver‚Äù, and the application is a ‚Äúclient‚Äù. <br><br><img src="https://habrastorage.org/files/cea/37e/c18/cea37ec18fe740c9894b5fa524d8f3a1.jpg"><br><br>  One of the features of the "Document Designer" is to send files by e-mail with the linking of the shipment to the CRM entities.  You can do it like this: <br><br><pre> <code class="javascript hljs">&lt;script&gt; files = [ {<span class="hljs-attr"><span class="hljs-attr">fileData</span></span>: [fileName, base64_string]} ]Õæ arEmail = [ {<span class="hljs-attr"><span class="hljs-attr">VALUE</span></span>: <span class="hljs-string"><span class="hljs-string">'email@email.ru'</span></span>} ]Õæ BX24.callMethod( <span class="hljs-string"><span class="hljs-string">"crm.activity.add"</span></span>, { <span class="hljs-attr"><span class="hljs-attr">fields</span></span>: { <span class="hljs-string"><span class="hljs-string">"OWNER_ID"</span></span>: ownerId,<span class="hljs-comment"><span class="hljs-comment">// dealId, etc. "OWNER_TYPE_ID": ownerTypeId, // 1=lead, 2=deal, 3=contact, 4=company "TYPE_ID": 4, // 1=meeting, 2=calling, 3=task, 4=email "COMMUNICATIONS": arEmail, "SUBJECT": Subject, "AUTHOR_ID": currentUserId, "START_TIME": dateStr, "END_TIME": dateStr, "COMPLETED": "Y", "PRIORITY": 2, // 1=low, 2=middle, 3=high "RESPONSIBLE_ID": currentUserId, "DESCRIPTION": Message, "DESCRIPTION_TYPE": 3, // 1=plain text, 2=bb code, 3=html "DIRECTION": 2, // 1=incoming, 2=outgoing "WEBDAV_ELEMENTS": files } }, function(result) { } )Õæ &lt;/script&gt;</span></span></code> </pre><br>  Another example of an external application is integration with the MoiSklad service.  It uses the REST API ‚ÄúBitrix24‚Äù and the REST API of the ‚ÄúMoysklad‚Äù service.  The application can work automatically with the cron scheduler.  In this case, we have two "servers" ("Bitrix24" and "MoySklad") and one "client" - the application. <br><br>  It allows you to create accounts that are tied to CRM and can participate in the further exchange with 1C: Enterprise with standard Bitrix24 tools.  Sample code for creating a report: <br><br><pre> <code class="javascript hljs">&lt;? $arFields = array(<span class="hljs-string"><span class="hljs-string">'auth'</span></span>=&gt;$auth)Õæ $arFields[<span class="hljs-string"><span class="hljs-string">'fields'</span></span>] = array( <span class="hljs-string"><span class="hljs-string">'ORDER_TOPIC'</span></span> =&gt; $orderTopic, <span class="hljs-string"><span class="hljs-string">"STATUS_ID"</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">"P"</span></span>, <span class="hljs-string"><span class="hljs-string">"UF_COMPANY_ID"</span></span> =&gt; $companyId, <span class="hljs-string"><span class="hljs-string">"UF_DEAL_ID"</span></span> =&gt; $dealId, <span class="hljs-string"><span class="hljs-string">"PAY_SYSTEM_ID"</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">"PR_LOCATION"</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">"PERSON_TYPE_ID"</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">"DATE_INSERT"</span></span> =&gt; date(<span class="hljs-string"><span class="hljs-string">'c'</span></span>, $bg), <span class="hljs-string"><span class="hljs-string">"DATE_BILL"</span></span> =&gt; date(<span class="hljs-string"><span class="hljs-string">'c'</span></span>, $bg), <span class="hljs-string"><span class="hljs-string">"INVOICE_PROPERTIES"</span></span> =&gt; array(<span class="hljs-string"><span class="hljs-string">'LOCATION'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>), <span class="hljs-string"><span class="hljs-string">'PRODUCT_ROWS'</span></span> =&gt; array( array( <span class="hljs-string"><span class="hljs-string">"ID"</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">"PRODUCT_ID"</span></span> =&gt; $productId, <span class="hljs-string"><span class="hljs-string">"PRODUCT_NAME"</span></span> =&gt; $productName, <span class="hljs-string"><span class="hljs-string">"QUANTITY"</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">"PRICE"</span></span> =&gt; $productPrice ) ) )Õæ $url = <span class="hljs-string"><span class="hljs-string">'https://'</span></span>.$domain.<span class="hljs-string"><span class="hljs-string">'/rest/crm.invoice.add.json'</span></span>Õæ $res = PostUrl($url, $arFields)Õæ ?&gt;</code> </pre><br>  PostUrl is a helper function that sends a request to the server. <br><br>  As examples of external applications that work outside of Bitrix24, you can cite <a href="https://www.bitrix24.ru/apps/%3Fapp%3Dhtmls.moysklad">Business Card Scanner</a> and <a href="https://www.bitrix24.ru/apps/%3Fapp%3Dhtmls.mobiletasks">Widget for Android</a> .  They both work on mobile devices, but the data for their work is taken from Bitrix24.  As an analogy, you can give a client proxy scheme.  In this case, the ‚Äúclient‚Äù is the mobile device, ‚Äúproxy‚Äù is the application itself, and the ‚Äúserver‚Äù is the Bitrix24 portal. <br><br><img src="https://habrastorage.org/files/e2f/0b4/ad9/e2f0b4ad9f2145f5a6878426ee1f91e5.jpg"><br><br><h3>  Server </h3><br>  For an external application, you will need your own server, where your scripts, databases, etc. will be placed. <br><br>  It is preferable to have your own server, physical or virtual.  First, you can manage and use all available resources.  Secondly, you will have the opportunity to install all the necessary modules and software versions.  Virtual hosting does not always allow to achieve the desired result and ensure the speed of work and the necessary uptime. <br><br>  All data used by the server application is stored in a special object of the type ‚ÄúStorage‚Äù within each Bitrix24 portal.  The application does not collect any personal user data.  To work with it, only the portal administrator e-mail is used, which is not related to the working data.  Therefore, you can freely place the application with Western providers, while not violating the <a href="https://ru.wikipedia.org/wiki/%25D0%25A4%25D0%25B5%25D0%25B4%25D0%25B5%25D1%2580%25D0%25B0%25D0%25BB%25D1%258C%25D0%25BD%25D1%258B%25D0%25B9_%25D0%25B7%25D0%25B0%25D0%25BA%25D0%25BE%25D0%25BD_%25C2%25AB%25D0%259E_%25D0%25BF%25D0%25B5%25D1%2580%25D1%2581%25D0%25BE%25D0%25BD%25D0%25B0%25D0%25BB%25D1%258C%25D0%25BD%25D1%258B%25D1%2585_%25D0%25B4%25D0%25B0%25D0%25BD%25D0%25BD%25D1%258B%25D1%2585%25C2%25BB">law 152-FZ</a> . <br><br>  As an application server, you can use VPS running Unix.  The size of the RAM must be at least 512 MB.  Hard drive the more the better.  Be sure to set up a backup and be sure to a different drive. <br><br>  Pay <b><u>special attention</u></b> that the SSL certificate must be installed on the server.  It is very important to install all the certificate chains in order to avoid errors when the application is running.  As a certificate provider, the simplest RapidSSL for 14.5 euros / year is sufficient. <br><br><h3>  Development platform </h3><br>  The server application, of course, can be developed in PHP + MySQL. <br><br>  For our partners and developers, we recommend using the familiar <a href="http://www.1c-bitrix.ru/">‚Äú1C-Bitrix: Site Management‚Äù</a> platform.  This method has several advantages: <br><br><ol><li>  Using all the features of the site management system, for example, cloud backup.  Also, the advantages of the site management system should include a multi-level security protection against all sorts of threats. </li><li>  The ability to use the module "Technical Support" for the organization of quality user support. </li><li>  Using the newsletter module to notify customers about the release of new features of the application. </li></ol><br>  In conclusion, it remains to recall that on the portal "Bitrix24" are already <a href="https://www.bitrix24.ru/apps/">available for download a</a> lot of ready-made applications, the vast majority of which are free.  If you do not find an option that meets your needs, you can always write your application.  I hope this post will help you with this. </div><p>Source: <a href="https://habr.com/ru/post/268095/">https://habr.com/ru/post/268095/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../268081/index.html">Diagnosing the behavior of "cumulative" (rollup) fields in Microsoft Dynamics CRM 2015</a></li>
<li><a href="../268087/index.html">Critical vulnerabilities discovered in TrueCrypt cryptograph</a></li>
<li><a href="../268089/index.html">It's time. Upgrade to Oracle Database 12</a></li>
<li><a href="../268091/index.html">We write Policy server on C ++ for Unity3d</a></li>
<li><a href="../268093/index.html">Unbearable server burden: to the issue of transition to the IaaS model</a></li>
<li><a href="../268097/index.html">Meet HP IT Outsourcing</a></li>
<li><a href="../268101/index.html">New vulnerabilities discovered in Android</a></li>
<li><a href="../268103/index.html">A little about the development of technology and the Internet</a></li>
<li><a href="../268105/index.html">New Exchange Server 2016 has been released</a></li>
<li><a href="../268107/index.html">Fantasy on WebDAV</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>