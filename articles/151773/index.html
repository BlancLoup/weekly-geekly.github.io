<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Creating a cloud-based PHP site with SQL Database and deploying it with Git</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This guide contains information on creating a Windows Azure PHP website with a Windows Azure SQL Database and deploying it using Git. It is assumed th...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Creating a cloud-based PHP site with SQL Database and deploying it with Git</h1><div class="post__text post__text-html js-mediator-article">  This guide contains information on creating a Windows Azure PHP website with a Windows Azure SQL Database and deploying it using Git.  It is assumed that <a href="http://www.php.net/manual/en/install.php">PHP</a> , <a href="http://www.microsoft.com/en-us/download/details.aspx%3Fid%3D29062">SQL Server Express</a> , <a href="http://www.microsoft.com/en-us/download/details.aspx%3Fid%3D20098">Microsoft SQL Server drivers for PHP</a> , a web server and <a href="http://git-scm.com/">Git are</a> installed on your computer.  After completing all the steps, you will get a PHP website with a SQL database running on the Windows Azure platform. <br><br>  <b>Note.</b>  You can use <a href="http://www.microsoft.com/web/downloads/platform.aspx">the Microsoft Web Platform Installer</a> to install and configure PHP, SQL Server Express, Microsoft SQL Server drivers for PHP, and IIS. <br><br>  What will be discussed in this guide: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  How to create a Windows Azure website and SQL database using the management portal (preview).  Since PHP is enabled by default on Windows Azure websites, no special actions are required to run PHP code. </li><li>  How to publish and re-publish applications on Windows Azure platform using Git. </li></ul><br>  By following the instructions in this tutorial, you will create a simple PHP web application for registration.  This application will be posted on the Windows Azure website.  A screenshot of the finished application is shown below: <br><a name="habracut"></a><br><img alt="Windows Azure PHP Website" src="http://www.windowsazure.com/media/devcenter/php/running_app_3.png" width="550" height="357"><br><br><h3>  Creating a Windows Azure website and setting up Git publishing.  Create a Windows Azure account </h3><br>  Open a web browser and go to <a href="http://www.windowsazure.com/">http://www.windowsazure.com</a> .  To get started using your free account, click in the upper right corner of the <b>Free Trial</b> and follow the steps.  To verify identity, you may need to provide a credit card or mobile phone number.  There is no invoice. <br><br><img title="clip_image004" alt="clip_image004" src="https://habrastorage.org/getpro/habr/post_images/7ec/9a9/b83/7ec9a9b83e59d58310ebdc30845f0568.jpg" width="550" height="380"><br><br><h4>  Enable Windows Azure website </h4><br>  Go to <a href="https://account.windowsazure.com/">https://account.windowsazure.com/</a> and sign in with your Windows Azure account.  Click the <b>preview features</b> item to see the available preview options. <br><br><img title="clip_image006" alt="clip_image006" src="https://habrastorage.org/getpro/habr/post_images/d37/627/34e/d3762734ec7db04a8cc8735f13708dd1.jpg" width="512" height="117"><br><br>  Scroll to <b>Web Sites</b> and click <b>try it now</b> . <br><br><img title="clip_image008" alt="clip_image008" src="https://habrastorage.org/getpro/habr/post_images/c76/9be/ff0/c769beff01279474cd38b95a427ec78d.jpg" width="550" height="133"><br><br>  Select a subscription and check the box. <br><br><img title="clip_image010" alt="clip_image010" src="https://habrastorage.org/getpro/habr/post_images/d62/446/009/d62446009cbac399a592acddd1649635.gif" width="550" height="413"><br><br>  To create a Windows Azure website and SQL database, follow these steps: <br><br>  Sign in to the <a href="http://manage.windowsazure.com/">Windows Azure portal (preview version)</a> .  At the bottom left of the portal, click the <b>+ New</b> icon. <br><br><img title="clip_image011" alt="clip_image011" src="https://habrastorage.org/getpro/habr/post_images/99a/b2d/782/99ab2d78284fe08a553b6f5020b86973.jpg" width="550" height="300"><br><br>  Click <b>WEB SITE</b> , and then <b>CREATE WITH DATABASE</b> . <br><br><img alt="Custom Create a new Website" src="http://www.windowsazure.com/media/devcenter/shared/custom_create.jpg" width="550" height="300"><br><br>  Enter a value in the <b>URL</b> field, select <b>Create a New SQL Database</b> in the <b>DATABASE</b> drop-down list, and specify the data center for the website in the <b>REGION</b> drop-down list.  Click the arrow at the bottom of the dialog box. <br><br><img title="clip_image013" alt="clip_image013" src="https://habrastorage.org/getpro/habr/post_images/22e/140/be5/22e140be57b522aa1ce495d32276072a.jpg" width="550" height="375"><br><br>  Enter a value for the database in the <b>NAME</b> field, select a value for <b>EDITION</b> <a href="http://msdn.microsoft.com/en-us/library/windowsazure/ee621788.aspx">(WEB or BUSINESS)</a> , set the <b>MAX SIZE</b> value for the database and a value for <b>COLLATION</b> , select <b>NEW SQL Database server</b> .  Click the arrow at the bottom of the dialog box. <br><br><img title="clip_image014" alt="clip_image014" src="https://habrastorage.org/getpro/habr/post_images/54b/20f/980/54b20f980b4aa7d3cd73fbcbb4e652c0.jpg" width="550" height="376"><br><br>  Enter the administrator name and password (confirm password), select the region in which the SQL database server will be created, and check the <code>Allow Windows Azure Services to access the server</code> box. <br><br><img title="clip_image015" alt="clip_image015" src="https://habrastorage.org/getpro/habr/post_images/b60/15b/0fc/b6015b0fca7c7616f1362a81e8edb7ec.jpg" width="550" height="372"><br><br>  After creating the website, the message <b>Creation of Web Site '[SITE_NAME]' completed successfully</b> .  You can now enable Git publishing. <br><br>  Click the name of the website displayed in the list of websites to open the quick start panel of the website. <br><br><img title="clip_image016" alt="clip_image016" src="https://habrastorage.org/getpro/habr/post_images/e29/42d/445/e2942d4452744205784741c976d3cd12.jpg" width="550" height="300"><br><br>  At the bottom of the Quick Start page, click <b>Set up Git publishing</b> . <br><br><img title="clip_image017" alt="clip_image017" src="https://habrastorage.org/getpro/habr/post_images/db5/0c9/5da/db50c95da02bccf181233cd1d769e09e.jpg" width="550" height="374"><br><br>  To enable Git publishing, you must specify a username and password.  Remember the created username and password.  (If the Git repository was previously configured, this action is skipped.) <br><br><img title="clip_image018" alt="clip_image018" src="https://habrastorage.org/getpro/habr/post_images/a82/75d/290/a8275d29082fce4fce588b19df78ac41.jpg" width="550" height="396"><br><br>  Setting up the repository will take a few seconds. <br><br><img title="clip_image019" alt="clip_image019" src="https://habrastorage.org/getpro/habr/post_images/127/f00/6f0/127f006f032a38ad436f3a2968db6686.jpg" width="550" height="372"><br><br>  When the repository is ready, instructions will appear on how to place the application files in the repository.  Keep these instructions in mind, as they will be needed later. <br><br><img title="clip_image020" alt="clip_image020" src="https://habrastorage.org/getpro/habr/post_images/43b/1b0/d9a/43b1b0d9ae556c4bca156864e227f22d.jpg" width="550" height="479"><br><br><h3>  Getting information about connecting to a SQL database </h3><br>  To connect to the SQL database instance running on Windows Azure websites, you will need connection information.  To obtain information about connecting to a SQL database, follow these steps: <br><br>  On the Management Portal (Preview), click <b>LINKED RESOURCES</b> , and then click the name of the database. <br><br><img title="clip_image021" alt="clip_image021" src="https://habrastorage.org/getpro/habr/post_images/acf/8da/150/acf8da1503a21439e5423abd2fa22f13.jpg" width="550" height="115"><br><br>  Click <b>View connection strings</b> . <br><br><img title="clip_image022" alt="clip_image022" src="https://habrastorage.org/getpro/habr/post_images/225/8fa/f0b/2258faf0b87c779bdf580a2a1295554c.jpg" width="550" height="209"><br><br>  In the <b>PHP</b> section of the dialog that opens, remember the values ‚Äã‚Äãfor <code>SERVER</code> , <code>DATABASE</code> , and <code>USERNAME</code> . <br><br><h3>  Creating and testing the application locally </h3><br>  The Registration application is a simple PHP application for registering event participants by entering the name and email address of the user.  Information about previous registered persons is displayed in the table.  Registration information is stored in a SQL database instance.  The application consists of two files (the code for copying and pasting is shown below). <br><br><ul><li>  <b>index.php</b> .  Displays the form for registration and a table with data about the registered participant. </li><li>  <b>createtable.php</b> .  Creates a SQL database table for an application.  This file is used only once. </li></ul><br>  To run the application locally, follow these steps.  It assumes that PHP, SQL Server Express and a web server are installed on the local computer and the <a href="http://php.net/pdo_sqlsrv">PDO extension for SQL Server is</a> enabled. <br><br>  Create a SQL Server database named <code>registration</code> .  This can be done from the <code>sqlcmd</code> command line using the following commands. <br><br>  <em>&gt; sqlcmd -S localhost \ sqlexpress -U &lt;local user name&gt; -P &lt;local password&gt;</em> <em><br></em>  <em>1&gt; create database registration</em> <em><br></em>  <em>2&gt; GO</em> <br><br>  In the root directory of the web server, create a folder named <code>registration</code> , and in it create two files, one with the name <code>createtable.php</code> and the other with the name <code>index.php</code> . <br><br>  Open the <code>createtable.php</code> file in a text editor or IDE and add the code below.  This code will be used to create the <code>registration_tbl</code> table in the database. <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">// DB connection info $host = "localhost\sqlexpress"; $user = "user name"; $pwd = "password"; $db = "registration"; try{ $conn = new PDO( "sqlsrv:Server= $host ; Database = $db ", $user, $pwd); $conn-&gt;setAttribute( PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION ); $sql = "CREATE TABLE registration_tbl( id INT NOT NULL IDENTITY(1,1) PRIMARY KEY(id), name VARCHAR(30), email VARCHAR(30), date DATE)"; $conn-&gt;query($sql); } catch(Exception $e){ die(print_r($e)); } echo "&lt;h3&gt;Table created.&lt;/h3&gt;"; </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">?&gt;</span></span></span></span></code> </pre> <br>  <b>Note.</b>  You will need to update the values ‚Äã‚Äãwith both a local SQL Server username and password. <br><br>  Open a web browser and go to the file <a href="http://localhost/tasklist/createtable.php">http: //localhost/registration/createtable.php</a> .  A table will be created in the database. <br><br>  Open the <b>index.php</b> file in a text editor or IDE and add basic HTML and CSS code for the page (PHP code will be added at later stages). <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Title</span></span></span><span class="hljs-tag">&gt;</span></span>Registration Form<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/css"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="css"> </span><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">body</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">background-color</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">#fff</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">border-top</span></span></span><span class="css">: solid </span><span class="hljs-number"><span class="css"><span class="hljs-number">10px</span></span></span><span class="css"> </span><span class="hljs-number"><span class="css"><span class="hljs-number">#000</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">color</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">#333</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">font-size</span></span></span><span class="css">: .</span><span class="hljs-number"><span class="css"><span class="hljs-number">85em</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">margin</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">20</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">padding</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">20</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">font-family</span></span></span><span class="css">: </span><span class="hljs-string"><span class="css"><span class="hljs-string">"Segoe UI"</span></span></span><span class="css">, Verdana, Helvetica, Sans-Serif; } </span><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">h1</span></span></span><span class="css">, </span><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">h2</span></span></span><span class="css">, </span><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">h3</span></span></span><span class="css">,{ </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">color</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">#000</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">margin-bottom</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">0</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">padding-bottom</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">0</span></span></span><span class="css">; } </span><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">h1</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">font-size</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">2em</span></span></span><span class="css">; } </span><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">h2</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">font-size</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">1.75em</span></span></span><span class="css">; } </span><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">h3</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">font-size</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">1.2em</span></span></span><span class="css">; } </span><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">table</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">margin-top</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">0.75em</span></span></span><span class="css">; } </span><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">th</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">font-size</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">1.2em</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">text-align</span></span></span><span class="css">: left; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">border</span></span></span><span class="css">: none; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">padding-left</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">0</span></span></span><span class="css">; } </span><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">td</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">padding</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">0.25em</span></span></span><span class="css"> </span><span class="hljs-number"><span class="css"><span class="hljs-number">2em</span></span></span><span class="css"> </span><span class="hljs-number"><span class="css"><span class="hljs-number">0.25em</span></span></span><span class="css"> </span><span class="hljs-number"><span class="css"><span class="hljs-number">0em</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">border</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">0</span></span></span><span class="css"> none; } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span>Register here!<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>Fill in your name and email address, then click <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">strong</span></span></span><span class="hljs-tag">&gt;</span></span>Submit<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">strong</span></span></span><span class="hljs-tag">&gt;</span></span> to register.<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">method</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"post"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">action</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"index.php"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">enctype</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"multipart/form-data"</span></span></span><span class="hljs-tag"> &gt;</span></span> Name <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"name"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"name"</span></span></span><span class="hljs-tag">/&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">&gt;</span></span> Email <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"email"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"email"</span></span></span><span class="hljs-tag">/&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"submit"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"submit"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Submit"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?php</span></span></span><span class="php"> </span><span class="hljs-meta"><span class="php"><span class="hljs-meta">?&gt;</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Inside PHP tags, add PHP code to connect to the database. <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// DB connection info $host = "localhost\sqlexpress"; $user = "user name"; $pwd = "password"; $db = "registration"; // Connect to database. try { $conn = new PDO( "sqlsrv:Server= $host ; Database = $db ", $user, $pwd); $conn-&gt;setAttribute( PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION ); } catch(Exception $e){ die(var_dump($e)); }</span></span></code> </pre> <br>  <b>Note.</b>  You will need to update the values ‚Äã‚Äãagain with a local MySQL username and password. <br><br>  After the code to connect to the database, add the code to insert the registration data into the database. <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!<span class="hljs-keyword"><span class="hljs-keyword">empty</span></span>($_POST)) { <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { $name = $_POST[<span class="hljs-string"><span class="hljs-string">'name'</span></span>]; $email = $_POST[<span class="hljs-string"><span class="hljs-string">'email'</span></span>]; $date = date(<span class="hljs-string"><span class="hljs-string">"Ymd"</span></span>); <span class="hljs-comment"><span class="hljs-comment">// Insert data $sql_insert = "INSERT INTO registration_tbl (name, email, date) VALUES (?,?,?)"; $stmt = $conn-&gt;prepare($sql_insert); $stmt-&gt;bindValue(1, $name); $stmt-&gt;bindValue(2, $email); $stmt-&gt;bindValue(3, $date); $stmt-&gt;execute(); } catch(Exception $e) { die(var_dump($e)); } echo "&lt;h3&gt;Your're registered!&lt;/h3&gt;"; }</span></span></code> </pre> <br>  Finally, after the above code, add code to extract data from the database. <br><br><pre> <code class="php hljs">$sql_select = <span class="hljs-string"><span class="hljs-string">"SELECT * FROM registration_tbl"</span></span>; $stmt = $conn-&gt;query($sql_select); $registrants = $stmt-&gt;fetchAll(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(count($registrants) &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"&lt;h2&gt;People who are registered:&lt;/h2&gt;"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"&lt;table&gt;"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"&lt;tr&gt;&lt;th&gt;Name&lt;/th&gt;"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"&lt;th&gt;Email&lt;/th&gt;"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"&lt;th&gt;Date&lt;/th&gt;&lt;/tr&gt;"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span>($registrants <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $registrant) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"&lt;tr&gt;&lt;td&gt;"</span></span>.$registrant[<span class="hljs-string"><span class="hljs-string">'name'</span></span>].<span class="hljs-string"><span class="hljs-string">"&lt;/td&gt;"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"&lt;td&gt;"</span></span>.$registrant[<span class="hljs-string"><span class="hljs-string">'email'</span></span>].<span class="hljs-string"><span class="hljs-string">"&lt;/td&gt;"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"&lt;td&gt;"</span></span>.$registrant[<span class="hljs-string"><span class="hljs-string">'date'</span></span>].<span class="hljs-string"><span class="hljs-string">"&lt;/td&gt;&lt;/tr&gt;"</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"&lt;/table&gt;"</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"&lt;h3&gt;No one is currently registered.&lt;/h3&gt;"</span></span>; }</code> </pre> <br>  Now you can go to the file <a href="http://localhost/tasklist/index.php">http: //localhost/registration/index.php</a> to test the application. <br><br><h3>  Application Publishing </h3><br>  By testing the application locally, you can publish it on the Windows Azure website using Git.  However, you must first update the database connection information in the application.  Using the database connection information obtained earlier (in the <b>"Obtaining SQL Database Connection Information" section</b> ), update the following information in <b>both</b> the - and - files with the appropriate values. <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// DB connection info $host = "tcp:&lt;value of SERVER&gt;"; $user = "&lt;value of USERNAME&gt;@&lt;server ID&gt;"; $pwd = "&lt;your password&gt;"; $db = "&lt;value of DATABASE&gt;";</span></span></code> </pre> <br>  <b>Note.</b>  The value of the SERVER should be added, and the value combines the values ‚Äã‚Äãof USERNAME, '@', and the server identifier.  The server identifier consists of the first 10 characters of the SERVER value. <br><br>  You are now ready to set up Git publishing and publish the application. <br><br>  <b>Note.</b>  Perform the same steps that are described at the end of the sections ‚ÄúCreating a Windows Azure Website‚Äù and ‚ÄúSetting Up Git Publishing‚Äù. <br><br>  Open GitBash (or a terminal if you have Git in), change directories to the root directory of the application, and run the following commands. <br><br>  <em>git init</em> <em><br></em>  <em>git add.</em> <em><br></em>  <em>git commit -m "initial commit"</em> <em><br></em>  <em>git remote add azure [URL for remote repository]</em> <em><br></em>  <em>git push azure master</em> <br><br>  You will be prompted to enter a password created earlier. <br><br>  Go to <b>http: // [site_name] .azurewebsites.net / createtable.php</b> to create a MySQL table for the application.  Go to <b>http: // [site_name] .azurewebsites.net / index.php</b> to start using the application. <br><br>  You can make changes to a published application and publish them with Git. <br><br><h3>  Posting changes to the app </h3><br>  To post your app changes, follow these steps: <br><br>  Modify the application locally. <br><br>  Open GitBash (or a terminal if you have Git in), change directories to the root directory of the application, and run the following commands. <br><br>  <em>git add.</em> <em><br></em>  <em>git commit -m "commenting changes"</em> <em><br></em>  <em>git push azure master</em> <br><br>  You will be prompted to enter a password created earlier. <br><br>  Go to <b>http: // [site_name] .azurewebsites.net / index.php</b> to view the changes. </div><p>Source: <a href="https://habr.com/ru/post/151773/">https://habr.com/ru/post/151773/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../151763/index.html">Using the Android Tablet PC as a Personal GPS Tracker</a></li>
<li><a href="../151764/index.html">William Gibson Interview Wired. Part 1</a></li>
<li><a href="../151765/index.html">Intel forecast - the transition to 5-nm technology will allow Gordon Moore's law to hold on for at least another decade</a></li>
<li><a href="../151769/index.html">Runetology (165): Yuri Virovets and Alexey Babin, investor and founder of Clickberry</a></li>
<li><a href="../151771/index.html">Bash: we start the demon with child processes</a></li>
<li><a href="../151774/index.html">Sidebar Gadget Sticky Notes with dock synchronization via DropBox for Windows 7 do it yourself</a></li>
<li><a href="../151775/index.html">RCC 2012 Through the eyes of a mere mortal</a></li>
<li><a href="../151776/index.html">The European Union is preparing a new antitrust investigation against Microsoft</a></li>
<li><a href="../151777/index.html">Podcast "Notes on Qt" s02e01</a></li>
<li><a href="../151780/index.html">YaC 2012: more, more interesting</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>