<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Report from breakfast with Charles Wetzerell, author of the cult book "Etudes for Programmers"</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Breakfast with Charles Wetherell, author of the cult book ‚ÄúEtudes for Programmers‚Äù, lasted four hours. In the end, the waitress asked us from a restau...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Report from breakfast with Charles Wetzerell, author of the cult book "Etudes for Programmers"</h1><div class="post__text post__text-html js-mediator-article">  Breakfast with Charles Wetherell, author of the cult book ‚ÄúEtudes for Programmers‚Äù, lasted four hours.  In the end, the waitress asked us from a restaurant in Palo Alto, saying that the restaurant had a long queue, and we‚Äôve been here since eight in the morning.  During this time, we discussed a lot of interesting things: the work of Charles at the Livermore Laboratory and Orakle, object-oriented and functional programming, compilers and hardware description languages, bookmarks to processors, the inefficiency of neural networks and the undeservedly forgotten Prologue, a visit to Charles of Russia, text processing by the state machine in the hardware coprocessor and the creation of video games on FPGAs by schoolchildren. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/beb/98f/c53/beb98fc5350bb7cf37909712294f0a43.jpg"><br><br>  The content of four hours with Charles Wetzerell is enough for fifty articles on Habr√©, so I will list mainly the topics, after which I will give some details about three of them: <br><a name="habracut"></a><br><ol><li>  Object-oriented and functional programming.  Single assignment, function values, get rid of mutations, get rid of timing. </li><li>  Data structures and compiler algorithms.  Muchnik SSA and Optimization Book.  Bob Morgan (Compass) building optimizing compilers.  Vector compilers and Randy Allen (my Wave colleague and Charles colleague about other companies). </li><li>  The evolution of the Yacc parser, the internal representations of the Ada language (DIANA) and the VHDL frontend in Synopsys. </li><li>  Attributive grammars and the unfortunate, in my opinion, their use in the MIPT training manual on the Theory of Implementing Programming Languages ‚Äã‚Äã(TRNP). </li><li>  JOVIAL programming language and Ada standardization.  IDL language. </li><li>  Programming at the Livermore Computing Lab for Physicists and Chemists at the CDC 7600 and Cray-1.  Livermore Fortran is an expansion of Fortran-77 with structures and dynamic memory allocation.  Use microfiche including for automatic search and production of animations.  Harry Nelson.  And how the Rubik's Cube got to the laboratory before it became known. </li><li>  Soviet clone Cray-1 Electronics SS BIS.  The FORTRAN compiler in IPM and the C compiler, which we worked on at MIPT. </li><li>  Reverse engineering of a random number generator in Synopsys VCS.  Congruential generator with register shift.  LSFR. </li><li>  The inefficiency of neural networks and undeservedly forgotten language Prolog. </li><li>  Application of methods from Prolog for static text analysis of programs. </li><li>  This includes analyzing the code of a processor written in Verilog or VHDL in order to find bookmarks in it.  Bookmark scattered across parts of the processor description at the register transfer level.  Finding "extra" code that does something outside the specification.  For example, a finite state machine that waits for a key phrase, a text in registers visible to the programmer, and then puts the processor into a privileged mode. </li><li>  Hybrid methods of code analysis - dynamic execution followed by a static study of the state space from a certain execution point. </li><li>  List of Hakmem from MIT. </li><li>  Most programmers in life use only five algorithms - quick sort, binary search, hashing, list insertion, and something else (AVL binary tree insertion?). </li><li>  Unix troff history at Bell Labs. </li><li>  The work of Charles Wetherell in Orakle over SQL. </li><li>  A good example of using a hardware coprocessor for MIPS CorExtend / UDI is User Defined Instructions.  Adding commands to the processor for fast lexical analysis, with a state machine inside the coprocessor and saving state between individual commands.  Background from the days of IBM / 360 translate test and CDC STAR. </li><li>  Using a hardware coprocessor to pre-clean the data stream before applying machine learning algorithms to it. </li><li>  Game Rogue, Scientific American in the states and the USSR. </li><li>  <a href="https://ssyp.ru/">Summer School for Young Programmers in Novosibirsk</a> and mosquitoes in it (according to my recollections and stories from colleagues of Charles Wetherell) </li><li>  How Charles spent 36 hours in Moscow and two weeks in St. Petersburg.  Hermitage.  In St. Petersburg, he did not read lectures. </li><li>  He offered Charles a summer school trip to MIET / Zelenograd in July or somewhere else in the fall (MSU? MIPT? ITMO?). </li><li>  Education schoolchildren and younger students.  The need to exit the template (for example, sequential programming) and the study of Verilog on the FPGA as one of the ways to exit such a template. </li><li>  The use of chips with a small degree of integration before the exercises on the FPGA, so that the student or student intuitively understood that the code on Verilog is a description of the electronic circuit, and not the program (chain of instructions). </li><li>  An example for RTL on the FPGA for the summer school at MIET / Zelenograd in July is a self-learning state machine that calculates the opponent's trends in the game "rock paper scissors". </li><li>  Another example is the competition of finite automata (animals) that move a player to a target on a map (globe).  Objects on the map have a "smell" - positive (food) or negative (electricity that can hit).  Constructing a FPGA map, outputting and spriting a player to VGA using the sweep generation module. </li></ol>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Here we assorted recent disputes on Habr√© about OOP.  Charles is agitating for both OOP and functional programming, where applicable.  I showed Charles <a href="https://habr.com/ru/post/452462/">an example of unsuccessful design of classes</a> I saw in two projects <a href="https://habr.com/ru/post/452462/">for representing the nodes of the parse tree and optimizations on this tree</a> , after which Charles said that of course the tree transformation algorithms should not be scattered into small classes in this way, but instead quickly throw in the control flow graph, on which to use table driven transformations based on static single assignment, with a small number of exceptions.  Charles enlightened me about the work of Muchnik, Bob Morgan and Randy Allen on vectorization: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1a4/069/c53/1a4069c538f0e536233df377c628af51.jpg"><br><br>  Then I told Charles that the day after tomorrow we would be holding a <a href="http://bit.ly/mips-open-at-dac-2019">seminar in Las Vegas at the electronics design automation conference</a> , and I need his advice on the good example of the CorExtend / UDI - User Defined Instructions coprocessor.  This protocol is used in MIPS kernels.  CorExtend / UDI allows the processor to embed a block that decodes and executes instructions additional to the main command system that the system designer on the chip can determine.  The block can be synthesized and become part of the chip or be configured in FPGA / FPGA. <br><br>  Additional instructions move along the processor pipeline along with the main ones.  They get data from the general-purpose registers visible by the programmer and can return the result to the register.  These instructions can also save a state in the coprocessor.  They can be killed by exceptions if an exception occurs, for example, in the instruction following this instruction in the pipeline: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5c6/bd8/6d5/5c6bd86d57689189ef497f46524d3cab.png"><br><br>  The day after tomorrow in the <a href="http://www.silicon-russia.com/wp-content/uploads/2019/06/mipsopen_developer_day_dac_2019_05_31.pdf">presentation at the seminar</a> I am going to use an example with a simple convolution instruction for a neural network.  But the acceleration achieved with this is not impressive - only two times.  Could you make a better example? <br><br>  Charles immediately came up with a much more successful example: hardware lexical analysis.  You can put a finite state machine in the coprocessor that will determine the numbers, identifiers, and comments in the text flow.  It will save state saving between individual commands that transfer text from registers to the machine.  The result of the current analysis (marked text) will also be returned to the register. <br><br>  Charles also told me the story of instructions for parsing text from the days of IBM / 360 translate test and CDC STAR.  He also told me that such a coprocessor can be used for machine learning, for pre-cleaning the data stream before applying machine learning algorithms to it. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d54/ae2/fe2/d54ae2fe23eb241f6d10af702f473dc8.jpg"><br><br>  Then I told Charles Saga how a group of engineers and teachers translated and implemented the <a href="https://dmkpress.com/catalog/electronics/circuit_design/978-5-97060-522-6/">textbook of David Harris and Sarah Harris ‚ÄúDigital circuit design and computer architecture‚Äù</a> in various Russian universities (see posts on Habr√© <a href="https://habr.com/ru/post/259505/">1</a> , <a href="https://habr.com/ru/post/317558/">2</a> , <a href="https://habr.com/ru/post/336116/"></a>  <a href="https://habr.com/ru/post/453760/">3).</a>  <a href="https://habr.com/ru/post/453760/">Now by the joint efforts of MIET, RUSNANO, MEPI teachers and other universities, we are planning a summer school at MIET</a> where advanced schoolchildren design video games on the FPGA with a graphical display (section <a href="http://bit.ly/miet-summer-school-2019">Between physics and programming</a> ).  For this purpose, ideas from the Designing Video Game Hardware in Verilog by Steven Hugg, December 15, 2018 are used: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8ae/6da/641/8ae6da641e4f1c2a48d751412d60434e.jpg"><br><br>  Games can be developed both in the form of purely hardware finite automata, and in a combination of hardware graphics on the FPGA with programs on the simple schoolMIPS processor core, which is described in see <a href="https://habr.com/ru/users/sparf/posts/">Stanislav Gelnio's posts on Habr√©</a> and <a href="https://github.com/MIPSfpga/schoolMIPS/wiki">wiki on schoolMIPS on GitHub</a> .  On the FPGA, you can quite easily <a href="">generate a sweep generation for VGA</a> , display a map from memory and moving sprites with figures: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/473/f03/b3c/473f03b3c9a2d44b14238cfad10dc59a.png"><br><br>  In addition to games with tanks and races, Charles proposed to make a competition of finite automata (animals) that move a player to a goal on a map (globe).  Objects on the map have a "smell" - positive (food) or negative (electricity that can hit).  Schoolchildren can write finite automata that see the environment, embed them in a code that makes graphics output and supports a map, and then compete who has this code better: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a32/c97/334/a32c97334b5acee2bb503f1a0023797d.jpg"><br><br>  You can use LFSR hardware blocks to generate elements of pseudo-random behavior: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cc8/e6e/c26/cc8e6ec2686590cb833d0b6304c5f2a0.jpg"><br><br>  At the end, Charles left two autographs - for Russian readers (I borrowed a Russian book from <a href="https://ru.wikipedia.org/wiki/%25D0%2592%25D0%25B0%25D0%25BA%25D1%2583%25D0%25BB%25D0%25B5%25D0%25BD%25D0%25BA%25D0%25BE,_%25D0%25A1%25D0%25B5%25D1%2580%25D0%25B3%25D0%25B5%25D0%25B9_%25D0%2592%25D0%25B8%25D0%25BA%25D1%2582%25D0%25BE%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B8%25D1%2587">Sergei Vakulenko</a> ) and readers at our company Wave Computing, from whose internal library I lent my original book in English: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e73/017/115/e730171154b7e392aac38863db35eea5.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/21d/c04/16d/21dc0416d631faea86b3a1cebcf408ee.jpg"></div><p>Source: <a href="https://habr.com/ru/post/454512/">https://habr.com/ru/post/454512/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../4545/index.html">Golden Telecom will start making money on Wi-Fi in January 2007</a></li>
<li><a href="../454500/index.html">Douglas Engelbart: "Augmenting Human Intellect: A Conceptual Framework" (step 2)</a></li>
<li><a href="../454504/index.html">Why a programmer should understand finance</a></li>
<li><a href="../454506/index.html">Entropic - the new distributed package registry for Node.js</a></li>
<li><a href="../45451/index.html">Notebook furniture</a></li>
<li><a href="../454514/index.html">Developing a simple music synthesizer on ATMEGA8</a></li>
<li><a href="../454516/index.html">How to get a good text for 200 rubles</a></li>
<li><a href="../454518/index.html">Wasmer: the fastest go-library for running WebAssembly code</a></li>
<li><a href="../454520/index.html">Recommendations for writing clean code in JavaScript</a></li>
<li><a href="../454522/index.html">Node.js: managing the memory available to applications running in containers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>