<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Testing will show: how to prepare for the implementation of Cisco ISE and understand what features of the system you need</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="How often do you buy something spontaneously, succumbing to cool advertising, and then this initially desired thing gathering dust in the closet, pant...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Testing will show: how to prepare for the implementation of Cisco ISE and understand what features of the system you need</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/yf/2u/ky/yf2ukyimkgmlf9he2kn-v6697om.jpeg"><br><br>  How often do you buy something spontaneously, succumbing to cool advertising, and then this initially desired thing gathering dust in the closet, pantry or garage before the next general cleaning or relocation?  As a result - disappointment because of unjustified expectations and wasted money.  Much worse when this happens with a business.  Very often, marketing tricks are so good that companies acquire an expensive solution without seeing the full picture of its application.  Meanwhile, trial testing of the system helps to understand how to prepare the infrastructure for integration, what functionality and in what volume it should be implemented.  So you can avoid a huge number of problems due to the choice of the product "in the blind."  In addition, the introduction of a competent "pilot" will bring the engineers much less damaged nerve cells and gray hair.  Let us see why pilot testing is so important for a successful project, using the example of a popular tool for controlling access to the corporate network - Cisco ISE.  Consider both typical and completely non-standard options for the application of solutions that have been encountered in our practice. <br><a name="habracut"></a><br><h2>  Cisco ISE - "Radius-server on steroids" </h2><br>  The Cisco Identity Services Engine (ISE) is a platform for creating an access control system for an organization‚Äôs local area network.  In the expert community, the product for its properties is called "Radius-server on steroids."  Why is that?  In fact, the solution is a Radius-server, to which a huge number of additional services and ‚Äútweaks‚Äù are screwed, allowing to receive a large amount of contextual information and apply the resulting set of data in access policies. <br><br>  Like any other Radius server, Cisco ISE interacts with the network equipment of the access level, collects information about all attempts to connect to the corporate network and, based on authentication and authorization policies, allows or does not allow users on the LAN.  However, the possibility of profiling, sampling, integration with other information security solutions makes it possible to significantly complicate the logic of authorization policy and thereby solve rather difficult and interesting tasks. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/2c5/51d/f70/2c551df702eb6615347e4f28c9b57889.png"><br><br><h2>  <s>Implement can not be</s> piloted: why do you need testing? </h2><br>  The value of pilot testing is to demonstrate all the capabilities of the system in a specific infrastructure of a specific organization.  I am convinced that piloting Cisco ISE before deployment is useful to all project participants, and here's why. <br><br>  For integrators, this gives a clear idea of ‚Äã‚Äãthe customer's expectations and helps to form a correct technical task containing much more details than the common phrase ‚Äúmake it so that everything is good‚Äù.  ‚ÄúPilot‚Äù allows us to feel the pain of the customer, to understand which tasks are priorities for him and which are secondary.  For us, this is a great opportunity to understand in advance what equipment is used in the organization, how the implementation will take place, on what platforms, where they are located, and so on. <br><br>  During the pilot testing, customers see the real system in action, familiarize themselves with its interface, can check if it is compatible with their hardware, and get a holistic view of how the solution will work after a full implementation.  ‚ÄúPilot‚Äù is the very moment when you can see all the ‚Äúpitfalls‚Äù that you will most likely encounter during integration, and decide how many licenses you need to purchase. <br><br><h2>  What can "float" during the "pilot" </h2><br>  So, how to properly prepare for the implementation of Cisco ISE?  From our experience, we have counted 4 main points that are important to take into account in the pilot testing of the system. <br><br><h3>  Form factor </h3><br>  First you need to decide in which form factor the system will be implemented: physical or virtual uplines.  Each option has advantages and disadvantages.  For example, the strength of physical apples is predictable performance, but one should not forget that such devices become obsolete over time.  Virtual aplines are less predictable, because  depend on the hardware on which the virtualization environment is deployed, but at the same time they have a serious plus: if you have support, you can always upgrade to the latest version. <br><br><h3>  Is your network equipment compatible with Cisco ISE? </h3><br>  Of course, the ideal scenario would be to connect all the equipment to the system at once.  However, this is not always possible, as many organizations still use unmanaged switches or switches that do not support some of the technologies that run the Cisco ISE.  By the way, it is not only about switches, it can also be wireless controllers, VPN hubs, and any other equipment that users connect to.  In my practice, there have been cases when, after demonstrating the system, for a full-fledged implementation, the customer updated almost the entire fleet of access level switches to modern Cisco equipment.  To avoid unpleasant surprises, you should find out in advance the proportion of unsupported equipment. <br><br><h3>  Are all your devices typical? </h3><br>  In any network there are typical devices, with the connection of which there should be no difficulties: automated workstations, IP phones, Wi-Fi access points, video cameras and so on.  But it also happens that you need to connect non-standard devices to the LAN, for example, RS232 / Ethernet bus signal converters, uninterruptible power supply interfaces, various technological equipment, etc. It is important to determine the list of such devices in advance so that you already have an understanding how technically they will work with Cisco ISE. <br><br><h3>  Constructive dialogue with IT people </h3><br>  Often, Cisco ISE customers are security departments, and IT departments are usually responsible for setting up access level switches and Active Directory.  Therefore, productive interaction between security guards and IT specialists is one of the important conditions for a smooth implementation of the system.  If the latter perceive the integration "in hostility", it is worth explaining to them how the decision will be useful for the IT department. <br><br><h2>  Top 5 Cisco ISE Case </h2><br>  In our experience, the necessary functionality of the system is also detected at the pilot testing stage.  Below are some of the most popular and less common case studies using the solution. <br><br><h4>  Secure LAN access over the wire with EAP-TLS </h4><br>  As shown by the results of research by our pentesters, quite often for intrusion into the company's network, attackers use ordinary sockets to which printers, telephones, IP cameras, Wi-Fi points and other non-personal network devices are connected.  Therefore, even if access to the network is based on the dot1x technology, but alternative protocols are used without the use of user authentication certificates, the likelihood of a successful attack with session interception and password brute force is high.  In the case of the Cisco ISE, it will be much more difficult to get the certificate back - hackers will need much more computing power, so this case is very effective. <br><br><h4>  Dual-SSID Wireless Access </h4><br>  The essence of this scenario is to use 2 network identifiers (SSID).  One of them can be called ‚Äúguest‚Äù.  Through it, both guests and employees of the company can enter the wireless network.  When trying to connect, the latter are redirected to a special portal where provisioning takes place.  That is, the user is issued a certificate and is configured his personal device to automatically reconnect to the second SSID, which already uses EAP-TLS with all the advantages of the first case. <br><br><h4>  MAC Authentication Bypass and Profiling </h4><br>  Another popular case is to automatically determine the type of device you are connecting and apply the correct limits to it.  What makes him interesting?  The fact is that there are still quite a few devices that do not support 802.1X authentication.  Therefore, such devices have to be allowed into the network at the MAC address, which is fairly easy to fake.  Here Cisco ISE comes to the rescue: with the help of the system, you can see how the device behaves on the network, create its profile and associate it with a group of other devices, for example, an IP phone and a workstation.  When an attacker attempts to spoof a MAC address and connect to the network, the system will see that the device profile has changed, will give a signal of suspicious behavior and will not allow the suspicious user to the network. <br><br><h4>  Eap-chaining </h4><br>  The EAP-Chaining technology implies sequential authentication of the working PC and the user account.  This case is widespread, because  Many companies are still not welcome the connection of employees' personal gadgets to the corporate LAN.  Using this approach to authentication, you can check whether a particular workstation is a member of a domain, and if the result is negative, the user either does not get into the network or log in, but with certain restrictions. <br><br><h4>  Posturing </h4><br>  This case deals with the assessment of the compliance of the composition of the workstation software with the requirements of information security.  Using this technology, you can check whether the software is updated on the workstation, if the security features are installed on it, if the host firewall is configured, etc.  Interestingly, this technology also allows solving other non-security tasks, for example, checking for the presence of necessary files or installing system-wide software. <br><br>  Less common are also such scenarios for using Cisco ISE as access control with pass-through domain authentication (Passive ID), SGT-based microsegmentation and filtering, as well as integration with mobile device management (MDM) and vulnerability scanners (Vulnerability Scanner). <br><br><h2>  Non-standard projects: why else you might need Cisco ISE, or 3 rare cases from our practice </h2><br><h3>  Linux Access Control </h3><br>  Once we solved a rather non-trivial case for one of the customers who already had a Cisco ISE system in place: we needed to find a way to control user actions (mostly admins) on servers running Linux.  In search of an answer, we got the idea to use the free software PAM Radius Module, which allows us to log in to servers running Linux with authentication on an external radius server.  Everything in this plan would be good if it were not for one ‚Äúbut‚Äù: the radius server, sending a response to the authentication request, gives only the name of the account and the result - assess accepted or assess rejected.  Meanwhile, for authorization in Linux, you need to assign at least one more parameter - the home directory, so that the user at least gets somewhere.  We did not find a way to give it as a radius attribute, so we wrote a special script for remote creation of accounts on the hosts in semi-automatic mode.  This task was quite feasible, since we dealt with administrator accounts, the number of which was not so large.  Then users came to the necessary device, after which they were assigned the necessary access.  A reasonable question arises: is it necessary to use Cisco ISE in such cases?  Actually, no - any radius server will do, but since the customer already had this system, we simply added a new chip to it. <br><br><h3>  Inventory "iron" and software in LAN </h3><br>  Once we were working on a project to supply Cisco ISE to one customer without prior pilot.  There were no clear requirements for the solution, plus we were dealing with a flat, non-segmented network, which complicated the task.  During the project, we configured all possible profiling methods that the network supported: NetFlow, DHCP, SNMP, integration with AD, etc.  As a result, MAR access was configured with the ability to log into the network when authentication failed.  That is, even if the authentication was not successful, the system still allowed the user to the network, collected information about him and recorded it in the ISE database.  Such monitoring of the network over several weeks has helped us to identify plug-in systems and non-personal devices and to develop an approach to their segmentation.  After that, we additionally configured a subscription to install the agent on workstations in order to collect information about the software installed on them.  What is the result?  We managed to segment the network and determine the list of software that needed to be removed from workstations.  I will not hide, further tasks on the distribution of users by domain groups and differentiation of access rights took away a lot of time from us, but in this way we got a complete picture of what kind of hardware the customer had on the network.  By the way, it was easy due to the good work of the out-of-box profiling.  Well, where profiling did not help, we looked ourselves, highlighting the switch port to which the equipment was connected. <br><br><h3>  Remote software installation on workstations </h3><br>  This case is one of the strangest in my practice.  One day a customer came to us with a cry for help - when implementing Cisco ISE, something went wrong, everything broke, and no one else could get access to the network.  We began to understand and found out the following.  The company had 2,000 computers that were managed under an administrator‚Äôs account in the absence of a domain controller.  For the purpose of scheduling, Cisco ISE has been implemented in the organization.  It was necessary to somehow understand whether an antivirus was installed on existing PCs, whether the software environment was updated, etc.  And since IT administrators had network equipment in the system, it is logical that they had access to it.  After looking at how it works, and after having tested their PCs, the administrators decided to install software on employees' workstations remotely without personal visits.  Just imagine how many steps you can save per day!  Admins conducted several checks of the AWS for the presence of a specific file in the C: \ Program Files directory, and in its absence, automatic remediation was launched with a link to the file storage for the installation .exe file.  This allowed ordinary users to go to the file and download the necessary software from there.  Unfortunately, the admin didn‚Äôt know the ISE system badly and damaged the poshringing mechanisms ‚Äî he wrote the policy incorrectly, which led to the problem, which we were connected to.  Personally, I am genuinely surprised by such a creative approach, because it would be much cheaper and less labor-intensive to create a domain controller.  But as a proof of concept it worked. <br><br>  For more on the technical details of the introduction of Cisco ISE, see my colleague <a href="https://habr.com/ru/company/jetinfosystems/blog/354888/">‚Äôs</a> article <a href="https://habr.com/ru/company/jetinfosystems/blog/354888/">, Practice for Implementing Cisco ISE.</a>  <a href="https://habr.com/ru/company/jetinfosystems/blog/354888/">Look engineer</a> . <br><br>  <i>Artem Bobrikov, design engineer of the Jet Information Systems Information Security Center</i> <br><br>  <b>Afterword</b> : <br>  Despite the fact that this post talks about Cisco ISE, the described issues are relevant for the entire class of NAC solutions.  It‚Äôs not so important what vendor‚Äôs decision is planned for implementation - most of the above will remain applicable. </div><p>Source: <a href="https://habr.com/ru/post/446722/">https://habr.com/ru/post/446722/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../446710/index.html">Four real histories of working with microservice architecture - report from the Backend United mitap 3: Kholodets</a></li>
<li><a href="../446712/index.html">HTTPS is not always as secure as it seems. Vulnerabilities found in 5.5% of HTTPS sites</a></li>
<li><a href="../446714/index.html">Curious perversions from the IT world - 4</a></li>
<li><a href="../446716/index.html">Consciousness and Doomsday Argument</a></li>
<li><a href="../446718/index.html">Review of the most interesting reports CodeFest 2019: the version of True Engineering</a></li>
<li><a href="../446728/index.html">How does the received power from the wireless charging, depending on the location of the phone</a></li>
<li><a href="../446730/index.html">Backend section on DUMP: Serverless, Postgres and Go, .NET Core, GraphQL and more</a></li>
<li><a href="../446732/index.html">Feropods will not help: research and mathematical modeling of ant lion larvae pits</a></li>
<li><a href="../446738/index.html">The basics of natural language processing for text</a></li>
<li><a href="../446740/index.html">Using Python to generate reports in a single company</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>