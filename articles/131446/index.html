<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Design patterns for Android development. Part 2 - MVP and Unit tests. Jedi Way</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="At first, I just wanted to briefly tell you what MVP is, but it did not work out briefly. Therefore, I have highlighted this piece in a separate artic...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">🔎</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">📜</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">⬆️</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">⬇️</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Design patterns for Android development. Part 2 - MVP and Unit tests. Jedi Way</h1><div class="post__text post__text-html js-mediator-article">  At first, I just wanted to briefly tell you what MVP is, but it did not work out briefly.  Therefore, I have highlighted this piece in a separate article, which has little relevance to Android, but is very important for understanding MVP and unit tests.  The promised articles will not go anywhere. <br><br>  All developers know what modular tests are, but few can use them so that their use shortens the development time of the program, and does not increase it.  In their eyes, those who, with the help of tests, can do tasks faster and even more qualitatively, look like Jedi, who can, with the sword in their hands with their eyes closed, crumble a company of machine gunners into the cabbage. <br><br>  I will try to put you on the path of the Jedi and teach you to crush heaps of bugs into cabbages with unit tests and other technologies with closed eyes. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><h4>  What is Model View Presenter (MVP) </h4><br>  From afar, I’ll tell you what MVP is, why it is needed and what is the use of it. <br>  In any project, there comes a time when developers want to add unit tests to ensure that the latest changes did not break everything that was done before releasing the intermediate version. <br><br>  It seems clear what the test should do: it is necessary to check that after the user saw the form, filled in the fields with the correct data and clicked "Save", in the handler of this button, the data from the form was checked and entered into the database, or the user would get an error message . <br>  All the examples that are in the documentation for different languages ​​are built precisely on this simple principle.  Therefore, this is a very common design solution. <br><br>  But here the first problem appears, since the logic of checking the correctness of the fields and saving them in the database lies in the handler of the “Save” button.  How in the test to check the button "Save" on the form?  Indeed, a test cannot create an instance of the “form” class, most often because this class does not have a public constructor, in other words, the form is created by special classes that are not in the tests, and which, in turn, cannot be created either. <br><br>  MVP allows you to beautifully solve the mentioned problem.  The bottom line is that you need to transfer all the code from the button handler to save to another class, which can be easily created.  This class calls presenter.  And in the form, which is now called View or View, in the “save” button handler there will be only one line, which will call the method of the same name in the presenter. <br>  Typically, a presenter is created in the presentation designer and the presenter is passed a link to the presentation. <br><br>  Further in the test, we create an instance of the presenter and simulate a call to the “save” method of the presenter.  Next, we expect the presenter to take the values ​​of the form fields from the view, check them and pass them to the database.  It turns out that the presenter in the test still needs a form, and even a database in the form of a class to work with the database. <br><br>  We cannot create a form and a class for working with a database, but we can make the following feint with our ears: let the presenter, when created, receive links not to the presentation and class to work with the database, to their interfaces.  That is, you need to create interfaces, one for the presentation and the other for the database.  In normal operation, these interfaces will hide the real representation and database, and in the tests we will make classes stubs, which will also support these interfaces.  In tests, we will create a stub for the view that will return fixed values ​​for the form fields.  A stub for the database will simply save the values ​​that came to it, so that later we could check these values. <br><br>  And now in the test: <br>  1. Create a stub class for the view and prescribe what field values ​​it will return. <br>  2. Create a stub class for the database, which simply saves the values ​​passed to it when you call the SaveToDB method <br>  3. We create presenter and we transfer to it the created stubs. <br>  4. Call the “save” method at the presenter <br>  5. we check that the necessary values ​​appeared in the database stub, otherwise there was an error in the presenter. <br><br>  So why do you need MVP and what is the use of it. <br>  MVP is a design pattern that allows you to separate the code with business logic for data processing from the code with the data displayed on the form. <br>  The business logic in the presenter is tested every time a new version is released.  That allows you to say that there are no complex errors in the program. <br>  The code in the view is not tested, but these errors are easily detected by the developers when they see that the “Save” button does nothing and are easily corrected, because it is immediately clear that they forgot to call the presenter method in the button handler. <br><br>  An attentive reader will exclaim at this place “Yes, you fucked up!  Previously, I had one class that fit in one file and it was convenient to debug everything in it, but now I need to add a presenter class, interfaces, two stubs, and I also have to write the test myself!  It will take me twice as long.  If the authorities order, then I will do a couple of tests after I write the code, but I disclaim responsibility for disrupting the deadlines. ” <br><br><h4>  “Calm down, O young Padawan” </h4><br>  Yes, any pattern requires writing additional lines of code, you just need to understand how to benefit from it. <br><br>  Most developers do not use unit tests, because it seems to them that this is only a waste of time to write a test, and testers who are less likely to test benefit from this.  So, saving time in a project can only come about because testers work less and this time saving can not be more than the time spent writing tests. <br><br>  So, in this way, unit tests can not be used.  They must be used so that they save time for the developer. <br><br>  Then I will tell you how to organize the development process using tests, so that it benefits the developer. <br><br>  As an example, take the same form where you need to enter data, click the Save button, check the data, if there are errors, then show them to the user, if not, send them to the database. <br><br><h4>  Creating a presentation and preparation for the presenter </h4><br>  The first step is to create a form (view), in the case of Android it is the heir of the Activity class.  It is necessary to place on it controls for entering values, displaying an error message and the “Save” button with a handler. <br><br>  Next you need to create an interface for the presentation.  The interface is needed so that the presenter can output data to the form and take data from the form, so the interface should have methods like setName (string name) and string getName ().  Naturally, the view should implement this interface and in the methods it should simply shift the value from the argument to the Text property of the used control or vice versa in the case of the getName method. <br><br>  Next you need to create a presenter, which at the entrance receives a link to an instance of the interface.  For now, in the presenter's constructor, we simply write arbitrary values ​​on the form to check that the presenter has full access to the form. <br>  We will also create a “save” method, in which we will get the current values ​​from the representation fields into local variables and put a Break Point in it to make sure that this method is called from the representation. <br><br>  In the view designer, create an instance of the presenter and give it a link to this view.  In the view in the handler method of the “Save” button, simply write down the call to the corresponding method in the presenter. <br><br>  Here is an example view. <br><pre><code class="hljs java"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">View</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Activity</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IView</span></span></span><span class="hljs-class"> </span></span>{ Presenter presenter; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">View</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Bundle savedInstanceState)</span></span></span><span class="hljs-function"> </span></span>{ presenter = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Presenter(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String name)</span></span></span><span class="hljs-function"> </span></span>{ tvName.setText(name); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> tvName.getText(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onSave</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View v)</span></span></span><span class="hljs-function"> </span></span>{ presenter.onSave(); } }</code> </pre> <br>  Here is an example presenter <br><br><pre> <code class="hljs pgsql"><span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> presenter { IView <span class="hljs-keyword"><span class="hljs-keyword">view</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> presenter(IView <span class="hljs-keyword"><span class="hljs-keyword">view</span></span>) { this.<span class="hljs-keyword"><span class="hljs-keyword">view</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">view</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">view</span></span>.setName("example name"); } <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> onSave() { string <span class="hljs-type"><span class="hljs-type">name</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">view</span></span>.getName(); } }</code> </pre><br>  The code for the first stage is ready. <br>  You need to run the program in the debugger and make sure that when you open the form, the correct name is displayed, and if you enter a new name and click "Save", the presenter will receive the correct value. <br><br>  At the first stage there are no unit tests and there is no special time saving either, but the costs are not great either. <br><br><h4>  "Close your eyes, oh young Padawan" </h4><br>  Now the fun begins.  The fact is that with the further writing of the code, we do not need to launch the application in order to see how the form works.  We will develop and debug all code in tests.  We will write code as if with closed eyes, like real Jedi. <br><br>  The secret is that you have to add presenter in small pieces and to check this piece add a piece of dough. <br><br>  Let's fill the presenter with the functionality.  when creating it, it must read the name from the database and pass it to the view.  And when saving, get the name from the presentation and save it in the database. <br><br><pre> <code class="hljs pgsql"><span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> presenter { IView <span class="hljs-keyword"><span class="hljs-keyword">view</span></span>; IDataBase <span class="hljs-keyword"><span class="hljs-keyword">dataBase</span></span>; <span class="hljs-type"><span class="hljs-type">int</span></span> Id; <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> presenter(IView <span class="hljs-keyword"><span class="hljs-keyword">view</span></span>, IDataBase <span class="hljs-keyword"><span class="hljs-keyword">dataBase</span></span>) { this.<span class="hljs-keyword"><span class="hljs-keyword">view</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">view</span></span>; this.<span class="hljs-keyword"><span class="hljs-keyword">dataBase</span></span> = dataDase; id = <span class="hljs-keyword"><span class="hljs-keyword">view</span></span>.getId(); string <span class="hljs-type"><span class="hljs-type">name</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">dataBase</span></span>.loadFromDB(id); <span class="hljs-keyword"><span class="hljs-keyword">view</span></span>.setName(<span class="hljs-type"><span class="hljs-type">name</span></span>); } <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> onSave() { string <span class="hljs-type"><span class="hljs-type">name</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">view</span></span>.getName(); <span class="hljs-keyword"><span class="hljs-keyword">dataBase</span></span>.saveToDB(id, <span class="hljs-type"><span class="hljs-type">name</span></span>); } }</code> </pre><br>  It is clear that in this case it is necessary to add a new method to the interface and to the presentation to get the ID, but for now we will not even “open our eyes”, that is, launch the application to check the presentation.  We will do this later, and if there is an error, we will fix it in a second. <br><br>  So we wrote a piece of the presentation and now we write a piece of dough. <br><br>  Those stubs, about which I wrote in the first part, do not necessarily create in the form of classes that support the interface.  If various Mock Framework-i, which allow for three lines to create an instance of a class that supports the specified interface and even returns the desired values ​​when calling its methods.  These stubs are called imitations (translation of the word Mock), because they are much more sophisticated than just stubs. <br><br>  Test Method Example <br><br><pre> <code class="hljs pgsql"><span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-type"><span class="hljs-type">void</span></span> testOpenAndSave() { IView <span class="hljs-keyword"><span class="hljs-keyword">view</span></span> = createMock(IView.<span class="hljs-keyword"><span class="hljs-keyword">class</span></span>); //    IDataBase <span class="hljs-keyword"><span class="hljs-keyword">dataBase</span></span> = CreateMock(IDataBase.<span class="hljs-keyword"><span class="hljs-keyword">class</span></span>);//    expect(<span class="hljs-keyword"><span class="hljs-keyword">view</span></span>.getId()).andReturn(<span class="hljs-number"><span class="hljs-number">1</span></span>); // presenter       id <span class="hljs-number"><span class="hljs-number">1</span></span> expect(<span class="hljs-keyword"><span class="hljs-keyword">dataBase</span></span>.LoadFromDB(<span class="hljs-number"><span class="hljs-number">1</span></span>)).andReturn("source name"); // presenter   ,  "source name" expect(<span class="hljs-keyword"><span class="hljs-keyword">view</span></span>.setName("source name")); //       expect(<span class="hljs-keyword"><span class="hljs-keyword">view</span></span>.getName()).andReturn("destination name"); // presenter   ,   ,  "destination name". expect(<span class="hljs-keyword"><span class="hljs-keyword">dataBase</span></span>.SaveToDB(<span class="hljs-number"><span class="hljs-number">1</span></span>, "destination name")); //,       . Presenter presenter = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> Presenter(<span class="hljs-keyword"><span class="hljs-keyword">view</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">dataBase</span></span>); //  presenter       presenter.Save();//   ""; //,          verify(<span class="hljs-keyword"><span class="hljs-keyword">view</span></span>); verify(<span class="hljs-keyword"><span class="hljs-keyword">dataBase</span></span>); }</code> </pre><br>  Just do not moan that the code in the test is the same as in the presenter.  It's worth it. <br><br>  We start the test and see that everything is fine, or we are doing it so that everything becomes good. <br><br>  In this development process, the test is not foreign to the code.  A test is a piece of code that a developer must issue when implementing a task.  The test is needed to make sure that the written code works correctly. <br><br>  Thinking through the code in the presenter, it is necessary to immediately think through the code in the test, it is the yin and yang of the finished task, the parts inseparable from each other. <br><br><h4>  And here is the profit </h4><br>  And now I will show where the profit is in the form of reducing development time and improving quality. <br><br>  Profit appears after further development of the presenter. <br><br>  Next you need to add data verification from the form to the “save” method.  And in the test it is necessary to check that the correct values ​​are stored in the database, and an incorrect error message is displayed. <br><br>  To do this, add the necessary code to the presenter to check the correctness of the name and if it is incorrect, then call the setErrorText () method, and do not call saving to the database. <br><br>  Next, just copy the test and edit the simulation for the presentation.  It should now return the wrong name when calling getName () and wait for the call to the setErrorText () method with the correct argument, thus it will be checked that the error message is correct.  And the simulation for the database should check that the SaveToDB method has never been called, more precisely, it was called 0 times. <br><br>  We start all tests we see, the new test works fine.  But the past does not pass.  Beat your forehead for a stupid mistake and quickly correct it. <br>  And now both tests work. <br><br>  If it were not for our first test, the testers would have found an error in preserving the correct lines and, as a result, the time to correct it would be several times longer than using unit tests.  It would be necessary to again open the right place in the code and recall how the algorithm works and make corrections.  And then, since there are no tests, check all other test cases yourself to make sure that correcting this error did not lead to another. <br><br>  When the algorithms are complex and you have to check a bunch of test cases, then saving time becomes much more noticeable.  Because without tests, you also need to spend time launching the entire application, then go through several windows to get to your own, then reproduce the test case, and this may require a lot of effort. <br><br>  But we have tests.  Therefore, we can easily imitate various test cases and fix bugs in batches, because all past test cases will also be checked. <br><br>  As a result, we got a high-quality code, and time is saved due to the fact that we don’t have to be distracted by the errors that testers found, and then also check for a long time that all other test cases did not break after correcting the error. <br><br>  And so, after a few days, when the entire presenter is ready and tested for all cases, we launch the application and are surprised to see that it works right for all test cases right away.  And we feel like a real Jedi. <br><br><h4>  Jedi become not easy. </h4><br>  Yes.  A real Jedi should know many more techniques for writing tests so that test support, when requirements change, does not devour all the benefits that came with the initial development. <br><br>  In fact, copying tests is just as bad as copying code in an application.  It is necessary to do a test that works with a data structure describing a test case.  This data structure contains input data and expected output data or expected errors. <br>  In this case, a new test is a call to the same method simply with a different data structure.  A test must be developed so that it can handle all the structures. <br><br>  I guess on the Internet you can find many such tricks that will allow you to become a real Jedi Master. <br><br>  The main thing is that you have already taken the path of the Jedi and know how to follow it :) <br><br><h4>  Read in other articles. </h4><br>  - <a href="http://habrahabr.ru/blogs/android_development/131369/">Introduction</a> <br>  - MVP and Unit tests.  Jedi Way <br>  - <a href="http://habrahabr.ru/blogs/android_development/131652/">User Interface, Testing, AndroidMock</a> <br>  - <a href="http://habrahabr.ru/blogs/android_development/132646/">Saving data.</a>  <a href="http://habrahabr.ru/blogs/android_development/132646/">Domain Model, Repository, Singleton and BDD</a> <br>  - Server side implementation, RoboGuice, testing <br>  - Small tasks, settings, logging, ProGuard </div><p>Source: <a href="https://habr.com/ru/post/131446/">https://habr.com/ru/post/131446/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../131433/index.html">Nmap - Beginner's Guide</a></li>
<li><a href="../131434/index.html">MXML compiler. Part 2. Non-string parameter initializers</a></li>
<li><a href="../131436/index.html">Why your site probably should not work</a></li>
<li><a href="../131437/index.html">Codecademy programming school received $ 2.5 million</a></li>
<li><a href="../131442/index.html">Motorola XOOM - how to disassemble the tablet and what it consists of</a></li>
<li><a href="../131447/index.html">IPhone 4S finally hacked</a></li>
<li><a href="../131448/index.html">Electronic signature of an individual (part 2)</a></li>
<li><a href="../131449/index.html">Rev. Freelancers VS Saints Web Studios</a></li>
<li><a href="../131451/index.html">Semantic tabs from dl / dt / dd without scripts</a></li>
<li><a href="../131453/index.html">Foreign trainees in Moscow startups - is it interesting?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>