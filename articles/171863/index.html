<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Multiplayer video chat</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recently I encountered several interesting projects: jssip , node-webkit . By the way, a fresh original toast was born. Since for its implementation i...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Multiplayer video chat</h1><div class="post__text post__text-html js-mediator-article">  Recently I encountered several interesting projects: <a href="http://jssip.net/">jssip</a> , <a href="https://github.com/rogerwang/node-webkit">node-webkit</a> .  By the way, a fresh original <s>toast</s> was born.  Since for its implementation it is enough just to connect ready-made components, I quickly wrote a small cross-platform application, opened the source code.  Here's what happened: <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/YrBU-Aqtvrk%3Ffeature%3Doembed&amp;xid=25657,15700023,15700186,15700190,15700253&amp;usg=ALkJrhhxAamixMwla6dNS5mxvml1_LTOrA" frameborder="0" allowfullscreen=""></iframe><br><br>  Download <a href="https://code.google.com/p/muvconf/downloads/list">here</a> .  The article will reveal some details. <br><a name="habracut"></a><br>  The project used the following libraries and tools: <br><ol><li>  <a href="http://jssip.net/">JsSIP</a> is a well-designed library from developers who quickly respond to bug reports. </li><li>  <a href="http://qooxdoo.org/">qooxdoo</a> - a la desktop GUI library, well organized work with "windows", ideal for programmers of the "old" school - no html markup, all widgets are created from javascript. </li><li>  <a href="https://github.com/rogerwang/node-webkit">node-webkit</a> - allows you to make stand-alone applications for all platforms, which, among other benefits, unlike the browser, will not bother the user with endless requests to allow the use of the camera. </li></ol>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The set almost solves the problem except for one thing - the conference should be multi-user. <br><br>  Since jssip only provides a peer-to-peer connection, we had to connect each user with each in two directions.  It turns out a little ineffectively, the number of outgoing connections is one less than the number of participants.  If a smart RTP server were used, he would take the job of distributing video streams to himself.  And then, respectively, you would need only one outgoing video stream to the server, and you can monitor and manage the conference.  But this scheme also has its drawbacks, the server is not rubber and it is much more complicated. <br><img src="https://habrastorage.org/storage2/b19/700/888/b197008886b3a2852d38772757839ec5.png"><br><br>  It is necessary to somehow maintain consistent lists of participants, in addition to be able to invite a new user or ask to chat.  For these purposes, I made a small protocol, literally three service messages.  They are transmitted in json format in the body of the SIP MESSAGE message.  It looks like this: <br><pre><code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">'version'</span></span>: <span class="hljs-string"><span class="hljs-string">'0.9.0'</span></span>, <span class="hljs-string"><span class="hljs-string">'action'</span></span>: <span class="hljs-string"><span class="hljs-string">'update'</span></span>, <span class="hljs-string"><span class="hljs-string">'conferenceId'</span></span>: <span class="hljs-string"><span class="hljs-string">'dj3al712'</span></span>, <span class="hljs-string"><span class="hljs-string">'participants'</span></span>: [ <span class="hljs-string"><span class="hljs-string">'user1@sipserver.local'</span></span>, <span class="hljs-string"><span class="hljs-string">'user2@sipserver.local'</span></span>, ... <span class="hljs-string"><span class="hljs-string">'userN@sipserver.local'</span></span> ] }</code> </pre>  You will need to try to use your own message, the standard allows it. <br><br>  Those who want to dig into the source will find them on <a href="https://github.com/vf1/muvconf">github</a> .  To build qooxdoo applications you need to run <code>generate.py build</code> , python 2.7 is required. </div><p>Source: <a href="https://habr.com/ru/post/171863/">https://habr.com/ru/post/171863/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../171849/index.html">DRM self-destructing chair</a></li>
<li><a href="../171851/index.html">Home server / NAS on Mini-ITX platform</a></li>
<li><a href="../171853/index.html">The best computer games of all times and peoples according to the version of habrasoobschestva 2013</a></li>
<li><a href="../171857/index.html">Google Play Celebrates Birthday</a></li>
<li><a href="../171861/index.html">Valve will introduce biometrics Steam Box this summer</a></li>
<li><a href="../171867/index.html">Creating a phone in a browser using WebRTC and Plivo service</a></li>
<li><a href="../171869/index.html">Microsoft allowed to install Office 2013 on different computers</a></li>
<li><a href="../171871/index.html">Speakers' Corner in Dnepropetrovsk in March: Time management and planning in Agile</a></li>
<li><a href="../171873/index.html">Learn PHPBB3 to respond to HTTP_IF_MODIFIED_SINCE</a></li>
<li><a href="../171875/index.html">Debian Linux port to Samsung Galaxy Note 10.1 (with stylus support)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>