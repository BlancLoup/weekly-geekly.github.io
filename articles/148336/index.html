<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Nth Fibonacci number for O (log N)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Reading the article on employment with ABBYY , I met in it a reference to the problem: 
 quickly - for O (log N) arithmetic operations on numbers - fi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Nth Fibonacci number for O (log N)</h1><div class="post__text post__text-html js-mediator-article">  Reading the <a href="http://habrahabr.ru/company/abbyy/blog/91837/">article on employment with ABBYY</a> , I met in it a reference to the problem: <br><blockquote>  quickly - for O (log N) arithmetic operations on numbers - find the N-th Fibonacci number </blockquote>  I thought about it and realized that only decisions that worked during O (N) come to mind.  However, a solution was later found. <br><a name="habracut"></a><br>  For convenience, I will move from notation <img src="https://habrastorage.org/files/a9a/a4d/cc2/a9aa4dcc2ca4488c931a50a43391f7d3.png" alt="N">  to <img src="https://habrastorage.org/files/392/1d4/9db/3921d49db74145619ae6a34264397168.png" alt="n">  .  I will also use the set notation: <img src="https://habrastorage.org/files/512/d38/87f/512d3887f4d64a7eab321281bc2ea82d.png" alt="\ mathbb {N} _0 = \ left \ {0, 1, 2, 3, ... \ right \}">  - non-negative integers, <img src="https://habrastorage.org/files/7ee/174/f32/7ee174f32e2b445ebe274ff9a5c86c79.png" alt="\ mathbb {N} _1 = \ left \ {1, 2, 3, ... \ right \}">  - positive integers.  The fact is that in different mathematical traditions, the set of natural numbers may or may not include 0. Therefore, now in international mathematical texts they prefer to indicate this explicitly. <br><br><h4>  So the solution </h4>  Whip [ <a href="https://habr.com/ru/post/148336/">1, p.</a>  <a href="https://habr.com/ru/post/148336/">112</a> ] gives a matrix identity of the following form: <br><img src="https://habrastorage.org/files/39e/c9a/3b0/39ec9a3b03104b67bd666dbb1ebf6669.png" alt="\ begin {pmatrix} F_ {n + 1} &amp; F_n \\ F_n &amp; F_ {n-1} \ end {pmatrix} = \ begin {pmatrix} 1 &amp; 1 \\ 1 &amp; 0 \ end {pmatrix} ^ n"><br>  An identity is presented without proof, but is fairly simply proved by induction. <br>  The matrix on the right is sometimes called the Q-matrix. <br>  Denote: <br><img src="https://habrastorage.org/files/f82/124/4de/f821244de46c441ea6c85e35dcecbfe6.png" alt="Q = \ begin {pmatrix} 1 &amp; 1 \\ 1 &amp; 0 \ end {pmatrix}"><br>  From the identity we get that <img src="https://habrastorage.org/files/9ad/bcb/6a0/9adbcb6a055a403391174e46d4ab5a21.png" alt="F_n = Q ^ {n-1} \ left (1,1 \ right)">  .  Those.  to calculate <img src="https://habrastorage.org/files/002/635/7a8/0026357a8fca4952bead6c648677cc4b.png" alt="F_n">  we need to calculate the matrix <img src="https://habrastorage.org/files/691/255/56d/69125556d2154df4bee6487e6443ea99.png" alt="Q ^ {n-1}">  and take the first element of the first line (numbering from 1). <br><br>  Since the calculation <img src="https://habrastorage.org/files/002/635/7a8/0026357a8fca4952bead6c648677cc4b.png" alt="F_n">  reduced to the construction of a matrix in the degree, then we consider this process in more detail. <br>  Suppose we have some matrix <img src="https://habrastorage.org/files/24f/b06/ce8/24fb06ce87b24fdca0932c525d2c52d7.png" alt="M">  which must be raised to a power <img src="https://habrastorage.org/files/2c1/f34/443/2c1f34443a8946caacc6394403ee0b4e.png" alt="n \ in \ mathbb {N} _1">  .  Suppose also that <img src="https://habrastorage.org/files/392/1d4/9db/3921d49db74145619ae6a34264397168.png" alt="n">  is a power of two, i.e. <img src="https://habrastorage.org/files/394/542/758/394542758996468ebcbdf0112e87bd5d.png" alt="n = 2 ^ i, i \ in \ mathbb {N} _0">  . <br><img src="https://habrastorage.org/files/1a6/140/5cb/1a61405cb6c94571997fa6604ccab9b6.png" alt="M ^ n">  can be represented as a tree: <br><img src="https://habrastorage.org/storage2/9b8/7a2/d22/9b87a2d22757b3829364031ef890b61c.png"><br>  Means: <br><img src="https://habrastorage.org/files/263/ac4/4a5/263ac44a5d924af3bab6873d2a8b6c38.png" alt="M ^ n = M ^ {n / 2} \ cdot M ^ {n / 2} = ... = \ prod ^ {n} _ {1} M ^ 1">  . <br>  Accordingly, to calculate the matrix <img src="https://habrastorage.org/files/1a6/140/5cb/1a61405cb6c94571997fa6604ccab9b6.png" alt="M ^ n">  need to calculate the matrix <img src="https://habrastorage.org/files/c0c/d9b/674/c0cd9b674a084ce384d1e4d51e9e34a5.png" alt="M ^ {n / 2}">  and multiply by itself.  To calculate <img src="https://habrastorage.org/files/c0c/d9b/674/c0cd9b674a084ce384d1e4d51e9e34a5.png" alt="M ^ {n / 2}">  you need to do the same with <img src="https://habrastorage.org/files/ee8/63f/251/ee863f25164b4e1d91006823e2558635.png" alt="M ^ {n / 4}">  etc. <br>  Obviously, the height of the tree is <img src="https://habrastorage.org/files/03a/cb2/047/03acb20472e9485cb083cb38d0c59bee.png" alt="\ log n">  . <br>  Estimate the calculation time <img src="https://habrastorage.org/files/1a6/140/5cb/1a61405cb6c94571997fa6604ccab9b6.png" alt="M ^ n">  .  Matrix <img src="https://habrastorage.org/files/24f/b06/ce8/24fb06ce87b24fdca0932c525d2c52d7.png" alt="M">  to any extent has a constant size.  Therefore, the multiplication of two matrices in any degree can be performed for <img src="https://habrastorage.org/files/4df/bcc/3b9/4dfbcc3b95864c079d19d8e8cd8122d2.png" alt="O \ left (1 \ right)">  .  All such multiplications need to be performed. <img src="https://habrastorage.org/files/d07/7b7/6e0/d077b76e0676451e83f1e9367db1c33f.png" alt="\ log_2n">  .  Therefore, the complexity of the calculation <img src="https://habrastorage.org/files/1a6/140/5cb/1a61405cb6c94571997fa6604ccab9b6.png" alt="M ^ n">  equals <img src="https://habrastorage.org/files/b9a/64a/75b/b9a64a75b4824bb6ab684142a94641cf.png" alt="O \ left (\ log n \ right)">  . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  And if n is not a power of two? </h4>  Now the question arises: what to do if <img src="https://habrastorage.org/files/392/1d4/9db/3921d49db74145619ae6a34264397168.png" alt="n">  is not a power of two?  Any natural number <img src="https://habrastorage.org/files/392/1d4/9db/3921d49db74145619ae6a34264397168.png" alt="n">  can be decomposed as a sum of numbers that are powers of two, without repetitions (we do this every time we convert a number from a binary number system to a decimal).  Those. <br><img src="https://habrastorage.org/files/9d0/e7d/fd9/9d0e7dfd974d4b8680b3894d45afbbeb.png" alt="n = \ sum_ {p \ in P} 2 ^ p">  , <br>  Where <img src="https://habrastorage.org/files/780/b04/2bc/780b042bc8734a0a9a7da4c559b9abef.png" alt="P_n \ subset \ mathbb {N} _0">  - the set of degrees through which a concrete is expressed <img src="https://habrastorage.org/files/392/1d4/9db/3921d49db74145619ae6a34264397168.png" alt="n">  .  If you remember that <img src="https://habrastorage.org/files/392/1d4/9db/3921d49db74145619ae6a34264397168.png" alt="n">  - is the degree of the matrix, then we get: <br><img src="https://habrastorage.org/files/837/5f1/019/8375f10194394cbd91b459cbb32a3c51.png" alt="M ^ n = \ prod_ {p \ in P_n} M ^ {2 ^ p}">  . <br>  Although in general the product of matrices is not commutative, i.e.  the order of the operands when multiplying is important, but for the so-called.  permutation matrices are commutative.  Matrix <img src="https://habrastorage.org/files/bde/4b5/5e1/bde4b55e1c544895ad8243e896a13074.png" alt="M ^ i">  is permutable for <img src="https://habrastorage.org/files/b5c/9d2/180/b5c9d21802834fb7b87e75e96afde70a.png" alt="M ^ j">  , <img src="https://habrastorage.org/files/d1f/296/b76/d1f296b767854552bdef630ec833f5e2.png" alt="i, j \ in \ mathbb {N} _0">  .  Consequently, we do not have to keep in mind the order of the operands when multiplying, which makes things a little easier. <br><br>  So, the calculation algorithm <img src="https://habrastorage.org/files/1a6/140/5cb/1a61405cb6c94571997fa6604ccab9b6.png" alt="M ^ n">  can be represented in the form of the following steps: <br><ol><li>  Decompose <img src="https://habrastorage.org/files/392/1d4/9db/3921d49db74145619ae6a34264397168.png" alt="n">  for the sum of powers of two as a set <img src="https://habrastorage.org/files/21b/13c/24e/21b13c24e3244115bcbb8dacadf6153c.png" alt="P_n">  . </li><li>  Calculate all elements of the set <img src="https://habrastorage.org/files/3b8/2f4/585/3b82f4585a4c4cd2b9d549b58a19eb36.png" alt="S = \ left \ {M ^ p | p \ in P_n \ right \}">  . </li><li>  Calculate <img src="https://habrastorage.org/files/8cb/138/afa/8cb138afa61d4362ac51bedf89bd4c5b.png" alt="M ^ n = \ prod_ {s \ in S} s">  . </li></ol><br>  We estimate the running time of this algorithm. <br>  The first step is performed in time. <img src="https://habrastorage.org/files/455/163/0e1/4551630e198e400b804cb0d74d9acbdc.png" alt="O \ left (\ left \ lfloor \ log_2n \ rfloor + 1 \ right) = O \ left (\ log n \ right)">  where <img src="https://habrastorage.org/files/6ae/a81/03a/6aea8103a782490381592bc74ff54f0d.png" alt="\ lfloor log_2 n \ rfloor + 1">  - the number of binary digits in <img src="https://habrastorage.org/files/392/1d4/9db/3921d49db74145619ae6a34264397168.png" alt="n">  . <br>  The second step is performed in <img src="https://habrastorage.org/files/782/c72/44a/782c7244a42c4cd68a95393eeb5e10e6.png" alt="O \ left (\ left \ left (\ lfloor \ log_2 n \ rfloor + 1 \ right) \ cdot \ log_2 n \ right) = O \ left (\ left \ log ^ 2 n \ right)">  because  we need to do no more <img src="https://habrastorage.org/files/6ae/a81/03a/6aea8103a782490381592bc74ff54f0d.png" alt="\ lfloor log_2 n \ rfloor + 1">  raising the matrix to a power. <br>  The third step is performed in <img src="https://habrastorage.org/files/70e/ffd/e40/70effde4040641c8a58a98be40499f35.png" alt="O \ left (\ left \ lfloor \ log_2 n \ rfloor \ right) = O \ left (\ left \ log n \ right)">  because  we need to perform matrix multiplication no more <img src="https://habrastorage.org/files/931/002/53f/93100253fb5e49fb9adf3b41d8d26356.png" alt="\ lfloor log_2 n \ rfloor">  time. <br><br><h4>  Optimization </h4>  Is it possible to improve the running time of this algorithm?  Yes you can.  Note that in the second step, in general, the method for calculating the matrices included in the set is not specified. <img src="https://habrastorage.org/files/d03/f9d/8d1/d03f9d8d145c4be3b6f2b34e982cc8bf.png" alt="S">  .  We know about them that for each of them <img src="https://habrastorage.org/files/8a1/116/48a/8a111648a6314b1bb6aeee19a79fd7e4.png" alt="p">  is a power of two.  If you go back to a drawing with a tree, this means that they all lie on certain tiers of the tree and for calculating large ones it is necessary to calculate smaller ones.  If we apply the <a href="http://ru.wikipedia.org/wiki/%25D0%259C%25D0%25B5%25D0%25BC%25D0%25BE%25D0%25B8%25D0%25B7%25D0%25B0%25D1%2586%25D0%25B8%25D1%258F">memoization</a> technique and save the calculated matrices on all tiers of the tree, then we can reduce the run time of the second step to <img src="https://habrastorage.org/getpro/habr/post_images/abc/212/1dd/abc2121dd6f1ee7d1e089a435719d518.png" alt="O \ left (\ log n \ right)">  and the execution time of the entire algorithm is also up <img src="https://habrastorage.org/getpro/habr/post_images/abc/212/1dd/abc2121dd6f1ee7d1e089a435719d518.png" alt="O \ left (\ log n \ right)">  .  This is exactly what is required by the condition of the problem. <br><br><h4>  Code </h4>  Let's go to coding.  I implemented the Python algorithm for two reasons: <ul><li>  it is expressive enough to replace pseudocode; </li><li>  in it is transparent <a href="http://en.wikipedia.org/wiki/Arbitrary-precision_arithmetic">long arithmetic</a> . </li></ul><br>  It turns out this: <br><pre><code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MatrixFibonacci</span></span></span><span class="hljs-class">:</span></span>
    Q = [[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>],
         [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>]]

    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span>
        self.__memo = {}

    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__multiply_matrices</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, M1, M2)</span></span></span><span class="hljs-function">:</span></span>
        <span class="hljs-string"><span class="hljs-string">""" 
        (       2x2)."""</span></span>

        a11 = M1[<span class="hljs-number"><span class="hljs-number">0</span></span>][<span class="hljs-number"><span class="hljs-number">0</span></span>]*M2[<span class="hljs-number"><span class="hljs-number">0</span></span>][<span class="hljs-number"><span class="hljs-number">0</span></span>] + M1[<span class="hljs-number"><span class="hljs-number">0</span></span>][<span class="hljs-number"><span class="hljs-number">1</span></span>]*M2[<span class="hljs-number"><span class="hljs-number">1</span></span>][<span class="hljs-number"><span class="hljs-number">0</span></span>]
        a12 = M1[<span class="hljs-number"><span class="hljs-number">0</span></span>][<span class="hljs-number"><span class="hljs-number">0</span></span>]*M2[<span class="hljs-number"><span class="hljs-number">0</span></span>][<span class="hljs-number"><span class="hljs-number">1</span></span>] + M1[<span class="hljs-number"><span class="hljs-number">0</span></span>][<span class="hljs-number"><span class="hljs-number">1</span></span>]*M2[<span class="hljs-number"><span class="hljs-number">1</span></span>][<span class="hljs-number"><span class="hljs-number">1</span></span>]
        a21 = M1[<span class="hljs-number"><span class="hljs-number">1</span></span>][<span class="hljs-number"><span class="hljs-number">0</span></span>]*M2[<span class="hljs-number"><span class="hljs-number">0</span></span>][<span class="hljs-number"><span class="hljs-number">0</span></span>] + M1[<span class="hljs-number"><span class="hljs-number">1</span></span>][<span class="hljs-number"><span class="hljs-number">1</span></span>]*M2[<span class="hljs-number"><span class="hljs-number">1</span></span>][<span class="hljs-number"><span class="hljs-number">0</span></span>]
        a22 = M1[<span class="hljs-number"><span class="hljs-number">1</span></span>][<span class="hljs-number"><span class="hljs-number">0</span></span>]*M2[<span class="hljs-number"><span class="hljs-number">0</span></span>][<span class="hljs-number"><span class="hljs-number">1</span></span>] + M1[<span class="hljs-number"><span class="hljs-number">1</span></span>][<span class="hljs-number"><span class="hljs-number">1</span></span>]*M2[<span class="hljs-number"><span class="hljs-number">1</span></span>][<span class="hljs-number"><span class="hljs-number">1</span></span>]
        r = [[a11, a12], [a21, a22]]
        <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> r

    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__get_matrix_power</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, M, p)</span></span></span><span class="hljs-function">:</span></span>
        <span class="hljs-string"><span class="hljs-string">"""    ( p   )."""</span></span>

        <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> p == <span class="hljs-number"><span class="hljs-number">1</span></span>:
            <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> M
        <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.__memo:
            <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self.__memo[p]
        K = self.__get_matrix_power(M, int(p/<span class="hljs-number"><span class="hljs-number">2</span></span>))
        R = self.__multiply_matrices(K, K)
        self.__memo[p] = R
        <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> R

    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_number</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, n)</span></span></span><span class="hljs-function">:</span></span>
        <span class="hljs-string"><span class="hljs-string">""" n-  
        (  n    )."""</span></span>
        <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> n == <span class="hljs-number"><span class="hljs-number">0</span></span>:
            <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>
        <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> n == <span class="hljs-number"><span class="hljs-number">1</span></span>:
            <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>
        <span class="hljs-comment"><span class="hljs-comment">#     ,   ,</span></span>
        <span class="hljs-comment"><span class="hljs-comment"># .. 62 = 2^5 + 2^4 + 2^3 + 2^2 + 2^0 = 32 + 16 + 8 + 4 + 1.</span></span>
        powers = [int(pow(<span class="hljs-number"><span class="hljs-number">2</span></span>, b))
                  <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (b, d) <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> enumerate(reversed(bin(n<span class="hljs-number"><span class="hljs-number">-1</span></span>)[<span class="hljs-number"><span class="hljs-number">2</span></span>:])) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> d == <span class="hljs-string"><span class="hljs-string">'1'</span></span>]
        <span class="hljs-comment"><span class="hljs-comment">#  ,   pythonic: http://pastebin.com/h8cKDkHX</span></span>

        matrices = [self.__get_matrix_power(MatrixFibonacci.Q, p)
                    <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> powers]
        <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> len(matrices) &gt; <span class="hljs-number"><span class="hljs-number">1</span></span>:
            M1 = matrices.pop()
            M2 = matrices.pop()
            R = self.__multiply_matrices(M1, M2)
            matrices.append(R)
        <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> matrices[<span class="hljs-number"><span class="hljs-number">0</span></span>][<span class="hljs-number"><span class="hljs-number">0</span></span>][<span class="hljs-number"><span class="hljs-number">0</span></span>]

mfib = MatrixFibonacci()
<span class="hljs-keyword"><span class="hljs-keyword">for</span></span> n <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">128</span></span>):
    num = mfib.get_number(n)
    print(num)
</code></pre><br>
<h4></h4>         ,     <img src="https://habrastorage.org/files/6aa/39d/949/6aa39d9496df4eb4831d243f401b76af.png" alt="F_1,F_2,...,F_n">     .    :<br>
<div class="spoiler"><b class="spoiler_title"></b><div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_number</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, n)</span></span></span><span class="hljs-function">:</span></span>
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> n == <span class="hljs-number"><span class="hljs-number">0</span></span>:
        <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>
    a = <span class="hljs-number"><span class="hljs-number">0</span></span>
    b = <span class="hljs-number"><span class="hljs-number">1</span></span>
    c = <span class="hljs-number"><span class="hljs-number">1</span></span>
    <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(n<span class="hljs-number"><span class="hljs-number">-1</span></span>):
        c = a + b
        a = b
        b = c
    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> c
</code></pre></div></div><br>
    .  <img src="https://habrastorage.org/files/eec/6f8/59f/eec6f859f2bf4182832d6f78c4c521a4.png" alt="a">   <img src="https://habrastorage.org/files/16a/f5f/3c3/16af5f3c3db04950abd78ba4391449e2.png" alt="a=10,20,...,1000">.   <img src="https://habrastorage.org/files/eec/6f8/59f/eec6f859f2bf4182832d6f78c4c521a4.png" alt="a">    <code>MatrixFibonacci</code>  <code>IterationFibonacci</code> (,    ).  10&nbsp;000     <img src="https://habrastorage.org/files/1be/a88/70d/1bea8870d3ce435f8810e38061caab25.png" alt="n \in \left [ a-5,a+5 \right )">.     <img src="https://habrastorage.org/files/002/635/7a8/0026357a8fca4952bead6c648677cc4b.png" alt="F_n">   .       : <code>n &lt;tab&gt; T1 &lt;tab&gt; T2</code>.     .<br>
<img src="https://habrastorage.org/storage2/649/7be/5d5/6497be5d5dfe9b275ae5500ff89dfc8b.png"><br>
   ,        -  <img src="https://habrastorage.org/files/ff0/223/e14/ff0223e140594cd080d81872373ce203.png" alt="n=300"> (c ,  <img src="https://habrastorage.org/files/d70/319/e63/d70319e634f9445f8a6b25331fc37d92.png" alt="F_{94}">     64   ).  ,       ,      .<br>
     <a href="https://gist.github.com/ivanyu/5768245"></a>.   gnuplot      ‚Äî <a href="http://pastebin.com/MBEbQpeK"></a>.<br>
<br>
P.S.     ,  TeX-         .  ,       .<br>
<br>
<hr><ol>
<li><a name="1"></a> .  ,  1.  . ‚Äî 3- . ‚Äî .: ¬´¬ª, 2006.</li>
</ol></div><p>Source: <a href="https://habr.com/ru/post/148336/">https://habr.com/ru/post/148336/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../148329/index.html">What have you spent your best karma on?</a></li>
<li><a href="../14833/index.html">The Eighth Yandex Cup has started</a></li>
<li><a href="../148331/index.html">Remote wipe on Android and Exchange ActiveSync</a></li>
<li><a href="../148332/index.html">Create a feedback form using Google Forms</a></li>
<li><a href="../148334/index.html">Black screen internet. An example of a minimal useful web application.</a></li>
<li><a href="../148337/index.html">Why copyright is unconstitutional</a></li>
<li><a href="../148338/index.html">ASP.NET MVC 3/4: Anti-Hacking</a></li>
<li><a href="../148339/index.html">About the complexity of the test task or is it a lot of 40 hours</a></li>
<li><a href="../148340/index.html">Template sites VS exclusive sites</a></li>
<li><a href="../148341/index.html">Comparison of various types of modulation in WDM communication systems</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>