<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Perl6 - More about blocks (Phasers)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="1. Features of working with variables and literals in Perl6 
 2. Perl6 - Operations on Variables, Anonymous Blocks 
 3. Perl6 - Conditional Operators,...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Perl6 - More about blocks (Phasers)</h1><div class="post__text post__text-html js-mediator-article">  <a href="http://habrahabr.ru/post/152403/">1. Features of working with variables and literals in Perl6</a> <br>  <a href="http://habrahabr.ru/post/153875/">2. Perl6 - Operations on Variables, Anonymous Blocks</a> <br>  <a href="http://habrahabr.ru/post/154701/">3. Perl6 - Conditional Operators, Loops</a> <br>  <a href="http://habrahabr.ru/post/154997/">4. Perl6 - Working with Functions</a> <br>  <a href="http://habrahabr.ru/post/155571/">5. Perl6 - Classes</a> <br>  <a href="http://habrahabr.ru/post/161989/">6. Perl6 - I / O Modules</a> <br>  <a href="http://habrahabr.ru/post/190114/">7. Perl6 - Comments, whitespace, parentheses</a> <br>  <a href="http://habrahabr.ru/post/190186/">8. Perl6 - Operator Overloading</a> <br>  <a href="http://habrahabr.ru/post/190266/">9. Perl6 - Working with Data Types</a> <br>  <a href="http://habrahabr.ru/post/190406/">10. Perl6 - Exception Handling</a> <br>  In the last article, we talked about catching exceptions, which happened in a special nested CATCH block.  In fact, this block is a special kind of - Phasers (I just can not translate this word).  Phasers are special nested blocks that run under certain conditions.  With what to prepare them you will see under a cat. <br><a name="habracut"></a><br><br>  Consider the main representatives of Phasers: <br><ul><li>  BEGIN {...} * <br>  This block is executed once when the application is compiled, and the last calculated result (as in the future with blocks marked with an asterisk) can be used as a result to assign a variable: <br><pre><code class="hljs perl"><span class="hljs-keyword"><span class="hljs-keyword">say</span></span> <span class="hljs-string"><span class="hljs-string">"Test say"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> $block = BEGIN { <span class="hljs-keyword"><span class="hljs-keyword">say</span></span> <span class="hljs-string"><span class="hljs-string">"Compile say"</span></span>; <span class="hljs-string"><span class="hljs-string">"Compile time "</span></span> ~ now; } <span class="hljs-keyword"><span class="hljs-keyword">say</span></span> $block;</code> </pre> <br>  In this case, the variable block will be assigned a string reflecting the time of compilation (And as I understood, the block itself is executed during compilation, and when the script is executed, the variable is assigned to the already calculated value). <br>  As a result, we will see on the screen: <br><pre> <code class="hljs perl">Compile <span class="hljs-keyword"><span class="hljs-keyword">say</span></span> Test <span class="hljs-keyword"><span class="hljs-keyword">say</span></span> Compile <span class="hljs-keyword"><span class="hljs-keyword">time</span></span> Instant:<span class="hljs-number"><span class="hljs-number">1377026323.088</span></span></code> </pre><br>  Moreover, if an exception occurs inside the BEGIN block: <br><pre> <code class="hljs perl"><span class="hljs-keyword"><span class="hljs-keyword">say</span></span> <span class="hljs-string"><span class="hljs-string">"Test say"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> $block = BEGIN { <span class="hljs-keyword"><span class="hljs-keyword">die</span></span> <span class="hljs-string"><span class="hljs-string">"Compile die"</span></span>; <span class="hljs-string"><span class="hljs-string">"Compile time "</span></span> ~ now; } <span class="hljs-keyword"><span class="hljs-keyword">say</span></span> $block;</code> </pre><br>  Then on the screen we will not see the words ‚ÄúTest say‚Äù, but immediately ‚ÄúCompile die‚Äù, although the output occurs earlier than the assignment of the result of the BEGIN block. <br>  Well, the last example of this block to dispel possible doubts: <br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">say</span></span> <span class="hljs-string"><span class="hljs-string">"Test say"</span></span>; <span class="hljs-section"><span class="hljs-section">BEGIN</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">say</span></span> <span class="hljs-string"><span class="hljs-string">"Compile say"</span></span>; } <span class="hljs-attribute"><span class="hljs-attribute">say</span></span> <span class="hljs-string"><span class="hljs-string">"Test say 2"</span></span>; <span class="hljs-section"><span class="hljs-section">BEGIN</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">say</span></span> <span class="hljs-string"><span class="hljs-string">"Compile say 2"</span></span>; }</code> </pre><br>  As a result, we will see on the screen: <br><pre> <code class="hljs perl">Compile <span class="hljs-keyword"><span class="hljs-keyword">say</span></span> Compile <span class="hljs-keyword"><span class="hljs-keyword">say</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> Test <span class="hljs-keyword"><span class="hljs-keyword">say</span></span> Test <span class="hljs-keyword"><span class="hljs-keyword">say</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span></code> </pre><br></li><li>  CHECK {...} * <br>  It is similar to the previous one, but the actions are performed after the compilation is performed but before the execution of the script itself, however, as I noted in the reverse order in the code: <br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">say</span></span> <span class="hljs-string"><span class="hljs-string">"Test say"</span></span>; <span class="hljs-section"><span class="hljs-section">BEGIN</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">say</span></span> <span class="hljs-string"><span class="hljs-string">"Compile say"</span></span>; } <span class="hljs-section"><span class="hljs-section">CHECK</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">say</span></span> <span class="hljs-string"><span class="hljs-string">"Check say"</span></span>; } <span class="hljs-attribute"><span class="hljs-attribute">say</span></span> <span class="hljs-string"><span class="hljs-string">"Test say 2"</span></span>; <span class="hljs-section"><span class="hljs-section">BEGIN</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">say</span></span> <span class="hljs-string"><span class="hljs-string">"Compile say 2"</span></span>; } <span class="hljs-section"><span class="hljs-section">CHECK</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">say</span></span> <span class="hljs-string"><span class="hljs-string">"Check say 2"</span></span>; }</code> </pre><br>  As a result, we will see on the screen: <br><pre> <code class="hljs perl">Compile <span class="hljs-keyword"><span class="hljs-keyword">say</span></span> Compile <span class="hljs-keyword"><span class="hljs-keyword">say</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> Check <span class="hljs-keyword"><span class="hljs-keyword">say</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> Check <span class="hljs-keyword"><span class="hljs-keyword">say</span></span> Test <span class="hljs-keyword"><span class="hljs-keyword">say</span></span> Test <span class="hljs-keyword"><span class="hljs-keyword">say</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span></code> </pre><br></li><li>  INIT {...} * <br>  This block is executed when running the script: <br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">say</span></span> <span class="hljs-string"><span class="hljs-string">"Test say"</span></span>; <span class="hljs-section"><span class="hljs-section">BEGIN</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">say</span></span> <span class="hljs-string"><span class="hljs-string">"Compile say"</span></span>; } <span class="hljs-section"><span class="hljs-section">CHECK</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">say</span></span> <span class="hljs-string"><span class="hljs-string">"Check say"</span></span>; } <span class="hljs-section"><span class="hljs-section">INIT</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">say</span></span> <span class="hljs-string"><span class="hljs-string">"Init say"</span></span>; } <span class="hljs-attribute"><span class="hljs-attribute">say</span></span> <span class="hljs-string"><span class="hljs-string">"Test say 2"</span></span>; <span class="hljs-section"><span class="hljs-section">BEGIN</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">say</span></span> <span class="hljs-string"><span class="hljs-string">"Compile say 2"</span></span>; } <span class="hljs-section"><span class="hljs-section">CHECK</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">say</span></span> <span class="hljs-string"><span class="hljs-string">"Check say 2"</span></span>; } <span class="hljs-section"><span class="hljs-section">INIT</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">say</span></span> <span class="hljs-string"><span class="hljs-string">"Init say 2"</span></span>; }</code> </pre><br>  As a result, the output is as follows: <br><pre> <code class="hljs perl">Compile <span class="hljs-keyword"><span class="hljs-keyword">say</span></span> Compile <span class="hljs-keyword"><span class="hljs-keyword">say</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> Check <span class="hljs-keyword"><span class="hljs-keyword">say</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> Check <span class="hljs-keyword"><span class="hljs-keyword">say</span></span> Init <span class="hljs-keyword"><span class="hljs-keyword">say</span></span> Init <span class="hljs-keyword"><span class="hljs-keyword">say</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> Test <span class="hljs-keyword"><span class="hljs-keyword">say</span></span> Test <span class="hljs-keyword"><span class="hljs-keyword">say</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span></code> </pre><br></li><li>  END {...} <br>  The block is executed when the script is stopped.  It should be noted that it is executed in the same way as in the case of CHECK in the reverse order as they were encountered in the script, and one more important thing - this block is executed even if an exception occurred in the script: <br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">say</span></span> <span class="hljs-string"><span class="hljs-string">"Test say"</span></span>; <span class="hljs-section"><span class="hljs-section">BEGIN</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">say</span></span> <span class="hljs-string"><span class="hljs-string">"Compile say"</span></span>; } <span class="hljs-section"><span class="hljs-section">CHECK</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">say</span></span> <span class="hljs-string"><span class="hljs-string">"Check say"</span></span>; } <span class="hljs-section"><span class="hljs-section">INIT</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">say</span></span> <span class="hljs-string"><span class="hljs-string">"Init say"</span></span>; } <span class="hljs-section"><span class="hljs-section">END</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">say</span></span> <span class="hljs-string"><span class="hljs-string">"End say"</span></span>; } <span class="hljs-attribute"><span class="hljs-attribute">say</span></span> <span class="hljs-string"><span class="hljs-string">"Test say 2"</span></span>; <span class="hljs-section"><span class="hljs-section">BEGIN</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">say</span></span> <span class="hljs-string"><span class="hljs-string">"Compile say 2"</span></span>; } <span class="hljs-section"><span class="hljs-section">CHECK</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">say</span></span> <span class="hljs-string"><span class="hljs-string">"Check say 2"</span></span>; } <span class="hljs-section"><span class="hljs-section">INIT</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">say</span></span> <span class="hljs-string"><span class="hljs-string">"Init say 2"</span></span>; } <span class="hljs-section"><span class="hljs-section">END</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">say</span></span> <span class="hljs-string"><span class="hljs-string">"End say 2"</span></span>; } <span class="hljs-attribute"><span class="hljs-attribute">die</span></span> <span class="hljs-string"><span class="hljs-string">"test die"</span></span>;</code> </pre><br>  As a result, we see on the screen: <br><pre> <code class="hljs perl">Compile <span class="hljs-keyword"><span class="hljs-keyword">say</span></span> Compile <span class="hljs-keyword"><span class="hljs-keyword">say</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> Check <span class="hljs-keyword"><span class="hljs-keyword">say</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> Check <span class="hljs-keyword"><span class="hljs-keyword">say</span></span> Init <span class="hljs-keyword"><span class="hljs-keyword">say</span></span> Init <span class="hljs-keyword"><span class="hljs-keyword">say</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> Test <span class="hljs-keyword"><span class="hljs-keyword">say</span></span> Test <span class="hljs-keyword"><span class="hljs-keyword">say</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> test <span class="hljs-keyword"><span class="hljs-keyword">die</span></span> in block at bla\bla\bla\perl.p6:<span class="hljs-number"><span class="hljs-number">37</span></span> End <span class="hljs-keyword"><span class="hljs-keyword">say</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> End <span class="hljs-keyword"><span class="hljs-keyword">say</span></span></code> </pre><br></li><li>  ENTER {...} * <br>  This block is executed during any execution of a block in which an ENTER block is nested: <br><pre> <code class="hljs perl">loop (<span class="hljs-keyword"><span class="hljs-keyword">my</span></span> $i=<span class="hljs-number"><span class="hljs-number">0</span></span>; $i &lt;<span class="hljs-number"><span class="hljs-number">4</span></span>; $i++) { ENTER { <span class="hljs-keyword"><span class="hljs-keyword">say</span></span> $i; } <span class="hljs-keyword"><span class="hljs-keyword">say</span></span> <span class="hljs-string"><span class="hljs-string">"Another loop entry"</span></span>; } ENTER { <span class="hljs-keyword"><span class="hljs-keyword">say</span></span> <span class="hljs-string"><span class="hljs-string">"Test Enter"</span></span>; }</code> </pre><br>  The output of this script: <br><pre> <code class="hljs pgsql">Test Enter <span class="hljs-number"><span class="hljs-number">0</span></span> Another <span class="hljs-keyword"><span class="hljs-keyword">loop</span></span> entry <span class="hljs-number"><span class="hljs-number">1</span></span> Another <span class="hljs-keyword"><span class="hljs-keyword">loop</span></span> entry <span class="hljs-number"><span class="hljs-number">2</span></span> Another <span class="hljs-keyword"><span class="hljs-keyword">loop</span></span> entry <span class="hljs-number"><span class="hljs-number">3</span></span> Another <span class="hljs-keyword"><span class="hljs-keyword">loop</span></span> entry</code> </pre><br>  It is also worth noting that Phasers can be put into each other. <br></li><li>  LEAVE {...} <br>  It is executed when the block in which LEAVE was nested is completed.  It was here that I once again ran into problems, because of which I postponed the study last time - I again began to receive vague errors if I put a wrong space.  And the example with the LEAVE block was simply not compiled for me, notifying me of an error with the wrong number of parameters for the return operator, which I by the way did not try to use.  But I'll give an example all the same: <br><pre> <code class="hljs perl">loop (<span class="hljs-keyword"><span class="hljs-keyword">my</span></span> $i=<span class="hljs-number"><span class="hljs-number">0</span></span>; $i &lt;<span class="hljs-number"><span class="hljs-number">4</span></span>; $i++) { LEAVE { <span class="hljs-keyword"><span class="hljs-keyword">say</span></span> <span class="hljs-string"><span class="hljs-string">"Test leave"</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">say</span></span> <span class="hljs-string"><span class="hljs-string">"Another loop entry"</span></span>; }</code> </pre><br>  If anyone can compile this, please tell us in the comments. <br>  As I later found out, the part associated with exiting the block does not work.  But move on: <br></li><li>  KEEP {...} <br>  This block is executed when the entire block is successfully executed (it was not able to check how exactly the success is determined, since the script using such a block is not compiled). <br></li><li>  UNDO {...} <br>  It is similar to the previous block, but if the execution was not completed successfully.  The example also does not compile. <br></li><li>  FIRST {...} * <br>  This block is executed only when the block is first launched, in which FIRST is nested: <br><pre> <code class="hljs perl">loop (<span class="hljs-keyword"><span class="hljs-keyword">my</span></span> $i=<span class="hljs-number"><span class="hljs-number">0</span></span>; $i &lt;<span class="hljs-number"><span class="hljs-number">4</span></span>; $i++) { FIRST {<span class="hljs-keyword"><span class="hljs-keyword">say</span></span> <span class="hljs-string"><span class="hljs-string">"Test keep"</span></span>;} <span class="hljs-keyword"><span class="hljs-keyword">say</span></span> <span class="hljs-string"><span class="hljs-string">"Another loop entry"</span></span>; }</code> </pre><br>  Accordingly, the conclusion: <br><pre> <code class="hljs pgsql">Test keep Another <span class="hljs-keyword"><span class="hljs-keyword">loop</span></span> entry Another <span class="hljs-keyword"><span class="hljs-keyword">loop</span></span> entry Another <span class="hljs-keyword"><span class="hljs-keyword">loop</span></span> entry Another <span class="hljs-keyword"><span class="hljs-keyword">loop</span></span> entry</code> </pre><br></li></ul><br>  Also in a separate list are displayed operators that act like Phasers, which are written in lower case: <br><ul><li>  do {...} * <br>  Performs all operations in the block, and the result is in the form of a term.  Usage example: <br><pre> <code class="hljs perl"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> {<span class="hljs-keyword"><span class="hljs-keyword">my</span></span> $a = <span class="hljs-number"><span class="hljs-number">10</span></span>; $a = $a*<span class="hljs-number"><span class="hljs-number">2</span></span>;} == <span class="hljs-number"><span class="hljs-number">20</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">say</span></span> <span class="hljs-string"><span class="hljs-string">"It's ok"</span></span>; }</code> </pre><br>  So we put the calculation inside the if block, and the do block itself can be used later for comparison.  An example is of course very bad for your fingers (you can use it with a ruler for this), but in order to show why it can be used, the example will fit. <br></li><li>  once {...} * <br>  This block will have to be executed only once.  Unfortunately, I could not verify it, since we do not compile the example: <br><pre> <code class="hljs perl"><span class="hljs-keyword"><span class="hljs-keyword">my</span></span> $i = once { <span class="hljs-keyword"><span class="hljs-keyword">say</span></span> <span class="hljs-string"><span class="hljs-string">"Test once"</span></span>; }; $i(); $i(); $i();</code> </pre><br>  Complains that could not find the &amp; once function. <br></li><li>  try {...} * <br>  A block familiar in the previous article ignoring all exceptions. <br></li><li>  lazy {...} * <br>  According to the description should return the "promise" of implementation.  Unfortunately, the result is for him as with the 'once' block.  As I understand this unit should help us in the organization of "lazy calculations." <br></li><li>  async {...} <br>  Executes a block in a new thread.  Unfortunately, again, I could not compile the example.  But now I have an idea of ‚Äã‚Äãhow work with threads will occur. <br></li></ul><br>  Well, perhaps it's time to finish.  Somehow even a long post turned out because of examples, but I hope you enjoyed it. </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/190778/">https://habr.com/ru/post/190778/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../190760/index.html">Yandex and Schema.org: the standardization of the ‚ÄúIslands‚Äù has begun</a></li>
<li><a href="../190764/index.html">What is the use of 3D printers? Arduino Robotic Arm</a></li>
<li><a href="../190766/index.html">"Anti-malignant shustyak"</a></li>
<li><a href="../190768/index.html">ORFO released a beta spell checker for Libre Office for Linux</a></li>
<li><a href="../190772/index.html">HabrDesigner update</a></li>
<li><a href="../190784/index.html">Runetology (206): Alexey Soloviev, Managing Partner of Prostor Capital</a></li>
<li><a href="../190786/index.html">Create a Zoomquilt</a></li>
<li><a href="../190788/index.html">New Brief: Samsung Announces 3D V-NAND Flash Memory SSDs</a></li>
<li><a href="../190790/index.html">Why Emacs?</a></li>
<li><a href="../190792/index.html">Jiayu G4 - the long-awaited Chinese flagship</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>