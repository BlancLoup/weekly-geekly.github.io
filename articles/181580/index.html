<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>About color spaces</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I am a programmer by education, but for work I had to deal with image processing. And then an amazing and unexplored world of color spaces opened up f...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>About color spaces</h1><div class="post__text post__text-html js-mediator-article">  I am a programmer by education, but for work I had to deal with image processing.  And then an amazing and unexplored world of color spaces opened up for me.  I don‚Äôt think that designers and photographers will learn something new for themselves, but perhaps this knowledge will be useful to someone, at least useful, and interesting at best. <br><a name="habracut"></a><br>  The main task of color models is to make it possible to set colors in a unified way.  In fact, color models define certain coordinate systems that allow you to uniquely determine the color. <br><br>  The most popular today are the following color models: RGB (used mainly in monitors and cameras), CMY (K) (used in printing), HSI (widely used in computer vision and design).  There are many other models.  For example, CIE XYZ (standard models), YCbCr, etc. The following is a brief overview of these color models. <br><br><h4>  RGB color cube </h4><br>  The idea of ‚Äã‚Äãan additive (ie, based on the mixing of colors from directly emitting objects) color reproduction model arises from the Grassmann law.  For the first time a similar model was proposed by James Maxwell in 1861, but it became most common much later. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In the RGB model (from the English. Red - red, green - green, blue - blue) all colors are obtained by mixing the three basic (red, green and blue) colors in various proportions.  The share of each base color in the final can be perceived as a coordinate in the corresponding three-dimensional space, so this model is often called a color cube.  In Fig.  Figure 1 shows the color cube model. <br><br><img src="https://habrastorage.org/storage2/fd3/947/5d6/fd39475d6212c83dadbc93dfa798e35d.png"><br><br>  Most often, the model is built so that the cube is single.  The points corresponding to the base colors are located at the vertices of the cube lying on the axes: red - (1; 0; 0), green - (0; 1; 0), blue - (0; 0; 1).  At the same time, secondary colors (obtained by mixing two basic colors) are located at other vertices of the cube: cyan - (0; 1; 1), magenta - (1; 0; 1) and yellow - (1; 1; 0).  Black and white colors are located at the origin (0; 0; 0) and the point (1; 1; 1) furthest from the origin.  Fig.  shows only the vertices of the cube. <br><br><img src="https://habrastorage.org/storage2/0ce/f23/537/0cef23537f88c473e267ca5352942778.png"><br><br>  Color images in the RGB model are built from three separate channel images.  Tab.  Shows the decomposition of the original image into color channels. <br><br><img src="https://habrastorage.org/storage2/468/741/93e/46874193e76ebc799cbfb5cf17ce65a2.png"><br><br>  In the RGB model, a certain number of bits are allocated for each color component, for example, if 1 byte is allocated for encoding each component, then using this model, 2 ^ (3 * 8) ‚âà16 million colors can be encoded.  In practice, such encoding is redundant, since  most people are not able to distinguish so many colors.  Often limited to the so-called.  mode "High Color" in which the coding of each component is given 5 bits.  In some applications, a 16-bit mode is used in which 5 bits are allocated for encoding the R and B components, and 6 bits for encoding the G component.  This mode, firstly, takes into account a higher human sensitivity to green color, and secondly, allows more efficient use of computer architecture features.  The number of bits set aside for encoding one pixel is called the color depth.  Tab.  Examples of coding the same image with different color depths are given. <br><br><img src="https://habrastorage.org/storage2/470/57c/408/47057c4085380db9164fc2df4b9d24d8.png"><br><br><h4>  Subtractive CMY and CMYK models </h4><br>  The subtractive CMY model (from the English. Cyan - cyan, magenta - magenta, yellow - yellow) is used to obtain hard copies (printing) of images, and in some ways is the antipode of the RGB color cube.  If in the RGB model, the base colors are the colors of the light sources, then the CMY model is the color absorption model. <br><br>  For example, paper coated with yellow dye does not reflect blue light, i.e.  we can say that the yellow dye subtracts blue from the reflected white light.  Similarly, the blue dye subtracts red from the reflected light, and the purple dye subtracts green.  That is why this model is called subtractive.  The translation algorithm from the RGB model to the CMY model is very simple: <br><br><img src="https://habrastorage.org/storage2/c8a/759/117/c8a759117f0e6797c225767a7ed9ec03.png"><br><br>  It is assumed that the RGB colors are in the interval [0; 1].  It is easy to see that to get black in the CMY model, you need to mix cyan, magenta and yellow in equal proportions.  This method has two serious drawbacks: firstly, the black color obtained as a result of mixing will look brighter than the ‚Äúreal‚Äù black, and secondly, this leads to significant dye costs.  Therefore, in practice, the CMY model is extended to the CMYK model by adding black (eng. Black) to the three colors. <br><br><h4>  Color space hue, saturation, intensity (HSI) </h4><br>  The RGB and CMY (K) color models discussed earlier are quite simple in terms of hardware implementation, but they have one major drawback.  It is very difficult for a person to operate with colors specified in these models, since  when describing colors, a person does not use the content in the described color of the basic components, but in somewhat different categories. <br><br>  Most often, people use the following concepts: color tone, saturation and lightness.  At the same time, speaking of the color tone, they usually mean color.  Saturation indicates how much the described color is diluted with white (pink, for example, is a mixture of red and white).  The concept of lightness is most difficult to describe, and with some assumptions, lightness can be understood as the intensity of light. <br><br>  If we consider the projection of the RGB-cube in the direction of the diagonal white-black, we get a hexagon: <br><br><img src="https://habrastorage.org/storage2/d00/2db/834/d002db834bb1bf82b2e08374e5c14cb7.png"><br><br>  All gray colors (lying on the diagonal of the cube) are projected at the center point.  To use this model to encode all the colors available in the RGB model, you need to add a vertical axis of lightness (or intensity) (I).  The result is a hex cone: <br><br><img src="https://habrastorage.org/storage2/42a/4cf/92d/42a4cf92d8c98565bf141abd25966336.png"><br><br>  In this case, the tone (H) is set by the angle relative to the red axis, the saturation (S) characterizes the purity of the color (1 means a completely pure color, and 0 corresponds to a shade of gray).  It is important to understand that tone and saturation are not defined at zero intensity. <br><br><img src="https://habrastorage.org/storage2/ada/11e/322/ada11e322c0c862b65447614eb5b3399.png"><br><br>  The algorithm for converting from RGB to HSI can be performed using the following formulas: <br><br><img src="https://habrastorage.org/storage2/ab9/8c3/118/ab98c311846b9cebf88bbd3193606f64.png"><br><br>  The color model HSI is very popular among designers and artists, because  this system provides direct control of tone, saturation and brightness.  These properties make this model very popular in computer vision systems.  Tab.  The image changes with increasing and decreasing intensity, tone (¬± 50 ¬∞ rotation is performed) and saturation are shown. <br><br><img src="https://habrastorage.org/storage2/d44/483/986/d4448398615fffb178e4186ceebb853c.png"><br><br><h4>  CIE XYZ model </h4><br>  For the purpose of unification, an international standard color model was developed.  As a result of a series of experiments, the International Commission on Illumination (CIE) determined the addition curves of the main (red, green and blue) colors.  In this system, each visible color corresponds to a certain ratio of primary colors.  At the same time, in order for the developed model to reflect all the colors visible by a person, it was necessary to introduce a negative amount of base colors.  To get away from the negative values ‚Äã‚Äãof CIE, entered the so-called.  unreal or imaginary primary colors: X (imaginary red), Y (imaginary green), Z (imaginary blue). <br><br>  When describing a color, the values ‚Äã‚ÄãX, Y, Z are called standard main excitations, and the coordinates obtained on their basis are called standard color coordinates.  The standard addition curves X (Œª), Y (Œª), Z (Œª) (see Fig.) Describe the sensitivity of the average observer to standard excitations: <br><br><img src="https://habrastorage.org/storage2/bf3/063/64f/bf306364f23f3df9d2dbd1760b472a62.png"><br><br>  In addition to standard color coordinates, the concept of relative color coordinates is often used, which can be calculated using the following formulas: <br><br><img src="https://habrastorage.org/storage2/8b0/228/6b6/8b02286b657febf231461b01f43e4e82.png"><br><br>  It is easy to see that x + y + z = 1, which means that for a unique assignment of relative coordinates, any pair of values ‚Äã‚Äãis sufficient, and the corresponding color space can be represented as a two-dimensional graph: <br><br><img src="https://habrastorage.org/storage2/140/ad0/598/140ad05980573aea2dbaae70e261f81a.png"><br><br>  The set of colors defined in this way is called the CIE triangle. <br>  It is easy to see that the CIE triangle describes only the color tone, but does not describe the brightness.  To describe the brightness, an additional axis is introduced that passes through a point with coordinates (1/3; 1/3) (the so-called white point).  The result is a CIE color body (see Fig.): <br><br><img src="https://habrastorage.org/storage2/1e2/ef1/ee0/1e2ef1ee0d5d8ce43a7017ff097435e3.png"><br><br>  This body contains all the colors visible to the average observer.  The main disadvantage of this system is that, using it, we can only ascertain the coincidence or difference of two colors, but the distance between two points of this color space does not correspond to the visual perception of the difference of colors. <br><br><h4>  CIELAB model </h4><br>  The main goal in the development of CIELAB was to eliminate the non-linearity of the CIE XYZ system from the point of view of human perception.  The abbreviation LAB is usually understood as the CIE L * a * b * color space, which is currently an international standard. <br><br>  In the CIE L * a * b system, the coordinate L means lightness (in the range from 0 to 100), and the coordinates a, b indicate the position between the green-purple and blue-yellow colors.  The formulas for converting coordinates from CIE XYZ to CIE L * a * b * are listed below: <br><br><img src="https://habrastorage.org/storage2/c3a/00b/758/c3a00b758a6d166daf0e6697c25c841a.png"><br>  where (Xn, Yn, Zn) are the coordinates of the white point in the CIE XYZ space, and <br><br><img src="https://habrastorage.org/storage2/1bd/d24/1d8/1bdd241d86c3a2828e0c796634b3772e.png"><br>  In Fig.  CIE L * a * b * color body sections are presented for two lightness values: <br><br><img src="https://habrastorage.org/storage2/07b/def/c0e/07bdefc0e47972847436fc13d56ad867.png"><br><br>  Compared to the CIE XYZ system, the Euclidean distance (‚àö ((L1-L2) ^ 2 + (a1 ^ * - a2 ^ *) ^ 2 + (b1 ^ * - b2 ^ *) ^ 2)) in the CIE L * a system * b * corresponds much better to the color difference perceived by a person, however, the standard formula for color difference is the extremely complex CIEDE2000. <br><br><h4>  TV color difference color systems </h4><br>  In the YIQ and YUV color systems, color information is represented as a luminance signal (Y) and two color difference signals (IQ and UV, respectively). <br><br>  The popularity of these color systems is due primarily to the emergence of color television.  Since  The Y component essentially contains the original image in grayscale, the signal in the YIQ system could be received and correctly displayed on both old black and white TVs and on new color TVs. <br><br>  The second, perhaps more important advantage of these spaces is the separation of information about the color and brightness of the image.  The fact is that the human eye is very sensitive to changes in brightness, and much less sensitive to changes in color.  This allows you to transfer and store information about chromaticity with reduced depth.  It is on this feature of the human eye that the most popular today image compression algorithms (including jpeg) are built.  To translate from RGB space to YIQ, you can use the following formulas: <br><br><img src="https://habrastorage.org/storage2/5f8/d22/543/5f8d225436403f163ca1dbfd7ce9b38f.png"></div><p>Source: <a href="https://habr.com/ru/post/181580/">https://habr.com/ru/post/181580/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../181564/index.html">Is it dead PC? 20 years of controversy</a></li>
<li><a href="../181568/index.html">Impressions of working with Google Glass</a></li>
<li><a href="../181570/index.html">Ubuntu bug number 1 fixed</a></li>
<li><a href="../181572/index.html">What is common between Prince Igor and TCP / IP?</a></li>
<li><a href="../181578/index.html">Odessa Innovation Week</a></li>
<li><a href="../181584/index.html">Atomic commit mechanism in SQLite</a></li>
<li><a href="../181586/index.html">USB support in KolibriOS: what's inside? Part 1: general scheme</a></li>
<li><a href="../181588/index.html">Do I need undocumented APIs?</a></li>
<li><a href="../181592/index.html">Login to the site under someone else's account without having a password</a></li>
<li><a href="../181594/index.html">Communication experience with CyanogenMod 10.1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>