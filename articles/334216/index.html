<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Advanced tactics of the game "Minesweeper"</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="[Friday's translation of the 1999 article by one of the authors of the Thief Sean Barrett game engine] 

 Unpleasant situation in the "Saper" 
 In thi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Advanced tactics of the game "Minesweeper"</h1><div class="post__text post__text-html js-mediator-article">  <i>[Friday's translation of the 1999 article by one of the authors of the Thief Sean Barrett game engine]</i> <br><br><h2>  Unpleasant situation in the "Saper" </h2><br>  In this position, I know that there are a lot of mines around me, but I cannot determine where they are.  A few mines can be in one of two places (pink or blue), a group of mines can be located in one of two combinations (light / dark green).  In addition, there is still a difficult situation with "5" and "6" in the upper left corner, which I did not single out. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/ec5/9a7/548/ec59a7548eef435a8eeb090ee8012fe4.png"></div><br>  <i>Blue / pink - mutually exclusive pairs, light / dark green - mutually exclusive groups</i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Minesweeper: Logic or Probability </h2><br>  In the "Minesweeper" can be played in two ways: as in a logical or in a probability game. <br><br>  Technically, probability implies logic.  If you can logically prove that the mine should be in a certain place, then the probability is 100%.  If you can prove that it is not in this place, then the probability is 0%.  That is, in a sense, only probabilities are important to us.  However, the player uses logical deduction to recognize such 100% situations.  Sometimes, especially at low levels of complexity, it is enough to pass a level, no calculation of probabilities is required. <br><br>  But there are situations where the entire logic of the world cannot save you.  A simple example is the ‚ÄúT‚Äù situation, which is seen down the center.  It is slightly complicated by additional adjacent mines.  (In the simplest case, ‚Äú2‚Äù is replaced by ‚Äú1‚Äù, and ‚Äú5‚Äù is replaced by ‚Äú3‚Äù so that the situation is symmetrical.) <br><a name="habracut"></a><br>  There is <b>no</b> way to get more information about the probable position of one mine left in one of these cells.  Chances are fifty to fifty - you can throw a coin.  When you get something like this, it is better to immediately make a choice and do not put it off until later.  If the guess is incorrect, then you at least save time on resolving the rest of the field.  (But personally, I strive for completeness, so I leave such cases for later. And don‚Äôt blame yourself for not guessing. When winning or losing depends on a coin toss, this is a bad game design.) <br><br><h2>  Tactics at the end of the game </h2><br>  In the endgame, you can use a very simple tactic - count the number of remaining mines.  Suppose I decided everything except the bottom right of the field.  There may be only two configurations of mines corresponding to the data: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/af4/4aa/7a8/af44aa7a8da92ecab2486cec4ecba527.gif"></div><br>  <i>Possible configurations of mines in the lower right corner</i> <br><br>  If you get such a position and the counter says that there are only two mines left, then the answer is ready: it should be configuration <b>B.</b> <br><br>  If the meter says that there are three mines left, then this is not necessarily <b>A</b> configuration.  This may be scheme <b>B</b> with a remaining mine in one of the right bottom groups of 3x3 cells. <br><br>  In fact, the odds are in favor of configuration <b>b</b> . <br><br><h2>  Local probabilities </h2><br>  If you explore probabilities only ‚Äúlocally,‚Äù you can see that each of the cells in the marked mutually exclusive groups has a 50-50 chance of being a mine.  Saying ‚Äúlocally‚Äù, I mean that if next to two unknown cells is ‚Äú1‚Äù, then the probability of a hidden mine is 50% for each of them. <br><br>  This is exactly the situation at the bottom in the center: each of the neighboring cells adjacent to an unknown pair contains exactly one mine, that is, each of the adjacent data fragments suggests a 50 percent probability.  In the upper left corner is a similar situation: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1e5/8dc/9a1/1e58dc9a1016eca05f6504b64b6251d9.gif"></div><br>  <i>With absolute accuracy in each of the pink ovals there is one mine, that is only 7 minutes left</i> <br><br>  The situation in the lower right corner is also somewhat similar: next to each of the numbers on the ‚Äúborder‚Äù there is one mine and two cells in which it can be. <br><br>  If there is one hidden mine next to the cell, but three closed cells, then the probability of a mine in each of the cells is 33%;  each of the four closed cells has a probability of 25%.  If we have two hidden mines and three closed cells, then each cell has a probability of 66%. <br><br>  Here is the situation with "local probability" for the entire field: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/218/2b8/e03/2182b8e03fccc0e1da41f43de9dce557.gif"></div><br><br>  As you can see, several cells in the upper left area have several probabilities;  closed cell next to "2" and "6" and one next to "3" and "5".  (Thanks to them, the cell next to ‚Äú5‚Äù and ‚Äú6‚Äù still has a probability of 66%, so there is no visible discrepancy.) <br><br><h2>  Local Conflict Resolution </h2><br>  You probably wonder what the presence of conflicting local probabilities means.  Intuition may suggest that the greatest probability should win.  For example, a cell between ‚Äú6‚Äù and ‚Äú2‚Äù should actually have 66%.  This will mean that in the extreme left cell with a probability of 50%, it is actually equal to 33%.  Or you can try to somehow combine priorities: perhaps the probability will be 5/6 or the average. <br><br>  But none of this is really wrong.  The data from which the probabilities are derived is <i>not</i> independent of each other, so no straightforward mathematical calculations will be true.  The reason for the correctness of the local guess about 50% down in the center is that it is really independent of anything else.  If we randomly recreate the field according to the data we already have, then exactly half of the mine models will be in one of two cells.  (Probability sometimes confuses people who cannot figure out which rules for calculating probabilities apply in a particular situation. This approach is guaranteed the right way because it is based on determining probabilities in statistical prediction: the calculation is performed by measuring in all possible configurations that could lead to the current situation, with all of them considered equally likely.) <br><br>  That is, for correct measurements in the situation in the upper left corner, you need to consider all possible mine configurations that satisfy the data already collected, and then calculate what percentage of them contain a mine in the desired position. <br><br>  Direct counting would be time consuming.  Fortunately, there are other ways. <br><br><h2>  Counting configurations </h2><br>  An abstract method for calculating probabilities consists in traversing all possible mine configurations, discarding configurations that do not match the collected data, and calculating statistics for each of the possible positions. <br><br>  A more practical approach is to consider only those options that cannot be discarded.  To do this, we need to apply logic and generate all possible situations that may correspond to the available data.  I have already shown two options for the lower right corner, but the probabilities for the upper left: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c32/0a8/53c/c320a853c30bf9bbe1cd93fcd6a5372d.gif"></div><br>  <i>Possible configurations for the upper left corner</i> <br><br>  (As before, the oval with a height of two cells shows that the mine can with equal probability be located in any of the cells. I could enumerate each of these two cases separately, that is, we would have 10 configurations, but there is no use for us The structure of the table: two rows (numbered as "1" and "2") differ in the position of the mines in the fourth row. Three columns are characterized by the position of mines in the second row.) <br><br>  Now there is a temptation to exclaim: ‚ÄúAha, here are five cases, so that we can calculate the number of cases for each of the possible mine positions.‚Äù  For example, the mine is in the fourth row (near the lower left ‚Äú1‚Äù) is on the left in the upper two cases, and in the right in the three lower cases.  Therefore, we can decide that it has a probability of 60% to be on the right, next to "6."  (This is a position with conflicting local probabilities of 50% and 66%.) <br><br>  However, we miss one subtlety - the number of mines in some cases is different: <b>A1 has</b> six minutes, <b>B2 has</b> four, and five each in all other cases. <br><br><h2>  We consider mines not found </h2><br>  For a detailed study of this subtlety, let's return to a simpler situation in the lower right corner. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/af4/4aa/7a8/af44aa7a8da92ecab2486cec4ecba527.gif"></div><br>  <i>Possible configurations with lower right</i> <br><br>  Suppose I have already discovered the rest of the field, and I know that there are exactly three mines left. <br><br>  It is tempting to assume that the most likely configuration is <b>A</b> with exactly three mines.  But this is not true. <br><br>  Another temptation is to remember how many were mines and how many total cells, and say: ‚ÄúWhat are the chances that the lower 3x3 area will be empty?‚Äù  This is also not true.  It is very difficult to explain why this is a mistake, probably, it can be compared with <a href="https://ru.wikipedia.org/wiki/%25D0%259F%25D0%25B0%25D1%2580%25D0%25B0%25D0%25B4%25D0%25BE%25D0%25BA%25D1%2581_%25D0%259C%25D0%25BE%25D0%25BD%25D1%2582%25D0%25B8_%25D0%25A5%25D0%25BE%25D0%25BB%25D0%25BB%25D0%25B0">the Monty Hall paradox</a> .  However, suffice it to say that in reality the chances in this situation <i>do not depend</i> on the total number of mines and the size of the field. <br><br>  The correct answer is: how many possible configurations of the three minutes correspond to our knowledge of the field?  From the figure we see that two: configurations <b>A</b> and <b>B.</b>  But in <b>B there are</b> only two mines.  The third mine can be in any of the cells of the lower 3x3 area, about which we have not yet collected any data.  That is, there are <b>nine</b> variants of <b>B</b> configurations, I just did not depict them all. <br><br>  Therefore, there are only ten possible configurations.  Each of the ten configurations is equally likely.  (As I mentioned earlier, this is critically important to understand the likelihood. The chances that the computer generated any of these options are small, but they are equally small, because the computer [as far as we know] gave <b>each</b> configuration equal chances. You can throw away a configuration of ten "eagles" in a row and a sequence of <i>two "eagles", one "tails", one "eagle", three "tails", one "eagle", one "tails" and one "eagle"</i> . More likely to throw out a total of five " Eagles "and five" heads, but not any specific <i>sequence of</i> "eagles" and "  reshek ". In the" Sapyor "we are dealing with mine <i>configurations</i> that are similar to the sequence of coin flips.) <br><br>  Since each of the ten configurations (nine for <b>B</b> , one for <b>A</b> ) is equally probable, configuration <b>B</b> in this case has a probability of 90%! <br><br>  If there were four mines at this stage, then configuration <b>A</b> would have nine options.  Configuration <b>B</b> would have one option for each of the two minutes in the lower left corner;  this is <i><b>C</b> (9.2)</i> , that is, 9! / ((9-2)! * 2!) or 9 * 8/2, equal to 36. In this case, configuration <b>B</b> would have only 75% probability. <br><br>  With five mines, configuration <b>A</b> would have 36 options, and configuration <b>B would have</b> 9 * 8 * 7/6 = 84 options;  that is, the chances of <b>B</b> would be slightly more than 66%. <br><br>  In the case of six minutes, <b>B</b> would have a probability of 60%.  With seven mines, <b>B</b> would have only 50%.  With eight mines, <b>B</b> would be <i>less</i> likely than A;  in this case, with so many mines in the remaining positions of the configurations it becomes smaller.  Consider the worst case when 11 minutes left.  (The chance of this is extremely small, but if such a situation arises, then these probabilities are applicable.) In configuration <b>B</b> , in all closed cells there will be mines, in configuration <b>A</b> in all but one.  That is, there are 9 options for <b>A</b> and only one for B. <br><br><h2>  Final decision </h2><br>  On the field we have, there are nine minutes left.  One of them is located in the central lower area, and its position is completely independent, so you can ignore it.  That is, we consider the entire field, except for this case: only eight minutes have not been found.  (To avoid confusion, I will continue to explicitly count the oval in the upper left corner, because this is an image of the upper left corner.) <br><br>  Any combination of the top left and bottom right configurations can be added, except for one of them (A1 + A), which requires nine minutes.  Therefore, we must list each of these possible configurations and count the remaining mines and closed cells. <br><br>  In fact, the number of closed cells is independent: there are nine in the lower right corner and three in the upper left, that is, a total of 12. <br><br><table><tbody><tr><th>  Top left </th><th>  Bottom right </th><th>  Min </th><th>  Min left </th><th>  Closed options </th></tr><tr><td>  A1 </td><td>  B </td><td>  eight </td><td>  0 </td><td>  one </td></tr><tr><td>  B1 </td><td>  A </td><td>  eight </td><td>  0 </td><td>  one </td></tr><tr><td>  B1 </td><td>  B </td><td>  7 </td><td>  one </td><td>  12 </td></tr><tr><td>  A2 </td><td>  A </td><td>  eight </td><td>  0 </td><td>  one </td></tr><tr><td>  A2 </td><td>  B </td><td>  7 </td><td>  one </td><td>  12 </td></tr><tr><td>  B2 </td><td>  A </td><td>  7 </td><td>  one </td><td>  12 </td></tr><tr><td>  B2 </td><td>  B </td><td>  6 </td><td>  2 </td><td>  66 </td></tr><tr><td>  C2 </td><td>  A </td><td>  eight </td><td>  0 </td><td>  one </td></tr><tr><td>  C2 </td><td>  B </td><td>  7 </td><td>  one </td><td>  12 </td></tr></tbody></table><br>  Thus, there are 118 possible combinations.  Based on this, we can independently calculate the number of combinations for each of the left upper and right lower configurations: <br><br><table><tbody><tr><th>  Configuration </th><th>  Options </th><th>  Percent </th></tr><tr><td>  A1 </td><td>  one </td><td>  one </td></tr><tr><td>  B1 </td><td>  13 </td><td>  eleven </td></tr><tr><td>  A2 </td><td>  13 </td><td>  eleven </td></tr><tr><td>  B2 </td><td>  78 </td><td>  66 </td></tr><tr><td>  C2 </td><td>  13 </td><td>  eleven </td></tr><tr><td>  A </td><td>  15 </td><td>  13 </td></tr><tr><td>  B </td><td>  103 </td><td>  87 </td></tr></tbody></table><br>  Then I went around each cell on the field and calculated its probability, summing up the number of probabilities in which it appears, and dividing by 118. (Actually, simply adding the percentages mentioned above.) In addition, on average, in each of the closed cells there is a mine 15 out of 118 options (that is, the chances that there is a mine in at least one closed cell are very high).  [This can be calculated by multiplying the number of remaining mines by closed variants, which gives us the average number of mines in closed cells.] <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/380/02d/84a/38002d84aada03926e846e610dc06832.gif"></div><br>  <i>Mines probabilities</i> <br><br>  (It should be said that this does not show <i>all</i> available information. For example, we know that the probabilities of two dark green cells are 87% related - if one is correct, then the other too. And blue 13% cells that have mines by configuration <b>A</b> , too, are connected. The remaining blue 13% cells are not connected. If one of them contains a mine, the probability that there is a mine in any of the remaining ones decreases.) <br><br><h2>  Playing a game </h2><br>  Most likely, playing in the "Minesweeper", you do not want to hang on all these calculations. <br><br>  And me too. <br><br>  But I <i>did</i> list all possible configurations in the upper left and lower right corners.  I noticed that in one configuration ( <b>B2-B</b> ) it is used one mine less than in all the others, and applied the time-tested rule ‚Äúless min - means more closed variants‚Äù (which is valid until the number of closed cells is less than twice the number missing min).  This means that configurations with fewer mines are much more likely. <br><br>  Since there were many configurations in the upper left corner, determining the odds for any cell is rather difficult.  So I just found out that configuration <b>B</b> in the lower right corner is much more likely, and I accidentally chose one of the suitable cells.  (I hoped that it would allow me to finish the lower right corner, and then, armed with more information about the number of remaining mines, I could complete the upper left corner, after which I would have to throw a coin to select below in the center. Of course, ideally, I had to choose a cell maximizing the likelihood of obtaining useful information, but any of these guesses would allow me to ‚Äúenter‚Äù into the lower right corner for further data collection.) The odds were higher for configuration <b>B</b> , so I chose the cell in which mine was in configuration <b>A.</b> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fe6/ffa/761/fe6ffa7615abe191c031c89506262043.gif"></div><br><br>  Eight times out of nine I would be right. </div><p>Source: <a href="https://habr.com/ru/post/334216/">https://habr.com/ru/post/334216/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../334202/index.html">How not to break the brain about passwords like eLkdC, lk # jB</a></li>
<li><a href="../334204/index.html">Red Architecture - a red help button for complex and intricate systems - part 2 (example with a billion cells)</a></li>
<li><a href="../334206/index.html">"Google for meaning": startup Node introduced a platform for semantic profiling</a></li>
<li><a href="../334208/index.html">Universal advertising campaign for all types of businesses</a></li>
<li><a href="../334212/index.html">Intangible motivation - what is included there</a></li>
<li><a href="../334218/index.html">Open protocol for decentralized communication [matrix] seeks sponsors to continue development</a></li>
<li><a href="../334220/index.html">Non-standard clustering, part 3: techniques and metrics for time series clustering</a></li>
<li><a href="../334222/index.html">Javascript without this</a></li>
<li><a href="../334224/index.html">ICO: main risks</a></li>
<li><a href="../334226/index.html">Storage Infortrend is an alternative to A-brands. Review and Testing</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>