<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Controller for home brewery Mega Brewery. Part I</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I am a home brewer. 
 I start the "development" of the controller for my mini-brewery. 

 Because I am not a programmer, I turned to the Russian Ardui...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Controller for home brewery Mega Brewery. Part I</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/geektimes/post_images/b91/ef9/1e8/b91ef91e8df373feac4bab2b33cf90b7.jpg" alt="image" align="left">  I am a home brewer. <br>  I start the "development" of the controller for my mini-brewery. <br><br>  Because  I am not a programmer, I <a href="http://ru-arduino.livejournal.com/51645.html">turned to the Russian Arduino community</a> . <br>  <a href="http://ru-arduino.livejournal.com/48879.html">Since the desire to make a smart thermometer for brewing</a> , a lot of time has passed and a new desire has arisen - to build an automated home brewery.  To automate the necessary control unit.  It was decided to abandon the use of purchased PID controllers to control the heating element, because  there is an Arduino, to it an SSR relay is 2 pcs., a 4-by-20 display and a Serial Board for transmitting information over a single wire, not counting ground and power. <br><a name="habracut"></a><br>  My controller is on Arduino.  The <a href="http://www.arduino.cc/cgi-bin/yabb2/YaBB.pl%3Fnum%3D1241337653">project was based on the Australian Rob</a> , the project is designed for the Arduino Duemilanove ATmega328 - and <a href="http://www.halfluck.com/source/">the project itself is on the author‚Äôs website.</a> <br>  My brewery will work on a different principle, not like Rob, I use only one tank and in it a basket for malt grist.  I focus on <a href="http://www.speidels-braumeister.de/shop_content.php/coID/21/content/der-braumeister.html">Speidel Braumeister</a> , how it works, it is clear from these videos: <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/x-OBE4tJ-j8%3Ffeature%3Doembed&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhgpnV8B5eCorW33g_S_UHcSAsCOSQ" frameborder="0" allowfullscreen=""></iframe>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      But unfortunately I have never been a programmer, I can <a href="http://habrahabr.ru/blogs/DIY/89280/">solder</a> , <a href="http://habrahabr.ru/blogs/DIY/86866/">solder more</a> , and do a <a href="http://habrahabr.ru/blogs/DIY/90711/">little more</a> according to the instructions.  Now, if to remake the program of Rob, you get the perfect control device.  I assembled and tested the controller, but for some reason DS18B20 thermal sensors are not recognized. <br><br>  Sensor DS18B20: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/585/6f9/b87/5856f9b87b33f73d1ee71f5fb79a82f3.jpg" alt="image"><br><br>  In this project, for me a lot of excess, because  I do not want to build a HERMS system, as the author does not want to build, then you can remove all unnecessary from the program.  All actuators are controlled by solid state relays.  I have 2 pieces, for the ten and the pump.  You need to buy another one, for an optional AUX connection (for example, for an aerator): <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/7af/08b/c53/7af08bc53504e79637ab87d605e917cf.jpg" alt="image"><br><br>  TEN I use <a href="http://www.amazon.com/Reliance-9000405-045-Water-Heater-Element/dp/B002YGKHZQ/ref%3Dpd_ys_iyr_img%3Fie%3DUTF8%26coliid%3DI3DO8AQ0QEZSA9%26colid%3DI3IOYGWZ9HOY">bought on Amazon</a> , low density 4.5kW. <br><br><img src="http://img861.imageshack.us/img861/3986/51dh3o7e3jlaa1200.jpg" alt="image"><br><br>  Nothing burns to it and can even be turned on in the air and will not burn.  What is interesting, the display is connected via the Serial Board, I assembled it from the kit purchased on ibey.  Only 3 wires are used, thereby unloading the ports of Arduino.  What is needed: PID management of Teng for accuracy and convenience, for Arduino there is a ready-made library widely used in the <a href="http://www.brewtroller.com/wiki/doku.php">Brewtroller</a> project, from there you can also borrow a lot of ideas, but the project is overloaded with functions and also sharpened by American HERMS and RIMS.  The program should have 3 operation modes: CIP washing (water heating up to 70gr (can be changed in settings) and simultaneous pump operation), AUTO mode (when all steps put into programming mode are worked out, you can pause and go on to the next step ), MANUAL mode (In manual mode, it is easy to control the on / off of the heating element, the pump and the AUX output, the temperature is indicated.), AUTO programming (Auto mode - water heating 70gr, pause (for charging, adjustable), setting temperature pauses (must be four  pauses, so that with a margin, acidic, protein, saccharification), with simultaneous pump operation, pause mesh out - is adjusted with simultaneous pump operation, just pump operation, the so-called whirlpool mode, when the wort is curled up and all the turbidity is deposited with simultaneous operation of the AUX and the second temperature sensor, an aquarium compressor with a <a href="http://megadenis.livejournal.com/9240.html">flow-through aerator</a> will be connected in it, and finally, the ready-made mash flows through the flow-through chiller-cooler. <br><br>  Actually, the task is not big, but I am a humanitarian, and programming is by no means given. <br><br>  At the moment, the controller looks like this: <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/1e1/5ce/da6/1e15ceda6aed949ed906f461d446a1c1.jpg" alt="image"><br><br>  And with connected SSR relays, the iPad accidentally got into the frame, the next step is the Bluetooth control program for iPhone / iPad: <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/061/a18/8ba/061a188ba05967ea163dfb8a7219a9ee.jpg" alt="image"><br><br>  Now I brew beer like this: <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/95d/207/6ac/95d2076ac94a0c9fbf26b3ade6802e32.jpg" alt="image"><br><br>  I hope for the help of a respected community. <br>  In return, I promise to become a personal tutor and teacher in brewing, to whom it is interesting! <br><br>  Cheers! <br><br>  UPD1!  I take into account the interest in the comments, I wrote instructions: <a href="http://megadenis.livejournal.com/13801.html">How to make beer yourself.</a> <br><br>  UPD2!  At the numerous requests of habravchan, I publish a link to the largest storehouse of information on brewing in the entire Runet - <a href="http://www.brewiki.ru/">Russian home brewing Wikipedia</a> , if only the server could withstand it. <br>  <a href="http://recipes.russianbrewer.ru/">Beer recipes</a> <br><br>  UPD3!  Thanks to <a href="http://a-young.livejournal.com/"><b>a-young</b> LJ friend</a> , we were able to connect temperature sensors and now it remains to finish the program to fit our needs.  The problem was in the wrong addresses in the program. <br><br>  UPD4!  Continued: <a href="http://habrahabr.ru/blogs/DIY/138156/">Part II</a> </div><p>Source: <a href="https://habr.com/ru/post/122886/">https://habr.com/ru/post/122886/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../122876/index.html">Temporary WIFI switch to access point mode</a></li>
<li><a href="../122877/index.html">Yandex DNS hosting vs Dynamic IP</a></li>
<li><a href="../122881/index.html">Opera 11.50 - what everyone has been waiting for</a></li>
<li><a href="../122882/index.html">The new generation of kitaefonov - almost an exact copy of the iphone 4, including the interface on Android</a></li>
<li><a href="../122884/index.html">Getting rid of the FC-errors of the com.htc.bgp process on some android devices from HTC</a></li>
<li><a href="../122887/index.html">Analysis of the feasibility of developing a mobile version of the site</a></li>
<li><a href="../122888/index.html">HTC Flyer doooool test: after a month of operation</a></li>
<li><a href="../122889/index.html">Add coordinates to the EXIF ‚Äã‚Äãtag in your own iOS application</a></li>
<li><a href="../122891/index.html">Dive into 3D with the Marmalade SDK</a></li>
<li><a href="../122893/index.html">‚ÄúStartup without a budget‚Äù: uncomfortable about business, but interesting</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>