<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How I measured FOV without compass and ruler</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the yard we played war games. Weak and fat were fascists, the rest won. The yard and childhood disappeared, but I want to fight. 

 I turned my iPh...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How I measured FOV without compass and ruler</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/f11/909/405/f11909405db9e8c7785655a19367442d.jpg" alt="image"><br>  In the yard we played war games.  Weak and fat were fascists, the rest won.  The yard and childhood disappeared, but I want to fight. <br><br>  I turned my iPhone into an automaton, and drew the fascists in augmented reality. <br>  Video capture draws the world around my work chair, the fascists climb out of all the cracks, I keep all-round defense. <br><br>  Stop!  And how to tie the enemies to the surrounding reality? 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I made it very simple. <br><a name="habracut"></a><br><br><h4>  Image processing </h4><br>  Look at the first video capture picture. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1c9/bed/c3c/1c9bedc3cd10018b49033e7d4dd1c5ac.jpg"><br><br>  I run across the entire width (480 pixels) of the image and summarize the RGB components of the points that lie with the current point on the same vertical line.  We receive an array from 480 elements. <br>  The upper part of the figure shows a red-white (ole!) Histogram of the function found. <br><br>  Do the same with the next frame from the video stream.  See Figure 2. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e94/511/abf/e94511abfabaf94b02368775593b0827.jpg"><br><br>  My task is to combine the red and white histograms of the first and second frames.  Shifting the graphics relative to each other, I very quickly find the optimal match.  The difference in shift is the desired displacement of reality in my iPhone in the horizontal direction. <br><br>  In this way, the virtual object is permanently attached to the real location.  At each moment of time, we know how much pixels to move it in the horizontal plane. <br>  Does the algorithm work well?  Not bad.  The main thing is not to pull the phone during the game - this approach does not like the offset of more than 40 pixels per clock.  And the tact of the camera is 20 frames per second. <br>  With sharp movements, it is necessary, apparently, to use already heavy artillery - a gyroscope and an accelerometer. <br><br><h4>  What is FOV </h4><br>  Each optical device has an FOV (field of view).  Be it a human eye or a soap dish. <br><img src="https://habrastorage.org/getpro/habr/post_images/7be/a84/0fc/7bea840fc683646e592f927f4c77489b.jpg" alt="image"><br>  What gets into the FOV - the device sees.  Other - no, even kill.  In the picture, a person sees a tree, but does not see the car.  It may be dangerous. <br>  FOV is measured in degrees.  A person has an FOV of about 120 degrees for each eye.  In a hare, for example, 150. That is, with two eyes a hare covers almost the entire scope of visibility.  The hare does not see only exactly 10 degrees ahead and exactly 10 degrees backwards.  Oblique ... <br>  Okay, what's the fov of my iPhone? <br>  Looked, of course, on the <a href="http://www.boinx.com/chronicles/2013/3/22/field-of-view-fov-of-cameras-in-ios-devices/">Internet</a> .  My God, in order to calculate the FOV of an iOS device, a special laboratory with laser meters is needed. <br><br>  I do not have such a laboratory.  What for?  I just launched the above program.  He sat down on his favorite swivel chair.  And turned 360 degrees.  The program showed the size of the sphere around me. <br><img src="https://habrastorage.org/getpro/habr/post_images/a45/a27/285/a45a27285bb0a4f03e56dd5dd8690161.jpg" alt="image"><br>  The program showed the size of the sphere around me. <br>  In pixels - stable for the latest generation of iPod 3050-3060 pixels. <br><br>  Thus, the FOV of my iPod is 480 * 360/3060 = 56-57 degrees. <br><br>  And the laser intended 55.7. <br><br>  I got a good accuracy, agree. <br><br>  Hidden advertising of my application using the above algorithm is placed in tags.  Only it between us, ok? </div><p>Source: <a href="https://habr.com/ru/post/213019/">https://habr.com/ru/post/213019/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../213005/index.html">AllDataCenter.ru: all about data centers for those who want to know more!</a></li>
<li><a href="../213007/index.html">Install Windows Server 2008 over a network with a Linux PXE server. WinPE Customization</a></li>
<li><a href="../213009/index.html">Using comments to store static data in Javascript</a></li>
<li><a href="../213011/index.html">March 11 will be a fight in ping-pong between the machine and the man (Timo Boll)</a></li>
<li><a href="../213017/index.html">Integration with the hub "Photos" on Windows Phone</a></li>
<li><a href="../213021/index.html">Headphones Fischer Audio Billy's Band Edition: Sound in Russian</a></li>
<li><a href="../213023/index.html">Developer Contest "Native Speech" - we begin the countdown!</a></li>
<li><a href="../213025/index.html">Germany and France do not want to pass European traffic through the US</a></li>
<li><a href="../213027/index.html">Ensure the reliable operation of Google Cloud Messaging</a></li>
<li><a href="../213033/index.html">The new interface Yandex.Metro and technology with which it works</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>