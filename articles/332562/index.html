<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Android Architecture Components. Part 1. Introduction</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="At Google I / O 2017, a set of libraries called the Android Architecture Components was introduced. In a few words, this is a series of supporting lib...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Android Architecture Components. Part 1. Introduction</h1><div class="post__text post__text-html js-mediator-article"><img src="https://yglablog.files.wordpress.com/2017/06/ng-15320_8-compressor.jpg" alt="image"><br><br>  At Google I / O 2017, a set of libraries called the Android Architecture Components was introduced.  In a few words, this is a series of supporting libraries that are designed to help with such things as designing, testing, and maintaining applications.  The fact that the Android development team has begun to focus on architecture cannot but rejoice, since the problem is really urgent.  After all, initially no requirements or design guidelines were provided, and the developer had to build on his previous experience.  That, in turn, caused difficulties in supporting the project, as well as dubious solutions for OS-specific situations.  In fact, these are not the first steps in this direction.  Earlier, Google introduced the android-architecture repository with examples of the use of different architectural concepts.  We hope that the development will be further and maybe at the next Google I / O we will be able to see a full-fledged framework. <br><a name="habracut"></a><br>  In general, Android Architecture Components can be divided into four blocks: Lifecycles, LiveData, ViewModel and Room Persistence. <br><br>  Component Lifecycle - designed to simplify work with the life cycle.  Key concepts such as LifecycleOwner and LifecycleObserver are highlighted. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      LifecycleOwner is an interface with one getLifecycle () method that returns a lifecycle state.  It is an abstraction of the owner of the life cycle (Activity, Fragment).  For simplicity, the LifecycleActivity and LifecycleFragment classes have been added. <br><br>  LifecycleObserver - interface, denotes the listener of the owner's life cycle.  It has no methods, is tied to OnLifecycleEvent, which in turn allows you to track the life cycle. <br><br>  What does this give us? <br><br>  The purpose of this component is to save the developer from writing routine code and make it more readable.  Quite a common situation when a number of processes work in our application, which depend on the stage of the life cycle.  Whether it is media playback, location, communication with the service, etc.  As a result, we have to manually monitor the status and notify our process about it.  What is inconvenient for two reasons is cluttering up the main class (Activity or Fragment) and reducing modularity, because we need to take care of the state transfer support.  With the help of this component, we can transfer all responsibility to our component and all that is needed for this is to declare our class of interest as an observer and pass to it in the onCreate () method a reference to the owner.  In general, it looks like this: <br><br><pre><code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyActivity</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LifecycleActivity</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> PlayerWrapper mPlayerWrapper; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(‚Ä¶)</span></span></span><span class="hljs-function"> </span></span>{ mPlayerWrapper = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PlayerWrapper (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, getLifecycle()); } }</code> </pre> <br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PlayerWrapper</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LifecycleObserver</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> PlayerController mController; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PlayerWrapper</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Context context, Lifecycle lifecycle)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//init controller } @OnLifecycleEvent(Lifecycle.Event.ON_START) void start() { mController.play(); } @OnLifecycleEvent(Lifecycle.Event.ON_PAUSE) void stop() { mController.stop(); } }</span></span></code> </pre><br>  Our observer is absolutely aware of the condition and can independently handle its change. <br><br>  Component LiveData - is a holder class for storing an object, and also allows you to subscribe to it.  LiveData knows about the life cycle and allows it to abstract. <br><br>  To implement the component, we need to extend the class LiveData.  To work, we need to know only three methods from this class. <br><br>  onActive () - this method is called when our instance has an active observator.  In it, we must initiate the service or operation of interest to us. <br><br>  onInactive () - called when LiveData does not have active listeners.  Accordingly, you need to stop our service or operation. <br><br>  setValue () - we call if the data has changed and LiveData informs listeners about it. <br><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ChatLiveDataHolder</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LiveData</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Message</span></span></span><span class="hljs-class">&gt;</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> ChatLiveDataHolder sInstance; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> ChatManager mChatManager; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> ChatListener mChatListener = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ChatListener(){ <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">newMessage</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Message message)</span></span></span></span>{ setValue(message); } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> ChatLiveDataHolder </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (sInstance == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { sInstance = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ChatLiveDataHolder(); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sInstance; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ChatLiveDataHolder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ <span class="hljs-comment"><span class="hljs-comment">//init mChatManager and set listener } @Override protected void onActive() { mChatManager.start(); } @Override protected void onInactive() { mChatManager.stop(); } }</span></span></code> </pre><br>  If you noticed, we implemented our class as Singleton.  This gives us the opportunity to use LiveData in other Activities, Fragment, etc. without reinitialization, if we do not need it. <br><br>  In order to sign the listener, there are also no problems.  All you need to do is call the observe method on our LiveData instance, pass the LifeCycleOwner and the implementation of the Observer interface into it.  The Observer interface has only one onChanged (T t) method, using it LiveData will inform listeners about changes in data (call the setValue (T t) method in LiveData). <br><br>  What does this give us? <br><br>  There are really a lot of advantages, ranging from protection from memory leaks (Observer is connected to its Lifecycle and automatically unsubscribed when its Lifecycle is destroyed), protection from stopped Activity (if Lifecycle is inactive, then no notification to Observer will be sent) .  With functional features, this is a single data access (using singleton) and saving our data (For operations such as re-creating the activation, fragment).  In general, the purpose is the same, to save the developer from the routine work associated with the life cycle. <br><br>  Component ViewModel - designed to store and manage data that is associated with the view. <br><br>  The task of this component is to help the developer abstract data and provide its storage between such operations as re-creating an Activity.  If we need to save a small data set, such as an item in RadioButtonGroup or the data entered, the Bundle in onSaveInstanceState () is great for us.  But if this is a big list for example: users, products, a catalog of something, we had to get this list again.  In this case, the ViewModel is our main helper.  A feature of this component is that it binds to an Activity and automatically saves its state during operations such as onCofigurationChange (). <br><br>  The ViewModel class is an abstract class, but it has no abstract methods.  To implement our class, we only need to inherit from the ViewModel and describe the data we want to store and the methods for obtaining it. <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OurModel</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ViewModel</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> List&lt;User&gt; userList; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> List&lt;User&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getUserList</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> userList; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setUserList</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(List&lt;User&gt; list)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userList = list; } }</code> </pre><br>  And that's all, our holder for userList is ready.  In order to use our holder it is necessary in the onCreate (..) method to activate an instance of our model: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Bundle savedInstanceState)</span></span></span></span>{ <span class="hljs-comment"><span class="hljs-comment">// init UI etc. OurModel model = ViewModelProviders.of(this).get(OurModel.class); If (model.getUserList()==null){ downloadData(); } else { showData(); } }</span></span></code> </pre><br>  With the help of ViewModelProviders, we take an instance of our model.  A c using if constructions, see if we already have data in our model or not yet. <br><br>  What does this give us? <br><br>  Like previous components, this one helps us cope with the features and related problems of the Android life cycle.  In this case, it is the separation of our data presentation model from the Activity and the provision of a secure storage mechanism.  Also, when used in conjunction with LiveData, it is not a problem to implement asynchronous requests. <br><br>  Component Room Persistence - Offers a level of abstraction over SQLite, offering a simpler and more advanced way to manage. <br><br>  In general, we received the default ORM, this component can be divided into three parts: Entity, DAO (Data Access Object), Database. <br><br>  Entity - an object representation of the table.  Using annotations you can easily and without unnecessary code to describe our fields. <br><br>  To create our Entity, we need to create a POJO (Plain Old Java Object) class.  Mark class with annotation <a href="https://habrahabr.ru/users/entity/" class="user_link">Entity</a> . <br><br>  Example: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Entity</span></span>(tableName = ¬´book¬ª) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Book</span></span></span></span>{ <span class="hljs-meta"><span class="hljs-meta">@PrimaryKey</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> id; <span class="hljs-meta"><span class="hljs-meta">@ColumnInfo</span></span>(name = ¬´title¬ª) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String title; <span class="hljs-meta"><span class="hljs-meta">@ColumnInfo</span></span>(name = ¬´author_id¬ª) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> authorId; ‚Ä¶ <span class="hljs-comment"><span class="hljs-comment">//Get and set for fields }</span></span></code> </pre><br>  @PrimaryKey - To designate a key.  @ColumnInfo - for linking fields in the table.  Creating get and set methods is not necessary, but then you need to provide access to variables using the public modifier. <br><br>  Linking is also declared in the body of the <a href="https://habrahabr.ru/users/entity/" class="user_link">Entity</a> annotation: <a href="https://habrahabr.ru/users/entity/" class="user_link">Entity</a> (foreignKeys = @ForeignKey (entity = Other.class, parentColumns = "id", childColumns = "author_id")) <br><br>  DAO - Interface that describes the methods of access to the database. <br><br>  To implement, we create an interface that we mark with the <a href="https://habrahabr.ru/users/dao/" class="user_link">DAO</a> annotation and declare our methods.  The main annotations for the methods are <a href="https://habrahabr.ru/users/insert/" class="user_link">Insert</a> <a href="https://habrahabr.ru/users/update/" class="user_link">Update</a> <a href="https://habrahabr.ru/users/delete/" class="user_link">Delete</a> <a href="https://habrahabr.ru/users/query/" class="user_link">Query</a> , they do not need comments. <br><br>  Example: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Dao</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OurDao</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Insert</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">insertBook</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Book book)</span></span></span></span>; <span class="hljs-meta"><span class="hljs-meta">@Update</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateBook</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Book book)</span></span></span></span>; <span class="hljs-meta"><span class="hljs-meta">@Delete</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">deleteBook</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Book book)</span></span></span></span>; <span class="hljs-meta"><span class="hljs-meta">@Query</span></span>(¬´SELECT * FROM book¬ª) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Book[] loadAllBooks(); }</code> </pre><br>  In the normal state, an attempt to access the database from the main thread ends Exception.  If you are still confident in your actions, you can use the method allowMainThreadQueries ().  For asynchronous access, it is recommended to use LiveData or RxJava. <br><br>  Database - used to create the Database Holder and is the access point to the database connection. <br><br>  To create our class, we need to inherit from RoomDatabase and use the <a href="https://habrahabr.ru/users/database/" class="user_link">Database</a> annotation, with which we pass parameters such as the used entity and the base version.  In the body we describe abstract methods of access to our DAO. <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Database</span></span>(entities = {User.class}, version = <span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppDatabase</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RoomDatabase</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> OurDao </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ourDao</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; }</code> </pre><br>  To create an instance for our database, use the code: <br><br><pre> <code class="java hljs">AppDatabase db = Room.databaseBuilder(getApplicationContext(), AppDatabase.class, ¬´database-name¬ª).build();</code> </pre><br>  For db storage it is recommended to use singleton. <br><br>  What does this give us? <br><br>  Simplification of work with the database, there is no need to use third-party ORM. <br>  In addition to the above described NestedObjects, parameters in queries, collections of arguments, TypeConverter, database migration, etc.  These topics are not included in the scopes of this material and will be discussed later. <br><br>  By the end of the material I want to add a few more words about architecture.  With the introduction of Android Architecture Components, a solution architecture was proposed, which for most developers is already familiar in one form or another.  The bottom line is that we divide the architecture into 3 main layers: View (Activity / Fragment), which communicates with the ViewModel, and the ViewModel works directly with the Repository.  For clarity, I will translate a picture from developer.android.com. <br><br><img src="https://yglablog.files.wordpress.com/2017/03/final-architecture.png" alt="image"><br><br>  It looks absolutely simple, but in fact we will look at the following articles. <br>  Where at first we will examine each component in more detail and at the end we will implement the application, as they say with the database and ... connection to the service. <br><br>  <a href="https://habrahabr.ru/post/332562/">Android Architecture Components.</a>  <a href="https://habrahabr.ru/post/332562/">Part 1. Introduction</a> <br>  <a href="https://habrahabr.ru/post/332718/">Android Architecture Components.</a>  <a href="https://habrahabr.ru/post/332718/">Part 2. Lifecycle</a> <br>  <a href="https://habrahabr.ru/post/333890/">Android Architecture Components.</a>  <a href="https://habrahabr.ru/post/333890/">Part 3. LiveData</a> <br>  <a href="https://habrahabr.ru/post/334942/">Android Architecture Components.</a>  <a href="https://habrahabr.ru/post/334942/">Part 4. ViewModel</a> </div><p>Source: <a href="https://habr.com/ru/post/332562/">https://habr.com/ru/post/332562/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../332552/index.html">How I found a bug in Intel Skylake processors</a></li>
<li><a href="../332554/index.html">Using the KOMPAS-3D API ‚Üí Lesson 3 ‚Üí Correct connection to KOMPAS</a></li>
<li><a href="../332556/index.html">How Yandex created a course on C ++, or Why did we have to rewrite everything</a></li>
<li><a href="../332558/index.html">Identification of cointegrated pairs of shares in stock markets</a></li>
<li><a href="../332560/index.html">JDI UI Testing Framework: How and Why to Use</a></li>
<li><a href="../332564/index.html">Web development: how to recognize a problem client at the start</a></li>
<li><a href="../332566/index.html">Video recordings from the CocoaHeads meeting on June 23, 2017 from Tutu.ru office</a></li>
<li><a href="../332568/index.html">The choice of algorithm for calculating quantiles for a distributed system</a></li>
<li><a href="../332570/index.html">Moya - how to stop worrying about the network part and start living</a></li>
<li><a href="../332572/index.html">Is it time to use CSS Grid Layout?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>