<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>What to do if a RAID controller fails?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Speaking about backups, we always mean that our hard drive may fail at any time, and this is completely justified. Unfortunately, the reliability of m...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>What to do if a RAID controller fails?</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/614/8d4/b45/6148d4b4588d21d728da68262c7e7b69.jpg" alt="image"><br><br>  Speaking about backups, we always mean that our hard drive may fail at any time, and this is completely justified.  Unfortunately, the reliability of modern HDD leaves much to be desired, but not only they can be the culprits of data loss. <br><br>  Naturally, I'm talking about RAID arrays and specifically about the failure of the RAID controller itself.  What to do in this situation? <br><a name="habracut"></a><br>  In fact, everything is not as scary as it might seem at first glance.  The configuration information of the RAID array is stored on the HDDs themselves, included in the array.  Usually it is located in the first or last sectors of each disk, and the RAID controller firmware is written there when the array is formed.  The configuration block is almost always duplicated on each disk of the array.  With the exception of the disk number, the service data on all disks must be identical, and this can be used when restoring an array.  Accordingly, all we need is to take a new controller and connect the disks in the same order in which they were connected to the dead controller. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      But this is all theory, let's check - is it really so? <br>  I have 2 servers with integrated RAID controllers: <br><br>  <a href="http://www.advanserv.ru/products/servery/prodution/hp-proliant-dl380-g7/">HP ProLiant DL380 G7</a> with P410i Controller <br><img src="https://habrastorage.org/getpro/habr/post_images/cb5/22f/f01/cb522ff013e26f4abcc9840fcca31034.jpg" alt="image"><br><habracut><br>  <a href="http://www.advanserv.ru/products/servery/2cpu/ibm-system-x3650-m4/">IBM x3650 M4</a> with ServeRAID M5110e controller <br><img src="https://habrastorage.org/getpro/habr/post_images/431/c46/f25/431c46f250d4ffdcc7700b648e97412c.jpg" alt="image"><br><br>  And I also have 2 controllers: <br>  Adaptec 6405 <br><img src="https://habrastorage.org/getpro/habr/post_images/f92/699/5b5/f926995b52ed9dfde62f58140b943f80.jpg" alt="image"><br><br>  LSI Logic 9260-8i <br><img src="https://habrastorage.org/getpro/habr/post_images/526/121/15a/52612115ab5fb94bd3dec1724be5e902.jpg" alt="image"><br><br>  The results of the check in general did not surprise me personally: <br>  When replacing the DL380 controller with Adaptec, the controller saw the array and even tried to start the system from it (though we got kernel panic due to the lack of a driver for the controller in the already installed system), but in any case the data integrity was not compromised and the data is subject to recovery .  The test was conducted on both RAID1 and RAID0.  With LSI, everything turned out to be more simple and sad - the controller saw the disks, but did not see the array, the rebuild and other tricks did not give positive results. <br>  With x3650, the picture was the opposite.  Since the M5110e is built on an LSI Logic chip, when replacing the controller with the 9260-8i, the array was seen and exactly the same as in the first case - we managed to get our data safe and sound, but with Adaptec the array refused to be recognized and no tricks helped us. <br>  From here we can conclude that the service information of the array is ‚Äútied‚Äù to a certain brand of manufacturers of RAID controllers.  Personally, my recommendations are to try to avoid using built-in RAID controllers, since the selection of a controller, in the event of a failure of an existing one, will be a rather problematic task, which may not be crowned with success.  Another thing, if you use an external controller of a particular manufacturer.  Manufacturers of expensive controllers (LSI Logic, Adaptec, Intel, Promise) are quite conservative - the same models are produced for quite a long time, plus there is almost a 100% chance that your new model will perfectly see your array and will be fully functional ( In general, this is practically the way companies that provide data recovery services work, either use a similar controller, or use it as a ‚Äúdonor‚Äù to restore the old contact  Roller, and as the third option - the transfer of non-volatile memory (CMOS) of the failed controller to a new one, in order to save data on the RAID array). <br><br>  By <a href="http://habrahabr.ru/users/korp/" class="user_link">KorP</a> </habracut></div><p>Source: <a href="https://habr.com/ru/post/163451/">https://habr.com/ru/post/163451/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../163435/index.html">Writing a clone game Super Mario Brothers (part 2)</a></li>
<li><a href="../163437/index.html">Unity Web API, or how to integrate your site in Ubuntu</a></li>
<li><a href="../163439/index.html">Working with Perl encodings</a></li>
<li><a href="../163443/index.html">Introduction to the development of WinRT applications in HTML / JavaScript. From template to data application</a></li>
<li><a href="../163445/index.html">Jetbrains gives 75% discount on all products. 4 more hours!</a></li>
<li><a href="../163465/index.html">Mobile application rewards users for not using the phone while watching a film</a></li>
<li><a href="../163467/index.html">How prone are you to stupid, and a bit holywar</a></li>
<li><a href="../163477/index.html">A tool for planning and control of scrap materials</a></li>
<li><a href="../163479/index.html">Returning the old Web Inspector in Safari 6</a></li>
<li><a href="../163481/index.html">Everword: learn unfamiliar words with Evernote</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>