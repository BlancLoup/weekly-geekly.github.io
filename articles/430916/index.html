<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Detector carbon dioxide MT8057S. Not review with participation of a non-emulator</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="- Hi, Habr! Look! 



 - Man, what are you? With this detector without you, the entire resource is far and wide ... And then there you are. How much c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Detector carbon dioxide MT8057S. Not review with participation of a non-emulator</h1><div class="post__text post__text-html js-mediator-article">  - Hi, Habr!  Look! <br><br><img src="https://habrastorage.org/webt/1x/cp/ul/1xcpulhnmnjjweybkw19_fbnlrk.jpeg"><br><br>  - Man, what are you?  With this detector without you, the entire resource is far and wide ... And then there you are.  How much can one and the same topic waste? 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      - Chill out, boys!  Of course, I am not going to repeat already existing reviews.  What it is, why it is, how it works, how to use it, what's inside ... And organically these reviews will complement what the previous reviewers did not do.  Namely, I will check if the software for this detector will run in one well-known NE-emulator (the one that is ‚Äúis not an emulator‚Äù) and see the device hanging on the port.  It turns out - well, it will not work - a negative result in science is also considered a result. <br><br>  Spoiler: I'm Krivoruk, so the file, but found another solution, for which a non-emulator was not useful. <br><a name="habracut"></a><br>  Well, neemulyator we swinging vigorously: <br><br><img src="https://habrastorage.org/webt/on/lp/-_/onlp-_ul5nj_j6brtdxasvdwo9k.jpeg"><br><br>  For now, let's first see the output of lsusb: <br><br><pre><code class="plaintext hljs">$ lsusb Bus 002 Device 004: ID 138a:0011 Validity Sensors, Inc. VFS5011 Fingerprint Reader Bus 002 Device 005: ID 0cf3:3004 Atheros Communications, Inc. AR3012 Bluetooth 4.0 Bus 002 Device 002: ID 0438:7900 Advanced Micro Devices, Inc. Bus 002 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub Bus 001 Device 004: ID 5986:0652 Acer, Inc Bus 001 Device 003: ID 89e5:1001 Bus 001 Device 002: ID 0438:7900 Advanced Micro Devices, Inc. Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub Bus 004 Device 001: ID 1d6b:0003 Linux Foundation 3.0 root hub &lt;b&gt;Bus 003 Device 002: ID 04d9:a052 Holtek Semiconductor, Inc.&lt;/b&gt; Bus 003 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub</code> </pre> <br>  This is what Holtek is about.  When disconnected disappears.  Now download the software that we ‚Äúfeed‚Äù Wine as soon as it is installed: <br><br><img src="https://habrastorage.org/webt/it/9z/bz/it9zbzgd4zq2jipk2ao3onubp0a.png"><br><br>  The software downloaded, not the emulator too, let's try to run one of the programs: <br><br><img src="https://habrastorage.org/webt/c1/67/dz/c167dzhdgkw8s2ttgsaxpr64n-m.png"><br><br>  No installers, the program is "portable."  It works immediately, but does not see the stuck device.  Let's try to configure: <br><br><img src="https://habrastorage.org/webt/gp/tx/sh/gptxsh93039uz8m5l-l1rjdgz9w.png"><br><br>  You can try to choose USB and eight different COM ports.  At first, I bought it and tried the well-known USB-COM forwarding methods in Wine.  When the device is connected, the device / dev / usb / hiddev0 appears, which I took for such a port.  But it did not work out, for ... Let's not get ahead of ourselves.  First we check another program. <br><br><img src="https://habrastorage.org/webt/kj/ow/do/kjowdob7f5ryn-kuewot925pxh8.png"><br><br>  Almost twin.  Only the menu is slightly different.  We climb in settings: <br><br><img src="https://habrastorage.org/webt/gj/fu/yu/gjfuyuqjnkhryiuynhl70nrx4tq.png"><br><br>  And the result, of course, is similar.  And no wonder: the very name hiddev0 says that this is not a USB-COM, but a USB-HID device.  Searching the forums has shown that those in a stable Wine are not supported.  In addition, if chmod provides access to hiddev0 to unprivileged users, then after each disconnection and connection of the detector, the device again becomes accessible only to the root.  But even when it is available to everyone, Wine thinks that it is not. <br><br>  Run Wine from root?  Not recommended, but let's say these two programs I trust.  I try ... Bummer, NEemulyator generally refuses to run under the root.  The .wine folder is not yours, it says.  It turns out that one should not sudo wine, but first sudo su, then make wine, and it will create a folder in the / root folder too.  Only this has not changed anything. <br><br>  Well, there is also a native Linux co2mon.  Only I decided to download it in another place - where it has already been compiled. <br><br>  ‚Üí <a href="https://altlinux.pkgs.org/sisyphus/classic-i586/co2mon-2.1.0-alt1.i586.rpm.html">Here</a> <br><br>  After the RPM was deflated, I installed it in my favorite way.  Namely, he took up the mc and pens under the root scattered the files from the CONTENTS.cpio folder in the archive for the folders of the file system where they should be. <br><br>  Run co2mond, but it wants libhidapi-libusb0.  A little googling-Yandex, and it turns out that for this you need to feed him the package libhidapi-dev: <br><br><pre> <code class="plaintext hljs">$ sudo apt-get install libhidapi-dev</code> </pre> <br>  The package is put up cheerfully, I start and see: <br><br><pre> <code class="plaintext hljs">$ co2mond hid_open: error Unable to open CO2 device hid_open: error hid_open: error hid_open: error hid_open: error hid_open: error hid_open: error hid_open: error hid_open: error hid_open: error</code> </pre> <br>  Oh, yes, I also poked the device.  Again, I do chmod'om, so that hiddev0 was accessible by an unprivileged user, I start and see the same thing.  Then I run co2mond from the root, and - success! <br><br><pre> <code class="plaintext hljs">$ sudo co2mond [sudo]   username:  Tamb 25.1000 Tamb 25.1000 Tamb 25.1000 Tamb 25.0375 CntR 1617 Tamb 25.0375 CntR 1617 Tamb 25.1000 CntR 1617 Tamb 25.1000 CntR 1617 Tamb 25.0375 CntR 1617 Tamb 25.1000 CntR 1617 Tamb 25.0375 CntR 1617 Tamb 25.1000 CntR 1617 Tamb 25.1000 CntR 1617 Tamb 25.1000</code> </pre> <br>  While the sensor is not warmed up, only the Tamb - temperature ambient is displayed, as I understand it.  How to warm up - also CntR (content of something on R, I don‚Äôt know the synonyms of carbon dioxide on R). <br><br>  If on the built-in display the device shows the temperature with one decimal place, then it displays as many as four in the computer!  Is there really so accurate temperature sensor?  I do not know.  Well, the carbon dioxide readings come with the same accuracy as on the integrated display, only overestimated by several units. <br><br>  Well, I think, once in the process of installing Linux software, the file 99-co2mon.rules with the specified data that matches the ones seen in lsusb turned out to be in its place, maybe those programs that I tried to run in Wine will work.  No, not in this file case.  Still not like that, nor under the root does not want.  It seems that an experimental Wine with USB-HID support or some patches is indispensable. <br><br>  That's all.  It worked, but not in the way we would like: the program that started up does not display graphs.  Is it a negative result, or not, because you managed to get the data out of the device?  And Wine over the years of its existence is very "matured".  Compared to what it was several years ago, it is simply not recognizable, many programs work in it as if written specifically for it.  Only it turned out to be an introvert - it is afraid to communicate with some glands.  Ten percent discount on the device - <a href="http://goo.gl/grmgSo">click</a> on the <a href="http://goo.gl/grmgSo">link</a> with promo code TORMOZ CO2. <br><br>  Thus, the average Linux-user, savvy at the level of the basics of working with the command line, but not able or unwilling to mess around with patches and experimental builds of programs, will be able to pair this device with a computer.  But the program that can establish a dialogue with the device will be minimalistic.  All of the above applies to other devices of the same purpose on the same Holtek chip. <br><br>  PS Through the ventilation holes you can see how the Ilyich light bulb flashes periodically in the device case.  I read about it in the old reviews, but I thought that I had a newer version of the device where the LED was used.  Not.  So, this is important - you need a spectrum without ‚Äúhumps‚Äù. <br><br>  Thank you all for your attention! </div><p>Source: <a href="https://habr.com/ru/post/430916/">https://habr.com/ru/post/430916/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../430906/index.html">Mom sleeps at night - we collect OpenCV for Raspbian</a></li>
<li><a href="../430908/index.html">Power Transducer Control Module: Design and Build</a></li>
<li><a href="../430910/index.html">Fulbright Scholarship: How and Why?</a></li>
<li><a href="../430912/index.html">We deduce a liar to clean water: an interview is not an employment relationship. Naturally</a></li>
<li><a href="../430914/index.html">Analysis of black market prices for personal data and breaking through</a></li>
<li><a href="../430918/index.html">About Flutter, briefly: Basics</a></li>
<li><a href="../430922/index.html">Calculation example for a switchboard</a></li>
<li><a href="../430924/index.html">Hell language programming</a></li>
<li><a href="../430926/index.html">Time is fragmentary; a bit about the similarity of distributed systems and weak memory models</a></li>
<li><a href="../430928/index.html">Just about ‚Äúsmart home‚Äù: how to make ‚Äúsmart‚Äù lighting</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>