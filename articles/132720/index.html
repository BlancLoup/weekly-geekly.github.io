<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Content providers. Interaction with contacts</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day, dear Habrovchane! 

 As you all know - Android is a potentially developing and competitive operating system. Developers under this system ev...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Content providers. Interaction with contacts</h1><div class="post__text post__text-html js-mediator-article"><img src="http://www.htc.com/managed-assets/www/smartphones/htc-aria/help/product-help-marquee.png" alt="image" align="left"><br>  Good day, dear Habrovchane! <br><br>  As you all know - Android is a potentially developing and competitive operating system.  Developers under this system every day becomes more and more.  Even though I‚Äôm a novice Android developer, I‚Äôm not going to tell you how to install Eclipse and ADT under it. <br><br>  In this topic, I would like to talk about content providers in the Android operating system and give a small example of working with one of them. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><br><h5>  What are content providers? </h5><br>  Content providers (content providers) - entities designed to summarize data in services.  Through the use of content providers, data sources become similar to view-state-equipped view state transfer (REST) ‚Äã‚Äãdata providers <br><div style="text-align:center;"><img src="http://blog.zedray.com/wp-content/uploads/2009/01/cp4.gif" alt="image"></div><br><br><br><h5>  What is REST </h5><br>  REST (Representational state transfer) is a software architecture style for distributed systems, such as the World Wide Web, which is typically used to build web services.  The term REST was introduced in 2000 by Roy Fielding, one of the authors of the HTTP protocol.  Systems that support REST are called RESTful systems. <br><br>  In general, REST is a very simple information management interface without the use of any additional internal layers.  Each piece of information is uniquely identified by a global identifier, such as a URL.  Each URL in turn has a strictly specified format. <br><br>  And now the same thing is more obvious: <br><br>  The absence of additional internal layers means the transfer of data in the same form as the data itself.  Those.  we do not wrap the data in XML, as SOAP and XML-RPC do, do not use AMF, as Flash does, etc.  Just give yourself the data. <br><br>  Each unit of information is uniquely identified by a URL - this means that the URL is essentially the primary key for the data unit.  Those.  for example, the third book from the bookshelf will look like / book / 3, and 35 the page in this book will be / book / 3 / page / 35.  From here it turns out a strictly specified format.  And it doesn't matter at all what format the data is located at / book / 3 / page / 35 - it can be HTML, a scanned copy in the form of a jpeg-file, and a Microsoft Word document. <br><br>  How service information is managed is entirely based on the data transfer protocol.  The most common protocol is of course HTTP.  So, for HTTP, the action on data is set using the methods: GET (get), PUT (add, replace), POST (add, change, delete), DELETE (delete).  Thus, CRUD (Create-Read-Update-Delete) actions can be performed with all 4 methods, or only with GET and POST. <br><br>  Here is how it will look like by example: <br><br>  GET / book / - get a list of all books <br>  GET / book / 3 / - get the book number 3 <br>  PUT / book / - add a book (data in the request body) <br>  POST / book / 3 - change the book (data in the request body) <br>  DELETE / book / 3 - delete a book <br><br><br><h5>  Types of standard content providers in Android </h5><br><pre>   - Browser
   - CallLog
   - Contacts
     - People
     - Phones
     - Photos
     - Groups
   - MediaStore
     - Audio
         - Albums
         - Artists
         - Genres
         - Playlists
     - Images
         - Thumbnails
     - Video
   - Settings
</pre><br>  SQLite databases are located at the top of the hierarchy, and tables at the bottom.  Therefore, Browser, CallLog, Contacts, MediaStore, Settings are separate SQLite databases encapsulated in the form of providers. <br><br><br><h5>  Content Providers Architecture </h5><br>  Each content provider is registered in the device as a website, using a special string (it looks like a domain name and is called authority).  This unique sequence of character set in a device is the basis for a set of URIs. <br><br>  The registration of the source is carried out in the file AndroidManifest.xml.  Below are two examples of how content providers can be registered with Android. <br><br> <code>&lt;provider android:name = "SomeProvider" android:authorities = "com.YourApplication.SomeProvider" /&gt; <br> &lt;provider android:name = "NotePadProvider" android:authorities = "com.google.provider.NotePad" /&gt; <br></code> <br>  Content providers will also encounter similar REST links for retrieving content: <br><br>  content: //com.google.provider.NotePad/notes/ - getting all records <br>  content: //com.google.provider.NotePad/notes/# - getting one record by ID <br><br>  Below are some more URIs for content providers. <br><br>  content: // media / internal / images / <br>  content: // media / external / images / <br>  content: // contacts / people / <br>  content: // contacts / people / 23 <br><br>  Here, the providers (content: // media /) and (content: // contacts) are not fully structured, which means that these content providers are not third-party and are controlled by the Android system. <br><br>  Consider a specific URI in more detail: <br><br>  content: //com.google.provider.NotePad/notes/23 <br><br>  After content: the URI contains the uniform source identifier, which is used to locate the content provider in the corresponding registry. <br><br>  In this URI, the com.google.provider.NotePad part is the source. <br>  / notes / 23 is a section of the path section specific to each individual content provider. <br><br><br><h5>  Read contact data using a URI </h5><br>  It is important to remember about the security system in Android, so add to the AndroidManifest.xml file: <br><br> <code>&lt;uses-permission android:name="android.permission.READ_CONTACTS" /&gt;</code> <br> <br>  More details about access rights can be read <a href="http://developer.android.com/reference/android/Manifest.permission.html">here.</a> <br><br>  Consider the following URIs <br><br>  People.CONTENT_URI <br><br>  The equivalent text URI string will be: <br><br>  content: // contacts / people / <br><br>  When using such URIs, the code to get the strings will look like this: <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/*     */</span></span> Cursor managedCursor = managedQuery(People.CONTENT_URI, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String[] { People._ID, People.NAME, People.NUMBER }, <span class="hljs-comment"><span class="hljs-comment">//    null, //   () null, //   People.NAME + " ASC"); //   //   : startManagingCursor(managedCursor); // ,      if (managedCursor.getCount() &gt; 0) { while (managedCursor.moveToNext()) { //     Log.i("DATA", managedCursor.getString(0) + " :: " //   _ID + managedCursor.getString(1) + " " //   NAME + managedCursor.getString(2)); //   NUMBER } }</span></span></code> </pre><br><br>  More about cursors <a href="http://developer.android.com/reference/android/database/Cursor.html">here</a> . </div><p>Source: <a href="https://habr.com/ru/post/132720/">https://habr.com/ru/post/132720/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../132713/index.html">Google has opened a Google API Plus to six third-party developers.</a></li>
<li><a href="../132714/index.html">Droider Chart. Release 78, active</a></li>
<li><a href="../132715/index.html">Developers updated Twitter interface</a></li>
<li><a href="../132716/index.html">10 changes in the issue format and algorithms of Google</a></li>
<li><a href="../132719/index.html">Captcha What's again?</a></li>
<li><a href="../132721/index.html">Games, squeezed out of the NES maximum (part 3, final)</a></li>
<li><a href="../132723/index.html">Panasonic KX-TGP500 DECT</a></li>
<li><a href="../132725/index.html">Coin keeper. C # iPhone Application</a></li>
<li><a href="../132726/index.html">Manage a large group of hosts using http requests</a></li>
<li><a href="../132727/index.html">Materialized views as a means of controlling data integrity.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>