<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Model-oriented design on the knee, system identification in MATLAB / Simulink</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Habr! 

 Today I want to show a simple example of system identification based on observations and experimental data. This is the first and extreme...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Model-oriented design on the knee, system identification in MATLAB / Simulink</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/5dc/4ba/894/5dc4ba89477bdc2a8aa8fba6d7dd207a.jpg"><br><br>  Hi, Habr! <br><br>  Today I want to show a simple example of system identification based on observations and experimental data.  This is the first and extremely important step in developing a device management system that is analytically impossible to describe, or too difficult, <s>or reluctant</s> .  To begin, consider the method of "black box <s>with a cat</s> ", "gray" and "white" methods leave the next time. <br>  I ask those interested under the cat. <br><a name="habracut"></a><br><h4>  Hardware and software available </h4><br><ul><li>  <a href="http://en.wikipedia.org/wiki/Watchdog_timer"><s>Watchdog</s></a> Watchduck: <br><img src="https://habrastorage.org/getpro/habr/post_images/b9f/ff0/cb1/b9fff0cb16a4dbefa5951c0bf0f5ab4c.jpg" width="200" height="200"><br>  Performs the same function as the Watchdog timer, but with reference to the engineer - it helps to get out of the hang. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </li><li>  <b>Speedgoat</b> real time <b>machine</b> .  A little easier than in the title illustration, <a href="http://www.speedgoat.ch/Products/Real-timetargetmachines-Mobile.aspx">something like this:</a> <br><img src="https://habrastorage.org/getpro/habr/post_images/104/366/625/10436662529917b1c0d83ca18038bb85.jpg" width="400" height="210"><br><br>  In this PC (and this is essentially IBM compatible PC) there are I / O boards with analog, discrete, and other inputs and outputs, which I use both for data collection and for controlling the course of the experiment.  But the most important thing is that with one click I can launch <b>Simulink</b> models on it in hard real-time mode.  About such machines (forgive me diminutive further appeal to Her :-) I can still tell a lot.  If interested - you can select for this a separate topic. <br><br></li><li>  <a href="http://matlab.ru/"><b>MATLAB / Simulink</b></a> <br><img src="https://habrastorage.org/getpro/habr/post_images/e76/8fd/694/e768fd6941ab7c969204b8e78e3eb805.jpg"><br>  I do not change the tools.  As in my previous posts, I will use <b>Simulink</b> to create models, generate code from them, and run it on interesting pieces of hardware. <br><br></li><li>  DC motor with encoder and gear from <b>Pololu.</b>  <a href="http://www.pololu.com/product/1442">Here is this:</a> <br><img src="https://habrastorage.org/getpro/habr/post_images/fc2/f5a/b48/fc2f5ab488e478763b55397303087d20.jpg" width="400" height="247"><br></li><li>  <a href=""><b><b>Seeedstudio</b></b></a> <a href="http://www.arduino.cc/"><b>Arduino</b></a> + <a href=""><b>Motor Shield</b></a> <br><img src="https://habrastorage.org/getpro/habr/post_images/be0/959/bb3/be0959bb3a5be9e1a43690ebfa88f1c2.jpg" width="300" height="300"><img src="https://habrastorage.org/getpro/habr/post_images/03a/bb7/5e6/03abb75e62dfaff8aa3e6a38630d7caf.jpg" width="300" height="300"><br>  To work with <b>Arduino</b> from under <b>Simulink,</b> I use the <a href="http://www.mathworks.com/matlabcentral/fileexchange/30277-embedded-coder-target-for-arduino">Embedded Coder Target for Arduino</a> library. <br>  This library allows you to use <b>Simulink</b> models to generate code that is completely ready for compilation for this platform.  You can also use the built-in support for <b>Arduino</b> in <b>MATLAB / Simulink</b> , but I like this target more. <br><br></li><li>  Development board, conductors, power and other small things <br></li></ul><br>  In fact, any of the presented components can be replaced by the corresponding functional counterpart (except for the duck, of course!).  But, since everything was done ‚Äúon the knee‚Äù, then the right of choice remains with the owner of this important joint. <br><br>  When assembled, if it can be called self-discipline, everything looks like this: <br><img src="https://habrastorage.org/getpro/habr/post_images/185/b69/1c0/185b691c05ae1ddc546e5be4122106fe.jpg"><br><br><h4>  Formulation of the problem </h4><br>  There is a system - you need to get its model for further work.  There is simply no place. <br>  The behavior of the system and its model should coincide as much as possible within the limits of admissible input effects.  The black box method implies that we will not, or almost will not, take into account the physics of the processes within the system, but will consider it from a general point of view of control theory. <br><br>  I will not go into details this time, at first everything is already visible, by sight. <br>  But it should be noted that the most important and most interesting topics remain behind the scenes - experiment planning ( <a href="http://en.wikipedia.org/wiki/Design_of_experiments"><b>DOE</b></a> ) and analysis of variance ( <a href="http://ru.wikipedia.org/wiki/%25D0%2594%25D0%25B8%25D1%2581%25D0%25BF%25D0%25B5%25D1%2580%25D1%2581%25D0%25B8%25D0%25BE%25D0%25BD%25D0%25BD%25D1%258B%25D0%25B9_%25D0%25B0%25D0%25BD%25D0%25B0%25D0%25BB%25D0%25B8%25D0%25B7"><b>ANOVA</b></a> ), which deserve separate consideration. <br><br>  The target system in some approximation and simplification consists of the following set of subsystems: <br><ul><li>  Discrete Subsystem - <b>Arduino</b> </li><li>  Continuous mechanical subsystem - <b>engine</b> </li><li>  Continuous Electrical Subsystem - <b>Motor Shield</b> </li></ul><br>  <b>The system input</b> is the specified <b>PWM</b> value of <b>0-100%</b> . <br>  There is an opportunity to change the PWM signal's duty cycle, giving <b>uint8</b> values ‚Äã‚Äãfrom 0 to 255 to the output of the ‚Äúanalog‚Äù <b>Arduino</b> port. It is necessary to find out how the power electronics and the engine will react to this effect. <br>  The test vector will be sewn into the controller, it consists of 501 elements and is issued with a sampling rate of 0.04s.  Total ~ 20 seconds of test exposure. <br>  The test vector looks like this: <br><img src="https://habrastorage.org/getpro/habr/post_images/bd1/efa/2e6/bd1efa2e69e318bb9767f8ddf83e1a04.png"><br><br>  At the output of the system, I expect to see at least something like that :-) <br>  For successful identification, the test vector must cover the maximum number of modes of the system in which it will, or can work.  The ‚Äúblack box‚Äù method does not allow to fully investigate emergency conditions due to the limited number of experimental samples.  I will explore the system in soft start and start-stop modes. <br><br>  <b>System output</b> - shaft rotation speed, shaft rotation angle.  From the quadrature encoder, when the motor shaft is rotated, I get two meanders with a phase shift of pi / 2.  They are processed by a hardware decoder, which is present on one of the configurable I / O cards.  When the <b>Simulink</b> model is loaded onto a real-time machine, the <b>FPGA</b> firmware is ‚Äúflashed‚Äù to provide the required I / O.  Ticks, from the decoder multiply by a factor and turn into a corner, and the rate of change of their number in the speed.  The engine encoder makes 64 triggers per revolution, which allows tracking the parameters described above with good accuracy.  The main algorithm on a real-time machine is set by me to work with a frequency of <b>10 kHz</b> - at the output I get experimental data with a sampling period of <b>0.0001 s</b> .  The hardware part of the FPGA operates at a frequency of <b>33 MHz</b> , which allows, in addition to the basic decoding algorithm, to have time to apply anti-bounce algorithms without compromising the accuracy of measurements at fairly high speeds.  Simple words decoding the quadrature signal on an FPGA is described in the excellent article <a href="http://www.fpga4fun.com/QuadratureDecoder.html">fpga4fun -&gt; QuadratureDecoder</a> . <br><br>  Discretization of values, time delays, moments of inertia of mechanical parts, calm friction, sliding friction, rolling friction, mechanical backlash, imbalance, resonant phenomena, switching inductive circuits, sliding contact, sparking - not a complete list of factors that we would have to face when trying describe this system analytically.  But this is just an <i>arduinka with a motor</i> ! <br>  I agree, some nuances can be completely neglected, but in practice, the decision to neglect any factor is not the easiest solution. <br><br>  This is the <b>Arduino</b> PWM (yellow) and the voltage on a purely resistive load, which is connected to the shield: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7eb/18e/785/7eb18e78593d58f7d35b794976f6e130.jpg"><br><br>  But the graphics when the engine is connected in the modes when the engine is not yet rotating, and is already rotating: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d47/eb1/afb/d47eb1afbbf7891fcc4e483e58dc043b.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/d63/514/0b2/d635140b2215ea6694142faa4f7da05b.jpg"><br><br>  Switching inductive loads with mechanical contact with semiconductor keys is an extremely interesting topic for research, but today we will not pay attention to it.  We will cut in a straight line - we will consider only the input and output of the system, without delving into the physics of processes. <br><br><h3>  Simulink models </h3><br>  I run this model on a real-time machine: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8aa/5d4/4ff/8aa5d44ff1f03f445abcec57a4d059ea.png"><br><br>  Its structure is extremely simple.  There are blocks for inputs, outputs, general settings for I / O boards, information output on the machine display and simple internal logic for recalculating ticks from a quadrature encoder to an angle and speed. <br><br>  The model for obtaining firmware for <b>Arduino is</b> as follows: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/08f/bc2/8ff/08fbc28ffaf3c6c0c6c6dbcd5a2ee74c.png"><br><br>  A truth table that tracks the signal mark and controls the inputs of the motor shield. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a30/f56/67b/a30f5667b6e6fde8f18472d1306f774d.png" width="300" height="300"><br><br>  The algorithm code can be viewed under the spoiler: <br><div class="spoiler">  <b class="spoiler_title">C ++</b> <div class="spoiler_text"><pre><code class="hljs pgsql">// // File: arduinoTestVector.cpp // // Code <span class="hljs-keyword"><span class="hljs-keyword">generated</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> Simulink model <span class="hljs-string"><span class="hljs-string">'arduinoTestVector'</span></span>. // // Model <span class="hljs-keyword"><span class="hljs-keyword">version</span></span> : <span class="hljs-number"><span class="hljs-number">1.229</span></span> // Simulink Coder <span class="hljs-keyword"><span class="hljs-keyword">version</span></span> : <span class="hljs-number"><span class="hljs-number">8.6</span></span> (R2014a) <span class="hljs-number"><span class="hljs-number">27</span></span>-<span class="hljs-type"><span class="hljs-type">Dec</span></span><span class="hljs-number"><span class="hljs-number">-2013</span></span> // C/C++ source code <span class="hljs-keyword"><span class="hljs-keyword">generated</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> : Thu May <span class="hljs-number"><span class="hljs-number">22</span></span> <span class="hljs-number"><span class="hljs-number">14</span></span>:<span class="hljs-number"><span class="hljs-number">47</span></span>:<span class="hljs-number"><span class="hljs-number">55</span></span> <span class="hljs-number"><span class="hljs-number">2014</span></span> // // Target selection: arduino_ec.tlc // Embedded hardware selection: Atmel-&gt;AVR // Code generation objectives: // <span class="hljs-number"><span class="hljs-number">1.</span></span> Execution efficiency // <span class="hljs-number"><span class="hljs-number">2.</span></span> ROM efficiency // <span class="hljs-number"><span class="hljs-number">3.</span></span> RAM efficiency // Validation result: <span class="hljs-keyword"><span class="hljs-keyword">Not</span></span> run // #<span class="hljs-keyword"><span class="hljs-keyword">include</span></span> "arduinoTestVector.h" // <span class="hljs-keyword"><span class="hljs-keyword">Constant</span></span> parameters (auto <span class="hljs-keyword"><span class="hljs-keyword">storage</span></span>) const ConstParam_arduinoTestVector arduinoTestVector_ConstP = { // Expression: myData // Referenced <span class="hljs-keyword"><span class="hljs-keyword">by</span></span>: <span class="hljs-string"><span class="hljs-string">'&lt;S1&gt;/Constant1'</span></span> { <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>, <span class="hljs-number"><span class="hljs-number">14</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">17</span></span>, <span class="hljs-number"><span class="hljs-number">18</span></span>, <span class="hljs-number"><span class="hljs-number">19</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">22</span></span>, <span class="hljs-number"><span class="hljs-number">23</span></span>, <span class="hljs-number"><span class="hljs-number">24</span></span>, <span class="hljs-number"><span class="hljs-number">26</span></span>, <span class="hljs-number"><span class="hljs-number">27</span></span>, <span class="hljs-number"><span class="hljs-number">28</span></span>, <span class="hljs-number"><span class="hljs-number">29</span></span>, <span class="hljs-number"><span class="hljs-number">31</span></span>, <span class="hljs-number"><span class="hljs-number">32</span></span>, <span class="hljs-number"><span class="hljs-number">33</span></span>, <span class="hljs-number"><span class="hljs-number">34</span></span>, <span class="hljs-number"><span class="hljs-number">36</span></span>, <span class="hljs-number"><span class="hljs-number">37</span></span>, <span class="hljs-number"><span class="hljs-number">38</span></span>, <span class="hljs-number"><span class="hljs-number">40</span></span>, <span class="hljs-number"><span class="hljs-number">41</span></span>, <span class="hljs-number"><span class="hljs-number">42</span></span>, <span class="hljs-number"><span class="hljs-number">43</span></span>, <span class="hljs-number"><span class="hljs-number">45</span></span>, <span class="hljs-number"><span class="hljs-number">46</span></span>, <span class="hljs-number"><span class="hljs-number">47</span></span>, <span class="hljs-number"><span class="hljs-number">48</span></span>, <span class="hljs-number"><span class="hljs-number">50</span></span>, <span class="hljs-number"><span class="hljs-number">51</span></span>, <span class="hljs-number"><span class="hljs-number">52</span></span>, <span class="hljs-number"><span class="hljs-number">54</span></span>, <span class="hljs-number"><span class="hljs-number">55</span></span>, <span class="hljs-number"><span class="hljs-number">56</span></span>, <span class="hljs-number"><span class="hljs-number">57</span></span>, <span class="hljs-number"><span class="hljs-number">59</span></span>, <span class="hljs-number"><span class="hljs-number">60</span></span>, <span class="hljs-number"><span class="hljs-number">61</span></span>, <span class="hljs-number"><span class="hljs-number">62</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">-1</span></span>, <span class="hljs-number"><span class="hljs-number">-3</span></span>, <span class="hljs-number"><span class="hljs-number">-4</span></span>, <span class="hljs-number"><span class="hljs-number">-5</span></span>, <span class="hljs-number"><span class="hljs-number">-6</span></span>, <span class="hljs-number"><span class="hljs-number">-8</span></span>, <span class="hljs-number"><span class="hljs-number">-9</span></span>, <span class="hljs-number"><span class="hljs-number">-10</span></span>, <span class="hljs-number"><span class="hljs-number">-11</span></span>, <span class="hljs-number"><span class="hljs-number">-13</span></span>, <span class="hljs-number"><span class="hljs-number">-14</span></span>, <span class="hljs-number"><span class="hljs-number">-15</span></span>, <span class="hljs-number"><span class="hljs-number">-17</span></span>, <span class="hljs-number"><span class="hljs-number">-18</span></span>, <span class="hljs-number"><span class="hljs-number">-19</span></span>, <span class="hljs-number"><span class="hljs-number">-20</span></span>, <span class="hljs-number"><span class="hljs-number">-22</span></span>, <span class="hljs-number"><span class="hljs-number">-23</span></span>, <span class="hljs-number"><span class="hljs-number">-24</span></span>, <span class="hljs-number"><span class="hljs-number">-26</span></span>, <span class="hljs-number"><span class="hljs-number">-27</span></span>, <span class="hljs-number"><span class="hljs-number">-28</span></span>, <span class="hljs-number"><span class="hljs-number">-29</span></span>, <span class="hljs-number"><span class="hljs-number">-31</span></span>, <span class="hljs-number"><span class="hljs-number">-32</span></span>, <span class="hljs-number"><span class="hljs-number">-33</span></span>, <span class="hljs-number"><span class="hljs-number">-34</span></span>, <span class="hljs-number"><span class="hljs-number">-36</span></span>, <span class="hljs-number"><span class="hljs-number">-37</span></span>, <span class="hljs-number"><span class="hljs-number">-38</span></span>, <span class="hljs-number"><span class="hljs-number">-40</span></span>, <span class="hljs-number"><span class="hljs-number">-41</span></span>, <span class="hljs-number"><span class="hljs-number">-42</span></span>, <span class="hljs-number"><span class="hljs-number">-43</span></span>, <span class="hljs-number"><span class="hljs-number">-45</span></span>, <span class="hljs-number"><span class="hljs-number">-46</span></span>, <span class="hljs-number"><span class="hljs-number">-47</span></span>, <span class="hljs-number"><span class="hljs-number">-48</span></span>, <span class="hljs-number"><span class="hljs-number">-50</span></span>, <span class="hljs-number"><span class="hljs-number">-51</span></span>, <span class="hljs-number"><span class="hljs-number">-52</span></span>, <span class="hljs-number"><span class="hljs-number">-54</span></span>, <span class="hljs-number"><span class="hljs-number">-55</span></span>, <span class="hljs-number"><span class="hljs-number">-56</span></span>, <span class="hljs-number"><span class="hljs-number">-57</span></span>, <span class="hljs-number"><span class="hljs-number">-59</span></span>, <span class="hljs-number"><span class="hljs-number">-60</span></span>, <span class="hljs-number"><span class="hljs-number">-61</span></span>, <span class="hljs-number"><span class="hljs-number">-62</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">18</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">23</span></span>, <span class="hljs-number"><span class="hljs-number">26</span></span>, <span class="hljs-number"><span class="hljs-number">28</span></span>, <span class="hljs-number"><span class="hljs-number">31</span></span>, <span class="hljs-number"><span class="hljs-number">33</span></span>, <span class="hljs-number"><span class="hljs-number">36</span></span>, <span class="hljs-number"><span class="hljs-number">38</span></span>, <span class="hljs-number"><span class="hljs-number">41</span></span>, <span class="hljs-number"><span class="hljs-number">43</span></span>, <span class="hljs-number"><span class="hljs-number">46</span></span>, <span class="hljs-number"><span class="hljs-number">48</span></span>, <span class="hljs-number"><span class="hljs-number">51</span></span>, <span class="hljs-number"><span class="hljs-number">54</span></span>, <span class="hljs-number"><span class="hljs-number">56</span></span>, <span class="hljs-number"><span class="hljs-number">59</span></span>, <span class="hljs-number"><span class="hljs-number">61</span></span>, <span class="hljs-number"><span class="hljs-number">64</span></span>, <span class="hljs-number"><span class="hljs-number">66</span></span>, <span class="hljs-number"><span class="hljs-number">69</span></span>, <span class="hljs-number"><span class="hljs-number">71</span></span>, <span class="hljs-number"><span class="hljs-number">74</span></span>, <span class="hljs-number"><span class="hljs-number">77</span></span>, <span class="hljs-number"><span class="hljs-number">79</span></span>, <span class="hljs-number"><span class="hljs-number">82</span></span>, <span class="hljs-number"><span class="hljs-number">84</span></span>, <span class="hljs-number"><span class="hljs-number">87</span></span>, <span class="hljs-number"><span class="hljs-number">89</span></span>, <span class="hljs-number"><span class="hljs-number">92</span></span>, <span class="hljs-number"><span class="hljs-number">94</span></span>, <span class="hljs-number"><span class="hljs-number">97</span></span>, <span class="hljs-number"><span class="hljs-number">99</span></span>, <span class="hljs-number"><span class="hljs-number">102</span></span>, <span class="hljs-number"><span class="hljs-number">105</span></span>, <span class="hljs-number"><span class="hljs-number">107</span></span>, <span class="hljs-number"><span class="hljs-number">110</span></span>, <span class="hljs-number"><span class="hljs-number">112</span></span>, <span class="hljs-number"><span class="hljs-number">115</span></span>, <span class="hljs-number"><span class="hljs-number">117</span></span>, <span class="hljs-number"><span class="hljs-number">120</span></span>, <span class="hljs-number"><span class="hljs-number">122</span></span>, <span class="hljs-number"><span class="hljs-number">125</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">-3</span></span>, <span class="hljs-number"><span class="hljs-number">-5</span></span>, <span class="hljs-number"><span class="hljs-number">-8</span></span>, <span class="hljs-number"><span class="hljs-number">-10</span></span>, <span class="hljs-number"><span class="hljs-number">-13</span></span>, <span class="hljs-number"><span class="hljs-number">-15</span></span>, <span class="hljs-number"><span class="hljs-number">-18</span></span>, <span class="hljs-number"><span class="hljs-number">-20</span></span>, <span class="hljs-number"><span class="hljs-number">-23</span></span>, <span class="hljs-number"><span class="hljs-number">-26</span></span>, <span class="hljs-number"><span class="hljs-number">-28</span></span>, <span class="hljs-number"><span class="hljs-number">-31</span></span>, <span class="hljs-number"><span class="hljs-number">-33</span></span>, <span class="hljs-number"><span class="hljs-number">-36</span></span>, <span class="hljs-number"><span class="hljs-number">-38</span></span>, <span class="hljs-number"><span class="hljs-number">-41</span></span>, <span class="hljs-number"><span class="hljs-number">-43</span></span>, <span class="hljs-number"><span class="hljs-number">-46</span></span>, <span class="hljs-number"><span class="hljs-number">-48</span></span>, <span class="hljs-number"><span class="hljs-number">-51</span></span>, <span class="hljs-number"><span class="hljs-number">-54</span></span>, <span class="hljs-number"><span class="hljs-number">-56</span></span>, <span class="hljs-number"><span class="hljs-number">-59</span></span>, <span class="hljs-number"><span class="hljs-number">-61</span></span>, <span class="hljs-number"><span class="hljs-number">-64</span></span>, <span class="hljs-number"><span class="hljs-number">-66</span></span>, <span class="hljs-number"><span class="hljs-number">-69</span></span>, <span class="hljs-number"><span class="hljs-number">-71</span></span>, <span class="hljs-number"><span class="hljs-number">-74</span></span>, <span class="hljs-number"><span class="hljs-number">-77</span></span>, <span class="hljs-number"><span class="hljs-number">-79</span></span>, <span class="hljs-number"><span class="hljs-number">-82</span></span>, <span class="hljs-number"><span class="hljs-number">-84</span></span>, <span class="hljs-number"><span class="hljs-number">-87</span></span>, <span class="hljs-number"><span class="hljs-number">-89</span></span>, <span class="hljs-number"><span class="hljs-number">-92</span></span>, <span class="hljs-number"><span class="hljs-number">-94</span></span>, <span class="hljs-number"><span class="hljs-number">-97</span></span>, <span class="hljs-number"><span class="hljs-number">-99</span></span>, <span class="hljs-number"><span class="hljs-number">-102</span></span>, <span class="hljs-number"><span class="hljs-number">-105</span></span>, <span class="hljs-number"><span class="hljs-number">-107</span></span>, <span class="hljs-number"><span class="hljs-number">-110</span></span>, <span class="hljs-number"><span class="hljs-number">-112</span></span>, <span class="hljs-number"><span class="hljs-number">-115</span></span>, <span class="hljs-number"><span class="hljs-number">-117</span></span>, <span class="hljs-number"><span class="hljs-number">-120</span></span>, <span class="hljs-number"><span class="hljs-number">-122</span></span>, <span class="hljs-number"><span class="hljs-number">-125</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">-170</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">-255</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">-85</span></span>, <span class="hljs-number"><span class="hljs-number">-85</span></span>, <span class="hljs-number"><span class="hljs-number">-85</span></span>, <span class="hljs-number"><span class="hljs-number">-85</span></span>, <span class="hljs-number"><span class="hljs-number">-85</span></span>, <span class="hljs-number"><span class="hljs-number">-85</span></span>, <span class="hljs-number"><span class="hljs-number">-85</span></span>, <span class="hljs-number"><span class="hljs-number">-85</span></span>, <span class="hljs-number"><span class="hljs-number">-85</span></span>, <span class="hljs-number"><span class="hljs-number">-85</span></span>, <span class="hljs-number"><span class="hljs-number">-85</span></span>, <span class="hljs-number"><span class="hljs-number">-85</span></span>, <span class="hljs-number"><span class="hljs-number">-85</span></span>, <span class="hljs-number"><span class="hljs-number">-85</span></span>, <span class="hljs-number"><span class="hljs-number">-85</span></span>, <span class="hljs-number"><span class="hljs-number">-85</span></span>, <span class="hljs-number"><span class="hljs-number">-85</span></span>, <span class="hljs-number"><span class="hljs-number">-85</span></span>, <span class="hljs-number"><span class="hljs-number">-85</span></span>, <span class="hljs-number"><span class="hljs-number">-85</span></span>, <span class="hljs-number"><span class="hljs-number">-85</span></span>, <span class="hljs-number"><span class="hljs-number">-85</span></span>, <span class="hljs-number"><span class="hljs-number">-85</span></span>, <span class="hljs-number"><span class="hljs-number">-85</span></span>, <span class="hljs-number"><span class="hljs-number">-85</span></span>, <span class="hljs-number"><span class="hljs-number">-85</span></span>, <span class="hljs-number"><span class="hljs-number">-85</span></span>, <span class="hljs-number"><span class="hljs-number">-85</span></span>, <span class="hljs-number"><span class="hljs-number">-85</span></span>, <span class="hljs-number"><span class="hljs-number">-85</span></span>, <span class="hljs-number"><span class="hljs-number">-85</span></span>, <span class="hljs-number"><span class="hljs-number">-85</span></span>, <span class="hljs-number"><span class="hljs-number">-85</span></span>, <span class="hljs-number"><span class="hljs-number">-85</span></span>, <span class="hljs-number"><span class="hljs-number">-85</span></span>, <span class="hljs-number"><span class="hljs-number">-85</span></span>, <span class="hljs-number"><span class="hljs-number">-85</span></span>, <span class="hljs-number"><span class="hljs-number">-85</span></span>, <span class="hljs-number"><span class="hljs-number">-85</span></span>, <span class="hljs-number"><span class="hljs-number">-85</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span> } }; // Block signals (auto <span class="hljs-keyword"><span class="hljs-keyword">storage</span></span>) BlockIO_arduinoTestVector arduinoTestVector_B; // Block states (auto <span class="hljs-keyword"><span class="hljs-keyword">storage</span></span>) D_Work_arduinoTestVector arduinoTestVector_DWork; // Model step <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> <span class="hljs-type"><span class="hljs-type">void</span></span> arduinoTestVector_step(<span class="hljs-type"><span class="hljs-type">void</span></span>) { // <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> block i/o variables uint8_T rtb_MOTORSHIELD_IN1; uint8_T rtb_MOTORSHIELD_IN2; uint8_T rtb_Abs; boolean_T aVarTruthTableCondition_1; boolean_T aVarTruthTableCondition_2; boolean_T aVarTruthTableCondition_3; uint16_T rtb_Init; // Outputs <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> Enabled SubSystem: <span class="hljs-string"><span class="hljs-string">'&lt;Root&gt;/ENABLE_TEST'</span></span> incorporates: // EnablePort: <span class="hljs-string"><span class="hljs-string">'&lt;S1&gt;/Enable'</span></span> // S-<span class="hljs-keyword"><span class="hljs-keyword">Function</span></span> (sfunar_digitalInput): <span class="hljs-string"><span class="hljs-string">'&lt;Root&gt;/RUN_TEST'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (((uint8_T)digitalRead(((uint8_T)<span class="hljs-number"><span class="hljs-number">2</span></span>U))) &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!arduinoTestVector_DWork.ENABLE_TEST_MODE) { // InitializeConditions <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> UnitDelay: <span class="hljs-string"><span class="hljs-string">'&lt;S1&gt;/Unit Delay'</span></span> arduinoTestVector_DWork.UnitDelay_DSTATE = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; // InitializeConditions <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> UnitDelay: <span class="hljs-string"><span class="hljs-string">'&lt;S4&gt;/FixPt Unit Delay2'</span></span> arduinoTestVector_DWork.FixPtUnitDelay2_DSTATE = <span class="hljs-number"><span class="hljs-number">1</span></span>U; // InitializeConditions <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> UnitDelay: <span class="hljs-string"><span class="hljs-string">'&lt;S4&gt;/FixPt Unit Delay1'</span></span> arduinoTestVector_DWork.FixPtUnitDelay1_DSTATE = <span class="hljs-number"><span class="hljs-number">0</span></span>U; arduinoTestVector_DWork.ENABLE_TEST_MODE = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; } // Switch: <span class="hljs-string"><span class="hljs-string">'&lt;S4&gt;/Init'</span></span> incorporates: // <span class="hljs-keyword"><span class="hljs-keyword">Constant</span></span>: <span class="hljs-string"><span class="hljs-string">'&lt;S4&gt;/Initial Condition'</span></span> // Logic: <span class="hljs-string"><span class="hljs-string">'&lt;S4&gt;/FixPt Logical Operator'</span></span> // UnitDelay: <span class="hljs-string"><span class="hljs-string">'&lt;S1&gt;/Unit Delay'</span></span> // UnitDelay: <span class="hljs-string"><span class="hljs-string">'&lt;S4&gt;/FixPt Unit Delay1'</span></span> // UnitDelay: <span class="hljs-string"><span class="hljs-string">'&lt;S4&gt;/FixPt Unit Delay2'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (arduinoTestVector_DWork.UnitDelay_DSTATE || (arduinoTestVector_DWork.FixPtUnitDelay2_DSTATE != <span class="hljs-number"><span class="hljs-number">0</span></span>)) { rtb_Init = <span class="hljs-number"><span class="hljs-number">0</span></span>U; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { rtb_Init = arduinoTestVector_DWork.FixPtUnitDelay1_DSTATE; } // <span class="hljs-keyword"><span class="hljs-keyword">End</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> Switch: <span class="hljs-string"><span class="hljs-string">'&lt;S4&gt;/Init'</span></span> // Selector: <span class="hljs-string"><span class="hljs-string">'&lt;S1&gt;/Selector'</span></span> incorporates: // <span class="hljs-keyword"><span class="hljs-keyword">Constant</span></span>: <span class="hljs-string"><span class="hljs-string">'&lt;S1&gt;/Constant1'</span></span> arduinoTestVector_B.Selector = arduinoTestVector_ConstP.Constant1_Value [(int16_T)rtb_Init]; // Switch: <span class="hljs-string"><span class="hljs-string">'&lt;S4&gt;/Reset'</span></span> incorporates: // UnitDelay: <span class="hljs-string"><span class="hljs-string">'&lt;S1&gt;/Unit Delay'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (arduinoTestVector_DWork.UnitDelay_DSTATE) { // <span class="hljs-keyword"><span class="hljs-keyword">Update</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> UnitDelay: <span class="hljs-string"><span class="hljs-string">'&lt;S4&gt;/FixPt Unit Delay1'</span></span> incorporates: // <span class="hljs-keyword"><span class="hljs-keyword">Constant</span></span>: <span class="hljs-string"><span class="hljs-string">'&lt;S4&gt;/Initial Condition'</span></span> arduinoTestVector_DWork.FixPtUnitDelay1_DSTATE = <span class="hljs-number"><span class="hljs-number">0</span></span>U; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { // <span class="hljs-keyword"><span class="hljs-keyword">Update</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> UnitDelay: <span class="hljs-string"><span class="hljs-string">'&lt;S4&gt;/FixPt Unit Delay1'</span></span> incorporates: // <span class="hljs-keyword"><span class="hljs-keyword">Constant</span></span>: <span class="hljs-string"><span class="hljs-string">'&lt;S1&gt;/Constant'</span></span> // Sum: <span class="hljs-string"><span class="hljs-string">'&lt;S1&gt;/Add'</span></span> arduinoTestVector_DWork.FixPtUnitDelay1_DSTATE = rtb_Init + <span class="hljs-number"><span class="hljs-number">1</span></span>U; } // <span class="hljs-keyword"><span class="hljs-keyword">End</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> Switch: <span class="hljs-string"><span class="hljs-string">'&lt;S4&gt;/Reset'</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">Update</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> UnitDelay: <span class="hljs-string"><span class="hljs-string">'&lt;S1&gt;/Unit Delay'</span></span> incorporates: // <span class="hljs-keyword"><span class="hljs-keyword">Constant</span></span>: <span class="hljs-string"><span class="hljs-string">'&lt;S3&gt;/Constant'</span></span> // RelationalOperator: <span class="hljs-string"><span class="hljs-string">'&lt;S3&gt;/Compare'</span></span> arduinoTestVector_DWork.UnitDelay_DSTATE = (rtb_Init == <span class="hljs-number"><span class="hljs-number">500</span></span>U); // <span class="hljs-keyword"><span class="hljs-keyword">Update</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> UnitDelay: <span class="hljs-string"><span class="hljs-string">'&lt;S4&gt;/FixPt Unit Delay2'</span></span> incorporates: // <span class="hljs-keyword"><span class="hljs-keyword">Constant</span></span>: <span class="hljs-string"><span class="hljs-string">'&lt;S4&gt;/FixPt Constant'</span></span> arduinoTestVector_DWork.FixPtUnitDelay2_DSTATE = <span class="hljs-number"><span class="hljs-number">0</span></span>U; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (arduinoTestVector_DWork.ENABLE_TEST_MODE) { // <span class="hljs-keyword"><span class="hljs-keyword">Disable</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> Outport: <span class="hljs-string"><span class="hljs-string">'&lt;S1&gt;/TEST_OUT'</span></span> arduinoTestVector_B.Selector = <span class="hljs-number"><span class="hljs-number">0</span></span>; arduinoTestVector_DWork.ENABLE_TEST_MODE = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; } } // <span class="hljs-keyword"><span class="hljs-keyword">End</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> S-<span class="hljs-keyword"><span class="hljs-keyword">Function</span></span> (sfunar_digitalInput): <span class="hljs-string"><span class="hljs-string">'&lt;Root&gt;/RUN_TEST'</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">End</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> Outputs <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> SubSystem: <span class="hljs-string"><span class="hljs-string">'&lt;Root&gt;/ENABLE_TEST'</span></span> // Truth <span class="hljs-keyword"><span class="hljs-keyword">Table</span></span>: <span class="hljs-string"><span class="hljs-string">'&lt;Root&gt;/Truth Table'</span></span> // Truth <span class="hljs-keyword"><span class="hljs-keyword">Table</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Function</span></span> <span class="hljs-string"><span class="hljs-string">'Truth Table'</span></span>: <span class="hljs-string"><span class="hljs-string">'&lt;S2&gt;:1'</span></span> // ClockWise // Condition <span class="hljs-string"><span class="hljs-string">'#1'</span></span>: <span class="hljs-string"><span class="hljs-string">'&lt;S2&gt;:1:10'</span></span> aVarTruthTableCondition_1 = (arduinoTestVector_B.Selector &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>); // CounterClockWise // Condition <span class="hljs-string"><span class="hljs-string">'#2'</span></span>: <span class="hljs-string"><span class="hljs-string">'&lt;S2&gt;:1:14'</span></span> aVarTruthTableCondition_2 = (arduinoTestVector_B.Selector &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>); // Stop // Condition <span class="hljs-string"><span class="hljs-string">'#3'</span></span>: <span class="hljs-string"><span class="hljs-string">'&lt;S2&gt;:1:18'</span></span> aVarTruthTableCondition_3 = (arduinoTestVector_B.Selector == <span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((!aVarTruthTableCondition_1) &amp;&amp; (!aVarTruthTableCondition_2) &amp;&amp; aVarTruthTableCondition_3) { // Decision <span class="hljs-string"><span class="hljs-string">'D1'</span></span>: <span class="hljs-string"><span class="hljs-string">'&lt;S2&gt;:1:20'</span></span> // Stop // Action <span class="hljs-string"><span class="hljs-string">'3'</span></span>: <span class="hljs-string"><span class="hljs-string">'&lt;S2&gt;:1:48'</span></span> rtb_MOTORSHIELD_IN1 = <span class="hljs-number"><span class="hljs-number">0</span></span>U; // Action <span class="hljs-string"><span class="hljs-string">'3'</span></span>: <span class="hljs-string"><span class="hljs-string">'&lt;S2&gt;:1:49'</span></span> rtb_MOTORSHIELD_IN2 = <span class="hljs-number"><span class="hljs-number">0</span></span>U; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { // Decision <span class="hljs-string"><span class="hljs-string">'D2'</span></span>: <span class="hljs-string"><span class="hljs-string">'&lt;S2&gt;:1:20'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (aVarTruthTableCondition_1 &amp;&amp; (!aVarTruthTableCondition_2) &amp;&amp; (!aVarTruthTableCondition_3)) { // Decision <span class="hljs-string"><span class="hljs-string">'D2'</span></span>: <span class="hljs-string"><span class="hljs-string">'&lt;S2&gt;:1:22'</span></span> // ClockWise // Action <span class="hljs-string"><span class="hljs-string">'1'</span></span>: <span class="hljs-string"><span class="hljs-string">'&lt;S2&gt;:1:34'</span></span> rtb_MOTORSHIELD_IN1 = <span class="hljs-number"><span class="hljs-number">1</span></span>U; // Action <span class="hljs-string"><span class="hljs-string">'1'</span></span>: <span class="hljs-string"><span class="hljs-string">'&lt;S2&gt;:1:35'</span></span> rtb_MOTORSHIELD_IN2 = <span class="hljs-number"><span class="hljs-number">0</span></span>U; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { // Decision <span class="hljs-string"><span class="hljs-string">'D3'</span></span>: <span class="hljs-string"><span class="hljs-string">'&lt;S2&gt;:1:22'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((!aVarTruthTableCondition_1) &amp;&amp; aVarTruthTableCondition_2 &amp;&amp; (!aVarTruthTableCondition_3)) { // Decision <span class="hljs-string"><span class="hljs-string">'D3'</span></span>: <span class="hljs-string"><span class="hljs-string">'&lt;S2&gt;:1:24'</span></span> // CounterClockWise // Action <span class="hljs-string"><span class="hljs-string">'2'</span></span>: <span class="hljs-string"><span class="hljs-string">'&lt;S2&gt;:1:41'</span></span> rtb_MOTORSHIELD_IN1 = <span class="hljs-number"><span class="hljs-number">0</span></span>U; // Action <span class="hljs-string"><span class="hljs-string">'2'</span></span>: <span class="hljs-string"><span class="hljs-string">'&lt;S2&gt;:1:42'</span></span> rtb_MOTORSHIELD_IN2 = <span class="hljs-number"><span class="hljs-number">1</span></span>U; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { // Decision <span class="hljs-string"><span class="hljs-string">'D4'</span></span>: <span class="hljs-string"><span class="hljs-string">'&lt;S2&gt;:1:24'</span></span> // Decision <span class="hljs-string"><span class="hljs-string">'D4'</span></span>: <span class="hljs-string"><span class="hljs-string">'&lt;S2&gt;:1:26'</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">Default</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">None</span></span> // Action <span class="hljs-string"><span class="hljs-string">'4'</span></span>: <span class="hljs-string"><span class="hljs-string">'&lt;S2&gt;:1:55'</span></span> rtb_MOTORSHIELD_IN1 = <span class="hljs-number"><span class="hljs-number">0</span></span>U; // Action <span class="hljs-string"><span class="hljs-string">'4'</span></span>: <span class="hljs-string"><span class="hljs-string">'&lt;S2&gt;:1:56'</span></span> rtb_MOTORSHIELD_IN2 = <span class="hljs-number"><span class="hljs-number">0</span></span>U; } } } // <span class="hljs-keyword"><span class="hljs-keyword">End</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> Truth <span class="hljs-keyword"><span class="hljs-keyword">Table</span></span>: <span class="hljs-string"><span class="hljs-string">'&lt;Root&gt;/Truth Table'</span></span> // S-<span class="hljs-keyword"><span class="hljs-keyword">Function</span></span> (sfunar_digitalOutput): <span class="hljs-string"><span class="hljs-string">'&lt;Root&gt;/MOTORSHIELD_IN1'</span></span> digitalWrite(((uint8_T)<span class="hljs-number"><span class="hljs-number">8</span></span>U), rtb_MOTORSHIELD_IN1); // S-<span class="hljs-keyword"><span class="hljs-keyword">Function</span></span> (sfunar_digitalOutput): <span class="hljs-string"><span class="hljs-string">'&lt;Root&gt;/MOTORSHIELD_IN2'</span></span> digitalWrite(((uint8_T)<span class="hljs-number"><span class="hljs-number">11</span></span>U), rtb_MOTORSHIELD_IN2); // Abs: <span class="hljs-string"><span class="hljs-string">'&lt;Root&gt;/Abs'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (arduinoTestVector_B.Selector &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { rtb_Abs = (uint8_T)-arduinoTestVector_B.Selector; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { rtb_Abs = (uint8_T)arduinoTestVector_B.Selector; } // <span class="hljs-keyword"><span class="hljs-keyword">End</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> Abs: <span class="hljs-string"><span class="hljs-string">'&lt;Root&gt;/Abs'</span></span> // S-<span class="hljs-keyword"><span class="hljs-keyword">Function</span></span> (sfunar_analogOutput): <span class="hljs-string"><span class="hljs-string">'&lt;Root&gt;/SPEEDPIN_A'</span></span> analogWrite(((uint8_T)<span class="hljs-number"><span class="hljs-number">9</span></span>U), rtb_Abs); } // Model initialize <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> <span class="hljs-type"><span class="hljs-type">void</span></span> arduinoTestVector_initialize(<span class="hljs-type"><span class="hljs-type">void</span></span>) { // Registration code // block I/O (<span class="hljs-type"><span class="hljs-type">void</span></span>) memset(((<span class="hljs-type"><span class="hljs-type">void</span></span> *) &amp;arduinoTestVector_B), <span class="hljs-number"><span class="hljs-number">0</span></span>, sizeof(BlockIO_arduinoTestVector)); // states (dwork) (<span class="hljs-type"><span class="hljs-type">void</span></span>) memset((<span class="hljs-type"><span class="hljs-type">void</span></span> *)&amp;arduinoTestVector_DWork, <span class="hljs-number"><span class="hljs-number">0</span></span>, sizeof(D_Work_arduinoTestVector)); // S-<span class="hljs-keyword"><span class="hljs-keyword">Function</span></span> (sfunar_digitalInput): &lt;Root&gt;/RUN_TEST pinMode(((uint8_T)<span class="hljs-number"><span class="hljs-number">2</span></span>U), <span class="hljs-keyword"><span class="hljs-keyword">INPUT</span></span>); // InitializeConditions <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> Enabled SubSystem: <span class="hljs-string"><span class="hljs-string">'&lt;Root&gt;/ENABLE_TEST'</span></span> // InitializeConditions <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> UnitDelay: <span class="hljs-string"><span class="hljs-string">'&lt;S1&gt;/Unit Delay'</span></span> arduinoTestVector_DWork.UnitDelay_DSTATE = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; // InitializeConditions <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> UnitDelay: <span class="hljs-string"><span class="hljs-string">'&lt;S4&gt;/FixPt Unit Delay2'</span></span> arduinoTestVector_DWork.FixPtUnitDelay2_DSTATE = <span class="hljs-number"><span class="hljs-number">1</span></span>U; // InitializeConditions <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> UnitDelay: <span class="hljs-string"><span class="hljs-string">'&lt;S4&gt;/FixPt Unit Delay1'</span></span> arduinoTestVector_DWork.FixPtUnitDelay1_DSTATE = <span class="hljs-number"><span class="hljs-number">0</span></span>U; // <span class="hljs-keyword"><span class="hljs-keyword">End</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> InitializeConditions <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> SubSystem: <span class="hljs-string"><span class="hljs-string">'&lt;Root&gt;/ENABLE_TEST'</span></span> // S-<span class="hljs-keyword"><span class="hljs-keyword">Function</span></span> (sfunar_digitalOutput): &lt;Root&gt;/MOTORSHIELD_IN1 pinMode(((uint8_T)<span class="hljs-number"><span class="hljs-number">8</span></span>U), OUTPUT); // S-<span class="hljs-keyword"><span class="hljs-keyword">Function</span></span> (sfunar_digitalOutput): &lt;Root&gt;/MOTORSHIELD_IN2 pinMode(((uint8_T)<span class="hljs-number"><span class="hljs-number">11</span></span>U), OUTPUT); // S-<span class="hljs-keyword"><span class="hljs-keyword">Function</span></span> (sfunar_analogOutput): &lt;Root&gt;/SPEEDPIN_A pinMode(((uint8_T)<span class="hljs-number"><span class="hljs-number">9</span></span>U), OUTPUT); } // // File trailer <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-keyword"><span class="hljs-keyword">generated</span></span> code. // // [EOF] //</code> </pre> </div></div>  The whole project can be downloaded <a href="http://bit.ly/1nL2i0f">here</a> . <br><br>  The model I will use to verify the results: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/42c/3f1/9a8/42c3f19a87a35835c15dd7df231b560b.png"><br><br>  All models can be downloaded <a href="http://bit.ly/1nocXj0">here</a> . <br>  "Opened and launched" may not work, there are nuances.  With questions in lichku, or in the comments. <br><br><h3>  Video </h3><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/ACBDDWpZZCs%3Ffeature%3Doembed&amp;xid=17259,15700023,15700186,15700190,15700253&amp;usg=ALkJrhjatFRWzg4ElQcmF60Ag9PDkNmxEQ" frameborder="0" allowfullscreen=""></iframe><br><br><h3>  results </h3><br>  That's what happened in the end: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/098/5f2/f0f/0985f2f0fe36e9977030c09c211d3723.png"><br><br>  Blue is an input signal with a range from <b>-255 to +255</b> .  In terms of volts will be approximately from <b>-8.5 to 8.5</b> . <br>  Green - the speed of rotation of the motor shaft. <br><br>  We see a time delay, no rotation, or extremely small rotation when applying <b>PWM less than 25%</b> .  We also observe the classical aperiodic transition process. <br><br>  But the information that is displayed during the experiment on a display connected to a real-time machine: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/60c/c83/049/60cc83049d73d398f70e144c5f77abba.png"><br><br><h3>  Identification </h3><br>  One of the subsystems, namely the engine, can be described by the following transfer function: <br><img src="https://habrastorage.org/getpro/habr/post_images/535/5b1/5b5/5355b15b55d34004ecb81c2f0894b8b4.gif"><br>  So tells us the course TAU, with it we begin. <br><br>  MATLAB has a great system identification tool called <b>System Identification Toolbox</b> .  It is available both as a graphical interface and as a set of functions that can be used in <b>MATLAB</b> scripts.  Consider first the work in the graphical interface. <br><br>  We import the data obtained during the experiment and test impact: <br><img src="https://habrastorage.org/getpro/habr/post_images/427/38f/0f6/42738f0f69eb95a33fdca69a17e416ca.png"><br><br>  After the import, the data preprocessing tools become available to us.  We have the opportunity, for example, to divide data arrays into two parts - for identification and separately for verification.  But this is for more complex cases, let's get down to business soon! <br><br>  Select the <b>Transfer Function Models</b> item from the <b>‚ÄúEstimate‚Äù</b> drop-down list. <br><br>  Get the transfer function: <br><img src="https://habrastorage.org/getpro/habr/post_images/9bc/124/21c/9bc12421c9fc71b0713ba6596f9c9812.png" width="300" height="100"><br><br>  Let's compare the behavior of the resulting function and the system: <br><img src="https://habrastorage.org/getpro/habr/post_images/ed4/dea/b1e/ed4deab1e454513d267bc7ba1b70e92b.png"><br><br>  The blue shows the response of the transfer function to the original test vector.  It is seen that this function can be used as a model of the original system only in the start-stop mode.  And not surprisingly, the nonlinear behavior that is present in the system cannot be described in this way. <br><br>  Go ahead, use the <a href="http://www.mathworks.com/help/ident/ug/identifying-hammerstein-wiener-models.html"><b>Hammerstein-Wiener</b></a> model pattern, which makes it possible to describe the non-linear behavior of the system: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/efa/e60/45b/efae6045bcd6d55410fceb0664131f47.png"><br><br>  As an input non-linearity, select <b>Dead Zone</b> - no system response to the input signal less than a certain threshold value.  This type of nonlinearity should take on the description of the friction of calm and the influence of permanent magnets, which takes place in the system. <br>  The rest of the default settings, click <b>Estimate</b> . <br><br>  <b>Update # 1 at the request of <a href="https://geektimes.ru/users/michaelborisov/" class="user_link">MichaelBorisov</a> :</b> <br>  In more detail, setting up the non-linear part looks like this: <br><img src="https://habrastorage.org/getpro/habr/post_images/b32/86d/581/b3286d58153573ced70d39a90254a1fd.png"><br><br>  For the case of the Dead Zone, everything is simple - we set the type and threshold values. <br><br>  Setting the linear part allows you to pre-specify the order and estimate the delay: <br><img src="https://habrastorage.org/getpro/habr/post_images/df9/147/da3/df9147da326b1b5ad5784b4ddc621570.png"><br><br>  Despite the fact that this is a ‚Äúblack box‚Äù - in practice, obtaining an adequate result is very dependent on the amount of knowledge about the system that you have invested in the calculation configuration. <br>  <b>endOfUpdate # 1 at the request of <a href="https://geektimes.ru/users/michaelborisov/" class="user_link">MichaelBorisov</a> :</b> <br><br>  Compare the result with experimental data: <br><img src="https://habrastorage.org/getpro/habr/post_images/90a/578/921/90a578921e14f85e9e2714038303059c.png"><br><br>  Looks much better!  Not ideal - some abnormal behavior is noticeable, but we only slightly touched upon the identification of nonlinear systems. <br><br>  Now we can only export this model to <b>Simulink</b> , where we can begin to develop a management system.  But more about that in the next topic! <br><br>  Thank you for your attention, I hope it was interesting? <br>  And once again, thank you for answering a small survey: </div><p>Source: <a href="https://habr.com/ru/post/222779/">https://habr.com/ru/post/222779/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../222765/index.html">Elasticsearch as NoSQL database</a></li>
<li><a href="../222769/index.html">Intel¬Æ Composer XE 2015 Beta: reporting is fine!</a></li>
<li><a href="../222771/index.html">DevCon 2014 conference program published</a></li>
<li><a href="../222773/index.html">How can trust sociological research?</a></li>
<li><a href="../222777/index.html">LoadRunner 12 Review</a></li>
<li><a href="../222781/index.html">Imagine Cup debut</a></li>
<li><a href="../222783/index.html">Imagine Cup 2014, the first experience of participation and how it was</a></li>
<li><a href="../222785/index.html">My story of the Imagine Cup, or how our ships sailed to the finals</a></li>
<li><a href="../222789/index.html">Dual numbers in business or how to evaluate the sensitivity of a solution to changes in initial conditions</a></li>
<li><a href="../222791/index.html">Evernote surpasses 100 million users</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>