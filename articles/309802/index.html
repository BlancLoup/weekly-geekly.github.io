<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Face Detection on iOS using Core Image</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Core Image is a powerful API built into Cocoa Touch. This is an important part of the iOS SDK. However, she is often overlooked. In this article, we w...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Face Detection on iOS using Core Image</h1><div class="post__text post__text-html js-mediator-article">  Core Image is a powerful API built into Cocoa Touch.  This is an important part of the iOS SDK.  However, she is often overlooked.  In this article, we will consider the possibility of face detection and how to use this technology in my IOS applications! <br><br><img src="https://habrastorage.org/files/b41/1e9/1d3/b411e91d3c4e4089b2db63bd0fdb4d1c.jpg"><br><br><h3>  What will we do in this tutorial? </h3><br>  Face recognition in iOS appeared long ago, since the 5th release (approximately in 2011), but this feature was often overlooked.  The face detection API allows developers not only to recognize faces, but also to check them for certain properties, such as the presence of a smile, whether a person closes his eyes, etc. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      First, we will study the technology of face detection using the Core Image framework, creating an application that recognizes a face in a photo and draws a special frame around it.  In the second example, we will consider a more detailed method of use, by creating an application that allows the user to take a picture, detect whether a face is present, and get the coordinates of the user's face.  Thus, we are going to learn as much as possible about face recognition in iOS, as well as the principle of using a powerful API that is so often overlooked.  So let's go! <br><a name="habracut"></a><br><h3>  Project Setup </h3><br>  Download the starter project from this link <a href="">here</a> and open it in Xcode.  As you can see, a very simple controller with an IBOutlet connected to an ImageView. <br><br><img src="https://habrastorage.org/files/137/b37/f74/137b37f743334d428e96d3a99f6f423c.jpg"><br><br>  To start face detection using Core Image, you need to import the Core Image library.  Go to the ViewController.swift file and paste the following code at the top: <br><br><pre><code class="objectivec hljs">import CoreImage</code> </pre> <br><h3>  Face Detection using Core Image </h3><br>  In the start project, we have an ImageView connected to the code as an IBOutlet.  Next, we need to implement the code for face recognition.  Paste the following code into the project and consider it in more detail: <br><br><pre> <code class="objectivec hljs">func detect() { guard let personciImage = <span class="hljs-built_in"><span class="hljs-built_in">CIImage</span></span>(image: personPic.image!) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> } let accuracy = [<span class="hljs-built_in"><span class="hljs-built_in">CIDetectorAccuracy</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">CIDetectorAccuracyHigh</span></span>] let faceDetector = <span class="hljs-built_in"><span class="hljs-built_in">CIDetector</span></span>(ofType: <span class="hljs-built_in"><span class="hljs-built_in">CIDetectorTypeFace</span></span>, context: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, options: accuracy) let faces = faceDetector.featuresInImage(personciImage) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> face <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> faces as! [<span class="hljs-built_in"><span class="hljs-built_in">CIFaceFeature</span></span>] { print(<span class="hljs-string"><span class="hljs-string">"Found bounds are \(face.bounds)"</span></span>) let faceBox = <span class="hljs-built_in"><span class="hljs-built_in">UIView</span></span>(frame: face.bounds) faceBox.layer.borderWidth = <span class="hljs-number"><span class="hljs-number">3</span></span> faceBox.layer.borderColor = <span class="hljs-built_in"><span class="hljs-built_in">UIColor</span></span>.redColor().CGColor faceBox.backgroundColor = <span class="hljs-built_in"><span class="hljs-built_in">UIColor</span></span>.clearColor() personPic.addSubview(faceBox) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> face.hasLeftEyePosition { print(<span class="hljs-string"><span class="hljs-string">"Left eye bounds are \(face.leftEyePosition)"</span></span>) } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> face.hasRightEyePosition { print(<span class="hljs-string"><span class="hljs-string">"Right eye bounds are \(face.rightEyePosition)"</span></span>) } } }</code> </pre><br>  So what happens here: <br><br><ul><li>  Create the personciImage variable, retrieve the UIImage from the UIImageView, and convert it to a CIImage.  CIImage is required to work with Core Image; <br><br></li><li>  Create an accuracy variable and set CIDetectorAccuracyHigh.  You can choose from CIDetectorAccuracyHigh (provides high computational accuracy) and CIDetectorAccuracyLow (uses low computational accuracy).  We choose CIDetectorAccuracyHigh because we need high accuracy; <br><br></li><li>  We define the faceDetector variable and set it to the CIDetector class and pass the precision variable that we created earlier; <br><br></li><li>  Next, we get an array of faces, by calling the featuresInImage method, the detector finds faces in this image; <br><br></li><li>  Perform a cycle over an array of faces and transform each recognized face into CIFaceFeature; <br><br></li><li>  Create a UIView called faceBox and set its frame to the frame size returned from faces.first.  This is necessary in order to draw a rectangle to highlight the recognized face; <br><br></li><li>  Set the border width in faceBox to 3; <br><br></li><li>  Set the border color to red; <br><br></li><li>  The background color is set to transparent, the view will not have a visible background; <br><br></li><li>  Finally, we add our faceBox to the personPic; <br><br></li><li>  Not only can the API detect your face, the detector can also detect the left and right eyes.  We will not highlight the eyes in the image.  Here I just want to show you the relevant properties of CIFaceFeature. <br></li></ul><br>  Call the detect () method in viewDidLoad.  So paste the following line of code into the method: <br><br><pre> <code class="objectivec hljs">detect()</code> </pre> <br>  Run the application.  You will see something like this: <br><br><img src="https://habrastorage.org/files/f53/d80/9b2/f53d809b2e654298a5736b868c7c412a.png"><br><br>  In the xCode console, we see the coordinates of the detected face: <br><br><pre> <code class="objectivec hljs">Found bounds are (<span class="hljs-number"><span class="hljs-number">177.0</span></span>, <span class="hljs-number"><span class="hljs-number">415.0</span></span>, <span class="hljs-number"><span class="hljs-number">380.0</span></span>, <span class="hljs-number"><span class="hljs-number">380.0</span></span>)</code> </pre> <br>  There are several nuances that we did not consider in the current example: <br><br><ul><li>  Face detection is applied to the original image, which has a higher resolution than the imageView.  We set the personPic mode to aspect fit (scaling the image while preserving the original aspect ratio).  To draw a rectangle correctly, we must calculate the actual position and size of the face in the image view; <br><br></li><li>  In addition, Core Image and UIView (or UIKit) use two different coordinate systems (see figure below).  We must ensure the implementation of the transformation of the Core Image coordinates to the UIView coordinates. </li></ul><br><img src="https://habrastorage.org/files/cc0/f67/202/cc0f6720221c490aa7e499adc727343e.jpg"><br><br>  Now replace the detect () method with the following code: <br><br><pre> <code class="objectivec hljs">func detect() { guard let personciImage = <span class="hljs-built_in"><span class="hljs-built_in">CIImage</span></span>(image: personPic.image!) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> } let accuracy = [<span class="hljs-built_in"><span class="hljs-built_in">CIDetectorAccuracy</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">CIDetectorAccuracyHigh</span></span>] let faceDetector = <span class="hljs-built_in"><span class="hljs-built_in">CIDetector</span></span>(ofType: <span class="hljs-built_in"><span class="hljs-built_in">CIDetectorTypeFace</span></span>, context: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, options: accuracy) let faces = faceDetector.featuresInImage(personciImage) <span class="hljs-comment"><span class="hljs-comment">//    let ciImageSize = personciImage.extent.size var transform = CGAffineTransformMakeScale(1, -1) transform = CGAffineTransformTranslate(transform, 0, -ciImageSize.height) for face in faces as! [CIFaceFeature] { print("Found bounds are \(face.bounds)") //     faceBox var faceViewBounds = CGRectApplyAffineTransform(face.bounds, transform) let viewSize = personPic.bounds.size let scale = min(viewSize.width / ciImageSize.width, viewSize.height / ciImageSize.height) let offsetX = (viewSize.width - ciImageSize.width * scale) / 2 let offsetY = (viewSize.height - ciImageSize.height * scale) / 2 faceViewBounds = CGRectApplyAffineTransform(faceViewBounds, CGAffineTransformMakeScale(scale, scale)) faceViewBounds.origin.x += offsetX faceViewBounds.origin.y += offsetY let faceBox = UIView(frame: faceViewBounds) faceBox.layer.borderWidth = 3 faceBox.layer.borderColor = UIColor.redColor().CGColor faceBox.backgroundColor = UIColor.clearColor() personPic.addSubview(faceBox) if face.hasLeftEyePosition { print("Left eye bounds are \(face.leftEyePosition)") } if face.hasRightEyePosition { print("Right eye bounds are \(face.rightEyePosition)") } } }</span></span></code> </pre> <br>  The code changes above are highlighted by comments. <br><br><ul><li>  First, we use an affine transformation to convert Core Image coordinates to UIKit coordinates; <br><br></li><li>  Second, we added code to calculate the actual position and size of our detected face frame. <br><br>  Run the application again.  You should see a frame around your face.  Congratulations, we successfully found a face using Core Image. </li></ul><br><img src="https://habrastorage.org/files/6d9/65c/406/6d965c406774477d9581b65946739fb1.jpg"><br><br><h3>  Creating a Camera with Face Recognition feature </h3><br>  Let's imagine that we have a camera application that takes photos.  As soon as a photo is taken, we want to launch face recognition to determine whether there is a face in the photo or not.  If the face is present, we can classify this photo with some tags or something like that.  To do this, we need integration with the UIImagePicker class and run our face recognition code after the snapshot is taken. <br>  In the start project, I have already created the CameraViewController class.  Update the code to implement the camera functions: <br><br><pre> <code class="objectivec hljs"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> CameraViewController: <span class="hljs-built_in"><span class="hljs-built_in">UIViewController</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">UIImagePickerControllerDelegate</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">UINavigationControllerDelegate</span></span> { @IBOutlet var imageView: <span class="hljs-built_in"><span class="hljs-built_in">UIImageView</span></span>! let imagePicker = <span class="hljs-built_in"><span class="hljs-built_in">UIImagePickerController</span></span>() override func viewDidLoad() { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.viewDidLoad() imagePicker.delegate = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span> } @IBAction func takePhoto(sender: AnyObject) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> !<span class="hljs-built_in"><span class="hljs-built_in">UIImagePickerController</span></span>.isSourceTypeAvailable(.Camera) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> } imagePicker.allowsEditing = <span class="hljs-literal"><span class="hljs-literal">false</span></span> imagePicker.sourceType = .Camera presentViewController(imagePicker, animated: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, completion: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>) } func imagePickerController(picker: <span class="hljs-built_in"><span class="hljs-built_in">UIImagePickerController</span></span>, didFinishPickingMediaWithInfo info: [String : AnyObject]) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> let pickedImage = info[<span class="hljs-built_in"><span class="hljs-built_in">UIImagePickerControllerOriginalImage</span></span>] as? <span class="hljs-built_in"><span class="hljs-built_in">UIImage</span></span> { imageView.contentMode = .ScaleAspectFit imageView.image = pickedImage } dismissViewControllerAnimated(<span class="hljs-literal"><span class="hljs-literal">true</span></span>, completion: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.detect() } func imagePickerControllerDidCancel(picker: <span class="hljs-built_in"><span class="hljs-built_in">UIImagePickerController</span></span>) { dismissViewControllerAnimated(<span class="hljs-literal"><span class="hljs-literal">true</span></span>, completion: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>) } }</code> </pre> <br>  The first few lines of this function set the UIImagePicker delegate.  In the didFinishPickingMediaWithInfo method (this is the UIImagePicker delegate method), we set the imageView for the image obtained in the method.  Then we call dismiss for the piker and call the detect function. <br><br>  We have not yet implemented the detect function.  Paste the following code and take a closer look at it: <br><br><pre> <code class="objectivec hljs">func detect() { let imageOptions = <span class="hljs-built_in"><span class="hljs-built_in">NSDictionary</span></span>(object: <span class="hljs-built_in"><span class="hljs-built_in">NSNumber</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>: <span class="hljs-number"><span class="hljs-number">5</span></span>) as <span class="hljs-built_in"><span class="hljs-built_in">NSNumber</span></span>, forKey: <span class="hljs-built_in"><span class="hljs-built_in">CIDetectorImageOrientation</span></span> as <span class="hljs-built_in"><span class="hljs-built_in">NSString</span></span>) let personciImage = <span class="hljs-built_in"><span class="hljs-built_in">CIImage</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">CGImage</span></span>: imageView.image!.CGImage!) let accuracy = [<span class="hljs-built_in"><span class="hljs-built_in">CIDetectorAccuracy</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">CIDetectorAccuracyHigh</span></span>] let faceDetector = <span class="hljs-built_in"><span class="hljs-built_in">CIDetector</span></span>(ofType: <span class="hljs-built_in"><span class="hljs-built_in">CIDetectorTypeFace</span></span>, context: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, options: accuracy) let faces = faceDetector.featuresInImage(personciImage, options: imageOptions as? [String : AnyObject]) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> let face = faces.first as? <span class="hljs-built_in"><span class="hljs-built_in">CIFaceFeature</span></span> { print(<span class="hljs-string"><span class="hljs-string">"found bounds are \(face.bounds)"</span></span>) let alert = <span class="hljs-built_in"><span class="hljs-built_in">UIAlertController</span></span>(title: <span class="hljs-string"><span class="hljs-string">"Say Cheese!"</span></span>, message: <span class="hljs-string"><span class="hljs-string">"We detected a face!"</span></span>, preferredStyle: <span class="hljs-built_in"><span class="hljs-built_in">UIAlertControllerStyle</span></span>.Alert) alert.addAction(<span class="hljs-built_in"><span class="hljs-built_in">UIAlertAction</span></span>(title: <span class="hljs-string"><span class="hljs-string">"OK"</span></span>, style: <span class="hljs-built_in"><span class="hljs-built_in">UIAlertActionStyle</span></span>.Default, handler: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.presentViewController(alert, animated: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, completion: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> face.hasSmile { print(<span class="hljs-string"><span class="hljs-string">"face is smiling"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> face.hasLeftEyePosition { print(<span class="hljs-string"><span class="hljs-string">"Left eye bounds are \(face.leftEyePosition)"</span></span>) } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> face.hasRightEyePosition { print(<span class="hljs-string"><span class="hljs-string">"Right eye bounds are \(face.rightEyePosition)"</span></span>) } } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { let alert = <span class="hljs-built_in"><span class="hljs-built_in">UIAlertController</span></span>(title: <span class="hljs-string"><span class="hljs-string">"No Face!"</span></span>, message: <span class="hljs-string"><span class="hljs-string">"No face was detected"</span></span>, preferredStyle: <span class="hljs-built_in"><span class="hljs-built_in">UIAlertControllerStyle</span></span>.Alert) alert.addAction(<span class="hljs-built_in"><span class="hljs-built_in">UIAlertAction</span></span>(title: <span class="hljs-string"><span class="hljs-string">"OK"</span></span>, style: <span class="hljs-built_in"><span class="hljs-built_in">UIAlertActionStyle</span></span>.Default, handler: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.presentViewController(alert, animated: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, completion: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>) } }</code> </pre> <br>  Our detect () function is very similar to its previous implementation.  But this time, we use it on the captured image.  When a face is detected, we display the warning message ‚ÄúWe detected a face!‚Äù Otherwise, we display the message ‚ÄúNo Face!‚Äù.  Run the application and test the work. <br><br><img src="https://habrastorage.org/files/2fe/b6e/430/2feb6e4301dc415f853a92d7a097a2f0.png"><br><br>  CIFaceFeature has several properties and methods that I have already mentioned.  For example, if you want to perform a detection, if a person smiles, you can call .hasSmile, which returns a boolean.  For the experiment, you can call .hasLeftEyePosition to check if the left eye is present (hopefully so) or .hasRightEyePosition for the right eye, respectively. <br><br>  We can also call hasMouthPosition to check if the mouth is present.  If a mouth is present, we can access the coordinates with the mouthPosition property, as shown below: <br><br><pre> <code class="objectivec hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (face.hasMouthPosition) { print(<span class="hljs-string"><span class="hljs-string">"mouth detected"</span></span>) }</code> </pre> <br>  As you can see, detecting facial features is very easy using Core Image.  In addition to detecting the mouth, smile, or eye position, we can also check if the eye is open or closed by calling leftEyeClosed for the left eye and rightEyeClosed for the right eye, respectively. <br><br><h3>  In conclusion </h3><br>  In this article, we explored face detection functions using the Core Image API main image API and how to use them in an application with a camera.  We installed the main UIImagePicker to capture a photo and detect the face that is present in the image. <br><br>  As you can see, face detection using Core Image core image is a powerful API along with many applications!  I hope this article will find this tutorial a useful and informative guide for this little-known API for iOS! <br><br>  ¬ªYou can download the final final draft <a href="">here</a> . </div><p>Source: <a href="https://habr.com/ru/post/309802/">https://habr.com/ru/post/309802/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../309786/index.html">VMware vs. Hyper-V - Virtualization Battle</a></li>
<li><a href="../309792/index.html">How we looked for a compromise between accuracy and completeness in a specific task ML</a></li>
<li><a href="../309794/index.html">Conference ISDEF: the course of military grab and not only</a></li>
<li><a href="../309796/index.html">Code optimization: processor</a></li>
<li><a href="../309800/index.html">Development of a mobile 2D-game "Make a word from a word"</a></li>
<li><a href="../309808/index.html">From blacklist to machine learning. Antiphishing in Yandex Browser</a></li>
<li><a href="../309810/index.html">Case OZON.ru: How to make shipping billing transparent and manageable</a></li>
<li><a href="../309812/index.html">Fatal binary arithmetic errors when working with floating point numbers</a></li>
<li><a href="../309814/index.html">GSOC totals</a></li>
<li><a href="../309822/index.html">Demand analysis: by what criteria do virtual servers select</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>