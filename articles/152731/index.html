<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Writing image map editor (html image map) on javascript / html5 / inline SVG</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Image maps are used when you want to create a link to a form other than a rectangular one. For example, for presentation sites, display plans / scheme...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Writing image map editor (html image map) on javascript / html5 / inline SVG</h1><div class="post__text post__text-html js-mediator-article">  Image maps are used when you want to create a link to a form other than a rectangular one.  For example, for presentation sites, display plans / schemes, etc. <br><br>  Previously, it was convenient to create such maps in Adobe ImageReady, but since the CS3 version, this program no longer comes with Photoshop.  Today, there is similar functionality in Adobe Fireworks, but installing this program only because of the map editor (I only need Photoshop for work) is not a good idea.  There are also online editors that are mostly written using canvas.  They do not have the ability to edit the created areas on the map.  If you make a mistake, you will have to redo everything.  Yes, and create these areas is not very convenient.  Another disadvantage is that the image must be uploaded to the server.  In general, it is necessary to write something of their own. <br><br>  So, the task: <br>  - write on javascript an editor that allows you to create image maps - upload a picture, draw areas, we get html-code.  If you make a mistake, it should be possible to edit the map.  The editor should work in offline mode.  Provide support for modern browsers only, including Internet Explorer 9. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/storage2/02f/de9/f7a/02fde9f7ae0209faa5331b844ef5898d.png" alt="Summer html image map creator"><br><a name="habracut"></a><br><h4>  SVG is great here </h4><br>  Instead of canvas, svg is perfect for visually displaying the drawn map areas.  Changing the size and coordinates of the created or edited area can be tracked by changing the attributes of the corresponding svg-elements.  To use the features of the <a href="http://dev.w3.org/SVG/proposals/svg-html/svg-html-proposal.html">DOM</a> , you need to embed the svg element on the page (not through img, <s>object,</s> see UPD, embed). <br><br>  UPD For svg embedded on the page via object, you can also work with the DOM, but this is a bit less convenient. <br><pre><code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">object</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"image/svg+xml"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"pucture.svg"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"picture"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">object</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> svgobject = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">'picture'</span></span>), svgdom = svgobject.contentDocument;</code> </pre><br>  An example is in the article <a href="http://habrahabr.ru/post/127994/">http://habrahabr.ru/post/127994/</a> . <br>  (thanks <a href="https://habrahabr.ru/users/torbasow/" class="user_link">torbasow</a> ) <br><br>  Fortunately, html5 has the ability to embed inline svg ( <a href="http://caniuse.com/svg-html5">supported in modern browsers</a> , including IE 9+).  For xhtml, it is also possible to embed svg, you just have to remember about the <code>Content-Type: application/xhtml+xml</code> header, which is not very convenient. <br><br><h4>  Types of areas </h4><br>  For image maps, there are <a href="http://dev.w3.org/html5/spec/single-page.html">3 possible types of areas</a> - rectangle, circle, and polygon.  Analogs of these forms in svg are the elements <a href="http://www.w3.org/TR/SVG11/shapes.html">rect, circle, polygon</a> (at the polyline drawing stage): <br><br><h5>  Rectangle </h5><br><img src="https://habrastorage.org/storage2/79c/0c1/4ff/79c0c14ff2690d652315bb4fad33941a.png" alt="rectangle"><br><br><h6>  html </h6><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">area</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">shape</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"rect"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">coords</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"50, 20, 150, 70"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br><h6>  svg </h6><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">rect</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">x</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"50"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">y</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"20"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"100"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"50"</span></span></span><span class="hljs-tag">/&gt;</span></span></code> </pre> <br><br><h5>  A circle </h5><br><img src="https://habrastorage.org/storage2/d78/73e/0cf/d7873e0cf3bb026bcc55702183eb4701.png" alt="circle"><br><br><h6>  html </h6><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">area</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">shape</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"circle"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">coords</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"100, 50, 35"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br><h6>  svg </h6><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">circle</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">cx</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"100"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">cy</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"50"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">r</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"35"</span></span></span><span class="hljs-tag">/&gt;</span></span></code> </pre> <br><br><h5>  Polygon </h5><br><img src="https://habrastorage.org/storage2/90d/77a/722/90d77a7227be2bf5325a3494da7ed15a.png" alt="polygon"><br><br><h6>  html </h6><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">area</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">shape</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"poly"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">coords</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"100, 20, 150, 70, 50, 70"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br><h6>  svg </h6><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">polyline</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">points</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"100 20 150 70 50 70"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">polygon</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">points</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"100 20 150 70 50 70"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br><br>  For each region, auxiliary points are also needed - helper points (small rectangles 5x5) - to indicate the key nodes of the region and the point-by-point capability to edit this region. <br><br>  For a rectangle, it will be 9 points - 4 at the vertices, 4 in the middle of each side and one in the center.  For a circle - 5 (one in the center and 4 on the circle).  For a polygon, by the number of vertices. <br><br>  To make it easier to delete the region together with the helpers, we will combine them into groups - in the <a href="http://www.w3.org/TR/SVG11/struct.html">svg-element</a> <code><a href="http://www.w3.org/TR/SVG11/styling.html"></a> <code class="css">. <br> <br></code>   SVG- <br>  SVG- rect, circle, polygon    CSS. <br>    stroke    (  ,       ),     fill    ,      (  /   /    /   href /  href).     ,     RGBA,    - .         . <br> <br> #svg rect { stroke-width: 3px; stroke: #F00; fill: rgba(255,255,255,0.3); } #svg rect.with_href { fill: rgba(0,0,0,0.3); } .edit#svg rect:hover { fill: rgba(50,200,50,0.3); } #svg rect.active { fill: rgba(0,0,0,0.5); } #svg circle { stroke-width: 3px; stroke: #0F0; fill: rgba(255,255,255,0.3); } #svg circle.with_href { fill: rgba(0,0,0,0.3); } .edit#svg circle:hover { fill: rgba(50,200,50,0.3); } #svg polyline, #svg polygon { stroke-width: 3px; stroke: #00F; fill: rgba(255,255,255,0.3); } #svg polygon.with_href { fill: rgba(0,0,0,0.3); } .edit#svg polygon:hover { fill: rgba(50,200,50,0.3); } #svg .selected { fill: rgba(50,200,50,0.5) !important; } #svg rect.helper { fill: #FFF; stroke: #000; stroke-width: 2px; } #svg rect.helper:hover { fill: #F00; }</code> <pre> <code class="hljs smalltalk"><code class="css"><a href="http://www.w3.org/TR/SVG11/styling.html"></a> . <br> <br>   <span class="hljs-type"><span class="hljs-type">SVG</span></span>- <br>  <span class="hljs-type"><span class="hljs-type">SVG</span></span>- rect, circle, polygon    <span class="hljs-type"><span class="hljs-type">CSS</span></span>. <br>    stroke    (  ,       ),     fill    ,      (  /   /    /   href /  href).     ,     <span class="hljs-type"><span class="hljs-type">RGBA</span></span>,    - .         . <br> <br> <span class="hljs-symbol"><span class="hljs-symbol">#svg</span></span> rect { stroke-width: <span class="hljs-number"><span class="hljs-number">3</span></span>px; stroke: <span class="hljs-symbol"><span class="hljs-symbol">#F00</span></span>; fill: rgba(<span class="hljs-number"><span class="hljs-number">255</span></span>,<span class="hljs-number"><span class="hljs-number">255</span></span>,<span class="hljs-number"><span class="hljs-number">255</span></span>,<span class="hljs-number"><span class="hljs-number">0.3</span></span>); } <span class="hljs-symbol"><span class="hljs-symbol">#svg</span></span> rect.with_href { fill: rgba(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0.3</span></span>); } .edit<span class="hljs-symbol"><span class="hljs-symbol">#svg</span></span> rect:hover { fill: rgba(<span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">200</span></span>,<span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">0.3</span></span>); } <span class="hljs-symbol"><span class="hljs-symbol">#svg</span></span> rect.active { fill: rgba(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0.5</span></span>); } <span class="hljs-symbol"><span class="hljs-symbol">#svg</span></span> circle { stroke-width: <span class="hljs-number"><span class="hljs-number">3</span></span>px; stroke: #<span class="hljs-number"><span class="hljs-number">0</span></span>F0; fill: rgba(<span class="hljs-number"><span class="hljs-number">255</span></span>,<span class="hljs-number"><span class="hljs-number">255</span></span>,<span class="hljs-number"><span class="hljs-number">255</span></span>,<span class="hljs-number"><span class="hljs-number">0.3</span></span>); } <span class="hljs-symbol"><span class="hljs-symbol">#svg</span></span> circle.with_href { fill: rgba(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0.3</span></span>); } .edit<span class="hljs-symbol"><span class="hljs-symbol">#svg</span></span> circle:hover { fill: rgba(<span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">200</span></span>,<span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">0.3</span></span>); } <span class="hljs-symbol"><span class="hljs-symbol">#svg</span></span> polyline, <span class="hljs-symbol"><span class="hljs-symbol">#svg</span></span> polygon { stroke-width: <span class="hljs-number"><span class="hljs-number">3</span></span>px; stroke: #<span class="hljs-number"><span class="hljs-number">00</span></span>F; fill: rgba(<span class="hljs-number"><span class="hljs-number">255</span></span>,<span class="hljs-number"><span class="hljs-number">255</span></span>,<span class="hljs-number"><span class="hljs-number">255</span></span>,<span class="hljs-number"><span class="hljs-number">0.3</span></span>); } <span class="hljs-symbol"><span class="hljs-symbol">#svg</span></span> polygon.with_href { fill: rgba(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0.3</span></span>); } .edit<span class="hljs-symbol"><span class="hljs-symbol">#svg</span></span> polygon:hover { fill: rgba(<span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">200</span></span>,<span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">0.3</span></span>); } <span class="hljs-symbol"><span class="hljs-symbol">#svg</span></span> .selected { fill: rgba(<span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">200</span></span>,<span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">0.5</span></span>) !important; } <span class="hljs-symbol"><span class="hljs-symbol">#svg</span></span> rect.helper { fill: <span class="hljs-symbol"><span class="hljs-symbol">#FFF</span></span>; stroke: #<span class="hljs-number"><span class="hljs-number">000</span></span>; stroke-width: <span class="hljs-number"><span class="hljs-number">2</span></span>px; } <span class="hljs-symbol"><span class="hljs-symbol">#svg</span></span> rect.helper:hover { fill: <span class="hljs-symbol"><span class="hljs-symbol">#F00</span></span>; }</code></code> <h4> <code class="hljs smalltalk"><a href="http://www.w3.org/TR/SVG11/styling.html"></a> <code class="css">. <br> <br></code>   <span class="hljs-type"><span class="hljs-type">SVG</span></span>- <br>  <span class="hljs-type"><span class="hljs-type">SVG</span></span>- rect, circle, polygon    <span class="hljs-type"><span class="hljs-type">CSS</span></span>. <br>    stroke    (  ,       ),     fill    ,      (  /   /    /   href /  href).     ,     <span class="hljs-type"><span class="hljs-type">RGBA</span></span>,    - .         . <br> <br> <span class="hljs-symbol"><span class="hljs-symbol">#svg</span></span> rect { stroke-width: <span class="hljs-number"><span class="hljs-number">3</span></span>px; stroke: <span class="hljs-symbol"><span class="hljs-symbol">#F00</span></span>; fill: rgba(<span class="hljs-number"><span class="hljs-number">255</span></span>,<span class="hljs-number"><span class="hljs-number">255</span></span>,<span class="hljs-number"><span class="hljs-number">255</span></span>,<span class="hljs-number"><span class="hljs-number">0.3</span></span>); } <span class="hljs-symbol"><span class="hljs-symbol">#svg</span></span> rect.with_href { fill: rgba(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0.3</span></span>); } .edit<span class="hljs-symbol"><span class="hljs-symbol">#svg</span></span> rect:hover { fill: rgba(<span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">200</span></span>,<span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">0.3</span></span>); } <span class="hljs-symbol"><span class="hljs-symbol">#svg</span></span> rect.active { fill: rgba(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0.5</span></span>); } <span class="hljs-symbol"><span class="hljs-symbol">#svg</span></span> circle { stroke-width: <span class="hljs-number"><span class="hljs-number">3</span></span>px; stroke: #<span class="hljs-number"><span class="hljs-number">0</span></span>F0; fill: rgba(<span class="hljs-number"><span class="hljs-number">255</span></span>,<span class="hljs-number"><span class="hljs-number">255</span></span>,<span class="hljs-number"><span class="hljs-number">255</span></span>,<span class="hljs-number"><span class="hljs-number">0.3</span></span>); } <span class="hljs-symbol"><span class="hljs-symbol">#svg</span></span> circle.with_href { fill: rgba(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0.3</span></span>); } .edit<span class="hljs-symbol"><span class="hljs-symbol">#svg</span></span> circle:hover { fill: rgba(<span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">200</span></span>,<span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">0.3</span></span>); } <span class="hljs-symbol"><span class="hljs-symbol">#svg</span></span> polyline, <span class="hljs-symbol"><span class="hljs-symbol">#svg</span></span> polygon { stroke-width: <span class="hljs-number"><span class="hljs-number">3</span></span>px; stroke: #<span class="hljs-number"><span class="hljs-number">00</span></span>F; fill: rgba(<span class="hljs-number"><span class="hljs-number">255</span></span>,<span class="hljs-number"><span class="hljs-number">255</span></span>,<span class="hljs-number"><span class="hljs-number">255</span></span>,<span class="hljs-number"><span class="hljs-number">0.3</span></span>); } <span class="hljs-symbol"><span class="hljs-symbol">#svg</span></span> polygon.with_href { fill: rgba(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0.3</span></span>); } .edit<span class="hljs-symbol"><span class="hljs-symbol">#svg</span></span> polygon:hover { fill: rgba(<span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">200</span></span>,<span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">0.3</span></span>); } <span class="hljs-symbol"><span class="hljs-symbol">#svg</span></span> .selected { fill: rgba(<span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">200</span></span>,<span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">0.5</span></span>) !important; } <span class="hljs-symbol"><span class="hljs-symbol">#svg</span></span> rect.helper { fill: <span class="hljs-symbol"><span class="hljs-symbol">#FFF</span></span>; stroke: #<span class="hljs-number"><span class="hljs-number">000</span></span>; stroke-width: <span class="hljs-number"><span class="hljs-number">2</span></span>px; } <span class="hljs-symbol"><span class="hljs-symbol">#svg</span></span> rect.helper:hover { fill: <span class="hljs-symbol"><span class="hljs-symbol">#F00</span></span>; }</code> </h4> <code class="hljs smalltalk"><a href="http://www.w3.org/TR/SVG11/styling.html"></a> <code class="css">. <br> <br></code>   <span class="hljs-type"><span class="hljs-type">SVG</span></span>- <br>  <span class="hljs-type"><span class="hljs-type">SVG</span></span>- rect, circle, polygon    <span class="hljs-type"><span class="hljs-type">CSS</span></span>. <br>    stroke    (  ,       ),     fill    ,      (  /   /    /   href /  href).     ,     <span class="hljs-type"><span class="hljs-type">RGBA</span></span>,    - .         . <br> <br> <span class="hljs-symbol"><span class="hljs-symbol">#svg</span></span> rect { stroke-width: <span class="hljs-number"><span class="hljs-number">3</span></span>px; stroke: <span class="hljs-symbol"><span class="hljs-symbol">#F00</span></span>; fill: rgba(<span class="hljs-number"><span class="hljs-number">255</span></span>,<span class="hljs-number"><span class="hljs-number">255</span></span>,<span class="hljs-number"><span class="hljs-number">255</span></span>,<span class="hljs-number"><span class="hljs-number">0.3</span></span>); } <span class="hljs-symbol"><span class="hljs-symbol">#svg</span></span> rect.with_href { fill: rgba(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0.3</span></span>); } .edit<span class="hljs-symbol"><span class="hljs-symbol">#svg</span></span> rect:hover { fill: rgba(<span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">200</span></span>,<span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">0.3</span></span>); } <span class="hljs-symbol"><span class="hljs-symbol">#svg</span></span> rect.active { fill: rgba(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0.5</span></span>); } <span class="hljs-symbol"><span class="hljs-symbol">#svg</span></span> circle { stroke-width: <span class="hljs-number"><span class="hljs-number">3</span></span>px; stroke: #<span class="hljs-number"><span class="hljs-number">0</span></span>F0; fill: rgba(<span class="hljs-number"><span class="hljs-number">255</span></span>,<span class="hljs-number"><span class="hljs-number">255</span></span>,<span class="hljs-number"><span class="hljs-number">255</span></span>,<span class="hljs-number"><span class="hljs-number">0.3</span></span>); } <span class="hljs-symbol"><span class="hljs-symbol">#svg</span></span> circle.with_href { fill: rgba(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0.3</span></span>); } .edit<span class="hljs-symbol"><span class="hljs-symbol">#svg</span></span> circle:hover { fill: rgba(<span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">200</span></span>,<span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">0.3</span></span>); } <span class="hljs-symbol"><span class="hljs-symbol">#svg</span></span> polyline, <span class="hljs-symbol"><span class="hljs-symbol">#svg</span></span> polygon { stroke-width: <span class="hljs-number"><span class="hljs-number">3</span></span>px; stroke: #<span class="hljs-number"><span class="hljs-number">00</span></span>F; fill: rgba(<span class="hljs-number"><span class="hljs-number">255</span></span>,<span class="hljs-number"><span class="hljs-number">255</span></span>,<span class="hljs-number"><span class="hljs-number">255</span></span>,<span class="hljs-number"><span class="hljs-number">0.3</span></span>); } <span class="hljs-symbol"><span class="hljs-symbol">#svg</span></span> polygon.with_href { fill: rgba(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0.3</span></span>); } .edit<span class="hljs-symbol"><span class="hljs-symbol">#svg</span></span> polygon:hover { fill: rgba(<span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">200</span></span>,<span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">0.3</span></span>); } <span class="hljs-symbol"><span class="hljs-symbol">#svg</span></span> .selected { fill: rgba(<span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">200</span></span>,<span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">0.5</span></span>) !important; } <span class="hljs-symbol"><span class="hljs-symbol">#svg</span></span> rect.helper { fill: <span class="hljs-symbol"><span class="hljs-symbol">#FFF</span></span>; stroke: #<span class="hljs-number"><span class="hljs-number">000</span></span>; stroke-width: <span class="hljs-number"><span class="hljs-number">2</span></span>px; } <span class="hljs-symbol"><span class="hljs-symbol">#svg</span></span> rect.helper:hover { fill: <span class="hljs-symbol"><span class="hljs-symbol">#F00</span></span>; }</code> </pre><br>  For the helpers, we also specify the cursor property depending on the class (in editing mode this will be a hint as to what type of editing will be used when clicking on this helper). <br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.edit</span></span><span class="hljs-selector-id"><span class="hljs-selector-id">#svg</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">rect</span></span>, <span class="hljs-selector-class"><span class="hljs-selector-class">.edit</span></span><span class="hljs-selector-id"><span class="hljs-selector-id">#svg</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">circle</span></span>, <span class="hljs-selector-class"><span class="hljs-selector-class">.edit</span></span><span class="hljs-selector-id"><span class="hljs-selector-id">#svg</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">polygon</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">cursor</span></span>: move; } <span class="hljs-selector-class"><span class="hljs-selector-class">.edit</span></span><span class="hljs-selector-id"><span class="hljs-selector-id">#svg</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.pointer</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">cursor</span></span>: pointer; } <span class="hljs-selector-class"><span class="hljs-selector-class">.edit</span></span><span class="hljs-selector-id"><span class="hljs-selector-id">#svg</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.e-resize</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">cursor</span></span>: e-resize; } <span class="hljs-selector-class"><span class="hljs-selector-class">.edit</span></span><span class="hljs-selector-id"><span class="hljs-selector-id">#svg</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.ne-resize</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">cursor</span></span>: ne-resize; } <span class="hljs-selector-class"><span class="hljs-selector-class">.edit</span></span><span class="hljs-selector-id"><span class="hljs-selector-id">#svg</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.nw-resize</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">cursor</span></span>: nw-resize; } <span class="hljs-selector-class"><span class="hljs-selector-class">.edit</span></span><span class="hljs-selector-id"><span class="hljs-selector-id">#svg</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.n-resize</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">cursor</span></span>: n-resize; } <span class="hljs-selector-class"><span class="hljs-selector-class">.edit</span></span><span class="hljs-selector-id"><span class="hljs-selector-id">#svg</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.se-resize</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">cursor</span></span>: se-resize; } <span class="hljs-selector-class"><span class="hljs-selector-class">.edit</span></span><span class="hljs-selector-id"><span class="hljs-selector-id">#svg</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.sw-resize</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">cursor</span></span>: sw-resize; } <span class="hljs-selector-class"><span class="hljs-selector-class">.edit</span></span><span class="hljs-selector-id"><span class="hljs-selector-id">#svg</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.s-resize</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">cursor</span></span>: s-resize; } <span class="hljs-selector-class"><span class="hljs-selector-class">.edit</span></span><span class="hljs-selector-id"><span class="hljs-selector-id">#svg</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.w-resize</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">cursor</span></span>: w-resize; }</code> </pre><br>  Styles for SVG elements will be placed together with the styles for the page - in main.css. <br><br><h4>  Interface </h4><br>  First you need to "download" into the editor the image for which you want to create a map.  The easiest way is to specify the path to this image.  This method is convenient if the picture is on any website, then you just need to copy its path.  But if the picture is stored on your computer, then it is not very convenient.  It would be good to choose a picture, for example, with the help of <code>/&gt;</code> , that is, by means of the explorer.  But in this case, in a number of browsers, you can access only the name of the selected file, but not the full path (due to security policy).  And here HTML5 <a href="https://developer.mozilla.org/en-US/docs/DragDrop/Drag_and_Drop">Drag and drop</a> and File api come to the rescue (not supported in IE9, for which only the first method will remain).  Drag the picture, using FileReader, read its contents and get its <a href="https://developer.mozilla.org/en-US/docs/DOM/FileReader">base64 option</a> .  Everything, now the necessary picture is displayed in the editor.  Now you can draw a map. <br><br>  The editor has 3 main modes: <br><ul><li>  drawing mode ( <b>rectangle</b> , <b>circle</b> , <b>polygon</b> buttons) - first click on the field - the drawing of the corresponding object begins.  The second click - the drawing area for the rectangle and the circle is completed.  In the case of a polygon, the figure closes when you click on the first helper or by pressing ENTER; </li><li>  edit mode ( <b>edit</b> button) - allows you to move, delete selected areas (by pressing DELETE), edit their parameters using helper points and add href, title, alt attributes (by double clicking on the area); </li><li>  view mode ( <b>preview</b> button) - hides the svg and displays the generated image map.  Clicking on a region leads to the corresponding link (if href was added to the region). </li></ul><br>  The remaining buttons: <br><ul><li>  <b>clear</b> - clear the field (delete all areas drawn); </li><li>  <b>to html</b> - generate and display the html-code of the map; </li><li>  <b>new image</b> - clear the field and return to the image selection for the map. </li></ul><br><br>  I borrowed a lot of ideas from the vector editor <a href="http://inkscape.org/">Inkscape</a> , in which I often draw.  By the way, Inkscape uses the SVG format to save images, and Adobe Illustrator also knows how to save a drawing in SVG. <br><br><h4>  What happened in the end </h4><br>  <a href="http://summerstyle.github.com/summer/">Image Map Editor (Summer html image map creator)</a> <br>  <a href="http://github.com/summerstyle/summer">Github</a> <br><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/ViIYMG1L_I0%3Ffeature%3Doembed&amp;xid=17259,15700023,15700186,15700190,15700253,15700255,15700259&amp;usg=ALkJrhjz9pQvZdA9sWsTnEHIhaoLrHxtYQ" frameborder="0" allowfullscreen=""></iframe><br><br><h5>  Hotkeys: </h5><br>  <b>F1</b> - display help <br><br><h6>  Image loading: </h6><br>  <b>F5</b> - reload the page and re-display the form to load the image <br><br><h6>  Drawing mode (rectangle, circle, polygon) </h6><br>  <b>ENTER</b> - to finish drawing a polygon (or click on the first helper) <br>  <b>ESC</b> - cancel creating a new area <br>  <b>SHIFT</b> - draw a square in the case of a rectangle or a line at a right angle in the case of a polygon <br><br><h6>  Edit mode </h6><br>  <b>DELETE</b> - delete the selected area. <br>  <b>ESC</b> - cancel editing the selected area. <br>  <b>SHIFT</b> - when editing, keep the proportions of the rectangle <br>  <b>i</b> - edit attributes (href, title, alt) of the selected area (or double click on the area) <br>  - move selected area up <br>  <b>‚Üì</b> - move the selected area down <br>  <b>‚Üê</b> - move the selected area to the left <br>  <b>‚Üí</b> - move the selected area to the right </div><p>Source: <a href="https://habr.com/ru/post/152731/">https://habr.com/ru/post/152731/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../152719/index.html">Lightning-fast JSON in Ruby on Rails</a></li>
<li><a href="../152721/index.html">In Lviv, they are asked to provide Java with the status of a regional language *</a></li>
<li><a href="../152723/index.html">Why iron is not the main thing</a></li>
<li><a href="../152725/index.html">Paul Graham. Why "hairdresser" can not be a startup. Part 1</a></li>
<li><a href="../152729/index.html">ICS released for Sony Xperia Go, U and Sola</a></li>
<li><a href="../152733/index.html">Silicon</a></li>
<li><a href="../152735/index.html">Providers of Dagestan have closed access to YouTube</a></li>
<li><a href="../152737/index.html">We provide Russian texts on Mac OS X in one encoding with a Python script.</a></li>
<li><a href="../152741/index.html">Brainfuck computer</a></li>
<li><a href="../152747/index.html">Create recursive shortcuts in Windows</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>