<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to take control of network infrastructure. Part one. Hold</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I fully admit that there are a sufficient number of companies where a simple network in one hour or even one day is not critical. I, unfortunately or ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to take control of network infrastructure. Part one. Hold</h1><div class="post__text post__text-html js-mediator-article">  I fully admit that there are a sufficient number of companies where a simple network in one hour or even one day is not critical.  I, unfortunately or fortunately, did not have a chance to work in such places.  But, of course, the networks are different, the requirements are different, the approaches are different, and yet, in one form or another, the following list in many cases will actually be a ‚Äúgreat‚Äù. <br><br>  So, the initial conditions. <br><br>  Are you at a new job or are you promoted or have decided to take a fresh look at your responsibilities?  The company's network is your area of ‚Äã‚Äãresponsibility.  For you, in many respects, this is new and new, which somewhat justifies the mentoring tone of this article :).  But I hope that the article can also be useful to any network engineer. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Your first strategic goal is to learn how to resist entropy and keep the level of service provided. <br><br>  Many of the tasks described below can be solved by various means.  I deliberately do not raise the topic of technical implementation, since  in principle, it is often not so important how you solved a particular task, but how you use it and whether you use it at all.  It is of little use, for example, from your professionally built monitoring system, if you do not look there and do not react to alerts. <br><a name="habracut"></a><br><h2>  Equipment </h2><br>  First you need to understand where the greatest risks are. <br><br>  Again, it can be different.  I admit that somewhere, for example, these will be security issues, and somewhere else issues related to the continuity of service, and somewhere, maybe something else.  Why not? <br><br>  Suppose for definiteness that this is still a continuity of service (this was the case in all the companies where I worked). <br><br>  Then you need to start with the equipment.  Here is a list of topics that need attention: <br><br><ul><li>  equipment classification by severity </li><li>  reservation of critical equipment </li><li>  support, licenses </li></ul><br>  You should consider possible breakdowns, especially with equipment located at the top of your criticality classification.  Usually, the likelihood of double problems is neglected, otherwise your solution and support may become unnecessarily expensive, but in the case of truly critical network elements, the failure of which can significantly affect a business, you should think about it. <br><br><blockquote>  <b>Example</b> <br><br>  Suppose we are talking about a root switch in a data center. <br><br>  Since we agreed that the continuity of service is the most important criterion, it is reasonable to provide ‚Äúhot‚Äù redundancy of this equipment.  But that is not all.  You also have to decide how much time, in the event of the first switch fails, it is acceptable for you to live with only one remaining switch, because there is a risk that it will break. <br><br>  <b>Important!</b>  <b>You do not have to resolve this issue yourself.</b>  <b>You must describe the risks, possible solutions and the cost to your management or company management.</b>  <b>They must make decisions.</b> <br><br>  So, if it was decided that, under the condition of a small probability of double breakdown, working for 4 hours on one switch is, in principle, acceptable, then you can simply take the appropriate support (according to which the equipment will be replaced within 4 hours). <br><br>  But there is a risk that they will not deliver.  Unfortunately, once we were in this situation.  Instead of four hours the equipment rode a week !!! <br><br>  Therefore, this risk also needs to be discussed and, perhaps, it will be better for you to buy another switch (the third one) and keep it in the spare parts kit (cold backup) or use it for laboratory purposes. </blockquote><br>  <b>Important!</b>  <b>Make a table of all the supports that you have with the end dates and add them to the calendar so that you receive a letter at least a month later that you should start worrying about extending support.</b> <br><br>  You will not be forgiven if you forget to extend support and the day after it ends, your equipment will break. <br><br><h2>  Emergency works </h2><br>  To avoid happening on your network, ideally, you should keep access to your network equipment. <br><br>  <b>Important!</b>  <b>You should have console access to all equipment and this access should not depend on the operability of the user data transmission network (data).</b> <br><br>  You must also foresee possible negative scenarios and document the necessary actions.  The availability of this document is also critical, so it must not only be laid out on a shared resource for the department, but also saved locally on the computers of engineers. <br><br>  Mandatory there should be <br><br><ul><li>  information required to open an application in support of a vendor or integrator </li><li>  information, how to get on any equipment (console, management) </li></ul><br>  Also, of course, any other useful information can be contained, for example, a description of the procedure for upgrading various equipment and useful diagnostic commands. <br><br><h2>  Partners </h2><br>  Now you need to assess the risks associated with partners.  Usually this <br><br><ul><li>  Internet service providers and traffic exchange points (IX) </li><li>  communication channel providers </li></ul><br>  What questions should I ask myself?  As in the case of equipment, it is necessary to consider various options for emergency situations.  For example, for internet providers, it could be something like: <br><br><ul><li>  What if Internet provider X stops providing service for some reason? </li><li>  Do you have enough bandwidth for other providers? </li><li>  how good will the connectivity be? </li><li>  How independent are your ISPs and will not one of them cause serious problems with others? </li><li>  How many optical inputs to your data center? </li><li>  What happens if one of the inputs is completely destroyed? </li></ul><br>  Regarding inputs, in my practice in two different companies, in two different data centers, the excavator crashed wells and only by a miracle our optics was not affected.  Not such a rare case. <br><br>  And, of course, you need not only to ask these questions, but, again, having enlisted the support of the leadership, to provide an acceptable solution in any situation. <br><br><h2>  Backup </h2><br>  The next in priority may be a backup of hardware configurations.  In any case, this is a very important point.  I will not list those cases where you may lose the configuration, it is better to make a regular backup and not think about it.  In addition, a regular backup can be very useful in controlling changes. <br><br>  <b>Important!</b>  <b>Make a backup daily.</b>  <b>It‚Äôs not such a big amount of data to save on it.</b>  <b>In the morning, the engineer on duty (or you) should receive a report from the system, which clearly indicates whether the backup was successful or not, and if the backup was unsuccessful, the problem should be solved or a ticket should be created (see the processes of the network department).</b> <br><br><h2>  Software Versions </h2><br>  The question of whether or not to upgrade the software is not so straightforward.  On the one hand, the old versions are known bugs and vulnerabilities, but on the other hand, the new software is, firstly, not always a painless upgrade procedure, and secondly, new bugs and vulnerabilities. <br><br>  Here you need to find the best option.  Some obvious recommendations. <br><br><ul><li>  set only stable versions </li><li>  still not worth living on very old versions of software </li><li>  make a sign with the information where some software is </li><li>  periodically read reports on vulnerabilities and bugs in software versions, and in case of critical problems you should think about upgrading </li></ul><br>  At this stage, having console access to equipment, information on support and description of the upgrade procedure, you are, in principle, ready for this step.  The ideal option is when you have laboratory equipment where you can check the whole procedure, but unfortunately this happens infrequently. <br><br>  In the case of critical equipment, you can contact the support of the vendor with a request to assist you in carrying out the upgrade. <br><br><h2>  Ticket system </h2><br>  Now you can look around.  You need to establish processes of interaction with other departments and within the department. <br><br>  Perhaps this is not mandatory (for example, if your company is small), but I would highly recommend organizing the work in such a way that all external and internal tasks pass through the ticket system. <br><br>  A ticket system is essentially your interface for internal and external communications, and you should describe this interface with a sufficient degree of detail. <br><br>  Let us consider, for example, the important and frequently encountered task of opening access.  I will describe an algorithm that worked perfectly in one of the companies. <br><br><blockquote>  <b>Example</b> <br><br>  Let's start with the fact that often access customers formulate their desire in an incomprehensible network engineer language, namely, in the application language, for example, ‚Äúgive me access to 1C‚Äù. <br><br>  Therefore, we have never accepted requests directly from such users. <br>  And this was the first requirement. <br><br><ul><li>  requests for access should come from technical departments (in our case these were unix, windows, helpdesk engineers) </li></ul><br>  The second requirement is that <br><br><ul><li>  this access should be recorded (by the technical department from which we received this request) and as a request we get a link to this recorded access </li></ul><br>  The form of this request should be clear to us, that is, <br><br><ul><li>  the request should contain information on which and in which subnet access should be open, as well as on the protocol and (in the case of tcp / udp) ports </li></ul><br>  Also there should be indicated <br><br><ul><li>  description for what this access opens </li><li>  temporary or permanent (if temporary, how long) </li></ul><br>  And this is a very important point. <br><br><ul><li>  from the head of the department that initiated the access (for example, accounting) </li><li>  from the head of the technical department, from where this request came to the network department (for example, helpdesk) </li></ul><br>  In this case, the ‚Äúowner‚Äù of this access is considered to be the head of the department that initiated the access (accounting in our example), and he is responsible for ensuring that the page with the recorded access for this department remains relevant. <br></blockquote><br><h2>  Logging </h2><br>  This is something to drown in.  But if you want to implement a proactive approach, then you need to learn how to cope with this data stream. <br><br><blockquote>  Here are some practical recommendations: <br><br><ul><li>  need to view logs daily </li><li>  in the case of a scheduled view (and not an emergency), you can limit yourself to severity levels 0, 1, 2 and add selected patterns from other levels if you see fit </li><li>  write a script that logs and ignores those logs whose patterns you added to the ignore list </li></ul><br>  Over time, this approach will make it possible to compile the ignore list of logs that you are not interested in and leave only those that you really consider important. <br>  It worked perfectly for us. </blockquote><br><h2>  Monitoring </h2><br>  It is not uncommon when the company does not have a monitoring system.  You can, for example, hope for logs, but the equipment can simply ‚Äúdie‚Äù without having had time to ‚Äúsay‚Äù, or the udp packet of the syslog protocol can get lost and not reach.  In general, of course, active monitoring is important and necessary. <br><br><blockquote>  The two most popular examples in my practice: <br><br><ul><li>  monitoring of loading of communication channels, critical links (for example, connection to providers).  They allow you to proactively see the potential problem of degradation of the service due to the loss of traffic and, accordingly, avoid it. </li><li>  graphics based on NetFlow.  They make it easy to find anomalies in traffic and are very useful for detecting some simple but significant types of hacker attacks. </li></ul></blockquote><br>  <b>Important!</b>  <b>Configure sms alert for the most critical events.</b>  <b>This applies to both monitoring and logging.</b>  <b>If you do not have an on-duty shift, then sms should also arrive during off-hours.</b> <br><br>  Think of the process in such a way as not to wake up all the engineers.  We had an engineer on duty for this. <br><br><h2>  Change control </h2><br>  In my opinion, it is not necessary to control all changes.  But, in any case, you should be able, if necessary, to easily find out who made the changes in the network and why. <br><br><blockquote>  Some tips: <br><br><ul><li>  use the ticket system for a detailed description of what was done under this ticket, for example, by copying the applied configuration into a ticket </li><li>  use the features of the comments on the network equipment (for example, commit comment on Juniper).  You can write down the ticket number </li><li>  use diff of your configuration backups </li></ul><br>  You can enter this as a process, daily reviewing all tickets for changes. </blockquote><br><h2>  Processes </h2><br>  You must formalize and describe the processes in your team.  If you have reached this point, then at least the following processes should work in your team: <br><br>  Daily processes: <br><br><ul><li>  work with tickets </li><li>  work with logs </li><li>  change control </li><li>  daily check sheet </li></ul><br>  Annual processes: <br><br><ul><li>  extension of warranties, licenses </li></ul><br>  Asynchronous processes: <br><br><ul><li>  reaction to various emergencies </li></ul><br><h2>  Conclusion of the first part </h2><br>  You noticed that all this is not about network configuration, not about design, not about network protocols, not about routing, not about security ... This is something around.  But this, although perhaps boring, but, of course, very important elements of the work of the network unit. <br><br>  So far, as you can see, you have not improved anything on your network.  If there were security vulnerabilities, then they remained, if there was a bad design, then it remained.  Until you have applied your skills and knowledge of the network engineer, which was spent most likely a lot of time, effort, and sometimes money.  But first you need to create (or strengthen) the foundation, and then engage in construction. <br><br>  On how to find and fix errors, and then improve your infrastructure - this is the following parts. <br><br>  Of course, it is not necessary to do everything consistently.  Time can be critical.  Do it in parallel if resources allow. <br><br>  And an important addition.  Communicate, ask, consult with your team.  In the end, it is for them to support and do all this. </div><p>Source: <a href="https://habr.com/ru/post/433614/">https://habr.com/ru/post/433614/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../433604/index.html">Comfortable work with Android Studio</a></li>
<li><a href="../433606/index.html">SIEM depths: out-of-box correlations. Part 3.2. Event Normalization Methodology</a></li>
<li><a href="../433608/index.html">Car of the future. Screens instead of autoglass?</a></li>
<li><a href="../433610/index.html">Notes phytochemist. Persimmon</a></li>
<li><a href="../433612/index.html">FCC: SpaceX satellites in orbit - a source of debris dangerous to Earth‚Äôs inhabitants</a></li>
<li><a href="../433616/index.html">Apple recognized problems with SSD in MacBook Pro 13</a></li>
<li><a href="../433618/index.html">"Warm lamp" sound with your own hands. What if you cross the store, club and workshop?</a></li>
<li><a href="../433620/index.html">How SystemUI in Android works</a></li>
<li><a href="../433624/index.html">I study Rust: How I made UDP chat with Azul</a></li>
<li><a href="../433628/index.html">Culture feedback: how not to slide to the charges</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>