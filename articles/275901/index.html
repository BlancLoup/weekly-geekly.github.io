<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Advanced Oracle Troubleshoot Session - PGA / UGA Memory Fragmentation</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Luxoft Training offers to get acquainted with the translation of Randolph Gaist 's article ‚ÄúAdvanced Oracle Troubleshooting Session - PGA / UGA memory...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Advanced Oracle Troubleshoot Session - PGA / UGA Memory Fragmentation</h1><div class="post__text post__text-html js-mediator-article">  Luxoft Training offers to get acquainted with the translation of Randolph Gaist <a href="http://oracle-randolf.blogspot.de/2010/05/advanced-oracle-troubleshooting-session.html">'s</a> article <a href="http://oracle-randolf.blogspot.de/2010/05/advanced-oracle-troubleshooting-session.html">‚ÄúAdvanced Oracle Troubleshooting Session - PGA / UGA memory fragmentation‚Äù</a> . <br><br><img align="left" width="90" src="https://habrastorage.org/files/b9a/9f8/846/b9a9f88464a54652ab15dfced6a8471b.jpg">  Randolph Geist specializes in correcting errors related to the performance of Oracle databases.  One of the best specialists in the world in the area of ‚Äã‚Äãanalyzing the performance of SQL-code and Oracle optimization technologies.  Is an Oracle Certified Database Administrator (OCP DBA) versions 8i, 9i and 10g. <br><a name="habracut"></a><br><br><h1>  Advanced Oracle Troubleshoot Session - PGA / UGA Memory Fragmentation </h1><br>  The diagnostics and troubleshooting database session for one of my clients began with the following description of the problem: in some specific environments, sometimes a separate batch process takes much longer than expected (instead of a few minutes a few hours).  In addition, when monitoring, you can detect SQL queries that behave non-standard. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      So, first of all it was necessary to learn how to reproduce the problem. <br>  Pretty quickly, we were able to detect a specific call to a complex PL / SQL stored procedure from a package that accessed many other stored procedures / packages and that served to process LOBs (large objects) containing XML data. <br><br>  It turned out that the problem can be reproduced by calling this stored procedure several times in a loop, and in various database environments, as was reported at the beginning. <br><br>  A unique feature of this stored procedure ‚Äî it was executed in ‚Äúexclusive‚Äù mode.  This means that it was run on a fairly large IBMpSeries server (AIX 5.3, 11.1.0.7, 240 GB of RAM, numerous multi-core P6 processors, expensive storage) without any other active business processes at the same time.  Basically it was a consistent implementation.  The monitoring showed that this procedure spent most of the time on two simple and clear SQL queries.  These were static SQL queries from PL / SQL that accessed the same small table using a unique index and ROWID.  Thus, we had two SQL queries that, under normal conditions, could in the worst case require two logical reads, since the index and the table were completely placed in the buffer cache. <br>  During the monitoring of the execution of these SQL queries at the start of the aforementioned cycle, it became clear that they were called thousands of times (depending on the content of LOBXML) at each start. <br><br>  Since these were static SQL, the PL / SQL cursor cursors (as well as the data block cache) worked very well ‚Äî that is, the query was parsed only once, and then with each subsequent execution only logical, but not physical reads occurred. <br><br>  In addition, in most cases, these SQL queries did not find the desired value in a small table.  This means that, on average, a single logical read ‚Äî a scan of a unique index ‚Äî was required for one query execution, since the value it was looking for was missing. <br>  When checking the statistics for executing SQL queries in different environments (Linux instead of AIX), it was found that the same SQL queries were executed the same number of times, but in these environments it took less time to execute a batch job.  In this regard, a huge number of SQL executions looked strange, but it was not the main cause of the problem. <br><br>  So: <br>  ‚Ä¢ We defined a stored procedure that works with LOBs that represent XML as the cause of the problem. <br>  ‚Ä¢ Most of the procedure time was spent on two static SQL queries that were executed thousands of times each time the stored procedure was run. <br>  ‚Ä¢ However, these SQLs used the ‚Äúoptimal‚Äù execution plan and actually generated only one logical I / O per run. <br>  ‚Ä¢ Due to the ‚Äúexclusive‚Äù behavior of the batch job, rivalry with other processes was impossible. <br>  ‚Ä¢ In other words, we are not talking about the usual suspicions like ‚Äúineffective query plan‚Äù, ‚Äúcompetition for resources‚Äù, ‚Äúserialization‚Äù, etc. <br>  ‚Ä¢ Therefore, conventional performance monitoring methods: wait events, extended SQL tracing, active session history, session statistics / system statistics, ASH / AWR / ADDM reports, did not reveal an obvious cause of the problem. <br>  ‚Ä¢ Running SQL queries defined in a separate process showed that they take an average of 10 microseconds (!) In one run, which is pretty fast.  In this connection, the question arises: how is it possible that these queries are displayed as problematic - when launched in a simple cycle, ten thousand launches are possible in one second. <br><br>  We are faced with the classic situation <a href="http://jamesmorle.wordpress.com/2009/11/09/the-oracle-wait-interface-is-useless-sometimes-pt/">‚ÄúWaiting events explain nothing (sometimes)‚Äù</a> .  All that we see - most of the time was spent on running these SQL.  Everything that we found out - all this happened on a single processor that fulfilled these requests. <br><br>  But wait, during the monitoring of the statistical session delta (for example, using the Tenel Poder <a href="">snapper</a> utility) an interesting point came up: the process required more and more PGA / UGA memory when executed. <br><br>  Thus, it was time to apply advanced methods of problem solving - for example, Oak Table participant Tanel Poder performed a lot of research in this area and provided a large number of useful tools. <br><br>  In the course of further inspections, several anomalies were discovered, which oriented in which direction to look further. <br><br>  The consumption of the PGA / UGA process increased with each iteration of the loop that triggers the PL / SQL stored procedure, i.e.  Somewhere there was a memory problem.  In this regard, it was a good idea to check the memory dump of the PGA / UGA process. <br><br>  Beware: getting a memory dump can damage your system or process, so be very careful when performing this operation in a production environment.  Getting a PGA memory dump usually affects only one process, so it‚Äôs not too critical (if it‚Äôs not a background process, of course). <br><br>  You can get a memory dump using EVENTS: <br><br><pre><code class="hljs sql"><span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SESSION</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> <span class="hljs-keyword"><span class="hljs-keyword">EVENTS</span></span> <span class="hljs-string"><span class="hljs-string">'immediate trace name heapdumplevel &lt;lvl&gt;'</span></span>;</code> </pre> <br><br>  You can also request a memory dump using ORADEBUG ASSYSDBA after defining a process using SETOSPID, SETORAPID, or SETMYPID: <br><br><pre> <code class="hljs xml">ORADEBUG DUMP HEAPDUMP <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LVL</span></span></span><span class="hljs-tag">&gt;</span></span>';</code> </pre> <br><br>  See also the <a href="http://www.juliandyke.com/Diagnostics/Dumps/HEAPDUMP.html">site of Julian Dyke for an</a> overview of the available levels of memory dumps. <br><br>  In this case, the fifth level dump (5 = 4 + 1, i.e. PGA and UGA) seems to be sufficient (if you are interested in current / user calls, you need level 29 = 8 + 16 + 4 + 1). <br><br>  In Chapter 8 of our book <a href="http://www.amazon.com/Expert-Oracle-Practices-Database-Administration/dp/1430226684/">, Oracle's Recommendations for Oracle Experts from the Oak Table</a> , Charles and I describe the most important options for memory dumps and other performance monitoring methods used in this case. <br><br>  The resulting trace file can be primarily analyzed, for example, using the <a href="http://blog.tanelpoder.com/files/scripts/heapdump_analyzer">Tanela</a> heapdump_analyzer script ... Since in our case the trace file was quite large, we used a slightly modified version of the awk program from heapdump_analyzer to create the file, which was then connected as an external Oracle table so that it was possible to perform more complex queries to this data. <br><br>  Here is a command that converts a trace file to a file suitable for use as an external Oracle table: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">cat</span></span> <span class="hljs-variable"><span class="hljs-variable">$TRACE_FILE</span></span> | awk <span class="hljs-string"><span class="hljs-string">' /^HEAP DUMP heap name=/ { split(</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$0</span></span></span><span class="hljs-string">,ht,"\""); HTYPE=ht[2]; doPrintOut = 1; } /Chunk/{ if ( doPrintOut == 1 ) { split(</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$0</span></span></span><span class="hljs-string">,sf,"\""); printf "%10d , %16s, %16s, %16s\n", </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$4</span></span></span><span class="hljs-string">, HTYPE, </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$5</span></span></span><span class="hljs-string">, sf[2]; } } /Total heap size/ { doPrintOut=0; } '</span></span> &gt; <span class="hljs-variable"><span class="hljs-variable">$EXT_TAB_DIR</span></span>/heapdump.txt</code> </pre><br>  The following is an example DDL for such an external table: <br><pre> <code class="hljs sql"><span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> heapdump ( chunk_size <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span> , heap_type varchar2(<span class="hljs-number"><span class="hljs-number">16</span></span>) , chunk_type varchar2(<span class="hljs-number"><span class="hljs-number">16</span></span>) , alloc_reason varchar2(<span class="hljs-number"><span class="hljs-number">16</span></span>) ) <span class="hljs-keyword"><span class="hljs-keyword">organization</span></span> <span class="hljs-keyword"><span class="hljs-keyword">external</span></span> ( <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> oracle_loader <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-keyword"><span class="hljs-keyword">directory</span></span> ext_tab_dir <span class="hljs-keyword"><span class="hljs-keyword">access</span></span> <span class="hljs-keyword"><span class="hljs-keyword">parameters</span></span> ( <span class="hljs-keyword"><span class="hljs-keyword">records</span></span> <span class="hljs-keyword"><span class="hljs-keyword">delimited</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> <span class="hljs-keyword"><span class="hljs-keyword">newline</span></span> <span class="hljs-keyword"><span class="hljs-keyword">fields</span></span> <span class="hljs-keyword"><span class="hljs-keyword">terminated</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> <span class="hljs-string"><span class="hljs-string">','</span></span> <span class="hljs-keyword"><span class="hljs-keyword">lrtrim</span></span> ) location (<span class="hljs-string"><span class="hljs-string">'heapdump.txt'</span></span>) );</code> </pre><br><br>  This process causes a ‚Äúleakage‚Äù of temporary LOBs - in V $ TEMPORARY_LOBS, there is a constant increase in the number of LOBs, however, it goes slowly (one object each time the stored procedure is started), while memory consumption in the temporary tablespace remains low. <br><br>  When calculating the average execution time of two SQL queries that were repeated many times, it became clear that they were actually executed at first as quickly as in separate execution, but their execution slowed down gradually. <br>  After a few minutes, it took several milliseconds (!) To fulfill these requests, which initially took several microseconds.  Not surprisingly, the batch job took hours, considering that these requests were required many times.  But now each execution took a thousand times longer than at the very beginning of the process. <br><br>  Upon closer inspection, it became clear that this slowdown affected every SQL query that was executed.  But since the execution of many of these requests took a few milliseconds anyway and they were executed a small number of times, the increase in the execution time by a few milliseconds was not really so significant.  These were the requests that were executed so often that they received the greatest ‚Äúgain‚Äù in the execution time. <br><br>  As a result, after the completion of the cycle that started the stored procedure PL / SQL, it became clear that all processes were affected during this session.  For example, it took about 30 hundredths of a second (0.3 second!) To perform a simple SELECT * FROMDUAL operation or a zero PL / SQL block (BEGINNULL; END).  The same operation in the new session (while the other session was still open) was performed instantly (in less than 0.01 seconds, data was obtained using the SQL * Plus time calculator) - this was typical only for this session , and not for the case as a whole. <br><br>  Thus, something appeared that obviously took more and more CPU time.  This led to an increase in the execution time of "each" operation, regardless of what it was. <br><br>  The time has come to turn to a deeper level and examine the trace at the operating system level in order to understand what takes up most of the time during the process.  Unfortunately, we dealt with AIX 5.3, so the set of tools that could be used to make the necessary measurements was very limited.  AIX does not support DTrace, and the new ProbeVue ‚Äã‚Äãtool is only available for versions of AIX 6 and above.  Therefore, we only had Oracle‚Äôs built-in oradebugshort_stack and procstack for AIX, which we used to get samples from the foreground process call stack. <br><br>  But again, Tanel comes to the rescue.  Using his OStackProf toolkit, we were able to retrieve items from the call stack, but only to find out that the process spent most of the time on memory management.  This was only an assumption, since no one could say what the names of the functions in the call stack actually meant.  Based on the MOS 175982.1 documentation, this all had to do with ADT memory management (Oracle objects). <br><br>  This is what the stack trace looked like: <br><pre> <code class="hljs erlang-repl">Belowisthestackprefixcommontoallsamples: ------------------------------------------------------------------------ Frame-&gt;function() ------------------------------------------------------------------------ # <span class="hljs-number"><span class="hljs-number">36</span></span> -&gt;main() # <span class="hljs-number"><span class="hljs-number">35</span></span> -&gt;opimai_real()b0 # <span class="hljs-number"><span class="hljs-number">34</span></span> -&gt;sou2o() # <span class="hljs-number"><span class="hljs-number">33</span></span> -&gt;opidrv() # <span class="hljs-number"><span class="hljs-number">32</span></span> -&gt;opiodr()b98 # <span class="hljs-number"><span class="hljs-number">31</span></span> -&gt;opiino()f0 # <span class="hljs-number"><span class="hljs-number">30</span></span> -&gt;opitsk() # <span class="hljs-number"><span class="hljs-number">29</span></span> -&gt;ttcpip()c # <span class="hljs-number"><span class="hljs-number">28</span></span> -&gt;opiodr()b98 # <span class="hljs-number"><span class="hljs-number">27</span></span> -&gt;kpoal8()c # <span class="hljs-number"><span class="hljs-number">26</span></span> -&gt;opiexe() # <span class="hljs-number"><span class="hljs-number">25</span></span> -&gt;kkxexe()c # <span class="hljs-number"><span class="hljs-number">24</span></span> -&gt;peicnt() # <span class="hljs-number"><span class="hljs-number">23</span></span> -&gt;plsql_run() # <span class="hljs-number"><span class="hljs-number">22</span></span> -&gt;pfrrun() # <span class="hljs-number"><span class="hljs-number">21</span></span> -&gt;pfrrun_no_tool()c # <span class="hljs-number"><span class="hljs-number">20</span></span> -&gt;pfrinstr_EXECC()c # <span class="hljs-number"><span class="hljs-number">19</span></span> -&gt;pevm_EXECC()e4 # <span class="hljs-number"><span class="hljs-number">18</span></span> -&gt;psdnal()c # <span class="hljs-number"><span class="hljs-number">17</span></span> -&gt;psddr0() # <span class="hljs-number"><span class="hljs-number">16</span></span> -&gt;rpidrv() # ...(seecallprofilebelow) # # -#-------------------------------------------------------------------- # - Num.Samples -&gt;incallstack() # ---------------------------------------------------------------------- <span class="hljs-number"><span class="hljs-number">76</span></span> -&gt;rpiswu2()c0-&gt;rpidru()-&gt;skgmstack()c4-&gt;rpidrus()c8-&gt;opiodr()b98-&gt;opipls()-&gt;opiexe()e4-&gt;auddft()b8-&gt;audbeg()-&gt;ktcxbr0()a0-&gt;kocbeg()-&gt;koctxbg()-&gt;kohalc()-&gt;kohalmc()-&gt;kghfru()c-&gt;<span class="hljs-number"><span class="hljs-number">44</span></span>c0-&gt;-&gt; <span class="hljs-number"><span class="hljs-number">20</span></span> -&gt;rpiswu2()c0-&gt;rpidru()-&gt;skgmstack()c4-&gt;rpidrus()c8-&gt;opiodr()b98-&gt;opipls()-&gt;opiexe()-&gt;<span class="hljs-number"><span class="hljs-number">44</span></span>c0-&gt;-&gt; <span class="hljs-number"><span class="hljs-number">1</span></span> -&gt;rpiswu2()c0-&gt;rpidru()-&gt;skgmstack()c4-&gt;rpidrus()c8-&gt;opiodr()b98-&gt;opipls()-&gt;opiexe()b8c-&gt;kksfbc()ec-&gt;ktcsna()c-&gt;ktucloGetGlobalMinScn()-&gt;<span class="hljs-number"><span class="hljs-number">44</span></span>c0-&gt;-&gt; <span class="hljs-number"><span class="hljs-number">1</span></span> -&gt;rpiswu2()c0-&gt;rpidru()-&gt;skgmstack()c4-&gt;rpidrus()c8-&gt;opiodr()b98-&gt;opipls()-&gt;opiexe()-&gt;ksuvrl()c-&gt;<span class="hljs-number"><span class="hljs-number">44</span></span>c0-&gt;-&gt; <span class="hljs-number"><span class="hljs-number">1</span></span> -&gt;rpiswu2()c0-&gt;rpidru()-&gt;skgmstack()c4-&gt;rpidrus()c8-&gt;opiodr()b98-&gt;opipls()-&gt;opiexe()-&gt;<span class="hljs-number"><span class="hljs-number">44</span></span>c0-&gt;-&gt; <span class="hljs-number"><span class="hljs-number">1</span></span> -&gt;rpiswu2()c0-&gt;rpidru()-&gt;skgmstack()c4-&gt;rpidrus()c8-&gt;opiodr()-&gt;ksuprc()c-&gt;<span class="hljs-number"><span class="hljs-number">44</span></span>c0-&gt;-&gt;</code> </pre><br><br>  The names of the ‚Äúauddft‚Äù / ‚Äúaudbeg‚Äù functions may indicate something relevant to the audit, but the audit option in the database is not involved in any way, except for the ‚Äúaudit_trail = DB‚Äù parameter.  Alex Fatkulin recently <a href="http://afatkulin.blogspot.com/2010/05/case-of-slow-lookup.html">published a description of the problem</a> in which the included audit option led to a slowdown of 11.2.0.1, and, of course, when setting the parameter ‚Äúaudit_trail = NONE‚Äù to 11.1.07 or 11.2.0.1, the slowdown was not so clearly observed.  This means that there are actually parts of the code that are relevant to the audit.  However, this did not solve the problem - a significant slowdown was still observed. <br><br>  An important observation was obtained when analyzing the memory dump of the PGA / UGA: <br><br>  The PGA / UGA dump included hundreds of thousands of very small pieces of data that were related to working with XML ("qmxdpls_subhea").  Thus, it became obvious that the error was related to something related to memory management for XML. <br><br>  Therefore, we focused on those parts of the code that were responsible for processing XML.  Very quickly, a bug was found: the code did not refer to DBMS_XMLDOM.FREEDOCUMENT. <br><br>  Apparently, this bug was present in the code from the very beginning, but the application was designed for 10.2, where there was no such reduction in speed. However, there were similar signs of a problem, for example, increased PGA / UGA memory consumption and leakage for temporary LOBs, but identical slowdowns were not It was.  After some time ago the database was transferred to version 11.1.0.7, the slowdown problem manifested itself. <br><br>  So, the problem can be solved or found after a simple addition or removal of the freedocument from the code. <br><br>  This led us to the development of a sample test script that allows the problem to be reproduced on demand in most cases using databases 11.1.0.7 or higher. <br><br>  Note: the problem seems to be related to the Oracle version for a specific operating system.  Oracle 11.1.0.7 for Linux x64 behaved a little differently - only some SQL queries were slowed down, which happened when using the AIX version. <br><pre> <code class="hljs cs">drop table t_testloop; purge table t_testloop; <span class="hljs-function"><span class="hljs-function">create table </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">t_testloop</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> id integer not </span></span><span class="hljs-literal"><span class="hljs-function"><span class="hljs-params"><span class="hljs-literal">null</span></span></span></span><span class="hljs-function"><span class="hljs-params"> , vc varchar2(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">255</span></span></span></span></span><span class="hljs-function">) , constraint t_testloop_pk primary </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">key</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">id</span></span></span><span class="hljs-function">) )</span></span> ; <span class="hljs-function"><span class="hljs-function">insert </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">into</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">t_testloop</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> id , vc </span></span></span><span class="hljs-function">) </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">select</span></span></span><span class="hljs-function"> level </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">as</span></span></span><span class="hljs-function"> id , </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rpad</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'x'</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">100</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'x'</span></span></span></span></span><span class="hljs-function">) </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">as</span></span></span><span class="hljs-function"> vc </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">from</span></span></span><span class="hljs-function"> dual connect </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">by</span></span></span><span class="hljs-function"> level &lt;</span></span>= <span class="hljs-number"><span class="hljs-number">100</span></span>; commit; exec dbms_stats.gather_table_stats(<span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">'T_TESTLOOP'</span></span>) -- This <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> supposed to be a INDEX UNIQUE SCAN + TABLE ACCESS BY ROWID explain plan <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> id , vc <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> t_testloop <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> id = to_number(:x); <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> linesize <span class="hljs-number"><span class="hljs-number">160</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> pagesize <span class="hljs-number"><span class="hljs-number">999</span></span> <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">from</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">table</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">dbms_xplan.display</span></span></span><span class="hljs-function">)</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> timing <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> echo <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> serveroutput <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> -- <span class="hljs-function"><span class="hljs-function">This </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">is</span></span></span><span class="hljs-function"> the </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">normal</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">reference</span></span></span><span class="hljs-function">) execution time </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">for</span></span></span><span class="hljs-function"> running -- the simple statement a thousand times declare procedure check_key </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">as</span></span></span><span class="hljs-function"> x integer</span></span>; n_id integer; <span class="hljs-function"><span class="hljs-function">s_vc </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">varchar2</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">255</span></span></span></span></span><span class="hljs-function">)</span></span>; begin x := <span class="hljs-number"><span class="hljs-number">42</span></span> * <span class="hljs-number"><span class="hljs-number">3</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> id , vc <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> n_id , s_vc <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> t_testloop <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> id = x; exception when NO_DATA_FOUND then <span class="hljs-literal"><span class="hljs-literal">null</span></span>; end; begin <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">1.</span></span><span class="hljs-number"><span class="hljs-number">.1000</span></span> loop check_key; end loop; end; / -- <span class="hljs-string"><span class="hljs-string">"Deterministic"</span></span> randomness :-)) exec dbms_random.seed(<span class="hljs-number"><span class="hljs-number">0</span></span>) declare start_time number; end_time number; -- Generate some CLOB containing XML -- Note that it looks like the CLOB needs -- to be different <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> every iteration -- otherwise the issue couldn<span class="hljs-string"><span class="hljs-string">'t be reproduced function return_clob return clob as the_lobclob; s_name varchar2(20); n_sal integer; s_job varchar2(20); begin the_lob := '</span></span>&lt;root&gt; <span class="hljs-string"><span class="hljs-string">'; for i in 1..20 loop s_name := dbms_random.string('</span></span>U<span class="hljs-string"><span class="hljs-string">', trunc(dbms_random.value(1, 21))); n_sal := trunc(dbms_random.value(1, 1001)); s_job := dbms_random.string('</span></span>U<span class="hljs-string"><span class="hljs-string">', trunc(dbms_random.value(1, 21))); the_lob := the_lob || '</span></span>&lt;emp attr1=<span class="hljs-string"><span class="hljs-string">"val1"</span></span> attr2=<span class="hljs-string"><span class="hljs-string">"val2"</span></span> attr3=<span class="hljs-string"><span class="hljs-string">"val3"</span></span>&gt; &lt;empno attr1=<span class="hljs-string"><span class="hljs-string">"val1"</span></span> attr2=<span class="hljs-string"><span class="hljs-string">"val2"</span></span> attr3=<span class="hljs-string"><span class="hljs-string">"val3"</span></span>&gt;<span class="hljs-string"><span class="hljs-string">' || to_char(i, '</span></span>TM<span class="hljs-string"><span class="hljs-string">') || '</span></span>&lt;/empno&gt; &lt;name attr1=<span class="hljs-string"><span class="hljs-string">"val1"</span></span> attr2=<span class="hljs-string"><span class="hljs-string">"val2"</span></span> attr3=<span class="hljs-string"><span class="hljs-string">"val3"</span></span>&gt;<span class="hljs-string"><span class="hljs-string">' || s_name || '</span></span>&lt;/name&gt; &lt;sal attr1=<span class="hljs-string"><span class="hljs-string">"val1"</span></span> attr2=<span class="hljs-string"><span class="hljs-string">"val2"</span></span> attr3=<span class="hljs-string"><span class="hljs-string">"val3"</span></span>&gt;<span class="hljs-string"><span class="hljs-string">' || to_char(n_sal, '</span></span>TM<span class="hljs-string"><span class="hljs-string">') || '</span></span>&lt;/sal&gt; &lt;job attr1=<span class="hljs-string"><span class="hljs-string">"val1"</span></span> attr2=<span class="hljs-string"><span class="hljs-string">"val2"</span></span> attr3=<span class="hljs-string"><span class="hljs-string">"val3"</span></span>&gt;<span class="hljs-string"><span class="hljs-string">' || s_job || '</span></span>&lt;/job&gt; &lt;/emp&gt; <span class="hljs-string"><span class="hljs-string">'; end loop; the_lob := the_lob || '</span></span>&lt;/root&gt;<span class="hljs-string"><span class="hljs-string">'; return the_lob; end return_clob; -- Some usage of the PL/SQL XML DOM API -- Some dummy processing of the attributes of the given node procedure process_attributes ( in_nodedbms_xmldom.DOMNode ) is len number; n dbms_xmldom.DOMNode; nnmdbms_xmldom.DOMNamedNodeMap; key varchar2(1000); val varchar2(32767); BEGIN nnm := dbms_xmldom.getAttributes(in_node); if (dbms_xmldom.isNull(nnm) = FALSE) then len := dbms_xmldom.getLength(nnm); -- loop through attributes for i in 0..len-1 loop n := dbms_xmldom.item(nnm, i); key := dbms_xmldom.getNodeName(n); val := dbms_xmldom.getNodeValue(n); end loop; end if; end process_attributes; -- Some usage of the PL/SQL XML DOM API -- Recursively walk the nodes of the DOM -- and call the attribute processing per node procedure walk_node ( in_nodedbms_xmldom.DOMNode ) is nldbms_xmldom.DOMNodeList; len number; n dbms_xmldom.DOMNode; node_name varchar2(100); begin -- loop through elements node_name:=dbms_xmldom.getNodeName(in_node); process_attributes(in_node); nl := dbms_xmldom.getChildNodes(in_node); len := dbms_xmldom.getLength(nl); for i in 0..len-1 loop n := dbms_xmldom.item(nl, i); node_name := dbms_xmldom.getNodeName(n); walk_node(n); end loop; end walk_node; -- The main procedure procedureprocess_xml_clob as the_lobclob; varXMLType; doc dbms_xmldom.DOMDocument; root dbms_xmldom.DOMNode; root_tag varchar2(100); begin -- Get the CLOB with the XML the_lob := return_clob; -- Instantiate an XMLTYPE var := xmltype(the_lob); -- Generate a new DOM document from the XMLType -- This seems to allocate a temporary LOB under the covers doc := dbms_xmldom.newDOMDocument(var); -- Some rudimentary XML DOM processing root := dbms_xmldom.makeNode(dbms_xmldom.getDocumentElement(doc)); root_tag := dbms_xmldom.getNodeName(root); -- If you want to burn more CPU to exaggerate the effect -- uncomment this -- walk_node(root); -- This omission here causes a significant PGA/UGA memory leak -- and causes version 11.1 and 11.2 to slow down everything -- in this session -- Version 10.2 suffers from the same symptoms but doesn'</span></span>t slow down --DBMS_XMLDOM.freeDocument(doc); end; begin -- Run <span class="hljs-keyword"><span class="hljs-keyword">this</span></span> a thousand times and measure / output the runtime per execution <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">1.</span></span><span class="hljs-number"><span class="hljs-number">.1000</span></span> loop start_time := dbms_utility.get_time; process_xml_clob; end_time := dbms_utility.get_time; dbms_output.put_line(<span class="hljs-string"><span class="hljs-string">'Run '</span></span> || to_char(i, <span class="hljs-string"><span class="hljs-string">'TM'</span></span>) || <span class="hljs-string"><span class="hljs-string">': Time (in seconds)= '</span></span> || ((end_time - start_time)/<span class="hljs-number"><span class="hljs-number">100</span></span>)); end loop; end; / -- Do the simple statement again a thousand times -- Notice the difference <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> runtime when <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> <span class="hljs-number"><span class="hljs-number">11.1</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.7</span></span> or <span class="hljs-number"><span class="hljs-number">11.2</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> declare procedure check_key <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> x integer; n_id integer; <span class="hljs-function"><span class="hljs-function">s_vc </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">varchar2</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">255</span></span></span></span></span><span class="hljs-function">)</span></span>; begin x := <span class="hljs-number"><span class="hljs-number">42</span></span> * <span class="hljs-number"><span class="hljs-number">3</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> id , vc <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> n_id , s_vc <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> t_testloop <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> id = x; exception when NO_DATA_FOUND then <span class="hljs-literal"><span class="hljs-literal">null</span></span>; end; begin <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">1.</span></span><span class="hljs-number"><span class="hljs-number">.1000</span></span> loop check_key; end loop; end; /</code> </pre><br><br>  The important line above is "DBMS_XMLDOM.FREEDOCUMENT."  If you run the script without calling FREEDOCUMENT under the version of the database that is subject to slowdown (11.1.0.7 or 11.2.0.1), then the result usually looks like this: <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">SQL</span></span>&gt; <span class="hljs-keyword"><span class="hljs-keyword">declare</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">procedure</span></span> check_key <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> x <span class="hljs-type"><span class="hljs-type">integer</span></span>; <span class="hljs-number"><span class="hljs-number">5</span></span> n_id <span class="hljs-type"><span class="hljs-type">integer</span></span>; <span class="hljs-number"><span class="hljs-number">6</span></span> s_vc varchar2(<span class="hljs-number"><span class="hljs-number">255</span></span>); <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> x := <span class="hljs-number"><span class="hljs-number">42</span></span> * <span class="hljs-number"><span class="hljs-number">3</span></span>; <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> id <span class="hljs-number"><span class="hljs-number">11</span></span> , vc <span class="hljs-number"><span class="hljs-number">12</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> <span class="hljs-number"><span class="hljs-number">13</span></span> n_id <span class="hljs-number"><span class="hljs-number">14</span></span> , s_vc <span class="hljs-number"><span class="hljs-number">15</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-number"><span class="hljs-number">16</span></span> t_testloop <span class="hljs-number"><span class="hljs-number">17</span></span> <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> <span class="hljs-number"><span class="hljs-number">18</span></span> id = x; <span class="hljs-number"><span class="hljs-number">19</span></span> <span class="hljs-keyword"><span class="hljs-keyword">exception</span></span> <span class="hljs-number"><span class="hljs-number">20</span></span> <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> <span class="hljs-built_in"><span class="hljs-built_in">NO_DATA_FOUND</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-number"><span class="hljs-number">21</span></span> <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-number"><span class="hljs-number">22</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; <span class="hljs-number"><span class="hljs-number">23</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">1.</span></span><span class="hljs-number"><span class="hljs-number">.1000</span></span> <span class="hljs-keyword"><span class="hljs-keyword">loop</span></span> <span class="hljs-number"><span class="hljs-number">25</span></span> check_key; <span class="hljs-number"><span class="hljs-number">26</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">loop</span></span>; <span class="hljs-number"><span class="hljs-number">27</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; <span class="hljs-number"><span class="hljs-number">28</span></span> / PL/<span class="hljs-keyword"><span class="hljs-keyword">SQL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">procedure</span></span> successfully completed. Elapsed: <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">00.94</span></span> . . . Run <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.49</span></span> Run <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.08</span></span> Run <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.08</span></span> Run <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.08</span></span> Run <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.05</span></span> Run <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.03</span></span> Run <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.03</span></span> Run <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.03</span></span> Run <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.03</span></span> Run <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.02</span></span> Run <span class="hljs-number"><span class="hljs-number">11</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.03</span></span> Run <span class="hljs-number"><span class="hljs-number">12</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.03</span></span> Run <span class="hljs-number"><span class="hljs-number">13</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.03</span></span> Run <span class="hljs-number"><span class="hljs-number">14</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.03</span></span> Run <span class="hljs-number"><span class="hljs-number">15</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.03</span></span> Run <span class="hljs-number"><span class="hljs-number">16</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.03</span></span> Run <span class="hljs-number"><span class="hljs-number">17</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.02</span></span> Run <span class="hljs-number"><span class="hljs-number">18</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.03</span></span> Run <span class="hljs-number"><span class="hljs-number">19</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.03</span></span> Run <span class="hljs-number"><span class="hljs-number">20</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.03</span></span> Run <span class="hljs-number"><span class="hljs-number">21</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.03</span></span> Run <span class="hljs-number"><span class="hljs-number">22</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.03</span></span> Run <span class="hljs-number"><span class="hljs-number">23</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.03</span></span> Run <span class="hljs-number"><span class="hljs-number">24</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.03</span></span> Run <span class="hljs-number"><span class="hljs-number">25</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.03</span></span> . . . Run <span class="hljs-number"><span class="hljs-number">287</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.03</span></span> Run <span class="hljs-number"><span class="hljs-number">288</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.03</span></span> Run <span class="hljs-number"><span class="hljs-number">289</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.03</span></span> Run <span class="hljs-number"><span class="hljs-number">290</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.03</span></span> Run <span class="hljs-number"><span class="hljs-number">291</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.02</span></span> Run <span class="hljs-number"><span class="hljs-number">292</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.03</span></span> Run <span class="hljs-number"><span class="hljs-number">293</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.03</span></span> Run <span class="hljs-number"><span class="hljs-number">294</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.03</span></span> Run <span class="hljs-number"><span class="hljs-number">295</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.03</span></span> Run <span class="hljs-number"><span class="hljs-number">296</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.03</span></span> Run <span class="hljs-number"><span class="hljs-number">297</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.03</span></span> Run <span class="hljs-number"><span class="hljs-number">298</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.02</span></span> Run <span class="hljs-number"><span class="hljs-number">299</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.03</span></span> Run <span class="hljs-number"><span class="hljs-number">300</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.03</span></span> Run <span class="hljs-number"><span class="hljs-number">301</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.03</span></span> Run <span class="hljs-number"><span class="hljs-number">302</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.03</span></span> Run <span class="hljs-number"><span class="hljs-number">303</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.17</span></span> Run <span class="hljs-number"><span class="hljs-number">304</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.17</span></span> Run <span class="hljs-number"><span class="hljs-number">305</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.17</span></span> Run <span class="hljs-number"><span class="hljs-number">306</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.17</span></span> Run <span class="hljs-number"><span class="hljs-number">307</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.17</span></span> Run <span class="hljs-number"><span class="hljs-number">308</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.17</span></span> Run <span class="hljs-number"><span class="hljs-number">309</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.17</span></span> Run <span class="hljs-number"><span class="hljs-number">310</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.17</span></span> Run <span class="hljs-number"><span class="hljs-number">311</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.18</span></span> Run <span class="hljs-number"><span class="hljs-number">312</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.17</span></span> Run <span class="hljs-number"><span class="hljs-number">313</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.18</span></span> Run <span class="hljs-number"><span class="hljs-number">314</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.18</span></span> Run <span class="hljs-number"><span class="hljs-number">315</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.18</span></span> Run <span class="hljs-number"><span class="hljs-number">316</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.17</span></span> Run <span class="hljs-number"><span class="hljs-number">317</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.19</span></span> Run <span class="hljs-number"><span class="hljs-number">318</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.18</span></span> Run <span class="hljs-number"><span class="hljs-number">319</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.18</span></span> Run <span class="hljs-number"><span class="hljs-number">320</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.19</span></span> Run <span class="hljs-number"><span class="hljs-number">321</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.18</span></span> Run <span class="hljs-number"><span class="hljs-number">322</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.19</span></span> . . . Run <span class="hljs-number"><span class="hljs-number">973</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.82</span></span> Run <span class="hljs-number"><span class="hljs-number">974</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.83</span></span> Run <span class="hljs-number"><span class="hljs-number">975</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.83</span></span> Run <span class="hljs-number"><span class="hljs-number">976</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.82</span></span> Run <span class="hljs-number"><span class="hljs-number">977</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.83</span></span> Run <span class="hljs-number"><span class="hljs-number">978</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.83</span></span> Run <span class="hljs-number"><span class="hljs-number">979</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.82</span></span> Run <span class="hljs-number"><span class="hljs-number">980</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.82</span></span> Run <span class="hljs-number"><span class="hljs-number">981</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.83</span></span> Run <span class="hljs-number"><span class="hljs-number">982</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.82</span></span> Run <span class="hljs-number"><span class="hljs-number">983</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.83</span></span> Run <span class="hljs-number"><span class="hljs-number">984</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.83</span></span> Run <span class="hljs-number"><span class="hljs-number">985</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.82</span></span> Run <span class="hljs-number"><span class="hljs-number">986</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.84</span></span> Run <span class="hljs-number"><span class="hljs-number">987</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.83</span></span> Run <span class="hljs-number"><span class="hljs-number">988</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.86</span></span> Run <span class="hljs-number"><span class="hljs-number">989</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.84</span></span> Run <span class="hljs-number"><span class="hljs-number">990</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.83</span></span> Run <span class="hljs-number"><span class="hljs-number">991</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.85</span></span> Run <span class="hljs-number"><span class="hljs-number">992</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.84</span></span> Run <span class="hljs-number"><span class="hljs-number">993</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.84</span></span> Run <span class="hljs-number"><span class="hljs-number">994</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.85</span></span> Run <span class="hljs-number"><span class="hljs-number">995</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.84</span></span> Run <span class="hljs-number"><span class="hljs-number">996</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.85</span></span> Run <span class="hljs-number"><span class="hljs-number">997</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.84</span></span> Run <span class="hljs-number"><span class="hljs-number">998</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.87</span></span> Run <span class="hljs-number"><span class="hljs-number">999</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.84</span></span> Run <span class="hljs-number"><span class="hljs-number">1000</span></span>: <span class="hljs-type"><span class="hljs-type">Time</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds)= <span class="hljs-number"><span class="hljs-number">.85</span></span> PL/<span class="hljs-keyword"><span class="hljs-keyword">SQL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">procedure</span></span> successfully completed. Elapsed: <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">06</span></span>:<span class="hljs-number"><span class="hljs-number">00.49</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SQL</span></span>&gt; <span class="hljs-keyword"><span class="hljs-keyword">SQL</span></span>&gt; <span class="hljs-keyword"><span class="hljs-keyword">declare</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">procedure</span></span> check_key <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> x <span class="hljs-type"><span class="hljs-type">integer</span></span>; <span class="hljs-number"><span class="hljs-number">5</span></span> n_id <span class="hljs-type"><span class="hljs-type">integer</span></span>; <span class="hljs-number"><span class="hljs-number">6</span></span> s_vc varchar2(<span class="hljs-number"><span class="hljs-number">255</span></span>); <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> x := <span class="hljs-number"><span class="hljs-number">42</span></span> * <span class="hljs-number"><span class="hljs-number">3</span></span>; <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> id <span class="hljs-number"><span class="hljs-number">11</span></span> , vc <span class="hljs-number"><span class="hljs-number">12</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> <span class="hljs-number"><span class="hljs-number">13</span></span> n_id <span class="hljs-number"><span class="hljs-number">14</span></span> , s_vc <span class="hljs-number"><span class="hljs-number">15</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-number"><span class="hljs-number">16</span></span> t_testloop <span class="hljs-number"><span class="hljs-number">17</span></span> <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> <span class="hljs-number"><span class="hljs-number">18</span></span> id = x; <span class="hljs-number"><span class="hljs-number">19</span></span> <span class="hljs-keyword"><span class="hljs-keyword">exception</span></span> <span class="hljs-number"><span class="hljs-number">20</span></span> <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> <span class="hljs-built_in"><span class="hljs-built_in">NO_DATA_FOUND</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-number"><span class="hljs-number">21</span></span> <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-number"><span class="hljs-number">22</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; <span class="hljs-number"><span class="hljs-number">23</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">1.</span></span><span class="hljs-number"><span class="hljs-number">.1000</span></span> <span class="hljs-keyword"><span class="hljs-keyword">loop</span></span> <span class="hljs-number"><span class="hljs-number">25</span></span> check_key; <span class="hljs-number"><span class="hljs-number">26</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">loop</span></span>; <span class="hljs-number"><span class="hljs-number">27</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; <span class="hljs-number"><span class="hljs-number">28</span></span> / PL/<span class="hljs-keyword"><span class="hljs-keyword">SQL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">procedure</span></span> successfully completed. Elapsed: <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">03.02</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SQL</span></span>&gt;</code> </pre><br><br>  Note;  after a certain number of iterations, the execution of commands slows down more and more.  What is even more interesting is that a simple loop of 1,000 SQL queries then takes significantly more time to execute than before the execution of this block of code began. <br><br>  You may want to watch the PGA / UGA consumption while collecting statistics or when running V $ PROCESS and V $ TEMPORARY_LOBS while executing this block of code. <br><br>  If you run the same operations in version 10.2.0.4, you will see the same signs of a problem, but the execution time will remain stable for at least 1,000 iterations.  It is clear that the moment will come when the system will experience difficulties with an ever-increasing amount of memory consumed, but this has nothing to do with our problem. <br><br>  If the call to DBMS_XMLDOM.FREEDOCUMENT is performed correctly, the same part of the code in 11.1.0.7 and 11.2.0.1 will ensure a stable process execution time (there will not be an increased consumption of PGA / UGA memory or temporary LOB). <br><br>  <a href="http://nigelnoble.wordpress.com/">Nigel Noble</a> also recently posted <a href="http://nigelnoble.wordpress.com/2010/05/11/11-1-0-7-poor-plsql-array-performance/">a blog post</a> about PL / SQL memory problems that only appear in version 11.1.0.7, but not found in version 10.2.0.4. <br><br>  Although the problems pointed to by Alex Fatkulin and Nigel Noble do not necessarily relate to the problem described here, this still indicates that the release of Oracle version 11 introduces some changes in memory management (perhaps because of implementations of the AMM automatic memory management function or the memory_target parameter), which behave differently than in previous versions under certain conditions. <br><br>  On March 24, a <a href="http://www.luxoft-training.ru/master-class/geist/%3Futm_source%3Dhabrahabr%26utm_medium%3Dblogpost%26utm_campaign%3Dgeist">master class of</a> Randolph Gaist will be held in Moscow, dedicated to solving the performance problems of the Oracle database. </div><p>Source: <a href="https://habr.com/ru/post/275901/">https://habr.com/ru/post/275901/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../275889/index.html">Exchange Sorting Network with Batcher Merge</a></li>
<li><a href="../275891/index.html">The book "Creating microservices"</a></li>
<li><a href="../275895/index.html">Can Kingdom and Reliable Systems</a></li>
<li><a href="../275897/index.html">Top your questions to our person</a></li>
<li><a href="../275899/index.html">ABAP: Handsome # 2</a></li>
<li><a href="../275905/index.html">How Stripe turned into PayPal Mobile Era</a></li>
<li><a href="../275907/index.html">Project Updates Hosting Cafe</a></li>
<li><a href="../275909/index.html">Ten Popular SEO Myths About Google Promotion</a></li>
<li><a href="../275911/index.html">Swift dictionary implementation</a></li>
<li><a href="../275913/index.html">Patties in distribution semantics</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>