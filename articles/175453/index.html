<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Using design patterns in javaScript: Spawning patterns</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Habr! 
 I was surprised to find the absence of a detailed article on the subject on Habr√©, which immediately led me to correct this blatant injust...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Using design patterns in javaScript: Spawning patterns</h1><div class="post__text post__text-html js-mediator-article">  Hi, Habr! <br>  I was surprised to find the absence of a detailed article on the subject on Habr√©, which immediately led me to correct this blatant injustice. <br><img align="right" src="https://habrastorage.org/storage2/027/a5b/9ba/027a5b9ba9ebee4644e29221a052b520.png"><br>  In conditions when the client part of web applications is becoming increasingly thick, business logic inexorably creeps onto the client, and the sovereignty of server technologies more and more easily encroaches on node.js one cannot but reflect on the design techniques of javaScript architecture.  And in this case, we certainly should be helped by design patterns ‚Äî the template methods for solving common problems.  Patterns help build an architecture that requires you to make the least effort to make changes.  But you should not take them as a panacea, that is, roughly speaking, if the quality of the code is not a fountain, it teems with hardcode and a hard link between logically independent modules, then no patterns will save it.  But if the task is to design a scalable architecture, the patterns can be a good help. <br>  But however, this article is not about the design patterns as such, but about their use in javaScript.  In the first part of this article, I will write about the application of generating patterns. <br><a name="habracut"></a><br><br><h4>  Singleton </h4><br>  If the task was to describe this pattern in one phrase, it would have turned out to be approximately the following: Singleton is a class that can have only one instance. <br>  The simplest and most obvious solution in javaScript for implementing this pattern is to use objects: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> app = { <span class="hljs-attr"><span class="hljs-attr">property1</span></span>: <span class="hljs-string"><span class="hljs-string">'value'</span></span>, <span class="hljs-attr"><span class="hljs-attr">property2</span></span>: <span class="hljs-string"><span class="hljs-string">'value'</span></span>, ... method1: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ ... }, ... }</code> </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      This method has its advantages and disadvantages.  It is easy to describe, many use it without knowing the existence of any patterns, and this form of writing will be understandable to any javaScript developer.  But it also has a significant drawback: the main purpose of the singleton pattern is to provide access to the object without using global variables, and this method provides access to the app variable only in the current scope.  This means that we can access the app object from anywhere in the application only if it is global.  Most often this is extremely unacceptable, a good style of development in javaScript is to use a maximum of one global variable in which everything necessary is encapsulated.  This means that we can use the above approach a maximum of once per application. <br>  The second method is a bit more complicated, but it is more versatile: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SomeFunction</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> (SomeFunction.instance) == <span class="hljs-string"><span class="hljs-string">'object'</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> SomeFunction.instance; } <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.property1 = <span class="hljs-string"><span class="hljs-string">'value'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.property2 = <span class="hljs-string"><span class="hljs-string">'value'</span></span>; SomeFunction.instance = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } SomeFunction.prototype.method1 = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ }</code> </pre><br><br>  Now, using any modular system (for example, requirejs), we can connect a file with the description of this constructor function anywhere in our application and access our object by running: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> someObj = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SomeFunction ();</code> </pre><br><br>  But this method also has its drawback: the instance is stored simply as a static property of the constructor, which allows anyone to overwrite it.  We want so that under any circumstances we can get access from any corner of our application to the required object.  This means that the variable in which we save the instance should be made private, and the closure will help us in this. <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SomeFunction</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> instance; SomeFunction = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> instance; } <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.property1 = <span class="hljs-string"><span class="hljs-string">'value'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.property2 = <span class="hljs-string"><span class="hljs-string">'value'</span></span>; instance = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; }</code> </pre><br><br>  It would seem that this is the solution to all problems, but new ones are taking the place of old problems.  Namely: all the properties listed in the prototype of the designer after the creation of the instance will not be available, because  in essence, they will be written into the old constructor, and not into a freshly defined one.  But there is a decent way out of this situation: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SomeFunction</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> instance; SomeFunction = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> instance; } SomeFunction.prototype = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; instance = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SomeFunction (); instance.constructor = SomeFunction; instance.property1 = <span class="hljs-string"><span class="hljs-string">'value'</span></span>; instance.property2 = <span class="hljs-string"><span class="hljs-string">'value'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> instance; }</code> </pre><br><br>  This way of describing loners is devoid of all the above disadvantages and is quite suitable for universal use, however, the methods of describing loners using closures will not work with requirejs, but if you modify them a little and take the variable out of the closure created by the function itself to the function used in define, then the problem will be solved: <br><br><pre> <code class="javascript hljs">define([], <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> instance = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SomeFunction</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (instance) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> instance; } <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.property1 = <span class="hljs-string"><span class="hljs-string">'value'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.property2 = <span class="hljs-string"><span class="hljs-string">'value'</span></span>; instance = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; }; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> SomeFunction; });</code> </pre><br><br><h4>  Factory method </h4><br>  The factory method has two main goals: <br>  1) Do not use explicitly specific classes. <br>  2) Merge commonly used object initialization methods together. <br>  The simplest implementation of the factory method is an example: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Foo</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//... } function Bar () { //... } function factory (type) { switch (type) { case 'foo': return new Foo(); case 'bar': return new Bar(); } }</span></span></code> </pre><br><br>  Accordingly, the creation of objects will look like this: <br><br><pre> <code class="javascript hljs">foo = factory(<span class="hljs-string"><span class="hljs-string">'foo'</span></span>); bar = factory(<span class="hljs-string"><span class="hljs-string">'bar'</span></span>);</code> </pre><br><br>  You can use a more elegant solution: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PetFactory</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ }; PetFactory.register = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">name, PetConstructor</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (name <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Function</span></span>) { PetConstructor = name; name = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!(PetConstructor <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Function</span></span>)) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'Error'</span></span>, <span class="hljs-attr"><span class="hljs-attr">message</span></span>: <span class="hljs-string"><span class="hljs-string">'PetConstructor is not function'</span></span> } } <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>[name || PetConstructor.name] = PetConstructor; }; PetFactory.create = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">petName</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> PetConstructor = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>[petName]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!(PetConstructor <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Function</span></span>)) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'Error'</span></span>, <span class="hljs-attr"><span class="hljs-attr">message</span></span>: <span class="hljs-string"><span class="hljs-string">'constructor "'</span></span> + petName + <span class="hljs-string"><span class="hljs-string">'" undefined'</span></span> } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PetConstructor(); };</code> </pre><br><br>  In this case, we do not limit ourselves to the number of classes that a factory can generate; we can add as many as you like this way: <br><br><pre> <code class="javascript hljs">PetFactory.register(<span class="hljs-string"><span class="hljs-string">'dog'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.say = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'gav'</span></span>); } });</code> </pre><br><br>  Well, or so: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Cat</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ } Cat.prototype.say = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'meow'</span></span>); } PetFactory.register(Cat);</code> </pre><br><br><h4>  Abstract Factory </h4><br>  An abstract factory is used to create a group of interrelated or interdependent objects. <br>  Suppose we have several pop-up windows, which consist of identical elements, but these elements look differently and react differently to user actions.  Each of these elements will be created by the factory method, which means that each type of pop-up windows needs its own factory of objects. <br>  For example, let's describe the BluePopupFactory factory, it has the exact same structure as PetFactory, so we‚Äôll skip the details and just use it. <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">BluePopup</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//   } BluePopup.prototype.attach = function (elemens) { //  ui-   } BluePopupFactory.register('popup', BluePopup); function BluePopupButton () { //      } BluePopupButton.prototype.setText = function (text) { //    } BluePopupFactory.register('button', BluePopupButton); function BluePopupTitle () { //     } BluePopupTitle.prototype.setText = function (text) { //   } BluePopupFactory.register('title', BluePopupTitle);</span></span></code> </pre><br><br>  Probably we should have a certain class responsible for the interface elements. <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">UI</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//,   ui- }</span></span></code> </pre><br><br>  And we will add the createPopup method to it: <br><br><pre> <code class="javascript hljs">UI.createPopup = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">factory</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> popup = factory.create(<span class="hljs-string"><span class="hljs-string">'popup'</span></span>), buttonOk = factory.create(<span class="hljs-string"><span class="hljs-string">'button'</span></span>), buttonCancel = factory.create(<span class="hljs-string"><span class="hljs-string">'button'</span></span>), title = factory.create(<span class="hljs-string"><span class="hljs-string">'title'</span></span>); buttonOk.setText(<span class="hljs-string"><span class="hljs-string">'OK'</span></span>); buttonCancel.setText(<span class="hljs-string"><span class="hljs-string">'Cancel'</span></span>); title.setText(<span class="hljs-string"><span class="hljs-string">'Untitled'</span></span>); popup.attach([buttonOk, buttonCancel, title]); }</code> </pre><br><br>  As you can see, createPopup takes a factory argument, creates a popup window and buttons with a title for it, and then attaches them to the window. <br>  After that you can use this method like this: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> newPopup = UI.createPopup(BluePopupFactory);</code> </pre><br><br>  Accordingly, it is possible to describe an unlimited number of factories and transfer the necessary one when creating the next pop-up window. </div><p>Source: <a href="https://habr.com/ru/post/175453/">https://habr.com/ru/post/175453/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../175439/index.html">Mail.Ru rating: visits in reports</a></li>
<li><a href="../175445/index.html">Intel provides new opportunities for game developers</a></li>
<li><a href="../175447/index.html">The largest Bitcoin exchange Mt. Gox under DDoS attack - owners suspect that attackers want to provoke panic</a></li>
<li><a href="../175449/index.html">How to tie a BitTorrent tracker to a Python site: integration with XBT Tracker</a></li>
<li><a href="../175451/index.html">GPS monitoring auto or homework for the evening</a></li>
<li><a href="../175457/index.html">Admin in 10 minutes</a></li>
<li><a href="../175459/index.html">Data migration from MySQL to PostgreSQL</a></li>
<li><a href="../175461/index.html">How it works: CAPTCHA</a></li>
<li><a href="../175465/index.html">M in MVC: why models are misunderstood and undervalued (translation)</a></li>
<li><a href="../175467/index.html">Intel plans for the release of new processors in 2013</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>