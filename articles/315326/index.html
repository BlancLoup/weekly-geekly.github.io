<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>In simple words: how machine learning works</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recently, all technology companies have been telling about machine learning. They say that it solves so many problems that previously only people coul...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>In simple words: how machine learning works</h1><div class="post__text post__text-html js-mediator-article">  Recently, all technology companies have been telling about machine learning.  They say that it solves so many problems that previously only people could solve.  But how exactly it works, no one tells.  And even someone, to be honest, machine learning calls artificial intelligence. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/06d/5a4/3de/06d5a43de3a743a89328582bc52cbb46.jpg"></div><br>  As usual, there is no magic here, all technologies alone.  And once technology, it is easy to explain all this in human language, which we will now do.  The task we will solve the real.  And the algorithm will describe the real, falling under the definition of machine learning.  The complexity of this algorithm is toy - but the conclusions it allows to make the real ones. <br><a name="habracut"></a><br><h3>  Task: to distinguish meaningful text from rubbish </h3><br>  The text that real people write looks like this: <br><br><ul><li>  I can create, I can do it! </li><li>  I have two drawbacks: bad memory and something else. </li><li>  No one knows as much as I do not know. </li></ul><br>  Slaberda looks like this: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  ORPoryav AOROyor ORORAydtsutszushkkgeubyvyivdtsulvdloaduztsch </li><li>  Ytskhya dvolopolopoltsy yadoltslopioly bamdlotdlamda </li></ul><br>  Our task is to develop an algorithm for machine learning, which would distinguish one from the other.  And since we are talking about this in relation to anti-virus topics, we will call the meaningful text ‚Äúpure‚Äù, and the rubbish - ‚Äúmalicious‚Äù.  This is not just some kind of thought experiment, a similar task is actually solved when analyzing real files in a real antivirus. <br><br>  For a person, the task seems trivial, because you can immediately see where it is clean and where it is malicious, but formalizing the difference or, moreover, explaining it to a computer is already more difficult.  We use machine learning: first, we will give examples of the algorithm, he will ‚Äúlearn‚Äù them, and then he will correctly answer where that is. <br><br><h3>  Algorithm </h3><br>  Our algorithm will consider how often in a normal text one particular letter follows another specific letter.  And so for each pair of letters.  For example, for the first pure phrase - ‚ÄúI can create, I can do it!‚Äù - the distribution will turn out like this: <br><br><table><tbody><tr><td width="208">  at 1 </td><td width="208">  mo 2 </td><td width="208">  pu 2 </td></tr><tr><td width="208">  at 2 </td><td width="208">  on 1 </td><td width="208">  tv 2 </td></tr><tr><td width="208">  gu 2 </td><td width="208">  og 2 </td><td width="208">  m 2 </td></tr><tr><td width="208">  IT 2 </td><td width="208">  op 2 </td><td width="208"></td></tr></tbody></table><br>  What happened: the letter o is followed by the letter o - twice, - and the letter a is followed by the letter t - once.  For simplicity, we do not consider punctuation and spaces. <br><br>  At this stage, we understand that one phrase is not enough for teaching our model: there are not enough combinations, and the difference between the frequency of occurrence of different combinations is not so great.  Therefore, it is necessary to take some substantially larger amount of data.  For example, let's calculate the combinations of letters found in the first volume of "War and Peace": <br><br><table><tbody><tr><td width="208">  then 8411 </td><td width="208">  at 6236 </td><td width="208">  at 6236 </td></tr><tr><td width="208">  st 6591 </td><td width="208">  not 5199 </td><td width="208">  ou 31 </td></tr><tr><td width="208">  at 6236 </td><td width="208">  on 5174 </td><td width="208">  mb 2 </td></tr><tr><td width="208">  ou 31 </td><td width="208">  en 4211 </td><td width="208">  tzh 1 </td></tr></tbody></table><br>  Of course, this is not the entire table of combinations, but only a small part of it.  It turns out that the probability of meeting ‚Äúthat‚Äù is twice as high as ‚Äúen‚Äù.  And so that the letter T should be well - this occurs only once, in the word "obsolete." <br><br>  Great, we now have a ‚Äúmodel‚Äù of the Russian language, how can we use it?  To determine how likely the string we are examining is clean or harmful, let's calculate its ‚Äúplausibility‚Äù.  We will take each pair of letters from this line, determine its frequency (in fact, the realism of the letter combination) using the ‚Äúmodel‚Äù and multiply these numbers: <br><br><blockquote>  F ( <strong>mo</strong> ) * F ( <strong>og</strong> ) * F ( <strong>gu</strong> ) * F ( <strong>tv</strong> ) * ... = 2131 * 2943 * 474 * 1344 * ... = plausibility </blockquote><br>  Also in the final value of the credibility should take into account the number of characters in the line under study - because the longer it was, the more numbers we multiplied.  Therefore, from the work we extract the root of the desired degree (the length of the string minus one). <br><br><h3>  Using the model </h3><br>  Now we can draw conclusions: the larger the resulting number, the more likely the line under study falls into our model.  Therefore, the more likely it is that the person wrote it, that is, it is <em>clean</em> . <br><br>  If, however, the line under investigation contains a suspiciously large number of extremely rare combinations of letters (for example, , tzh, , and so on), then, most likely, it is artificial - <em>malicious</em> . <br><br>  For the lines above, the plausibility is as follows: <br><br><ul><li>  I can create, I can do it!  - 1805 points </li><li>  I have two drawbacks: bad memory and something else.  - 1535 points </li><li>  No one knows as much as I do not know.  - 2274 points </li><li>  ORPoryav ORIOROydtsutszushkkgeubyvyyivdtsulvdloaduztsch AoryOR - 44 points </li><li>  Ytskhya dvolopolopoltsy yadoltslopioly bamdlotdlamda - 149 points </li></ul><br>  As you can see, <em>clean</em> lines are plausible for 1000-2000 points, and <em>malicious ones</em> do not reach even 150 points. That is, everything works as intended. <br><br>  In order not to guess what ‚Äúa lot‚Äù is and what is ‚Äúnot enough‚Äù, it is better to entrust the definition of the threshold value to the machine itself (let it be trained).  To do this, we feed it a certain number of blank lines and calculate their plausibility, and then we feed a few malicious lines - and we also calculate.  And we calculate some value in the middle, which will be best separated from one another.  In our case, we get something in the region of 500. <br><br><h3>  In real life </h3><br>  Let's make sense of what happened with us. <br><br>  1. We have identified the signs of blank lines, namely pairs of characters. <br><br>  In real life, when developing a real antivirus, they also extract signs from files or other objects.  And this, by the way, is the most important step: the quality of distinguished features directly depends on the level of expertise and experience of researchers.  To understand what is really important is still a human task.  For example, who said that you need to use pairs of characters, not triples?  Such hypotheses are precisely tested in the antivirus laboratory.  I note that we also use machine learning to select the best and complementary features. <br><br>  2. Based on the selected features, we built a mathematical model and taught it with examples. <br><br>  Of course, in real life, we use models a little more complicated.  Now the best results are shown by the ensemble of decisive trees, built using the <a href="https://en.wikipedia.org/wiki/Gradient_boosting">Gradient boosting</a> method, but striving for perfection does not allow us to calm down. <br><br>  3. Based on the mathematical model, we calculated the rating of "plausibility". <br><br>  In real life, we usually consider the opposite rating - rating of harmfulness.  The difference would seem insignificant, but guess how implausible for our mathematical model does the string appear in another language - or with a different alphabet? <br>  Anti-Virus does not have the right to allow false positives on a whole class of files only for the reason that ‚Äúwe did not pass it‚Äù. <br><br><h3>  Alternative to machine learning </h3><br>  Twenty years ago, when there were few malware, every ‚Äúrubbish‚Äù could be easily spotted with the help of signatures - characteristic passages.  For the examples above, the ‚Äúsignatures‚Äù might be: <br><br>  ORPoryav ayoryorpyor Ororadyutsts <strong>zushkkgeu</strong> byvyyvdtsulvdloaduztsch <br>  Ytskhya dvolopolopoltsy yadoltslopioly bam <strong>Dlotdlamd</strong> a <br><br>  The anti-virus scans the file if it met ‚Äú <strong>zushgkgeu</strong> ‚Äù, says: ‚ÄúWell, of course, this is rubbish number 17‚Äù.  And if he finds " <strong>Dlotdlamd</strong> " - then "rubbish number 139". <br><br>  15 years ago, when there was a lot of malware, the ‚Äúgeneric‚Äù -detection became prevail.  The virus analyst writes rules that are characteristic of meaningful strings: <br><br><ol><li>  Word length is from one to twenty characters. </li><li>  Capital letters are very rarely found in the middle of a word, numbers too. </li><li>  Vowels are usually more or less evenly interspersed with consonants. </li><li>  And so on.  If many criteria are violated, we detect this line as malicious. </li></ol><br>  Essentially, this is about the same thing, only instead of the mathematical model in this case, the set of rules that the analyst must manually write.  It works well, but takes time. <br><br>  And 10 years ago, when there were just a lot of malware, machine learning algorithms began to be timidly implemented.  At first, they were comparable in complexity to the simplest example described by us, but we actively hired specialists and increased our level of expertise. <br><br>  No normal antivirus works without machine learning now.  If we evaluate the contribution to the protection of users, then methods based on machine learning on static grounds can compete except methods based on behavioral analysis.  But only in the analysis of behavior machine learning is also used.  In general, without him already anywhere. <br><br><h3>  disadvantages </h3><br>  The advantages are clear, but is it really a silver bullet, you ask.  Not really.  This method works well if the algorithm described above works in the cloud or in infrastructure, constantly learning from huge numbers of both <em>clean</em> and <em>malicious</em> objects. <br><br>  It is also very good if the team of experts oversees the learning outcomes, intervening in cases where an experienced person is not enough. <br><br>  In this case, there are really a few shortcomings, and by and large only one - this expensive infrastructure and a no less expensive team of specialists are needed. <br><br>  Another thing is when someone tries to save radically and use only a mathematical model and only on the product side, right at the client.  Then difficulties can begin. <br><br>  1. False alarms. <br><br>  Machine learning based detection is always a search for a balance between the level of detection and the level of false positives.  And if we want to detect more, then there will be false positives.  In the case of machine learning, they will occur in unpredictable and often difficult to explain places.  For example, this clean line - ‚ÄúMtsyri and Mkrtchyan‚Äù - is recognized as implausible: 145 points in the model from our example.  Therefore, it is very important that the anti-virus laboratory has an extensive collection of clean files for training and model testing. <br><br>  2. Bypassing the model. <br><br>  An attacker can disassemble such a product and see how the model works.  He is a man and for now, if not smarter, then at least more creative than a car - therefore he will tune it.  For example, the following line is considered to be clean (1200 points), although its first half is clearly malicious: ‚Äúwell-drawn trailers) Add a lot of meaningful text to the end in order to trick the car‚Äù.  No matter how clever the algorithm is used, it can always be bypassed by a person (smart enough).  Therefore, the anti-virus laboratory must have an advanced infrastructure for a quick response to new threats. <br><br><img src="https://habrastorage.org/files/5b4/c07/00e/5b4c0700e6dc4bfb97c9b6c633dbf006.jpg"><br><p>  <em>One example of a workaround for the method we described above: all the words look believable, but in fact this is nonsense.</em>  <em><a href="https://writingisfun-damental.com/tag/gibberish-ryan-leslie/">Source of</a></em> </p><br>  3. Update the model. <br><br>  Using the algorithm described above as an example, we mentioned that a model trained in Russian texts would be unsuitable for analyzing texts with a different alphabet.  And malicious files, taking into account the creativity of intruders (see the previous paragraph), are like a gradually evolving alphabet.  The threat landscape is changing pretty quickly.  Over the years of research, we have developed an optimal approach to gradually updating the model right in antivirus databases.  This allows you to retrain and even completely retrain the model "on the job." <br><br><h3>  Conclusion </h3><br>  So. <br><br><ol><li>  We reviewed the real problem. </li><li>  Developed a real machine learning algorithm to solve it. </li><li>  Parallels with the antivirus industry. </li><li>  Considered with examples of the advantages and disadvantages of this approach. </li></ol><br>  Despite the enormous importance of machine learning in the field of cybersecurity, we at Kaspersky Lab understand that a multi-level approach provides the best cyber defense. <br><br>  Everything in antivirus should be fine - and behavioral analysis, and cloud protection, and machine learning algorithms, and much more.  But about this ‚Äúmany other things‚Äù - next time. </div><p>Source: <a href="https://habr.com/ru/post/315326/">https://habr.com/ru/post/315326/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../315314/index.html">Questions and answers about communication and technology in space. Part 2</a></li>
<li><a href="../315316/index.html">‚ÄúMy Hyper Convergent Friend‚Äù: HPE New Boxed Solution</a></li>
<li><a href="../315318/index.html">ICQ: 20 years is not the limit</a></li>
<li><a href="../315320/index.html">How IT professionals work. Igor Sysoev - Founder and Service Station in Nginx</a></li>
<li><a href="../315324/index.html">Digital Transformation 2016</a></li>
<li><a href="../315328/index.html">How to determine hot leads in 3 steps to make a sale and why 95% of companies do not know how</a></li>
<li><a href="../315330/index.html">Developer: Airbag</a></li>
<li><a href="../315332/index.html">How to lose a few million, working incomprehensibly with whom</a></li>
<li><a href="../315334/index.html">A bit about Windows VM disk performance in Proxmox VE. Results of ZFS and MDADM + LVM benchmarks</a></li>
<li><a href="../315336/index.html">Why companies with well-described business processes are doomed to extinction</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>