<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Come down from heaven: let's just count?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The question "should I use the cloud or not?" But today we will approach it from the other side: we will just think and consider when it is better to ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Come down from heaven: let's just count?</h1><div class="post__text post__text-html js-mediator-article">  The question "should I use the cloud or not?"  But today we will approach it from the other side: we will just think and consider when it is better to rent the server.  We decided to write about it today, as such ‚Äúassessments‚Äù are increasingly being done with customers, so let the work done become public knowledge. <br><br><img src="https://habrastorage.org/web/7ac/965/fa9/7ac965fa956b4026add9b332ab11b866.png"><br><a name="habracut"></a><br>  Cloud services in one way or another have penetrated our everyday life - these are file storages with access to any devices that have an Internet connection, and cloud office applications that make it easy to collaborate on documents, and public services, and access to your bank account , and much more.  This is clear evidence that private, public, and hybrid clouds have covered, if not most, then a significant number of commercial and private data center sites.  As various studies show, this trend will only gain momentum, and therefore the option of renting power is increasingly looking like a worthy alternative.  But is he really to her? <br><br><h3>  How much to hang in grams? </h3><br>  Thinking about cloud services to optimize business processes, we must not forget that modern technologies are not standing still: processor performance, memory capacity, SSD capacity is complemented by software-defined solutions and modern software platforms, from operating systems to application services often provide us with very wide opportunities.  So wide that it is not always possible for them to find a rational ratio of the money spent and the return obtained.  This situation is similar, both for an existing business and for a startup.  In the first case, questions arise when the existing IT infrastructure grows or becomes physically degraded; in the second case, the problem is that it is very difficult to determine the ‚Äúconfiguration for the beginning‚Äù. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/web/124/df5/b7d/124df5b7dafb48fba5ba8b4cd985a282.png"><br><br>  Many decide to go the beaten paths and invest in hardware, software, places in racks, engineers, in general - all, as they used to.  And this is not surprising, because the IT development strategy, both in big business and in government structures, is usually left to the relevant departments, which ‚Äúdo not need all these clouds‚Äù for nothing.  But over the past decade, significant progress has been made in Russia in terms of developing broadband access over a large territory of our vast country, and active work in this direction continues (at least, according to assurances from the Ministry of Communications and Mass Media).  In addition, there are two other factors that can lead, if not to explosive, then at least quite rapid growth in cloud demand: <br><br><ul><li>  Weak frames.  Competent IT-personnel and the strongest personnel are washed out in the metropolitan regions, and also leave abroad.  This situation will push local authorities to get rid of IT burdens in the form of incapable employees. <br><br></li><li>  Requirements and regulations.  But the cloud platforms fully comply with the regulatory legislation, primarily in the context of personal data protection.  The implementation of legal requirements, both for business and for government departments, is an additional headache that can lead to a number of unpleasant consequences.  I want it to be initially eliminated. </li></ul><br>  With regard to the available solutions, in the Russian Federation to create a computing infrastructure in the cloud, the most widely used are VMware products, variations based on Openstack and Microsoft services.  Any of these categories has an extensive toolkit that allows you to create all kinds of cloud solutions, in addition, in each product family, extended functionality is available to go beyond IaaS.  Due to the possibility of creating hybrid clouds other than public, the listed platforms are easily adapted to fit the legislative framework of the Russian Federation.  But each time a question arises: what risks can a cloud system cause, and how much will it actually cost? <br><br><h3>  Calculation example </h3><br>  As an example, let's try to consider a typical scenario of using a cloud solution.  For example, the company requires the introduction of a new IP, which forms the business analytics on the basis of already existing databases.  As a result, the impact on already operated subsystems should be minimal.  They (subsystems) are not immutable, which implies episodic adaptation of procedures for uploading data to a warehouse, refactoring reports, conducting a load test cycle and translating the adapted information system into a productive state. <br><br>  Thus, the introduction of a new IC implies the presence of three circuits - productive, pre-productive (load testing and a standby server for productive) - a configuration close to productive, test.  Estimated indicators for resource requirements show the need for three servers with configuration 2 CPU class E5-2640v3, RAM 64GB, about 2-3 TB of capacity, preferably on fast drives (for example, 12 SAS disks of 15k rpm with 600GB, and better - SSD) .  The monthly reporting cycle, respectively, during the month mainly requires access to the already generated reports. <br><br>  The nature of the data stored in the systems is commercial information, personal data may be present.  Based on this, it is obvious that two servers ‚Äî productive and pre-productive ‚Äî are bad candidates for hosting in the cloud, at least in public.  But the test server, subject to the use of the data anonymization mechanism, is the very option when the cloud can be used. <br><br>  Suppose that the existing infrastructure no longer has the resources to host it, for example, to activate the existing test loop, you will need to increase the storage capacity and purchase an additional server for expanding the virtualization farm.  Often at the same time free ports are exhausted in the SAN network and much more investment is required.  But even the server budget in this configuration with a three-year support will be about $ 30,000 (if we talk about the HPE DL380 G9, although you can take something cheaper and limit yourself to $ 15,000). <br><br>  What does the cloud offer us?  Since the type of loading of test resources is episodic, the placement with the pay-as-you-go payment scheme is of interest, i.e.  on actually consumed resources.  At the stage of IP implementation, the test environment is used intensively for three months, which is approximately 8 hours x 24 days x 3 = 576 hours, later, the test system is used every two months for 40 hours, that is, for the first year we get 576 + 160 hours, for the next two, 240 hours a year. <br><br>  Unfortunately, online calculators with this payment scheme are available for services that do not officially work on our market - these are Amazon and Google.  But to make a rough estimate, you can focus on them. <br><br><h4>  So, we take VM with the profile m4.4xlarge in Amazon AWS EC2: </h4><br>  vCPU - 16. <br>  ECU - 53.5. <br>  Memory (GiB) - 64. <br>  Instance Store (GB) - EBS. <br>  Using Linux / UNIX - $ 0.96 per hour. <br><br><h4>  The result is the following calculation: </h4><br>  1st year $ 0.96 * (576 + 160) = $ 706.56. <br>  The second year is $ 0.96 * 240 = $ 230.4. <br>  3rd year $ 230.4. <br><br>  As for the storage system, we take EBS.  For example, take Amazon EBS General Purpose SSD (gp2) at $ 0.119 per GB-month of dedicated storage.  For disk space, calculations are somewhat different, since the VM will be used only during business hours, and the disk space will have to be reserved for the entire period of VM operation.  Thus, we get 24 hours x 30 days x 3 = 2160 hours for implementation and 480 hours support in the first year, as well as 720 hours for support in the following years.  After each cycle of work, the data disk is released and you can no longer pay for its rent. <br><br><h4>  Total disk subsystem we get: </h4><br>  The first year is $ 0.119 * 3000 * 2160 / (24 * 90) + $ 0.119 * 3000 * 480 / (24 * 120) = $ 1309. <br>  The second year is $ 0.119 * 3000 * 720 / (24 * 180) = $ 357. <br>  3rd year $ 357. <br><br><h4>  The total amount for the entire rental reaches the following figures: </h4><br>  1st year 706.56 + 1309 = $ 2015.56. <br>  2nd year 230.4 + 357 = $ 587.4. <br>  3rd year $ 587.4. <br><br>  It turns out that we will pay $ 3,190.36 for three years.  Well, let them have to take these services from other providers, so round up the amount to $ 5000.  It may also be necessary to use snapshots or the VM operation time will be higher, but the cost of the new server will be problematic to achieve even with the most pessimistic forecast. <br><br><h3>  Conclusion </h3><br>  Yes, the assessment was made fairly rough, in fact, ‚Äúfor a spherical horse in a vacuum,‚Äù but it still makes it possible to conclude that it makes sense to consider public clouds to solve at least secondary tasks.  If there is a need to allocate additional resources for test projects and development, the creation of services from scratch, when the equipment is already ‚Äúbreathing its last,‚Äù in most scenarios that require the purchase of new equipment, it would be reasonable to look first at the clouds. <br><br>  Moreover, since cloud solutions are essentially extraterritorial, any services are available, including such ‚Äúmonsters‚Äù like Microsoft or VMware, which provide tools for building cloud platforms and their own ready-made cloud products.  Services of such world leaders of cloud solutions as Amazon and Google are less in demand by domestic business, which is due to their policy of promoting services in Russia (or rather, its absence).  But on the other hand, they have convenient calculators, and no one forbids their use by advanced teams or individuals in the field of software development.  For the majority, numerous Russian platforms will be relevant, which will be happy to provide their version of such a calculation upon request, completely free of charge.  So do not hesitate to consider and ask - it may be that today the cloud will be cheaper, more convenient and more reliable than an overloaded infrastructure, if we talk about development and testing tasks. </div><p>Source: <a href="https://habr.com/ru/post/333976/">https://habr.com/ru/post/333976/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../333958/index.html">Routing incoming calls to 3CX depending on the time of day</a></li>
<li><a href="../333962/index.html">‚ÄúKnow yourself‚Äù: social media mining-projects at ITMO University</a></li>
<li><a href="../333966/index.html">When in Russia to wait for 5G</a></li>
<li><a href="../333970/index.html">Choosing the right HPE Aruba switch for your small or medium business network</a></li>
<li><a href="../333972/index.html">How and why to hide phone numbers</a></li>
<li><a href="../333978/index.html">We attack DHCP</a></li>
<li><a href="../333980/index.html">Take care of your points or how to resist fraud in loyalty programs</a></li>
<li><a href="../333982/index.html">Hummingbirds for Phantom</a></li>
<li><a href="../333984/index.html">Found new version of the program. Install?</a></li>
<li><a href="../333986/index.html">Why we chose TypeScript: the history of developers from Reddit</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>