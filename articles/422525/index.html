<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>"The matrix of friendship." The oldest social graph for the smallest</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It happened on September 1, the next academic year, flowers, candy, tears of happiness, and this is all, and in preparation for the lecture at the ins...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>"The matrix of friendship." The oldest social graph for the smallest</h1><div class="post__text post__text-html js-mediator-article"><p>  It happened on September 1, the next academic year, flowers, candy, tears of happiness, and this is all, and in preparation for the lecture at the institute I came across very interesting <a href="http://www.org-soz.uni-wuppertal.de/fileadmin/soziologie/org-soz/files/Heidler_et_al_2013_Relationship_patterns_in_the_19th_century.gephi">data</a> .  I looked to have such a quick and beautiful <a href="https://github.com/gephi/gephi">draw</a> in <a href="https://github.com/gephi/gephi">GePhi</a> , and came across the story of Johannes Delitzch.  Deliƒá worked in Leipzig as a primary school teacher and in the 1880 academic year he collected information about who is friends with whom in his class.  And this, along the way, is one of the first documented social graphs. </p><br><p><img src="https://habrastorage.org/webt/sw/gf/di/swgfdi6vlj5pwdnamywwswmiacg.jpeg" alt="Johannes Delic"></p><a name="habracut"></a><br><p>  The classes at that time were large (in this particular case there were as many as 53 students), and the old Johannes, as I understood it, until 1880, worked only as a tutor.  So at the beginning of the new school year, after seeing my vast fourth ‚ÄúA‚Äù (I honestly do not know what the letter was there, it‚Äôs not so important), Johannes felt a little sad.  As a man, he, apparently, was active and decided to better understand the social relations of the mob entrusted to him. </p><br><h2 id="dannye">  Data </h2><br><p>  Johannes was not a modern sociologist.  He was a school teacher, so his data collection methodology was pretty, ahem, eclectic.  He talked with the students, and read their homework, and "watched them communicate in a group."  The result was a fairly spreading set of data on the basis of which Delitzsch wrote an article in Zeitschrift f√ºr. </p><br><p>  Kinderforschung (any words in German sound and are written very scary, sorry in advance, but the literal translation of the "Journal for the Study of Children" sounds in Russian even more creepy).  Johannes, as I understood, was primarily interested in how the child's academic performance and his popularity among classmates are related, therefore, in addition to a directed graph describing who is friends with whom, Delitzch also gives a student rating (from the most successful to the most unsuccessful) and some interesting parameters.  For example, there were four repetition years in the class, they are highlighted in dataset.  Back in the class was a guy named Lasch (Lasch), whose grandmother was a pastry chef.  Delitch noted that Lash treats other children with sweets and noted this in his data.  He also separately identified children who had health problems, such as anemia, lameness or developmental delays. </p><br><p><img src="https://habrastorage.org/webt/bb/t0/yq/bbt0yq8ews8nlnuat-coujqzwnq.png" alt="Friendship matrix"><br>  <em>"The Matrix of Friendship" describes who and who is friends.</em>  <em>The graph is directed, because Hans can consider Friedrich a friend, and Friedrich, maybe, he wanted to sneeze on Hans.</em> </p><br><h2 id="luchshie-lyudi-nashego-klassa">  The best people of our class </h2><br><p>  Let's poke this social graph in GePhi, calculate, for example, <a href="http://ilpubs.stanford.edu:8090/422/1/1999-66.pdf">PageRank</a> and color the vertices. </p><br><p><img src="https://habrastorage.org/webt/a1/hm/f9/a1hmf9ctj9hgmyiojsw4c0pcbve.png" alt="PageRankedGraph"><br>  <em>More "influential" students painted in a more saturated color.</em> </p><br><p>  Let's "highlight" seven students with the highest PageRank (I will explain later why it is seven, for now let's just consider seven as a fundamental constant).  That's what happens if you select the seven vertices of the graph, which have the highest PageRank. </p><br><p><img src="https://habrastorage.org/webt/6v/cj/-c/6vcj-cb2jwxauukkooqhb56ooam.png" alt="7"><br>  <em>The opinion leaders of the fourth "A" in 1880.</em> </p><br><p>  We already talked about these guys!  First, all four replica "in the top."  I decided to single out seven people, because one of the four repetition years by the name of Schnabel is not very cool.  It has the seventh PageRank value.  At the same time, Pfeil (Pheil) and Fetter (Vetter) followers confidently (and with a large margin) occupy the first and second line in the ‚Äúauthority‚Äù list, and Schubert, the second yearbook, fourth, second only ‚ÄúLasha‚Äù in ‚Äúauthority‚Äù with the distribution of candy).  Schnabel is only seventh.  Above him in terms of credibility, the best student in the class of Schlegel (Schlegel) and the fifth in terms of academic achievement student Meinhold (Meinhold).  We don‚Äôt know anything about this Meinhold, we didn‚Äôt leave any special information about him, so we‚Äôll denote him in the picture as a "strange guy." </p><br><h2 id="udary-v-buben-i-vychislenie-modularity-class">  Tambourines and modularity class calculation </h2><br><p>  In GePhi there is a tool to find in our fourth "A" group "by interest".  The algorithm is described <a href="https://arxiv.org/pdf/0803.0476.pdf">here</a> , and the implementation used by GePhi is <a href="">here</a> .  The general idea is that the algorithm tries to assess which communities within the network are more dense.  For several passes, the algorithm can give a different breakdown into communities, so everything that comes next is just a rite and beats to a tambourine based on a single result, which does not make the process less fun.  So, these are the colors of our fourth "A" algorithm for searching for communities. </p><br><p><img src="https://habrastorage.org/webt/0r/9t/fw/0r9tfwvfgpas8gfrqfvicn2swh4.png" alt="7"><br>  <em>Tell me who you are friends with, and I will say that you are in vain.</em> </p><br><p>  Let's see what happened.  All of our seven most influential guys fell into four main communities.  Three "cool" repeaters Pfayl, Vetter and Schubert got into the community painted on the picture in green.  "Nekrutoy" repeater year Schnabel and the best student of the class Schlegel were in the community, painted in purple.  Finally, the candy distributor Lash got into the community indicated in the picture by light blue.  Meinhold remains a mystery man.  He got into a small group of "chosen ones", in which there are only three students (including himself), she is painted in dark gray.  Of the four children who had health problems, two are not friends with anyone at all, and the other two are in a blue community. </p><br><p>  Well.  Much is beginning to clear.  Schnabel, apparently, is not such a "cool" replicator, because instead of hanging out with cool guys, he communicates with some nerds with whom friend-boy Schlegel is friends (it is interesting that Schnabel and Schlegel themselves are not friends, but stably fall into one community when calculating network modularity).  Lash and his candy formed a community of guys who are not taken into either the nerds or the bad guys, but Meinhold ... Hmmm ... Who is this Meinhold?  Let's see who else with him "in the crowd."  Two more students who have fallen into the same community with him are Meier (Meier, fourth in the rating of students) and Flush (Flasch, thirty-fifth in the rating of students).  Hmmm ... Three dudes who no longer communicate with anyone, but two of them are learning well ... </p><br><p><img src="https://habrastorage.org/webt/in/cs/ly/incslyaehyz8kbdcz2q9pe8b5qi.png" alt="geeks"><br>  <em>Shot from the movie Superbad.</em> </p><br><p>  In short, I like to think of these three guys as a trinity of geeks from 19th century Germany.  Two study well, and the third one doesn‚Äôt communicate with anyone, just after the lessons of a giant humanoid robot, or krigsmarine, or something worse.  Not the point. </p><br><p>  Let's translate the rating of German schoolchildren in the average grade.  We will generate something similar to the normal distribution on the interval from 2 to 5 (the Germans have an inverse scale of assessments, but we will do everything for our understanding on our usual scale, when 2 is not passed, and 5 is handsome).  Let us compare each student with his average score so that when ranking by this average score would be obtained the same rating as in Delitzch data.  Now let's see what is the average grade of the students in each of these four groups.  And at the same time, how many people on average a friend of each group is friends with, and how many people are on average friendly with him.  It turns out this: </p><br><p><img src="https://habrastorage.org/webt/kg/zw/ox/kgzwoxqznppnyn_zjw1z04l0bz8.png" alt="avg"><br>  <em>The average score and the average in- and out-degree for four groups.</em>  <em>The colors match the coloring of the graph.</em> </p><br><p>  Geeks, on the whole, study well, but they don‚Äôt want to be friends, and no one is going to be friends with them.  Horoshisty from the party Schlegel and Schnabel learn on average worse geeks, but in social terms, they have all the better.  Altruists (as I called the group in which Lash distributed the candy) entered learn lousy, but they are friends with other children most actively (if not mutually).  Finally, the bad guys learn the worst of them all, but they are very popular (they want to be friends with them), although in terms of the number of people with whom they are friends, they are not far from geeks. </p><br><p>  Let's draw with whom the representatives of different communities are friends. </p><br><p><img src="https://habrastorage.org/webt/ox/xr/ps/oxxrpsp-_ioayujnppov7cmjdxe.png" alt="s"><br>  <em>Each community is most friendly within itself, but interacts with other communities differently.</em> </p><br><p>  See how fun it is!  Altruists consider their friends a lot of horoshist and a lot of bad guys.  Bad guys altruists do not particularly favor, but here are some of the horrorists consider their friends.  Well-judged, judging by all, they are not thrilled by the friendship with the bad guys, but altruists, with their smiling faces and freebies, are holding their interest. </p><br><p>  If for some reason it is more interesting for you to look from the other side, then here is another bonus picture. </p><br><p><img src="https://habrastorage.org/webt/hp/ew/df/hpewdf1mecjsyjwyacolbexadvu.png" alt="s"><br>  <em>Each community is most friendly within itself, but interacts with other communities differently.</em> </p><br><p>  Here is such a fun data set in the first week of autumn.  In 2014, this <a href="https://www.researchgate.net/publication/259515382_Relationship_patterns_in_the_19th_century_The_friendship_network_in_a_German_boys%27_school_class_from_1880_to_1881_revisited">article</a> re-opened the data on our fourth ‚ÄúA‚Äù to the world.  The fact is that after the First World Germany there was no time for pedagogy, so the data collected by Delic was forgotten for a long time, and now it turns out that this is almost the first detailed documented social graph.  So it goes. </p><br><p>  The original data was published in the article: <br>  Delitsch, J., 1900. √úber Sch√ºlerfreundschaften in einer Volksschule.  Zeitschrift f√ºr Kinderforschung 5, 150‚Äì162. </p><br><p>  PS They asked me here several times what is the moral of all this.  I think the moral is here. </p><br><p>  First, even a few columns of numbers can hide the drama.  Yes, even what. </p><br><p>  Secondly, for any person working with data, the answer to the question "what is the moral here?"  comes down to the question "what is the quality metric here?" </p><br><p>  If the metric is academic success, then it is better to be friends with excellent students.  All repeaters, in fact, in the ranking of the class is not in the top, but not at the bottom in terms of performance.  They hang out somewhere in the middle, but other children in their community learn much worse.  Perhaps the comparatively good performance of the repetition years is connected with the fact that the German school of the nineteenth century paid quite a lot of attention to physical training and sports, so that the repetition of repetitioners was overestimated in part because they were simply physically stronger.  The community around Schlegel and the community of geeks, in spite of this bias, learn much better than the community that has formed around the repetitioners. </p><br><p>  If a metric is popular among peers, then throwing candies around is quite an expensive and not very effective way of recruiting this very popularity.  On the one hand, it works: Lash is the third most popular student in the class.  On the other hand, the ‚Äúquality‚Äù of his community (by the metric of social popularity) is rather low.  That is, candy allows you to become popular among not very popular people.  Other popular guys are not on friendly terms with Lash (neither the replayers nor the best student of the Schlegel class). </p><br><p>  Finally, if a metric is the number of ‚Äúreal‚Äù friends (where a true friend is not a person with whom you are friends, but only those of your friends who are friends with you), then it‚Äôs the same as being a repetition year-old. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/422525/">https://habr.com/ru/post/422525/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../422513/index.html">7 tips on how not to infuriate a colleague-tester on his holiday</a></li>
<li><a href="../422515/index.html">Two Apache Ignite Meetings and In-Memory Computing Webinar in September</a></li>
<li><a href="../422517/index.html">TelegramBot in the Wolfram Cloud</a></li>
<li><a href="../422519/index.html">Distributing freebies: non-braking threads in Java. Project loom</a></li>
<li><a href="../422521/index.html">Premonition of the inevitable</a></li>
<li><a href="../422527/index.html">Digest news from the world of PostgreSQL. Issue number 10</a></li>
<li><a href="../422529/index.html">Special Course Group-IB: ‚ÄúMobile Application Security‚Äù</a></li>
<li><a href="../422531/index.html">Optimizing graphics for the web: the most important</a></li>
<li><a href="../422533/index.html">Yandex Received New Claims from Gazprom-Media TV Channels</a></li>
<li><a href="../422535/index.html">See invisible. Polarization in the far infrared (8-12mkm)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>