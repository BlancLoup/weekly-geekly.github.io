<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Productive work in vim using snipMate</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article I want to talk about one great plugin for vim, which greatly speeds up the writing of code, layout and text editing. 

 snipMate - all...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Productive work in vim using snipMate</h1><div class="post__text post__text-html js-mediator-article">  In this article I want to talk about one great plugin for vim, which greatly speeds up the writing of code, layout and text editing. <br><br>  <b>snipMate</b> - allows you to quickly insert a text template into your document using the + &lt;tb&gt; keyword and provides easy navigation through the inserted template. <br><a name="habracut"></a><br><br><h3>  Installation </h3><ul><li>  Downloading the latest version of the extension - <a href="http://www.vim.org/scripts/script.php%3Fscript_id%3D2540">here</a> . <br></li><li>  Unpack the archive. </li><li>  Copy content to <i>~ / .vim /</i> </li><li>  Plugin installed. </li></ul>  For the extension to work, you must add the following lines to the configuration file <i>(vimrc)</i> : <br><pre><code class="cpp hljs"><span class="hljs-built_in"><span class="hljs-built_in">set</span></span> nocompatible filetype on filetype plugin on</code> </pre> <br><h3>  Snippets </h3><br>  Text patterns that snipMate operates on are called snippets. <br>  There is a separate directory for them in the <i>~ / .vim folder</i> with the same name. <br>  The archive we downloaded has a basic set of templates for various programming languages. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Let's use the template for a si-like <i>for</i> loop, to do this in any file with the extension <b>.c</b> or <b>.cpp</b> you need to enter in insert mode <b><i>for &lt;tb&gt;</i></b> <i>(&lt;tb&gt; means pressing the tab key)</i> and immediately get the following construction: <br><pre> <code class="hljs swift"> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-built_in"><span class="hljs-built_in">count</span></span>; i++) { <span class="hljs-comment"><span class="hljs-comment">/* code */</span></span> }</code> </pre><br>  The template has 4 editable zones, between which you can switch using the <b><i>tab</i></b> key <i>( <b>Shift + Tab</b> for reverse switching)</i> <br><pre> <code class="hljs objectivec"> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-comment"><span class="hljs-comment">/*2*/</span></span> = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-comment"><span class="hljs-comment">/*2*/</span></span> &lt; <span class="hljs-comment"><span class="hljs-comment">/*1*/</span></span>; <span class="hljs-comment"><span class="hljs-comment">/*2*/</span></span><span class="hljs-comment"><span class="hljs-comment">/*3*/</span></span>) { <span class="hljs-comment"><span class="hljs-comment">/*4*/</span></span> }</code> </pre><br>  When the focus switches to the next zone, this zone is highlighted, while we are in edit mode, that is, entering a new text completely erases the old one. <br>  We see 3 copies of the zone <i>/ * 2 * /</i> .  This means that when editing, changes are applied to all three instances. <br><br>  An example of writing a simple cycle: <br>  " <b><i>for &lt;tb&gt; 100 &lt;tb&gt; myVar &lt;tb&gt; + = 10 &lt;tb // // some</i></b> " will create the following code fragment: <br><pre> <code class="hljs objectivec"> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (myVar = <span class="hljs-number"><span class="hljs-number">0</span></span>; myVar &lt; <span class="hljs-number"><span class="hljs-number">100</span></span>; myVar+=<span class="hljs-number"><span class="hljs-number">10</span></span>) { <span class="hljs-comment"><span class="hljs-comment">//some }</span></span></code> </pre><br><br>  Here's how it looks in practice - <a href="http://vimeo.com/3535418">video</a> . <br><br>  Conveniently?  You decide. <br><br>  The most important thing about this plugin is its extensibility.  We can develop our own templates and use them to the full. <br><br><h3>  We write own snippet </h3><br>  As we already know, all <i>snippets</i> are in <i>~ / .vim / snippets</i> <br>  It should be noted that in the archive we downloaded there is a file <i>‚Äúsyntax / snippet.vim‚Äù</i> , which means that we will be pleased with the syntax highlighting when editing snippet files in our favorite editor. <br><ul><li>  Open the snippets file for the language we need. <br>  In our case, the language is <i>C</i> , hence the file is <i>~ / .vim / snippets / c.snippets</i> </li><li>  Add your snippet, following the syntax: <br><pre> <code class="hljs xml">snippet <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"></span></span></span><span class="hljs-tag"> &gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"></span></span></span><span class="hljs-tag"> &gt;</span></span></code> </pre> <br>  Where <i><b>&lt;keyword&gt;</b></i> is a word after which you‚Äôll need to press <b><i>tab</i></b> to end up with <i><b>&lt;template body&gt;</b></i> , and you must indent one tab in the first line of the template.  To describe our actions, we can use line comments that begin with the <b><i>"#"</i></b> character.  The use of comments is allowed only outside the body of the template.  So add: <br><pre> <code class="hljs cs"><span class="hljs-function"><span class="hljs-function">snippet hello </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">printf</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"Hello, world!"</span></span></span></span></span><span class="hljs-function">)</span></span>;</code> </pre></li><li>  Save the file.  Open <i>"foo.c"</i> and check our <i>snippet</i> - enter in edit mode <b><i>hello &lt;tb&gt;</i></b> - we get <b><i>printf ("Hello, world!" ");</i></b>  . <br></li></ul>  We wrote our own <i>snippet</i> , but it hurts too much and resembles a vim-abbreviation.  So let's take a closer look at the body of the template. <br><br><h3>  Expanded text </h3><br>  By default, after pressing the tab, the cursor is placed at the end of the template. <br><ul><li>  To set the cursor in the right place, you can use the construction <i><b>"$ {#}"</b></i> , <br>  where <i>#</i> is the label number (tab stop), which determines the order of movement when you press the <b><i>tab</i></b> . </li><li>  Default text can be attached to a label with <b><i>"$ {#: text}"</i></b> . </li><li>  To get the effect of a chain reaction when changing text on a label, you need to use the <i><b>"$ #"</b></i> variable construction, where <i>#</i> is the number of the label already used with the text.  Changing the text of a label entails changing all variables that have the same number as the label.  An example of such a "chain reaction" is a <i>for</i> loop, or rather a change in the name of its counter variable. </li></ul>  All of these designs can be invested in each other to achieve the desired result.  Let's write a simple function template that returns the square of the argument received. <br><pre> <code class="hljs perl">snippet sq ${<span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>} $1_s<span class="hljs-string"><span class="hljs-string">qr($1 x)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">x</span></span>*<span class="hljs-keyword"><span class="hljs-keyword">x</span></span>; } ${2}</code> </pre><br>  And now apply it.  Open <i>‚Äúfoo.c‚Äù</i> and enter in edit mode: <b><i>sq &lt;tb&gt; double</i></b> <br>  As a result, we get: <br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">double</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">double_sqr</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> x)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> x*x; }</code> </pre>  Only two words and the function is ready! <br><br><h3>  Templates with options </h3><br>  Defining a template with variations can be very useful.  You can implement this construction as follows: <br><pre> <code class="hljs xml">snippet <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"></span></span></span><span class="hljs-tag"> &gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"></span></span></span><span class="hljs-tag">  </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">1</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"></span></span></span><span class="hljs-tag">  </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">1</span></span></span><span class="hljs-tag">&gt;</span></span> snippet <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"></span></span></span><span class="hljs-tag"> &gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"></span></span></span><span class="hljs-tag">  </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">2</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"></span></span></span><span class="hljs-tag">  </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">2</span></span></span><span class="hljs-tag">&gt;</span></span> ... snippet <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"></span></span></span><span class="hljs-tag"> &gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"></span></span></span><span class="hljs-tag">  </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">N</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"></span></span></span><span class="hljs-tag">  </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">N</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  All template descriptions have the same keyword, but different implementation.  When you try to use such a template, a dialog appears in which you can see descriptions of all suitable templates and make a choice by entering the desired number. <br>  Let's redefine the template for the function from the previous example: <br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">snippet sq int_sqr </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">int_sqr</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> x)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> x*x; } <span class="hljs-function"><span class="hljs-function">snippet sq double_sqr </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">double</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">double_sqr</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> x)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> x*x; } <span class="hljs-function"><span class="hljs-function">snippet sq someType_sqr someType </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">someType_sqr</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(someType x)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> x*x; }</code> </pre><br>  When you enter <b><i>sq &lt;tb&gt;</i></b> in edit mode, we get the following dialog: <br><pre> <code class="html hljs xml">1. int_sqr 2. double_sqr 3. someType_sqr Type number and <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Enter</span></span></span><span class="hljs-tag">&gt;</span></span> or click with mouse (empty cancels):</code> </pre><br>  Now, to get the function, just enter one word and make a choice. <br><br><h3>  Using Vim Script </h3><br>  A template can contain a fragment of a wim script, which is interpreted when inserting a snippet into a document.  The system () function, which executes an external command and sends the output to the insertion point, can be very useful.  The script must be taken in <b>``</b> (often confused with <b>''</b> ). <br>  Let's look at an example using system (): <br><pre> <code class="xml hljs">snippet today Today is `system("date +%Y-%m-%d")`</code> </pre><br>  When inserting we get: <i>Today is YYYY-MM-DD</i> <br><br><h3>  Combining Template Sets </h3><br>  To activate snippets from several files when editing a single document, it is enough to use the instruction: <br><pre> <code class="xml hljs">:set ft=<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">currentFiletype</span></span></span><span class="hljs-tag">&gt;</span></span>.<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">otherFiletype</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre>  It should be noted that first you need to specify the type of the current edited file, in order not to lose the syntax highlighting.  For example, to activate HTML templates when editing <i>* .c</i> you need to do: <br><pre> <code class="xml hljs">:set ft=c.html</code> </pre><br><br>  <i>I hope this will be useful to someone.</i>  <i>More information about snipMate can be found in the file ~ / .vim / doc / snipMate.txt</i> . <br><br><h3>  Links </h3><br>  <a href="http://www.vim.org/">Official vim page</a> <br>  <a href="http://www.vim.org/scripts/script.php%3Fscript_id%3D2540">SnipMate page on vim.org</a> <br>  <a href="http://vimeo.com/3535418">Demo video</a> </div><p>Source: <a href="https://habr.com/ru/post/125355/">https://habr.com/ru/post/125355/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../125349/index.html">And yet it is hacked</a></li>
<li><a href="../125350/index.html">Log Marathon First results</a></li>
<li><a href="../125352/index.html">Digest Wanted.VC # 8</a></li>
<li><a href="../125353/index.html">PasteScript based project templates</a></li>
<li><a href="../125354/index.html">HSPL and RSPL for WP7 HTC devices released</a></li>
<li><a href="../125356/index.html">Algorithm for determining whether a point hits a contour based on a comprehensive analysis</a></li>
<li><a href="../125358/index.html">History of MySQL database recovery from files (InnoDB)</a></li>
<li><a href="../125359/index.html">Integration of asterisk with Active Directory</a></li>
<li><a href="../125360/index.html">Terms of Reference</a></li>
<li><a href="../125362/index.html">Do not use Java7 for anything.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>