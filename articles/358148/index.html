<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>From right to left. What is dir = rtl and how to tame Arabic</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Habr. We recently translated into Arabic 2GIS Online, and want to share our experience adapting the interface under RTL (right-to-left). This will...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>From right to left. What is dir = rtl and how to tame Arabic</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/webt/yt/g7/zs/ytg7zsuaysiof0wucp6zotzylce.jpeg"></p><br><p>  Hi, Habr.  We recently <a href="https://2gis.ae/dubai/lang/ar">translated into Arabic</a> 2GIS Online, and want to share our experience adapting the interface under RTL (right-to-left).  This will be true both for Hebrew and Persian. </p><br><p>  I will divide this experience into two articles - theoretical and practical.  Today - more about the theory.  I‚Äôll tell you why we needed to turn the whole interface, what the interface developer means to make the Arabic version and how to deal with the Arabic language mixed with English.  Particular attention will be paid to the algorithm by which the display of the text of a mixed focus is built - the unicode bidirectional algorithm. </p><a name="habracut"></a><br><h2 id="zachem-eto-vsyo">  Why is this all about? </h2><br><p>  It seems that the value in adapting the interface under "right to left" is the same as that of adapting to any other popular language, but this is not quite so. </p><br><p>  The difference between the English and Russian versions is small - most often, it is just a translated text.  The user experience, with the exception of rare trifles, is generally no different.  The difference between the Arabic and English versions is huge. </p><br><p>  <a href="https://en.wikipedia.org/wiki/Languages_used_on_the_Internet">Only 0.6% of</a> Internet resources in the world contain Arabic content.  However, more than 5% of Internet users speak Arabic, and this share is growing rapidly.  The familiar reading direction for them is from right to left.  What are their feelings from the modern web?  Exactly the same as that of the Russian speaker when using the RTL interface.  Choose your own metaphor yourself - maybe it's like getting behind the wheel of a right-hand drive car, when you constantly drive a left-hand drive.  Or how to enter once at 2GIS and see that the cards and the search are on the right: </p><br><p><img src="https://habrastorage.org/webt/wl/pv/j8/wlpvj8nv9mdmxm85l5-opmicdlg.jpeg"></p><br><p>  If we want our service to be as convenient as possible for all users, it is necessary to adapt it for RTL. </p><br><h2 id="v-chyom-sostoit-zadacha">  What is the problem? </h2><br><p>  At first glance, it seemed immense to me - you need to redo the <em>entire</em> interface to meet the requirements that no one can properly explain. </p><br><p>  After seeing a few examples of Arab sites, I understand that to make an Arabic version is: </p><br><ol><li>  <strong>Translate the data into Arabic</strong> .  This part is clearer, but it doesn‚Äôt get easier - these are huge amounts of data; </li><li>  <strong>Translate the interface into Arabic</strong> .  It‚Äôs not so easy for us, because before that we only translated from Russian, and we don‚Äôt have translators from Russian to Arabic.  You will have to first translate the lines and comments into English, and then from English into Arabic; </li><li>  <strong>Adapt the entire interface under the "right to left</strong> . <strong>"</strong>  It seems to be just "turn everything in the other direction."  We need to figure out how this happens.  And for this, there are definitely some ready-made solutions. </li></ol><br><p>  With translations like everything is clear.  With overturning the interface - nothing is clear.  Let us dwell on this in more detail. </p><br><p>  First of all, I added the dir = "rtl" attribute to the html tag: </p><br><pre><code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">dir</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"rtl"</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Everything has changed, but not quite as I expected.  I realized that I did not understand what was happening.  By what principle are the elements lined up one after the other? </p><br><h2 id="bazovoe-napravlenie-base-direction">  Base direction </h2><br><p>  Consider the same simple piece of layout in LTR and RTL.  It is not very meaningful, but clear: </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">table</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> Hello world <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span>Hello<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span>world<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">table</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p><img src="https://habrastorage.org/webt/bd/ub/md/bdubmddkc5royyuqo8hsjclkwc0.png"></p><br><p>  As can be seen in the screenshot, the <code>dir</code> attribute (as well as the css- <code>direction</code> property) sets: </p><br><ul><li>  Content alignment ( <code>text-align</code> ); </li><li>  Flow direction - in which direction the <code>inline-block</code> elements follow each other; </li><li>  The order of the elements in the table, flex, grid. </li></ul><br><p>  The elements changed the order, but the characters in the words are still arranged as usual.  Because the order of characters in a string is determined by another algorithm. </p><br><h2 id="posledovatelnost-simvolov-vnutri-stroki">  The sequence of characters within the string </h2><br><p>  Physically, the characters in the string are arranged in series, but for the final display of this sequence on the screen is the <a href="https://unicode.org/reports/tr9/">unicode bidirectional algorithm</a> . </p><br><p>  In short: </p><br><ol><li>  For each character in the string, the directivity is calculated; </li><li>  A string beats on blocks of the same direction; </li><li>  The blocks are arranged in the order given by the base direction. </li></ol><br><p>  The directionality of each character is influenced by its type and directionality of adjacent characters. </p><br><h3 id="tri-tipa-simvolov">  Three types of characters </h3><br><p>  1) <strong>Strongly directed</strong> (or strongly typed, strongly typed) - for example, letters.  Their orientation is predetermined - for most of the characters this is LTR, for Arabic and Hebrew - RTL. </p><br><p>  The words in the picture are entirely strictly typed: </p><br><p><img src="https://habrastorage.org/webt/6p/7w/wa/6p7wwauepjxfiwhf7ndcacb0zfa.png"></p><br><p>  2) <strong>Neutral</strong> - for example, punctuation or spaces.  Their orientation is not given explicitly, they are <em>directed in the same way as adjacent strongly directed symbols</em> . </p><br><p>  A comma between left-to-right ‚Äúo‚Äù and ‚Äúw‚Äù in the ‚ÄúHello, world‚Äù line takes their directivity both at the base LTR and at RTL: </p><br><p><img src="https://habrastorage.org/webt/qk/mg/pb/qkmgpb1q7v_yz3h6-usq9s1xp-y.png"></p><br><p>  But what if a neutral directional symbol falls between two highly directional symbols of different directions?  Such a symbol takes a base focus. </p><br><p>  Here, the location of ‚Äú++‚Äù in one case between unidirectional ‚ÄúC‚Äù and ‚Äúa‚Äù, and in the other - between multidirectional ‚ÄúC‚Äù and Arabic ‚ÄúŸà‚Äù, leads to different results: </p><br><p><img src="https://habrastorage.org/webt/lp/gg/hh/lpgghhgl4g_mhfheei0z35n3fqc.png"></p><br><p>  The same happens with neutral characters at the end of a line: </p><br><p><img src="https://habrastorage.org/webt/wp/wp/m1/wpwpm1avbacyil5plgbbfigrx3a.png"></p><br><p>  3) <strong>Weakly directed</strong> (or weakly typed, weakly typed) - for example, numbers.  They have their own focus, but do not affect the surrounding characters. </p><br><p>  Continuous words of numbers line up from left to right, but two numbers in a row, separated by a neutral symbol, will follow each other from right to left if the base RTL directionality is set: </p><br><p><img src="https://habrastorage.org/webt/mi/in/jo/miinjoy4aq6cejzbanv-cqufl9u.png"></p><br><p>  An even more obvious case is the number in which the digits are separated by a space: </p><br><p><img src="https://habrastorage.org/webt/6z/d2/kc/6zd2kcp1a5k9baijp-mqzyduhrm.png"></p><br><p>  In this case, it is allowed to separate numbers with a point, a comma, a colon - these delimiters are also poorly directed (for more details see the <a href="http://unicode.org/reports/tr9/">specification</a> ): </p><br><p><img src="https://habrastorage.org/webt/aq/d4/fu/aqd4fuhsz6nmk974s8lqekgjuug.png"></p><br><h3 id="napravlennye-bloki-directional-run">  Directional blocks </h3><br><p>  Successive characters of the same directionality are combined into blocks (directional run).  These blocks are arranged one after the other in the order determined by the basic direction: </p><br><p><img src="https://habrastorage.org/webt/2q/lj/-h/2qlj-hpo_wijuuj4ea1fg0zufpe.png"></p><br><p>  Weakly directed numbers, despite the fact that they have their own direction, do not affect the formation of blocks, which can lead to the following result - they continue the previous directional block: </p><br><p><img src="https://habrastorage.org/webt/s-/it/um/s-itum672yhou_d2cuc1uxihpfk.png"></p><br><h3 id="zerkalnye-simvoly">  Mirror Symbols </h3><br><p>  Some characters in different contexts have different forms - for example, the opening bracket in RTL will look like the closing bracket in LTR (which is logical, because the content in brackets will go after ‚Äî that is, to the left of it). </p><br><p>  In most cases, this does not create problems, but if the brackets happen to be different directions, they will visually look in one direction.  For example, if the bracket hangs at the end of the line: </p><br><p><img src="https://habrastorage.org/webt/wp/hc/fy/wphcfystnr_yonzj0slb31xnapg.png"></p><br><h2 id="beryom-poryadok-pod-kontrol">  Take order under control </h2><br><p>  As we saw above, often the text according to these rules is not formatted the way we would like. </p><br><p>  In this case, we can use tools to embed the desired direction in the existing context or redefine the directions of specific characters. </p><br><h3 id="izolyaciya-isolate">  Isolate (isolate) </h3><br><p>  With the task of the basic direction, we have already met above: it makes the attribute dir.  This is a <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes">global attribute</a> ; it applies to any element. </p><br><p>  <code>dir</code> creates a new embedding level and isolates the content from the external context.  Content inside is directed according to the attribute value, and the external orientation of the container itself becomes neutral. </p><br><p>  Explicitly setting the <code>dir</code> attribute avoids almost all the mixed text formatting problems: </p><br><pre> <code class="html hljs xml">ÿ£ŸÜÿß ÿ£ÿ≠ÿ® <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">dir</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ltr"</span></span></span><span class="hljs-tag">&gt;</span></span>C++<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> Ÿà Java</code> </pre> <br><p><img src="https://habrastorage.org/webt/tt/er/8s/tter8sn9wocazj-vqrcxmp8d994.png"></p><br><p>  If the content direction is not known in advance, you can specify auto as the value of the dir attribute.  Then the direction of the content will be determined with the help of ‚Äúsome heuristics‚Äù - it will simply be taken from the first strongly typed character. </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">dir</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"auto"</span></span></span><span class="hljs-tag">&gt;</span></span>{comment}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Similarly, the <code>&lt;bdi&gt;</code> and the css-rule <code>unicode-bidi: isolate</code> : </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>Landmark: <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bdi</span></span></span><span class="hljs-tag">&gt;</span></span>{name}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bdi</span></span></span><span class="hljs-tag">&gt;</span></span> ‚Äî {distance}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p><img src="https://habrastorage.org/webt/7l/xm/j0/7lxmj0njbmtpoagkovykveddaco.png"></p><br><h3 id="vstraivanie-embed">  Embed </h3><br><p>  You can open a new level of embedding without isolation - the <code>unicode-bidi: embed</code> rule in combination with the desired value of the <code>direction</code> rule determines both the direction inside the element and its directionality outside.  But this in practice is almost never needed. </p><br><h3 id="pereopredelenie-override">  Override </h3><br><p>  <code>&lt;bdo dir="rtl"&gt;</code> or <code>unicode-bidi: bidi-override; direction: rtl</code>  <code>unicode-bidi: bidi-override; direction: rtl</code> .  Overrides the direction of each character within an element.  It is necessary to use extremely rarely (for example, if you need to swap two specific characters) and do not forget to isolate the child elements. </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bdo</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">dir</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"rtl"</span></span></span><span class="hljs-tag">&gt;</span></span>Hello, world!<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bdo</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p><img src="https://habrastorage.org/webt/gx/kv/7h/gxkv7h4tyv2nj0pygkqie5phs-e.png"></p><br><p>  At the same time, the element outside is treated as strongly directed.  To make it behave like <code>isolate</code> outside, but like <code>bidi-override</code> inside, you need to use <code>unicode-bidi: isolate-override</code> . </p><br><h3 id="upravlyayuschie-simvoly-marks">  Control characters (marks) </h3><br><p>  Inserting control characters is an unpleasant way, but it‚Äôs useful when we don‚Äôt have access to the markup, but we have access to the content.  For example, these may simply be invisible, highly directional symbols, <code>&amp;lrm;</code>  and <code>&amp;rlm;</code>  ( <code>&amp;#8206;</code> / <code>&amp;#8207;</code> or <code>\u200e</code> / <code>\u200f</code> ).  They help to set the desired direction to the neutral symbol. </p><br><p>  For example, in this case, in order for the exclamation mark at the end of the line to accept the direction of LTR, it is necessary that it be between two LTR characters: </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">dir</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"rtl"</span></span></span><span class="hljs-tag">&gt;</span></span>Hello, world!&amp;lrm;<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Also, any logic described above is implemented through control characters.  For isolation, LRI / RLI, for redefinition, LRO / RLO, etc.  - See the detailed guide to control characters. </p><br><h2 id="podderzhka-brauzerami">  Browser Support </h2><br><p>  Unfortunately, in IE the <code>&lt;bdi&gt;</code> , <code>dir="auto"</code> and the corresponding CSS rules are not supported.  In addition, the <a href="https://drafts.csswg.org/css-writing-modes-3/">specification of</a> these rules is still at the Editor's Draft stage. </p><br><p>  If you need an analog <code>dir="auto"</code> that works in any browser, you can <a href="https://stackoverflow.com/questions/12006095/javascript-how-to-check-if-character-is-rtl">parse the content with a regular schedule</a> and set the <code>dir</code> attribute yourself.  But it is better, of course, not to do so. </p><br><h2 id="html-ili-css">  HTML or CSS? </h2><br><p>  Definitely, if possible, you should control the direction of the text through the HTML ‚Äì <code>dir</code> attribute and the <code>&lt;bdi&gt;</code> , and not through the CSS rules.  The text direction is not stylization, it is part of the content.  The page can be inserted through any instant view or be read through RSS ‚Äì reader. </p><br><h2 id="pered-zaklyucheniem-nemnogo-boli">  Before the conclusion: a little pain </h2><br><p>  We met with the theory.  But knowledge of the theory does not free one from the need to suffer. </p><br><p>  The main problem I encountered in the very first minutes of development for RTL ‚Äì language is its alienity.  We write code from left to right.  My system, browser and editor work from left to right, all our internal products are left to right.  Therefore, as soon as the Arabic language gets into this space, everything is bad and painful: </p><br><h3 id="manipulyacii-s-tekstom">  Text manipulations </h3><br><p>  If the characters on the screen are not in the order in which they are actually located in the line, what will happen if you try to edit the bidirectional text?  Or at least select and copy part of it? </p><br><p>  Nothing good.  Try it yourself: </p><br><blockquote>  Landmarks: ÿØÿ®Ÿä ŸÖÿßÿ±ŸäŸÜÿß ŸÖŸàŸÑ - 600 m, ÿØÿßŸÖÿßŸÉ ÿßŸÑÿπŸÇÿßÿ±Ÿäÿ© - 1.2 km <br>  azbycxdwevfugthsirjqkplom n </blockquote><p><img src="https://habrastorage.org/webt/gt/xc/5u/gtxc5usn-c-uwknmskfw7-lsk2g.gif"></p><br><h3 id="manipulyacii-s-kodom">  Code manipulation </h3><br><p>  And the same thing when editing the code in the editor and the code review is a pain. </p><br><p>  Even in the order of the elements in the array, one cannot be sure: </p><br><p><img src="https://habrastorage.org/webt/50/gl/4-/50gl4-ruade4wc37ihwflzlp2ha.png"></p><br><p>  Or worse, the code does not look valid at all: </p><br><p><img src="https://habrastorage.org/webt/nc/mx/x9/ncmxx9q4cmguxzxiwtx1yeegh4i.png"></p><br><p>  You can bring to the <a href="https://twitter.com/aemkei/status/984703097908981760">point of absurdity</a> : </p><br><p><img src="https://habrastorage.org/webt/i6/bg/up/i6bgupig_og0p31ngi1q5ts1q4u.png"></p><br><h3 id="snova-beryom-vsyo-pod-kontrol">  Take control again </h3><br><p>  In any situation, there is only one source of truth - the logical arrangement of characters in the string.  Characters can be positioned visually correctly in the editor or in the mail client, but on the summary page they cannot be positioned correctly, because the logical order is broken. </p><br><p>  To see how the characters are initially arranged in a line and why they are visually arranged in this way, the tool on the Unicode website allows: <a href="http://unicode.org/cldr/utility/bidi.jsp">http://unicode.org/cldr/utility/bidi.jsp</a> </p><br><p><img src="https://habrastorage.org/webt/jh/i9/cl/jhi9clu7baep5a5wfevsxmxox5a.jpeg"></p><br><h2 id="itogo">  Total </h2><br><p>  We got acquainted with the rules by which the order of elements and the order of characters in a string are determined, and we learned how to influence it. </p><br><p>  What you need to remember: </p><br><ol><li>  <code>dir="rtl"</code> sets the flow direction, aligns the text as <code>text-align: right</code> , changes the order of table cells, flexes and grids.  The unicode bidirectional algorithm is responsible for the sequence of characters in the string; </li><li>  Each character has a direction type - strictly typed (letters), weakly typed (numbers) and neutral (punctuation and spaces); </li><li>  Problems arise most often on the border between different types of characters. </li></ol><br><p>  In practice, this whole theory translates into one simple rule: </p><br><blockquote>  With a mixed focus, you need to explicitly isolate the levels of embedding using the <code>dir</code> attribute, and if the content is of an undefined focus, use <code>&lt;bdi&gt;</code> and <code>dir="auto"</code> . </blockquote><p>  You also need to prepare for the fact that the text in the editor may not look exactly as it would look in the browser.  And it will surely hurt you. </p><br><h2 id="chto-dalshe">  What's next? </h2><br><p>  In the next article I will talk about our practical experience.  How to quickly make a prototype of the RTL version and how to choose solutions for production.  How to be prepared in advance, but what moments can not be foreseen. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/358148/">https://habr.com/ru/post/358148/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../358136/index.html">Tomographic data segmentation</a></li>
<li><a href="../358140/index.html">Council for open data: openness of the Federal Registration Service and the Federal Property Management Agency, the results of 2017 and plans for the future</a></li>
<li><a href="../358142/index.html">What is the difference Smoke, Sanity, Regression, Re-test and how to distinguish them?</a></li>
<li><a href="../358144/index.html">We invite you on May 26 to Unreal Engine Meetup # 3</a></li>
<li><a href="../358146/index.html">Image Processing: Tensorflow Object Detection API</a></li>
<li><a href="../358150/index.html">Roskomnadzor: Telegram lock affects 400 resources</a></li>
<li><a href="../358152/index.html">Flask Mega-Tutorial, Part XXIII: Application Programming Interfaces (APIs)</a></li>
<li><a href="../358154/index.html">We brought this day as we could - a notepad in Windows 10 began to understand the unix line feed</a></li>
<li><a href="../358158/index.html">SAS BASE procedures with direct control of the number of processor cores</a></li>
<li><a href="../358160/index.html">In Russia, they want to introduce fines for downloading pirated content</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>