<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Hiding the Start button, taskbar, watch</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="With the help of several Windows API functions , you can hide the Start button, the taskbar, or some of its elements. I did this before using Visual B...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Hiding the Start button, taskbar, watch</h1><div class="post__text post__text-html js-mediator-article">  With the help of several <u>Windows API</u> functions <u>,</u> you can hide the Start button, the taskbar, or some of its elements.  I did this before using Visual Basic 6.0, Delphi, C ++, Visual Basic .NET on Windows 98 / Me / XP.  Let's try to do it now using C # on Windows 7. This example has no practical value, it can only be a joke.  But nevertheless, an example can serve as a good demonstration of the possibilities that hide the system functions of Windows. <br><br>  A bit of theory.  Very often, programmers want to access the standard interface elements of the Windows Desktop.  For novice programmers, it will be interesting to know that the taskbar and the Start button are windows (the name of the operating system itself).  Therefore, all we need is to get the window's descriptor, and then use the appropriate functions to hide or show this window. <br><a name="habracut"></a><br><br>  To get a window handle, you need to know the name of the class. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <blockquote>  For the taskbar, this is the Shell_TrayWnd class. <br>  for the Start Button - Button <br>  for notification area - TrayNotifyWnd <br>  for the system clock area - TrayClockWClass </blockquote><br><br>  We will need all several functions for such a daunting task. <br><pre><code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">DllImport(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"user32.dll"</span></span></span><span class="hljs-meta">)</span></span>] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">extern</span></span></span><span class="hljs-function"> IntPtr </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FindWindow</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> ClassName, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> WindowName</span></span></span><span class="hljs-function">)</span></span>; [DllImport(<span class="hljs-string"><span class="hljs-string">"user32.dll"</span></span>)] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">extern</span></span></span><span class="hljs-function"> IntPtr </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FindWindowEx</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> IntPtr hwndParent, IntPtr hwndChildAfter, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> className, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> windowName</span></span></span><span class="hljs-function">)</span></span>; [DllImport(<span class="hljs-string"><span class="hljs-string">"user32.dll"</span></span>)] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">extern</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ShowWindow</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">IntPtr hWnd, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> nCmdShow</span></span></span><span class="hljs-function">)</span></span>; [DllImport(<span class="hljs-string"><span class="hljs-string">"user32.dll"</span></span>)] [<span class="hljs-keyword"><span class="hljs-keyword">return</span></span>: MarshalAs(UnmanagedType.Bool)] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">extern</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SetWindowPos</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> IntPtr hWnd, IntPtr hWndInsertAfter, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> X, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Y, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> cx, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> cy, SetWindowPosFlags uFlags</span></span></span><span class="hljs-function">)</span></span>;</code> </pre> <br><br>  Now we will declare several variables for each element. <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> IntPtr TaskbarHWnd; <span class="hljs-comment"><span class="hljs-comment">//    private IntPtr StartButtonHWnd; //    private IntPtr TrayNotifyHWnd; //    private IntPtr ClockHwnd; //    </span></span></code> </pre><br><br>  Preliminary preparations are ready.  You can start hiding / showing the taskbar items <br><br>  <b>Task bar</b> <br><br>  To hide the taskbar, you need to find its handle and hide the window using the <b>ShowWindow</b> function <b>.</b> <br><br><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">//    .     //     TaskbarHWnd = FindWindow("Shell_TrayWnd", null); // /   if (TaskbarHWnd != IntPtr.Zero) { ShowWindow(TaskbarHWnd, show ? SW_SHOW : SW_HIDE); } show = !show;</span></span></code> </pre><br>  <b>Start button</b> <br><br>  It should be noted that the previous code is hidden only the taskbar, and the START button at the same time remains visible.  Although earlier in Windows 98 / XP, the START button was part of the taskbar and was hidden with it (if you remember, it really was a rectangular button).  To hide the button itself, you will have to call a couple of functions again: <br><br><pre> <code class="cs hljs">StartButtonHWnd = FindWindow(<span class="hljs-string"><span class="hljs-string">"Button"</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (StartButtonHWnd != IntPtr.Zero) { <span class="hljs-comment"><span class="hljs-comment">//ShowWindow(StartButtonHWnd, show ? SW_SHOW : SW_HIDE); //   Windows XP SetWindowPos(StartButtonHWnd, IntPtr.Zero, 0, 0, 0, 0, show ? SetWindowPosFlags.SWP_SHOWWINDOW : SetWindowPosFlags.SWP_HIDEWINDOW); }</span></span></code> </pre><br><br>  As you can see, this time we use another function, <b>SetWindowPos</b> , to hide the button, since <b>ShowWindow</b> now does not hide it, as it was before.  It is worth noting that when you click again, the START button does not appear independently on the screen.  It is necessary to move the mouse pointer to the place where the START is located, and the button will be drawn again.  Probably, you can call any function that would force the button to be drawn on the screen, but I did not bother with it.  If you find a solution, send it to me. <br><br>  Accordingly, you can hide only the START button, without touching the taskbar itself. <br>  Notification area <br><br>  The notification area hides on the same principle as the taskbar. <br><br><pre> <code class="cs hljs">TaskbarHWnd = FindWindow(<span class="hljs-string"><span class="hljs-string">"Shell_TrayWnd"</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span>); TrayNotifyHWnd = FindWindowEx(TaskbarHWnd, IntPtr.Zero, <span class="hljs-string"><span class="hljs-string">"TrayNotifyWnd"</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span>); <span class="hljs-comment"><span class="hljs-comment">//    ShowWindow(TrayNotifyHWnd, show ? SW_HIDE : SW_SHOW); show = !show;</span></span></code> </pre><br><br>  <b>Clock</b> <br><br>  In the previous example, we hid the notification area along with the watch.  To hide only the watch, without touching the notification area, you need to try a little.  First we find the notification area descriptor, and then we find its child window <b>TrayClockWClass</b> <br><br><pre> <code class="cs hljs">TaskbarHWnd = FindWindow(<span class="hljs-string"><span class="hljs-string">"Shell_TrayWnd"</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span>); TrayNotifyHWnd = FindWindowEx(TaskbarHWnd, IntPtr.Zero, <span class="hljs-string"><span class="hljs-string">"TrayNotifyWnd"</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span>); <span class="hljs-comment"><span class="hljs-comment">//    ClockHwnd = FindWindowEx(TrayNotifyHWnd, IntPtr.Zero, "TrayClockWClass", null); //    ShowWindow(ClockHwnd, show ? SW_HIDE : SW_SHOW); show = !show;</span></span></code> </pre><br><img src="https://habrastorage.org/getpro/habr/post_images/128/f5e/11f/128f5e11f7d24ddd06d70f7457723af0.jpg" alt="image"></div><p>Source: <a href="https://habr.com/ru/post/181049/">https://habr.com/ru/post/181049/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../181037/index.html">Development of a real-time synchronization system using SockJS, Django, Tornado and ZeroMQ</a></li>
<li><a href="../181039/index.html">Optimization of public transport after analyzing GSM data</a></li>
<li><a href="../181041/index.html">When polymorphism fails</a></li>
<li><a href="../181043/index.html">Writing a thesis related to it: expectations and Russian reality</a></li>
<li><a href="../181045/index.html">Entropy and WinRAR - detailed answer</a></li>
<li><a href="../181051/index.html">Choosing a tool for floating-point calculations - practical tips</a></li>
<li><a href="../181053/index.html">Educational Data Mining: Introduction</a></li>
<li><a href="../181057/index.html">Atmix Recall DCR 300 Recorder Review: Is Happiness for 1,500 Rubles?</a></li>
<li><a href="../181065/index.html">Dynamic Linq Queries or Tame Expression Trees</a></li>
<li><a href="../181071/index.html">Should the printer be printed in white?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>