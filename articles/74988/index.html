<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Creating a bootable USB Flash with Windows 7 from under Ubuntu</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A friend recently asked him to install Windows 7. It just so happened that my DVD drive hasn't worked for a long time, but there is a 8 GB flash drive...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Creating a bootable USB Flash with Windows 7 from under Ubuntu</h1><div class="post__text post__text-html js-mediator-article"> A friend recently asked him to install Windows 7. It just so happened that my DVD drive hasn't worked for a long time, but there is a 8 GB flash drive.  The theme of creating a bootable flash drive with Windows 7 from under Windows has long been chewed heavily on the web.  But I use Ubuntu, so I had to find another solution.  In fact, it seems to me, it is also easier. <br><br><a name="habracut"></a><br>  To begin, we will need a graphical utility GParted and a package for working with the NTFS file system.  To do this, install the gparted and ntfsprogs packages.  This can be done both via Synaptic and through the console: <br> <code>sudo apt-get install gparted ntfsprogs</code> <br> <br>  Next, we need to format the USB flash drive. <br>  You can do this from the console: <br> <code>sudo mkfs.ntfs /dev/sdb4</code> <br>  instead of / dev / sdb4, of course, should be the address of your flash drive <br>  You can do this in an easier way.  To do this, run GParted, select the USB flash drive (drop-down menu on the top) and select the partition.  In the ‚ÄúSection‚Äù menu, select the ‚ÄúUnmount‚Äù submenu, then again in the ‚ÄúSection‚Äù menu the ‚ÄúFormat to‚Äù submenu, and in the drop-down menu select ‚Äúntfs‚Äù.  Click the green check mark on the toolbar. <br><br>  If you formatted a flash drive through the console, then all the same you will have to run GParted in order to install the boot flag on the USB flash drive.  Select the desired section, select the "Section" menu, the "Set Flags" submenu.  In the appeared window put a tick on the "boot" and close the window.  GParted will not be needed anymore. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Further, the problem I encountered was that the standard Ubuntu tools do not allow you to open a UDF ISO image.  Therefore, you need to mount the image manually: <br> <code>sudo mkdir /media/iso <br> sudo mount windows7.iso /media/iso -t udf -o loop</code> <br> <br>  It remains only to copy all the files from the image to the USB flash drive: <br> <code>cp -R /media/iso/* /media/MyFlashDrive</code> <br> <br>  That's all! <br><br>  PS In principle, it is possible in this way to copy to the USB flash drive not only Windows 7. <br><br>  <b>UPD.</b>  You can do without the use of GParted.  You can use fdisk instead (thanks to <a href="https://habrahabr.ru/users/icce/" class="user_link">icCE</a> ) <br> <code>bogus@bogus-laptop:~$ sudo fdisk /dev/sdb <br> <br>  (m  ): p <br> <br>  /dev/sdb: 1998 , 1998585344  <br> 255 heads, 63 sectors/track, 242 cylinders <br> Units =  of 16065 * 512 = 8225280 bytes <br> Disk identifier: 0x00068ccc <br> <br> -     Id  <br> /dev/sdb4 1 243 1951712 7 HPFS/NTFS <br>  4   / : <br> =(241, 254, 63) =(242, 250, 7) <br> <br>  (m  ): a <br>   (1-4): 4 <br> <br>  (m  ): p <br> <br>  /dev/sdb: 1998 , 1998585344  <br> 255 heads, 63 sectors/track, 242 cylinders <br> Units =  of 16065 * 512 = 8225280 bytes <br> Disk identifier: 0x00068ccc <br> <br> -     Id  <br> /dev/sdb4 * 1 243 1951712 7 HPFS/NTFS <br>  4   / : <br> =(241, 254, 63) =(242, 250, 7) <br> <br>  (m  ): w <br>    ! <br> <br>  ioctl()    . <br> <br> WARNING: Re-reading the partition table failed with error 16: Device or resource busy. <br> The kernel still uses the old table. The new table will be used at <br> the next reboot or after you run partprobe(8) or kpartx(8) <br>  . <br> bogus@bogus-laptop:~$ <br></code> <br><br>  <b>UPD2.</b>  An easier way to use dd (thanks to <a href="https://habrahabr.ru/users/stampoon/" class="user_link">stampoon</a> ): <br> <code>dd if=/w7.iso of=/dev/sdx</code> <br> <br>  <b>UPD3.</b>  If after dd or copying files from a flash drive it does not load, probably there is not a correct MBR.  (thx <a href="https://habrahabr.ru/users/nalimka/" class="user_link">nalimka</a> ) <br>  You can use the <a href="http://ms-sys.sourceforge.net/">ms-sys</a> utility: <br> <code>ms-sys -7 /dev/sdb</code> </div><p>Source: <a href="https://habr.com/ru/post/74988/">https://habr.com/ru/post/74988/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../74977/index.html">Dear UFO!</a></li>
<li><a href="../74978/index.html">Yeti USB Mic - the world's first THX certified microphone</a></li>
<li><a href="../74983/index.html">One step from love to hate, or the whole truth about the ‚ÄúRunet Prize‚Äù</a></li>
<li><a href="../74984/index.html">Everything you need to know about partitioning (Part 1)</a></li>
<li><a href="../74986/index.html">Collision of bullets at one million frames per second</a></li>
<li><a href="../74989/index.html">Geek life</a></li>
<li><a href="../74990/index.html">% username%, and you know Vladimir Shahidzhanyan?</a></li>
<li><a href="../74991/index.html">Due to torrents may cancel the continuation of Zombieland</a></li>
<li><a href="../74997/index.html">History in Google Latitude</a></li>
<li><a href="../74998/index.html">Google Latitude Alerts</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>