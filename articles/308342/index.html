<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>One day in the life of a local positioning system tester</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! 
 My name is Denis nimpos Koivistunen and I am a tester at RTL-Service. 

 This is my first topic on Habr√© and in it I want to share the workin...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>One day in the life of a local positioning system tester</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/02e/1b7/0b2/02e1b70b2be14426a53124236071e540.png" align="left">  Hello! <br>  My name is Denis <a href="https://habrahabr.ru/users/nimpos/" class="user_link">nimpos Koivistunen</a> and I am a tester at RTL-Service. <br><br>  This is my first topic on Habr√© and in it I want to share the working life of the testing department and tell you how we have built the process of testing equipment and software. <br><br><h4>  Go </h4><br>  <b>9:00</b> <br>  The beginning of our working day.  First of all, we look at which letters came by e-mail and a list of current affairs for today.  Usually, the list of tasks in the testing department is large, each of the tasks has different priorities - first of all we draw our attention to the tasks with the ‚ÄúUrgent‚Äù and ‚ÄúImmediately‚Äù status, which are set by the developers and project managers. <br><a name="habracut"></a><br>  <b>9:10</b> <br>  Responding to received emails.  Some clients of our company work in other time zones, and the sooner they get answers to questions on the operation of our equipment, the better it will be for everyone.  For example, there are customers of our company, with whom we have a time difference of five to six hours, as a result of this - when our working day begins, they have it coming to an end.  As a result, the problem may remain unresolved until the next business day. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>9:25</b> <br>  We review and analyze logs from devices left overnight for testing.  To do this, we use standard linux commands to filter data (grep, cat, tail, more) and Python and Bash scripts written by our team. <br><br><img src="https://habrastorage.org/files/21d/e11/af2/21de11af21274218a2aff8275dc9754e.png"><br>  <i>Fig. ‚Ññ 1 - Analysis of logs received</i> <br><br>  <b>10:30</b> <br>  We are starting to perform the tasks set for today: one of the priority tasks with the ‚ÄúUrgent‚Äù status is to test the new firmware version for the access point, in which the bug was previously fixed (arbitrary change of the device operation mode from the gateway to the repeater).  We load the new firmware version into the device, check that it has loaded correctly.  In the terminal, we configure filtering for a given mode of operation (we use grep), specify the output of the results in the file so that at the end of the experiment we can check it for errors if they occur in the mode.  Data collection will take from several hours to several days, so you can proceed to the next task. <br><br>  <b>11:30</b> <br>  Next we have the queue for urgent tasks - checking the voice session through the repeater chains.  As gateways and repeaters, we will use equipment of our production - RealTracTM Access Point Indoor (an access point in an office version, the task of which is to create a radio coverage zone and transfer data from / to mobile devices to provide local positioning and voice transmission (Fig. 2)). <br><br><img src="https://habrastorage.org/files/a77/1ac/324/a771ac32470b4e3388f86537446b52da.jpg"><br>  <i>Figure 2 # - RealTracTM Access Point Indoo</i> <br><br>  To do this, we are flashing our gateway (gateway-access point, SHDD), through which packets from repeaters (repeater-access point, RTD) will be received, all of our repeaters and communicator (wearable radio with voice communication function that provides data from / to fixed radio devices within radio coverage zones (Fig. ‚Ññ 3)) for firmware of one version. <br><img src="https://habrastorage.org/files/caf/555/120/caf5551209704fefa71ca6e2ccf22fc5.jpg"><br>  <i>Pic. ‚Ññ 3 - Communicator</i> <br><br>  We arrange our chain in the sequence of the CTD - RTD - RTD - RTD (Fig. ‚Ññ 4).  One of the important conditions for correct data transmission is that the device must be in the line of sight of the next device in the chain. <br><img src="https://habrastorage.org/files/889/f2f/894/889f2f894660462ba8dc2d748af36ec9.png"><br>  <i>Fig. ‚Ññ 4 - Equipment layout</i> <br><br>  12:00 <br>  All the devices that will be used in testing, placed, you can proceed to our test (Fig.‚Ññ5). <br><br><img src="https://habrastorage.org/files/c63/b76/fe1/c63b76fe17304c02b36a1c4652ac57ee.jpg"><br>  <i>Fig. ‚Ññ 5 - Equipment layout</i> <br><br>  And here, on our way, a problem arose - the test site is small, and the walls are not dense enough and do not shield the signals.  As a result, the signal from the repeaters passes through the walls.  This creates such an effect that several repeaters will hear the communicator, and this is unacceptable, since we check the correctness of signal transmission through the RTD chain.  To solve this problem, we reduce the power of the repeaters and the communicator.  To reduce the transmission power of the device, we use the utility developed by our company setparam. <br><br>  <b>12:15</b> <br>  Power on devices is reduced.  Now we need to make sure that several RTDs will not hear the communicator.  To check the audibility of access points from a specific place, we will use an analyzer (wearable device developed by our company specifically for measuring radio parameters of various device parameters, including RSSI, distances to all devices that are audible, and so on (Fig. No. 6)). <br><br><img src="https://habrastorage.org/files/ab6/727/471/ab6727471c6b41d7adf9a38d430e9fa1.jpg"><br>  <i>Fig. ‚Ññ 6 - Analyzer</i> <br><br>  We approach each of the links in the chain and check with the help of the Analyzer whether the neighboring repeaters are audible and whether other devices in the chain are audible. <br><br>  <b>12:30</b> <br>  After some permutations of repeaters across the territory, the desired effect was achieved.  Now it's up to the small - one employee performs the role of a dispatcher and calls the communicator of another, which is at the end of the chain.  If the call to the communicator has passed, then the chain of repeaters is working properly.  Now we check the chain by calling the dispatcher from the communicator.  When calling from the communicator, the dispatcher is notified of the incoming call. <br><br>  Let us now try to break the chain by disconnecting one of the repeaters in the chain in order to verify that the transmission of the voice session will not go further along the chain after the repeater is off. <br><br>  The repeater in the center of the chain is disabled, the employee from the communicator is at the last repeater in the chain, the dispatcher calls the switch - and the call does not go to the communicator.  We try to make a call in the opposite direction - we call our dispatcher from the switch - in response, silence, this is exactly what we needed. <br><br>  The test came to an end, it remains to check the server logs for errors.  To do this, go to our directory with logs and execute the command to parse all the files for the presence of the lines ‚Äú <b>ERROR</b> ‚Äù, ‚Äú <b>WARNING</b> ‚Äù, ‚Äú <b>EXCEPTION</b> ‚Äù. <br><br>  ERROR message detected <br><br><img src="https://habrastorage.org/files/227/dce/598/227dce5982f745e0a274ab76a6c4d383.png"><br><br>  Files with logs have a considerable amount that will take some time to analyze them.  In addition, we indicate the output of the errors found in a separate log file for further study. <br><br>  <b>13:03</b> <br>  Lunch time.  For lunch, we will run the auto-tests of the web client (about using this method to speed up the automation of web-interface testing by using Python and Selenide, there is an article in our blog) (here - <a href="https://habrahabr.ru/company/rtl-service/blog/300860/">https://habrahabr.ru/company/rtl-service/ blog / 300860 /</a> ), so that the system is not in vain. <br><br>  <b>2:00 pm</b> <br>  Of all the auto tests running at lunch, only one failed.  When there is free time, it will be necessary to see what the problem is.  To do this, save the task execution log to a separate file for further study. <br><br><img src="https://habrastorage.org/files/e53/15d/b5a/e5315db5ad9e403bb8db7a2a3f1d31a0.png"><br>  <i>Errors when performing autotests</i> <br><br>  We check logs filtered by errors in our experiment with calls to the communicator.  Critical errors not detected.  Go ahead. <br><br>  <b>14:30</b> <br>  A task has been received with the ‚ÄúImmediately‚Äù priority for execution, which means that all tasks are currently suspended.  The essence of the task is that with the rotation of the substrate mapped in the web client, the load of RAM and the CPU increased to 80-90% and was not released at the end of the rotation.  It has been suggested that such a load on the system is caused by the Java process affected by our system.  To complete my task, I had to try to reproduce this error. <br><br>  For this, substrates of several sizes were chosen (1000 x 1000, 3508 x 2480).  We deploy our system, install our first substrate of the selected ones (1000 x 1000) and start rotating, watching the load on the CPU and RAM in a separate console increase (we use the top and htop console commands).  When a substrate of this size could not load the system to the required more than 80%.  Now we take a substrate of a larger size.  We repeat our past actions already with a new substrate - we rotate it, at the same time we observe loading parameters in the console - here we already have the result, while rotating the substrate for about a minute we managed to create a load of 84%, this is enough to reproduce the task.  We are waiting for 10 - 15 minutes to check whether the load on the processor and RAM will decrease. <br><br><img src="https://habrastorage.org/files/669/c5a/1d9/669c5a1d9d0744838f7da16c421129aa.png"><br>  <i>Top command output</i> <br><br>  <b>15:20</b> <br>  Since then, even more time was allocated than the planned 10-15 minutes, the load from the processor went down to 5-7%, and the load on the RAM remained in the region of 80%. <br><br>  Based on this, it can be assumed that currently the rotation of the large-sized substrate causes a load on the RAM, and in the future it will not be released, which will affect the performance of the system.  At the same time, the use of a substrate of such a large size clogs the memory slightly and any actions with it will not be able to incorrectly affect the performance of the system.  But for the integrity of the experiment you will need to check it a couple more times. <br><br>  <b>15:50</b> <br>  Repeated experiment showed a similar result.  We make out the results of the identified problem in the task. <br><br>  <b>16:20</b> <br>  Let's see if the device operation mode that we requested in the morning has changed.  To do this, we look that the log filtering the values ‚Äã‚Äãof the change of device modes is empty.  So, we make the assumption that for 5 hours of operation, a regime change was not observed.  But for verification, we will leave the test for a day and tomorrow we will check the result using the saved logs. <br><br>  <b>16:40</b> <br>  We discuss the fixed bugs with colleagues, we make out the data obtained as a result of today's experiments, for each bug we start a ticket in Redmine. <br><br>  <b>5:30 pm</b> <br>  We check if there are any new letters, what tasks are set for tomorrow, their priorities and deadlines.  We also remember that we collect logs from the gateway stitched in the morning.  In this connection, before leaving work, you need not to forget that you should not turn off the power from the device, otherwise tomorrow we will be unpleasantly surprised by the lack of logs.  It happens, of course, that the power is turned off in the whole building, but we can‚Äôt do anything except to repeat it. <br><br>  <b>18:00</b> <br>  We check that the logs are written to the file, the device is included in the network.  You can go home.  And tomorrow, again, to meet the new undiscovered bugs, interesting tasks and difficulties that are always encountered on the tester‚Äôs hard way. <br><br><h4>  What is the result </h4><br><img src="https://habrastorage.org/files/67e/1f1/729/67e1f17290b3486fbb3bb0e0ae331e76.png"><br><br>  Summing up the past day, we can conclude that in order to correctly conduct tests and obtain reliable results, special attention should be paid to the preliminary planning stage of the test.  It is necessary to foresee all the difficulties and possible problems that may be encountered during the test, it will minimize the time to eliminate (solve) problems. <br><br>  For example, an experiment on voice transmission via a chain of repeaters would take much less time if we had previously (even at the planning stage of the experiment) considered that repeaters would hear each other through walls and would reduce the power of repeaters.  And during the experiment would not be distracted by this problem. <br><br>  Also, before starting equipment placement and testing, it is necessary to make sure several times that the parameters set on the equipment used correspond to the required values.  Check that the equipment is determined in the system, light and sound indication, where it is, is in good condition and functions correctly.  This will save time on replacing the faulty device and repeating the test (due to an incorrectly set parameter value). <br><br>  Thank you for your attention, I am ready to answer questions in the comments. </div><p>Source: <a href="https://habr.com/ru/post/308342/">https://habr.com/ru/post/308342/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../308332/index.html">Moving to the cloud: everything you wanted to know about Office 365 ProPlus</a></li>
<li><a href="../308334/index.html">Major world events, hacktivism and #OpOlympicHacking</a></li>
<li><a href="../308336/index.html">Analyzing errors in open components of Unity3D</a></li>
<li><a href="../308338/index.html">GPS trackers through the eyes of a system administrator</a></li>
<li><a href="../308340/index.html">What to prefer: own resources, purchase or outsourcing?</a></li>
<li><a href="../308346/index.html">Optimizing the comparison of this with a null pointer in gcc 6.1</a></li>
<li><a href="../308348/index.html">Problem solution: how to fix a ‚Äúbroken‚Äù VPS on Linux</a></li>
<li><a href="../308350/index.html">Hyper-V or KVM?</a></li>
<li><a href="../308352/index.html">Testing RESTful API on NodeJS with Mocha and Chai</a></li>
<li><a href="../308356/index.html">[Poll] And that's about neural networks, AI, etc.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>