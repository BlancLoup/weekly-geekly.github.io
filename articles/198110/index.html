<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Install pyload as standalone rocking for ReadyNAS DUO v2</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="For downloading ReadyNAS torrents on the home site, addons has a transmission, and it's not a problem to install it. 
 But, at the same time, simple f...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Install pyload as standalone rocking for ReadyNAS DUO v2</h1><div class="post__text post__text-html js-mediator-article">  For downloading ReadyNAS torrents on the home site, addons has a transmission, and it's not a problem to install it. <br>  But, at the same time, simple ftp / http rocking, to my regret and surprise, I did not find there.  This is a misunderstanding I propose to correct. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/90f/50f/e89/90f50fe8906454acccba6d4811ec56f7.jpg" alt="Pyload WebGUI"><br><a name="habracut"></a><br>  First you need to install EnableROOT from the addons for further comfortable configuration via ssh. <br>  We download the <a href="">EnableRootSSH_1.0-arm.bin</a> and install it via the ReadyNAS admin panel. <br>  We will be asked to reboot, after which ssh will be available on the standard port with the login root and your current password from the admin panel. <br><br>  To connect, you can use the kitty.  Recently, I prefer to use it instead of putty - because  it has utf8 default encoding for new connections. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Here's what the ReadyNAS DUO v2 (version FW 5.3.8) is: <br><br><div class="spoiler">  <b class="spoiler_title">cat / etc / debian_version</b> <div class="spoiler_text">  6.0.3 <br></div></div><br><div class="spoiler">  <b class="spoiler_title">uname -a</b> <div class="spoiler_text">  Linux nas 2.6.31.8.duov2 # 1 Thu Apr 18 18:24:47 HKT 2013 armv5tel GNU / Linux <br></div></div><br><div class="spoiler">  <b class="spoiler_title">cat / proc / cpuinfo</b> <div class="spoiler_text">  Processor: Feroceon 88FR131 rev 1 (v5l) <br>  BogoMIPS: 1599.07 <br>  Features: swp half thumb fastmult edsp <br>  CPU implementer: 0x56 <br>  CPU architecture: 5TE <br>  CPU variant: 0x2 <br>  CPU part: 0x131 <br>  CPU revision: 1 <br>  Hardware: Feroceon-KW <br>  Revision: 0000 <br>  Serial: 0000000000000000 <br></div></div><br><div class="spoiler">  <b class="spoiler_title">cat / proc / meminfo</b> <div class="spoiler_text">  MemTotal: 246820 kB <br>  MemFree: 24188 kB <br>  Buffers: 6056 kB <br>  Cached: 104700 kB <br>  SwapCached: 12 kB <br>  Active: 96728 kB <br>  Inactive: 101508 kB <br>  Active (anon): 36812 kB <br>  Inactive (anon): 51176 kB <br>  Active (file): 59916 kB <br>  Inactive (file): 50332 kB <br>  Unevictable: 16 kB <br>  Mlocked: 4 kB <br>  SwapTotal: 524268 kB <br>  SwapFree: 524256 kB <br>  Dirty: 92 kB <br>  Writeback: 0 kB <br>  AnonPages: 87504 kB <br>  Mapped: 28332 kB <br>  Slab: 15456 kB <br>  SReclaimable: 3764 kB <br>  SUnreclaim: 11692 kB <br>  PageTables: 2052 kB <br>  NFS_Unstable: 0 kB <br>  Bounce: 0 kB <br>  WritebackTmp: 0 kB <br>  CommitLimit: 647676 kB <br>  Committed_AS: 610212 kB <br>  VmallocTotal: 385024 kB <br>  VmallocUsed: 940 kB <br>  VmallocChunk: 382812 kB <br></div></div><br><br><blockquote>  <b>On a note</b> <br><br>  ReadyNAS marketers are pushing under the name FLEX-RAID &amp; X-RAID2 ... mdadm.  Only shh! </blockquote><br><br>  Update the packages available from the base repository and install the necessary dependencies: <br><pre><code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#apt-get update #apt-get install python python-beaker python-crypto python-imaging python-jinja2 python-openssl python-pycurl tesseract-ocr-eng unzip nano</span></span></code> </pre> <br><br>  Since samba is mainly used to access downloaded files, we need to upload our files with the same user / group permissions as samba - nobody: nogroup.  There is also an alternative (less hemorrhoid) option to leave everything as it is, and run pyload as root, but change the user / group with the means of pyload itself.  For myself, I chose the first option (yes, Gentushnik). <br><br>  Downloading the pyload sources: <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#cd /opt #wget https://github.com/pyload/pyload/archive/stable.zip #unzip stable.zip &amp;&amp; mv pyload-stable pyload #touch /opt/pyload/pyload.pid &amp;&amp; chown ‚ÄìR nobody:nogroup /opt/pyload #usermod ‚Äìs /bin/bash nobody</span></span></code> </pre><br><br>  Now we proceed directly to setting up pyload. <br>  Let's run in configuration mode - the careful pyload will check the features available to it and report it. <br><br> <code>#cd /opt/pyload &amp;&amp; su nobody -c "python pyLoadCore.py ‚Äìs"</code> <br> <div class="spoiler">  <b class="spoiler_title">Exhaust should be similar (sheet):</b> <div class="spoiler_text">  Choose your Language / W√§hle deine Sprache ([en], de, fr, it, es, nl, sv, ru, pl, cs, sr, pt_BR): <i>Enter</i> <br><br>  <i>// You can change the installation language.</i> <br><br>  Welcome to the pyLoad Configuration Assistent. <br>  It will check your system and make a basic setup in order to run pyLoad. <br><br>  The value in brackets [] always is the default value, <br>  you are unsure what to choose, just hit enter. <br>  Don't forget: you can always start pyLoadCore. <br>  If you hit STRG-C, <br>  to start with pyLoadCore automatically anymore. <br><br>  When you are ready to check, hit enter.  <i>Enter</i> <br><br>  ## System Check ## <br>  Python Version: OK <br>  pycurl: OK <br>  sqlite3: OK <br><br>  pycrypto: OK <br>  py-OpenSSL: OK <br><br>  py-imaging: OK <br>  tesseract: OK <br><br>  PyQt4: missing <br><br>  jinja2: OK <br>  beaker: OK <br>  JS engine: missing <br><br>  System check finished, hit enter status report.  <i>Enter</i> <br><br>  ## Status ## <br><br>  Features available: container decrypting, ssl connection, automatic captcha decryption, Webinterface <br><br>  Featues missing: <br><br>  Gui not available <br>  The Graphical User Interface. <br><br>  no JavaScript engine found <br>  You will need to click here.  Install Spidermonkey, ossp-js, pyv8 or rhino <br>  Fix it up. <br>  Continue with setup?  ([y] / n): <i>Enter</i> <br><br>  <i>// I clamped resources and unwilling to overload the system.</i>  <i>You can try to put rhino or spidermonkey.</i> <br><br>  Do you want to change the config path?  Current is /root/pyload/.pyload <br>  If you use it, it‚Äôs a good idea to change it. <br>  Change config path?  (y / [n]): <i>Enter</i> <br><br>  <i>// In my case, the saved path was pulled.</i>  <i>Specify your - /root/pyload/.pyload</i> <br><br>  Do you want to configure login data and basic settings? <br>  This is recommend for first run. <br>  Make basic setup?  ([y] / n): <i>Enter</i> <br><br>  ## Basic Setup ## <br><br>  The following logindata is valid for CLI, GUI and webinterface. <br>  Username [User]: <i>pyload</i> <br>  Password: <br>  Password (again): <br><br>  <i>// Drive in your data.</i>  <i>Please note that the admin user is permanent on the system and cannot be deleted.</i> <br><br>  External clients (GUI, CLI or other) need to get access to work over the network. <br>  However, you can save ram. <br>  Enable remote access ([y] / n): <i>n</i> <br><br>  <i>// If you decide to try an rpc client from a PC, then you probably need to turn it on (more on that later).</i> <br><br>  Language ([en], de, fr, it, es, nl, sv, ru, pl, cs, sr, pt_BR): <i>Enter</i> <br>  Downloadfolder [download]: <i>/ d / media2 / pyload</i> <br><br>  <i>// My disk is divided into 2 volumes of 2 TB each.</i>  <i>I'm greedy, what to do.</i> <br><br>  Max parallel downloads [3]: <i>Enter</i> <br>  Use Reconnect?  (y / [n]): <i>Enter</i> <br><br>  Do you want to configure ssl? <br>  Configure ssl?  (y / [n]): <i>Enter</i> <br><br>  <i>// In the case of the choice of a threaded server, you need to enable it, and do not forget to generate keys with commands that the configurator spits out (more on this later).</i> <br><br>  Do you want to configure webinterface? <br>  Configure webinterface?  ([y] / n): <i>Enter</i> <br><br>  ## Webinterface Setup ## <br><br>  Activate webinterface?  ([y] / n): <i>Enter</i> <br><br>  Listen address, if you use 127.0.0.1 or localhost, the web interface will only be accessible locally. <br>  Address [0.0.0.0]: <i>Enter</i> <br>  Port [8000]: <i>Enter</i> <br><br>  <i>// Port to taste, just not overlap with already running services.</i> <br><br>  pyLoad offers several server backends, now following a short explanation. <br>  dont know which one to choose. <br>  threaded: this server offers SSL and is a good alternative to builtin. <br>  fastcgi: Can be used by apache, lighttpd, requires you to configure it. <br>  lightweight: requires fast ordering and linux knowlegde. <br>  Get it from here: <a href="https://github.com/jonashaag/bjoern">github.com/jonashaag/bjoern</a> , compile it <br>  and copy bjoern.so to module / lib <br><br>  Attention: If you notice problems with the webinterface <br>  come back here. <br>  Server ([builtin], threaded, fastcgi, lightweight): Enter <br><br>  <i>// I have tried different versions of web servers:</i> <i><br></i> <ul><li>  builtin: Tried it.  Works.  Stopped on it, as in the most unassuming version. </li><li>  threaded: I tried.  Works. </li><li>  fastcgi: I haven't.  On the official forum I came across problems with setting up wcgi.  Hemorrhoids way.  Skip </li><li>  lightweight: failed to try.  Installed the necessary tools to build and libev.  When assembling buried in the error, why spat on this thing.  Maybe someone will succeed (I spied <a href="http://pyload.org/install_bjoern">here</a> ). </li></ul><br><br>  Setup finished successfully. <br>  Hit enter to exit and restart pyLoad <br></div></div><br><br>  Congratulations, we have almost everything set up.  Now we have to make a convenient launch of what we have done. <br><br>  At first I decided to go to the forehead and make a makeshift autorun - I put the following entry in the crontab: <br> <code>@reboot sh /root/pyload-start.sh</code> <br> <br><pre> <code class="bash hljs">root@nas:~<span class="hljs-comment"><span class="hljs-comment"># cat pyload-start.sh #!/bin/sh sleep 30 su nobody -c "/usr/bin/python /opt/pyload/pyLoadCore.py --daemon"</span></span></code> </pre><br><br>  Then, nevertheless, he entered more civilized.  Create a startup script with the following content: <br><div class="spoiler">  <b class="spoiler_title">/etc/init.d/pyload</b> <div class="spoiler_text">  #! / bin / sh <br><br>  ### BEGIN INIT INFO <br>  # Provides: pyload <br>  # Required-Start: $ syslog $ local_fs $ network $ remote_fs <br>  # Required-Stop: $ syslog $ local_fs $ network $ remote_fs <br>  # Should-Start: $ remote_fs $ named <br>  # Should-Stop: $ remote_fs $ named <br>  # Default-Start: 2 3 4 5 <br>  # Default-Stop: 0 1 6 <br>  # Short-Description: Starts pyload daemon <br>  # Description: this script runs the pyload service <br>  ### END INIT INFO <br><br>  # Starts and stops the pyload daemon. <br><br>  PATH = / bin: / usr / bin: / sbin: / usr / sbin <br>  DAEMON = "/ usr / bin / python /opt/pyload/pyLoadCore.py" <br>  PIDFILE = "/ opt / pyload / pyload.pid" <br><br>  .  / lib / lsb / init-functions <br><br>  start () { <br>  log_daemon_msg "Starting pyLoad server" <br><br>  su nobody -c "$ DAEMON --daemon" <br><br>  if [$?  ! = 0];  then <br>  log_end_msg 1 <br>  exit 1 <br>  else <br>  log_end_msg 0 <br>  fi <br>  } <br><br>  stop () { <br>  log_daemon_msg "Stoping pyLoad server" <br><br>  su nobody -c "$ DAEMON --quit" <br><br>  if [$?  ! = 0];  then <br>  log_end_msg 1 <br>  # exit 1 <br>  else <br>  log_end_msg 0 <br>  fi <br>  } <br><br>  case "$ 1" in <br>  start) <br>  start <br>  ;; <br><br>  stop) <br>  stop <br>  ;; <br><br>  force-reload) <br>  stop <br>  sleep 5 <br>  start <br>  ;; <br><br>  restart) <br>  stop <br>  sleep 2 <br>  start <br>  ;; <br><br>  *) <br>  echo "Usage: $ 0 {start | stop | restart | force-reload}" <br>  exit 1 <br>  ;; <br>  esac <br><br>  exit 0 <br></div></div><br><br>  Making it executable: <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#chmod +x /etc/init.d/pyload</span></span></code> </pre><br><br>  And we force the service to start at the start: <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#update-rc.d pyload start 20 2 3 4 5 . stop 10 0 1 6 .</span></span></code> </pre><br><br>  We try to start and extinguish the service through an init-script: <br><pre> <code class="bash hljs">/etc/init.d/pyload start /etc/init.d/pyload stop</code> </pre><br><br>  I configured the openvpn tunnel to the home router, so the pyload web snout is available at my home address.  If the reluctance to bother with openvpn - trite port forward on the router. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5cc/6d3/621/5cc6d36217ac5d543eb709cab212fd54.jpg" alt="Pyload PyQT GUI"><br><br>  It is also possible to manage downloads through a separate program that over RPC (with SSL, if you have configured this) interacts with the pyload server.  We download binaries for Windows <a href="http://get.pyload.org/get/win">pyload-v0.4.9-win.zip</a> We are convincingly warned that the PyQT GUI is unstable, and it is better to use webGUI.  I did not seem to fall and did not hang - maybe I exploited a little. <br><br><blockquote>  In order for ssl support to appear, you must answer in the affirmative in the configurator, as well as generate a self-signed certificate: <br><pre> <code class="bash hljs">openssl genrsa -out ssl.key 1024 openssl req -new -key ssl.key -out ssl.csr openssl req -days 36500 -x509 -key ssl.key -<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ssl.csr &gt; ssl.crt</code> </pre></blockquote><br><br>  When setting up were used: <br>  <a href="http://pyload.org/">Pyload site</a> <br>  <a href="http://pyload.org/install_bjoern">Pyload site: Install bjoern</a> <br>  <a href="http://forum.pyload.org/viewtopic.php%3Ff%3D7%26t%3D916">Pyload forum: Script modification for booting Debian</a> <br>  <a href="http://forum.pyload.org/viewtopic.php%3Ff%3D7%26t%3D1957">Pyload forum: Running the download user</a> <br><br>  All positive and good luck! </div><p>Source: <a href="https://habr.com/ru/post/198110/">https://habr.com/ru/post/198110/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../198100/index.html">ActiveRecord and transaction rollback in Yii</a></li>
<li><a href="../198102/index.html">We control the webcam with the joystick</a></li>
<li><a href="../198104/index.html">Under the hood at Dictionary and ConcurrentDictionary</a></li>
<li><a href="../198106/index.html">Old, kind ‚ÄúThe Matrix‚Äù or visualizer for matrix version one</a></li>
<li><a href="../198108/index.html">ICMP port knocking in OpenWRT</a></li>
<li><a href="../198112/index.html">Translation of the book ‚ÄúAvailable 3D printing for science, education and sustainable development‚Äù (Low-cost 3D Printing for Science, Education and Sustainable Development), 2013</a></li>
<li><a href="../198114/index.html">Impractical triage - meaningless and merciless</a></li>
<li><a href="../198116/index.html">Compile the code from the code to reproduce the race of the two processes.</a></li>
<li><a href="../198118/index.html">Intergeo 2013. Essen. Germany. Laser scan</a></li>
<li><a href="../198120/index.html">So that you live on donate!</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>