<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>You are not google</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We, programmers, sometimes for some reason go crazy. And for some completely ridiculous reasons. We like to think of ourselves as super-rational peopl...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>You are not google</h1><div class="post__text post__text-html js-mediator-article">  We, programmers, sometimes for some reason go crazy.  And for some completely ridiculous reasons.  We like to think of ourselves as super-rational people, but when it comes to choosing the key technology of a new product, we are plunged into some kind of madness.  Suddenly it turns out that someone heard something about one cool thing, and his colleague read a comment about another on Habr√©, and a third person saw a blog post about something else similar ... and now we are in complete stupor, helplessly floundering in attempts to choose between completely opposite systems, already forgetting that we are trying to choose at all and why. <br><br>  Rational people do not make decisions that way.  But this is how programmers often decide to use something like MapReduce. <br><br>  Here's how Joe Hellerstein <a href="https://archive.org/details/ucberkeley_webcast_NSKvCVFmk2E">commented on</a> this choice to his students (in the 54th minute): 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <blockquote>  The fact is that there are about 5 companies in the world that process data of such volumes.  All the rest are driving all this data back and forth, seeking resiliency, which they really do not need.  People have suffered from gigantomania and googlemaking somewhere since the mid-2000s: ‚Äúwe will do everything the way Google does, because we are building one of the largest (in the future) data processing services in the world!‚Äù </blockquote><br><img src="https://habrastorage.org/getpro/habr/post_images/c11/e9a/c0c/c11e9ac0c1b1df784742d1850dcf9bd2.jpg" alt="image"><br><br>  How many floors are in your datacenter?  Google is now building four floors, like this one in Oklahoma. <br><a name="habracut"></a><br>  Getting more resiliency than you actually need may seem like a good idea.  But this is only if it turned out automatically and for free.  But this is not the case, everything has its price: you will not only transfer much more data between nodes (and pay for it), but also step out of the solid ground of classic storage systems (with all their transactions, indexes, query optimizers, and more .d.) on the fragile soil of weak infrastructure of new-fangled systems.  This is an important step (and often a <a href="https://homes.cs.washington.edu/~billhowe/mapreduce_a_major_step_backwards.html">step back</a> ).  How many Hadoop users have done it consciously?  How many of them over time can say that it was a verified and wise move? <br><br>  MapReduce and Hadoop in this regard are easy targets for criticism, because even the followers of the cargo cult eventually recognized that their rites somehow did not work very well for attracting airplanes.  But this observation can also be summarized: if you decide to use some technology created by a large corporation, it may well be that you did not consciously come to this decision;  it is quite possible that some kind of mystical belief led to the fact that it is possible to imitate the behavior of giants and thus achieve the same heights. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/75f/5e6/e5f/75f5e6e5fb0c29c826078b0c0dd9e9c9.jpg" alt="image"><br><br>  Yes, this is another "anti-cargo cult" article.  But wait!  I have a useful checklist below that will help you make smarter decisions. <br><br><h2>  Cool technology?  Well, let's check out. </h2><br>  Next time, when you suddenly find a completely awesome technology, on which you can rewrite all your architecture right today, I‚Äôll ask you to pause: <br><br><ol><li>  Think about the problem you need to solve in your product.  <b>Understand it to the end</b> .  Your task should be to solve this problem with the help of some tools, and not to solve "some" problem that the tool you like can solve. <br><br></li><li>  Select <b>several</b> potential tools.  Do not choose one ‚Äúpet‚Äù for yourself until you have a list of several alternatives! <br><br></li><li>  For each candidate, find his " <b>Main Document</b> " and read it.  Not comments or translations, but the ‚Äúsame‚Äù document. <br><br></li><li>  Determine the <b>historical context</b> that led to the creation of this tool the way it was created. <br><br></li><li>  Ideals do not happen.  Weigh the <b>advantages</b> and disadvantages of each tool.  Understand what compromises had to go to its creators in order to achieve the main goals they declared. <br><br></li><li>  <b>Think</b> !  Answer yourself soberly and honestly to the question whether your goals and priorities coincide with the goals and priorities of the creators of the tools you plan to use.  What new fact about this tool could make you refuse to use it?  For example, how much should the scale of your tasks differ from those for which the tool is designed to make you think about the irrationality of its application? </li></ol><br><h2>  And you - not Amazon </h2><br>  The above technique is fairly easy to apply in practice.  Most recently, I discussed with one company their plans to use Cassandra for a new (fairly loaded with reading operations) project.  I read the original document, which described the principles of Dynamo and, knowing that Cassandra is close enough to Dynamo, I realized that these systems were based on the principle of prioritizing write operations (Amazon wanted the ‚Äúadd to cart‚Äù operation to always be successful).  And they even achieved this by donating, however, the guaranteed consistency and functionality of traditional relational databases.  But the company with which I discussed the application of this solution did not put data recording in priorities (all data came in one block once a day), but consistency and productive reading were very much needed. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bde/a57/e92/bdea57e92ddc01576a3f06d67ebcca3d.jpg" alt="image"><br><br>  Amazon sells a lot of different goods.  If the operation ‚Äúadd to cart‚Äù suddenly starts working unstably - they will lose a lot of money.  Do you have the same situation? <br><br>  The company, which wanted to implement Cassandra, did this because one of the queries in their PostgreSQL took several minutes and they thought that they had rested against the hardware capabilities of the platform.  After literally a couple of clarifying questions, it turned out that transferring their base to SSD accelerated this request by 2 orders of magnitude (up to a few seconds).  It was still slow, of course, but just appreciate how the transition to SSD (one second thing) could speed up the bottleneck about 100 times.  Without any fundamental alterations of architecture.  It became absolutely clear that the transition to Cassandra is not the right way.  This required some tuning of the existing solution, perhaps re-modeling the database schema, but definitely not trying to solve the reading problem with a tool created to solve the writing problem. <br><br><h2>  Plus, you're not LinkedIn. </h2><br>  I was very surprised when I learned how one of my familiar companies decided to build their architecture around Kafka.  This seemed strange to me, since their main task was processing several dozen (on a good day ‚Äî several hundred) fairly important transactions.  For such an input load, even a ‚Äú <i>grandmother manually writing operations to a paper notebook</i> ‚Äù solution would be <i>suitable</i> .  Kafka, for you to understand, was created to collect all LinkedIn analytical information (all these messages, requests, groups, chat rooms, news, ratings, etc.).  A huge amount of data.  I can not estimate their volumes now, but a few years ago LinkedIn called a figure of about 1 trillion events per day, with individual peaks up to 10 million per second.  Yes, I understand that 10 transactions per day can also be successfully processed with its help.  But why do this?  The difference of theoretical load and practical necessity is 10 ORDERS! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c33/555/6d5/c335556d5d926ff377f98cf41e9d67ff.jpg" alt="image"><br><br>  Our Sun, for example, is only 6 orders of magnitude larger than the Earth. <br><br>  Yes, it is quite possible that the engineers of this company rationally evaluated all the advantages of Kafka and chose this tool for some unknown reason to me, not related to the loads.  But it‚Äôs more likely that they just fell under the influence of some enthusiastic response, articles, community opinions or something else, shouting "take Kafka" to them ... No, well, you think 10 orders of magnitude! <br><br><h2>  Did I mention that you are not an Amazon? </h2><br>  An even more popular thing than Amazon's distributed databases is their architectural approach to scale: <a href="https://en.wikipedia.org/wiki/Service-oriented_architecture">service-oriented architecture</a> (SOA).  In 2001, Amazon realized that it could not effectively scale the load on its front end, and, working to solve this problem, came to SOA.  This success story was transmitted orally and in writing from one engineer to another, and now we come to a situation where every first startup out of three programmers and zero users begins their life journey by breaking their home page into nanos-services.  By the time Amazon realized the need to move to SOA, <a href="http://media.corporate-ir.net/media_files/irol/97/97664/reports/2001annualreport.pdf">they had 7,800 employees and they were selling goods for $ 3 billion a year</a> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/27c/d90/b7b/27cd90b7bf3c9558f778a30d0f4282f9.jpg" alt="image"><br><br>  This room holds 7,000 people.  And Amazon had 7800, when it needed a transition to SOA. <br><br>  I am not saying that you need to wait until the 7800th employee is hired to implement SOA.  Just ask yourself a question - is this the problem that needs to be solved now?  There are no others?  If you tell me that this is indeed the case and your company of 50 people right now rests precisely on the absence of SOA, then how do you explain the fact that there are dozens of times large companies that do not suffer from this at all? <br><br><h2>  And even Google is not Google. </h2><br>  Using well-scaling tools like Hadoop or Spark can be very interesting.  However, in practice, classical tools are better suited for ordinary and even large loads.  Sometimes seemingly ‚Äúlarge‚Äù volumes can even fit completely into the RAM of a single computer.  Did you know that today you can get a terabyte of RAM for about $ 10,000?  Even if you have a whole billion users (and you don‚Äôt have one), for this price you will receive a whole kilobyte of data in RAM for each of them.  Very fast kilobyte available.  Perhaps this is not enough for your tasks and you have to read / write something from the disk.  But how many disks will it be - are there thousands?  Hardly.  You do not need solutions like GFS and MapReduce, which were created, for a minute, to store the search index TOTAL INTERNET. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a39/67d/636/a3967d6362889ad78a8a845afa3cc4e7.jpg" alt="image"><br><br>  Hard disk space today is much cheaper than in 2003, when the GFS description was published. <br><br>  You may have read the GFS and MapReduce documentation.  Then you can remember that the main problem that Google was trying to solve was not capacity, but bandwidth.  They built a distributed system to access the right data faster.  But today is the year 2017 and the bandwidth of devices has grown.  Please note that you do not need to process as much data as Google does.  So maybe it will be enough to buy better hard drives (maybe SSD) and that will be enough? <br><br>  Perhaps you expect to grow over time.  But did you think exactly how much?  Will you accumulate data faster than the cost of SSD will fall?  How much will your business need to grow to the point when all your data will no longer fit on the same physical machine?  In 2016, the Stack Exchange system, serving 200 million requests per day, <a href="https://nickcraver.com/blog/2016/02/17/stack-overflow-the-architecture-2016-edition/">used only 4 SQL servers</a> : one for Stack Overflow, one for the rest, and two replicas. <br><br>  You can go through the checklist I specified above and still stop at Hadoop or Spark.  And this may even be the right decision.  It is important, however, to understand that the right here and now decision will not necessarily remain so for a long time.  Google knows this well: as soon as they decided that MapReduce does not work well enough to build a search index, they stopped using it. <br><br><h2>  First understand your problem. </h2><br>  This thought is not mine and it is far from new.  But, perhaps, in the interpretation of this article, together with the checklist above, it will reach your heart.  If not, you can look at materials such as <a href="https://www.youtube.com/watch%3Fv%3Df84n5oFoZBc">Hammock Driven Development</a> , <a href="https://www.amazon.com/How-Solve-Mathematical-Princeton-Science/dp/069111966X">How to Solve It,</a> or <a href="https://www.youtube.com/playlist%3Flist%3DPL2FF649D0C4407B30">The Art of Doing Science and Engineering</a> - all of them get the same call to think, try to understand the problem before rushing to solve it.  In G. Polya's book there is such a phrase: <br><blockquote>  It is foolish to try to find an answer to a question that you do not know.  It's sad to work on what doesn't solve your problem. </blockquote></div><p>Source: <a href="https://habr.com/ru/post/330708/">https://habr.com/ru/post/330708/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../330694/index.html">The digest of fresh materials from the world of the frontend for the last week ‚Ññ266 (June 5 - 11, 2017)</a></li>
<li><a href="../330696/index.html">PHP Digest number 110 - the latest news, materials and tools (May 28 - June 11, 2017)</a></li>
<li><a href="../330702/index.html">SQL Server Integration Services (SSIS) for Beginners - Part 2</a></li>
<li><a href="../330704/index.html">Create your own custom Style plugin - Theming Views in Drupal 8</a></li>
<li><a href="../330706/index.html">Responsive Bar Charts with Bokeh, Flask and Python 3</a></li>
<li><a href="../330710/index.html">Copier RFID tags standard EM-Marin</a></li>
<li><a href="../330712/index.html">NNCP: online treatment and censorship of the store-and-forward method</a></li>
<li><a href="../330714/index.html">‚ÄúCloser to the people‚Äù: how to make IaaS more accessible</a></li>
<li><a href="../330716/index.html">‚ÄúThe biggest competitor is those who do everything themselves‚Äù - Petr Zaitsev about the creation and development of the Percona company</a></li>
<li><a href="../330720/index.html">Reform SQL-based approach in DAO</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>