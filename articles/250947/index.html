<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Selenium for Python. Chapter 3. Navigation</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Continuation of the translation of the unofficial Selenium documentation for Python. 
 The translation was made with the permission of the author Baij...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Selenium for Python. Chapter 3. Navigation</h1><div class="post__text post__text-html js-mediator-article">  Continuation of the translation of the unofficial Selenium documentation for Python. <br>  The translation was made with the permission of the author Baiju Muthukadan. <br>  The original can be found <a href="http://selenium-python.readthedocs.org/index.html">here</a> . <br><br><h2>  Content: </h2><br>  1. <a href="https://habr.com/ru/post/248559/">Installation</a> <br>  2. <a href="https://habr.com/ru/post/250921/">First Steps</a> <br>  3. Navigation <br>  4. <a href="https://habr.com/ru/post/250975/">Search for Items</a> <br>  5. <a href="https://habr.com/ru/post/273089/">Expectations</a> <br>  6. Page <a href="https://habr.com/ru/post/273115/">Objects</a> <br>  7. WebDriver API <br>  8. Appendix: Frequently Asked Questions <br><a name="habracut"></a><br><h1>  3. Navigation </h1><br>  Presumably, the first thing you want to do with WebDriver is to follow a link.  Usually for such purposes use the get method: <br><br><pre><code class="python hljs">driver.get(<span class="hljs-string"><span class="hljs-string">"http://www.google.com"</span></span>)</code> </pre> <br>  The driver.get method redirects to the page URL provided in the parameter.  WebDriver will wait until the page has completely loaded (that is, the ‚Äúonload‚Äù event is ignored) before transferring control to your test or script.  It should be noted that if the page uses a lot of AJAX code when loading, then WebDriver may not recognize whether it has fully loaded.  If you need to guarantee the full loading of pages, you can use the waiting (eng. Waits). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  3.1.  Page interaction </h2><br>  The ability to click on the link is not that useful by itself.  What you really want to do is interact with the page, or, to be precise, with the HTML elements on the page.  First you need to find them.  WebDriver provides a number of ways to search for items.  For example, on the page there is an element defined as follows: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"passwd"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"passwd-id"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre><br>  It can be found using any of the following methods: <br><br><pre> <code class="python hljs">element = driver.find_element_by_id(<span class="hljs-string"><span class="hljs-string">"passwd-id"</span></span>) element = driver.find_element_by_name(<span class="hljs-string"><span class="hljs-string">"passwd"</span></span>) element = driver.find_element_by_xpath(<span class="hljs-string"><span class="hljs-string">"//input[@id='passwd-id']"</span></span>)</code> </pre><br>  You can also search for the address of the hyperlink in the text of the hyperlink, but be careful: the text must match exactly.  Also, be careful when using XPATH in WebDriver.  If there is more than one element that meets the conditions of the query, only the first one found will be returned.  If nothing is found, a NoSuchElementException will be raised. <br><br>  WebDriver has an ‚ÄúObject-Oriented‚Äù API [Application Programming Interface (English application programming interface) - a set of ready-made methods and properties provided by an application (library, service) for use in external software products.  The API allows you to use the functionality of the original application (library, service), without delving into the subtleties of the implementation of this functionality.  - Approx.  lane];  we represent all element types using the same interface.  This means that even though you see a lot of available methods that you can choose when you press the autocomplete key combination in your IDE [Integrated Development Environment, a software system used by programmers to develop software.  - Approx.  lane.], not all of them will make sense to you or not all will be valid.  Do not worry!  WebDriver will try to fix everything, so if you call the method using it incorrectly (for example, use ‚ÄúsetSelected ()‚Äù for the ‚Äúmeta‚Äù tag [Meta Tags (English meta tags) - HTML tags designed to provide structured metadata about web page. As a rule, they are indicated in the header of the HTML document. - Note]], WebDriver will raise an exception. <br><br>  So we got the item.  What can you do with it?  First of all, you will want to enter some text in the text field: <br><br><pre> <code class="python hljs">element.send_keys(<span class="hljs-string"><span class="hljs-string">"some text"</span></span>)</code> </pre><br>  You can also simulate pressing the keyboard arrow keys with the ‚ÄúKeys‚Äù class: <br><br><pre> <code class="python hljs">element.send_keys(<span class="hljs-string"><span class="hljs-string">" and some"</span></span>, Keys.ARROW_DOWN)</code> </pre><br>  The send_keys method can be invoked for any element that allows you to check keyboard shortcuts, such as those used in GMail.  There is a side effect that entering into the text field does not automatically clear it.  Instead, what you type on the keyboard will be added to the one already entered in the field.  Clear textarea text field or text area is easy - using the clear method: <br><br><pre> <code class="python hljs">element.clear()</code> </pre><br><h2>  3.2.  Filling out forms </h2><br>  We have already considered entering text into a text area or text field, but what about other elements?  You can try to expand the drop-down list, after which you can use ‚ÄúsetSelected‚Äù to highlight tags like OPTION.  Working with SELECT tags is not so difficult: <br><br><pre> <code class="python hljs">element = driver.find_element_by_xpath(<span class="hljs-string"><span class="hljs-string">"//select[@name='name']"</span></span>) all_options = element.find_elements_by_tag_name(<span class="hljs-string"><span class="hljs-string">"option"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> option <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> all_options: print(<span class="hljs-string"><span class="hljs-string">"Value is: %s"</span></span> % option.get_attribute(<span class="hljs-string"><span class="hljs-string">"value"</span></span>)) option.click()</code> </pre><br>  Such a code will find the first ‚ÄúSELECT‚Äù element on the page, and in a loop it will go through all OPTION tags in turn, giving their values ‚Äã‚Äãand highlighting them one by one. <br><br>  As you can see, this is not the fastest way to work with SELECT elements.  The classes supported by the webdriver contain one called ‚ÄúSelect‚Äù, it provides more convenient ways to interact: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> selenium.webdriver.support.ui <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Select select = Select(driver.find_element_by_name(<span class="hljs-string"><span class="hljs-string">'name'</span></span>)) select.select_by_index(index) select.select_by_visible_text(<span class="hljs-string"><span class="hljs-string">"text"</span></span>) select.select_by_value(value)</code> </pre><br>  WebDriver also provides the ability to deselect all items from the drop-down list: <br><br><pre> <code class="python hljs">select = Select(driver.find_element_by_id(<span class="hljs-string"><span class="hljs-string">'id'</span></span>)) select.deselect_all()</code> </pre><br>  This code removes the selection from all OPTION tags of the first SELECT tag on the page. <br><br>  Suppose for a test you need a list of all the default options.  The Select class provides this property (returns a list): <br><br><pre> <code class="python hljs">select = Select(driver.find_element_by_xpath(<span class="hljs-string"><span class="hljs-string">"xpath"</span></span>)) all_selected_options = select.all_selected_options</code> </pre><br>  For all available options use: <br><br><pre> <code class="python hljs">options = select.options</code> </pre><br>  After completing the form is complete, you probably want to ‚Äúsave‚Äù the changes [submit - send, transmit, confirm - Approx.  trans.].  One way to do this is to find the ‚Äúsubmit‚Äù button and click on it: <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># , ID   "submit" :) driver.find_element_by_id("submit").click()</span></span></code> </pre><br>  As an alternative to the first method, you can use the ‚Äúsubmit‚Äù method, available for each element.  If you call it for an element inside a form, WebDriver runs through the entire DOM structure until it finds the closing form tag, and then calls submit for it.  If the element is out of shape, then NoSuchElementException will be raised: <br><br><pre> <code class="python hljs">element.submit()</code> </pre><br><h2>  3.3.  Dragging </h2><br>  There are two options for dragging items: moving an item by a certain amount, or dragging it to another item: <br><br><pre> <code class="python hljs">element = driver.find_element_by_name(<span class="hljs-string"><span class="hljs-string">"source"</span></span>) target = driver.find_element_by_name(<span class="hljs-string"><span class="hljs-string">"target"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> selenium.webdriver <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ActionChains action_chains = ActionChains(driver) action_chains.drag_and_drop(element, target)</code> </pre><br><h2>  3.4.  Switching between windows and frames </h2><br>  Modern web applications rarely do without frames (frame) and rarely when limited to one window.  WebDriver supports switching between named windows using the ‚Äúswitch_to_window‚Äù method: <br><br><pre> <code class="python hljs">driver.switch_to_window(<span class="hljs-string"><span class="hljs-string">"windowName"</span></span>)</code> </pre><br>  All calls starting with the driver will now be interpreted as facing the received window.  But how do you know the name of the window?  Take a look at the javascript code or link that opens the window: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"_.html"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">target</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag">&gt;</span></span> ,    <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  You can also send a window handle to the switch_to_window () method.  Using this feature, you can use the loop to iterate through all open windows, for example, like this: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> handle <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> driver.window_handles: driver.switch_to_window(handle)</code> </pre><br>  You can also switch between frames (frame or iframes): <br><br><pre> <code class="python hljs">driver.switch_to_frame(<span class="hljs-string"><span class="hljs-string">"frameName"</span></span>)</code> </pre><br>  You can access subordinate frames by submitting a path separated by a dot, or you can get a frame by index: <br><br><pre> <code class="python hljs">driver.switch_to_frame(<span class="hljs-string"><span class="hljs-string">"frameName.0.child"</span></span>)</code> </pre><br>  The following code will redirect to a frame named ‚Äúchild‚Äù, which in turn belongs to the first subordinate frame of the frame ‚ÄúframeName‚Äù.  <b>Paths to the frames are described completely - from the top level</b> : <br><br><pre> <code class="python hljs">driver.switch_to_frame(<span class="hljs-string"><span class="hljs-string">"frameName.0.child"</span></span>)</code> </pre><br>  When working with frames is complete, you need to switch back to the main frame, which can be done as follows: <br><br><pre> <code class="python hljs">driver.switch_to_default_content()</code> </pre><br><h2>  3.5.  Popup windows </h2><br>  Selenium WebDriver from the package supports the management of pop-up dialog boxes.  After you initiate the launch, a window will open, you can manage it like this: <br><br><pre> <code class="python hljs">alert = driver.switch_to_alert()</code> </pre><br>  The code will return the object of the current open window.  With this object, you can accept, reject a window question, read its contents, or even enter text at the window invitation.  The interface for interacting with pop-up windows works equally well for both alerts (alerts), and for confirmation requests (confirms) and prompts for prompts.  For more information, see the API documentation. <br><br><h2>  3.6.  Navigation: history and location </h2><br>  Earlier, we mentioned navigating a link using the ‚Äúget‚Äù command (driver.get (‚Äú <a href="http://www.example.com/">www.example.com</a> ‚Äù)).  As you may have noticed, WebDriver for some cases provides highly focused, specialized interaction interfaces, and navigation is not an exception.  To follow the link, you can use the get method: <br><br><pre> <code class="python hljs">driver.get(<span class="hljs-string"><span class="hljs-string">"http://www.example.com"</span></span>)</code> </pre><br>  To go forward or backward through the tab history: <br><br><pre> <code class="python hljs">driver.forward() driver.back()</code> </pre><br>  Keep in mind that this functionality is completely dependent on the driver used.  You can get an unexpected result if you are accustomed to the behavior of a particular browser while working with another. <br><br><h2>  3.7.  Cookies </h2><br>  Before we complete this chapter, you may be interested to learn how to use cookies.  First of all, you need a domain that uses cookies: <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#     driver.get("http://www.example.com") #  .  cookie     cookie = {"": ""} driver.add_cookie(cookie) #          URL all_cookies = driver.get_cookies() for cookie_name, cookie_value in all_cookies.items(): print("%s -&gt; %s", cookie_name, cookie_value)</span></span></code> </pre><br><br>  <a href="https://habr.com/ru/post/250975/">Go to the next chapter.</a> </div><p>Source: <a href="https://habr.com/ru/post/250947/">https://habr.com/ru/post/250947/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../250937/index.html">At the start, attention, DUMP! Yekaterinburg, March 20</a></li>
<li><a href="../250939/index.html">How to make a website and make money on it (for performers)</a></li>
<li><a href="../250941/index.html">Problem solving experience by creating an OLAP cube using C #</a></li>
<li><a href="../250943/index.html">Building an animated pie chart on jQuery</a></li>
<li><a href="../250945/index.html">ZeroNet - Distributed sites via Bittorrent and Bitcoin</a></li>
<li><a href="../250949/index.html">Diffusion of innovations, part one</a></li>
<li><a href="../250953/index.html">Car Tutorial Guide (Unity3d): Exploring an Alternative Physical Model (part 2 of 3)</a></li>
<li><a href="../250955/index.html">Objective-C Runtime for Si-Schnick. Part 1</a></li>
<li><a href="../250957/index.html">SMS mailing with Google Sheets API</a></li>
<li><a href="../250959/index.html">2015: End of Contact Center</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>