<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Two years with Dart: how we write in a language that is ‚Äúburied‚Äù every year (part 1)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="‚ÄúIs he not dead yet?‚Äù They ask us about Dart at each front-end conference. ‚ÄúHow does Google support the language?‚Äù, ‚ÄúHow do you hire developers to the...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Two years with Dart: how we write in a language that is ‚Äúburied‚Äù every year (part 1)</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/files/d41/0e5/717/d410e571775842ca9047e1d568171552.jpg"></div><br>  ‚ÄúIs he not dead yet?‚Äù They ask us about <a href="https://ru.wikipedia.org/wiki/Dart">Dart</a> at each front-end conference.  ‚ÄúHow does Google support the language?‚Äù, ‚ÄúHow do you hire developers to the team?‚Äù, ‚ÄúAnd why not TypeScript, if you need typing?‚Äù <br><br>  We decided to combine the most frequent questions and ask them in an interview with Igor Demyanov, the development manager of <a href="http://wrike.com/ru">Wrike</a> . <br><br>  Let's talk to him about why Wrike, with 2 million lines of code behind him more than two years ago, was not afraid to switch from JavaScript to Dart, how the migration went, how the product grew and the development team grew, how the language develops today, despite the talk about stagnation or even death. <br><a name="habracut"></a><br>  <b>Igor, the product is already more than 10 years old, but what happened before you started using Dart to design the Wrike frontend?</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Before Dart, we wrote on ExtJS 3 and partially on ExtJS 4. Plus, we had a small self-made framework, which was written by one of the former employees.  This "bicycle" now rather disturbs us, and we are slowly getting rid of it.  At the moment, there are more than 2.5 million lines of client code in the project, we‚Äôve been writing a darth for two years already and slowly getting rid of Legacy on ExtJS. <br><br>  <b>At what point and why did you understand that you should stop writing to JS?</b> <br><br>  It came when Wrike began to grow actively.  When we had 11 people in our team, we could somehow use JavaScript, more or less understand who wrote what code, remember all the nuances of the old code.  But now in the front-end team we have about 50 people, the developers are distributed over more than 10 scrum teams, and the rule of personal agreements is no longer working.  There are many tasks, a lot of developers, a lot of code. <br><br>  <b>A lot of code is how much?</b> <br><br>  We are currently shipping about 10 megabytes of compressed code to the client, it was 5 or 6 earlier. And earlier this figure looked scary, now and even more so.  But we can not do anything here - the product is actively growing functionally.  Of course, we strive to ensure that individual pieces of code are loaded on demand, but in some cases you have to load all the code at once, so that all the functionality of Wrike is available to the client instantly. <br><br>  <b>So why Dart?</b> <br><br>  Dart compares favorably with the rest of the fact that it can throw out unused parts of the code, this allows us to live with such a huge legacy.  When a project is large and there are many developers, it is very difficult to control what you use and what not.  There is a code that lies in the code base - maybe it was just someone forgot to throw it out of the general assembly - and it still lives with us.  And if we used JS with its collectors, this code would definitely come to the client.  And Dart allows you to optimize and cut out unnecessary code.  Plus, we are not dependent on any JS standards that are constantly changing and updating.  When you make an enterprise product, it is very difficult to beat the business time for translation from one standard to another. <br><br>  Choosing Dart, we took the path of slow migration: we first rewrote the core part, then the rest of the functionality.  Now we are already loading a new code more than the old one.  At the same time, the product is actively developing and new features have to be done very quickly. <br>  From the point of view of the team, the process has also changed - the developers spend less time on the proceedings, which parameters are transferred to. <br><br>  Yes, now approximately the same possibilities are at Typescript or JS + Flow, but we like Dart.  The language has a simple and clear syntax, and most importantly, it allows us to concentrate on ideas, save time, which we would spend on refactoring or, say, switching from ES5 to ES6, frameworks, etc. <br><br><img src="https://habrastorage.org/web/669/015/25f/66901525fa1544d6a51b09ebede22fad.jpg"><br><br>  <b>Is there some kind of development of product components on JS?</b> <br><br>  In some exceptional cases, we can make changes to the legacy code on JS if we see some critical bug.  In other cases, the new code is written on Dart - it either replaces the old code or adds new functionality. <br><br>  <b>What framework do you use?</b> <br><br>  About a year ago, we switched from Polymer to Angular2.  Now we are planning to switch to Angular3, and by the end of the year - to Angular4.  In many companies, business in this regard is rather difficult to meet R'n'D - such migrations are accompanied by long disputes and convictions.  The fact that we use the newest tools is not only the merit of front-end developers, but also our automation testers, who help us well with regression tests and QA Manual.  When we switched to Dart, we received the support of all the technical teams of Wrike, so this transition was relatively painless to us.  Similarly with Angular - we predict that the transition between versions will drag on for 1-2 months, hardly more. <br><br>  <b>Now they know little about the language of Dart, but 2 years ago there was no information at all.</b>  <b>How did you manage to redo everything on a living project?</b>  <b>It is hard to imagine that the business has gone to this at all.</b> <br><br>  I myself started using Dart from version 0.8, when it was still in beta.  At the time of introduction into Wrike Dart, the specification, standards, etc., have already been officially registered, that is, we were confident that nothing fundamentally changes in the language.  We knew which language we would be dealing with, we analyzed everything and got the first results, which could convincingly prove the need for change.  The main argument in favor of darts was Tree Shaking - the ability of darts to cut unused code down to the methods.  And this is with our volume legacy critical. <br><br>  <b>Why not typeScript?</b> <br><br>  If we, for example, ported Wrike to TypeScript, it would probably be "cheaper."  On the other hand, we have so much code that porting to TS, most likely would not have given us anything - the same volume of loaded Legacy would remain, only on TypeScript.  Dart forces us to write concisely and correctly, and does not allow simple mistakes in the design, this is his plus, but this, of course, is its rigor. <br><br>  If you go back to business, then yes, here we received support.  Our CEO Andrei Filev is a developer himself, and the conversation with him can be done in the same language.  Plus, Google‚Äôs reputation as a language developer says a lot.  In the end, these changes were necessary for the business itself to quickly develop and release features that allow us to remain one of the market leaders.  In general, the business supported, and now we are moving very fast, and the business is satisfied with our speed. <br><br>  <b>But those 11 people who wrote on JS and were forced to switch to Dart, probably, didn‚Äôt so happily accept this news?</b> <br><br>  The guys who worked with some other language besides JavaScript, very easily switched to Dart.  On the contrary, they were pleased that Dart solves their problems with someone else's code and simplifies communication.  Of course, there were those who knew only one JavaScript, and, like any "old believer", perceived the changes with hostility. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/0ku8s4m_1Oc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  Now in the JavaScript world there is a rather low threshold of entry, there is a lot of newbies in the community who are learning the language, but they hardly understand how large products are designed.  My colleague Evgeny Gusev has a <a href="https://youtu.be/PApQtmNZ2ZM%3Ft%3D2">report on this topic</a> , which not so long ago caused considerable controversy among JS developers. <br><br>  Any language can be considered only in the context of its application, therefore, disputes and holivars are meaningless here.  For example, JavaScript is all good for prototyping - no matter how you write the code in JS, you will most likely run it.  There is no ‚Äúbad javascript‚Äù concept - either it works as you need, or it does not work as you need, that's all. <br><br><img src="https://habrastorage.org/web/511/253/512/51125351293d4f96a4e38e7bc97f540b.JPG"><br><br>  With Dart harder.  You, as in Java and as in .net, have an analyzer that tells you: ‚ÄúYou know, friend, no matter how wrong.  So you can not do.  You cannot create dynamic classes, etc. ‚Äù  That is, the language simply does not allow himself to shoot in the foot, no matter how you want. <br><br>  If you look, many of the creators of Dart, have worked with serious object-oriented languages, V8 did, even someone from Java they have.  They approached language design from the point of view of large applications, therefore Dart is a language for medium, large, and very large applications.  He offers one default, but the most effective solution, and it comes out of the box.  You can do a one-click delayed download / download on demand, the language itself will ‚Äúcut out‚Äù, optimize the code - these are the bonuses that are needed for large applications.  On small applications, you practically will not see any noticeable effect compared to JS. <br><br>  <i>How the language develops, what's new in it to wait in the coming year, how willingly language developers from Google participate in community life and solve emerging problems, read in the <a href="https://habrahabr.ru/company/wrike/blog/330900/">second part of the interview in</a> about a week.</i> <i><br><br></i>  <i><i>We will be grateful for the questions in the comments and, if necessary, we will write more detailed technical articles about working with Dart based on them.</i></i> </div><p>Source: <a href="https://habr.com/ru/post/330832/">https://habr.com/ru/post/330832/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../330822/index.html">RESTForms - REST API for your InterSystems Cach√© classes</a></li>
<li><a href="../330824/index.html">Understanding the jungle of programming, or why was Mowgli friends with Python?</a></li>
<li><a href="../330826/index.html">Dark patterns - how malicious interfaces try to attack and deceive</a></li>
<li><a href="../330828/index.html">Adaptation of Xamarin.Forms to the development of corporate and B2E applications</a></li>
<li><a href="../330830/index.html">Android Architecture Components in conjunction with Data Binding</a></li>
<li><a href="../330834/index.html">Design as a world language of the 21st century</a></li>
<li><a href="../330836/index.html">Technology and non-IT: how and why S / 4HANA is used in wholesale</a></li>
<li><a href="../330838/index.html">Attention, Habrahabr: IBM opens free access to a large number of its resources</a></li>
<li><a href="../330840/index.html">SQL Server Integration Services (SSIS) for Beginners - Part 3</a></li>
<li><a href="../330842/index.html">Hacking Age of Mythology: Turning off the Fog of War</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>