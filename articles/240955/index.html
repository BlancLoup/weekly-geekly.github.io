<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Microsoft DocumentDB: Article One, Introduction</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello, 
 In August, we released a large number of new things on Microsoft Azure ( pruflink ), and quite naturally one of the most interesting for our ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Microsoft DocumentDB: Article One, Introduction</h1><div class="post__text post__text-html js-mediator-article">  Hello, <br>  In August, we released a large number of new things on Microsoft Azure ( <u><a href="http://habrahabr.ru/company/microsoft/blog/235453/">pruflink</a></u> ), and quite naturally one of the most interesting for our audience was the Document NoSQL Database service called DocumentDB.  The time has come, and we begin to write about it - the first article, as usual, is an introduction. <br><br><img src="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-01-44-06-metablogapi/1031.image_5F00_7F1F5D5E.png"><br><a name="habracut"></a><br><br><ul><li>  What it is?  Basic concepts. </li><li>  How to create an account? </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  What is Azure DocumentDB? </h4><br><br>  In the modern world, applications constantly produce and not always, but consume a large amount of data.  The data, like the application, mimics over time, and the data schema changes with it, which periodically leads to the idea that the schema-free NoSQL database is a good solution for such scenarios - a quick, simple and customizable solution.  However, many of these technologies do not allow performing complex queries and processes involving transactions, which complicates the process of managing nontrivial models. <br><br>  <b>Microsoft Azure DocumentDB</b> is a document-oriented, NoSQL database specially designed for applications on the web and on mobile devices ‚Äî with guaranteed fast read and write operations, circuit flexibility and the ability to quickly expand and scale the base down and up.  Still in DocumentDB there are complex queries involving the SQL dialect, support for JavaScript, transaction processing with many documents and much more good.  By default, DocumentDB supports JSON schema operations, and deep integration with JavaScript helps to execute business logic right inside the engine with transaction in mind. <br><br>  Azure DocumentDB is: <br><br><ul><li>  Queries with SQL syntax: storing heterogeneous JSON documents inside DocumentDB, querying them. </li><li>  Highly-concurrent, lock-free indexing technology with automatic indexing of document content (respectively, without the need to specify schema hints, secondary indexes or views). </li><li>  JavaScript inside the database - logic as stored procedures, triggers and UDF, which means that you can put the logic on top of JSON without danger of getting out of sync between the application and the database schema. </li><li>  Full transactional execution of JavaScript logic in the engine (INSERT, REPLACE, DELETE, SELECT in JavaScript as an isolated transaction) </li><li>  Four levels of customizable consistency - Strong, Bounded-Staleness, Session and Eventual. </li><li>  Complete manageability: there is no need to manage the database and machine resources, since DocumentDB is provided as a service.  Each base is automatically backed up and protected from regional errors. </li><li>  Simple scaling through storage units and bandwidth. </li></ul><br><br><h4>  Azure DocumentDB Resources </h4><br><br>  In Azure DocumentDB, data is replicated and addressed to a URI ‚Äî simple RESTful access is set for all resources.  You have an account for the base, and it is a unique global namespace.  All resources inside the space are stored in JSON documents with metadata and collections of things.  In the picture - the relationship between DocumentDB resources. <br><br><img src="http://litehtmlconv.azurewebsites.net/api/pics/yozrbxe9bzx8hn-tk1wkxngx"><br><br>  An account consists of a pack of databases, each of which consists of several collections, each of which contains stored procedures, triggers, UDFs, documents, and related attachments.  Users can be assigned to the base with specific permissions to access collections, stored procedures, triggers, UDFs, documents, etc. <br><br><h4>  Develop with Azure DocumentDB </h4><br><br>  Once Azure DocumentDB exposes operations to resources with the REST API, requests can be performed with any language that can HTTP / HTTPS.  For several languages, there are special libraries that simplify working with DocumentDB: <br><br><ul><li>  <a href="http://go.microsoft.com/fwlink/%3Flinkid%3D402989%26clcid%3D0x409"><u>.NET</u></a> </li><li>  <a href="http://go.microsoft.com/fwlink/%3Flinkid%3D402990%26clcid%3D0x409"><u>Node.js</u></a> </li><li>  <a href="http://go.microsoft.com/fwlink/%3Flinkid%3D402991%26clcid%3D0x409"><u>Javascript</u></a> </li><li>  <a href="http://go.microsoft.com/fwlink/%3Flinkid%3D402992%26clcid%3D0x409"><u>Python</u></a> </li></ul><br><br><h4>  JavaScript transactions and execution </h4><br><br>  As already written, in Azure DocumentDB, you can write logic in the form of JavaScript, ‚Äúprograms‚Äù are then registered to collections and support operations on documents within these collections.  An application on JS can be registered for execution for triggers, stored procedures and UDF, triggers and stored procedures can CRUD, while UDFs do not have write access.  All JS logic is executed inside ambient ACID transaction with snapshot isolation, and the logic on JS is considered to be a kind of modern replacement for T-SQL.  If, at runtime, JS throws an exception, the entire transaction is rolled back. <br><br>  Let's look at an example!  <b><a href="http://msn.com/">Msn.com</a></b>  MSN is a huge portal that visits half a billion users per month.  Hence the need for large scalable distributed storage with a free scheme.  At some point, the development team decided to transfer everything to Azure and create there a single distributed User Data Store storage system with the following requirements: <br><br><ol><li>  Scaling up to +425 million unique users +100 million already authenticated users </li><li>  20 terabytes of storage </li><li>  Write latency - up to 15 ms </li><li>  No fixed scheme </li><li>  Transaction support </li><li>  Hadoop analytics over data </li><li>  Geographical distribution and availability </li></ol><br>  The choice fell on Azure DocumentDB.  One part of the system, Health and Fitness, consists of the following components: <br><br><ul><li>  <b>Diet</b> <b>Tracker</b> : daily diet monitoring - each entry contains data on calories, fats, protein, etc. </li><li>  <b>Exercise Tracker</b> : exercise monitoring. </li><li>  <b>GPS</b> <b>Tracker</b> : GPS tracking.  Metadata about what is happening is stored in DocumentDB. </li><li>  <b>Pedometer</b> : Steps. </li><li>  <b>Weight Tracker</b> .  Weight. </li><li>  <b>Analysis</b> : Historical data on diet, exercise, GPS, etc. </li><li>  <b>Favorites</b> <b>and</b> <b>custom</b> : bookmarks on your favorite food, exercises, metadata, etc. </li></ul><br><br>  The new MSN portal stores user data in DocumentDB with 150 bandwidth units with SSDs and three geographic regions. <br><br>  The size of the documents varies from 1 to 10 kilobytes, and do not have any general scheme.  Most collections are set up in such a way as to give optimal values ‚Äã‚Äãof throughput, the minimum overhead for indexing. <br><br><img src="http://litehtmlconv.azurewebsites.net/api/pics/6s0rwwl60wm14d1otp6-msqc"><br><br>  UDS distributes user information to collections, each user's data is stored in documents.  In the process, there is a horizontal scaling and distribution by user ID. <br><br><h4>  Create a DocumentDB account </h4><br><br>  Go to the <u>new</u> <u>Microsoft</u> <u>Azure</u> <u>Management</u> <u>Portal</u> <br>  Click New -&gt; DocumentDB Account. <br><img src="http://litehtmlconv.azurewebsites.net/api/pics/18z-k07c_dmm2jmbbsss-g7tf"><br><br>  Or you can do the same by going to the ‚ÄúData, storage, + backup‚Äù category and choosing DocumentDBand. <br><br><img src="http://litehtmlconv.azurewebsites.net/api/pics/1lqn1-6q5-imoden0ce421bqm"><br><br>  In New DocumentDB (Preview) select the desired configuration. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8fd/261/7c7/8fd2617c789f3e25c5493d0597b7d100.png"><br><br>  In Name, enter the name - it will be used in addressing the account (host).  The Pricing Tier setting can not be put so far, since the functionality is in the preview and only one payment mode is available (for more information about prices <i><u><a href="http://go.microsoft.com/fwlink/p/%3Flinkid%3D402317%26clcid%3D0x409">here</a> )</u></i> <i>.</i>  In the optional settings you can specify the capacity that will be allocated for the account - it is measured in units, adding or removing which you can quickly scale the solution (a unit consists of a weighted amount of storage and bandwidth and the default for the account is 1 unit).  Read more about performance and bandwidth <i><u><a href="http://azure.microsoft.com/en-us/documentation/articles/documentdb-manage/">here</a></u></i> <i>.</i> <br><br>  Creating an account takes a few minutes. <br><br><img src="http://litehtmlconv.azurewebsites.net/api/pics/1h2_n4f_i4y6j4sf4-opphfya"><br><br><img src="http://litehtmlconv.azurewebsites.net/api/pics/aofipptsgf59r0l5sp7bhhsb"><br><br>  Account created and ready to use.  The default consistency mode is set to Session. <br><br><img src="http://litehtmlconv.azurewebsites.net/api/pics/jw3m8yql6wxw7j5fzyifd861"><br><br>  You can see what is happening with DocumentDB accounts in the Browse window. <br><br><img src="http://litehtmlconv.azurewebsites.net/api/pics/x313gl_rqqwoln1v2h6fdslj"><br><br>  Total - we looked at what DocumentDB is, at the basic concepts of the service, for example, use and created an account.  In the next part - more about the concept and use. <br><br><h3>  useful links </h3><br><ul><li>  <a href="http://aka.ms/azure_trial_free_rus">Try Azure</a> for free for 30 days! </li><li>  <a href="http://aka.ms/gomvarus">Explore</a> Microsoft Virtual Academy <a href="http://aka.ms/gomvarus">courses</a> on cloud and other technologies </li><li>  <a href="http://aka.ms/getvsrus">Download</a> free or trial Visual Studio </li><li>  <a href="http://www.azurehub.ru/">Microsoft Azure Development Center (azurehub.ru)</a> - scripts, tutorials, examples, recommendations on the choice of services and development </li><li>  <a href="http://www.twitter.com/windowsazure_ru">Twitter.com/windowsazure_ru</a> - the latest Microsoft Azure news </li><li>  <a href="http://www.facebook.com/groups/azurerus/">Microsoft Azure Community on Facebook</a> - experts, questions </li><li>  <a href="http://aka.ms/wpstartrus">Become a</a> universal Windows application <a href="http://aka.ms/wpstartrus">developer</a> </li></ul></div><p>Source: <a href="https://habr.com/ru/post/240955/">https://habr.com/ru/post/240955/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../240943/index.html">SimBank or 200 SmartCard in one box</a></li>
<li><a href="../240945/index.html">How to rubyte survive OSX 10.10 Yosemite update</a></li>
<li><a href="../240947/index.html">New service: virtual private cloud</a></li>
<li><a href="../240951/index.html">Enterprise OpenStack and Database as a Service (DBaaS)</a></li>
<li><a href="../240953/index.html">Musical publics in a new way, or how I did Public Radio</a></li>
<li><a href="../240957/index.html">Develop CSS in GitHub</a></li>
<li><a href="../240961/index.html">Dell Solutions Forum 2014: registration is open</a></li>
<li><a href="../240963/index.html">Fujitsu LifeBook U904 Ultrabook Video Review</a></li>
<li><a href="../240969/index.html">We study Javascript by going through the bones of Backbone.js</a></li>
<li><a href="../240971/index.html">Microsoft Server App-V - what is it and what is it eaten with</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>