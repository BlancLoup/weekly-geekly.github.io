<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Modern Adaptec RAID controllers from A to Z. Part 1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recently I came across a useful and very detailed article by Adaptec, which described well, just all the nuances of the controllers, except for the vo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Modern Adaptec RAID controllers from A to Z. Part 1</h1><div class="post__text post__text-html js-mediator-article">  Recently I came across a useful and very detailed article by Adaptec, which described well, just all the nuances of the controllers, except for the volume of 60 pages.  There was a natural desire to cut and divide the article into 2 pieces: <br><ul><li>  Part 1. General information about RAID controllers (a lot of theory, the basics) </li><li>  Part 2. Classification Adaptec controllers (here everything is very specific - a series of controllers, the functions of each series, tables, pictures) </li></ul><br>  The material will be of interest to all those involved in data storage - integrators, system administrators and end users. <br><br>  Actually, Part 1. <br><br><img src="https://habrastorage.org/files/ed0/667/5ec/ed06675ecc8f47fe91e8b6f9259cb2a0.PNG" alt="image">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><br><h4>  <b>Modern server information storage subsystem</b> </h4><br>  Today, the internal storage system of a modern server is based on SAS / SATA technologies.  And here, compared to the old classic SCSI technology, which is no longer in use now, not so much new was added.  In fact, only the SAS expander, which allows you to create a network segment of the second level for the exchange of information between the controller and the disks based on the switch of the second level (in scientific terms, the segment of the ‚Äúswitched media‚Äù type for communication targets and initiators). <br><br>  And, as a rule, the internal server storage system is built on the basis of one or several SAS RAID controllers or HBA (in some cases they can be integrated on the motherboard) and SAS / SATA HDD or SSD drives. <br><br>  External storage systems can additionally use other technologies, such as FibreChannel, iSCSI, PCI-E.  Storage systems for data centers can use modern solutions such as NVRAM (virtual disks created based on fast RAM, which has protection against power loss) and PCI-E (when hard disk access is provided through the network segment of the PCI-Express technology). <br><br>  <i>The figure shows a modern internal server storage subsystem.</i> <br><img src="https://habrastorage.org/files/0db/694/ac4/0db694ac4a7e4153be4f7cbc868096fc.png" alt="image"><br><img src="https://habrastorage.org/files/5a0/893/b19/5a0893b191eb4d808a48b811656f8f77.PNG" alt="image"><br><br><h4>  <b>RAID stack of the last generation.</b> </h4><br>  In the most general sense, the stack is the operating system of the RAID controller. <br>  In a narrow sense, the stack is a container virtualizer (or, more simply, a disk virtualizer).  It creates a container of the desired type, distributes it over the required number of disks and from a large number of containers it ‚Äúbakes‚Äù a virtual disk, which in the Adaptec stack is called ‚ÄúRAID volume‚Äù. <br><br>  <i>Note</i> : at the time of assembling the server (creating the storage system), the latest controller of its OS or firmware must be downloaded to the RAID controller.  For Adaptec RAID controllers, they are free. <br><br><div class="spoiler">  <b class="spoiler_title">Trinity Server - Secure Attachment</b> <div class="spoiler_text"><ul><li>  <b>Operational assembly</b> and high availability of necessary components.  Trinity has 2 production sites with a capacity of up to 15,000 servers per year (OEM: Supermicro, Intel) </li><li>  <b>High build quality - less than 2% of warranty cases.</b> </li><li>  <b>Mandatory testing</b> : all hardware and software components;  creating arrays;  installation of operating systems (Windows, Linux);  check equipment under high load. </li><li>  <b>A guarantee from 3 years</b> with service in 42 cities of Russia and the CIS. </li><li>  <b>Delivery throughout Russia and the CIS</b> .  Pickup is possible. </li></ul><br>  <a href="http://server.trinitygroup.ru/"><b>Build your server!</b></a>  <a href="http://server.trinitygroup.ru/"><b>Trinity Server Configurator.</b></a> <br></div></div><br><br>  Oddly enough, but today RAID stacks are private solutions that do not comply with the standards.  You can remove all physical disks with RAID volumes created on them, for example, from an Adaptec 6805 controller and transfer them to the 8885 controller and the volumes will be visible.  But if you try to transfer volumes to a controller from another manufacturer in this way, then a miracle will not happen, and there will be no opportunity to see the data and these RAID volumes.  Why it happens?  Because the controller from another manufacturer supports its own stack that is not compatible with the Adaptec stack. <br><br>  Each RAID volume is represented by the computer's operating system as a ‚ÄúSCSI disk‚Äù, which will be seen as a separate object in disk utilities such as the disk manager. It looks like this. <br><br><img src="https://habrastorage.org/files/81f/5a6/8c8/81f5a68c8fbb41ea878374b47390fca1.png" alt="image"><br><br>  Thus, in the disk manager you can see 4 virtual disks: RAID0, RAID1 and two RAID5 disks. <br><br><img src="https://habrastorage.org/files/c19/cb5/a56/c19cb5a568f04484a5c43add45b2f0c2.png" alt="image"><br><br>  When creating volumes, each level works. <br><br>  <b>The task of the physical disks level</b> is to create a special area on the disks where information about the created volumes will be stored.  Such an area is called a metadata area and is a complex storage container where service information is stored.  Only the operating system of the controller and no one else has access to this area.  In the Adaptec stack, this process of creating a service area is called - <b>initialization</b> and is executed through the command - <b>initialize</b> . <br><br>  In RAID controllers that support HBA mode, there is a reverse command - <b>deinitialize</b> (these are 7th and 8th series controllers).  This command completely removes this data structure from the physical disk and places the disk in HBA mode.  That is, in order for the controller of the 7th or 8th series to start working as a normal HBA on it, it is enough to deinitialize all disks.  Then they will all be visible in the utility of the central operating system such as DISK MANAGER and no other operations are required. <br><br>  At the physical level, another well-known function is also performed, called <b>coercion</b> .  On the Adaptec stack, it is produced simultaneously with initialize.  This feature "cuts" a bit the hard disk capacity.  The fact is that disks of the same category in capacity from different manufacturers still have unequal capacity.  In order for a drive from one manufacturer to be replaced in the future, if necessary, with a drive from another manufacturer and the coercion function is performed.  The cut-off container is simply ‚Äúlost‚Äù forever and not used at all. <br><br>  At the physical level, it is possible to place various service functions - checking a disk with a destructive or non-destructive method, formatting, completely erasing data, filling the disk with zeros, etc. <br><br>  <b>The logical level is</b> necessary for two reasons: <br><br>  Firstly, it significantly reduces the discreteness of the containers you choose to create volumes.  This is done through the ability to create multiple logical disks (just cutting off a part of the capacity) on one physical disk or to create one logical disk using two or more physical disks.  In this case, the capacity of various physical will simply fold.  First, data will fill one area of ‚Äã‚Äãone physical disk, then another another physical disk, etc.  This method of joining disks is called <b>Chain</b> (in some other stacks, the word <b>Span is used</b> ). <br><br>  Secondly, when creating such objects, information about them falls into metadata, and they cease to be tied to physical coordinates.  After that, you can transfer disks from one controller port to another, transfer volumes from one controller to another, and this will still work fine. <br><br>  <b>Next comes the turn of the RAID level</b> .  As a rule, modern stacks have two sublevels at this level.  At each sublayer, elementary RAID is located, such as: chain or span (this is not really RAID, it is just ‚Äúsumming up‚Äù the capacities from different disks), RAID0, RAID1, RAID1E, RAID5, RAID6, etc. <br><br>  The lowermost sublayer accepts logical disks, for example, LD1, LD2, LD3, as shown, and ‚Äúbakes‚Äù the RAID5 volume out of them.  The same thing happens with LD4, LD5, LD6.  From them we get the second RAID5.  Two RAID5 volumes move to an even higher level, where they use the function RAID0.  At the output, we get a complex volume called RAID50 (where 5 is the type of RAID used in the lower layer and 0 is the type of RAID function from the upper level).  The only thing missing in determining how much RAID5 (in this case, 2) was used to create a RAID50.  On the Adaptec stack, this is called the second level device.  This option will be needed if you create complex volumes of type 50 or 60. <br><br>  The top level is needed in order to provide such a virtual object for access by the operating system.  When transferring to this level, a number of service functions are offered.  The two most important Adaptec stack are build and clear. <br><ul><li>  Clear writes to the entire new volume that is transferred to the OS, zeros. </li><li>  Build "builds" a new volume.  For example, if it is RAID1, then the entire contents of the first container will be copied into the contents of the second.  And so for all containers. </li></ul><br><br><img src="https://habrastorage.org/files/7ae/f73/f65/7aef73f65b3b426583e0556a7f84c10c.png" alt="image"><br>  <i>The figure - Virtual container type RAID1.</i>  <i>Build operation</i> <br><br>  If you have new discs from the factory, then zeros are written in their sectors.  Therefore, the result of both functions will be the same. <br><br>  <b>The difference between SimpleVolume and HBA mode.</b> <br><br>  These two modes are very similar to each other.  Both can be used to create Software RAID solutions. <br><br>  When a disk is running in HBA mode, no metadata is created on it.  And there is no ‚Äúcropping‚Äù of the capacity by the coercion function.  This can cause a problem if you need to replace the disk with another manufacturer.  The disk is directly transferred to the operating system.  In this case, the controller cache will not work with it! <br><br>  In the case of creating a Simple Volume through the configuration of volumes, a metadata area is created on the disk, the capacity is ‚Äútrimmed‚Äù by the coertion function.  Further, through the configuration utility, the Simple Volume is created using all available disk capacity.  And after that, this object is transferred to the work of the central operating system. <br><br><img src="https://habrastorage.org/files/728/e52/ce3/728e52ce3fd34739b6d3756bb19033ac.PNG" alt="image"><br><br>  Today, RAID controller stacks are constantly being improved.  In its function, MaxCache plus, Adaptec has placed another level on the stack, the so-called tier level, with sublevels.  This made it possible to take one RAID5 volume created on SSDs and another volume, for example, RAID60 created on SATA disks with 7200 rpm and collect from them an integrated, virtual volume where the most demanded data was stored on RAID5, and the least demanded on RAID60.  In this case, the volume could be taken from different controllers.  Today, this feature is not supported due to the transition of such capabilities to server operating systems.  Naturally, the controller stack, as a virtualization mechanism, does not stand still and is constantly being improved both at the level of virtualization and at the level of basic and service functions. <br><br><h4>  <b>The device is a modern RAID controller.</b> </h4><br><br>  A modern RAID controller is an information system (simplified computer), which, due to the performance of its main functions: creating a virtual container, placing and processing information in containers (in fact, READING - RECORDING information) exchanges data with two other types of information systems: <br>  1. With the operating system; <br>  2. With HDD or SSD drives. <br><br><img src="https://habrastorage.org/files/1b3/df9/ba9/1b3df9ba902c40ac8a3c85b2f6127b84.png" alt="image"><br><br>  From the point of view of internal architecture, a modern RAID controller is the following set of main subsystems: <br><br><ul><li>  RoC chip (RAIDonChip); </li><li>  RAM; </li><li>  Managing the ‚Äúprotection‚Äù of the cache memory (as a rule, it is a separate daughter card, but in the latest implementations for the 8th series of Adaptec controllers, this module is integrated into the RoC chip); </li><li>  Supercapacitor, as the power source for the cache protection module, is used in case of a main power failure; </li><li>  Flash-memory and nvSRAM (memory that does not lose information when power is turned off); </li><li>  SAS connectors, where each individual physical connector is built on the principle of four SAS ports in one physical connector; </li><li>  PCI-E slot. </li></ul><br><br>  <i>Table - The main subsystem of the RAID controller.</i> <br><br><img src="https://habrastorage.org/files/388/11e/5a5/38811e5a5abc44b297a56a7e3e839651.PNG" alt="image"><br><br><h4>  <b>Key features of modern Adaptec RAID controllers.</b> </h4><br><br>  <b><u>Support HBA mode.</u></b> <br><br>  We have already discussed above which RAID controller models support HBA mode.  It is important to note that this is done independently for each disk.  That is, on the controller, if you do not initialize part of the disks at the physical level, they will automatically fall into a program like the ‚Äúdisk manager‚Äù and will be visible and accessible there to work with them.  You can use one part of such disks in HBA mode as single disks, and the other part to use for creating software RAID by means of the operating system.  Initialized disks will be used to create RAID volumes by means of a RAID controller. <br><br>  <b><u>Hybrid volumes.</u></b> <br><br>  On the latest firmware versions, the Adaptec controller automatically creates a Hybrid RAID array when you create a RAID 1/10 from the same number of SSDs and HDDs (but in older firmware it was important that the RAIDD pairs the SSDs to be ‚Äúmaster‚Äù and the HDD ‚Äúslave‚Äù ").  If you do not know how to check this - contact the service of those.  Adaptec support.  The Adaptec controller records simultaneously to the HDD and SSD.  In the hybrid volume mode, reading is only with SSD!  (for a volume of two HDDs, when a certain I / O threshold is exceeded, reading occurs from two disks. This is the main difference between the hybrid RAID1 / 10 mode).  The result is a robust array with excellent read performance.  Read like a single SSD drive.  This is several orders of magnitude higher than that of the HDD.  The feature comes standard with all Adaptec Series 2, 5.6, 7, 8 controllers. <br><br><img src="https://habrastorage.org/files/328/790/e7e/328790e7e305407a813266896a1a95b0.PNG" alt="image"><br><br>  <b><u>Support for volume types that replace RAID5.</u></b> <br><br>  I hope you are well aware of the RAID5 container - this is a fairly classic solution. <br><br><img src="https://habrastorage.org/files/e80/caa/090/e80caa090d3e47ea94a08cffc5a71b8f.png" alt="image"><br><br>  Red shows the storage container created by the RAID controller.  This is a RAID5 type container.  The RAID5 volume itself consists of a large number of such virtual containers stacked in some kind of ‚Äústack‚Äù.  A RAID5 container consists of a set of sectors of individual physical disks.  The peculiarity of a RAID5 container is that it can ‚Äúsurvive‚Äù the problems in a number of containers of hard disks of which it consists, that is, sectors of hard disks that are part of a RAID5 container lose their information, but the RAID5 container itself stores.  This happens to a certain limit.  With a certain number of ‚Äúspoiled‚Äù sectors, the RAID5 container itself will no longer be able to guarantee 100% storage of information.  Because of the transition from SCSI technology to SAS technology, the proposed basic quality of information storage by a RAID5 container has greatly deteriorated, literally, by several orders of magnitude. <br><br>  This happened due to a number of objective reasons: <br>  1. Due to the support of SATA disks, especially desktop class, the quality of storing information in a ‚Äúdisk sector‚Äù container has fallen markedly (SCSI controllers supported only high-quality SCSI disks); <br>  2. The number of disks on the controller has grown many times (2-channel SCSI controller - a maximum of 26 disks, taking into account the performance of 8-10 (4-5 per channel)); <br>  3. Disk capacity has grown significantly.  This means that much more RAID5 containers can fall into the RAID 5 volume (max. The capacity of SCSI disks is 400GB, the maximum capacity of a modern SATA hard disk is 8 TB). <br><br>  All this increases the likelihood of problems occurring in a single RAID5 container, which significantly reduces the likelihood of storing information in a RAID5 volume.  For this reason, solutions have been added to modern RAID controller stacks to eliminate the use of RAID5.  These are RAID1E, RAID5EE and RAID6. <br><br>  Previously, the only alternative to RAID5 was RAID10.  Support for RAID 10 is naturally preserved. <br><br>  <i>Options for replacing RAID5:</i> <br><br><img src="https://habrastorage.org/files/61d/44f/9a0/61d44f9a01ac4ab7881bba2c5bb1684d.PNG" alt="image"><br><br>  <b><u>Bad stripe</u></b> <b><br></b> <br><br>  Previously, if even one container of the controller (stripe) lost information or could not guarantee its safety, this led to the situation of transferring the entire volume to offline mode from the RAID controller (stopping access, literally, meant - the controller cannot guarantee 100% integrity of user data on volume). <br><br>  A modern controller ‚Äúworks out‚Äù this situation differently: <br>  1. Access to this does not stop; <br>  2. There is a special ‚Äúbad stripe‚Äù marker on the volume, which means that there are special containers in the RAID volume that have lost information; <br>  3. Such ‚Äúdamaged containers‚Äù are reported to the operating system so that it can evaluate possible measures to prevent the loss of information or to restore it. <br><br>  The <b>bad stripe</b> marker cannot be removed from the volume.  You can only delete and re-create such a volume.  The appearance of the volume with the flag ‚Äúbad stripe‚Äù indicates a serious error or problems at the design stage of the storage system or at the stage of its operation.  As a rule, behind this situation there is a serious incompetence of the designer or system administrator. <br><br>  The main source of this kind of problems is incorrectly designed RAID5. <br><br>  Some implementations of RAID 5 (for example, RAID5 on desktop disks) are prohibited for volumes with user data.  Requires at least RAID5 + Hot Spare, which does not make sense if you have RAID6.  It turns out that where it was necessary to create RAID6, RAID5 was created, which after several years of operation led to the appearance of the BAD STRIPE marker. <br><br>  <b><u>SSD caching</u></b> <br><br>  The SSD caching feature is one of the most sought-after features for optimizing the performance of RAID volumes of powerful storage systems with a large number of users without significant cost drag, the number of solution units, without loss of storage system capacity and ensuring optimal power consumption. <br><br>  To use SSD write caching, you must make sure that two conditions are met: <br>  1. The application works in the "random read" mode; <br>  2. Requests to data have an uneven nature - there are RAID-level containers that are accessed more often in order to read data from there, and there are those that are accessed less frequently. <br><br>  It should be noted that the more users the system has, the more likely it is that requests for individual containers will take the form of a standard statistical distribution.  By the parameter ‚Äúnumber of requests per unit of time‚Äù, one can distinguish conditionally ‚Äúhot data‚Äù (the number of calls to them will be more than a specified parameter) and ‚Äúcold data‚Äù (the number of calls to them is less than a specified parameter). <br><br>  The work of the SSD cache for reading consists in copying ‚Äúhot data‚Äù onto SSD disks and further reading from the SSD, which speeds up the process at times.  Since this is a copy, the read cache has natural protection, if the SSD disk that forms the SSD cache area fails, this only leads to a loss of performance, but not to a loss of data. <br><br><img src="https://habrastorage.org/files/8c2/ffb/09f/8c2ffb09f18545109f58e08db9591137.png" alt="image"><br><br>  The basic settings of the SSD caching function for the 7Q, 8Q controllers: <br>  1. First of all, make sure that you have ‚Äúhot data‚Äù and what size they have.  This is best done experimentally by placing a large enough SSD disk in the cache area and configuring it in Simple Volume mode.  Integrator companies can do this job for you.  About a week later, through the control function, you can remove the statistics for SSD caching.  It will show if you have ‚Äúhot data‚Äù and how much they occupy. <br>  2. It is desirable to add 10‚Äì50% of capacity to this volume and, based on this data, adjust your caching scheme in case of an increase in the amount of ‚Äúhot data‚Äù in the future, if there is such a tendency. <br><br>  The settings allow you to ‚Äúcut off‚Äù the required capacity from the capacity of your SSD drives, pick it up in the desired type of RAID volume, and the remaining capacity can be transferred to a regular RAID volume. <br><br><img src="https://habrastorage.org/files/933/208/b29/933208b293d44f4bbdf34195e86cb7ed.png" alt="image"><br><br>  Next, you should evaluate whether it makes sense to use SSD cache for writing.  As a rule, Internet applications are readable.  The write cache is mainly used as an addition to the read cache, if the application uses writing in addition to reading.  And in case of write cache, it is required to ensure cache protection.  If something happens to the cache area, then the data placed there when caching the record will be lost.  For protection, it is enough to use a RAID volume that provides redundancy on disks, for example, RAID1. <br><br>  <i>Possible configuration modes SSD cache area.</i> <br><img src="https://habrastorage.org/files/f12/c02/e1e/f12c02e1eeff47d19904f8207282cba8.PNG" alt="image"><br><br>  For individual volumes on the controller, you can independently enable and disable SSD cache for reading and writing depending on the needs and types of applications that work with each volume. <br><br>  <b><u>UEFI support.</u></b> <br><br>  All controllers and HBAs of the current Adaptec product line support uEFI BIOS mode for motherboards.  Switching from MBR to uEFI allowed, for example, creating system and boot volumes larger than 2TB, which was impossible on boards with MBR BIOS (note that all Adaptec products fully support volumes&gt; 2TB, this problem does not exist on the part of controllers and HBA).  There are many other benefits of using the uEFI mode.  For example, with the support of disks with a 4K sector size.  All current Adaptec products support drives with a 4K sector, except for the 6th series of controllers. <br><br>  It is important to remember that if the motherboard uses the MBR mode, then the controller configuration utility is called via Cntrl + A. <br><br>  <i>The figure shows the standard Adaptec configuration utility called via the Cntrl + A key combination.</i> <br><img src="https://habrastorage.org/files/efb/76c/756/efb76c756cd44565a9a7fb4064f31bc6.png" alt="image"><br><br>  In the case of the uEFI mode, the controller configurator and HBA are integrated into the motherboard BIOS.  This utility is easy to find in lines containing the word "Adaptec" or "PMC".  And, as can be seen in the example below, the uEFI utility has more advanced functionality than the utility called via Cntrl + A. <br><br><img src="https://habrastorage.org/files/13c/6a6/73f/13c6a673fa1e456888634fb437b8a1f6.PNG" alt="image"><br><br>  <b><u>Hot Spare features.</u></b> <br>  Hot Spare disk acts as a passive RAID volume element, and gets into the RAID volume if something happens to one of the disks in the volume and it is no longer available to do its work.  HOT SPARE is a disk that is installed on the controller, promoted and assigned to one or more volumes. <br><br>     HOT SPARE,   3  : <br><img src="https://habrastorage.org/files/ee7/235/efe/ee7235efe8a34ba6ac03f3c1fde791f7.PNG" alt="image"><br><br> Hot Spare     daptc   ¬´¬ª ,          . ,  RAID5         ¬´degraded¬ª.            ,   rescan          .  ‚Äì    HOT SPARE (  , , Global Hot Spare)  ,     100% ¬´¬ª  .     ‚Äì Optimal.  ,    ‚Äì delete hot spare.     HOT SPARE   ,       RAID . <br><br> <b><u> Power Management.</u></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RAID volumes work differently. For example, volumes created to back up data can be used to move data, for example, two to three days per month. The question arises: how well is the power supply to the hard drives and keep the drives untwisted, if virtually all the remaining time they are not used? </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The solution to this issue is the power management function. Its philosophy is that if disks are not used, their rotation can be slowed down (if such a function is supported by disks), and then completely stopped and held until they are needed, in the off state. The settings for this function are extremely simple.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">First, the controller sets the time on days of the week, when this function is activated, and when it is not. This setting is tied to the work of a typical company. The parameters for setting the internal and external drives into operation are set - in pairs, three, four, etc., in order to distribute the load on the power supply units. In addition, three timer values ‚Äã‚Äãare given. After the first one expires, if there are no I / O operations on the disks of this volume, then these disks will go into the ‚Äústand by‚Äù state, i.e. reduce their turnover by 50%. Not all disks support this mode; if it is not supported, then nothing will happen to the disk. After the second timer expires, the disks will completely stop and go to the ‚Äúpower off‚Äù state. The third timer is used to periodically check disks that have been turned off for a long time. The controller includes disks,carries out their non-destructive testing and, if everything is OK, then translates them back to the "power off" state.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">After these settings, you can activate the power management scheme for each volume where it will be useful. </font><font style="vertical-align: inherit;">Such volumes in the management system will be marked in green. </font><font style="vertical-align: inherit;">This feature provides maximum benefits when used in data centers, allowing not only direct energy savings by stopping the drives, but also auxiliary savings by reducing the speed of the fans that blow the disks when the latter are turned off.</font></font><br><br><h4> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adaptec storage management.</font></font></b> </h4><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The management utilities that are included in the Max View Storage Manager (MSM) package are built on the most advanced standards and use the latest trends in improving principles and improving management efficiency. </font><font style="vertical-align: inherit;">Therefore, we can easily use Adaptec Max View Storage Manager as a base model to look at the basic functions and methods in the field of storage management. </font><font style="vertical-align: inherit;">The main control element is a RAID controller, which can exchange service information with disks, expanders and baskets and, thus, support management functions for the entire storage subsystem. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The main features of modern storage management systems:</font></font><br><ul><li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As a client application, a standard WEB browser is used.</font></font></b> </li><li> <b>CIM      .</b> CIM    MSM     RAID  -   . ,   vmware. </li><li> <b> CLI (command line interface) .</b>   MS,    ,       WEB ,  CLI  ‚Äì ARCCONF.EXE.    ,    <a href="http://www.adaptec.com/support"> Adaptec</a> .   CLI     ( ),       , ,    ..   ,  RAID           . </li><li> <b>       .</b> C  MSM   Enterprise View   ¬´¬ª            RAID .       IP   ,    Auto Discovery. </li></ul><br><br><img src="https://habrastorage.org/files/be0/3ac/7b0/be03ac7b0c704c559e824728f22a4e32.png" alt="image"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚Ä¢ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">High level of detail, visualization and nesting of control objects.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> The administrator can see that the entire network segment has turned red, which means that there is a fault. If you expand the network segment icon, all servers will be visible. The problem server will be marked in red. If you click on this server, the RAID controllers installed in this system will be visible. The red color of one of them means some kind of problem. Further details will show the volumes created on this controller and the problem volume. And so up to the problem physical disk. Now the administrator knows exactly what happened, what the consequences were, and what disk to replace. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚Ä¢</font></font><b>         .</b>    , ,   .                 .    MSM         .  ,             HTTPS.             . <br> ‚Ä¢ <b>       .</b>   ¬´¬ª       MS  WEB ,          E-mail. MSM      ,  .      Warning  Error,      RAID    Degrade  Failed.             . <br><br>                . <br><br><h6>  <b>To be continued...</b> </h6>     Adaptec.  6, 7  8  RAID  Adaptec, 6  7  HBA Adaptec.  <a href="http://habrahabr.ru/company/trinity/"> </a> <br><br>  Information provided by Adaptec by PMC (Russia).      <a href="http://www.adaptec.com/nr/pdfs/Adaptec-Controllers-AtoZ.pdf">  Adaptec</a> </div><p>Source: <a href="https://habr.com/ru/post/263797/">https://habr.com/ru/post/263797/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../263785/index.html">Antivirus fight</a></li>
<li><a href="../263789/index.html">New Intercepter-NG 0.9.10 Review</a></li>
<li><a href="../263791/index.html">Globals are Cossack swords for data storage. Trees Part 1</a></li>
<li><a href="../263793/index.html">Have you changed $ Increment to $ Sequence?</a></li>
<li><a href="../263795/index.html">How many days does the developer shake?</a></li>
<li><a href="../263803/index.html">Sock cyborg your trainer and friend</a></li>
<li><a href="../263805/index.html">InfoboxCloud Cloud Infrastructure Calculator</a></li>
<li><a href="../263807/index.html">Button "Return" and other trifles in the assembly Vivaldi 1.0.233.3</a></li>
<li><a href="../263809/index.html">Writing extensions for the game Balanced Annihilation based on the Spring Engine</a></li>
<li><a href="../263811/index.html">The formation of musical preferences in the neural network - an experiment to create a smart player</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>