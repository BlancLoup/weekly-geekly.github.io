<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The DOM value "window.devicePixelRatio" and the CSS property "device-pixel-ratio" will become variable values</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="More than two years have passed since the start of sales of iPhone 4 in the summer of 2010, and over the past two years, site builders have become acc...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The DOM value "window.devicePixelRatio" and the CSS property "device-pixel-ratio" will become variable values</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/3e9/8fc/d74/3e98fcd744a8a0a6bd56cab6fd2493f8.png" align="right">  More than two years have passed since the start of sales of <b>iPhone 4</b> in the summer of 2010, and over the past two years, site builders have become accustomed to checking the window.devicePixelRatio value with <b>javascript</b> (or using the <b>device-pixel-ratio</b> media query in CSS) as a simple and simple-minded tool that allows you to immediately find out whether the site is running on a <i>retina display (retina display)</i> or not.  If the <b>devicePixelRatio</b> value is <b>two</b> , then we have a retinal display (the fourth iPhone, the fourth iPod Touch, the third iPad, or newer devices, or the MacBook Pro with Retina Display laptop);  if the value of <b>devicePixelRatio</b> is equal to <b>one</b> (or not determined), then we have the usual definition display. <br><br>  A bit more complicated, compared to Apple‚Äôs, is the accounting of devices working under Android: there you have to perceive fractional values ‚Äã‚Äãthat are not equal to one or two.  <nobr>Peter-Paul Koch</nobr> reported in the blog <a href="http://www.quirksmode.org/blog/archives/2012/07/more_about_devi.html">post</a> ‚Äú <a href="http://www.quirksmode.org/blog/archives/2012/07/more_about_devi.html">More about devicePixelRatio</a> ‚Äù that (according to his observations) in Nexus One, <b>devicePixelRatio</b> <nobr>is</nobr> <b>1.5</b> , while in Galaxy Nexus and Galaxy Note it is <b>two</b> in WebKit <nobr>and</nobr> <b>2.25</b> in Opera Mobile. <br><br>  But these minor differences do not change the picture as a whole: everyone is accustomed to thinking about the value of the <b>devicePixelRatio</b> value as a <b>property of the device</b> that remains <b>unchanged</b> on the same mobile phone (or tablet or laptop).  In particular, it was on this that everything was based, all the recipes from Habrahabra blogo recordings ‚Äú <a href="http://habrahabr.ru/post/139682/">Adapt graphics to the Retina screen</a> ‚Äù, ‚Äú <a href="http://habrahabr.ru/post/140082/">Recognize <nobr>retina-displays in</nobr> javascript</a> ‚Äù, ‚Äú <a href="http://habrahabr.ru/post/143584/">Display OpenStreetMap maps on iPhone 4 taking into account the retinal display using Leaflet</a> ‚Äù, ‚Äú <a href="http://habrahabr.ru/post/146769/">How to distinguish iPad version in Safari</a> ‚Äù,‚Äú <a href="http://habrahabr.ru/post/150071/">Optimization of graphics <nobr>for Retina-screens</nobr></a> ‚Äù,‚Äú <a href="http://habrahabr.ru/post/155683/">Complex preparation of a site for Retina</a> ‚Äùand the like. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      But November 2012 has come, and it is time <b>to give</b> up this habit, it is time to critically reconsider previous recipes.  I'll tell you why. <br><br><a name="habracut"></a>  The first bell rang when <nobr>Peter-Paul Koch</nobr> updated his blog <a href="http://www.quirksmode.org/blog/archives/2012/07/more_about_devi.html">post</a> ‚Äú <a href="http://www.quirksmode.org/blog/archives/2012/07/more_about_devi.html">More about devicePixelRatio</a> ‚Äù and wrote in a postscript that he watched firsthand: the value of <b>devicePixelRatio</b> in <b>Opera Mobile</b> browser depends on the page magnification <i>(zoom).</i> <br><br>  The second bell rang when support for <b>devicePixelRatio</b> <a href="https://bugzilla.mozilla.org/show_bug.cgi%3Fid%3D564815">appeared</a> in Firefox version 18 ‚Äî this value was also set there as dependent on page magnification. <br><br>  The third and last bell rang when W3C participants on the <nobr>www-style</nobr> mailing list in letters on the topic ‚Äú <a href="http://lists.w3.org/Archives/Public/www-style/2012Nov/thread.html">Behavior of device-pixel-ratio under zoom</a> ‚Äù finally agreed (less than a week ago) that the value of <b>devicePixelRatio</b> is determined by the number of physical (screen ) pixels <nobr>per CSS-pixel of the</nobr> page - and how it was achieved (whether using a retinal display or simply pressing <b>Ctrl- +</b> on the keyboard) should not bother anyone. <br><br>  Everything, gentlemen readers.  You can forget forever <nobr>that</nobr> <b>devicePixelRatio</b> has a constant value specific to a particular device.  This is not true - or rather, now it is <b>not always</b> true. <br><br>  It is clear that this news has two sides - good and bad. <br><br>  Probably, not all site builders will be pleased that previous attempts to <a href="http://habrahabr.ru/post/146769/">identify a device</a> by its <b>devicePixelRatio</b> value <b>will</b> not always be successful in the future. <br><br>  Probably, not all <b>website</b> builders will be pleased that previously it was enough to read <b>devicePixelRatio with a</b> javascript at the very beginning of working with a document (on a <b>load</b> <nobr>or</nobr> <b>ready</b> event), and now there is an opportunity (and not even a necessity) to continue working, checking from time to time <b>devicePixelRatio</b> and needs adjusting the resolution of pictures to the changed page magnification, when and if the reader changes it. <br><br>  On the other hand, <nobr>readers</nobr> will be pleased.  Previously, to obtain a highly accurate version of a particular image from the Internet, it was necessary to purchase expensive Apple equipment with a retinal display capable of displaying this version.  And now it‚Äôs enough to press <b>Ctrl- +</b> on the keyboard a couple of times - and the image will be downloaded from the site and the image will be doubled in width and doubled in height, if, of course, the author of the site did not forget to program the response to the change in the <b>devicePixelRatio</b> change size in the CSS request based on <b>device-pixel -ratio</b> . <br><br>  It is hoped that in the future this particular nuance of site building will be even simpler if the February proposal for the <b><a href="http://lists.w3.org/Archives/Public/www-style/2012Feb/1103.html">image-set</a></b> property is adopted: <br><br><pre><code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">selector</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">image-set</span></span>(url(foo-lowres.png) <span class="hljs-number"><span class="hljs-number">1</span></span>x, <span class="hljs-built_in"><span class="hljs-built_in">url</span></span>(foo-highres.png) <span class="hljs-number"><span class="hljs-number">2</span></span>x) center; }</code> </pre> <br>  Not to mention that it was implemented in WebKit <a href="http://trac.webkit.org/changeset/111637">in March</a> . <br><br>  It is inspiring.  The future is starting to look radiant. <br><br>  Notice that now, along with doubling the size of the picture, it becomes possible to triple, quadruple, and so on - as the reader is ready to twist the increase and as the site builder is ready to ensure that larger versions of the same illustration are provided. </div><p>Source: <a href="https://habr.com/ru/post/159419/">https://habr.com/ru/post/159419/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../159403/index.html">The final version of Firefox for Android now supports devices with ARMv6 architecture</a></li>
<li><a href="../159405/index.html">Disposal of printed circuit boards in hot water</a></li>
<li><a href="../159407/index.html">Update Opera Mini 7.1 for J2ME and BlackBerry</a></li>
<li><a href="../159409/index.html">System76 has released a gaming laptop with Ubuntu</a></li>
<li><a href="../159413/index.html">Oracle security policies</a></li>
<li><a href="../159421/index.html">Working for the Future of Developers</a></li>
<li><a href="../159423/index.html">New functionality in Evernote API - findRelated (): search for related notes</a></li>
<li><a href="../159427/index.html">Vkontakt does not work again IPv6</a></li>
<li><a href="../159429/index.html">Simple Business launched UniSender e-mail notification module</a></li>
<li><a href="../159431/index.html">AWS: Windows Server 2012 is already available to users</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>