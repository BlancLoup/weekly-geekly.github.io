<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Introduction to Android NDK</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="To develop applications for Android, Google provides two development packages: SDK and NDK. About the SDK, there are many articles, books, as well as ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Introduction to Android NDK</h1><div class="post__text post__text-html js-mediator-article">  To develop applications for Android, Google provides two development packages: SDK and NDK.  About the SDK, there are many articles, books, as well as good guidelines from Google.  But about NDK, even Google itself writes little.  And I would single out only one of these books, <a href="http://www.amazon.com/Pro-Android-NDK-Onur-Cinar/dp/1430248270">Cinar O. - Pro Android C ++ with the NDK - 2012</a> . <br><br>  This article is aimed at those who are not familiar (or little familiar) with the Android NDK and would like to strengthen their knowledge.  I will pay attention to JNI, since it seems to me that you need to start from this interface.  Also, at the end we will consider a small example with two functions for writing and reading a file.  <a href="http://www.youtube.com/watch%3Fv%3DpLv5U66-yQ0">Who does not like a lot of text, he can watch the video version.</a> <br><a name="habracut"></a><br><h4>  What is the Android NDK? </h4><br>  <b>Android NDK</b> (native development kit) is a set of tools that allow you to implement part of your application using languages ‚Äã‚Äãsuch as C / C ++. <br><br><h4>  What is NDK used for? </h4><br>  Google recommends using NDK only in the rarest of cases.  Often these are the cases: <br><ul><li>  You need to increase performance (for example, sorting a large amount of data); </li><li>  Use a third-party library.  For example, a lot of things are already written in C / C ++ languages ‚Äã‚Äãand you just need to use existing material.  An example of such libraries as, Ffmpeg, OpenCV; </li><li>  Programming at a low level (for example, anything that goes beyond Dalvik); </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  What is JNI? </h4><br>  <b>Java Native Interface</b> - a standard mechanism for running code, running a Java virtual machine, which is written in C / C ++ or Assembler, and arranged in the form of dynamic libraries, makes it possible not to use static linking.  This makes it possible to call a C / C ++ function from a Java program, and vice versa. <br><br><h4>  JNI benefits </h4><br>  The main advantage over analogs (Netscape Java Runtime Interface or Microsoft‚Äôs Raw Native Interface and COM / Java Interface) is that JNI was originally designed for binary compatibility, for compatibility of applications written in JNI, for any Java virtual machines on a specific platform (when I‚Äôm talking about JNI, I‚Äôm not attached to a Dalvik machine, because JNI was written by Oracle for the JVM (which is suitable for all Java virtual machines).  Therefore, the compiled code in C / C ++ will be executed regardless of the platform.  Earlier versions did not allow for binary compatibility. <br><br>  Binary compatibility or binary compatibility is a type of program compatibility that allows a program to work in various environments without changing its executable files. <br><br><h4>  How does JNI work </h4><br><img src="https://habrastorage.org/getpro/habr/post_images/687/ac9/c1c/687ac9c1cb7ad7d22056cfef7d1d0d99.jpg"><br>  JNI table, organized as a table of virtual functions in C ++.  VM can work with several such tables.  For example, one will be for debugging, the second for use.  The pointer to the JNI interface is valid only in the current thread.  This means that the pointer can not walk from one stream to another.  But native methods can be called from different threads.  Example: <br><br><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">jdouble </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Java_pkg_Cls_f__ILjava_lang_String_2</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(JNIEnv *env, jobject obj, jint i, jstring s)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> *str = (*env)-&gt;GetStringUTFChars(env, s, <span class="hljs-number"><span class="hljs-number">0</span></span>); (*env)-&gt;ReleaseStringUTFChars(env, s, str); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>; }</code> </pre> <br><ul><li>  <b>* env</b> - interface pointer; </li><li>  <b>bj</b> - reference to the object in which the native method is described; </li><li>  <b>i and s</b> - the arguments passed; </li></ul><br>  Primitive types are copied between VM and native code, and objects are passed by reference.  VM is obliged to track all links that are passed to the native code.  All transferred links to the native code cannot be released by the GC.  But the native code, in turn, must inform the VM that it no longer needs references to the transferred objects. <br><br><h4>  Local and global links </h4><br>  JNI divides links into three types: local, global, and weak global links.  Local valid until end method.  All Java objects returned by the JNI functions are local.  The programmer should hope that the VM itself will clean up all local links.  Local links are available only in the stream in which they were created.  However, if there is a need, they can be freed immediately by the DeleteLocalRef interface JNI method: <br><br><pre> <code class="cpp hljs">jclass clazz; clazz = (*env)-&gt;FindClass(env, <span class="hljs-string"><span class="hljs-string">"java/lang/String"</span></span>); <span class="hljs-comment"><span class="hljs-comment">//  (*env)-&gt;DeleteLocalRef(env, clazz);</span></span></code> </pre><br>  Global links remain until they are explicitly released.  To register a global link, call the NewGlobalRef method.  If the global link is no longer needed, it can be deleted using the DeleteGlobalRef method: <br><br><pre> <code class="cpp hljs">jclass localClazz; jclass globalClazz; localClazz = (*env)-&gt;FindClass(env, <span class="hljs-string"><span class="hljs-string">"java/lang/String"</span></span>); globalClazz = (*env)-&gt;NewGlobalRef(env, localClazz); <span class="hljs-comment"><span class="hljs-comment">//  (*env)-&gt;DeleteLocalRef(env, localClazz);</span></span></code> </pre><br><h4>  Error processing </h4><br>  JNI does not check for errors such as NullPointerException, IllegalArgumentException.  The reasons: <br><br><ul><li>  performance degradation; </li><li>  In most functions, C libraries are very, very difficult to defend against errors. </li></ul><br>  JNI allows you to use Java Exception.  Most of the JNI functions return error code and not Exception itself, and therefore you have to process the code itself, and in Java, throw Exception.  In JNI, you should check the error code of the called functions and after them you should call ExceptionOccurred (), which in turn returns an error object: <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">jthrowable </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ExceptionOccurred</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(JNIEnv *env)</span></span></span></span>;</code> </pre><br>  For example, some JNI array access functions do not return errors, but may cause ArrayIndexOutOfBoundsException or ArrayStoreException exceptions. <br><br><h4>  JNI primitive types </h4><br>  JNI has its own primitive and reference data types. <br><table><tbody><tr><th>  Java type </th><th>  Native type </th><th>  Description </th></tr><tr><td>  boolean </td><td>  jboolean </td><td>  unsigned 8 bits </td></tr><tr><td>  byte </td><td>  jbyte </td><td>  signed 8 bits </td></tr><tr><td>  char </td><td>  jchar </td><td>  unsigned 16 bits </td></tr><tr><td>  short </td><td>  jshort </td><td>  signed 16 bits </td></tr><tr><td>  int </td><td>  jint </td><td>  signed 32 bits </td></tr><tr><td>  long </td><td>  jlong </td><td>  signed 64 bits </td></tr><tr><td>  float </td><td>  jfloat </td><td>  32 bits </td></tr><tr><td>  double </td><td>  jdouble </td><td>  64 bits </td></tr><tr><td>  void </td><td>  void </td><td>  N / A </td></tr></tbody></table><br><h4>  JNI Reference Types </h4><br><img src="https://habrastorage.org/getpro/habr/post_images/7df/5bb/d9a/7df5bbd9aff3ac94e54af7755984cc5a.png"><br><br><h4>  Modified UTF-8 </h4><br>  JNI uses modified UTF-8 encoding to represent strings.  Java in turn uses UTF-16.  UTF-8 is mainly used in C because it encodes \ u0000 to 0xc0, instead of the usual 0x00.  Modified strings are encoded so that a sequence of characters that contain only non-zero ASCII characters can be represented using only one byte. <br><br><h4>  JNI Functions </h4><br>  The JNI interface contains not only its own data set, but also its own functions.  On their consideration will take a lot of time, since there are more than a dozen of them.  You can get acquainted with them in the official <a href="http://docs.oracle.com/javase/6/docs/technotes/guides/jni/spec/functions.html">documentation</a> . <br><br><h4>  An example of using JNI functions </h4><br>  A small example that you would learn the material covered: <br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;jni.h&gt; //... JavaVM *jvm; JNIEnv *env; JavaVMInitArgs vm_args; JavaVMOption* options = new JavaVMOption[1]; options[0].optionString = "-Djava.class.path=/usr/lib/java"; vm_args.version = JNI_VERSION_1_6; vm_args.nOptions = 1; vm_args.options = options; vm_args.ignoreUnrecognized = false; JNI_CreateJavaVM(&amp;jvm, &amp;env, &amp;vm_args); delete options; jclass cls = env-&gt;FindClass("Main"); jmethodID mid = env-&gt;GetStaticMethodID(cls, "test", "(I)V"); env-&gt;CallStaticVoidMethod(cls, mid, 100); jvm-&gt;DestroyJavaVM();</span></span></span></span></code> </pre><br>  Let's sort line by line: <br><ul><li>  <b>JavaVM</b> - provides an interface for calling functions that allow you to create and destroy JavaVM; </li><li>  <b>JNIEnv</b> - provides most of the features of the JNI; </li><li>  <b>JavaVMInitArgs</b> - arguments for JavaVM; </li><li>  <b>JavaVMOption</b> - options for JavaVM; </li></ul><br>  The JNI_CreateJavaVM () method initializes JavaVM and returns a pointer to it.  The JNI_DestroyJavaVM () method unloads the created JavaVM. <br><br><h4>  Streams </h4><br>  All threads in Linux are controlled by the kernel, but they can be attached to JavaVM with the AttachCurrentThread and AttachCurrentThreadAsDaemon functions.  As long as the stream is not connected, it does not have access to JNIEnv.  <b>Importantly, Android does not suspend the threads that were created by JNI, even if GC is triggered</b> .  But before the thread ends, it must call the DetachCurrentThread method to disconnect from the JavaVM. <br><br><h4>  The first steps </h4><br>  The structure of your project should look like this: <br><img src="https://habrastorage.org/getpro/habr/post_images/eae/00a/b17/eae00ab17604e7f350ffd968bdebcad4.jpg"><br>  As we see from Figure 3, all the native code is in the jni folder.  After building the project, four folders will be created in the libs folder for each processor architecture in which your native library will be located (the number of folders depends on the number of selected architectures). <br><br>  In order to create a native project, you need to create a regular Android project and do the following steps: <br><ul><li>  In the project root, you need to create a jni folder in which to place the source code of the native code; </li><li>  Create an Android.mk file that will build the project; </li><li>  Create an Application.mk file that describes the details of the assembly.  It is not a prerequisite, but allows the flexibility to customize the assembly; </li><li>  Create an ndk-build file that will start the build process (this is also not required). </li></ul><br><h4>  Android.mk </h4><br>  As mentioned above, this is a make file for building a native project.  Android.mk allows you to group your code into modules.  Modules can be as static libraries (static library, only they will be copied into your project, in the libs folder), shared libraries (shared library), standalone executable file (standalone executable). <br><br>  Minimum configuration example: <br><pre> <code class="cmake hljs">LOCAL_PATH := $(call my-dir) <span class="hljs-keyword"><span class="hljs-keyword">include</span></span> $(CLEAR_VARS) LOCAL_MODULE := NDKBegining LOCAL_SRC_FILES := ndkBegining.c <span class="hljs-keyword"><span class="hljs-keyword">include</span></span> $(BUILD_SHARED_LIBRARY)</code> </pre><br>  Consider in detail: <br><ul><li>  L <b>OCAL_PATH: = $ (call my-dir)</b> - the function call my-dir returns the path of the folder in which the file is called; </li><li>  <b>include $ (CLEAR_VARS)</b> - clears variables that were used before except LOCAL_PATH.  This is necessary because all variables are global, because the assembly occurs in the context of the same GNU Make; </li><li>  <b>LOCAL_MODULE</b> - the name of the output module.  In our example, the name of the output library is set as NDKBegining, but after the build, libraries named libNDKBegining will be created in the libs folder.  Android adds the lib prefix to the name, but in java code when connecting you must specify the name of the library without the prefix (that is, the names must match the ones installed in the make files); </li><li>  <b>LOCAL_SRC_FILES</b> - enumeration of source files from which the assembly should be created; </li><li>  <b>include $ (BUILD_SHARED_LIBRARY)</b> - indicates the type of output module. </li></ul><br>  In Android.mk, you can define your variables, but they should not have the following syntax: LOCAL_, PRIVATE_, NDK_, APP_, my-dir.  Google recommends naming your variables as MY_.  For example: <br><pre> <code class="cmake hljs">MY_SOURCE := NDKBegining.c     : $(MY_SOURCE) ,    , : LOCAL_SRC_FILES += $(MY_SOURCE)</code> </pre><br><h4>  Application.mk </h4><br>  This make file describes several variables that will help make the build more flexible: <br><ul><li>  <b>APP_OPTIM</b> is an optional variable that is set to the values ‚Äã‚Äãof release or debug.  Used for optimization when building modules.  You can debug both release and debug, but debug provides more information for debugging; </li><li>  <b>APP_BUILD_SCRIPT</b> - indicates an alternative path to Android.mk; </li><li>  <b>APP_ABI</b> is probably one of the most important variables.  It indicates for which processor architecture to assemble modules.  The default is armeabi which corresponds to the ARMv5TE architecture.  For example, to support ARMv7, you should use armeabi-v7a, for IA-32 - x86, for MIPS - mips, or if you need to support all architectures, then the value should be like this: APP_ABI: = armeabi armeabi-v7a x86 mips.  If you are using ndk version 7 or higher, then you can not list all the architectures, but install APP_ABI: = all. </li><li>  <b>APP_PLATFORM</b> - platform target; </li><li>  <b>APP_STL</b> - Android uses the runtime library libstdc ++. So which is truncated and not all C ++ functionality is available to the developer.  However, the APP_STL variable allows the support of extensions to be included in the assembly; </li><li>  <b>NDK_TOOLCHAIN_VERSION</b> - allows you to select the gcc compiler version (default 4.6); </li></ul><br><h4>  NDK-BUILDS </h4><br>  Ndk-build is a GNU Make wrapper.  After the 4th version, flags for ndk-build were introduced: <br><ul><li>  <b>clean</b> - cleans all generated binary files; </li><li>  <b>NDK_DEBUG = 1</b> - generates a debugging code; </li><li>  <b>NDK_LOG = 1</b> - shows the message log (used for debugging); </li><li>  <b>NDK_HOST_32BIT = 1</b> - Android has the means to support 64-bit utility versions (for example, NDK_PATH \ toolchains \ mipsel-linux-android-4.8 \ prebuilt \ windows-x86_64, etc.); </li><li>  <b>NDK_APPLICATION_MK</b> - specifies the path to Application.mk. </li></ul><br>  In the 5th version of NDK, a flag was introduced as NDK_DEBUG.  If it is set to 1, then a debug version is created.  If the flag is not set, then ndk-build by default checks whether the android attribute is: debuggable = "true" in AndroidManifest.xml.  If you use ndk above version 8, then Google does not recommend using the android: debuggable attribute in AndroidManifest.xml (because if you use ant debug or build a debug version using the ADT plug-in, they automatically add the NDK_DEBUG flag = 1) . <br><br>  By default, support for 64-bit utilities is installed, but you can forcefully build only for 32 by setting the flag NDK_HOST_32BIT = 1.  Google recommends using 64-bit utilities to improve the performance of large programs. <br><br><h4>  How to build a project? </h4><br>  It used to be a torment.  It was necessary to install the CDT plugin, download the compiler cygwin or mingw.  Download Android NDK.  Connect it all in the Eclipse settings.  And how evil it all turned out not to work.  The first time I ran into the Android NDK, I set it up all 3 days (and the problem turned out to be that in cygwin you had to give permission 777 to the project folder). <br><br>  Now everything is much easier with this.  Follow this <a href="http://developer.android.com/sdk/index.html">link</a> .  Download the Eclipse ADT Bundle which already has everything you need to build. <br><br><h4>  Calling native methods from Java code </h4><br>  In order to use native Java code, you must first define native methods in the Java class.  For example: <br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">native</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">nativeGetStringFromFile</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String path)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IOException</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">native</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">nativeWriteByteArrayToFile</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String path, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">byte</span></span></span></span><span class="hljs-function"><span class="hljs-params">[] b)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IOException</span></span>;</code> </pre><br>  Before the method should put the reserved word "native".  Thus, the compiler knows that this is an entry point in the JNI.  We need to implement these methods in the C / C ++ file.  Google also recommends starting to name the methods with the word native, where X is the real name of the method.  But before you implement these methods manually, you should generate a header file.  This can be done manually, but you can use the javah utility, which is located in jdk.  But let's go further and will not use it through the console, but we will do it using standard Eclipse tools. <br><br>  Now you can run.  In the bin / classes directory will be your header files. <br><br>  Next, copy these files to the jni directory of our native project.  Call the context menu of the project and select Android Tools - Add Native Library.  This will allow us to use the jni.h functions.  Then you can already create a cpp file (sometimes Eclipse creates it by default) and write the bodies of the methods that are already described in the header file. <br><br>  I did not add the sample code to the article in order not to stretch it.  An example you can view / download from <a href="">github</a> . </div><p>Source: <a href="https://habr.com/ru/post/203014/">https://habr.com/ru/post/203014/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../203004/index.html">Xalan, Saxon and 8 Queens</a></li>
<li><a href="../203006/index.html">Google released a preliminary version of the Glass Development Kit</a></li>
<li><a href="../203008/index.html">ServerView Operations Manager - Fujitsu Unified Server Management Point</a></li>
<li><a href="../203010/index.html">Furious bulls: how Wall Street became dependent on "high-speed" trades. Part 3</a></li>
<li><a href="../203012/index.html">My experience setting up apache x64 under windows 8.1 x64</a></li>
<li><a href="../203018/index.html">Video generation by mathematical function on FPGA</a></li>
<li><a href="../203020/index.html">Application of pattern recognition theory in the advertising environment</a></li>
<li><a href="../203024/index.html">Tiny gadget container in 30 lines on pure JS</a></li>
<li><a href="../203026/index.html">What Java 8 prepares for us</a></li>
<li><a href="../203028/index.html">Organization of content filtering in educational institutions</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>