<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Recipe cooking 1U server at home</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The dish, which will be discussed in this article, is rather uncomplicated, however at many Internet conferences serious discussions are heated both a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Recipe cooking 1U server at home</h1><div class="post__text post__text-html js-mediator-article">  The dish, which will be discussed in this article, is rather uncomplicated, however at many Internet conferences serious discussions are heated both about the correctness of its preparation and about the expediency of its use. <br><br>  This dish can be prepared in an expensive restaurant using quality ingredients according to the unique recipes of chefs from Dell, Fujitsu, HP, IBM and Sun.  Yes, the price of such servers will be appropriate, because it will include not only the preparation fee, but also <a name="habracut"></a>  fee for warranty service, which, by the way, is at a fairly high level. <br><br>  There is another option that is not much inferior in quality, but less pressure on the pocket.  Of course, we are talking about buying less branded servers from companies such as Intel, Tyan, Supermicro, and even ASUS.  Here, in contrast to the previous version, the recipes are more or less standard, and any ingredient with an upgrade can often be replaced with a regular, non-brand. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In principle, it is possible to use the same ingredients of which the servers are being prepared in the second case, to buy semi-finished products and manufacture the machines on their own, initially using cheaper (but not less reliable) counterparts of individual components. <br><br>  And, of course, you can build the servers yourself, and prepare them from that, which is enough imagination.  But for many, imagination stops at more dimensional cases of the standard size 2U (in Ukraine, <a href="http://www.csv.com.ua/">CSV</a> products are often used, less often - <a href="http://inpc.com.ua/ru/index.html">InPC</a> ).  There may be several reasons for this. <br><br>  First, it will be cheaper to assemble a system in such a package.  Not only does the 2U case itself cost less, but the power supply unit can be replaced with a regular one, as long as it is cooled by an 80 mm fan on the back wall.  Yes, and for cooling the processor, you can use the bundled "boxed" or similar inexpensive cooler. <br><br>  Secondly, there are no problems with cooling the components.  On most desktop motherboards, memory slots are located along the board perpendicular to the expansion slots.  That is, when installing such a board in a server case with a height of one unit, the entire airflow will block the RAM modules, while in a dual-unit case for air circulation there are still five centimeters in height. <br><br>  Thirdly, twice the height of the case will allow installing multiple expansion cards (RAID controllers, network cards, etc.).  It is also worth noting that in 2U there will definitely be no problems with a high block of audio ports on the I / O panel, which may simply not fit in some single-unit cases (this depends on the board model and the case model). <br><br><h4>  Ingredients </h4><br>  Processor: <a href="http://ark.intel.com/ru/products/52213">Intel Core i7-2600</a> - $ 305 <br>  Cooler: 1U Active <a href="http://www.cooljagusa.com/productshow.asp%3Fid%3D222">CoolJag DEN-7</a> - $ 35 (ordered in the USA) <br>  Motherboard: <a href="http://www.fujitsu.com/ru/products/computing/pc/accessories/mainboards/extended/d3062-b.html">Fujitsu D3062-B</a> - $ 150 <br>  Memory: 4x 4096Mb <a href="http://www.teamgroup.com.tw/en.html">Team Elite</a> TED34096M1333C9 - $ 75 <br>  Hard Drives: 2x 500Gb <a href="http://wdc.com/global/products/specs/%3FdriveID%3D896%26language%3D10">Western Digital WD5000AAKX</a> - $ 190 <br>  Case: 1U <a href="http://www.chenbro.com/corporatesite/products_detail.php%3Fsku%3D11">Chenbro RM12700</a> - $ 140 <br>  Power supply: 250W <a href="http://www.seasonic.com/product/ipc_mini%25201u.jsp">Seasonic SS-250SU</a> - $ 55 and the plate to it - $ 3 <br>  Optional: 2x SATA data cable, 2x power adapter 4pin-SATA, power cable - $ 5. <br><br><h4>  Cooking </h4><br>  The first thing you need to install the processor into the socket of the motherboard and fix it.  Then turn the board over and glue the cooler support plate (backplate) to it, then turn the board back over and install the cooler itself (after removing the protective film from the thermal paste applied on its base), screwing the screws to the backplate nuts.  Memory modules can be supplied immediately, or after installation of the ‚Äúmotherboard‚Äù into the case. <br><br>  Next, you need to screw the power supply unit with the strap to fasten it, then install this structure in the case.  Also, before installing the motherboard, you need to fasten the missing cables to the case.  By the way, in my case, both the power supply unit with the plate and the motherboard batteries were already installed (this hardware was bought from one <a href="http://syntex.com.ua/">supplier</a> ), but the latter still had to be removed to install the processor cooling system. <br><br>  Each hard drive is installed in the basket with four screws, and the basket itself is attached to the case by one.  This mounting method allows you to quickly change the hard drives, if there are additional baskets.  Also, an additional basket can be useful for installing a third hard disk as shown on <a href="">the manufacturer's website</a> . <br><br>  After installing the hard drives, you can begin to connect the cables.  The power supply does not have SATA connectors, so I used an adapter from one 4-pin to 2 15-pin connectors.  It is worth noting that the SATA Right Angle data transfer cables in this case will not work, because when installed with the side with a bend, the adjacent SATA port will be blocked on the motherboard, and it is almost impossible to insert a rotated connector into the already installed hard drive. <br><br>  The main connector of the power supply of the ‚Äúmotherboard‚Äù I connected in a 20-pin design, since the additional 4 pins do not play a role, and the air flow definitely interferes.  Initially, it was planned to put these wires around in general by laying them on the other side with respect to the fans, but their length was not enough, and there was no suitable extension cable anywhere.  Yes, and at this stage you need to remember to connect the 4-pin power connector of the processor. <br><br>  The fan of the CPU cooler must be connected to the nearest corresponding connector.  I connected the case fans through the adapter that comes with the case, since there are only two fan connectors left on the motherboard.  The wiring diagram of the indicators and buttons on the front panel can be found in the <a href="">instructions for the board</a> .  Front USB ports (if needed) are connected in the same way as on other cards. <br><br>  All connected wires can be seasoned to taste. <br><br><img src="https://habrastorage.org/storage2/88a/dcf/7a0/88adcf7a05cdeaeacccfa7e70f8fc6a4.jpg"><br><br>  Before serving, you must make a few settings in the BIOS.  In order for the system to start when passing through POST despite possible errors, the <i>Boot - POST Errors</i> option must be transferred to <i>Disabled</i> .  Also in <i>Disabled,</i> I would recommend setting the <i>Advanced - System Monitoring - Fan Control</i> option, which will allow the fan on the cooler to constantly rotate at maximum speed, but at the same time will lead to the appearance of errors "SMCTRL: Sensor # ALERT".  An important setting for server operation is in <i>Power - Power Failure Recovery</i> .  Setting the option to <i>Always On</i> mode will allow the machine to automatically start after an emergency shutdown (for example, when electricity is lost in the data center or if the cleaning lady accidentally pulls the plug out of the outlet for a while). <br><br><h4>  The energy value </h4><br>  After the server was assembled, the Windows 7 operating system was installed on it to determine the temperature of the processor under load.  I burned the disk image supplied with the board onto a USB flash drive and ‚Äúfed‚Äù it to the server.  The disk utility identified the board model and offered to install the following drivers. <br><br><img src="https://habrastorage.org/storage2/491/1a0/1df/4911a01df4b1d3ba7ed98fe7b5f07ae4.png"><br><br>  At the same time, the proprietary program SysGuard was installed, which allows to monitor the temperature on the sensors and control the fans connected to the board. <br><br><img src="https://habrastorage.org/storage2/4c6/54a/62c/4c654a62ccbbc2c2e2cffd24adf0a3a0.png"><br><br>  It is noteworthy that this software works only when the automatic fan control system is enabled in the BIOS. <br><br>  Measurements of processor temperatures were carried out at room temperature of 22 ¬∞ C and using KPT-8 thermopaste (there would simply not be enough drain thermal interface for two processors; and KPT-8 is one degree more efficient).  The processor temperature in each mode is the temperature of the hottest processor core, measured by the RealTemp 3.60 program for five minutes.  It is also worth noting that BCLK dropped to a simple x16 to a simple multiplier, while with a load it went up to x24 for Celeron and up to x35 for Core i7. <br><br><img src="https://habrastorage.org/storage2/52b/596/56b/52b59656b275cbe55cd5ae749b74d738.gif"><br><br>  When the fan on the processor cooler is on, the temperature is kept at an acceptable level, not rising above 68 ¬∞ C in the stress test.  With the fan turned off, the i7-2600 temperature is steadily increasing, and even in the test of the speed and reliability of the hardware, WinRAR managed to rise to an obscene value (after six minutes the temperature was 88 ¬∞ C).  And this is despite the fact that this test barely loads this processor by 50%. <br><br>  Celeron G530, taken for visual comparison, is much colder.  With the passage of the test embedded in the archiver, which loads this processor by 90%, the temperature even with the fan off does not exceed 40 ¬∞ C.  A five-minute run of LinX with a task volume of 10,000, squeezing all the juices out of the processor, does not allow it to heat up to more than 50 ¬∞ C.  On the mode of operation with the fan on and can not speak. <br><br>  Since the topic of cheaper processors was touched upon, it is worthwhile to talk about motherboards with a lower cost.  If we talk about cards with transverse memory slots, then only Biostar motherboards come to mind.  But the power connector "motherboard" there is even more unfortunate than on Fujitsu.  So, on the <a href="http://www.biostar-russia.ru/app/ru/mb/introduction.php%3FS_ID%3D533">H61ML</a> board for the tests, the Intel Core i7 processor heats up a few degrees more than on the D3062-B. <br><br>  In addition to fewer features, the Biostar board is also less economical. <br><br><img src="https://habrastorage.org/storage2/dd2/7db/6db/dd27db6db5d32eed900c1785500a1e02.png"><br><br>  The graph also shows the results of testing the power supply Ablecom SP262-1S.  This PSU was installed earlier in inexpensive servers and Supermicro chassis.  As can be seen, it also does not shine with efficiency.  Another stone in his garden is the use of Ltec ‚Äã‚Äãcondensers at the outlet, which, to put it mildly, have a more than dubious reputation. <br><br><h4>  The nutritional value </h4><br>  In this section, we will focus on the key chip used in building the server motherboard. <br><br>  Fujitsu D3062-B is based on the Intel Q67 chipset.  This set of logic supports Intel Active Management and Intel vPro technologies, the interaction of which allows you to control a computer (in this case, a server) remotely.  It will be possible not only to enable, disable or reboot the server over the network, but also to load it from disk or manage it through KVM access.  The site <a href="http://www.thg.ru/network/tri_pokoleniya_intel_vpro/print.html">THG.ru</a> has a good article describing the capabilities of these technologies. <br><br>  To obtain such "buns" should use a processor that supports vPro.  A list of processors can be found <a href="http://www.intel.com/support/vpro/sb/CS-030703.htm">here</a> .  It is also worth noting that KVM will work only when using the integrated graphics adapter. <br><br>  First you need to poshaman a little bit in the BIOS.  The <i>Advanced - AMT Configuration - MEBx Mode</i> must be set to <i>Normal</i> .  The <i>Power - Low Power Soft Off option is</i> best translated to <i>Disabled</i> , this will allow access to the server that is turned off. <br><br>  After that, you need to restart the server and when you pass POST, press Ctrl + P on the keyboard, this will allow you to go to the Management Engine BIOS menu.  There you will need to enter the standard <i>admin</i> password and immediately set your own.  The password must consist of at least eight characters, include at least one lower case, one uppercase letter, a number and a special character (except ",:). Therefore, <i>P @ ssw0rd is</i> often used as a password. <br><br>  In order for the remote control to work, in the <i>Intel AMT Configuration</i> section of the <i>MEBx</i> menu, you need to configure the following items: <i>Manageability Feature Selection - Enabled</i> , in the <i>SOL / IDER / KVM</i> section, set all items to <i>Enabled</i> , to translate the <i>User Consent</i> menu <i>- User Opt-in</i> to <i>None</i> , Be sure to set the machine name in the <i>Network setup - Intel ME Network Name Settings - Host Name</i> (for example, <i>server</i> ).  If DHCP is used, then in the <i>TCP / IP Settings - Wired LAN IPv4 Configuration - DHCP Mode</i> menu you need to set <i>Enabled</i> , otherwise set the network settings manually.  After all this, you need to click <i>Activate Network Access</i> and confirm your decision. <br><br>  All settings MEBx, oddly enough, well written in Russian on the site of the company DELL <a href="http://support.dell.com/support/edocs/systems/latd630/ru/AMT/MEBX.htm">here</a> and <a href="http://support.dell.com/support/edocs/systems/xlob/iAMT/7.0/ru/amt_conf.htm">here</a> . <br><br>  You can use the iAMT and vPro functionality via a browser by going to IP address: 16992, or through the Radmin program.  You can manage the server using KVM through programs like Real VNC. <br><br>  Total output we have a self-assembled server with a good filling for less than a thousand dollars.  The advantages include the use of components from well-known brands, performance, efficiency, perspectivity, KVM.  The disadvantage, of course, is that the motherboard and cooler in a regular computer store do not buy. <br><br>  On the other hand, boards of type Biostar, which are on sale, do not have sufficient functionality, and will fit into cheaper servers.  And it still does not cancel the purchase of an active single-unit cooler, unless the processor installed in this board is not much more voracious than the Celeron G530.  In any case, I have already made my choice. </div><p>Source: <a href="https://habr.com/ru/post/135846/">https://habr.com/ru/post/135846/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../135837/index.html">Micro ORM do-it-yourself (part one)</a></li>
<li><a href="../135838/index.html">Let's play snowballs?</a></li>
<li><a href="../135840/index.html">PyS60: Tale of how to write a notepad for Symbian</a></li>
<li><a href="../135844/index.html">Who teaches whom: student teacher or student teacher?</a></li>
<li><a href="../135845/index.html">Budget option of virtual PBX with non-budget features</a></li>
<li><a href="../135848/index.html">CRACKL @ B Contest 2010. Analysis of the first task</a></li>
<li><a href="../135849/index.html">Mindbloom Life Game - interactive tree of self-improvement</a></li>
<li><a href="../135850/index.html">Structuring JS Assets in Rails 3.1 (Styx)</a></li>
<li><a href="../135851/index.html">XNA: Display text in system fonts</a></li>
<li><a href="../135853/index.html">In China, buyers of goods in online stores will be obliged to indicate real data</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>