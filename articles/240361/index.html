<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Taming of the Shrew (in fact, no) FineReader</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Content 

- On the road to professional use of modern OCR. Understanding FineReader 
- This post 

 After a short story about how ABBYY FineReader wor...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Taming of the Shrew (in fact, no) FineReader</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/1c8/e7f/45a/1c8e7f45ac244679b630822c219eaf62.png" align="right"><div class="spoiler">  <b class="spoiler_title">Content</b> <div class="spoiler_text"><ul><li>  <a href="http://habrahabr.ru/company/abbyy/blog/239531/">On the road to professional use of modern OCR.</a>  <a href="http://habrahabr.ru/company/abbyy/blog/239531/">Understanding FineReader</a> </li><li>  This post </li></ul><br></div></div><br>  After a short story about how ABBYY FineReader works (aka the ‚Äútheoretical part‚Äù), it's time to move on to applying the knowledge gained.  And yes, there are no cats under the cut: everything is very serious. <br><br><h4>  How to the user to participate in the processing of the document </h4><br>  In order not to reinvent the wheel, I'll start with a simple and clear scheme from Help (see the figure on the right). <br><br>  Now, knowing the list of all operations, we will look at examples - what can not go according to plan and how to deal with it. <br><a name="habracut"></a><br><h4>  Well recognized only good images. </h4><br>  What to do when there are images, but not very good ones?  Improve right in FineReader all you can, and if you can not improve - try to get the image again, eliminating the problem.  Since the topic is very extensive, with proper interest there will be a separate post about how to make friends with automatic and manual image processing tools right in FineReader.  In the meantime, I limit myself to noticing that the image will be processed better if it: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  (after scanning) has no pronounced geometric distortions - skew or noticeable bending of the pages of a thick book at the spine of a double-page spread, </li><li>  (after photographing, in addition to the previous one) does not have nonlinear geometric distortions (‚Äúpillow‚Äù, ‚Äútrapezium‚Äù), has uniform focusing (and preferably brightness) over the entire area, has no noise from insufficient illumination, does not have pronounced illumination from flash (especially on glossy paper). </li></ul><br><h4>  Document / Project Setup Phase </h4><br>  It is possible and necessary to immediately indicate the language of the text, the parameters of image preprocessing, some parameters of analysis and recognition.  Here is a screenshot of one of the tabs in the settings dialog. <br><img src="https://habrastorage.org/files/b6c/638/fda/b6c638fdaf3247b9a0f9f6503dddfc96.png"><br>  <a href="http://help.abbyy.com/FineReader/FineReader12/Russian/FAQ/Options_window.htm">These and other settings are described in detail in the Help.</a> <br><br><h4>  Stage of analysis </h4><br>  The program automatically selects areas of different types in terms of recognition.  At this stage, we can both independently mark out the areas, and correct (if necessary) those that have found the Analysis module. <br><br>  In order not to write a lot of superfluous about the tools for working with areas, I refer to the Help <a href="http://help.abbyy.com/FineReader/FineReader12/Russian/ImproveResults/EditAreas.htm">section</a> , but here I will explain what for what, ‚Äúwhat is good, what is bad‚Äù (applied to areas) and how to fix a bad result. <br><br><h4>  Assigning areas of different types </h4><br>  In the FineReader user interface, several types of areas are available, for them there are various options for the hidden property panel (at the bottom of the Image window) and the context menu (by right-clicking): <br><br><ul><li>  <b>‚ÄúRecognition Zone‚Äù</b> (gray frame by default) - this name is used in the user interface, in my opinion it would be more correct to call the ‚Äúarea for automatic analysis‚Äù.  The purpose of such an area is to indicate where on the page in general you need to look for something useful.  Therefore, as a result of subsequent analysis or analysis + recognition, within each ‚Äúrecognition zone‚Äù there can be <b>zero and more</b> areas of other types.  Recognition zones are especially useful in block patterns (for more details, see Help). <br><div class="spoiler">  <b class="spoiler_title">Examples of correctly drawn recognition zones.</b> <div class="spoiler_text">  A real example from <a href="http://readingtolstoy.ru/">Tolstoy's digitization</a> project - part of the pages is numbered lines (lines numbered with multiples of 10 are numbered), which is not necessary as a result and makes it difficult to read / edit text if automatic analysis included these numbers in the text area of ‚Äã‚Äãthe column.  If the pages were almost equally aligned on the scanner or qualitatively cropped after scanning, before analyzing, you can apply a block template to the desired group of pages, where the recognition area (or areas) simply does not contain parts of the page that we don‚Äôt need: <br><img src="https://habrastorage.org/files/af9/0ae/cd6/af90aecd6dea423084339b4a1295f7d7.png"><br>  Remember that, in contrast to the text area, the recognition area can turn into areas of different types, as was necessary in this project. <br></div></div><br></li><li>  <b>Text area</b> - contains the text of one or more lines, each of which contains logically connected text, therefore, to select two columns in one block is a very bad idea.  May have non-rectangular shape.  Sometimes you need to set or correct after incorrect definition of autoanalysis the direction of the text, ‚Äúinverse‚Äù (simplified: dark text on a light background - ‚Äúplain text‚Äù, and light text on a dark background - ‚Äúinverse‚Äù text, the default is set to ‚ÄúAuto‚Äù and almost never requires correction). <br><br>  These parameters are set on the block, so selecting the text of a different direction or different inverse in one block is another bad idea. <br><div class="spoiler">  <b class="spoiler_title">About the directions of the main text of the page</b> <div class="spoiler_text">  In European languages, in normal text orientation, lines are read from top to bottom (in a block with rotated text - from logical top to logical bottom), but in the case of hieroglyphic languages, everything is much more fun - even on one page, some areas may contain text in horizontal orientation, and others are columnar, and the hieroglyphs have the same orientation in all these areas (if the topic of the Far Eastern and Middle Eastern languages ‚Äã‚Äãis interesting - ask for a separate post about the local bells and whistles). </div></div><br></li><li><img src="https://habrastorage.org/files/0c4/832/2c9/0c48322c9a9542db9ed5afbaaa9080f8.png" align="right">  <b>Table area</b> - contains a table, both with visible row and column separators, and invisible (partially or everywhere).  A table can only have a rectangular shape, each of the cells is also a rectangle, but using the union of groups of cells or groups of rows, you can transfer very complex text configurations. <br>  Each cell can contain recognizable text (possibly empty) or a picture.  If you want to recognize the text in the cell, then you can set special recognition parameters for it, and if not, then you should specify the "picture in the whole cell".  By the way, you can immediately select a rectangular group of table cells and change the desired property for all at once. <br><br>  Tables are a complex object for automatic analysis, especially with partially or everywhere invisible separators.  It is extremely important that manually correcting the location and layout of the table before the first or repeated recognition is always easier than correcting the wrong structure of the text after recognition - in FineReader or even after saving, in the target application.  So in the section "Practicum" I will give a lot of examples from real life error correction automatic marking of tables. <br></li><li>  <b>Picture area</b> - may have a non-rectangular shape.  It has two types - plain (displaces column text) and background (does not supplant column text), they have slight differences when drawing (for example, when stretching a background picture, the text areas covered with it are not removed). <br></li><li>  <b>Barcode area</b> - contains the barcode of the autodetectable or explicitly specified type.  Like a picture, it may have a non-rectangular shape, although this is rarely necessary. </li></ul><br><br><h4>  Important Considerations </h4><br><ul><li>  Recognition and synthesis see only those fragments of text that were found in the text areas or text cells of the tables.  If a piece of text is not selected in blocks, it will not be recognized. </li><li>  Similarly, with pictures - if a part of the picture was out of the area or one holistic picture was divided into several areas - most likely, there will be problems as a result of processing. </li><li>  Recognition languages ‚Äã‚Äãin FineReader are not set for a tick - they affect very many mechanisms, starting with analysis: for example, hieroglyphic (Chinese, Japanese, Korean) or Arabic text have many features that are not always taken into account, but only when choosing the appropriate languages recognition. </li></ul><br><br><h4>  Features of the interaction of closely spaced or intersecting areas </h4><br>  The following rules are important both for the proper handling of areas in the program shell, and for understanding what will happen to them in the recognition and preservation results. <br><ul><li>  <b>The intersection of text and tabular blocks with each other</b> , if there are characters or parts of them that turned out to be in more than one block, <b>is almost always a mistake</b> , such analysis results should be corrected, especially since this is usually done in several mouse movements. <br><br>  The intersection of picture areas with each other is almost always a mistake, although less critical for processing text.  Such cases are also desirable to correct. <br><br></li><li>  <b>The picture area against the background of a larger text area</b> is a legitimate and often sought-after combination.  The main application is the processing of so-called inline-pictures, when inside a line (or between lines) there is a fragment (pictogram, formula or its part, etc.) that is poorly recognized or not recognized at all in the text model used in FineReader. <br><br><img src="https://habrastorage.org/files/8e0/eba/b50/8e0ebab50c074f279f047b13a6ecd880.png"><br><br><img src="https://habrastorage.org/files/e64/9b6/051/e649b6051955460188bd5033867be628.png"><br><br><div class="spoiler">  <b class="spoiler_title">Examples of proper use of pictures in the table</b> <div class="spoiler_text">  Note that using the checkbox in the properties panel of the area (below), the cells from the left column of the table are made with pictures. <br><img src="https://habrastorage.org/files/703/38b/8a2/70338b8a28c14b2490f2b46b2d7f0c57.png"><br></div></div><br>  <b>The text area on the background of the ‚Äúpicture‚Äù area is</b> also an important tool: there can be captions to them against the background of ordinary picture areas, and the main (‚Äúcolumnar‚Äù) text of the document, as well as the table, can be located on the ‚Äúbackground‚Äù picture areas. <br><br><div class="spoiler">  <b class="spoiler_title">Examples of proper use of text areas on the background of images</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/166/c3a/3f0/166c3a3f052d4c9a890a3f16841db619.png"><br></div></div><br><br><h4>  Tricks to make it easier to work with blocks </h4><br>  The described agreements are reflected in the behavior of the block editor.  For example, if you draw a new one or stretch an existing block so that it completely or almost completely overlaps the other blocks - these other blocks are automatically deleted. <br><br><h5>  Logical / illogical selection of areas </h5><br>  Now is the time to think - for what purposes and what format the document I would like to receive as a result of processing.  Here are some considerations that affect the number and nature of block markup fixes in difficult cases: <br><br><h6>  Option 1: we need only text (perhaps we don‚Äôt understand it, but this is the case) </h6><br>  If you need to save a document to PDF with images of the pages of the original document and added ‚Äúinvisible‚Äù recognized text (to search and copy it), the main thing is to ensure a reasonable selection of text in text and table blocks.  By "rationality" here means the following: <br><ul><li>  There are no ‚Äúgarbage‚Äù areas where elements of pictures or page design elements are recognized (by garbage) as text or tables. </li><li>  areas logically distinguish lines, preventing characters from falling into more than one area and unnecessarily crushing lines into more than one area. </li><li>  that, from the point of view of a person, is the tables in the original, should be highlighted in tabular areas.  This affects both the quality of recognition (for example, the base lines of lines in different cells may not be aligned vertically), and the convenience of searching and copying text fragments in the output document. </li></ul><br><br>  If individual images should not be copied from the output PDF document, then such areas can be excluded from the document at all (not to create new ones and not to leave the ones found by automatics, at least to delete the illogically found pictures, and if not laziness, that's all). <br><br>  I hope to broader and deeper reveal the theme of "rationality" of pictures in the article on the preservation of documents - if this is interesting to the readers of this material. <br><br><h6>  Option 2: you need everything at once </h6><br>  If a document that includes not only text content (in one or two columns), it is supposed to be saved immediately as an e-book in FB2 / e-pub formats or in any intermediate editable format (Word or HTML) for further editing and production of an e-book, then meaningful selection of tables and pictures becomes especially important. <br>  Among other things, you need to decide what to do with the groups of adjacent pictures, and what to do with the captions for the pictures, both next to each other and overlapping the pictures.  We will analyze this topic in more detail in the Practicum, using real examples. <br><br><h4>  Something like the conclusion of this part </h4><br>  So, we now imagine how to deal with incorrectly allocated blocks, which in difficult cases from the point of view of our technology really complicate life. <br>  Of course, FineReader is great, so the user does not know anything about it.  Therefore, we will return to this topic in a separate ‚ÄúPracticum‚Äù.  If readers show interest, of course :) </li></ul></div><p>Source: <a href="https://habr.com/ru/post/240361/">https://habr.com/ru/post/240361/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../240345/index.html">New 0day vulnerability in Windows is exploited in-the-wild</a></li>
<li><a href="../240347/index.html">Why do business hackathons?</a></li>
<li><a href="../240349/index.html">Expressive JavaScript: Functions</a></li>
<li><a href="../240351/index.html">Announcement of the first meeting of Java User Group Sevastopol</a></li>
<li><a href="../240357/index.html">5 popular javascript hacks</a></li>
<li><a href="../240367/index.html">Support for iOS 8 interactive notifications in the application</a></li>
<li><a href="../240369/index.html">An early version of ReSharper 9 is available for download.</a></li>
<li><a href="../240373/index.html">New course from the School of Interface Development. In Yekaterinburg and everywhere</a></li>
<li><a href="../240375/index.html">Objects in javascript and create js component. Part 1</a></li>
<li><a href="../240377/index.html">Vulnerability of zero day in Microsoft Windows (the patch will be available today)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>