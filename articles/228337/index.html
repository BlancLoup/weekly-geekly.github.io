<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Jekyll 2 is coming on Github!</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Post-publish: Some reservations regarding the ‚Äúold version‚Äù need to be taken seriously - Jekyll 2.2.0 is already installed on Github. The topic was wr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Jekyll 2 is coming on Github!</h1><div class="post__text post__text-html js-mediator-article"> <i><b>Post-publish:</b> Some reservations regarding the ‚Äúold version‚Äù need to be taken seriously - Jekyll 2.2.0 is already installed on Github.</i>  <i>The topic was written when version 1.5.1 was relevant for github.</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e3e/8ad/604/e3e8ad60410b1587b793253b7cd0d216.png" align="right" width="300" alt="Jekyll logo"><br>  There was an interesting situation.  Jekyll is now on version 2.1.1, and Github is collecting sites with an outdated (but reliable) version 1.5.1 (for the moment, the <a href="https://pages.github.com/versions/">latest information is here</a> ).  On this, some have already stumbled, having received assembly errors, when according to the documentation from the Jekyll website everything is in order.  Avoiding such incidents is easy - you need to use not <code>jekyll</code> , but <code>github-pages</code> , so that the versions coincide with those deployed on the githaba.  Fresh versions, at the cost of some complications in the publishing process, can also be used.  The method is widely known and will be described further, but first you need to figure out "why all this?" <br><br>  The transition to 2.x <a href="https://github.com/github/pages-gem/pull/75">goes</a> on the <a href="https://github.com/github/pages-gem/pull/75">sly</a> .  Innovations are great and many are eagerly awaiting them.  Is it worth it?  Let's think about it ... but first we‚Äôll get into the picture the cases of those who first encountered Jekyll. <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  Jekyll?  What is it?  I need it? </h5><br>  This is a famous generator of static <s>blog</s> sites.  You have a set of files in convenient <b>Markdown</b> and <b>Textile</b> markup languages, as well as templates in HTML / CSS / JS, you run Jekyll and get a set of regular HTML pages that you can download almost as a website.  Do you need it?  Good question. <br><br>  For sites that rarely change, static pages are a good choice, they are undemanding of server resources: if only he would give the files correctly.  Some servers (nginx?) Cope with this task so well that they are used as a proxy server for static resources of more complex applications.  But when the entire site is static, such a server can be used as the main one, and the server‚Äôs processing power will not significantly affect the speed of the site ‚Äî the network‚Äôs capacity will play a big role. <br><br>  Strictly speaking, even some so-called.  ‚ÄúDynamic‚Äù sites behave much the same when caching is enabled.  Collected a page - we will save for others not to collect on new each time.  But everything depends on how often the site changes.  For most business cards and portfolio sites, a static site is a good form factor since they rarely change. <br><br><h5>  Jekyll - because Github </h5><br>  Static sites are interesting because they are a set of HTML-pages.  If you upload such a set to the <code>gh-pages</code> branch on Github, it will take them as a site and give it to some address (which is better written in the <a href="https://help.github.com/articles/user-organization-and-project-pages">documentation</a> ).  Therefore, it is not necessary to use Jekyll for publication.  Any static page generator will work. <br><br>  But Jekyll is special.  Github can build site pages with Jekyll automatically, immediately after changing the source in the corresponding repository.  Whether it is your personal site, the site of an organization on a githaba or a project, you can safely use it.  This is the reason why he is so well known.  Additional information can be found <a href="https://help.github.com/articles/using-jekyll-with-pages">on the github itself</a> , you can also read <a href="http://habrahabr.ru/post/207650/">my previous post (there are many links)</a> . <br><br>  Formally, Jekyll can be expanded with plugins.  But since Jekyll on the githaba collects sites in safe mode, no plugins will be accepted during the build process, which, if available, forces the site to be built locally, and the source code should be kept separate from the site itself.  Therefore, many are waiting for new features to be added to Jekyll itself, so as not to do so.  Personally, I sometimes have the need to make a small edit to the site, and it is extremely convenient to do it as an editor from the github web interface.  And there are a lot of people like me. <br><br><h5>  To the point, finally! </h5><br>  I could not find where backward compatibility is broken.  Basically, Jekyll 2 provides extensions to what is already there.  In any case, as long as the case does not apply to plug-ins, which Github still does not handle. <br><br>  On the githab it is now possible to outweigh the sizeable amount of work that some users used to do on their own machine.  But let's start with a less important thing, interesting rather to new users. <br><br><h6>  New default template </h6><br>  A cosmetic change, in many respects useless - many still end up writing their own template, and nothing remains of the original (almost?).  But what is more sad - the new template does not demonstrate any new features Jekyll!  That's why I started it from him. <br><br>  For newbies, this is, however, rather good news, because the new template is visually more pleasant than the old one and is written in understandable HTML5 (using new purely semantic tags).  You can look <a href="http://tom.preston-werner.com/">at the</a> old style <a href="http://tom.preston-werner.com/">on the site of one of the Jekyll developers (and part-time co-founder of GitHub)</a> , but what the new one looks like: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/348/c48/ab0/348c48ab064f9ebcc9f58b9d35aced69.png" alt="Screenshot of new template"><br><br>  Using the new template is simple: install Ruby and RubyGems (the method depends on the OS), install Jekyll: <br> <code>gem install jekyll</code> <br>  ... or update if you already have one: <br> <code>gem update jekyll</code> <br>  ... and then create a new website: <br> <code>jekyll new hello_world</code> <br>  ... in the <code>hello_world</code> folder (or another if you specified another): <br> <code>cd hello_world</code> <br>  ... and run! <br> <code>jekyll serve</code> <br>  If everything went smoothly, on <a href="http://localhost:4000/">this link (http: // localhost: 4000 /)</a> you will see the site template. <br><br>  However, remember that this is the <b>latest version of Jekyll</b> , and <b>it is not yet on Github</b> .  Assembling the ‚Äúmirror‚Äù of the Github environment is also easy: <br>  We load the periodically updated list of libraries in this environment: <br> <code>gem install github-pages</code> <br>  Write to the Gemfile a list of these libraries: <br> <code>github-pages versions &gt; Gemfile</code> <br>  Install their <code>bundler</code> (most likely, you already have one): <br> <code>bundle install</code> <br>  Is done.  You can type <code>jekyll --version</code> in order to make sure that it shows version 1.5.1 (relevant at the time of this writing). <br><br>  <b>On this information for beginners ends.</b>  Further more significant features go, and in the descriptions I will assume that the reader has an understanding of how Jekyll works.  Nevertheless, I will try to explain in simple language. <br><br><h6>  Sass and CoffeeScript </h6><br>  Have you heard about <a href="http://sass-lang.com/">Sass</a> ?  If not, and you do not want to read the official website, I will tell you briefly: this is ‚Äúcompleted CSS‚Äù.  The closest analogue is <a href="http://lesscss.org/">Less</a> , and you rarely find a person who knows only about one of the two, most often both or none.  The most significant improvements over CSS are: variables, functions, impurities (mixins, for the term thanks to <a href="https://habrahabr.ru/users/mithgol/" class="user_link">Mithgol</a> and <a href="https://habrahabr.ru/users/difiso/" class="user_link">difiso</a> ) and the inheritance of several varieties.  These features greatly simplify the writing of complex styles with a large number of dependencies inside, allowing you to make repeated or generated pieces in special places, but these are not all the features.  The output is a regular static CSS file that browsers understand. <br><br>  What does this mean for Jekyll?  Now you can store in the repository with the site also source codes of styles.  Especially if your site uses the Sass framework for appearance.  You can take the sensational <a href="http://getbootstrap.com/">Bootstrap</a> , which is written in <a href="http://lesscss.org/">LESS</a> , but has a <a href="https://github.com/twbs/bootstrap-sass/">port on Sass</a> .  In what order and what to insert in Jekyll, I will explain a little lower. <br><br>  There is a bun for those who work with <a href="http://coffeescript.org/">CoffeeScript</a> : now it‚Äôs not necessary to collect JavaScript files before publication, you can store the source directly in the repository.  But personally, I do not use it and can not tell you more about it;  besides, I doubt the usefulness of CoffeeScript for such sites (but this is my subjective opinion, and I'm probably wrong). <br><br>  Recall how Jekyll works.  Any file in an arbitrary place of the project will be processed if it contains ‚ÄúYAML front-matter‚Äù - a header from the metadata in the YAML language.  It is just a block at the beginning of the file between two lines with the contents of "---", in which you can define individual values, lists and objects (also known as mapy and hashes in different circles), regarding this particular file and / or those This file inherits.  We have already seen this approach in Jekyll posts; this also affects resources, only in the case of resources, the header is often empty.  In any case, <a href="http://jekyllrb.com/docs/assets/">it advises to do the documentation</a> : we write three hyphens in the first two lines of the file, Jekyll sees in them an empty header and processes the file. <br><br>  Currently, three file extensions are recognized: <code>.sass</code> , <code>.scss</code> and <code>.coffee</code> .  When assembling a site, the <code>.css</code> file (from Sass) or <code>.js</code> (from CoffeeScript) is written to the appropriate place. <br><br><h6>  Sass is beautiful </h6><br>  ... and I'll tell you why. <br><br>  It is possible to make separate code fragments into files (partials), and subsequently import them ( <code>@import "";</code> ).  The import comes from a certain ‚Äúproject folder‚Äù.  It can be customized.  The default is <code>_sass</code> .  That is, if you import something into Sass (and did not change the configuration file for this purpose), create the <code>_sass</code> daddy in the site root and put all the imported content there.  One of the features that suddenly emerges from this is for those who like to squeeze everything out for performance: you can glue all the CSS into one file and thus reduce the number of HTTP requests, or you can reduce the volume (the Sass preprocessor has an option for compressing the result).  What can you put there, except what is written by you? <br><br>  For example, you can put the contents of <a href="https://github.com/twbs/bootstrap-sass/tree/master/assets/stylesheets">this daddy there</a> , then make <code>@import "bootstrap"</code> in one of your sass / scss-files and get a full-fledged Bootstrap with the ability to change its sources and build them automatically when changed.  Much of the web now looks monotonous due to the use of default styles.  Often this happens for the reason that people do not reach the self-assembly of CSS frameworks: it‚Äôs time consuming to change the result, because there are quite a lot of dependencies within different parts within the styles.  The bottom line: it either <i>looks</i> too complicated, or requires you to deliver a <i>ton of various trash</i> .  In fact, this is not the case at all, but <b>it looks that way</b> . <br><br>  You can import any of the libraries written in Sass, like <a href="http://compass-style.org/">Compass</a> or <a href="http://bourbon.io/">Bourbon</a> .  However, libraries (sass / scss files) will most likely have to be copied directly into <code>_sass</code> , since it is unknown now whether they will be available on the githaba, there is no information about this.  Most likely no.  If Git would allow submodules to specify not entire repositories, but separate folders in them, everything could be much simpler.  But in this regard, changes are not expected in the near future.  I remind you that before assembling the site, Github loads all the submodules specified in the repository, which is useful for bringing out files used in several places at once, such as the libraries you need. <br><br><blockquote>  <b>BONUS:</b> syntax highlighting using Pygments or Rouge (another new feature of Jekyll 2.0) requires its own CSS styles.  They can be generated directly in Pygments, which I have already done (and no longer want), but you can take <a href="https://gist.github.com/D-side/3054ce947676bd621ce6">this juicy Sass piece</a> and substitute your own colors in two accounts (thanks <a href="http://ryanburnette.com/2014/02/pygments-syntax-highlighter-sass-solarized.html">to the post and its author</a> for the original Pygments adaptation to Sass).  You can start with the <a href="https://github.com/chriskempson/base16-builder/tree/master/schemes">base16 color schemes</a> , but I went ahead and tried to write a generator of such schemes from the same sample color.  Sass is a very powerful tool, comparable in power with Liquid, but intended for other purposes, they are not bad combined. </blockquote><br><br><h6>  Collections </h6><br>  Never being impossible got its handy API.  Which, however, <a href="http://jekyllrb.com/docs/collections/">is not yet considered complete, and may change</a> : <br><blockquote>  <b>Collections support is unstable and may change</b> <br>  This is an experimental feature. </blockquote>  It was necessary mainly for those who <i>really wanted to use Jekyll not for the blog</i> (I won‚Äôt point the finger at whom).  In Jekyll 1.5.1, pages are divided into the following collections: <code>site.posts</code> (all posts from the blog), <code>site.pages</code> (all pages, without posts) and <code>site.tags</code> (posts under each tag). <br><br>  With the help of collections you can now create your own set of pages, which will not be included in any of the previously defined.  For example, <code>site.projects</code> for projects in which you participated.  Strictly speaking, the same could have been done before with the help of tags on posts, but this is more like a hack than a feature. <br><br><h6>  Data files </h6><br>  In essence, this is the ability to define data that is global to the entire site.  It was also an innovation from the category ‚Äúit was, but it became more convenient.‚Äù  It was always possible to define global data in <code>_config.yml</code> , and they would appear directly in the <code>site</code> object.  The only question was whether you are ready to inflate it. <br><br>  Now everything is a little easier.  It is enough to create the <code>_data</code> folder in the root of the site, and place the data files in JSON or YAML in it, and they will be available in the Liquid template tags in the eponymous (with the file without extension) object inside <code>site.data</code> .  That is, the data from the <code>mydata.json</code> file will be available in the <code>site.data.mydata</code> object.  Pretty cumbersome, but for things that need a shortcut, there is <code>_config.yml</code> . <br><br>  For what?  With this, it is much easier to prepare code for reuse by someone else.  For installation, you will not need to replace existing files, with the custom settings will be moved to a special separate place.  Perhaps there are other ways to benefit from it: for example, you can describe the menu structure with their help, if you have a website with a complex structure. <br><br>  With this you can come up with some interesting tricks.  One of them is a file whose presence indicates a ‚Äúdevelopment environment‚Äù.  It may exist on the developer's machine, but be absent from the version control system ( <code>.gitignore</code> will help), and thus not get into production.  Accordingly, if this file (say, <code>development.json</code> ) exists, then the <code>site.data.development</code> object also <code>site.data.development</code> , which means that you can print some debugging data without performing any additional actions during deployment.  Trifle, but nice. <br><br><h5>  Finally </h5><br>  The rest can be read <a href="http://jekyllrb.com/news/">on the blog Jekyll</a> , because the rest I have nothing to add.  This does not mean that there are no more serious changes - as it is. <br><br>  For example, with the help of the <a href="http://jekyllrb.com/docs/templates/">Liquid-filter <code>group_by</code></a> , you can beat certain objects (posts or something else) into groups on an arbitrary basis.  Using this, you can, for example, create a complex directory of something with several partitioning methods.  Not very similar to the task for which Jekyll is suitable, but it‚Äôs rather a technical possibility, rather than expediency: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e03/201/760/e0320176093018235b5a2e31e90688fd.jpg" height="300" alt="Why make a trolley bus out of a loaf of bread?"></div><br><br>  In the sum of innovations, Jekyll is somewhat diverted from the blog niche, allowing to collect more complex things on it.  Due to the abundance of options for the removal of parameters in the configuration files (different!), It became easier to share your own code with other Jekyll users, keeping it easy to configure without needing to describe what is regulated and where you need to replace files that already exist.  Everything can be described directly in the YAML file, in the comments (followed by a single-line comment).  But it should be remembered that the output is all the same static pages, so not everything can be implemented on the basis of Jekyll. <br><br>  I want to believe that this will lower the threshold of entry into Jekyll for those who previously considered it too difficult;  but it depends more on whether the Jekyll community will take advantage of the innovations to help newbies get settled in this unusual world of static sites. <br><br>  For my part, I am going to finish the Sass snippet for highlighting Pygments (and compatible) syntax, so that the highlighting can be entered in an arbitrary color scheme.  But I am one, the community is large, and Jekyll 2 is still not installed on the github servers, so many Jekyll users have not yet used the innovations and are not even preparing for their appearance. <br><br>  Of course, I describe Jekyll not from the point of view of ‚Äúreasonable‚Äù, but from the point of view of ‚Äúpossible‚Äù.  Do not take this as a reason to try Jekyll in the next project, because the purpose of this tool may be very different from your goals.  If to perform your task with Jekyll you have to use everything that is in it, and add a lot of things with your hands using a template engine, you may have made a mistake with the tool.  Are you ready to apply all this just for the sake of your site being automatically built from source by Github servers?  You decide. </div><p>Source: <a href="https://habr.com/ru/post/228337/">https://habr.com/ru/post/228337/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../228323/index.html">Sony SmartWatch 2 Review</a></li>
<li><a href="../228325/index.html">FnDelay awaiting function</a></li>
<li><a href="../228327/index.html">We parse ACID in NoSQL</a></li>
<li><a href="../228331/index.html">Building your own communication network over I2P</a></li>
<li><a href="../228335/index.html">Installing the Eucalyptus 4.0 cloud system</a></li>
<li><a href="../228339/index.html">Configuring ModSecurity</a></li>
<li><a href="../228341/index.html">Substitution of the parent page on the example of ask.fm</a></li>
<li><a href="../228343/index.html">Started the production of wireless sensors nooLite PM111 and PT111</a></li>
<li><a href="../228345/index.html">Laser Cube: laser engraving at home</a></li>
<li><a href="../228347/index.html">Stock market and saving finances: How to buy gold bars</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>