<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Analysis of the problem ‚ÄúMirror in the corridor‚Äù and outrage</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I want to analyze in more detail the problem from the publication of the Olympiad on Programming among Schoolchildren , and also to show that it is re...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Analysis of the problem ‚ÄúMirror in the corridor‚Äù and outrage</h1><div class="post__text post__text-html js-mediator-article">  I want to analyze in more detail the problem from the publication of <a href="http://habrahabr.ru/company/cognitive/blog/250349/">the Olympiad on Programming among Schoolchildren</a> , and also to show that it is really nontrivial.  Although, as a result, the program consists of three assignments and two comparisons, it is not so easy to arrive at this result, especially if there is no reference book on analytical geometry at hand. <br><br><img src="https://habrastorage.org/files/bc7/8b4/3ca/bc78b43cae344a69982b74ad1974df64.jpg"><br><a name="habracut"></a><br>  So, immediately agree that all rounding and errors associated with the representation of numbers with a floating point, we will not.  We will work exclusively with integer variables, for this we will resort to obvious tricks.  Although, in fact, there will be little programming and a lot of math.  In this work, reference materials on university mathematics, or rather one paragraph from the chapter "Fundamentals of linear algebra and analytical geometry" [1], are used. <br><br>  To begin, let me remind the text of the problem: <br><blockquote>  Petya caught a cold in bed, when suddenly someone opened the door.  Petya was too lazy to get up and he looked in the mirror to see who came.  The coordinates of the person entered are known (it can be considered a material point), it is necessary to find out whether Petya will be able to see the reflection of the person who entered in the mirror.  The mirror has the shape of a circle with a center at the origin of coordinates and is located in the plane ax + by + cz = 0. Petya can also be considered a material point.  It is guaranteed that Peter and the stranger do not lie in the plane of the mirror and that Peter always sees the reflecting side of the mirror.  If the image falls on the border of the mirror, then Petya sees the person who has entered.  Since both Petya and the one who has entered can be considered material points, Petya can see the reflection of the one who has entered, both through the one who has entered and through his own reflection. </blockquote><br>  Well, "in the forehead" to this task does not approach, analysis in this topic is also not really something "chew".  Therefore, I propose to simplify the problem and solve it for two-dimensional space, and then, by analogy, go to three-dimensional. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      You can, of course, consider even a one-dimensional version, but there is little point in it, because the mirror turns into a point and Peter will see the person only when they are on one side of the mirror, i.e.  if their coordinate has the same sign. <br><br>  Draw an illustration to the task: <br><br><img src="https://habrastorage.org/files/4b8/e9b/7c0/4b8e9b7c0cd448c888070b86dadc0c41.png"><br><br>  Let Petya be the point <i>S</i> , the stranger is the point <i>T</i> , the mirror is a straight line segment <img src="https://habrastorage.org/getpro/habr/post_images/1e3/870/326/1e38703263dd731707d8c86cf3b21ddd.gif" alt="image"><br>  Baseline: <i>R</i> is the radius of the mirror, the coefficients <i>A</i> and <i>B</i> ; <br><img src="https://habrastorage.org/getpro/habr/post_images/bfb/d27/25b/bfbd2725b8a7e00dd1b4ffdda403d6c9.gif" alt="image">  - Coordinates entered; <br><img src="https://habrastorage.org/getpro/habr/post_images/d33/243/55b/d3324355b470686aedefc4a004ed7ff1.gif" alt="image">  - coordinates of Peter. <br><br>  The solution algorithm is as follows: <br>  - Through point <i>T we</i> draw a straight line, perpendicular to <i>PQ</i> ; <br>  - On this straight line we mark the point <i>T`</i> symmetric to the point <i>T</i> relative to <i>PQ</i> - this will be the image of the <i>person</i> who entered (see or not see) Peter; <br>  - We will make a direct <i>ST`</i> ; <br>  - Find the intersection point of <i>PQ</i> and <i>ST `</i> ; <br>  - Check whether this point belongs to the segment <i>PQ</i> <br><br>  So, the equation of a line passing through the point <i>T is</i> perpendicular <img src="https://habrastorage.org/getpro/habr/post_images/1e3/870/326/1e38703263dd731707d8c86cf3b21ddd.gif" alt="image">  as follows: <br><img src="https://habrastorage.org/getpro/habr/post_images/0d4/acf/ff8/0d4acfff84560266e450e26cd576c0a4.gif" alt="image">  or <img src="https://habrastorage.org/getpro/habr/post_images/3d3/ae5/0d5/3d3ae50d5aaf4ead410c8be71ba75177.gif" alt="image"><br><img src="https://habrastorage.org/getpro/habr/post_images/976/fdb/4e5/976fdb4e515396fa8b4b8c2f16dd65b1.gif" alt="image"><br>  The point of intersection of <i>TT`</i> and <i>PQ</i> is the solution of the system of equations: <br><img src="https://habrastorage.org/getpro/habr/post_images/552/2a6/0dc/5522a60dcc7f884799d36a8e18ca80dc.gif" alt="image"><br>  Multiply the equations by <i>A</i> and <i>B,</i> respectively, and add together: <br><img src="https://habrastorage.org/getpro/habr/post_images/53b/aae/7ee/53baae7eebcbfb8d11d874e013d381aa.gif" alt="image"><br><img src="https://habrastorage.org/getpro/habr/post_images/78b/93f/84f/78b93f84f10ccf5c9324d735fed7e06d.gif" alt="image"><br><img src="https://habrastorage.org/getpro/habr/post_images/049/e32/5be/049e325beeb8afed9f670a98486df30b.gif" alt="image"><br><img src="https://habrastorage.org/getpro/habr/post_images/b55/87e/ef2/b5587eef21321c4083c25e456afcf70e.gif" alt="image"><br>  Found point <img src="https://habrastorage.org/getpro/habr/post_images/70c/ec4/dcb/70cec4dcbf378b0579c11415af006220.gif" alt="image">  - projection of point <i>T</i> on the straight line <i>PQ</i> <br>  Determine the coordinates of the point <i>T`</i> : <br><img src="https://habrastorage.org/getpro/habr/post_images/ad2/355/2d5/ad23552d5955defc525a9457fed7effc.gif" alt="image"><br><img src="https://habrastorage.org/getpro/habr/post_images/123/156/c9a/123156c9abdf7020e66ce01554cddd57.gif" alt="image"><br><br>  Two steps behind.  Find the equation of the straight line <i>ST`</i> : <br><img src="https://habrastorage.org/getpro/habr/post_images/32b/a17/51f/32ba1751f7525690c261ed98e40e77f9.gif" alt="image">  or <img src="https://habrastorage.org/getpro/habr/post_images/28a/491/252/28a491252e29d15dd7fd859896018632.gif" alt="image"><br>  Substitute the expression for the coordinates <i>T`</i> : <br><img src="https://habrastorage.org/getpro/habr/post_images/5e7/1cc/802/5e71cc802eaebd4df585fe7239525aaf.gif" alt="image"><br>  Going to integer calculus - multiply the equation by <img src="https://habrastorage.org/getpro/habr/post_images/c10/5bc/cca/c105bccca640728a766054bdc2e034dc.gif" alt="image">  : <br><img src="https://habrastorage.org/getpro/habr/post_images/e4c/c63/827/e4cc63827a84b1ef543a4ae3c56a8eba.gif" alt="image"><br>  It's time to introduce a replacement: <br><img src="https://habrastorage.org/getpro/habr/post_images/094/469/aec/094469aec6eb44daf26516366786c889.gif" alt="image"><br>  then the <i>ST`</i> equation takes the form: <img src="https://habrastorage.org/getpro/habr/post_images/b36/1b7/ab2/b361b7ab229ebbb77a532805fe0b6199.gif" alt="image"><br><br>  The point of intersection of <i>PQ</i> and <i>ST `</i> is the solution of the system: <br><img src="https://habrastorage.org/getpro/habr/post_images/313/606/264/313606264d23622b2da253929a51264d.gif" alt="image"><br><img src="https://habrastorage.org/getpro/habr/post_images/ccc/f0b/714/cccf0b714601ade9d5fdf96b9eb8cafd.gif" alt="image"><br><img src="https://habrastorage.org/getpro/habr/post_images/cac/0f2/449/cac0f24497e82be4b2e49cc9c3778718.gif" alt="image"><br><img src="https://habrastorage.org/getpro/habr/post_images/d1c/dcc/116/d1cdcc116e21ce9d85e8fde7a9b4520e.gif" alt="image"><br><img src="https://habrastorage.org/getpro/habr/post_images/b45/c60/6ae/b45c606ae6acc5a0c14c1fc61eed28c7.gif" alt="image"><br><br>  And finally, the distance from the center of coordinates to the found point: <img src="https://habrastorage.org/getpro/habr/post_images/530/b31/9e5/530b319e54c71d54b51ff5825e91a52d.gif" alt="image"><br>  Leaving the radicals: <img src="https://habrastorage.org/getpro/habr/post_images/3db/b94/a02/3dbb94a02c80f81672d99132d0040148.gif" alt="image"><br>  Now, if the found <i>R '</i> is no more than the specified <i>R</i> , then our unfortunate Peter will still see the stranger who has entered. <br>  Compared <img src="https://habrastorage.org/getpro/habr/post_images/d32/318/076/d32318076d25fd3001a8db3617c94811.gif" alt="image">  we multiply both sides of the inequality by a deliberately positive one (since even degree) <img src="https://habrastorage.org/getpro/habr/post_images/08e/a10/810/08ea10810a262293a3c2470a1f10d55a.gif" alt="image"><br>  those.  we are interested in the truth of the expression <img src="https://habrastorage.org/getpro/habr/post_images/073/51d/335/07351d3356a478929e309023c8e9a588.gif" alt="image"><br><br>  Why am I writing all this in detail?  Just in order to show how much work the Olympiad participant must do to solve this problem, and after all all these formulas of perpendicular lines are not included in the school course of mathematics, the participant must himself reach them in a logical way?  At the same time, he was assigned an average of 30 minutes to this task.  So, the problem is still not solved in actual fact.  First of all, we must do the same for the three-dimensional space, which is even more laborious, and secondly, it is not considered here whether the boy and his guest are on one side of the mirror ... <br><br>  Well, we are not threatened with time trouble, so we will continue. <br>  We will deal with the "mirror". <br>  I have such a solution (although it also didn‚Äôt immediately occur to me, at first I was thinking about moving to the coordinate system associated with a direct mirror, but there are ‚Äúugly‚Äù trigonometric functions) - through the points <i>S</i> and <i>T</i> we will draw straight lines parallel to the given <img src="https://habrastorage.org/getpro/habr/post_images/1e3/870/326/1e38703263dd731707d8c86cf3b21ddd.gif" alt="image">  .  Parallel lines have multiple coefficients for <i>x</i> and <i>y</i> , i.e. <img src="https://habrastorage.org/getpro/habr/post_images/1a7/0a8/b7e/1a70a8b7eacbd4e90600e42a568c2400.gif" alt="image">  , the difference is only in the free term.  We will not invent anything and take these coefficients equal to the given <i>A</i> and <i>B.</i> <br>  Then the equation of a line passing through the point <i>S</i> parallel to <i>PQ</i> has the form: <img src="https://habrastorage.org/getpro/habr/post_images/b99/7cc/753/b997cc753878ca91c009baf524693553.gif" alt="image">  or <img src="https://habrastorage.org/getpro/habr/post_images/b96/a49/41b/b96a4941b80d51740e55c75445d13c54.gif" alt="image"><br>  Here, depending on the sign of a free member. <img src="https://habrastorage.org/getpro/habr/post_images/2fa/229/747/2fa229747b374b05677b894d8bb5d232.gif" alt="image">  the straight line will be on one or the other side of the given one. <br>  Similarly, for a line through <i>T</i> : <img src="https://habrastorage.org/getpro/habr/post_images/685/0c3/d40/6850c3d40c246981323138901676c6c3.gif" alt="image"><br><br>  Do the following: find the value of the work <img src="https://habrastorage.org/getpro/habr/post_images/308/0a9/b4e/3080a9b4e7e70a16b8317ddb21c57966.gif" alt="image">  and compare it with zero: if it is greater than zero, the points are located on one side of the line, if it is less, they are different and Peter will not see his guest exactly, and the intermediate zero also satisfies, because  in this case at least one of the points lies on the given line. <br><br>  And finally, I will give the text of the program for the three-dimensional world, i.e.  for the initial condition of the problem: <br><br><div class="spoiler">  <b class="spoiler_title">src</b> <div class="spoiler_text"><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> ru.andrewn; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> java.lang.System.out; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Program</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ java.util.Scanner sc = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> java.util.Scanner(System.in); out.println(<span class="hljs-string"><span class="hljs-string">" r:"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> R = sc.nextInt(); out.println(<span class="hljs-string"><span class="hljs-string">" a, b  c:"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> A = sc.nextInt(); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> B = sc.nextInt(); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> C = sc.nextInt(); out.println(<span class="hljs-string"><span class="hljs-string">"   (x, y  z):"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> xx = sc.nextInt(); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> yy = sc.nextInt(); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> zz = sc.nextInt(); out.println(<span class="hljs-string"><span class="hljs-string">"   (x0, y0  z0):"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> x0 = sc.nextInt(); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> y0 = sc.nextInt(); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> z0 = sc.nextInt(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( (A*x0+B*y0+C*z0)*(A*xx+B*yy+C*zz) &gt;= <span class="hljs-number"><span class="hljs-number">0</span></span> ) { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> M = (B*B+C*CA*A)*x0-<span class="hljs-number"><span class="hljs-number">2</span></span>*A*B*y0-<span class="hljs-number"><span class="hljs-number">2</span></span>*A*C*z0-(A*A+B*B+C*C)*xx; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> N = (A*A+C*CB*B)*y0-<span class="hljs-number"><span class="hljs-number">2</span></span>*A*B*x0-<span class="hljs-number"><span class="hljs-number">2</span></span>*B*C*z0-(A*A+B*B+C*C)*yy; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> K = (A*A+B*BC*C)*z0-<span class="hljs-number"><span class="hljs-number">2</span></span>*A*C*x0-<span class="hljs-number"><span class="hljs-number">2</span></span>*B*C*y0-(A*A+B*B+C*C)*zz; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( (A*M+B*N+C*K)*(A*M+B*N+C*K)*R*R &gt;= ((B*N+C*K)*xx-B*M*yy-C*M*zz)*((B*N+C*K)*xx-B*M*yy-C*M*zz) + ((A*M+C*K)*yy-A*N*xx-C*N*zz)*((A*M+C*K)*yy-A*N*xx-C*N*zz) + ((A*M+B*N)*zz-A*K*xx-B*K*yy)*((A*M+B*N)*zz-A*K*xx-B*K*yy)) out.println(<span class="hljs-string"><span class="hljs-string">"  "</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> out.println(<span class="hljs-string"><span class="hljs-string">"   "</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> out.println(<span class="hljs-string"><span class="hljs-string">"   "</span></span>); sc.close(); } }</code> </pre> <br></div></div><br>  Sorry for the curvature of the code, I'm far from a programmer. <br><br>  If you wish - I can attach and mathematical calculations for the three-dimensional world. <br><br><h4>  Summary </h4><br>  The moral of this publication is that the authors of tasks for olympiads should nevertheless check more carefully how difficult the task is and how much knowledge it requires for successful implementation in the allotted time. <br><br><h4>  Literature </h4><br>  <a href="http://rghost.ru/6L9Ks8kVc">1. Kornienko, V.S.</a>  <a href="http://rghost.ru/6L9Ks8kVc">Reference material in mathematics: A manual for self-education [Electronic resource] / V.S.</a>  <a href="http://rghost.ru/6L9Ks8kVc">Kornienko;</a>  <a href="http://rghost.ru/6L9Ks8kVc">Volgogr.</a>  <a href="http://rghost.ru/6L9Ks8kVc">state</a>  <a href="http://rghost.ru/6L9Ks8kVc">S.-H.</a>  <a href="http://rghost.ru/6L9Ks8kVc">Acad.</a>  <a href="http://rghost.ru/6L9Ks8kVc">Volgograd, 2010. 284 p.</a> </div><p>Source: <a href="https://habr.com/ru/post/250763/">https://habr.com/ru/post/250763/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../250753/index.html">How Linux works with memory. Yandex Workshop</a></li>
<li><a href="../250755/index.html">Configure autoscaling in InfoboxCloud</a></li>
<li><a href="../250757/index.html">5 invalid errors when collecting product reviews</a></li>
<li><a href="../250759/index.html">Interesting moments of work Linq to Sql</a></li>
<li><a href="../250761/index.html">Brakes ng-repeat? No - just ngAnimate + transition to css</a></li>
<li><a href="../250765/index.html">Navigation Drawer in Material Design style in 5 minutes</a></li>
<li><a href="../250767/index.html">TLS1.1 + support for legacy CommuniGate versions</a></li>
<li><a href="../250769/index.html">A short course in computer graphics, addendum: ambient occlusion</a></li>
<li><a href="../250771/index.html">Improving JavaScript code using the StarWars API</a></li>
<li><a href="../250773/index.html">ASP.NET Day: Ballmer Peak, Pluralsight and the future of ASP.NET</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>