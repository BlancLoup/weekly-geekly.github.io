<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>PHP interactive console support for Debian Linux</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Probably, many were faced with the issue of a broken interactive PHP console. 

 When you enter 
 # php -a 

 and you see only the inscription "Intera...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>PHP interactive console support for Debian Linux</h1><div class="post__text post__text-html js-mediator-article">  Probably, many were faced with the issue of a broken interactive PHP console. <br><br>  When you enter <br><blockquote>  # php -a <br></blockquote><br>  and you see only the inscription "Interactive mode enabled", after which whatever you enter, the interpretation and execution of the commands entered does not work.  In fact this is not true.  In fact, this is a special mode, which must also be able to use.  The job description of this mode is not included in the tasks of my post.  For the ordinary uninitiated user, he looks like this: nothing works.  But in order to "work" the way we used to in the python or node.js consoles, we will do it. <br><br><a name="habracut"></a><br>  After some googling, most links give advice to recompile PHP with support for the readline library.  That she, they say, is responsible for the work of PHP in an interactive mode.  Yes, exactly: in your PHP build, readline does not work.  Moreover, in Debian Linux you will not be able to install this out-of-the-box support due to problems with the licensed nature of the distributor.  There is no <i>php5-readline</i> package in it.  However, there is a simpler and ‚Äúlegal‚Äù way to make the PHP console work, rather than rebuilding the entire PHP and its ‚Äúmanual‚Äù installation, after which your PHP drops out of the standard operating system update mechanism, and in the case of a subsequent random PHP installation from package is fraught with conflicts. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      At once I will make a reservation that everything said relates to the current stable version of Debian Wheezy.  In the next, unstable version of Debian, this support seems to be returned.  Unfortunately, I did not check it myself, but I saw the <i>php5-readline</i> package in the corresponding repository and saw the <i>fixed</i> conclusion in the corresponding bug report topics.  That is, as I understand it, in Debian Jessie and PHP 5.5, this support will be out of the box. <br><br>  Back to Wheezy and PHP 5.4 ... <br>  Written with some minor modifications is quite applicable to other Linux distributions, the principle is the same. <br><br>  We do everything from under the root or precede it with the <i>sudo command</i> . <br><br>  1. First we need the dev packages for PHP and readline <br><blockquote>  # aptitude install php5-dev libedit-dev libreadline-dev <br></blockquote><br>  Packages php, libedit, libreadline if not installed before, will be installed automatically. <br><br>  2. Next we need the PHP source.  Take them from the OS repository <br><blockquote>  # apt-get source php5-cli <br></blockquote><br><br>  3. We will not rebuild all PHP.  we only need one module.  Him and collect <br><blockquote>  # cd php5-5.4.4 / ext / readline / <br>  # phpize <br>  # ./configure <br>  # make <br></blockquote><br><br>  4. Here we will have an underwater stone: when compiling, the compiler will not find sapi.h <br><blockquote>  # ln -s ../../sapi/ <br>  # make <br></blockquote><br><br>  5. Build completed successfully.  We take the new module <i>readline.so</i> , put it to the modules of the current PHP and rule configs <br><br>  Module: <br><blockquote>  # locate mcrypt.so |  grep php <br>  # cp modules / readline.so / usr / lib / php5 / 20100525 + lfs / <br>  # chmod -x /usr/lib/php5/20100525+lfs/readline.so <br></blockquote><br><br>  Here, the <i>locate</i> command is used to determine the path where the PHP layouts are based on the example of mcrypt, which is installed automatically when you install PHP.  If you do not have a <i>locate</i> command, determine your path by analogy with my <br><br>  Config: <br><blockquote>  # echo 'extension = readline.so'&gt; /etc/php5/mods-available/readline.ini <br>  # cd /etc/php5/cli/conf.d <br>  # ln -s ../mods-available/readline.ini 20-readline.ini <br></blockquote><br><br>  Everything.  The console works. <br><blockquote>  # php -a <br>  Interactive mode enabled <br><br>  php&gt; <br></blockquote></div><p>Source: <a href="https://habr.com/ru/post/198886/">https://habr.com/ru/post/198886/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../198872/index.html">Concept: how to improve iMessage</a></li>
<li><a href="../198874/index.html">Li-Fi: how the LED light turns into a modem</a></li>
<li><a href="../198876/index.html">Win32 / Nymaim - another vector of infection</a></li>
<li><a href="../198880/index.html">Error Mac App Store allows you to upgrade Apple trial versions for free for free</a></li>
<li><a href="../198882/index.html">How to make Chinese USB programmer for $ 5 work in Linux</a></li>
<li><a href="../198888/index.html">The benefits of web studio client segmentation</a></li>
<li><a href="../198890/index.html">Using UIDynamicAnimator from UIKit Dynamics when creating tables based on UICollectionView</a></li>
<li><a href="../198892/index.html">Personal finance - more than just income / expense accounting</a></li>
<li><a href="../198894/index.html">Connecting Thinstation Linux 5.1 Diskless Clients to a Citrix XenApp Farm</a></li>
<li><a href="../198896/index.html">Usability boarding pass: how to save two lives a year</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>