<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Based on common sense: we grow DevOps from scratch</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="On the eve of DevOps Conf Russia 2018, we talked with Technical Director of Uchi.ru, Alexei Vakhov, about the stages of development of the platform, w...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Based on common sense: we grow DevOps from scratch</h1><div class="post__text post__text-html js-mediator-article">  On the eve of DevOps Conf Russia 2018, we talked with Technical Director of Uchi.ru, Alexei Vakhov, about the stages of development of the platform, what tools they use and how much DevOps-ovo is there. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/828/9ce/641/8289ce641dc66d9d538dd3eb60e305ef.jpg"><br><a name="habracut"></a><br>  <i>Alexey Vakhov - Technical Director <a href="https://uchi.ru/">of Uchi.ru.</a></i>  <i>He worked as a C ++ developer on huge systems (tens of millions of lines of code).</i>  <i>Favorite server technology - Ruby on Rails, is among the top 100 contributors.</i>  <i>He is interested in the organization of IT-production, operation, architecture of web applications.</i> <i><br><br></i>  <i>Uchi.ru is a Russian educational platform where schoolchildren in grades 1-11 study school subjects in a fun and entertaining way.</i>  <i>The platform is used by more than 2.5 million schoolchildren and 220 thousand teachers in Russia, the USA, Brazil, India, South Africa and China.</i>  <i>It occupies 36th place in the global ranking of e-learning platforms.</i>  <i>The company has more than 400 employees.</i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>- How did it all begin?</b>  <b>How many people were in the company when you came?</b> <br><br>  - They called me to the company in 2012, that is, six years ago.  At that time I was the fifth or sixth employee, and the only developer.  I both installed and server developed.  We made the first web application and posted it on Heroku. <br><br>  <b>- How are things now?</b>  <b>How many teams and what sizes?</b>  <b>How independent?</b>  <b>How do they interact with each other?</b> <br><br>  - To date, we have more than 400 people, of whom about 100 engineers, who are united in about 20 separate teams.  We have two big directions: production development and development of interactive tasks. <br><br>  Separate teams have their own isolated environment, special build systems, sharpened for the tasks that the team performs, its own servers, and sources.  They communicate with each other only when necessary. <br><br>  <b>- Do you have time to make your own wiki at such a growth rate?</b>  <b>How do you support her?</b> <br><br>  - We have several knowledge bases.  There is a wiki in the form of confluence, where there are general and thematic sections, and each team has its own section.  In each repository we support readme and additional information documents.  In any case, each team is allocated its own space, its own piece in jira, in confluence, all this is settled according to the wishes of the team.  We do not have dictation and standardization in registration. <br><br>  <b>- A sharp increase is fraught with loss of control.</b>  <b>How do you handle it?</b>  <b>How do you coordinate the work of so many teams?</b> <br><br>  - Overall coordination is achieved by building a management hierarchy.  We have coordinators of directions, and each team has its own leader.  It's simple. <br><br>  If you answer this question from the point of view of technology, then the teams adhere to common rules, for example, tests are connected to each repository, all development goes to new branches, which are checked, rolled out to the test environment, then to production. <br><br>  <b>- What stages of company formation do you single out for yourself?</b> <br><br>  - I like the approach I read about in one interesting book, according to which a crisis is when the customary system of values ‚Äã‚Äãcollapses.  In our case, because of such a rapid growth, there were many crises and each of them determines the further movement. <br><br>  The first crisis came when we became cramped in one room and had to expand to two.  At this stage, there was information that has ceased to be known to all.  The second and subsequent crises came when developers had to be divided into product teams.  Again, our large and friendly team was forced to break up and go to different corners. <br><br>  Any changes that took place in our country were necessarily supported by timely and relevant technological innovations.  The same goes for the DevOps methodology.  It can be said that I myself recently began to understand what cultural values ‚Äã‚Äãare and why they are important in large teams.  For example, there was a time when no one had a question about who was responsible for the stability of the site.  Everyone understood that the one who rolled out the service, for him and in response.  We hired a person who was only responsible for the servers, and the confrontation ‚Äúdevelopers vs administrators‚Äù began the same day.  It was amazing, like a book. <br><br>  <b>- Tell me more about each of the stages.</b>  <b>What tools did you accept for yourself which ones you had to give up?</b>  <b>As far as I understand from the <a href="http://devopsconf.io/moscow/2018/abstracts/4037">announcement of your speech</a> at DevOpsConf 2018, your entire infrastructure is deployed in clouds in docker containers.</b>  <b>Why did you come to this decision?</b>  <b>Since when could you not live without containers?</b> <br><br>  - At first there was nothing, even a tracker.  Just rolling out on Heroku: git push, and everyone is happy.  But Heroku quickly ceased to satisfy us, because before her a large enough ping, and they endure the load poorly.  We moved to regular iron servers and hired consultants.  Over time, the server is heavily littered.  By this time, we have greatly increased traffic, the number of productions, internal and external services.  We set up servers via Chef.  One day we fell under load and by the evening we moved to the cloud using Ansible.  The sensations when switching to Ansible were just cosmic.  It turned out to be simple and straightforward, especially in the case of such small infrastructures. <br><br>  Starting from about 60 applications, our infrastructure has grown into separate, as we call them, ‚Äúsites‚Äù.  These are isolated clouds with their own subnets, with their own terraform and ansible configurations. <br><br>  With the growing number of applications and servers, our configuration began to float, as it is necessary to take into account many things before running a simple RoR application.  Plus, part of the rollout config was in the repository with the application, part in the ansibl-recipes, the developers began to use secret magic, to make links to folders, some kind of synchronization.  As a result, it became completely impossible to maintain. <br><br>  When we had about a hundred applications in different clouds, we began to look closely at the docker.  It was last summer.  In about 10 months, we transferred all our applications, and by that time there were about 150 of them, into docker clusters.  This was a real salvation for us.  We were spared from having to keep track of versions, for fragments of environments on servers.  Everything became much more convenient and simpler: the application could easily be placed in a docker cluster, easy to remove from there, it had its own meta-information, from which it is clear what services the application consists of, what crones, background joba and so on. <br><br>  <b>- How firmly do you stand on the original DevOps approach?</b>  <b>Are you satisfied or did you change something for yourself?</b>  <b>Was it difficult to rebuild the team?</b> <br><br>  - I myself do not have the exact answer to the question of what DevOps is.  In my work, I always proceed from simple common sense.  And people say that, it turns out, DevOps grew up here.  In fact, I almost don‚Äôt need the theoretical part of DevOps, because my business is asking for results.  In other words, if I tell them beautifully and I don‚Äôt do anything, it will be very bad, and if I do, but I don‚Äôt tell about beauty, it will still be good. <br><br>  My understanding of DevOps is as follows.  For example, there is some big company that wants to make or already makes digital products.  Digital products are always fast feedback to the market.  Continuous delivery automatically arises, the boundaries between development and support are blurred, the DevOps culture is pulled up, which interprets the rules of good taste between people who are responsible for rolling out, testing and support.  As a result, such relationships allow them to agree among themselves in order to reach a common goal, as well as to shift the focus from their personal duties to a common result.  In a large and well-established company, there are changes in the processes, their overlapping. <br><br>  Since we did not have an established company, therefore, we grew the principles of work very quickly.  And the business constantly threw us new tasks, so we built our infrastructure primarily on the basis of common sense and internal requirements. <br><br>  The word DevOps meant little to me.  But now, when we went through all this, when I saw the emergence of points of conflict, blurring of responsibilities, I realized that DevOps is as a cultural aspect of the interaction between people for the sake of a common goal.  And common goals in digital products are to make new features as quickly as possible and roll them out. <br><br>  <b>- It would be interesting to know how difficult it is for beginners to integrate into your work with so many modern tools.</b>  <b>How is your work with people organized?</b> <br><br>  - We have adaptation programs.  We tell the new employee how we have developed and how everything is arranged now, we attach a mentor to it.  On the first day we help him set up the environment and issue a combat, but not a very difficult task.  Mentor accompanies him for several months, helps with adaptation. <br><br>  <b>- Tell us about the company's plans.</b>  <b>Where do you plan to grow and what directions to develop?</b>  <b>Does the current technology stack allow for further growth or will it have to be changed again?</b> <br><br>  - Business plans are ambitious.  Today, more than two million schoolchildren regularly study at Uchi.ru ‚Äî across the country, about 30% of all primary school students.  We will continue to attract new users to the platform in Russia and to engage in international development. <br><br>  Technically, we have 15 isolated docker clusters, and quite a lot of time is spent on switching from one to another, it became difficult to maintain, upgrade.  Requirements for the rate of change and reliability only grow.  Therefore, there is a reserve, but we will update too. <br><br><hr><br>  Friends, if you are interested in Alexey‚Äôs experience, we are in a hurry to invite to our <a href="http://devopsconf.io/moscow/2018">DevOps Conf Russia 2018</a> , which will be held on October 1-2.  In his report, he will talk about the experience of using clouds, the use of DevOps methodology, the values ‚Äã‚Äãand principles of his team. <br><br><blockquote>  <a href="http://eepurl.com/bN_0E1">Subscribe</a> to Ontiko's thematic newsletter on DevOps to get program updates as soon as they appear.  We try to make the letters useful and non-intrusive, we send news of conferences, transcripts of reports, fresh videos. <br><br>  By the way, a separate video can be monitored on the <a href="https://www.youtube.com/c/DevOpsChannel/">YouTube channel</a> - there are all the videos collected in recent years and the list is being updated all the time. <br></blockquote></div><p>Source: <a href="https://habr.com/ru/post/423683/">https://habr.com/ru/post/423683/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../423671/index.html">Tesla's competitors received investments of $ 1 billion from Saudi Arabia</a></li>
<li><a href="../423673/index.html">Risks in software development</a></li>
<li><a href="../423675/index.html">Security Week 35: Winter Is Near, How to Assemble a Tesla Trojan</a></li>
<li><a href="../423677/index.html">Jetpack Pilots: Frankie Zapata</a></li>
<li><a href="../423679/index.html">The challenge with the skyscraper and the eggs - not binomial Newton?</a></li>
<li><a href="../423685/index.html">Parallelism in PostgreSQL: not spherical, not a horse, not in a vacuum</a></li>
<li><a href="../423687/index.html">HyperX Pulsefire FPS Pro - faster, meaner, more affordable</a></li>
<li><a href="../423689/index.html">ROS MAX - free? We plan to open a license for free commercial use.</a></li>
<li><a href="../423693/index.html">Another way to use Webpack 4 and code sharing</a></li>
<li><a href="../423695/index.html">How to retire to 40 years with a million dollars in a bank account</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>