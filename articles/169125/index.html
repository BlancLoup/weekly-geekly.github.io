<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Ext JS 4 Grid "on the fingers"</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good afternoon, dear users. 

 Recently, I have been developing on Ext JS 4 and Zend framework 2. 

 Taking this opportunity, I would like to create a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Ext JS 4 Grid "on the fingers"</h1><div class="post__text post__text-html js-mediator-article">  Good afternoon, dear users. <br><br>  Recently, I have been developing on Ext JS 4 and Zend framework 2. <br><br>  Taking this opportunity, I would like to create a small series of articles "on the fingers" that illuminate some of the main components of Ext JS 4, without which no application on Ext JS can be done (sorry, series, - loudly said - I write from the sandbox). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h1>  So, Grid, part 1. </h1><a name="habracut"></a><br>  The Grid component allows you to create very flexible and functional tables with pagination, sorting, filtering, supporting unlimited nesting, templates, custom renderers, multiple plug-ins, event model, as well as all CRUD operations using ajax, rest, html5, cookies, sessions, and more. <br><br>  In the first article I am going to look at all the basic principles of working with the grid (I tried to make all the examples as simple as possible, trying to ensure that not a single line of code could be removed from them). <br><br><h2>  The simplest table Ext.grid and Ext.data.ArrayStore </h2><br><pre><code class="javascript hljs">Ext.onReady(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> myData = [ [<span class="hljs-string"><span class="hljs-string">'3m Co'</span></span>, <span class="hljs-number"><span class="hljs-number">71.72</span></span>, <span class="hljs-number"><span class="hljs-number">0.02</span></span>, <span class="hljs-number"><span class="hljs-number">0.03</span></span>, <span class="hljs-string"><span class="hljs-string">'9/1 12:00am'</span></span>], [<span class="hljs-string"><span class="hljs-string">'Alcoa Inc'</span></span>, <span class="hljs-number"><span class="hljs-number">29.01</span></span>, <span class="hljs-number"><span class="hljs-number">0.42</span></span>, <span class="hljs-number"><span class="hljs-number">1.47</span></span>, <span class="hljs-string"><span class="hljs-string">'9/1 12:00am'</span></span>], <span class="hljs-comment"><span class="hljs-comment">//.................. ['Verizon Communications', 35.57, 0.39, 1.11, '9/1 12:00am'], ['Wal-Mart Stores, Inc.', 45.45, 0.73, 1.63, '9/1 12:00am'] ]; var store = Ext.create('Ext.data.ArrayStore', { fields: ['company','price','change','pctChange','lastChange'], data: myData }); Ext.create('Ext.grid.Panel', { store: store, columns: [ { text : 'Company', dataIndex: 'company' }, { text : 'Price', dataIndex: 'price' }, { text : 'Change', dataIndex: 'change' }, { text : '% Change', dataIndex: 'pctChange' }, { text : 'Last Updated', dataIndex: 'lastChange' } ], height: 350, width: 600, title: '   grid', renderTo: 'grid1' }); });</span></span></code> </pre> <br>  It is based on the most simplified example from <a href="http://docs.sencha.com/ext-js/4-1/">the developers site</a> . <br><br>  To make this code work, create an index.html file (or any other) with the following contents: <br><pre> <code class="html hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">http-equiv</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Content-Type"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/html; charset=UTF-8"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"stylesheet"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/resources/css/ext-all.css"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/css"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/ext-all.js"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/examples/grid1.js"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>  grid   Ext.data.ArrayStore<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"grid1"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  I will not focus on this step.  You can <a href="https://github.com/spendlively/Grid-example">view the</a> structure at the <a href="https://github.com/spendlively/Grid-example">hub</a> <br><br>  Let's go back to the code! <br>  Virtually every Ext JS 4 application starts with Ext.onReady (function () {...}. Those who use or use jQuery start their applications with something like: jQuery (document) .ready (function () {. ..}), - the goal of both records is to wait until the DOM and framework files load. <br><br>  First of all, we created the usual non-associative two-level array myData with data directly in the code. <br><br>  Then, using the Ext.create construction, we created an object of the <a href="http://docs.sencha.com/ext-js/4-1/">Ext.data.ArrayStore</a> class, a simple storage that allows working with ordinary javascript arrays, such as our myData. <br><br>  The object can be created in a more usual way - using the operator new, for example new Ext.data.ArrayStore (...), but then we would have to manually load the file with the Ext.data.ArrayStore class. <br><br>  Fortunately, in this case Ext.require construction is provided in Ext JS: <br><br><pre> <code class="javascript hljs">Ext.require([ <span class="hljs-string"><span class="hljs-string">'Ext.grid.*'</span></span>, <span class="hljs-string"><span class="hljs-string">'Ext.data.*'</span></span>, ]);</code> </pre><br>  For example, you can load all class files for the Ext.grid and Ext.data scopes. <br><br>  The task of the store object is to define the fields, a certain data structure and load this data itself. <br><br>  The last step is to define the <a href="http://docs.sencha.com/ext-js/4-1/">Ext.grid.Panel</a> object. <br><br>  In the Ext.grid.Panel constructor, we pass the Store object, - for working with data, in it we define the grid table columns and panel parameters: <br><br>  The height (height), width (width), title (title) and id of the html-container (renderTo), where Ext JS will render our table. <br><br>  That's all! <br><br>  All that we have done is enough to create a simple Grid table that simply prints several rows with data and sorting by default. <br><br>  Looking ahead, I note that the number of fields in the storage does not necessarily have to be equal to the number of columns in the grid ‚Äî they only determine the structure of the data that can be output, in any way and where you want. <br><br>  As a result of this script, we get the simplest static grid label: <br><img src="http://www.phpshnik.ru/public/photo/images/1.jpg" alt="image"><br>  <a href="http://www.phpshnik.ru/ext-js-4/tablitsy-grids-v-ext-js-4/grid-i-arraystore-v-ext-js-4">Live demo</a> <br><br>  Replace Ext.data.ArrayStore with <a href="http://docs.sencha.com/ext-js/4-1/">Ext.data.Store</a> to make it easier to work with data. <br><br><h2>  Grid and Ext.data.Store </h2><br><pre> <code class="javascript hljs">Ext.onReady(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> myData = [ { <span class="hljs-attr"><span class="hljs-attr">company</span></span>: <span class="hljs-string"><span class="hljs-string">'Alcoa Inc'</span></span>, <span class="hljs-attr"><span class="hljs-attr">price</span></span>: <span class="hljs-number"><span class="hljs-number">71.72</span></span>, <span class="hljs-attr"><span class="hljs-attr">change</span></span>: <span class="hljs-number"><span class="hljs-number">0.02</span></span>, <span class="hljs-attr"><span class="hljs-attr">pctChange</span></span>: <span class="hljs-number"><span class="hljs-number">0.03</span></span>, <span class="hljs-attr"><span class="hljs-attr">lastChange</span></span>: <span class="hljs-string"><span class="hljs-string">'9/1 12:00am'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">company</span></span>: <span class="hljs-string"><span class="hljs-string">'Altria Group Inc'</span></span>, <span class="hljs-attr"><span class="hljs-attr">price</span></span>: <span class="hljs-number"><span class="hljs-number">83.81</span></span>, <span class="hljs-attr"><span class="hljs-attr">change</span></span>: <span class="hljs-number"><span class="hljs-number">0.28</span></span>, <span class="hljs-attr"><span class="hljs-attr">pctChange</span></span>: <span class="hljs-number"><span class="hljs-number">0.34</span></span>, <span class="hljs-attr"><span class="hljs-attr">lastChange</span></span>: <span class="hljs-string"><span class="hljs-string">'9/1 12:00am'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">company</span></span>: <span class="hljs-string"><span class="hljs-string">'American International Group, Inc.'</span></span>, <span class="hljs-attr"><span class="hljs-attr">price</span></span>: <span class="hljs-number"><span class="hljs-number">81.82</span></span>, <span class="hljs-attr"><span class="hljs-attr">change</span></span>: <span class="hljs-number"><span class="hljs-number">0.12</span></span>, <span class="hljs-attr"><span class="hljs-attr">pctChange</span></span>: <span class="hljs-number"><span class="hljs-number">0.63</span></span>, <span class="hljs-attr"><span class="hljs-attr">lastChange</span></span>: <span class="hljs-string"><span class="hljs-string">'9/1 12:00am'</span></span> } ]; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> store = Ext.create(<span class="hljs-string"><span class="hljs-string">'Ext.data.Store'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">fields</span></span>: [<span class="hljs-string"><span class="hljs-string">'company'</span></span>,<span class="hljs-string"><span class="hljs-string">'price'</span></span>,<span class="hljs-string"><span class="hljs-string">'change'</span></span>,<span class="hljs-string"><span class="hljs-string">'pctChange'</span></span>,<span class="hljs-string"><span class="hljs-string">'lastChange'</span></span>], <span class="hljs-attr"><span class="hljs-attr">data</span></span>: myData }); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> grid = Ext.create(<span class="hljs-string"><span class="hljs-string">'Ext.grid.Panel'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">store</span></span>: store, <span class="hljs-attr"><span class="hljs-attr">columns</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">text</span></span> : <span class="hljs-string"><span class="hljs-string">'Company'</span></span>, <span class="hljs-attr"><span class="hljs-attr">dataIndex</span></span>: <span class="hljs-string"><span class="hljs-string">'company'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">text</span></span> : <span class="hljs-string"><span class="hljs-string">'Price'</span></span>, <span class="hljs-attr"><span class="hljs-attr">dataIndex</span></span>: <span class="hljs-string"><span class="hljs-string">'price'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">text</span></span> : <span class="hljs-string"><span class="hljs-string">'Change'</span></span>, <span class="hljs-attr"><span class="hljs-attr">dataIndex</span></span>: <span class="hljs-string"><span class="hljs-string">'change'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">text</span></span> : <span class="hljs-string"><span class="hljs-string">'% Change'</span></span>, <span class="hljs-attr"><span class="hljs-attr">dataIndex</span></span>: <span class="hljs-string"><span class="hljs-string">'pctChange'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">text</span></span> : <span class="hljs-string"><span class="hljs-string">'Last Updated'</span></span>, <span class="hljs-attr"><span class="hljs-attr">dataIndex</span></span>: <span class="hljs-string"><span class="hljs-string">'lastChange'</span></span> } ], <span class="hljs-attr"><span class="hljs-attr">height</span></span>: <span class="hljs-number"><span class="hljs-number">350</span></span>, <span class="hljs-attr"><span class="hljs-attr">width</span></span>: <span class="hljs-number"><span class="hljs-number">600</span></span>, <span class="hljs-attr"><span class="hljs-attr">title</span></span>: <span class="hljs-string"><span class="hljs-string">'   grid'</span></span>, <span class="hljs-attr"><span class="hljs-attr">renderTo</span></span>: <span class="hljs-string"><span class="hljs-string">'grid2'</span></span> }); });</code> </pre><br>  Now the data in myData is a collection of objects (hashes), with which we are going to work further. <br><br>  On the screen, we see the same table (except that it has less data and it has a different title). <br><br>  Now add <a href="http://docs.sencha.com/ext-js/4-1/">the</a> data <a href="http://docs.sencha.com/ext-js/4-1/">model</a> to our application. <br><br><h2>  Grid, Ext.data.Store and Ext.data.Model </h2><br><pre> <code class="javascript hljs">Ext.onReady(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> myData = [ { <span class="hljs-attr"><span class="hljs-attr">company</span></span>: <span class="hljs-string"><span class="hljs-string">'Alcoa Inc'</span></span>, <span class="hljs-attr"><span class="hljs-attr">price</span></span>: <span class="hljs-number"><span class="hljs-number">71.72</span></span>, <span class="hljs-attr"><span class="hljs-attr">change</span></span>: <span class="hljs-number"><span class="hljs-number">0.02</span></span>, <span class="hljs-attr"><span class="hljs-attr">pctChange</span></span>: <span class="hljs-number"><span class="hljs-number">0.03</span></span>, <span class="hljs-attr"><span class="hljs-attr">lastChange</span></span>: <span class="hljs-string"><span class="hljs-string">'9/1 12:00am'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">company</span></span>: <span class="hljs-string"><span class="hljs-string">'Altria Group Inc'</span></span>, <span class="hljs-attr"><span class="hljs-attr">price</span></span>: <span class="hljs-number"><span class="hljs-number">83.81</span></span>, <span class="hljs-attr"><span class="hljs-attr">change</span></span>: <span class="hljs-number"><span class="hljs-number">0.28</span></span>, <span class="hljs-attr"><span class="hljs-attr">pctChange</span></span>: <span class="hljs-number"><span class="hljs-number">0.34</span></span>, <span class="hljs-attr"><span class="hljs-attr">lastChange</span></span>: <span class="hljs-string"><span class="hljs-string">'9/1 12:00am'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">company</span></span>: <span class="hljs-string"><span class="hljs-string">'American International Group, Inc.'</span></span>, <span class="hljs-attr"><span class="hljs-attr">price</span></span>: <span class="hljs-number"><span class="hljs-number">81.82</span></span>, <span class="hljs-attr"><span class="hljs-attr">change</span></span>: <span class="hljs-number"><span class="hljs-number">0.12</span></span>, <span class="hljs-attr"><span class="hljs-attr">pctChange</span></span>: <span class="hljs-number"><span class="hljs-number">0.63</span></span>, <span class="hljs-attr"><span class="hljs-attr">lastChange</span></span>: <span class="hljs-string"><span class="hljs-string">'9/1 12:00am'</span></span> } ]; Ext.define(<span class="hljs-string"><span class="hljs-string">'Model'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">extend</span></span>: <span class="hljs-string"><span class="hljs-string">'Ext.data.Model'</span></span>, <span class="hljs-attr"><span class="hljs-attr">fields</span></span>: [<span class="hljs-string"><span class="hljs-string">'company'</span></span>,<span class="hljs-string"><span class="hljs-string">'price'</span></span>,<span class="hljs-string"><span class="hljs-string">'change'</span></span>,<span class="hljs-string"><span class="hljs-string">'pctChange'</span></span>,<span class="hljs-string"><span class="hljs-string">'lastChange'</span></span>] }); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> store = Ext.create(<span class="hljs-string"><span class="hljs-string">'Ext.data.Store'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">model</span></span>: <span class="hljs-string"><span class="hljs-string">'Model'</span></span>, <span class="hljs-attr"><span class="hljs-attr">data</span></span>: myData }); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> grid = Ext.create(<span class="hljs-string"><span class="hljs-string">'Ext.grid.Panel'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">store</span></span>: store, <span class="hljs-attr"><span class="hljs-attr">columns</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">text</span></span> : <span class="hljs-string"><span class="hljs-string">'Company'</span></span>, <span class="hljs-attr"><span class="hljs-attr">dataIndex</span></span>: <span class="hljs-string"><span class="hljs-string">'company'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">text</span></span> : <span class="hljs-string"><span class="hljs-string">'Price'</span></span>, <span class="hljs-attr"><span class="hljs-attr">dataIndex</span></span>: <span class="hljs-string"><span class="hljs-string">'price'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">text</span></span> : <span class="hljs-string"><span class="hljs-string">'Change'</span></span>, <span class="hljs-attr"><span class="hljs-attr">dataIndex</span></span>: <span class="hljs-string"><span class="hljs-string">'change'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">text</span></span> : <span class="hljs-string"><span class="hljs-string">'% Change'</span></span>, <span class="hljs-attr"><span class="hljs-attr">dataIndex</span></span>: <span class="hljs-string"><span class="hljs-string">'pctChange'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">text</span></span> : <span class="hljs-string"><span class="hljs-string">'Last Updated'</span></span>, <span class="hljs-attr"><span class="hljs-attr">dataIndex</span></span>: <span class="hljs-string"><span class="hljs-string">'lastChange'</span></span> } ], <span class="hljs-attr"><span class="hljs-attr">height</span></span>: <span class="hljs-number"><span class="hljs-number">350</span></span>, <span class="hljs-attr"><span class="hljs-attr">width</span></span>: <span class="hljs-number"><span class="hljs-number">600</span></span>, <span class="hljs-attr"><span class="hljs-attr">title</span></span>: <span class="hljs-string"><span class="hljs-string">'   grid'</span></span>, <span class="hljs-attr"><span class="hljs-attr">renderTo</span></span>: <span class="hljs-string"><span class="hljs-string">'grid3'</span></span> }); });</code> </pre><br>  A few words about the model: if the Store is a collection of data, the model is one copy of this data.  At first glance, the model may seem redundant, but without it we will not be able to work with multi-level nested data in an easy way. <br><br>  It's time to get rid of storing data in the code, for this we need a <a href="http://docs.sencha.com/ext-js/4-1/">proxy</a> . <br><br><h2>  Grid and proxy </h2><br><pre> <code class="javascript hljs">Ext.onReady(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ Ext.define(<span class="hljs-string"><span class="hljs-string">'myModel'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">extend</span></span>: <span class="hljs-string"><span class="hljs-string">'Ext.data.Model'</span></span>, <span class="hljs-attr"><span class="hljs-attr">fields</span></span>: [<span class="hljs-string"><span class="hljs-string">'company'</span></span>,<span class="hljs-string"><span class="hljs-string">'price'</span></span>,<span class="hljs-string"><span class="hljs-string">'change'</span></span>,<span class="hljs-string"><span class="hljs-string">'pctChange'</span></span>,<span class="hljs-string"><span class="hljs-string">'lastChange'</span></span>] }); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> store = Ext.create(<span class="hljs-string"><span class="hljs-string">'Ext.data.Store'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">model</span></span>: <span class="hljs-string"><span class="hljs-string">'myModel'</span></span>, <span class="hljs-attr"><span class="hljs-attr">proxy</span></span>: { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'ajax'</span></span>, <span class="hljs-attr"><span class="hljs-attr">url</span></span>: <span class="hljs-string"><span class="hljs-string">'/examples/data/data.json'</span></span>, <span class="hljs-attr"><span class="hljs-attr">reader</span></span>: { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'json'</span></span>, <span class="hljs-attr"><span class="hljs-attr">root</span></span>: <span class="hljs-string"><span class="hljs-string">'data'</span></span> } }, <span class="hljs-attr"><span class="hljs-attr">autoLoad</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> grid = Ext.create(<span class="hljs-string"><span class="hljs-string">'Ext.grid.Panel'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">store</span></span>: store, <span class="hljs-attr"><span class="hljs-attr">columns</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">text</span></span> : <span class="hljs-string"><span class="hljs-string">'Company'</span></span>, <span class="hljs-attr"><span class="hljs-attr">dataIndex</span></span>: <span class="hljs-string"><span class="hljs-string">'company'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">text</span></span> : <span class="hljs-string"><span class="hljs-string">'Price'</span></span>, <span class="hljs-attr"><span class="hljs-attr">dataIndex</span></span>: <span class="hljs-string"><span class="hljs-string">'price'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">text</span></span> : <span class="hljs-string"><span class="hljs-string">'Change'</span></span>, <span class="hljs-attr"><span class="hljs-attr">dataIndex</span></span>: <span class="hljs-string"><span class="hljs-string">'change'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">text</span></span> : <span class="hljs-string"><span class="hljs-string">'% Change'</span></span>, <span class="hljs-attr"><span class="hljs-attr">dataIndex</span></span>: <span class="hljs-string"><span class="hljs-string">'pctChange'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">text</span></span> : <span class="hljs-string"><span class="hljs-string">'Last Updated'</span></span>, <span class="hljs-attr"><span class="hljs-attr">dataIndex</span></span>: <span class="hljs-string"><span class="hljs-string">'lastChange'</span></span> } ], <span class="hljs-attr"><span class="hljs-attr">height</span></span>: <span class="hljs-number"><span class="hljs-number">350</span></span>, <span class="hljs-attr"><span class="hljs-attr">width</span></span>: <span class="hljs-number"><span class="hljs-number">600</span></span>, <span class="hljs-attr"><span class="hljs-attr">title</span></span>: <span class="hljs-string"><span class="hljs-string">'   grid'</span></span>, <span class="hljs-attr"><span class="hljs-attr">renderTo</span></span>: <span class="hljs-string"><span class="hljs-string">'grid4'</span></span> }); });</code> </pre><br>  From this point on, the most interesting thing begins - we removed the hard-coded data from our grid table and defined the proxy in our repository. <br><br>  The proxy object makes it very convenient to perform any CRUD procedures using ajax, rest, or local storages at the abstract level, using special readers to decrypt data (for more details, see the next article). <br><br>  We will use ajax proxy, which automatically (autoLoad: true) will load the data to the specified url address (the default request is executed by the GET method), and the specified reader will try to decrypt it from the json format.  root: 'data' indicates to the reader that the root node with data has the key "data". <br><br>  The important point is that, by default, the grid displays only 25 lines. To fix this, you need to add the pageSize property to the initialization of our repository, like this: <br><pre> <code class="javascript hljs"> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> store = Ext.create(<span class="hljs-string"><span class="hljs-string">'Ext.data.Store'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">model</span></span>: <span class="hljs-string"><span class="hljs-string">'myModel'</span></span>, <span class="hljs-attr"><span class="hljs-attr">pageSize</span></span>: <span class="hljs-number"><span class="hljs-number">50</span></span>, <span class="hljs-attr"><span class="hljs-attr">proxy</span></span>: { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'ajax'</span></span>, <span class="hljs-attr"><span class="hljs-attr">url</span></span>: <span class="hljs-string"><span class="hljs-string">'/examples/data/data.json'</span></span>, <span class="hljs-attr"><span class="hljs-attr">reader</span></span>: { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'json'</span></span>, <span class="hljs-attr"><span class="hljs-attr">root</span></span>: <span class="hljs-string"><span class="hljs-string">'data'</span></span> } }, <span class="hljs-attr"><span class="hljs-attr">autoLoad</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> });</code> </pre><br><br>  To enable pagination in the grid table, it is enough to add the <a href="http://docs.sencha.com/ext-js/4-1/">Ext.PagingToolbar</a> object to the grid initialization in some ‚Äútoolbar‚Äù, for example in <a href="http://docs.sencha.com/ext-js/4-1/">bbar</a> : <br><pre> <code class="javascript hljs"> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> grid = Ext.create(<span class="hljs-string"><span class="hljs-string">'Ext.grid.Panel'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">store</span></span>: store, <span class="hljs-attr"><span class="hljs-attr">columns</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">text</span></span> : <span class="hljs-string"><span class="hljs-string">'Company'</span></span>, <span class="hljs-attr"><span class="hljs-attr">dataIndex</span></span>: <span class="hljs-string"><span class="hljs-string">'company'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">text</span></span> : <span class="hljs-string"><span class="hljs-string">'Price'</span></span>, <span class="hljs-attr"><span class="hljs-attr">dataIndex</span></span>: <span class="hljs-string"><span class="hljs-string">'price'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">text</span></span> : <span class="hljs-string"><span class="hljs-string">'Change'</span></span>, <span class="hljs-attr"><span class="hljs-attr">dataIndex</span></span>: <span class="hljs-string"><span class="hljs-string">'change'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">text</span></span> : <span class="hljs-string"><span class="hljs-string">'% Change'</span></span>, <span class="hljs-attr"><span class="hljs-attr">dataIndex</span></span>: <span class="hljs-string"><span class="hljs-string">'pctChange'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">text</span></span> : <span class="hljs-string"><span class="hljs-string">'Last Updated'</span></span>, <span class="hljs-attr"><span class="hljs-attr">dataIndex</span></span>: <span class="hljs-string"><span class="hljs-string">'lastChange'</span></span> } ], <span class="hljs-attr"><span class="hljs-attr">height</span></span>: <span class="hljs-number"><span class="hljs-number">350</span></span>, <span class="hljs-attr"><span class="hljs-attr">width</span></span>: <span class="hljs-number"><span class="hljs-number">600</span></span>, <span class="hljs-attr"><span class="hljs-attr">title</span></span>: <span class="hljs-string"><span class="hljs-string">'   grid'</span></span>, <span class="hljs-attr"><span class="hljs-attr">renderTo</span></span>: <span class="hljs-string"><span class="hljs-string">'grid5'</span></span>, <span class="hljs-attr"><span class="hljs-attr">bbar</span></span>: Ext.create(<span class="hljs-string"><span class="hljs-string">'Ext.PagingToolbar'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">store</span></span>: store }) });</code> </pre><br><br>  Now we have pagination: <br><img src="http://www.phpshnik.ru/public/photo/images/paging.jpg" alt="image"><br>  <a href="http://www.phpshnik.ru/ext-js-4/tablitsy-grids-v-ext-js-4/paginatsiya-extpagingtoolbar-dlya-grid-v-ext-js-4">Live demo</a> <br><br>  I‚Äôll draw your attention to the fact that all columns of Grid tables by default support local sorting, unless otherwise specified.  If it is necessary to sort the data on the server, you need to specify this in our repository using the ‚ÄúremoteSort: true‚Äù property: <br><br><pre> <code class="javascript hljs">Ext.onReady(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ Ext.define(<span class="hljs-string"><span class="hljs-string">'myModel'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">extend</span></span>: <span class="hljs-string"><span class="hljs-string">'Ext.data.Model'</span></span>, <span class="hljs-attr"><span class="hljs-attr">fields</span></span>: [<span class="hljs-string"><span class="hljs-string">'company'</span></span>,<span class="hljs-string"><span class="hljs-string">'price'</span></span>,<span class="hljs-string"><span class="hljs-string">'change'</span></span>,<span class="hljs-string"><span class="hljs-string">'pctChange'</span></span>,<span class="hljs-string"><span class="hljs-string">'lastChange'</span></span>] }); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> store = Ext.create(<span class="hljs-string"><span class="hljs-string">'Ext.data.Store'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">model</span></span>: <span class="hljs-string"><span class="hljs-string">'myModel'</span></span>, <span class="hljs-attr"><span class="hljs-attr">proxy</span></span>: { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'ajax'</span></span>, <span class="hljs-attr"><span class="hljs-attr">url</span></span>: <span class="hljs-string"><span class="hljs-string">'/examples/data/data.json'</span></span>, <span class="hljs-attr"><span class="hljs-attr">reader</span></span>: { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'json'</span></span>, <span class="hljs-attr"><span class="hljs-attr">root</span></span>: <span class="hljs-string"><span class="hljs-string">'data'</span></span> } }, <span class="hljs-attr"><span class="hljs-attr">autoLoad</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">remoteSort</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> grid = Ext.create(<span class="hljs-string"><span class="hljs-string">'Ext.grid.Panel'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">store</span></span>: store, <span class="hljs-attr"><span class="hljs-attr">columns</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">text</span></span> : <span class="hljs-string"><span class="hljs-string">'Company'</span></span>, <span class="hljs-attr"><span class="hljs-attr">dataIndex</span></span>: <span class="hljs-string"><span class="hljs-string">'company'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">text</span></span> : <span class="hljs-string"><span class="hljs-string">'Price'</span></span>, <span class="hljs-attr"><span class="hljs-attr">dataIndex</span></span>: <span class="hljs-string"><span class="hljs-string">'price'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">text</span></span> : <span class="hljs-string"><span class="hljs-string">'Change'</span></span>, <span class="hljs-attr"><span class="hljs-attr">dataIndex</span></span>: <span class="hljs-string"><span class="hljs-string">'change'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">text</span></span> : <span class="hljs-string"><span class="hljs-string">'% Change'</span></span>, <span class="hljs-attr"><span class="hljs-attr">dataIndex</span></span>: <span class="hljs-string"><span class="hljs-string">'pctChange'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">text</span></span> : <span class="hljs-string"><span class="hljs-string">'Last Updated'</span></span>, <span class="hljs-attr"><span class="hljs-attr">dataIndex</span></span>: <span class="hljs-string"><span class="hljs-string">'lastChange'</span></span> } ], <span class="hljs-attr"><span class="hljs-attr">height</span></span>: <span class="hljs-number"><span class="hljs-number">350</span></span>, <span class="hljs-attr"><span class="hljs-attr">width</span></span>: <span class="hljs-number"><span class="hljs-number">600</span></span>, <span class="hljs-attr"><span class="hljs-attr">title</span></span>: <span class="hljs-string"><span class="hljs-string">'   grid'</span></span>, <span class="hljs-attr"><span class="hljs-attr">renderTo</span></span>: <span class="hljs-string"><span class="hljs-string">'grid6'</span></span>, <span class="hljs-attr"><span class="hljs-attr">bbar</span></span>: Ext.create(<span class="hljs-string"><span class="hljs-string">'Ext.PagingToolbar'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">store</span></span>: store }) }); });</code> </pre><br><br>  Now, when trying to sort, you can see the following picture in firebug: <br><img src="http://www.phpshnik.ru/public/photo/images/5.jpg" alt="image"><br><br>  Now let's see how data filtering can be implemented. <br><br><h2>  Filters in grid tables </h2><br><pre> <code class="javascript hljs">Ext.Loader.setPath(<span class="hljs-string"><span class="hljs-string">'Ext.ux'</span></span>, <span class="hljs-string"><span class="hljs-string">'/public/ux'</span></span>); Ext.require([ <span class="hljs-string"><span class="hljs-string">'Ext.ux.grid.FiltersFeature'</span></span>, ]); Ext.onReady(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ Ext.define(<span class="hljs-string"><span class="hljs-string">'myModel'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">extend</span></span>: <span class="hljs-string"><span class="hljs-string">'Ext.data.Model'</span></span>, <span class="hljs-attr"><span class="hljs-attr">fields</span></span>: [<span class="hljs-string"><span class="hljs-string">'company'</span></span>,<span class="hljs-string"><span class="hljs-string">'price'</span></span>,<span class="hljs-string"><span class="hljs-string">'change'</span></span>,<span class="hljs-string"><span class="hljs-string">'pctChange'</span></span>,<span class="hljs-string"><span class="hljs-string">'lastChange'</span></span>] }); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> store = Ext.create(<span class="hljs-string"><span class="hljs-string">'Ext.data.Store'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">model</span></span>: <span class="hljs-string"><span class="hljs-string">'myModel'</span></span>, <span class="hljs-attr"><span class="hljs-attr">proxy</span></span>: { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'ajax'</span></span>, <span class="hljs-attr"><span class="hljs-attr">url</span></span>: <span class="hljs-string"><span class="hljs-string">'/public/examples/data/data.json'</span></span>, <span class="hljs-attr"><span class="hljs-attr">reader</span></span>: { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'json'</span></span>, <span class="hljs-attr"><span class="hljs-attr">root</span></span>: <span class="hljs-string"><span class="hljs-string">'data'</span></span> } }, <span class="hljs-attr"><span class="hljs-attr">autoLoad</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">remoteSort</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> filters = { <span class="hljs-attr"><span class="hljs-attr">ftype</span></span>: <span class="hljs-string"><span class="hljs-string">'filters'</span></span>, <span class="hljs-attr"><span class="hljs-attr">encode</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">local</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> grid = Ext.create(<span class="hljs-string"><span class="hljs-string">'Ext.grid.Panel'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">store</span></span>: store, <span class="hljs-attr"><span class="hljs-attr">features</span></span>: [filters], <span class="hljs-attr"><span class="hljs-attr">columns</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">text</span></span> : <span class="hljs-string"><span class="hljs-string">'Company'</span></span>, <span class="hljs-attr"><span class="hljs-attr">dataIndex</span></span>: <span class="hljs-string"><span class="hljs-string">'company'</span></span>, <span class="hljs-attr"><span class="hljs-attr">filter</span></span>: { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'string'</span></span> } }, { <span class="hljs-attr"><span class="hljs-attr">text</span></span> : <span class="hljs-string"><span class="hljs-string">'Price'</span></span>, <span class="hljs-attr"><span class="hljs-attr">dataIndex</span></span>: <span class="hljs-string"><span class="hljs-string">'price'</span></span>, <span class="hljs-attr"><span class="hljs-attr">filter</span></span>: { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'int'</span></span> } }, { <span class="hljs-attr"><span class="hljs-attr">text</span></span> : <span class="hljs-string"><span class="hljs-string">'Change'</span></span>, <span class="hljs-attr"><span class="hljs-attr">dataIndex</span></span>: <span class="hljs-string"><span class="hljs-string">'change'</span></span>, <span class="hljs-attr"><span class="hljs-attr">filter</span></span>: { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'float'</span></span> } }, { <span class="hljs-attr"><span class="hljs-attr">text</span></span> : <span class="hljs-string"><span class="hljs-string">'% Change'</span></span>, <span class="hljs-attr"><span class="hljs-attr">dataIndex</span></span>: <span class="hljs-string"><span class="hljs-string">'pctChange'</span></span>, <span class="hljs-attr"><span class="hljs-attr">filter</span></span>: { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'float'</span></span> } }, { <span class="hljs-attr"><span class="hljs-attr">text</span></span> : <span class="hljs-string"><span class="hljs-string">'Last Updated'</span></span>, <span class="hljs-attr"><span class="hljs-attr">dataIndex</span></span>: <span class="hljs-string"><span class="hljs-string">'lastChange'</span></span>, <span class="hljs-attr"><span class="hljs-attr">filter</span></span>: { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'date'</span></span> } } ], <span class="hljs-attr"><span class="hljs-attr">height</span></span>: <span class="hljs-number"><span class="hljs-number">350</span></span>, <span class="hljs-attr"><span class="hljs-attr">width</span></span>: <span class="hljs-number"><span class="hljs-number">600</span></span>, <span class="hljs-attr"><span class="hljs-attr">title</span></span>: <span class="hljs-string"><span class="hljs-string">'  grid  '</span></span>, <span class="hljs-attr"><span class="hljs-attr">renderTo</span></span>: <span class="hljs-string"><span class="hljs-string">'grid8'</span></span>, <span class="hljs-attr"><span class="hljs-attr">bbar</span></span>: Ext.create(<span class="hljs-string"><span class="hljs-string">'Ext.PagingToolbar'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">store</span></span>: store }) }); });</code> </pre><br>  For the first time in the code of our grid table, an entry appeared: <br><pre> <code class="javascript hljs">Ext.Loader.setPath(<span class="hljs-string"><span class="hljs-string">'Ext.ux'</span></span>, <span class="hljs-string"><span class="hljs-string">'/public/ux'</span></span>); Ext.require([ <span class="hljs-string"><span class="hljs-string">'Ext.ux.grid.FiltersFeature'</span></span>, ]);</code> </pre><br>  This entry causes Ext JS to load the Ext.ux.grid.FiltersFeature class from the / public / ux / grid directory, which is required for the filters in the grid table. <br><br>  Another new feature is the initialization of the filters object containing the configuration of our filters: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> filters = { <span class="hljs-attr"><span class="hljs-attr">ftype</span></span>: <span class="hljs-string"><span class="hljs-string">'filters'</span></span>, <span class="hljs-attr"><span class="hljs-attr">encode</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">local</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span> };</code> </pre><br>  Here we are interested in the properties of encode and local.  As you probably already guessed, the local: false property causes the filter values ‚Äã‚Äãto be sent to the server, and encode: true allows you to get the filter data on the server as an array, rather than json strings. <br><br>  So, the filtering is configured, it remains to specify in the columns of the table: which filter to use the column: <br><pre> <code class="javascript hljs">filter: { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'string'</span></span> }</code> </pre><br>  In our example, filters are used: string, int, float and date, - the work of each of them can be seen by clicking on the column heading in the table, selecting the Filters element <br>  and specify its value, then the onChange event will trigger the table data will be updated.  You can see in firebug how Ext JS performs an ajax request to the server. <br><img src="http://www.phpshnik.ru/public/photo/images/6.jpg" alt="image"><br>  <a href="http://www.phpshnik.ru/ext-js-4/tablitsy-grids-v-ext-js-4/filtratsiya-v-tablitsakh-grid-v-ext-js-4">Live demo (sorry, the data does not change when using filters, - the front end is cached into the trash, because I'm afraid of the habra effect)</a> <br><br>  Concluding the article, I want to embellish our table a little. <br><br>  First, we indicate the types for the fields in the model: <br><pre> <code class="javascript hljs">fields: [ {<span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'weight'</span></span>, <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'int'</span></span>}, {<span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'company'</span></span>, <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'string'</span></span>}, {<span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'price'</span></span>, <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'float'</span></span>}, {<span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'change'</span></span>, <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'float'</span></span>}, {<span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'pctChange'</span></span>, <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'float'</span></span>}, {<span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'lastChange'</span></span>, <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'string'</span></span>} ]</code> </pre><br><br>  Secondly, it‚Äôs enough to request GET data: <br><pre> <code class="javascript hljs">Ext.create(<span class="hljs-string"><span class="hljs-string">'Ext.data.Store'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">pageSize</span></span>: <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-attr"><span class="hljs-attr">model</span></span>: <span class="hljs-string"><span class="hljs-string">'myModel'</span></span>, <span class="hljs-attr"><span class="hljs-attr">proxy</span></span>: { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'ajax'</span></span>, <span class="hljs-attr"><span class="hljs-attr">url</span></span>: <span class="hljs-string"><span class="hljs-string">'/examples/data/data2.json'</span></span>, <span class="hljs-attr"><span class="hljs-attr">actionMethods</span></span>: { <span class="hljs-attr"><span class="hljs-attr">read</span></span>: <span class="hljs-string"><span class="hljs-string">'POST'</span></span> }, <span class="hljs-attr"><span class="hljs-attr">reader</span></span>: { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'json'</span></span>, <span class="hljs-attr"><span class="hljs-attr">root</span></span>: <span class="hljs-string"><span class="hljs-string">'data'</span></span>, <span class="hljs-attr"><span class="hljs-attr">totalProperty</span></span>: <span class="hljs-string"><span class="hljs-string">'totalCount'</span></span> } }, <span class="hljs-attr"><span class="hljs-attr">autoLoad</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">remoteSort</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> });</code> </pre><br><br>  Let's make the table columns with rubber: <br><br><pre> <code class="javascript hljs">{ <span class="hljs-attr"><span class="hljs-attr">text</span></span> : <span class="hljs-string"><span class="hljs-string">'% Change'</span></span>, <span class="hljs-attr"><span class="hljs-attr">flex</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">dataIndex</span></span>: <span class="hljs-string"><span class="hljs-string">'pctChange'</span></span> },</code> </pre><br><br>  Let's try to create a storage object implicitly: <br><pre> <code class="javascript hljs">store: Ext.data.StoreManager.lookup(<span class="hljs-string"><span class="hljs-string">'gridStore'</span></span>),</code> </pre><br><br>  Let's create the simplest handler for displaying the grid column - let it seem naive. <br><pre> <code class="javascript hljs">renderer: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">value</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(value &gt; <span class="hljs-number"><span class="hljs-number">75</span></span>){ value = <span class="hljs-string"><span class="hljs-string">'&lt;span style="color:#ff0000;"&gt;'</span></span> + value + <span class="hljs-string"><span class="hljs-string">'&lt;/span&gt;'</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { value = <span class="hljs-string"><span class="hljs-string">'&lt;span style="color:#00ff00;"&gt;'</span></span> + value + <span class="hljs-string"><span class="hljs-string">'&lt;/span&gt;'</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> value; }</code> </pre><br><br>  And lastly, we will add information about the total number of table entries to our paginator: <br><pre> <code class="javascript hljs">bbar: Ext.create(<span class="hljs-string"><span class="hljs-string">'Ext.PagingToolbar'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">store</span></span>: store, <span class="hljs-attr"><span class="hljs-attr">displayInfo</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">displayMsg</span></span>: <span class="hljs-string"><span class="hljs-string">'Displaying topics {0} - {1} of {2}'</span></span>, <span class="hljs-attr"><span class="hljs-attr">emptyMsg</span></span>: <span class="hljs-string"><span class="hljs-string">"No topics to display"</span></span> })</code> </pre><br>  (data about the total amount come to json, as indicated in the totalProperty in our repository). <br><br>  Putting it together: <br><pre> <code class="javascript hljs">Ext.Loader.setPath(<span class="hljs-string"><span class="hljs-string">'Ext.ux'</span></span>, <span class="hljs-string"><span class="hljs-string">'/ux'</span></span>); Ext.require([ <span class="hljs-string"><span class="hljs-string">'Ext.ux.grid.FiltersFeature'</span></span>, ]); Ext.onReady(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ Ext.define(<span class="hljs-string"><span class="hljs-string">'myModel'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">extend</span></span>: <span class="hljs-string"><span class="hljs-string">'Ext.data.Model'</span></span>, <span class="hljs-attr"><span class="hljs-attr">fields</span></span>: [ {<span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'weight'</span></span>, <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'int'</span></span>}, {<span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'company'</span></span>, <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'string'</span></span>}, {<span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'price'</span></span>, <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'float'</span></span>}, {<span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'change'</span></span>, <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'float'</span></span>}, {<span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'pctChange'</span></span>, <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'float'</span></span>}, {<span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'lastChange'</span></span>, <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'string'</span></span>} ] }); Ext.create(<span class="hljs-string"><span class="hljs-string">'Ext.data.Store'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">pageSize</span></span>: <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-attr"><span class="hljs-attr">model</span></span>: <span class="hljs-string"><span class="hljs-string">'myModel'</span></span>, <span class="hljs-attr"><span class="hljs-attr">proxy</span></span>: { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'ajax'</span></span>, <span class="hljs-attr"><span class="hljs-attr">url</span></span>: <span class="hljs-string"><span class="hljs-string">'/examples/data/data2.json'</span></span>, <span class="hljs-attr"><span class="hljs-attr">actionMethods</span></span>: { <span class="hljs-attr"><span class="hljs-attr">read</span></span>: <span class="hljs-string"><span class="hljs-string">'POST'</span></span> }, <span class="hljs-attr"><span class="hljs-attr">reader</span></span>: { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'json'</span></span>, <span class="hljs-attr"><span class="hljs-attr">root</span></span>: <span class="hljs-string"><span class="hljs-string">'data'</span></span>, <span class="hljs-attr"><span class="hljs-attr">totalProperty</span></span>: <span class="hljs-string"><span class="hljs-string">'totalCount'</span></span> } }, <span class="hljs-attr"><span class="hljs-attr">autoLoad</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">remoteSort</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> filters = { <span class="hljs-attr"><span class="hljs-attr">ftype</span></span>: <span class="hljs-string"><span class="hljs-string">'filters'</span></span>, <span class="hljs-attr"><span class="hljs-attr">encode</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">local</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> grid = Ext.create(<span class="hljs-string"><span class="hljs-string">'Ext.grid.Panel'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">store</span></span>: Ext.data.StoreManager.lookup(<span class="hljs-string"><span class="hljs-string">'gridStore'</span></span>), <span class="hljs-attr"><span class="hljs-attr">features</span></span>: [filters], <span class="hljs-attr"><span class="hljs-attr">columns</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">text</span></span> : <span class="hljs-string"><span class="hljs-string">'Weight'</span></span>, <span class="hljs-attr"><span class="hljs-attr">dataIndex</span></span>: <span class="hljs-string"><span class="hljs-string">'weight'</span></span>, <span class="hljs-attr"><span class="hljs-attr">width</span></span>: <span class="hljs-number"><span class="hljs-number">50</span></span>, <span class="hljs-attr"><span class="hljs-attr">sortable</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">filter</span></span>: { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'int'</span></span> } }, { <span class="hljs-attr"><span class="hljs-attr">text</span></span> : <span class="hljs-string"><span class="hljs-string">'Company'</span></span>, <span class="hljs-attr"><span class="hljs-attr">dataIndex</span></span>: <span class="hljs-string"><span class="hljs-string">'company'</span></span>, <span class="hljs-attr"><span class="hljs-attr">flex</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">filter</span></span>: { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'string'</span></span> } }, { <span class="hljs-attr"><span class="hljs-attr">text</span></span> : <span class="hljs-string"><span class="hljs-string">'Price'</span></span>, <span class="hljs-attr"><span class="hljs-attr">dataIndex</span></span>: <span class="hljs-string"><span class="hljs-string">'price'</span></span>, <span class="hljs-attr"><span class="hljs-attr">flex</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">renderer</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">value</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(value &gt; <span class="hljs-number"><span class="hljs-number">75</span></span>){ value = <span class="hljs-string"><span class="hljs-string">'&lt;span style="color:#ff0000;"&gt;'</span></span> + value + <span class="hljs-string"><span class="hljs-string">'&lt;/span&gt;'</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { value = <span class="hljs-string"><span class="hljs-string">'&lt;span style="color:#00ff00;"&gt;'</span></span> + value + <span class="hljs-string"><span class="hljs-string">'&lt;/span&gt;'</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> value; } }, { <span class="hljs-attr"><span class="hljs-attr">text</span></span> : <span class="hljs-string"><span class="hljs-string">'Change'</span></span>, <span class="hljs-attr"><span class="hljs-attr">flex</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">dataIndex</span></span>: <span class="hljs-string"><span class="hljs-string">'change'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">text</span></span> : <span class="hljs-string"><span class="hljs-string">'% Change'</span></span>, <span class="hljs-attr"><span class="hljs-attr">flex</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">dataIndex</span></span>: <span class="hljs-string"><span class="hljs-string">'pctChange'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">text</span></span> : <span class="hljs-string"><span class="hljs-string">'Last Updated'</span></span>, <span class="hljs-attr"><span class="hljs-attr">flex</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">dataIndex</span></span>: <span class="hljs-string"><span class="hljs-string">'lastChange'</span></span>, <span class="hljs-attr"><span class="hljs-attr">filter</span></span>: { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'date'</span></span> } } ], <span class="hljs-attr"><span class="hljs-attr">height</span></span>: <span class="hljs-number"><span class="hljs-number">350</span></span>, <span class="hljs-attr"><span class="hljs-attr">width</span></span>: <span class="hljs-number"><span class="hljs-number">600</span></span>, <span class="hljs-attr"><span class="hljs-attr">title</span></span>: <span class="hljs-string"><span class="hljs-string">' ...'</span></span>, <span class="hljs-attr"><span class="hljs-attr">renderTo</span></span>: <span class="hljs-string"><span class="hljs-string">'grid9'</span></span>, <span class="hljs-attr"><span class="hljs-attr">bbar</span></span>: Ext.create(<span class="hljs-string"><span class="hljs-string">'Ext.PagingToolbar'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">store</span></span>: store, <span class="hljs-attr"><span class="hljs-attr">displayInfo</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">displayMsg</span></span>: <span class="hljs-string"><span class="hljs-string">'Displaying topics {0} - {1} of {2}'</span></span>, <span class="hljs-attr"><span class="hljs-attr">emptyMsg</span></span>: <span class="hljs-string"><span class="hljs-string">"No topics to display"</span></span> }) }); });</code> </pre><br><br>  and we see a beautiful grid table with sorting and filtering on the server, pagination and the simplest custom-renderer: <br><img src="http://www.phpshnik.ru/public/photo/images/8.jpg" alt="image"><br><br><h2>  Afterword. </h2><br>  Dear users, I really hope for your loyalty - this is my first article.  Dear UFO, - I apologize for the repost of my article, originally wrote for Habr, but I wanted to throw a link to the demo (and one more thing).  About inaccuracies, jambs, comments, requests, etc.  please write in a personal.  If someone interested in this article, I will be happy to continue to write on Ext JS 4, - in plans to write an article-continuation on Ext JS grid (plug-ins. Templates, events, a bundle with propertygrid, CRUD and readers ...), as well as highlight other aspects of the Ext JS 4 framework. Thank you for your attention. <br></div><p>Source: <a href="https://habr.com/ru/post/169125/">https://habr.com/ru/post/169125/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../169113/index.html">From DevCon with love! Only 4 days low price + rate for lovers</a></li>
<li><a href="../169115/index.html">Learn entrepreneurship with the Imagine Cup. Submission of applications until February 15, 2013</a></li>
<li><a href="../169117/index.html">Build js, redjs builder</a></li>
<li><a href="../169121/index.html">A beautiful console for working with git under Windows</a></li>
<li><a href="../169123/index.html">Write us a program ...</a></li>
<li><a href="../169127/index.html">Simple domain based on ROSA Enterprise Linux Server and Samba 3 with roaming profile support</a></li>
<li><a href="../169129/index.html">Cisco 1603 Router</a></li>
<li><a href="../169131/index.html">Modern bootkit technology and detailed analysis of Win32 / Gapz</a></li>
<li><a href="../169133/index.html">Well, quite a small note on getopts</a></li>
<li><a href="../169135/index.html">Pluginator.ru - plugin service for livestreet</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>