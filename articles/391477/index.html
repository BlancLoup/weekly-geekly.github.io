<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>FLProg + nooLite</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="First of all, I want to warn you that this is not an advertising post, I have nothing to do with the company - the manufacturer of the equipment descr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>FLProg + nooLite</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/ba6/7c5/c6c/ba67c5c6c52a45e898a8fdc1936d1687.png"><br><br>  <b>First of all, I want to warn you that this is not an advertising post, I have nothing to do with the company - the manufacturer of the equipment described in the article, and I don‚Äôt have any cookies from it except for the equipment provided for integration into the program.</b>  <b>This is a training post that shows how to use FLProg to manage this equipment.</b>  <b>Naturally there will be a small overview of the blocks I have and my personal attitude to these devices.</b> <br><br>  Now a little background.  One of the users of the program turned to Nootekhnika with a proposal to create a user unit (at that time the program already had such an opportunity) to work with the equipment produced by them through the FLProg program.  The head of the company went the other way.  He contacted me and offered to provide me with samples of his products for integrating them into the program.  After reviewing the proposal, I agreed, because the site had a library for working with the transmitter module, there was a good description, and I did not see any problems.  The parcel arrived very quickly (which is strange for Russian post), even considering the border crossing. <br><a name="habracut"></a><br>  What has come: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>MT1132 transmitter module</b> <br><br><img src="https://habrastorage.org/files/b45/5fa/84c/b455fa84cb5e46e1a74d5446e4519bbb.png"><br><br>  <i>The MT1132 module is designed to control the power units of the nooLite system from the Arduino platform, microcontrollers or PC.</i> <i><br></i>  <i>Structurally, the module is made in the form of a printed circuit board, on which the control controller and transmitter are located.</i> <i><br></i>  <i>The module is controlled via a serial UART interface.</i>  <i>The module transmits commands received via the UART to the power blocks via the built-in radio transmitter.</i> <br><br>  <b>Power unit SD111-180</b> <br><br><img src="https://habrastorage.org/files/619/c6c/8e5/619c6c8e524147b08a11a5e006af211e.jpeg"><br><br>  <i>Radio-controlled LED RGB controller (power unit) nooLite SD111-180 is designed to control the LED strip at 12 V. The LED strip can be either three-color (RGB) or single-color.</i> <br><br>  <b>Power unit SU111-300</b> <br><br><img src="https://habrastorage.org/files/698/307/45d/69830745d8734c7ca1eed87ef905e65c.jpeg"><br><br>  <i>The power unit SU111-300 is a universal radio switch designed for remote on / off lighting with the ability to adjust the brightness for dimmable light sources (incandescent lamps, LED dimmable lamps).</i>  <i>The unit can operate in two modes: relay and dimming, depending on the intended type of load.</i>  <i>In relay mode, the SU111 300 is able to work with any type of load.</i> <br><br>  More information about these devices can be found on <a href="http://www.noo.com.by/sistema-noolite.html">the manufacturer's website.</a> <br><br>  The blocks are made very high quality.  I suspect that the enterprise works on the basis of a former Soviet enterprise, and in Soviet times, Belarus produced good equipment.  Although maybe I'm wrong. <br><br>  The system of switching on the binding of power units was originally implemented.  To enable this mode, it is necessary to compress the body at a certain point, and the microswitch inside will operate.  But in the instructions this place is clearly shown, so I hit the first time. <br><br>  The first switching on of the transmitter made you feel a little nervous.  When power was applied to the board, nothing lit up, although there is an LED on the board.  I'm used to the fact that there is an indication of the presence of power on all devices.  On this transmitter it is not.  I even decided at first that the board was not working, and I used a tester to measure voltages.  But everything seems to be in order.  Then I downloaded the library from the site, and started trying examples.  The LED blinks when sending a command.  At the same time there is a subtlety.  He blinks not when receiving data on UART, namely when sending command in the air.  This feature is the same made nervous.  Already during the development of the compiler, the commands to the power units suddenly ceased to pass, and the LED stopped blinking.  Although I clearly saw that the packages on the UART go.  I decided that I still burned him.  It turned out that the error in the code, and the checksum that is present in the package, I had incorrectly calculated.  Accordingly, the transmitter did not accept this packet and did not send commands.  After fixing the code, everything worked fine. <br><br>  Now about the library, which lies on the manufacturer's website.  I originally planned to use it.  But picking on her, I realized that she did not like me.  Firstly, it does not support operation with a LED ribbon controller (SD111-180).  Second, she does not know how to control the dimming mode for the power unit (SU111 300).  And finally, it is nailed to the SoftwareSerial.  This is not always good.  Still, in some cases it is better to use a hardware UART to save resources.  Therefore, I had to develop the code myself (naturally looking at the library implementation). <br><br>  In all other respects, this equipment left a very pleasant impression.  It works stably, there are many possibilities, the quality is at a very high level.  For the price is certainly higher than the usual equipment from China.  But there are no analogues in China yet (at least I haven‚Äôt found the same complex), but compared to far-abroad countries where such systems are produced, the price is even very attractive. <br><br>  Well, now let's look at the implementation of the transmitter control through the FLProg program. <br><br>  Connect the transmitter to the Arduino in accordance with the scheme. <br><br><img src="https://habrastorage.org/files/e45/cbc/e4e/e45cbce4e1c94501ba3e27c6f5a4c547.PNG"><br><br>  The RX (Arduino) - TX (MT1132) connection can be not used, since I did not implement the feedback from the transmitter to the controller (confirmation of sending the command).  The elimination of this connection allows using the hardware UART not to turn off the transmitter when pouring the controller. <br><br>  To control the transmitter in the FLProg program, the block ‚ÄúControl of the transmitter Noo Lite‚Äù (folder ‚ÄúMiscellaneous‚Äù) appeared in the library of elements. <br><br><img src="https://habrastorage.org/files/250/4f8/8c1/2504f88c16c84097892d7fca55a6444e.PNG"><br><br><img src="https://habrastorage.org/files/e85/eae/b89/e85eaeb8997b4761b87a0291133282e8.PNG"><br><br>  Sending commands to the transmitter occurs on the leading edge of the pulse at the input ¬´Send¬ª.  For each command, you can use a separate block, or the command can be set to the value supplied to the input "Comand". <br>  Like all the others, this block is configured using the block editor (called by double clicking on the block transferred to the workspace of the scheme). <br>  If you parameterize the first such block in the circuit, then you need to connect a new transmitter. <br><br><img src="https://habrastorage.org/files/882/925/a07/882925a07a224aaeac65fb2a64b49cc3.PNG"><br><br>  This will open the transmitter connection window. <br><br><img src="https://habrastorage.org/files/032/d95/8df/032d958df84c4ef6afe2467760540ae8.PNG"><br><br>  In this window, you must specify the name of the transmitter and select the port to which it is connected.  In the case of using SoftwareSerial, it is also necessary to choose pins for this port. <br>  After connecting the transmitter, it is necessary to establish the channel on which the command will be transmitted. <br><br><img src="https://habrastorage.org/files/5fe/c52/eae/5fec52eae75c4a12b1df88654fa4aacc.PNG"><br><br>  The channel can be set as a constant, so use the input for this.  Accordingly, when using the input, the channel can be changed programmatically. <br><br>  And finally, we choose the command to be sent. <br><br><img src="https://habrastorage.org/files/123/60a/54c/12360a54cecc4324a08ebce16bca95f2.png"><br><br>  List of supported commands: <br><br><ul><li>  Tie receiver </li><li>  Unlink receiver </li><li>  Enable load </li><li>  Turn off the load </li><li>  Toggle state </li><li>  Start smooth dimming </li><li>  Run smooth brightness enhancement </li><li>  Change the direction of the smooth change in brightness </li><li>  Stop smooth dimming </li><li>  Set the brightness (0 - 120) </li><li>  Enable smooth search of colors (only for LED ribbon controller) </li><li>  Toggle color (only for LED ribbon controller) </li><li>  Switch operation mode (only for LED ribbon controller) </li><li>  Toggle effect speed (only for LED ribbon controller) </li><li>  Set the brightness for each channel (0-255) (only for the ribbon LED controller) </li><li>  Remember state </li><li>  Set Saved State </li></ul><br><br>  To select a command, you can also use the input (select ‚ÄúInput‚Äù in the list of commands) and in this case, during the program execution, you can change the command by inputting ‚ÄúComand‚Äù its number to the input. <br><br>  Command Numbers: <br><table><tbody><tr><th>  Team number </th><th>  Team </th></tr><tr><td>  0 </td><td>  Enable load </td></tr><tr><td>  one </td><td>  Start smooth dimming </td></tr><tr><td>  2 </td><td>  Turn off the load </td></tr><tr><td>  3 </td><td>  Run smooth brightness enhancement </td></tr><tr><td>  four </td><td>  Toggle state </td></tr><tr><td>  five </td><td>  Change the direction of the smooth change in brightness </td></tr><tr><td>  7 </td><td>  Set Saved State </td></tr><tr><td>  eight </td><td>  Remember state </td></tr><tr><td>  9 </td><td>  Unlink receiver </td></tr><tr><td>  ten </td><td>  Stop smooth dimming </td></tr><tr><td>  15 </td><td>  Tie receiver </td></tr><tr><td>  sixteen </td><td>  Enable smooth search of colors (only for LED ribbon controller) </td></tr><tr><td>  17 </td><td>  Toggle color (only for LED ribbon controller) </td></tr><tr><td>  18 </td><td>  Switch operation mode (only for LED ribbon controller) </td></tr><tr><td>  nineteen </td><td>  Toggle effect speed (only for LED ribbon controller) </td></tr></tbody></table><br><br>  Please note that in this table there are no ‚Äú <i>Set brightness (0 - 120)</i> ‚Äù and ‚ÄúSet brightness for each channel (0-255) (only for LED ribbon controller)‚Äù commands.  To send these commands, you must use a separate block.  Let's look at these commands in more detail. <br><br>  ‚Äú <i>Set brightness (0 - 120)</i> ‚Äù - if you select this command, additional parameters will appear in the block editor. <br><br><img src="https://habrastorage.org/files/ae0/d39/cbe/ae0d39cbe5b640149ca28bfa34297abc.PNG"><br><br>  Using these parameters, you can set the brightness value transmitted as a constant in the command or use the input.  In the second case of the input, the block will have the input ‚Äú <b>Value</b> ‚Äù <br><br><img src="https://habrastorage.org/files/485/7de/7ae/4857de7ae7244d15b3605e4b012eb64c.PNG"><br><br>  ‚Äú <i>Set the brightness for each channel (0-255) (only for the LED ribbon controller)</i> ‚Äù - if you select this command in the block editor, additional parameters will also appear. <br><br><img src="https://habrastorage.org/files/2d4/357/1d1/2d43571d10ea423cb94890bbf2936d00.PNG"><br><br>  And just like in the previous command, the brightness value for each channel can be set either as a constant or as an input.  At the same time, the block will have the corresponding inputs - ‚Äú <b>R</b> ‚Äù, ‚Äú <b>G</b> ‚Äù, ‚Äú <b>B</b> ‚Äù <br><br><img src="https://habrastorage.org/files/46e/9c7/64e/46e9c764e0294787bf6fc091a4b92617.PNG"><br><br>  Well, probably, and that's all, thank you for your attention. </div><p>Source: <a href="https://habr.com/ru/post/391477/">https://habr.com/ru/post/391477/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../391467/index.html">The British have made weapons to catch small UAVs</a></li>
<li><a href="../391469/index.html">Co-founder Napster wants to organize screenings of rolling films at home</a></li>
<li><a href="../391471/index.html">The second life of an old PC with Chrome OS</a></li>
<li><a href="../391473/index.html">Microsoft has released an open source product based on GNU / Linux</a></li>
<li><a href="../391475/index.html">Search for the moon on March 8</a></li>
<li><a href="../391479/index.html">Google Play and AppStore agreed to pre-trial blocking of content</a></li>
<li><a href="../391481/index.html">A secondary mirror was installed on a James Webb telescope.</a></li>
<li><a href="../391483/index.html">John McAfee talked about how to properly crack the protection of the iPhone.</a></li>
<li><a href="../391485/index.html">3D panoramas of the ISS</a></li>
<li><a href="../391487/index.html">Hyperloop plan to launch in Europe by 2020</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>