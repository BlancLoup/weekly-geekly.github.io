<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Russian Code Cup: the most interesting of the tasks of the first stage</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="On May 8, the first qualifying round of the Russian Code Cup All-Russian Programming Cup took place . The winner of the round was Eugene Kapun, who so...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Russian Code Cup: the most interesting of the tasks of the first stage</h1><div class="post__text post__text-html js-mediator-article">  On May 8, the first qualifying round of the <a href="http://russiancodecup.ru/">Russian Code Cup</a> All-Russian Programming <a href="http://russiancodecup.ru/">Cup took place</a> .  The winner of the round was Eugene Kapun, who solved all 5 problems with a penalty time of 130 minutes. <br><br>  In total, 756 people took part in the first qualifying round.  According to the results of the round, the top 200 participants were allowed to participate in the qualifying round, which will be held on June 19th. <br><br>  The 2nd and 3rd qualifying rounds will be held on May 14 and 15, at which another 400 people will be selected. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In this article, we will analyze the various statistics of the first stage of the RCC, analyze the problems and answer the most frequently asked questions that were received during the tour. <br><br><a name="habracut"></a><br><br>  The jury was offered 5 tasks to solve.  At least one task was solved by 691 participants.  The simplest task was A, it was solved by 685 participants.  In general, the right solutions were distributed to the tasks as follows: <br><br><img src="https://habrastorage.org/storage/17c6b44f/4b4cdf0a/02f7c54a/5cd4351e.png"><br>  <i>Diagram 1. The number of correct solutions for the tasks.</i> <br><br>  As can be seen from the diagram, tasks A, B and C submitted to the majority of participants, but D and E turned out to be much more difficult.  These tasks became the key to successful qualification - the solution of three simple tasks and at least one of the two difficult guaranteed the passage to the qualifying round - only 87 participants coped with four or more tasks. <br><br>  But participants with three solved tasks needed to demonstrate a high speed of solving problems.  The ‚Äúcut-off‚Äù of the two-hundredth place went through the penalty time: to enter the qualifying round with three tasks, it was necessary to have a penalty time of no more than 141, that is, an average of 23.5 minutes was spent on the task. <br><br><img src="https://habrastorage.org/storage/d72d0c98/70456b25/2eb2a65a/c277bb50.png"><br>  <i>Diagram 2. Number of participants depending on the number of solved problems.</i> <br><br>  The largest number of attempts was made on task B: 1952, with only 461 of them, that is, about 24% were successful.  In general, the percentage of successful attempts on tasks is as follows: <br><br><img src="https://habrastorage.org/storage/72fb8a5a/a640ab13/1d9052c3/fc445bbc.png"><br>  <i>Chart 3. The percentage of successful attempts on tasks.</i> <br><br>  It can be seen that although problem C was solved by fewer participants, it gave them fewer problems than B. Similarly, the more difficult task E contained less ‚Äúpitfalls‚Äù than task D. <br><br>  It is interesting to see the statistics on programming languages ‚Äã‚Äãthat were used by the participants of the Russian Code Cup.  If you transfer the total quantity to a pie chart, you get the following picture: <br><img src="https://habrastorage.org/storage/ecb72823/d49b2737/c9dddef8/7cff659b.png"><br>  <i>Diagram 4. The number of solutions depending on the programming language.</i> <br><br>  With a fairly large margin, GNU C leads the way, Java and C # totally occupy about three times less, in other languages ‚Äã‚Äãeven fewer approaches have been made. <br><br>  Interestingly, the fifth problem, which required long arithmetic, was mainly solved in Java: <br><br>  In general, the distribution of decisions sent by minute of the competition can be viewed in the following graph: <br><img src="https://habrastorage.org/storage/fd2c7e3e/92b6a655/0a3bc5cd/ff3f8f5a.png"><br>  <i>Chart 4. The number of approaches depending on the minute of the competition.</i> <br><br>  It can be seen that in the first minutes the participants read the tasks, then there was a sharp surge, when the majority of strong participants coped with the first task, a slight decline, and then the number of approaches ranged from 30 to 50 per minute, with a surge to almost 90 at the end of the round.  At the same time, if at the beginning of the competition, the right decisions were mainly sent to check, then towards the end, the share of the right decisions steadily declined.  The following graph shows the dependence of the proportion of correct decisions among those sent to the test, depending on the minute of the competition. <br><img src="https://habrastorage.org/storage/5d58c71c/a359ec4a/69566b7f/8cfd753b.png"><br>  <i>Chart 5. The share of successful approaches, depending on the minute of the competition.</i> <br><br>  <b>Analysis of tasks</b> <br><br>  Problem A. String concatenation <br>  In many applications, it is necessary to perform various operations with strings.  Two fairly frequent operations are reversing a line and concatenating two or more lines. <br>  As a result of the reversal of the string s, we get the string s <sup>R</sup> , which consists of the same characters as s, but going in reverse order.  For example, the result of the reversal of the string ‚Äúabcde‚Äù is the string ‚Äúedcba‚Äù.  Further in this problem, instead of the notation s <sup>R</sup> , the notation (s) will be used. <br>  As a result of the concatenation of two strings s and t, we get the string s <sup>t</sup> , in which the characters of the string s are written first, and then the characters of the string t.  The concatenation of three, four and more lines is defined in a similar way.  For example, concatenating the strings ‚Äúabc‚Äù and ‚Äúcda‚Äù results in the string ‚Äúabccda‚Äù <br>  Your task is to determine the result of concatenation of several strings, some of which need to be expanded. <br><br>  Input Format <br><br>  Input data consists of a single line that contains only lowercase Latin letters and parentheses.  Its length does not exceed 200 characters.  This line describes the concatenation of several lines, some of which need to be expanded. <br>  In the given line, there is a closing one to the right of each opening bracket, there is an opening one to the left of each closing one, and there are no other brackets between the opening and closing brackets corresponding to each other and there is at least one letter. <br><br>  Output format <br><br>  Output the result of the concatenation. <br><br>  <b>Decision</b> <br><br>  This was the easiest task in the competition.  The restrictions are very small and you can solve the problem in any reasonable way.  For example, read a string, break it into fragments, use round brackets as delimiters, and expand all even-numbered blocks.  In languages ‚Äã‚Äãin the built-in processing of regular expressions (for example, Perl) the solution to this problem in general looks particularly compact and natural. <br><br>  We will give a solution to this problem in all programming languages ‚Äã‚Äãavailable on the Russian Code Cup.  At the same time we will pay attention to how to read data from the standard input stream - many participants asked during the competition about where to get the input data. <br><br>  We do not pretend to optimal solutions, and on the contrary, we tried to bring slightly different solutions in different languages. <br><br>  <b>Java:</b> <br><br><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.io.*; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">concat_as</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IOException </span></span>{ BufferedReader in = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BufferedReader( <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> InputStreamReader(System.in)); String[] s = in.readLine().split(<span class="hljs-string"><span class="hljs-string">"[()]"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; s.length; i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (i % <span class="hljs-number"><span class="hljs-number">2</span></span> == <span class="hljs-number"><span class="hljs-number">0</span></span>) { System.out.print(s[i]); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { System.out.print(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StringBuilder(s[i]).reverse()); } } } }</code> </pre> <br><br>  <b>C ++:</b> <br><pre> <code class="hljs mel">#include &lt;<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>&gt; #include &lt;iostream&gt; #include &lt;algorithm&gt; using <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> std; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> main () { <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> s; cin &gt;&gt; s; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> l = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (l &lt; s.length()) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (s[l] == <span class="hljs-string"><span class="hljs-string">'('</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> r = l; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (s[r] != <span class="hljs-string"><span class="hljs-string">')'</span></span>) r++; <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> tmp = s.substr(l + <span class="hljs-number"><span class="hljs-number">1</span></span>, r - l - <span class="hljs-number"><span class="hljs-number">1</span></span>); reverse(tmp.begin(), tmp.end()); cout &lt;&lt; tmp; l = r + <span class="hljs-number"><span class="hljs-number">1</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { cout &lt;&lt; s[l]; l++; } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; }</code> </pre><br><br>  <b>C #:</b> <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.Linq; <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> concat_as { static <span class="hljs-type"><span class="hljs-type">void</span></span> Main(string[] args) { string s = Console.ReadLine(); <span class="hljs-type"><span class="hljs-type">int</span></span> L, R; <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> { L = s.IndexOf("("); R = s.IndexOf(")"); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (L &gt;= <span class="hljs-number"><span class="hljs-number">0</span></span>) { Console.<span class="hljs-keyword"><span class="hljs-keyword">Write</span></span>(s.Substring(<span class="hljs-number"><span class="hljs-number">0</span></span>, L)); Console.<span class="hljs-keyword"><span class="hljs-keyword">Write</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> string( s.Substring(L + <span class="hljs-number"><span class="hljs-number">1</span></span>, R - L - <span class="hljs-number"><span class="hljs-number">1</span></span>).Reverse().ToArray())); s = s.Substring(R + <span class="hljs-number"><span class="hljs-number">1</span></span>); } } <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (L &gt;= <span class="hljs-number"><span class="hljs-number">0</span></span>); Console.WriteLine(s); } }</code> </pre><br><br>  <b>Perl:</b> <br><br><pre> <code class="perl hljs">$s = &lt;&gt;; $s =~ <span class="hljs-regexp"><span class="hljs-regexp">s/\(([^)]*)\)/reverse($1)/eg</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> $s</code> </pre><br><br>  <b>Python</b> <br><br><pre> <code class="python hljs">s = raw_input() ans = <span class="hljs-string"><span class="hljs-string">''</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> t <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> s.split(<span class="hljs-string"><span class="hljs-string">'('</span></span>): <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-string"><span class="hljs-string">')'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> t: l = t.split(<span class="hljs-string"><span class="hljs-string">')'</span></span>) ans += l[<span class="hljs-number"><span class="hljs-number">0</span></span>][::<span class="hljs-number"><span class="hljs-number">-1</span></span>] + l[<span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: ans += t <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> ans</code> </pre><br><br>  <b>Php</b> <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> $s = trim(fgets(STDIN)); $s = preg_replace(<span class="hljs-string"><span class="hljs-string">'#\((\w+)\)#se'</span></span>, <span class="hljs-string"><span class="hljs-string">'strrev("\1")'</span></span>, $s); <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"$s\n"</span></span>; <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span></code> </pre><br><br>  Please note that the solution to this problem turned out to be particularly simple and compact in Perl and PHP. <br><br>  <b>Problem B. Tariffs</b> <br>  Currently, almost every mobile operator has an extensive set of tariffs that allow each person to choose the most suitable for themselves.  Unfortunately, it is often very difficult to manually make this choice. <br><br>  At one of the cellular operators, each tariff is characterized by three numbers: subscriber fee ci (set in rubles), minimum chargeable time unit t <sub>i</sub> (set in seconds), cost of minimum chargeable time unit pi (set in kopecks, 100 rubles in one ruble).  The total cost of calls per month consists of the subscription fee and the cost of each of the outgoing calls.  The cost of a call when using the i-th tariff is calculated as follows: let the talk time be T seconds.  If T &lt;t <sub>i</sub> , then the cost of the call is zero.  Otherwise, the call cost is equal to the product of k by p <sub>i</sub> , where k is the minimum integer such that k ‚Ä¢ t <sub>i</sub> ‚â• T. <br><br>  The description of tariffs and statistics of outgoing calls of the subscriber during the month are given - their number m and duration d <sub>1</sub> , ..., d <sub>m</sub> in seconds.  It is necessary to find a tariff at which the total cost of these calls would be minimal. <br><br>  Input Format <br><br>  The first line contains two integers n and m - respectively, the number of tariffs and outgoing calls of the subscriber (1 ‚â§ n, m ‚â§ 100).  Each of the next n lines describes one tariff and contains three integers: c <sub>i</sub> (0 ‚â§ c <sub>i</sub> ‚â§ 100), t <sub>i</sub> (1 ‚â§ t <sub>i</sub> ‚â§ 3600), p <sub>i</sub> (0 ‚â§ p <sub>i</sub> ‚â§ 1000). <br><br>  The last line contains m integers d <sub>1</sub> , ..., d <sub>m</sub> (1 ‚â§ di ‚â§ 3600 for all i from 1 to m). <br><br>  Output format <br><br>  Output one number - the tariff number, using which the total cost of the subscriber‚Äôs outgoing calls for the month in question is minimal.  Tariffs are numbered with integers from 1 to n in the order in which they are specified in the input file.  If there are several such tariffs, print the number of any of them. <br><br>  <b>Decision</b> <br><br>  This task checked participants for attentiveness while reading the conditions.  There are two main ‚Äúthin points‚Äù in this task: the subscription fee is set in rubles, and the cost of a call in kopecks, as well as the features of rounding off the talk time: the conversation is less than one payable unit is rounded to zero, and the call above one chargeable unit is rounded up. <br>  If you notice these two points, the solution is to directly implement the calculation of the cost of calls at each of the specified tariffs and select the optimal one. <br><br>  <b>Problem C. K-sort</b> <br><br>  The task of sorting is to order a given array of numbers (or other objects) in ascending or descending order.  This task has enough many options, for many of which there are very efficient algorithms.  One of the important parameters of these algorithms is the number of exchanges of the array elements necessary for ordering. <br><br>  Next we will consider the sorting option, which we will call k-sorting.  In this variant it is allowed to swap the values ‚Äã‚Äãof two array elements with numbers that differ by exactly k in one operation (called k-exchange).  For example, if the initial array has the form [6, 10, 4, 1, 2], and k = 3, then this array can be ordered in ascending order in two operations (after the first exchange, the array will look like [1, 10, 4, 6 , 2], and after the second - [1, 2, 4, 6, 10]). <br><br>  An array of integers a <sub>1</sub> , ..., a <sub>n is given</sub> .  Your task is to determine the minimum number of k-exchanges needed to order this array in descending order. <br><br>  Input Format <br><br>  The first line contains an integer n (1 ‚â§ n ‚â§ 300).  The second line contains n integers a1, ..., an (1 ‚â§ ai ‚â§ 109 for all i from 1 to n).  The third line contains an integer k (1 ‚â§ k ‚â§ n - 1). <br>  Output format <br><br>  If the given array can be ordered in non-decreasing order using operations of the type described, then output the minimum number of k-exchanges necessary for sorting.  Otherwise, print one number -1. <br><br>  <b>Decision</b> <br><br>  We divide the array into k parts, depending on the rest of the position modulo k.  In each of these parts, the neighboring elements are at a distance k, so they can be exchanged between them.  Elements from different parts of the array cannot be exchanged among themselves. <br><br>  Note that in a sorted array, each of the parts will also be sorted.  Consequently, our task was reduced to the following: sort each of the parts for the minimum number of actions and verify that the resulting array was sorted.  If so, then the answer is the total number of actions required to sort the parts.  If the array is unordered, then there is no solution. <br><br>  It remains to understand what is the minimum number of actions necessary to sort an array if it is allowed to exchange only neighboring elements (namely, by such operations we must sort each of the parts).  It turns out that the minimum number of actions is performed by regular bubble sorting.  Let n be the length of the array a [0..n - 1] that you want to sort.  Then the required number of exchanges performs the following algorithm: <br><br> <code>for i from 0 to n ‚Äì 1: <br> for j from 0 to n ‚Äì 2: <br> if a[j] &gt; a[j + 1]: <br> swap(a[j], a[j + 1])</code> <br> <br>  Let us prove it: for this we consider the following characteristic of the array, which is called the number of inversions: the number of pairs of positions <i>(i, j)</i> , <i>where</i> <i>i</i> &lt; <i>j</i> <i>and a [i]&gt; a [j]</i> .  It is clear that in the sorted array the number of inversions is zero.  On the other hand, the exchange of two neighboring elements can change the number of such pairs by no more than one.  In this case, the sorting of the bubble during each exchange reduces the number of inversions by one. <br><br>  Therefore, the number of exchanges in bubble sorting is equal to the number of inversions in the array, that is, the minimum number of exchanges that must be performed to sort the array. <br><br>  <b>Task D. Rails</b> <br><br>  An important parameter of the railway is the gauge - the distance between the two rails on which the train travels.  It is this parameter that determines the types of trains and other cars that can travel by rail. <br><br>  Recently, a space expedition to the planet RCC-0805 found out that there are railways on this planet too.  It was even found the railway depot, but to determine the width of the track so far failed.  The fact is that the railways on this planet fit without sleepers, therefore, it is not always easy to determine which rails correspond to each other. <br><br>  The plan for the location of the rails in the railway depot is set.  For simplicity, we assume that the territory is an infinite plane, and each rail is represented as a straight line.  It is necessary to find the minimum width of the track d, at which the rails can be divided into pairs so that in each pair they are parallel and the distance between them is d. <br><br>  Input Format <br><br>  The first line contains an integer n (1 ‚â§ n ‚â§ 2000).  Each of the next 2n lines contains four integers x <sub>i, 1,</sub> y <sub>i, 1,</sub> x <sub>i, 2,</sub> y <sub>i, 2</sub> - the coordinates of two different points through which the rail passes.  All coordinates do not exceed 1000 in absolute value.  The straight lines corresponding to different rails do not coincide. <br><br>  Output format <br><br>  Print a real number - the minimum possible track width.  It must be determined with an accuracy of no worse than 10 <sup>-6</sup> . <br>  If it is impossible to divide the rails into pairs with the requirements of the task at any track width, output the number ‚àí1. <br><br>  <b>Decision.</b> <br><br>  First, we divide the rails into equivalence classes in the direction of a straight line - parallel straight lines will fall into one class.  After that, in each class we find all possible acceptable values ‚Äã‚Äãof the gauge width for this class.  The answer is the minimum possible distance that is suitable for all classes. <br><br>  <b>Now let's take a closer look at each of the stages of the solution.</b> <br><br>  To distribute straight lines by equivalence classes, we construct an equation for each of the straight lines.  Let a straight line pass through points (x <sub>1</sub> , y <sub>1</sub> ), (x <sub>2</sub> , y <sub>2</sub> ).  Then its equation of the form ax + by + c = 0 can be found as follows: a = y <sub>1</sub> - y <sub>2</sub> , b = x <sub>2</sub> - x <sub>1</sub> , c = - (ax <sub>1</sub> + by <sub>1</sub> ).  It is now useful to normalize the coefficients of a straight line, dividing a, b and c by <img src="http://habrastorage.org/storage/53085f80/a31fc1bc/fcea434c/ab79d3fe.png">  .  Now, each line has two representations: up to multiplication of coefficients by ‚Äì1.  In order for each straight line to have a unique equation, it is convenient to additionally require the conditions ‚Äúa&gt; 0 or (a = 0 and b&gt; 0)‚Äù.  When this requirement is fulfilled, parallel lines have the same pair (a, b).  In this representation, it is also convenient to calculate the distance between the straight lines: for two parallel straight lines ax + by + c <sub>1</sub> = 0 and ax + by + c <sub>2</sub> = 0, the distance is | c <sub>1</sub> - c <sub>2</sub> |. <br><br>  Consider the class of parallel lines.  We sort them by coefficient c.  Consider the first straight line - it is paired with one of the other straight lines of this class.  Let's go through this line.  Let the distance between them be d.  Now we greedily build a partition of straight lines into pairs at a distance d.  If this can be done, then d can be the gauge for this class.  We will consider straight lines in ascending order c.  If the next straight line c = c <sub>i</sub> and has no pair yet, then it should be parallel to it at distance d with c = c <sub>i</sub> + d.  If there is such a line, we pair it with the line in question.  The pairing can be implemented in linear time using the two-pointer method: it suffices to note that c + d also increases with increasing c. <br><br>  Finally, consider looking for an answer: let there be lists of possible answers for each of the classes.  Naturally, they are sorted in ascending order.  Two such lists can be easily crossed in one pass.  After completing the intersection of all the lists, in a time proportional to the sum of their lengths, we obtain an intersection list, the minimum element of which is the answer to the problem. <br><br>  Let's analyze the running time of the algorithm.  Class distribution is done in O (n).  For a given class of size k, the construction of a list of admissible distances is performed in O (k <sup>2</sup> ) and its length does not exceed k.  Therefore, the last step is performed in O (n), and the entire algorithm in O (n <sup>2</sup> ). <br><br>  <b>Problem E. Guess the number</b> <br><br>  Recently, in one popular social network appeared the application "Guess the number!".  Its users are offered a game, at each of the levels of which it is necessary to determine the hidden number from some information about it. <br><br>  In particular, at one of the most difficult levels, it is necessary to guess a rational number x (0 &lt;x &lt;1), which is known that as a result of multiplying by a natural number k, exactly one change occurred in its decimal notation - the i-th one changed places in it and the j-th digit after the decimal point (the digits are numbered from one in the direction from left to right).  At the same time, the digit to the decimal point has not changed, that is, the inequality 0 &lt;k <sub>x</sub> &lt;1 is fulfilled. Note that there can be infinitely many digits after the decimal point in the decimal notation x. <br><br>  Your task is to write a program that will determine the value of x by the numbers i, j, k. <br><br>  Input Format <br><br>  The first line contains three integers i, j, k (1 ‚â§ i &lt;j ‚â§ 1000; 2 ‚â§ k ‚â§ 109). <br><br>  Output format <br><br>  If the desired number exists, then print two integers - the numerator a and the denominator b of an irreducible fraction specifying the desired number (a, b&gt; 0).  Otherwise, print the phrase NO SOLUTION. <br><br>  <b>Decision</b> <br><br>  Suppose that initially at the i-th position is the digit s, and at the j-th position - the digit t.  Then, after multiplying by k, the number is equal to x - 10 <sup>‚Äìi</sup> s + 10 <sup>‚Äìi</sup> t ‚Äì 10 <sup>‚Äìi</sup> t + 10 <sup>‚Äìi</sup> s.  Therefore, the required number is a solution to the equation kx = x - 10 <sup>‚Äìi</sup> s + 10 <sup>‚Äìi</sup> t - 10 <sup>‚Äìi</sup> t + 10 <sup>‚Äìi</sup> s. <br><br>  Note that in fact the solution does not depend on the specific values ‚Äã‚Äãof s and t, but only on their difference: (k - 1) x = (10 <sup>‚Äìi</sup> - 10 <sup>‚Äìi</sup> ) (t - s).  In addition, s &lt;t.  Therefore, it is enough to go through the difference (t - s) in the range from 1 to 9. For each value of the difference, we find the solution to the equation and check it: make sure that when the number is multiplied by k, the numbers on the i-th and j-th positions in the decimal record change in some places, and the integer part remains zero. <br><br>  Validation is necessary because, due to transferences, the solution of the reduced equation may not correspond to the solution of the problem. <br><br>  <b>Answers to frequently asked questions</b> <br><br>  During the competition, participants could send questions to the jury.  Some questions were met especially often, and we decided to answer them in this article. <br><br>  <b>Question: Should I send the source code or the compiled file for review?</b> <br>  Answer: send the source code for review.  The checking system itself compiles the decision of the participant, the command lines are specified in the <a href="http://russiancodecup.ru/rules/">rules of the Russian Code Cup</a> <br><br>  <b>Question: where should I enter the data?</b> <br>  Answer: data should be entered from the so-called standard input stream.  This corresponds to keyboard input, if you run a program that reads data from the standard input stream without additional parameters, the input will be from the keyboard. <br>  In this case, low-level keyboard input, like analyzing keystrokes or receiving operating system messages about keystrokes, is the wrong approach.  Read should be "from the console." <br><br>  <b>Question: where should I enter the answer?</b> <br>  The answer must be output to the standard output stream (by default, it is sent to the screen).  Again, do not try to do this with low-level tools. <br><br>  Let us give examples of reading the standard input stream and writing to the standard output stream in all programming languages ‚Äã‚Äãthat are supported in the Russian Code Cup. <br><br>  <b>Java</b> <br><br>  For input, use the System.in stream.  The most convenient tools for parsing Java input are the BufferedReader and Scanner classes.  BufferedReader is faster in reading and allows you to quickly read a large amount of data in rows.  The scanner is slower due to the use of regular expressions, but it makes it very flexible to parse the input string, for example, read one number from the input. <br><br>  To read from the standard input stream using BufferedReader, you should write a line in the program: <br><br>  BufferedReader in = new BufferedReader (new InputStreamReader (System.in)); <br><br>  To read from the standard input stream using Scanner, write the following line in the program: <br><br>  Scanner in = new Scanner (System.in); <br><br>  For output, use System.out.  In this case, System.out is non-caching (immediately flushes its buffer), if you need to output a large amount of information, it is better to wrap it in a PrintWriter. <br><br>  <b>C ++</b> <br><br>  You can use scanf for typing in the classic C style.  This function reads data just from the standard input stream. <br>  Input through streams is done using the cin stream.  By default, it is set to standard input.  Note that input using streams is significantly slower than input using scanf, so the program may not be able to read large amounts of data. <br>  Again, you can use classic printf or stream cout for output.  All performance notes remain valid for them - printf is faster. <br><br>  <b>C #</b> <br><br>  Use the Console for input.  Console.ReadLine () reads the next line of input.  To parse it, use the split () method.  Converting data into numbers is done by the class Convert. <br>  Console should also be used for output.  For example, to display the number x, you can write Console.WriteLine (x). <br><br>  <b>Python</b> <br><br>  You can use input or raw_input functions for input.  You can also use the sys.stdin file descriptor, which is configured on the standard input stream. <br>  For output, we recommend using print. <br><br>  <b>Perl</b> <br><br>  Input from standard input in Perl is done with the &lt;&gt; command.  This command reads a string from a file and returns it. <br>  For output, we recommend using print. <br><br>  <b>Php</b> <br><br>  Input from standard input in PHP is done from the STDIN descriptor.  The next line can be considered, for example, the fgets command. <br>  You can use print or echo for output. <br><br>  When using various functions of reading a string, we also recommend that you carefully read the documentation and pay attention to whether the function returns a newline along with the string.  In the jury's tests, all lines, including the last, end with a line break, testing is conducted under Windows 7, the combination adopted in Windows is used to translate a line consisting of characters with codes 13 and 10. <br><br>  In addition, you should note that testing is done automatically.  Therefore, you should not try to display various ‚Äúinvitations to input‚Äù or try to ‚Äúdecorate‚Äù the output.  You must enter the data, solve the problem and output the data, clearly following the output format. <br><br>  <b>Question: Is the test correct in the example?</b> <br>  Answer: the test in the example is usually correct - it is checked by several people, including several people who solve problems without knowing them in advance.  If it seems to you that the test example is incorrect, then read more carefully the condition, probably you understand something wrong. <br>  If it still seems to you that the example is incorrect, include in the request a detailed description of why you consider the example incorrect, which answer is correct, what do you think is inaccurate or ambiguous. <br><br>  <b>Question: Is the 239th test correct in problem X?</b> <br>  Answer: most likely the test is correct.  If you think the test is wrong, write why you think so.  Just the question "is this a test right" is pointless to ask.            -         ¬´¬ª  -  ,     . <br><br> <b>:    ,  ?</b> <br> :        ,   . <br><br> <i>    ! <br><br>  Russian Code Cup</i> </div><p>Source: <a href="https://habr.com/ru/post/119187/">https://habr.com/ru/post/119187/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../119181/index.html">Some mathematics, or why I don‚Äôt buy licensed content</a></li>
<li><a href="../119182/index.html">Details on future APIs for P2P communication between browsers</a></li>
<li><a href="../119183/index.html">Twitter has updated the mobile version of the site</a></li>
<li><a href="../119184/index.html">Without mathematics or why I pay for someone else's work</a></li>
<li><a href="../119186/index.html">What happens if your hard drive dies?</a></li>
<li><a href="../119188/index.html">Twitter and Facebook quietly removed RSS, completely</a></li>
<li><a href="../119190/index.html">How many times have you visited sites in the RF zone in the last week?</a></li>
<li><a href="../119191/index.html">kedDroid - S03E02. Video review software for Android</a></li>
<li><a href="../119192/index.html">About Mark Russinovich‚Äôs book ‚ÄúZero Day: A Novel‚Äù</a></li>
<li><a href="../119205/index.html">Wikimedia Foundation Chairman of the Board of Trustees calls for modernization and openness</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>