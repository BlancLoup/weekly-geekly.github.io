<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Animating Flexbox with CSS Transition</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Everyone already knows about the Flexbox. Someone tests it in production, someone only studies, and someone wonders how he is better than tables. Whil...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Animating Flexbox with CSS Transition</h1><div class="post__text post__text-html js-mediator-article"> Everyone already knows about the Flexbox.  Someone tests it in production, someone only studies, and someone wonders how he is better than tables.  While you are doing this, I will share with you the good news: flexible containers are animated well with the help of CSS transition. <br><br>  I'll tell you how to use it and what you can do with this joy. <br><a name="habracut"></a><br>  By animation, I mean container resizing.  It would seem surprising, because there is a <code>transition: width 0.3s ease</code> .  However, the animation of flexible-elements implies that the sizes of several containers change simultaneously.  This gives just unlimited space for animating changes in the size of the layout.  For example, now the menu is very popular, which collapses, leaving only the icons visible. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/d80/e71/546/d80e715461574066a556a4290582b269.png"></div><br>  <i><a href="http://codepen.io/radyno/pen/Ljkqb">Watch demo on Codepen.io</a></i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      To make such a menu with familiar containers, it is necessary to simultaneously synchronize the change in width of two containers.  On the other hand, if we discard the <s>conventions of the</s> need to support old browsers, we can do the same markup using the Flexbox.  Then you can use the following code to animate: <br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.menu</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">flex</span></span>: <span class="hljs-number"><span class="hljs-number">0.0001</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">180px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">transition</span></span>: flex <span class="hljs-number"><span class="hljs-number">0.3s</span></span> ease; } <span class="hljs-selector-class"><span class="hljs-selector-class">.collapsed</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.menu</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">flex</span></span>: <span class="hljs-number"><span class="hljs-number">0.0001</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">48px</span></span>; }</code> </pre><br>  The code for animating resizing fits in one line.  As a CSS property that will be animated, we transfer ‚Äúflex‚Äù. <br>  A bit strange here is the value of flex-grow.  This is the extensibility factor, which indicates how well the container will stretch relative to other containers if the parent element has free space after calculating the basic sizes of the nested elements.  The smaller this value is relative to others, the smaller the container will expand.  If you use the value 0, the width (or height) of the element will be fixed.  If the width is fixed, then there is a problem with the animation: the older version of Google Chrome completely refused to animate the resizing when the flex-grow value is zero.  There is a possibility that in some versions of browsers this problem still exists. <br><br><h4>  Photo Gallery </h4><br>  Let's go a little further: take 5 photos, arrange them in one line. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/b12/e36/1b5/b12e361b50ec4ecf8664e114f4afacd7.png" title="Flexbox Photo Gallery"></div><br>  <i>When you hover the cursor will show the selected photo in an enlarged format.</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/9c7/596/9cf/9c75969cf5754b0286ff7827c97202b4.png" title="Flexbox Photo Gallery"></div><br>  <i>For the location of the photos, we will use the Flexbox, and insert the images through background-image:</i> <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"items-row"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"item img1"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"item img2"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"item img3"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"item img4"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"item img5"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.items-row</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">display</span></span>: flex; <span class="hljs-attribute"><span class="hljs-attribute">flex-flow</span></span>: row nowrap; } <span class="hljs-selector-class"><span class="hljs-selector-class">.item</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">flex</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">20%</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.img1</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background-image</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">url</span></span>(<span class="hljs-string"><span class="hljs-string">'http://lorempixel.com/400/400/?1'</span></span>); <span class="hljs-attribute"><span class="hljs-attribute">background-repeat</span></span>: no-repeat; }</code> </pre><br><br>  All elements of a flex-container initially occupy 20% of the width and equally expand / contract.  To increase the active element when you hover the cursor, add a rule that sets a fixed width of 400 pixels and reduces the extensibility / compressibility of the element to almost zero: <br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.item</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:hover</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">flex</span></span>: <span class="hljs-number"><span class="hljs-number">0.000000001</span></span> <span class="hljs-number"><span class="hljs-number">0.00000001</span></span> <span class="hljs-number"><span class="hljs-number">400px</span></span>; }</code> </pre><br>  Now, when you hover the cursor, all inactive elements will shrink, because they have the value of flow-shrink: 1, and the active element will remain 400 pixels wide, because it is almost incompressible. <br><br>  The final touch is adding animation: <br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.item</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">transition</span></span>: flex <span class="hljs-number"><span class="hljs-number">0.4s</span></span> ease; }</code> </pre><br>  <a href="http://codepen.io/radyno/pen/ruFiA">Watch demo on Codepen.io</a> <br><br>  If you go further, you can take several rows of photos and when you hover the cursor, increase not only the width, but also the height.  To do this, repeat the same thing, but with <code>flex-flow: column nowrap;</code>  . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/624/a81/fd6/624a81fd69b2494cba7d888677d75ce3.png" title="Flexbox Photo Gallery"></div><br>  <i>But what will happen if you hover over the photo</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/933/dba/a72/933dbaa721664ac08e7e049137e7a8f2.png" title="Flexbox Photo Gallery"></div><br>  <i><a href="http://codepen.io/radyno/pen/BbIwA">Watch demo on Codepen.io</a></i> <br><br><h4>  Performance </h4><br>  A rare discussion of animation does not talk about FPS.  Therefore, on my leisurely computer, I measured the FPS for the last demo.  And that's what I got: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/31f/5b2/36f/31f5b236f59b4e939853c5ce074ada26.png" title="Performance Flexbox Animation"></div><br><br>  Yes, it looks quite good.  And in general, I somehow measured the speed of drawing the interface made using Flexbox and the same made on floats.  Interfaces included 1500 elements each.  The difference in rendering was about 10 ms on the desktop and about 15-20 ms on the mobile device.  Therefore, if performance is a decisive factor for you, you will lose a little. <br><br><h4>  Browser Support </h4><br>  Unfortunately, this is not a cross-browser joy.  <s>Since Flexbox works in IE10 +, respectively, and its animation will work no less than from the 10th version.</s>  As <a href="https://habrahabr.ru/users/reon/" class="user_link">Reon</a> correctly noted, the above code will not work in IE at all.  It remains to hope that Microsoft will follow the example of other browsers and will eventually support this animation.  On the other hand, for the given example it is easy to make a fallback, which will more or less decently display photos in a small size and increase them with the help of some kind of extension. <br><br><h4>  findings </h4><br><ul><li>  Animate resizing flexbox elements is easy: <code>transition: flex 0.4s ease;</code>  ; </li><li>  Non-zero (0.000001) flex-grow and flex-shrink values ‚Äã‚Äãcan fix everything if the animation is not working; </li><li>  The performance of Flexbox container animation is almost as good as the animation of div elements with float; </li><li>  This is a very fresh solution, so you should use it with caution, and test as much as possible. </li></ul><br><br><h4>  Useful materials </h4><br><ul><li>  <a href="http://www.w3.org/TR/css3-flexbox/">W3C Flexbox Specification</a> </li><li>  <a href="http://html5.by/blog/flexbox/">Good article about Flexbox by Dima Dudin</a> </li><li>  <a href="https://dev.opera.com/articles/animating-flexboxes-the-lowdown/">Flexbox Animation on Dev.Opera</a> </li></ul></div><p>Source: <a href="https://habr.com/ru/post/238607/">https://habr.com/ru/post/238607/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../238597/index.html">The realities of the investment market in startups</a></li>
<li><a href="../238599/index.html">Modeling difficulty levels</a></li>
<li><a href="../238601/index.html">Budget planning: it will be hot in October too</a></li>
<li><a href="../238603/index.html">Json vs. YAML Comparison</a></li>
<li><a href="../238605/index.html">Silicon Valley shows with Bobuk, ABBYY vice president, founder of QIWI and other IT + guys + free codes for the online version</a></li>
<li><a href="../238611/index.html">Android developers: all out of the twilight?</a></li>
<li><a href="../238615/index.html">Your audio guide. The story of a startup</a></li>
<li><a href="../238619/index.html">Interception of calls of functions of native libraries in Android applications</a></li>
<li><a href="../238621/index.html">Ubuntu 14.04 on Asus X200MA</a></li>
<li><a href="../238623/index.html">The social network "Anti-Facebook" has a "viral" growth</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>