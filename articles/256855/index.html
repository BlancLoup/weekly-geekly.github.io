<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The future of Linux file systems</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="At the Vault event in early March, organized by the Linux Foundation in Boston, there was a lot of talk about file systems and storage. If you think t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The future of Linux file systems</h1><div class="post__text post__text-html js-mediator-article">  At the <a href="http://events.linuxfoundation.org/events/vault">Vault</a> event in early March, organized by the Linux Foundation in Boston, there was a lot of talk about file systems and storage.  If you think that nothing new has been said there, then you are mistaken. <br><br><img src="https://habrastorage.org/files/228/4d9/571/2284d95718694da68666dc285a94e38c.jpg"><br><a name="habracut"></a><br><br>  Linux file systems such as Btrfs and storage options are constantly evolving.  The FacebookStorage technology has come a long way since Linus Torvalds accepted it before it was supported by the system itself. <br>  In past years, for example, there have been attempts to use flash drives as the main disk for the server and <a href="http://events.linuxfoundation.org/sites/events/files/eeus13_wheeler.pdf">SSD disk</a> to increase the speed of working with data that is close to working with RAM. <br>  The use of flash drives was proposed <a href="http://ru.sandisk.com/about-sandisk/press-room/press-releases/2015/sandisk-creates-new-storage-category-with-infiniflash%25E2%2584%25A2-all-flash-storage-system/">by SanDisk based on the InfiniFlash solution</a> , which was supposed to be used as a replacement for hard drives at a price of $ 1-2 per gigabyte. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/6cf/b21/af7/6cfb21af73a647d2aa57022d5e4ae843.PNG"><br><br>  At the same time, Big Data, cloud computing and containerization involved finding new paths.  To solve these problems, Linux developers develop existing file systems and file storage, as well as working on new ones. <br><br>  <b>Btrfs</b> <br>  For example, Chris Mason, a Facebook developer, and one of the <a href="https://btrfs.wiki.kernel.org/index.php/Main_Page">Btrfs</a> maintainers, shared information on how Facebook uses this file system.  It is interesting in that it is well suited to work with a large number of small files, and with files up to 16 exabytes;  going to raid array;  It has built-in compression system and support for various storage devices. <br><img src="https://habrastorage.org/files/85b/fce/2ad/85bfce2ad1a74c42a89cf03db06d21c0.jpg"><br>  Of course, Facebook makes extensive use of Linux.  To be more precise, the cores used are 3.10 and 3.18 and their own distribution based on CentOS.  For Facebook, Btrfs was truly a salvation, this file system behaves consistently and shows great speed with endless I / O operations performed by social network members.  This is if you take the good news.  From bad - Btrfs proved to be very bad in working with traditional storage servers of MySQL type databases.  For them, Facebook uses XFS.  To manage both file systems, use the open distributed file system Gluster, <br>  Facebook, hand-in-hand with leading Linux kernel developers and Btrfs, is working to increase the speed of working with database storage systems.  Mason and his colleagues achieved <a href="http://rocksdb.org/">RocksDB</a> acceptable work on Btrfs. <br>  RocksDB is a fast key-value storage system that can be used as the basis for a client-server database. <br>  With Btrfs besides this, not everything is so smooth.  It contains errors that occur at different times.  For example, you were smart enough to decide to drive a hard drive to failure, but Btrfs will cut off the record reaching a certain point of fullness of the repository. <br>  Also, the Btrfs development team is working on data deduplication.  This method of data compression shows itself best when there are a large number of stored files in the storage, which differ little from each other, or have many similar elements, like when storing backup copies.  Mason said: ‚ÄúThis is not necessary for everyone, if it is necessary, then it is needed for real!‚Äù But Btrfs is not the only file system on which serious work is being done and on which everything should be put.  John Spray, lead developer for Red Hat, talked about Ceph distributed storage. <br><br><img src="https://habrastorage.org/files/b34/f92/f87/b34f92f870134bef8f970769a916827e.jpg"><br><br>  <b>Ceph fs</b> <br>  <a href="http://ceph.com/">Ceph</a> is an open source development of resilient, highly scalable petabyte storage.  It is based on the integration of disk spaces of several dozen servers into object storage, which allows for the implementation of flexible multiple pseudo-random data redundancy.  Ceph developers complement this object storage with three more projects: <br><img src="https://habrastorage.org/files/a5a/f7b/bf9/a5af7bbf9d3e44f2aae83ae811cd4ba2.jpg"><br><ul><li>  RADOS Gateway - S3- and Swift-compatible RESTful interface </li><li>  RBD - block device with support for thin growth and snapshots </li><li>  Ceph FS - Distributed POSIX Compatible File System </li></ul><br><br>  Ceph is a distributed, easy-to-scale storage, which allows you to create a union from servers to object storage to implement flexible multiple pseudo-random data redundancy (RADOS, Reliable Autonomic Distributed Object Store).  Developers identify the following main components: <br><ul><li>  OSD (Object Storage Device, Object Storage Device) Daemon: A storage daemon for a service that provides communication with an OSD (physical or logical unit of data storage).  This daemon must be running on each of the cluster servers, each OSD can be assigned a separate hard disk with a raid array, LVM or Btrfs pool.  By default, three pools are created: data, metadata, and RDB </li><li>  MDS (Meta-Data Server, Metadata Storage Server): It is built as a POSIX file system.  If you do not use the Ceph file system, then the metadata server is not required. </li><li>  MON (Monitor): A lightweight daemon that provides communication between external applications and clients.  Also provides agreement for expansion in a Ceph / RADOS cluster. </li></ul><br>  The developers of Ceph recommend using Btrfs for the file system, although XFS may be the best alternative for combat use. <br><br>  After the takeover of Ceph - Inktank, the owner of the company in 2014, Red Hat tightly engaged in the preparation of CephFS for production use. <br>  Much work remains to be done on CephFS, let it work, but it lacks such important tools for monitoring or testing / correcting errors. <br>  At the moment, Red Hat is just developing fsck and a logging system, as well as improving the ability to create snapshots, improve customer control, or integrate into containers and clouds.  To date, according to Spray, CephFS can be used as a file system, either very cool and brave, or very stupid. <br><br>  <b>The rest is in the little things</b> <br><img src="https://habrastorage.org/files/db8/e56/6c0/db8e566c012843f3a29ec7746e7e5a9b.jpeg"><br>  From what was interesting at the Boston meeting: Jeff Layton, the lead developer at <a href="http://primarydata.com/">Primary Data</a> , said that he was creating an off-power emulation for testing file systems.  This feature will be added to the <a href="http://oss.sgi.com/cgi-bin/gitweb.cgi%3Fp%3Dxfs/cmds/xfstests.git%3Ba%3Dsummary">xfstests</a> application.  Despite the name, in addition to XFS, there is support for the main part of the currently popular file systems. <br><img src="https://habrastorage.org/files/d7b/528/002/d7b52800237d49969f54758c6668243c.jpg"><br>  Rick vanRiel, Red Hat developer, shared the problem of working with RAM as a data warehouse.  Ie it works, if you use these resources as RAM, or as storage, but when you need something more, difficulties arise.  For example, there is no possibility of creating snapshots for backup, when using RAM for its intended purpose. <br>  There is no solution yet, but programmers are working on it.  And while in Linux there are a large number of various file systems and storage, there will be plenty of work.  Technology does not stand still.  Linux OS works on everything from a simple gadget such as coffee makers, desktops, cloud systems and ending with super-computers that have different data storage requirements. </div><p>Source: <a href="https://habr.com/ru/post/256855/">https://habr.com/ru/post/256855/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../256843/index.html">Once again about encryption GOST 28147-89</a></li>
<li><a href="../256845/index.html">Anarchy and Data Storage: Does SAN Have a Future?</a></li>
<li><a href="../256849/index.html">SAFEDATA data center: three in one. Migration Chronicles</a></li>
<li><a href="../256851/index.html">Implementation of interval-associative array in Cach√© DBMS</a></li>
<li><a href="../256853/index.html">Layout of responsive emails: a detailed guide (part 1)</a></li>
<li><a href="../256857/index.html">Adaptive Noise Reduction</a></li>
<li><a href="../256859/index.html">Unity in Russian</a></li>
<li><a href="../256863/index.html">Wordpress vulnerability</a></li>
<li><a href="../256865/index.html">Romanian law enforcement authorities arrest a large cybercrime group</a></li>
<li><a href="../256867/index.html">High-precision time synchronization for measuring delay in ethernet networks</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>