<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>PROSPECTOR inside</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="If possible, it is better not to develop expert systems (c) 
 Many expert systems have been developed in the world, in this post I would like to consi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>PROSPECTOR inside</h1><div class="post__text post__text-html js-mediator-article"><blockquote>  If possible, it is better not to develop expert systems (c) </blockquote><br>  Many expert systems have been developed in the world, in this post I would like to consider the structure and logic of the work of one of the ancient ES called ‚ÄúPROSPECTOR‚Äù. <br><a name="habracut"></a><br><h4>  1. General concepts </h4><br>  <b>An expert system</b> is a computer system that can partially replace a specialist expert in resolving a problem situation. <br><br>  <b>PROSPECTOR</b> is a geological exploration expert system designed for geological exploration of mineral deposits. <br><br><h4>  2. Brief system description </h4><br>  The PROSPECTOR system works with fuzzy data and fuzzy knowledge.  The system is based on fuzzy logic and is well applied to various areas.  However, despite the capabilities of the model used, the logic of the ES operation differs from human logic and therefore the user may not understand the meaning of the system issues.  In this regard, a system constructed on the basis of the logic of the PROSPECTOR system should be able to explain the course of its ‚Äúthoughts‚Äù. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  3. Algorithm of work </h4><br>  The operation of the system is a dialogue between the system and the user.  During the dialogue, the system receives from the user information about observations on the basis of which draws certain conclusions.  The sequence of steps looks like this: <br><ol><li>  The system chooses an observation that more changes the chances of the target hypothesis (in the PROSPECTOR system it is the presence of certain mineral resources) </li><li>  The system asks the user about the presence of the selected observation </li><li>  The user ‚Äúresponds‚Äù to the presence of surveillance system, and the answer is a number in the range from ‚Äì5 to +5, where -5 is ‚Äúdefinitely not‚Äù, +5 is ‚Äúdefinitely yes‚Äù, and 0 means ‚ÄúI don't know‚Äù. </li><li>  After receiving the user's response, a wave of changes takes place in the semantic network: the chances of hypotheses that are affected by observation are recalculated. </li><li>  If the chances of a target hypothesis suit the user, then the system ends the dialogue, otherwise step 1. </li></ol><br><br><h4>  4. Structure of KB </h4><br>  The knowledge base is a semantic network based on the knowledge of subject matter experts. <br><br><h5>  4.1.  Semantic network </h5><br>  The elements of the semantic network are hypotheses, observations and links between them.  For example, a semantic network might look like this: <br><img src="https://habrastorage.org/files/390/56c/9ba/39056c9ba26649319ba0f4d1c98288b6.PNG"><br><br>  <i>Relative to each other, hypotheses are also observations.</i>  <i>For example, H2 is the observation for the hypothesis H1.</i> <br><br>  In the semantic network, the following relationships are permissible: <br><ul><li>  The hypothesis may depend on several observations. </li><li>  Observation may affect several hypotheses. </li></ul><br>  Each hypothesis has chances (O) and weight (C). <br><br>  <b>Weight</b> is the value received from the user to the system questions (for observations), in other words, we can say that the weight is the degree of possibility of this observation. <br><br>  <b>Chance</b> is the degree of fidelity of a given hypothesis (essentially the same probability).  The dependency formula looks like this: <br><br><img src="https://habrastorage.org/files/815/b30/900/815b309008a94fb8b6ef46f096de9271.PNG"><br><br>  For hypotheses, odds are calculated by the formula: <br><br><img src="https://habrastorage.org/files/916/f16/12c/916f1612cc0c4b4c82271108473717b6.PNG"><br><br>  <i>Prior to the use of ES, all hypotheses have, initially set by an expert, a priori chances.</i>  <i>The weights of the connections (C) of the hypotheses and observations are 0.</i> <br><br><h5>  4.2.  Semantic network connections </h5><br><h6>  4.2.1.  General concepts </h6><br>  Each connection nodes (hypotheses and observations) in the semantic network has coefficients LS and LN. <br><br>  <b>LS</b> is the coefficient of sufficiency: <br><img src="https://habrastorage.org/files/86a/3fa/a2b/86a3faa2b8314cfe8ba62c9b69bfd33d.PNG"><br>  <b>LN</b> is the need ratio: <br><img src="https://habrastorage.org/files/c95/b94/3cc/c95b943ccfcd4ba3bebb651313e8fb65.PNG"><br><br>  <i>The coefficients LS and LN are set by the expert himself based on his experience and statistical data.</i> <br><br>  For different values, the coefficients may have different meanings: <br><ul><li>  LS = LN - observation E does not affect the hypothesis of N. </li><li>  LS = 1 - the presence of observation E does not affect the hypothesis of N. </li><li>  LN = 1 - the lack of observation E does not affect the hypothesis N. </li><li>  LS&gt; 1 - observation E strongly influences the hypothesis H (the larger the value, the more influenced). </li><li>  LN &lt;1 - hypothesis H strongly needs observation E (the smaller the value, the more it needs). </li></ul><br>  Based on 4 and 5 points, we can conclude that only a couple of factors in the ES make sense: <br>  <b>LS</b> &gt; 1, <b>LN</b> &lt;1 - needs and affects <br><br>  There are 3 types of links in the system: <br><ol><li>  brain teaser </li><li>  Contextual (conceptual) </li><li>  Productive </li></ol><br><h6>  4.2.2.  Logical connections </h6><br><img align="right" src="https://habrastorage.org/files/b01/146/a48/b01146a48e004f9cb0946ac57ed46844.PNG">  <b>Logical connections</b> are operations of mathematical logic "AND", "OR", "NOT".  Links impose restrictions on hypotheses that can be interpreted as: <br><ul><li>  For the existence of the hypothesis H1, both observations E1 and E2 must be defined (the link "And").  All observations for this connection are set simultaneously. </li><li>  For the existence of the hypothesis H1, at least one observation E1 or E2 (the link "OR") must be defined. </li></ul><br>  <i>The coefficients LS and LN are set for the entire link, not for each observation.</i> <br><br>  Weight is also set for communication and is calculated by the formula: <br><ul><li>  For "And": C = min (C1, C2, ..., CN) </li><li>  For "OR": C = max (C1, C2, ..., CN) </li><li>  For "NOT": C = ‚ÄìC </li></ul><br><h6>  4.2.3.  Contextual relationships </h6><br><img align="left" src="https://habrastorage.org/files/aa7/6bd/df7/aa76bddf741b4c21b664ece1ebf8c372.PNG">  These links indicate which questions should be asked first. <br><br>  For example, in the figure on the left, before the system asks a question regarding the H3 hypothesis, it is necessary that the weight (C) of the H2 hypothesis be in the range from 0 to 5 inclusive, that is, a positive answer is given regarding the H2 hypothesis. <br><br>  <i>Communication data does not have sufficiency factors (LS) and necessity (LN).</i> <br><br><h6>  4.2.4.  Product Relationships </h6><br><img align="right" src="https://habrastorage.org/files/fd7/196/af7/fd7196af73ad44a59ff99c01d01fe8ff.PNG">  Links like "If ... then ...".  For links of this type, weights are calculated by solving the system of equations: <br><img src="https://habrastorage.org/files/471/fbb/0b5/471fbb0b57d34a009f87ed938e1e6224.PNG"><br><br>  For H1, the maximum and minimum coefficients are: <br><img src="https://habrastorage.org/files/2b7/5ed/e7c/2b75ede7ce1740f4bf984ffb1a32a4a1.PNG"><br><br>  Assume: <br><ul><li>  for observation 1:  = 2, LS = 50, LN = 0.4 </li><li>  for observation 2:  = -3, LS = 20, LN = 0.8 </li></ul><br>  Thus we get the coefficients: <br><img src="https://habrastorage.org/files/bbb/ee4/a36/bbbee4a36e6846b981fdd50f9cb92080.PNG"><br><br>  Having obtained the coefficients, we can calculate the function of dependence of the coefficient k (formula 2) on the weight of the observations.  The graph of the function k is presented below: <br><img src="https://habrastorage.org/files/e5d/282/0cb/e5d2820cb1ae430587b4c22939fd33b8.PNG"><br>  The function k is not direct, therefore logarithmization is used for smoothing (the inverse operation of raising to a power): <br><img src="https://habrastorage.org/files/835/8c9/d62/8358c9d62a0c495494f1c44484603454.PNG"><br><br>  Solving the system of equations we get the function F: <br><img src="https://habrastorage.org/files/e06/e41/7fb/e06e417fba06423eb1249238f0a90bd3.PNG"><br><br>  After finding the function F, it is not difficult to calculate the value C for the hypothesis H1: <br><img src="https://habrastorage.org/files/c4f/bb1/f6a/c4fbb1f6aece45d58f62fbce6ac0c737.PNG"><br><br>  Below are the graphs of the obtained function F (blue) and the function k (formula 2) (red): <br><img src="https://habrastorage.org/files/2d9/5e4/dd8/2d95e4dd8dd147dba9c1f173508acc53.PNG"><br>  <i>The natural logarithm is given as an example; in the PROSPECTOR system, calculations can be performed differently.</i>  <i>For more accurate results, different polynomials can be used as an approximation.</i> <br><br><h5>  4.3.  Passages in the semantic network </h5><br>  <b>Pass</b> - change the weights of the semantic network.  Divided into two types: direct and reverse. <br><br><h6>  4.3.1.  Straight pass </h6><br>  The direct pass is performed when the user adds new information about the observations and it is necessary to recalculate the chances of the hypotheses according to the new data.  The direct pass algorithm includes the steps: <br><ol><li>  We set for observation the value of scales C received from the user </li><li>  We go up the hierarchy to the parent hypothesis (if there is no parent, then the output) </li><li>  We calculate the weight value (C) and the odds (O) for the hypothesis using formulas 1 and 3, respectively, proceeding to step 2. </li></ol><br><br><h6>  4.3.2.  Back pass </h6><br>  Used to find the issue of the system (observation).  The algorithm consists of steps: <br><ol><li>  Find all the observations that affect the target hypothesis </li><li>  For each observation, set the weight values ‚Äã‚Äãof +5 and -5. </li><li>  Perform a direct pass for the next observation. </li><li>  Calculate the deviation of the value of the chance of a target hypothesis after a straight pass </li><li>  We return the values ‚Äã‚Äãof weights and chances to their original state. </li><li> After completing the passes for all observations, we single out an observation that more influences (changes) the target hypothesis - this is the next question of the system. </li></ol><br><br><h4>  5. Example </h4><br>  Suppose there is a semantic network: <br><img src="https://habrastorage.org/files/ff4/685/84f/ff468584fa394bd2a6e6eeae108e1679.PNG"><br><br>  Trust is the hypothesis <b>H1</b> <br><br>  <b>Step 1</b> : perform the reverse pass <br><br>  <i>Due to the contextual relationship between H2 and H3, it is necessary to first obtain the value C for H2, therefore the backward pass will be performed only for observations E1, E2 and E4</i> <br><br>  <i>By virtue of the logical connection of E1 and E2, the value C will be assigned to the connection itself</i> <br><br>  In total 4 straight passes will be made: <br><ol><li>  E1E2 (C = + 5) -&gt; H1 </li><li>  E1E2 (C = -5) -&gt; H1 </li><li>  E4 (C = + 5) -&gt; H1 </li><li>  E4 (C = -5) -&gt; H1 </li></ol><br>  We calculate the value of C and O for the hypothesis H2 for option 1 (E1E2: C = + 5): <br><br>  1) Calculate the weight (C) and odds (O) for H2: <br><br>  The coupling coefficient for the H2 hypothesis is: <br>  k = k (E1 &amp; E2) * k (E4) <br><br>  Consequently: <br>  kmax = LS (E1 &amp; E2) * LS (E4) = 400 * 10 = 4000 <br>  kmin = LN (E1 &amp; E2) * LN (E4) = 0.34 * 0.1 = 0.034 <br><br>  Solve the system of equations from paragraph 4.2.4. Formula 3: <br><img src="https://habrastorage.org/files/71f/bf0/ff1/71fbf0ff1a454380a55fd6da75af951a.PNG"><br>  we get <br><img src="https://habrastorage.org/files/a62/1ec/010/a621ec010e744a0aa08e85dac0566ee6.PNG"><br>  Substitute the value of k = 400 (for C (E1E2) = +5), we obtain C (H2) = 3.02, O (H2) = 2800 <br><br>  2) Calculate the weight (C) and odds (O) for H1: <br><br>  The coupling coefficient for the H1 hypothesis is: <br>  k = k (H2) * k (H3) <br><br>  Consequently: <br>  kmax = LS (H2) * LS (H3) = 50 * 500 = 25000 <br>  kmin = LN (H2) * LN (H3) = 0.3 * 0.9 = 0.27 <br><br>  Solve the system of equations from paragraph 4.2.4. Formula 3: <br><img src="https://habrastorage.org/files/2d4/752/258/2d4752258f1744f0828e9e2a7b77eb6b.PNG"><br>  we get <br><img src="https://habrastorage.org/files/b25/7b4/7a3/b257b47a3f11463baf73571d09122ef7.PNG"><br><br>  Calculate the value of k (for C (H2) = 3.02): <br><br>  k = 50 ^ (3.02 / 5) = 10.62 <br><br>  We obtain C (H1) = -1.75, O (H1) = 31.86 <br><br>  e = abs (Oa - Op) = 31.86 - 3 = 28.86 <br><br>  <i>e is the rejection of the hypothesis chances (the difference of chances before and after the return pass)</i> <br><br>  Similarly, we find the deviations for the other options and we get: <br><ul><li>  E1E2 with C = +5, e = 28.86 </li><li>  E1E2 with C = -5, e = 2.04 </li><li>  E4 with C = +5, e = 0.12 </li><li>  E4 with C = -5, e = 1.89 </li></ul><br><br>  According to the data received, the following issues of the system will be E1 and E2 (due to the logical link "AND" the user must enter data for two observations at once). <br><br>  <b>Step 2</b> : Receive data from the user <br><br>  Assume that the user entered data for E1: C = 3, for E2: C = -4 <br><br>  <b>Step 3</b> : perform a straight pass <br><br>  1) We calculate the coefficients (k), weights (C) and odds (O) for H2: <br><br>  For the connection E1E2 - H2 (C = min is selected (3, -4) by virtue of the logical "AND"): <br>  k = 0.34 ^ (4/5) = 0.42 <br>  C (H2) = -1.77 <br>  O (H2) = <b>2.94</b> <br><br>  For communication H2 - H1: <br>  k = 0.3 ^ (1.77 / 5) = 0.65 <br>  C (H1) = -3.24 <br>  O (H1) = <b>1.95</b> <br><br>  After performing a direct pass, we get the semantic network: <br><img src="https://habrastorage.org/files/262/950/0ec/2629500ec4184aea9501cac5fdd66085.PNG"><br><br>  If the chances of an alternative suit, then we end.  Otherwise, the a posteriori odds (Op) become a priori (Oa) and proceed to step 1. <br><br><h4>  6. Literature </h4><br>  - <a href="http://www.computing.surrey.ac.uk/ai/PROFILE/prospector.html">www.computing.surrey.ac.uk/ai/PROFILE/prospector.html</a> <br>  - <a href="http://aitopics.org/sites/default/files/classic/Machine_Intelligence_10/MI10-Ch15-Gaschnig.pdf">aitopics.org/sites/default/files/classic/Machine_Intelligence_10/MI10-Ch15-Gaschnig.pdf</a> <br><br>  <b>UPD:</b> Fixed: <br>  - logical connections, weight calculation (C) <br>  - example (corrected incorrect calculations) </div><p>Source: <a href="https://habr.com/ru/post/247221/">https://habr.com/ru/post/247221/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../247207/index.html">Disadvantages when working with translations in Qt and ways to deal with them</a></li>
<li><a href="../247209/index.html">New parameter to describe distribution & x.do = in magnet link for FlylinkDC ++. Factors of the choice by the user of a file-sharing network</a></li>
<li><a href="../247211/index.html">Express Specialist</a></li>
<li><a href="../247213/index.html">How lazy calculations work</a></li>
<li><a href="../247219/index.html">Pillow 2.7 - Significant improvement in quality and performance</a></li>
<li><a href="../247223/index.html">Apple - environmental responsibility</a></li>
<li><a href="../247225/index.html">Physical and functional objects (continued)</a></li>
<li><a href="../247227/index.html">10 new year questions for the startup creator</a></li>
<li><a href="../247229/index.html">JavaScript Trends for 2015</a></li>
<li><a href="../247235/index.html">Interpolation: draw smooth graphs using Bezier curves</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>