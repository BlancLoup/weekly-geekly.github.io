<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Failover cluster of Windows Server in Microsoft Azure. Data store</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="As a preface. I have already published a translation of an article with Technet, which very often had to be given to my friends. I liked being able to...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Failover cluster of Windows Server in Microsoft Azure. Data store</h1><div class="post__text post__text-html js-mediator-article">  <i>As a preface.</i>  <i>I have already <a href="https://habrahabr.ru/company/icl_services/blog/281410/">published a</a> translation of an article with Technet, which very often had to be given to my friends.</i>  <i>I liked being able to give a link to the Russian version of the material, and I will continue, as far as possible, to translate articles from my selection of favorites.</i>  <i>Today‚Äôs material is a translation by Mario Lew‚Äôs <a href="https://blogs.technet.microsoft.com/askcore/2015/06/24/windows-server-failover-cluster-on-azure-iaas-vm-part-1-storage/">article</a> on how to organize data storage for a Windows Server failover cluster in the Microsoft Azure cloud.</i> <br><br>  Hi, fans of clusters.  My name is Mario Lew and I am a Microsoft technical support officer from a team specializing in high availability solutions.  I have good news for you - since April 2015, Microsoft has officially announced support for Windows Server failover clusters for IaaS virtual machines in Azure.  Here is a link to this announcement: <br><br>  <b>Microsoft server software support for Microsoft Azure virtual machines</b> <br>  <a href="https://support.microsoft.com/en-us/kb/2721672">https://support.microsoft.com/en-us/kb/2721672</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      It also refers to the failover clustering feature.  The information on this link is subject to change as new improvements are introduced for Windows clusters in Azure.  Please check if there is any updated information when preparing for the deployment of new solutions. <br><br>  Generally speaking, the very function of failover clustering inside a virtual machine in the cloud does not change - this is the same standard OS function.  All the difficulties associated with the infrastructure on which this machine is deployed - with the network and data storage.  This article focuses on data warehouses. <br><br><a name="habracut"></a><br><br>  Today we will discuss the differences in the process of deploying a fault-tolerant cluster in your local environment and in the Microsoft Azure public cloud.  First, the virtual machine in Azure must be Windows Server 2008 R2, Windows Server 2012, or Windows Server 2012 R2.  Please note that update <a href="https://support.microsoft.com/en-us/kb/2854082">2854082</a> must be installed on Windows Server 2008 R2 and 2012. <br><br>  The main problem with creating failover clusters in Azure is that Azure does not provide the ability to use shared data storage for several virtual machines, unlike your local environment, where you can do this using SAN, SAS or iSCSI.  This limits the possibility of using Windows clusters in Azure and leaves the SQL Server AlwaysOn availability groups as the main scenario, since in this case, data replication between virtual machines at the level of the SQL DBMS itself is used instead of shared data storage. <br><br>  At the moment, we have several options for how to partially circumvent the use of shared storage in Azure, thus expanding the list of available scenarios for using clusters. <br><br><h2>  Option 1: Application-level data replication </h2><br><br>  Azure clustering can be successfully used for applications that can replicate data at their own level.  Actually, it is this option that SQL Server AlwaysOn availability groups use. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/bdc/0d7/069/bdc0d7069af04ea69cd6b22978e1625e.png" alt="image"></div><br><br><h2>  Option 2: Replicate data volumes with software </h2><br><br>  Data replication between individual disks can be performed not by the clustered application itself, but by some third-party software.  One of the main variants of such software is SIOS DataKeeper Cluster Edition.  This is not the only software of this kind, I just give it as an example. <br><br>  <b>DataKeeper Cluster Edition: Real-Time Replication of Windows Server Environments</b> <br>  <a href="http://us.sios.com/products/datakeeper-cluster/">http://us.sios.com/products/datakeeper-cluster/</a> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/f15/de9/d94/f15de9d94c1d4deab717ebd49a54214f.png" alt="image"></div><br><br><h2>  Option 3: Use ExpressRoute for Remote iSCSI Target </h2><br><br>  ExpressRoute is one of the exclusive features available in Azure.  It allows you to create a dedicated data channel between Azure data centers and your local infrastructure.  Using this function provides you with high quality of communication, ensuring the availability of disks connected through this channel via iSCSI. <br><br>  One of the products implementing this option is NetApp Private Storage (NPS). <br><br>  Availability on Demand - ASR with NetApp Private Storage <br>  <a href="http://channel9.msdn.com/Blogs/Windows-Azure/Availability-on-Demand-ASR-with-NetApp-Private-Storage">http://channel9.msdn.com/Blogs/Windows-Azure/Availability-on-Demand-ASR-with-NetApp-Private-Storage</a> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/8d2/d9e/714/8d2d9e714be24a77957f936ce0b14060.png" alt="image"></div><br><br>  More information about ExpressRoute can be found in the official description of this feature. <br><br>  <b>Expressroute</b> <br>  <a href="http://azure.microsoft.com/en-us/services/expressroute/">http://azure.microsoft.com/en-us/services/expressroute/</a> <br><br>  As new options become available for the implementation of a shared data warehouse, new scenarios will emerge for using Windows failover clusters.  We will update this article as new information becomes available.  When you create a ‚Äúshared data warehouse‚Äù, you can assume that the foundation for the cluster is ready. <br><br>  In my <a href="https://blogs.technet.microsoft.com/askcore/%3Fm%3D20156">next article,</a> I‚Äôll talk about networking features that you should pay attention to the very process of creating a cluster in Azure. <br><br>  Mario liu <br>  Support Escalation Engineer <br>  CSS Americas |  WINDOWS |  HIGH AVAILABILITY <br><br>  <i>Continuation is available <a href="https://habrahabr.ru/company/icl_services/blog/302344/">here</a> .</i> </div><p>Source: <a href="https://habr.com/ru/post/282822/">https://habr.com/ru/post/282822/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../282800/index.html">Russian translation of the speech by Alex Ionescu "Crazy attempt to rewrite Windows from scratch"</a></li>
<li><a href="../282806/index.html">01100100 years since the birth of Claude Shannon</a></li>
<li><a href="../282808/index.html">UDP / TCP File System, Trivial Remote File System</a></li>
<li><a href="../282810/index.html">JPoint 2016 Java Conference Overview</a></li>
<li><a href="../282820/index.html">Google, along with Rackspace, is developing a new type of server on the IBM Power architecture for data centers</a></li>
<li><a href="../282824/index.html">QA: Conference. Siberia</a></li>
<li><a href="../282826/index.html">Notes with MBC Symposium: trying to figure out why deep learning works</a></li>
<li><a href="../282828/index.html">HDD is dedicated to: pacify the application, voracious on disk time</a></li>
<li><a href="../282832/index.html">LinkedIn opens mega-data center in Singapore</a></li>
<li><a href="../282836/index.html">The digest of interesting materials from the world of web development and IT for the last week ‚Ññ209 (April 25 - May 1, 2016)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>