<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>What are optimizing compilers for?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Today, almost all compilers that can be found on the market are optimizing. Those. they do not just translate the code written by the programmer into ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>What are optimizing compilers for?</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/storage1/0e9255c6/a1cb99ee/33935d6c/ba523102.jpg" alt="image"></div><br><br>  Today, almost all compilers that can be found on the market are optimizing.  Those.  they do not just translate the code written by the programmer into machine language, but can also improve it in terms of performance or volume. <br><br>  But what exactly can a compiler do to improve the code? 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      First of all, the following three things: <br><ol><li>  compiler can effectively implement programming language tools </li><li>  can maximize the capabilities of the equipment on which the program will be executed </li><li>  and also eliminate some drawbacks of the algorithm implemented by the programmer. </li></ol><a name="habracut"></a><br>  Consider each of these features in more detail. <br><br>  Modern programming languages ‚Äã‚Äãprovide the programmer with powerful tools for expressing an algorithm.  However, if these tools are poorly supported at the compilation level, then the convenience of high-level languages ‚Äã‚Äãcan result in serious performance losses. <br><br>  Consider as an example a call to a virtual function in the C ++ language: <br><pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">virtual</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">func</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span>; } }; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">B</span></span></span><span class="hljs-class"> :</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> A { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">virtual</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">func</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ &lt; &gt;; } }; A* ptr = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> A(); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> value = ptr-&gt;func();</code> </pre> <br><br>  Here we have two classes: A and B. Class A contains the simplest virtual function that always returns a constant (the number ‚Äúfive‚Äù).  Class B inherits class A and in doing so overrides a virtual function, so now it performs some complex calculations. <br><br>  If the virtual functions mechanism is weakly supported in the compiler (Update: in this place it is not meant that some compilers support C ++ language tools more completely than others. This means that some compilers are able to support these tools with much less overhead than Others. See a detailed analysis of the example in the comments to the record), the compiler will not be able to understand which version of the virtual function should be called in the expression int value = ptr-&gt; func ();  However, a good compiler will be able to determine that it is the simplest function that needs to be called (that is, only an instance of class A is addressed via the ‚Äúptr‚Äù pointer).  With that said, the last expression can be optimized as follows: int value = 5; <br><br>  The given example also shows that there is no sense in talking about the absolute effectiveness of a certain programming language.  A specific implementation of this language in the compiler must always be implied.  For example, the question ‚ÄúWhich is faster, C ++ or Java?‚Äù Is not entirely correct.  A poorly implemented C ++ can lose to a good Java implementation, and vice versa a good C ++ compiler can give a huge head start to a bad Java compiler. <br><br>  Thus, we see that the power of modern programming languages ‚Äã‚Äãin the expression of algorithms is justified only when there are effective implementations of these languages ‚Äã‚Äãat the compilation level. <br><br>  Let us now consider the second opportunity that optimizing compilers provide the programmer, namely the ability to maximize the use of hardware resources. <br><br>  Let's address once again to modern programming languages.  Languages ‚Äã‚Äãsuch as C ++, Java, Pascal, and many others allow the programmer to concentrate as much as possible on writing the algorithm.  In many respects this is achieved due to the fact that the language "hides" from the programmer the features of the equipment on which the program will be executed.  The fullest possible use of hardware resources is precisely the task of the optimizing compiler. <br><br>  Note that the problem of efficient allocation of hardware resources is not only a consequence of the use of high-level languages.  Even if a programmer writes in assembler language and at the same time is perfectly familiar with the features of hardware, for which he writes, there are tasks that are very difficult to solve without using automatic tools. <br><br>  As an example, consider the pipelining of cycles that exists in microprocessors of the Intel Itanium family.  Due to pipelining, on the Itanium platform, it is possible to execute several iterations of one cycle in parallel (see figure). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/storage1/d42a8197/aeb737a5/27445cfd/1b5879d8.jpg" alt="Intel Itanium"></div><img src="https://habrastorage.org/storage1/ad913366/adf488fd/9f87ade2/47b1b1ee.gif" alt="Software pipelining"><br><br>  Here at the time t1 the execution of the first iteration of a certain cycle begins.  At time t2, still in the process of executing the first iteration, the execution of the second iteration of the same cycle starts.  And since time t3, three iterations of the same loop are simultaneously executed. <br><br>  Resource planning for such pipelining is a rather complicated ‚Äúmechanical‚Äù task.  Even if a programmer is a dock in programming in assembler, he has no need to spend an incredible amount of his time on a task that the optimizing compiler can do in a split second. <br><br>  We turn, finally, to the third advantage of optimizing compilers.  Such compilers can make "touches" in the algorithms of programmers.  And sometimes quite significant "strokes". <br><br>  Of course, the compiler will not be able to radically change the algorithm (at least, modern compilers are still very far from this), however, it is quite possible for him to remove some non-optimalities.  Sometimes the elimination of such non-optimalities can lead to a program acceleration at times. <br><br>  Consider an example. <br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; n; i++) {  = e * f; a[i] = c * i; }</code> </pre><br><br>  In this C-code fragment, at each iteration of the loop, the variable ‚Äúc‚Äù is calculated.  In this case, neither the variable ‚Äúe‚Äù nor the variable ‚Äúf‚Äù in the cycle are changed.  Therefore, there is no need to calculate the variable ‚Äúc‚Äù in the loop.  It is enough to calculate it once outside the loop: <br><pre> <code class="cpp hljs"> = e * f; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; n; i++) { a[i] = c * i; }</code> </pre><br><br>  This cycle option will work much faster than the previous one. <br><br>  The transformation shown above will be able to perform even the simplest optimizing compiler.  However, there are examples of much more complex transformations available only to the best members of the compiler family. <br><br>  The examples given in the text show that optimizing compilers are designed to perform for the programmer that part of the work, the implementation of which would be irrational to involve expensive human resources.  At the same time, the more reliable and ‚Äúsmart‚Äù the compiler, the more benefit you can get from the work of the programmer. </div><p>Source: <a href="https://habr.com/ru/post/134171/">https://habr.com/ru/post/134171/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../134165/index.html">Distributive for assessing the decentralized file system Tahoe-LAFS</a></li>
<li><a href="../134167/index.html">Automatic parsing of letters coming to tech support</a></li>
<li><a href="../134168/index.html">Public election control using cloud IT</a></li>
<li><a href="../134169/index.html">Changing the type of data output in LogCat</a></li>
<li><a href="../134170/index.html">ABBYY FineFoto: a fan from the camera</a></li>
<li><a href="../134172/index.html">In the footsteps of myth destroyers or Why Android slows down, and% is not a mobile OS%?</a></li>
<li><a href="../134174/index.html">Processing the archive of video records in the LiveVideoArc virtual machine</a></li>
<li><a href="../134175/index.html">Cycling with turn signals</a></li>
<li><a href="../134176/index.html">The SETI program resumes operation with the detection of exoplanets Kepler-22b</a></li>
<li><a href="../134178/index.html">CD-ROM printer</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>