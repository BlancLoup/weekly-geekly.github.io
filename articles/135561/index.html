<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Brainfuck on tape with unlimited bit cells</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Take a machine whose command system is exactly the same as in the language of brainfuck, but which runs on a tape, in the cells of which you can put a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Brainfuck on tape with unlimited bit cells</h1><div class="post__text post__text-html js-mediator-article">  Take a machine whose command system is exactly the same as in the language of brainfuck, but which runs on a tape, in the cells of which you can put any integers.  Overflow in arithmetic operations does not occur, the "+" command applied to a positive number will always give a positive result, etc.  The question is: is it possible to work on such a machine, what problems will arise and how to get around them? <br><br>  The advantages are obvious: since there are no overflows, then there is no need for long arithmetic, you can work equally with arrays of any length, etc.  But rather quickly, we notice that our favorite way of cleaning the cell ("[-]") does not work: if the cell had a negative value, then the program loops.  Similarly, we cannot freely use the copy command "[-&gt; + &lt;]" - it also works only for non-negative numbers. <br><br>  It turns out that when programming, we need to carefully monitor the signs of the contents of the cells (the easiest way is to prevent the appearance of negative numbers in general), and if a number appears whose sign is unknown, work with it in a special way 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Here we will consider two tasks: first, we will program the operator ‚Äúif (a&gt; b) C;  else D; ‚Äùwhere a and b are non-negative, and C and D are some actions, and secondly, we will learn to reset, copy and determine the sign of an arbitrary number. <br><br><a name="habracut"></a><br><br><h2>  Conditional operator. </h2><br>  So, two non-negative numbers a and b are written on the tape (in which cells we choose ourselves).  We need to compare these numbers and perform, depending on the result, one of the actions C or D. All cells used (including those in which a and b were located) should be zeroed out. <br>  Rewrite the operator in this form: <br><pre> h = 1; 
 while (h) {
   if (a == 0) {D;  a = b = 1;  h = 0;  }
   if (b == 0) {C;  a = b = 1;  h = 0;  }
   a--;  b--;
 } 
</pre><br>  If a and b were non-negative, then negative numbers in such a program cannot appear.  To implement the operator if (a == 0) B;  create a block of 4 cells ‚Äúa 0 1 0‚Äù on the ribbon and execute the commands ‚Äú[&gt;] &gt;&gt; [B&gt;]‚Äù.  If at the beginning the carriage was on the first cell of the block, then at the end it will be on its 4th cell in any embodiment. <br><br>  The program will look like this (we assume that the caret and the number ‚Äúa‚Äù are in cell 0, and the number ‚Äúb‚Äù is in cell 4): <br><pre> &gt;&gt; + [
   &lt;&lt; [&gt;] &gt;&gt; [C - &lt;&lt; + &gt;&gt;&gt;&gt; [-] + &lt;]
   &gt; [&lt;] &lt;&lt; [D - &gt;&gt; + &lt;&lt;&lt;&lt; [-] +&gt;]
   &lt;- &gt;&gt;&gt;&gt; - &lt;&lt;]
</pre><br>  The unit h from the ‚Äúa 0 1 0 b‚Äù block is used as the variable h - all the same, after its zeroing, there will be no effective comparisons. <br><br>  You can slightly simplify the program by writing it in the form <br><pre> h = 1; 
 while (a) {
   if (b == 0) {C;  a = b = 1;  h = 0;  }
   a--;  b--;
 }
 if (h) {D;  h = b = 0;  }
</pre><br>  Will turn out <br><pre> &gt;&gt;&gt; + &lt;&lt;&lt;
 [&gt; [&gt;] &gt;&gt; [C - &lt;&lt; + &lt;[-] + &gt;&gt;&gt;&gt;]
   &lt;&lt;&lt; - &lt;-]
 &gt; [-] &gt;&gt; [D-]
</pre><br>  The program operation time is linear from max (a, b). <br><br><h2>  Number with an unknown sign </h2><br>  Let the tape be a number a, about which we do not know whether it is positive or negative.  We need it: (1) to zero, (2) to copy to another cell and (3) to perform the action F in case a&gt; 0.  We will solve all three tasks together. <br><br>  How to solve them?  In the same way as we are looking for a nonzero cell on the tape of the Turing machine, run left and right until we stumble on 0: <br><pre> if (a) {
   x = 1;
   while (x) {
     y = 2 * x;
     while (x) {
       x--;  a ++;  b--;
       if (a == 0) x = y = 0;
     }
     x = 2 * y;
     while (y) {
       y--;  a--;  b ++;
       if (a == 0) {F;  x = y = 0;  }
     }
   }
 }  
</pre><br>  The variable a will be copied to b, and actions F are performed only if the initial value of a was positive.  Translation on bf: <br><pre> [&gt;&gt; + &lt;&lt;&lt;&lt;&lt; +
   [[- &lt;++ &gt;&gt; + &lt;]&gt;
     [-&gt; -&gt; + [&gt;] &gt;&gt;
       [- &lt;&lt;&lt;&lt; [-] &lt;&lt; [-]]
       &lt;&lt;&lt;&lt;&lt;]
     &lt;&lt; [-&gt; ++&gt; + &lt;&lt;] &gt;&gt;
     [-&gt; +&gt; - [&gt;] &gt;&gt;
       [F - &lt;&lt;&lt;&lt; [-] &lt;[-]]
       &lt;&lt;&lt;&lt;&lt;]
     &lt;]]
</pre><br>  The running time is also linear from abs (a).  Here it should be noted that in the blocks if (a == 0) x = y = 0;  the carriage goes far away from its place, and remains there.  But this is not very important, since the cycles at this moment end. <br>  What?  Anything that could be done on an 8-bit BF machine can be done here?  Alas.  There is one task that a machine with infinite bit is too tough.  Namely, cleaning the tape section.  If we are not given a piece that is guaranteed to be filled with zeros, we will not be able to create it.  Although I can not prove it: ( </div><p>Source: <a href="https://habr.com/ru/post/135561/">https://habr.com/ru/post/135561/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../135552/index.html">iMakeCard. The history of the development of the New Year program</a></li>
<li><a href="../135554/index.html">Can i see the code</a></li>
<li><a href="../135557/index.html">Features of the ZyXEL Keenetic router on the second generation NDMS v2.00 firmware</a></li>
<li><a href="../135558/index.html">You calendar 2012</a></li>
<li><a href="../135559/index.html">Rockbox for everyone</a></li>
<li><a href="../135562/index.html">How to get access to other mailboxes on mail.ru</a></li>
<li><a href="../135563/index.html">Some questions on .NET and C #</a></li>
<li><a href="../135564/index.html">Looking through the engine through the exhaust pipe, or how to get the normal keyboard controls in FIFA 12</a></li>
<li><a href="../135565/index.html">ISO 8601 and ECMAScript - a headache from different interpretations of standards</a></li>
<li><a href="../135568/index.html">Fog computing</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>