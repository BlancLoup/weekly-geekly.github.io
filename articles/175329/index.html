<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to find or check e-mail address</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The greatest number of reviews, not to mention the "errors", comes to me on a regular expression e-mail address: 


\b[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[AZ]...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to find or check e-mail address</h1><div class="post__text post__text-html js-mediator-article">  The greatest number of reviews, not to mention the "errors", comes to me on a regular expression e-mail address: <br><pre><code class="bash hljs">\b[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[AZ]{2,4}\b</code> </pre>  I argue that this regular expression defines any e-mail address.  In the feedback usually shows one e-mail address that does not fall under this expression;  Also, in the "error" reports there is a suggestion to create a <i>perfect regexp</i> . <br><br>  As I will explain below, my statement is true when you accept my definition of what is a valid email address and what is not.  If you use a different definition, you will have to correct the expression.  Determining a valid e-mail address is a great example showing that <br><ul><li>  Before writing the expression, you should know exactly what should match and what should not; </li><li>  a trade-off between precision and practicality should be allowed. </li></ul><a name="habracut"></a><br>  The advantage of my regular expression is that it defines 99% of the e-mail addresses used today.  All received addresses can be processed by 99% of mail programs.  If you are looking for a quick solution, then you will only need to read the next paragraph. <br><br>  If you want to use the regular expression written above, you need to understand two things.  First, a large regular expression makes it difficult to beautifully format paragraphs.  Therefore, I do not use " <b>az</b> " in any of the three classes of characters.  To do this, the option of checking the register should be disabled in the settings of your program.  (You will be surprised how many ‚Äúerror‚Äù reports I get about this.) Secondly, the regular expression above is separated by word boundaries, which makes it suitable for extracting e-mail addresses from files or large blocks of text.  If you want to check whether the text entered by the user is a valid e-mail address, replace the word separators with an anchor for the beginning and end of the line, for example: <br><pre> <code class="bash hljs">^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[AZ]{2,4}$</code> </pre><br><h4>  Compromises in the confirmation email address </h4><br>  Yes, there is a whole bunch of email addresses that my regular expression does not find.  The most cited addresses are those that have the top-level domain .museum, which is longer than the 4 characters allowed for it.  I accept this compromise because the number of people using this top-level domain is extremely small.  I have never received complaints that the order forms or news subscriptions on the websites of my company refused to use the address from .museum. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      To enable .museum, you can use the following expression: <br><pre> <code class="bash hljs">^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[AZ]{2,6}$</code> </pre>  But this is another compromise.  This expression will find the address <b>john@mail.office</b> .  It is much more likely that John forgot to include the .com at the end of the address than the fact that he created the top level domain .office without ICANN permission. <br><br>  The example above shows another compromise: do you want a regular expression to check if a top-level domain exists?  My regular expression does not.  Any combination of two to four characters will cover all existing (and planned) top-level domains, with the exception of .museum [and .travel - <i>approx.</i>  <i>per.</i>  ] But it will determine invalid email addresses like <b>asdf@asdf.asdf</b> .  Without being extremely strict with a top-level domain, I don‚Äôt have to update regular expressions whenever a new domain is created. <br><br><pre> <code class="bash hljs">^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.(?:[AZ]{2}|com|org|net|edu|gov|mil|biz|info|mobi|name|aero|asia|<span class="hljs-built_in"><span class="hljs-built_in">jobs</span></span>|museum)$</code> </pre>  This regular expression can be used for any two-letter country codes and only specific generic top-level domains.  Currently this list may be outdated.  I recommend keeping this list as a global constant in your application so that you only have to update it in one place.  You can also list all country codes, although there are already about two hundred. <br><br>  An e-mail address can also be registered on a subdomain, for example <b>john@mail.company.com</b> .  All the regular expressions above will define this address, since I added the " <b>.</b> " Character to the character class following the @.  But they will also define <b>john @ aol ... com</b> , which is incorrect.  You can exclude such cases by replacing " <b>[A-Z0-9 .-] + \.</b> " <b>By</b> " <b>(?: [A-Z0-9 -] + \.) +</b> ".  I removed the dot from the character class and instead repeated this class and dot symbol.  For example, <br><pre> <code class="bash hljs">\b[A-Z0-9._%+-]+@(?:[A-Z0-9-]+\.)+[AZ]{2,4}\b</code> </pre>  will specify <b>john@server.department.company.com</b> , but not <b>john @ aol ... com</b> . <br><br>  Another compromise is that my regular expressions allow only Latin letters, numbers and some special characters.  The main reason for this is that I‚Äôm not quite sure that my email software could handle the rest of the characters.  Even if <b>John.O'Hara@theoharas.com</b> is a syntactically correct e-mail address, there is a danger that some mail programs will regard the apostrophe as a separator of citations.  For example, blindly inserting this address into SQL will fail if the lines are separated by single quotes.  And, of course, for many years, domains may contain non-Latin characters.  Most programs and even domain registrars, however, still adhere to the 37 characters they are used to. <br><br>  The conclusion is: to decide which regular expression to use, no matter if you are going to find an e-mail address or anything else exactly defined, you must start by taking into account all the trade-offs.  How bad is it that what is found does not correspond to the real?  How bad is it that something real is not?  How complicated can your regular expression be?  At what price would it cost you to change this expression afterwards?  Different answers to these questions require different regular expressions as a solution.  My regular expressions do what I want, but they may not do what you want. <br><br><h4>  Regular expressions do not send e-mail </h4><br>  Do not overdo your attempts to eliminate invalid email addresses in your regular expression.  If you need to enable .museum, it is often better to resolve all six-character top-level domains than to list all current domains.  The reason is that you don‚Äôt really know if the given e-mail address is valid until you try to send an email to it.  And even this may not be enough.  Even if the letter arrives in the mailbox, it does not mean that someone will read it. <br><br>  The same principle applies in many situations.  When trying to find a valid date, it is often easier to add a bit of arithmetic to determine leap years than to try to do it inside a regular expression.  Use regular expressions to search for potential matches, or check whether the input satisfies the required syntax, and perform a valid check for the candidates found by the regular expression.  Regular expressions are a powerful tool, but far from a panacea. <br><br><h4>  Official Standard: RFC 2822 </h4><br>  Maybe you wonder why there is no ‚Äúofficial‚Äù reliable regular expression for finding email addresses?  Well, here is the official definition, but it is hardly reliable. <br><br>  The official standard is known as RFC 2822. It describes the syntax that valid e-mail addresses must adhere to.  You can (but should not) implement it with the following regular expression: <br><pre> <code class="diff hljs">(?:[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])</code> </pre><br>  This regular expression consists of two parts: the part before @, and the part after the @ character.  There are two variants of the part before @: it may consist of a series of letters, numbers and some symbols, including one or several points.  However, dots may not appear sequentially, at the beginning or end of an email address.  Another alternative requires that the part before @ be enclosed in double quotes, allowing any ASCII character string to be between the quotes.  Spaces, double quotes, and backslashes must begin with a backslash. <br><br>  The part after @ also has two alternatives.  This can be either a fully qualified domain name (for example, example.com), or a literal Internet address in square brackets.  The literal Internet address can be an IP address or a domain-specific routing address. <br><br>  The reason why you should not use this regular expression is that it only checks the basic syntax of the email address.  <b>john@aol.com.nospam</b> will be considered a valid email address in accordance with RFC 2822. Obviously, this email address will not work, since there is no top-level .nospam domain.  It also does not guarantee that your email program can handle this.  Not all applications support syntax using double quotes or square brackets.  In fact, RFC 2822 itself notes the use of square brackets as obsolete. <br><br>  We will get a more practical implementation of RFC 2822 if we omit parts that use double quotes and square brackets.  It still corresponds to 99.99% of all email addresses that are in actual use. <br><pre> <code class="diff hljs">[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?</code> </pre><br>  A further change you could make is to allow any two-letter country codes of top-level domains, and only specific generic top-level domains.  This regular expression filters bogus e-mail addresses such as <b>asdf@adsf.adsf</b> .  You will need to update it as you add new top-level domains. <br><pre> <code class="diff hljs">[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+(?:[AZ]{2}|com|org|net|edu|gov|mil|biz|info|mobi|name|aero|asia|jobs|museum)\b</code> </pre><br>  So even after following the official standards, the compromises still remain.  Do not blindly copy regular expressions from online libraries or forums.  Always check them with your own data and with your own applications. </div><p>Source: <a href="https://habr.com/ru/post/175329/">https://habr.com/ru/post/175329/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../175317/index.html">Implementing a pool of objects in C #</a></li>
<li><a href="../175319/index.html">Download management for dedicated servers</a></li>
<li><a href="../175321/index.html">CLI on python. We let the user to the server</a></li>
<li><a href="../175323/index.html">Tools and code examples for ARIA development</a></li>
<li><a href="../175327/index.html">How to quickly find bugs that interfere with the release</a></li>
<li><a href="../175333/index.html">Premium Developer Program for Asha - Nokia Limited Bounty Ride</a></li>
<li><a href="../175335/index.html">IntelliJ IDEA 12.1 with JavaFX 2 support</a></li>
<li><a href="../175339/index.html">box-, cocos- and pizza- 2d</a></li>
<li><a href="../175341/index.html">High performance javascript parallax</a></li>
<li><a href="../175345/index.html">Synesis and RTI start cooperation in the framework of the project "Safe City"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>