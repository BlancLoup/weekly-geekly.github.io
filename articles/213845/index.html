<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>GSM on the table</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Web development: HTTP, HTML, CSS, JavaScript, Python ... Oh. Everything is the same. So you want to be distracted by something radically different. I ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>GSM on the table</h1><div class="post__text post__text-html js-mediator-article">  Web development: HTTP, HTML, CSS, JavaScript, Python ... Oh.  Everything is the same.  So you want to be distracted by something radically different.  I inhabit the <a href="http://neuronspace.ru/">Neuron</a> hackspace in Moscow!  Why not ask around? <br><br>  For example, in Neyron sit guys from the company <a href="http://www.fairwaves.ru/">Fairwaves</a> , developing GSM-equipment for low-cost cellular networks.  The entire stack - from hardware to software - is available under an open source license.  Yes, yes, including <a href="http://umtrx.org/">iron</a> .  Therefore, it is not at all necessary to work in Fairwaves to get acquainted with this technology.  And the result of the digging can be put on GitHub or make a contribution to an <a href="http://osmocom.org/">existing</a> <a href="http://umtrx.org/">project</a> .  At the very least, there will be something to brag about at the interviews. <br><br>  A couple of days of reading the documentation, scrolling through the code, dozens of obsessive questions and experiments (thanks to Alexander Chemeris and Ivan Klyuchnikov for help).  And here is the result - a private GSM network under the control of my MacBook: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/3e3/6df/1c6/3e36df1c667337615c05f62a74e67825.jpg" alt="Habrafon"><br><a name="habracut"></a><br>  To test the network, came the hackspace guests: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/59d/0ba/a42/59d0baa42555b4e57c5441d057588bfe.jpg" alt="The robot receives SMS 'Hi, Habra!'"><br><br>  What are they talking about? <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4a7/613/4a4/4a76134a4c9c6ec9f73ceb6a49735b3f.jpg" alt="Robots talking at the laptop"><br><br>  How it works?  Like this: <br><br><pre>  + ---------------------------------------- +
  |  MacBook |
  |  |
  |  + ------------------------------- + |
  |  |  VirtualBox Virtualka |  |
  |  |  |  |
  |  |  + ---------------------- + |  |  |
  |  |  |  Docker container |  |  |  \ |  / |
  |  |  |  (Ubuntu 12.04) |  |  |  \ |  / |
  |  |  |  |  |  |  \ |  / |
  |  |  |  + ------------- + |  |  |  + ---- + ---- + + ------- +
  |  |  |  |  OpenBSC |  |  |  |  |  |  |  |
  |  |  |  |  (osmo-nitb) | &lt;------------------------- + basic |  |  GSM |
  |  |  |  |  |  |  |  |  |  station |  |  TV |
  |  |  |  + ------------- + |  |  |  |  |  |  background |
  |  |  |  |  |  |  |  |  |  |
  |  |  + ---------------------- + |  |  + --------- + + ------- +
  |  |  |  |
  |  + ------------------------------- + |
  |  |
  + ---------------------------------------- +
</pre><br>  VirtualBox runs on a computer with Ubuntu, which runs a <a href="https://docker.io/">Docker</a> container with Ubuntu 12.04 and an open source base station controller <a href="http://openbsc.osmocom.org/">OpenBSC</a> (Base Station Controller, BSC).  In my case, OpenBSC works in the <a href="http://openbsc.osmocom.org/trac/wiki/osmo-nitb">network-in-the box</a> mode and includes not only the BSC, but also a simple implementation of all the other components needed for a small GSM network ( <a href="https://ru.wikipedia.org/wiki/GSM_core_network">MSC, HLR, VLR, AuC</a> and <a href="https://ru.wikipedia.org/wiki/SMS-%25D1%2586%25D0%25B5%25D0%25BD%25D1%2582%25D1%2580">SMSC</a> ). <br><br>  The base station of Fairwaves UmSITE is connected to the controller via the local network, where <a href="http://openbsc.osmocom.org/trac/wiki/OsmoBTS">OsmoBTS runs</a> - an open source implementation of a GSM base station (Base Transceiver Station, BTS): <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bf8/51c/304/bf851c304a7c1572660f4de8693f0c67.jpg" alt="UmSITE photo"><br><br>  To start a GSM network, one (!) Command is enough: <br><br><pre>  docker run -v $ HOME / db: / var / db -i -t -p 3002: 3002 -p 3003: 3003 -p 30000: 30000 / udp -p 30001: 30001 / udp -p 30002: 30002 / udp -p 30003: 30003 / udp -p 30004: 30004 / udp -p 30005: 30005 / udp -p 30006: 30006 / udp -p 30007: 30007 / udp shamrin / osmonitb start-nitb -i 10.0.0.10 -n HabraFon GSM1800 10 20
</pre><br>  (No Docker? <a href="https://docker.io/">Install</a> it. You do not have Ubuntu and Docker is not installed? Then see below.) <br><br>  <code>10.0.0.10</code> should be replaced with the Docker network address of the host (ifconfig).  A <code>10</code> and <code>20</code> on used channel numbers, <a href="https://en.wikipedia.org/wiki/Absolute_radio-frequency_channel_number">ARFCN</a> .  What channels indicate, you ask?  It's a difficult question.  On GSM frequencies you can not emit anything without a license, regardless of power.  A mere mortal license is impossible to obtain.  The following options remain: <br><br><ol><li>  Test in <a href="https://ru.wikipedia.org/wiki/%25D0%259A%25D0%25BB%25D0%25B5%25D1%2582%25D0%25BA%25D0%25B0_%25D0%25A4%25D0%25B0%25D1%2580%25D0%25B0%25D0%25B4%25D0%25B5%25D1%258F">a Faraday cage</a> .  If there is no Faraday cage of suitable size, imitate it in a deaf basement, where the cellular network does not catch and where there is no risk to interfere with cellular operators (and they will not interfere with you).  In this case, the entire radio frequency spectrum is at your disposal and you can specify any pair of numbers in the range from 512 to 885 with a difference of no less than 2-3 channels (preferably 10 channels).  For example, 600 and 700. </li><li>  Under the supervision of a qualified specialist, find a couple of unused channels and indicate these channels at launch.  For example, using a phone that can scan the air, such as Sagem OT.  Once again, under the supervision of a qualified specialist! </li></ol><br>  For information on other container options and <code>start-nitb</code> see <a href="https://github.com/shamrin/osmonitb-docker">my repository</a> . <br><br>  <strong>And if I do not have Ubuntu?</strong> <br><br>  If you do not have Ubuntu 12.04+, install <a href="http://www.vagrantup.com/">Vagrant</a> and <a href="https://www.virtualbox.org/">VirtualBox</a> and launch the Ubuntu + Docker virtual machine using these commands: <br><br><pre>  git clone https://github.com/shamrin/osmonitb-docker
 cd osmonitb-docker
 vagrant up
 vagrant ssh
</pre><br>  <strong>Why docker?</strong> <br><br>  Yes, it is not necessary to use a docker.  You can <a href="http://openbsc.osmocom.org/trac/wiki/network_from_scratch">set</a> everything <a href="http://openbsc.osmocom.org/trac/wiki/network_from_scratch">up</a> and <a href="http://umtrx.org/applications/osmocom/">adjust</a> with your hands.  But, first, I wanted to experiment with Docker.  Secondly, with it you can securely wrap, and then repeat the configuration of the whole machine (debian-packages, manually installed programs, configuration files).  Thirdly, the list of dozens of commands and manipulations is replaced with one - <code>docker run ‚Ä¶</code> <br><br>  <strong>Why not openbts?</strong> <br><br>  In addition to the described projects Osmocom (OpenBSC, OsmoBTS, <a href="http://openbsc.osmocom.org/trac/wiki/OsmoTRX">OsmoTRX</a> ) there is another open source implementation of GSM protocols - <a href="http://openbts.org/">OpenBTS</a> .  The age of both projects is about the same, but OpenBTS is better known on the Internet due to a bit more friendliness to beginners.  If you do not delve into the technical differences, then in real conditions Osmocom <a href="https://fairwaves.ru/wp/telecom-revolution-starts-in-yaviche-mexico/">works better</a> : <br><blockquote>  We started using software for real life deployments than OpenBTS.  More and more flexible. <br></blockquote><br>  <strong>Where to get the equipment?</strong> <br><br>  The easiest option for Moscow residents is to use the equipment in the <a href="http://neuronspace.ru/">Neuron hackspace</a> :) <br><br>  If you do not live in Moscow or just want to have the equipment to play with GSM at home, there are two relatively inexpensive alternatives for laboratory use: <br><br><ul><li>  Ettus Research <a href="https://www.ettus.com/product/category/USRP-Bus-Series">USRP</a> different versions </li><li>  Fairwaves <a href="http://shop.fairwaves.ru/accessories-and-diy/UmTRX-transceiver-for-OpenBTS-and-Osmocom-OpenBSC">UmTRX</a> <br></li></ul><br>  In terms of capabilities, they are approximately close, but UmTRX has advantages: <br><br><ul><li>  All circuit boards and software source codes are available under the open source license. </li><li>  cheaper than a similar configuration on USRP </li><li>  the board can work with two independent channels, while the USRP have only one channel </li><li>  GPS for fine tuning of the reference frequency generator is already built in, and not purchased separately, as in USRP (a floating frequency generator leads to <a href="https://wush.net/trac/rangepublic/wiki/Clocks">unexpected problems</a> in GSM) </li><li>  support of the Russian manufacturer (and no need to pay customs) </li></ul><br>  If you want to save a little and are not afraid of problems with the reference generator, you can use the USRP B200.  It has only one channel, but for home experiments it doesn‚Äôt matter.  The reference generator of the USRP B200 does not correspond in accuracy to the GSM standard, but in most cases it is enough for simple work ‚Äúon the table‚Äù.  With USRP B200, you may have problems with <a href="https://ru.wikipedia.org/wiki/%25D0%25A5%25D1%258D%25D0%25BD%25D0%25B4%25D0%25BE%25D0%25B2%25D0%25B5%25D1%2580">handover</a> from one base station to another, but you don‚Äôt plan to build a valuable network on your knee, right? <br><br>  But I can be biased, check for yourself. <br><br>  <strong>Thanks to</strong> Andrei Bakhmat, Ivan Klyuchnikov, Pavel Trukhanov, Alexander Chemeris and other participants of the Hackspace for comments on the drafts of this text. </div><p>Source: <a href="https://habr.com/ru/post/213845/">https://habr.com/ru/post/213845/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../213825/index.html">Exchange software: the history of the creation of the trading terminal</a></li>
<li><a href="../213827/index.html">JPS (Jelastic Packaging Standard) to install complex applications in one click</a></li>
<li><a href="../213831/index.html">Google has released a map of the world's forests: Global Forest Watch</a></li>
<li><a href="../213837/index.html">Yota Devices introduced the second generation smartphone with two screens YotaPhone</a></li>
<li><a href="../213841/index.html">Teaching children to type programming vimtutor</a></li>
<li><a href="../213847/index.html">Knockout-popover: A Simple Binding of Twitter Bootstrap Popover for KnockoutJS</a></li>
<li><a href="../213849/index.html">ElasticSearch 1.0 - new analytics features</a></li>
<li><a href="../213851/index.html">Stephen Elop to head Microsoft gaming division</a></li>
<li><a href="../213859/index.html">Management tools: A set of furniture keys or how to come up with constructive arguments</a></li>
<li><a href="../213861/index.html">Review of the first tablet Nokia Lumia 2520</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>