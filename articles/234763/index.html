<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Star Wars Musical Doorbell on Arduino</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello everyone, not so long ago I told, and showed on the video, how to flash Attiny13 with the help of Arduino , and now I will show a practical appl...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Star Wars Musical Doorbell on Arduino</h1><div class="post__text post__text-html js-mediator-article">  Hello everyone, not so long ago I told, and showed on the video, how to <a href="http://habrahabr.ru/post/234477/">flash Attiny13 with the help of Arduino</a> , and now I will show a practical application of this. <br><br>  I have to say right away, fuses, firmware in the form of a hex-file, C code, a sketch for the Arduino IDE, files for Proteus 7 can be downloaded at the end of the article. <br><br>  Well, that really pull, show you how it works: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/09KvGveZoQU%3Ffeature%3Doembed&amp;xid=17259,15700019,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhhiAmw9nHP7oNMPgdkV_pGzy9jLOQ" frameborder="0" allowfullscreen=""></iframe><br><br>  I have long wanted such a musical doorbell, so that when you press the button, you play the Empire march (Imperial March or Darth Vader's Theme) from <a href="http://ru.wikipedia.org/wiki/%25D0%2597%25D0%25B2%25D1%2591%25D0%25B7%25D0%25B4%25D0%25BD%25D1%258B%25D0%25B5_%25D0%25B2%25D0%25BE%25D0%25B9%25D0%25BD%25D1%258B">Star Wars</a> , I really like this tune. <br><a name="habracut"></a><br><br>  As the name of the video above shows, the main component of the device is the <a href="http://www.atmel.com/Images/doc8126.pdf">Attiny13</a> microcontroller, its application made it possible to make the dimensions of the board several times smaller than the matchboxes: <br><br><div class="spoiler">  <b class="spoiler_title">Board dimensions</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/c48/77c/534/c4877c5346774a06919c150aae920d55.JPG"><br><br>  And now everything is connected: <br><br><img src="https://habrastorage.org/files/2ce/5b2/b26/2ce5b2b2682e47eeb23ab567f40ff3a8.JPG"><br></div></div><br><br>  The power range is from about 2 V to 6 V, that is, from two to four AA batteries, although ideally a voltage of 3-4 V would be provided, that is, a lithium-ion battery from a mobile phone or a 18650 battery is ideal for this purpose. although it is desirable that it be protected, since I have not yet implemented any protection against a deep discharge. <br><br>  Well, I will say a few words on circuitry: <br><br>  The scheme looks like this (Proteus files are attached at the end of the article, you can not even collect anything on the breadboard): <br><br><div class="spoiler">  <b class="spoiler_title">Drawn in Proteus</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/ce6/e61/26b/ce6e6126b01b49deb14dca57d09367c4.PNG" alt="image"><br></div></div><br><br>  Since the microcontroller cannot independently draw out enough loudness so that the bell can be heard throughout the house, I added the NPN transistor <a href="http://www.fairchildsemi.com/ds/2N/2N3904.pdf">2N3904</a> , a pretty common transistor, in principle any transistor can pull the speaker, in my case the transistor is 100 mA. <br>  When using 3 AA batteries, the transistor warmed a little, when using two, the volume remained at a decent level, but the transistor was already slightly warm. <br>  Resistor R2 - standard piping for a microcontroller, serves as protection against accidental reloads of the microcontroller, in principle it should work without it, resistor R1 serves to limit the current at the base of the transistor. <br>  The photo also shows a protective diode, it protects from carelessness, namely from polarity reversal, in my case, polarity reversal will very quickly disable the microcontroller, and both pyrotechnic and sound effects are quite possible.  By the way, on the diagram below, I forgot to specify it, any diode that is designed for voltages from 10 V and current from 200 mA is suitable, put in series on the board's input, or by minus or plus, I have minus. <br>  The speaker from the old Dial up modem Zyxel, by the way, there is one well-known joke about Dial up modems from this company: <br><br><div class="spoiler">  <b class="spoiler_title">Joke</b> <div class="spoiler_text">  Two hackers sit, and a cat enters the room.  One hacker asks: <br>  - Your cat? <br>  - Yes, my.  Zuhel name is! <br>  - Why Zuhel? <br>  - Here look.  He takes a broom, pokes them at the cat and says: ‚ÄúZuhel, connect !!!‚Äù Cat: <br>  - Pshshshshshshshshshshshshshshshsh! <br><br></div></div><br><br>  The code, I‚Äôll say right away, <a href="https://www.google.com.ua/search%3Fq%3Dattiny13%2Bimperial%2Bmarch%26oq%3Dattiny13%2Bimperial%2Bmarch%26aqs%3Dchrome..69i57%26sourceid%3Dchrome%26es_sm%3D93%26ie%3DUTF-8">google it</a> , or <a href="https://www.google.com.ua/search%3Fq%3Dattiny13%2Bimperial%2Bmarch%26oq%3Dattiny13%2Bimperial%2Bmarch%26aqs%3Dchrome..69i57%26sourceid%3Dchrome%26es_sm%3D93%26ie%3DUTF-8">rather I</a> found it on the YouTube space, here‚Äôs the actual video itself: <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/5R7NeQkVS_8%3Ffeature%3Doembed&amp;xid=17259,15700019,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhgwyB60ZFTzYI9lQ378VXFkz5zKig" frameborder="0" allowfullscreen=""></iframe><br><br>  Under the video there is a <a href="http://pastebin.com/8tLsxPcD">link to the code</a> , here it is: <br><br><div class="spoiler">  <b class="spoiler_title">Code from video description</b> <div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;avr/pgmspace.h&gt; // by @tartakynov // programmed for ATtiny13 in Arduino IDE using core13 http://sourceforge.net/projects/ard-core13/ #define PIN_LED 1 #define PIN_BUZZER 0 #define COUNT_NOTES 39 word frequences[COUNT_NOTES] PROGMEM = { 392, 392, 392, 311, 466, 392, 311, 466, 392, 587, 587, 587, 622, 466, 369, 311, 466, 392, 784, 392, 392, 784, 739, 698, 659, 622, 659, 415, 554, 523, 493, 466, 440, 466, 311, 369, 311, 466, 392 }; word durations[COUNT_NOTES] PROGMEM = { 350, 350, 350, 250, 100, 350, 250, 100, 700, 350, 350, 350, 250, 100, 350, 250, 100, 700, 350, 250, 100, 350, 250, 100, 100, 100, 200, 100, 350, 250, 100, 100, 100, 200, 100, 350, 250, 100, 750 }; void setup() { pinMode(PIN_LED, OUTPUT); pinMode(PIN_BUZZER, OUTPUT); } void loop() { for (byte i = 0; i &lt; COUNT_NOTES; i++) { buzz(PIN_BUZZER, pgm_read_word(&amp;(frequences[i])), 2 * pgm_read_word(&amp;(durations[i]))); delay(100); } delay(3000); } void buzz(unsigned char pin, word frequencyInHertz, word timeInMilliseconds) { long delayAmount = (long)(long(1000000) / (long)frequencyInHertz); long loopTime = (long)(((long)timeInMilliseconds * 500) / delayAmount); for (long i = 0; i &lt; loopTime; i++) { digitalWrite(pin, HIGH); delayMicroseconds(delayAmount); digitalWrite(pin, LOW); delayMicroseconds(delayAmount); } }</span></span></span></span></code> </pre> <br>  Sketch in binary code: 946 bytes (out of 1,024 bytes maximum) <br></div></div><br><br>  As you can see, there are two arrays in frequencies ‚Äî in English from frequency and durations ‚Äî duration, all data like word, PROGMEM ‚Äî the data is stored in the microcontroller‚Äôs flash memory (without using the pgmspace.h library, it will not work) buzz () which takes three parameters - the pin on which the frequency will be generated, the second - the frequency in hertz, the third - the duration in milliseconds. <br>  This code should be Arduino compatible and even work on Arduino Uno, Arduino Nano or Arduino Pro Mini and other duins as well. <br><br>  As you could hear on the video, the sound of my video is slightly different from the second video, the fact is that I changed the length of the notes a little and three times by the popular ‚Äúscientific spear‚Äù method, picked up the frequency, since such a small speaker doesn‚Äôt play well with me Those frequencies that were originally, and added a button, what kind of doorbell without a button? <br><br><div class="spoiler">  <b class="spoiler_title">Slightly corrected and commented</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// by @tartakynov: // http://youtu.be/5R7NeQkVS_8 // and me - vk.com/razniepodelki #define F_CPU 1200000L //     #include &lt;avr/pgmspace.h&gt; //   PROGMEM #define PIN_BUZZER 2 // PB2  #define BUTTON 4 // PB4  #define COUNT_NOTES 39 //   word frequences[COUNT_NOTES] PROGMEM = { //    392, 392, 392, 311, 466, 392, 311, 466, 392, 587, 587, 587, 622, 466, 369, 311, 466, 392, 784, 392, 392, 784, 739, 698, 659, 622, 659, 415, 554, 523, 493, 466, 440, 466, 311, 369, 311, 466, 392 }; word durations[COUNT_NOTES] PROGMEM = { //    350, 350, 350, 250, 100, 350, 250, 100, 700, 350, 350, 350, 250, 100, 350, 250, 100, 700, 350, 250, 100, 350, 250, 100, 100, 100, 450, 150, 350, 250, 100, 100, 100, 450, 150, 350, 250, 100, 750 }; //void setup() //{ int main( void ) //   void setup(),    { pinMode(PIN_BUZZER, OUTPUT); //   pinMode(BUTTON, INPUT); //    digitalWrite(BUTTON, HIGH); //    //LOW   //} //void loop() //{ while(1){ //  void loop()( ) if (digitalRead(BUTTON) == LOW) { //    for (byte i = 0; i &lt; COUNT_NOTES; i++) //    { buzz(PIN_BUZZER, pgm_read_word(&amp;(frequences[i])) * 3, 2 * pgm_read_word(&amp;(durations[i]))); //  : // buzz(PIN_BUZZER, pgm_read_word(&amp;(frequences[i])), 2 * pgm_read_word(&amp;(durations[i]))); //      3 //(pgm_read_word(&amp;(frequences[i])) * 3) //       //delay(100); //    } } //delay(3000); //   } //    return 0; // int main( void ) } //  while(1) void buzz(unsigned char pin, word frequencyInHertz, word timeInMilliseconds) //    { //   long delayAmount = (long)(long(1000000) / (long)frequencyInHertz); //  3  long loopTime = (long)(((long)timeInMilliseconds * 500) / delayAmount); // 1 -  for (long i = 0; i &lt; loopTime; i++) // 2 -  { // 3 -  digitalWrite(pin, HIGH); //     delayMicroseconds(delayAmount); digitalWrite(pin, LOW); delayMicroseconds(delayAmount); } }</span></span></code> </pre><br>  Sketch in binary code: 976 bytes (out of 1,024 bytes maximum) <br></div></div><br><br>  As you can see, the additions of triggering when the button was pressed exceeded 1024 bytes and had to insert pieces of C code to fit in attiny13. <br>  Frequency raised by strings buzz (PIN_BUZZER, pgm_read_word (&amp; (frequences [i])) * 3, 2 * pgm_read_word (&amp; (durations [i])));  however, by multiplying the generated frequencies, as you understand by three, this is purely my whim, you can not multiply anything at all. <br><br>  If you are an experienced arduinschik, then I think you will notice in the code that I made a software pull-up of the PULLUP resistor to the PB4 port. <br>  For those who do not know, this is done like this: <br>  We expose the port to the input and feed it a logical unit.  Now the port will have a voltage, approximately equal to the supply voltage, if this port is shorted to ground, it will change its state from a logical unit to a logical zero, and the microcontroller will not suffer, as an internal resistor with a nominal value of 10-100 kŒ© is used. <br>  I did it purely to save the board size, you could just solder a 10 kŒ© resistor to the power supply and the desired port, when you press the button, we ‚Äúpull the port to the ground‚Äù and it will be a logical zero. <br><br>  I add code on pure AVR-C for work AVR'schikov: <br><br><div class="spoiler">  <b class="spoiler_title">Code on AVR-C</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// by @tartakynov: // http://youtu.be/5R7NeQkVS_8 // and me - vk.com/razniepodelki #define F_CPU 1200000UL //     #include &lt;avr/io.h&gt; //    #include &lt;util/delay.h&gt; //      #include &lt;avr/pgmspace.h&gt; //   PROGMEM #define PIN_BUZZER 2 // PB2  #define BUTTON 4 // PB4  #define COUNT_NOTES 39 //   word frequences[COUNT_NOTES] PROGMEM = { //    392, 392, 392, 311, 466, 392, 311, 466, 392, 587, 587, 587, 622, 466, 369, 311, 466, 392, 784, 392, 392, 784, 739, 698, 659, 622, 659, 415, 554, 523, 493, 466, 440, 466, 311, 369, 311, 466, 392 }; word durations[COUNT_NOTES] PROGMEM = { //    350, 350, 350, 250, 100, 350, 250, 100, 700, 350, 350, 350, 250, 100, 350, 250, 100, 700, 350, 250, 100, 350, 250, 100, 100, 100, 450, 150, 350, 250, 100, 100, 100, 450, 150, 350, 250, 100, 750 }; //void setup() //{ int main( void ) //   void setup(),    { DDRB |= (1&lt;&lt;PIN_BUZZER); //   DDRB &amp;= ~(1&lt;&lt;BUTTON); //    PORTB |= (1&lt;&lt;BUTTON); //    //0  () //} //void loop() //{ while(1){ //  void loop()( ) if (!(PINB &amp; (1&lt;&lt;BUTTON))) { //    for (byte i = 0; i &lt; COUNT_NOTES; i++) //    { buzz(pgm_read_word(&amp;(frequences[i])) * 3, 2 * pgm_read_word(&amp;(durations[i]))); //  : // buzz(PIN_BUZZER, pgm_read_word(&amp;(frequences[i])), 2 * pgm_read_word(&amp;(durations[i]))); //      3 //(pgm_read_word(&amp;(frequences[i])) * 3) //       } //_delay_ms(100); //   } //_delay_ms(3000); //   } //    return 0; // int main( void ) } //  while(1) //void buzz(unsigned char pin, word frequencyInHertz, word timeInMilliseconds) void buzz(word frequencyInHertz, word timeInMilliseconds) //    { //   long delayAmount = (long)(long(1000000) / (long)frequencyInHertz); //  3  long loopTime = (long)(((long)timeInMilliseconds * 500) / delayAmount); // 1 -  for (long i = 0; i &lt; loopTime; i++) // 2 -  { // 3 -  //digitalWrite(pin, HIGH); //     PORTB |= (1&lt;&lt;PIN_BUZZER); //       //delayMicroseconds(delayAmount); //     _delay_us(delayAmount); //   //digitalWrite(pin, LOW); PORTB &amp;= ~(1&lt;&lt;PIN_BUZZER); //delayMicroseconds(delayAmount); //     _delay_us(delayAmount); //   } }</span></span></code> </pre><br></div></div><br><br>  It seems like it should compile without problems, but when using this code in the Arduino IDE for some reason, the size of the hex file at least doubles the ‚ÄúSketch size in binary code: 1,986 bytes (out of 1,024 bytes maximum)‚Äù. <br>  How I managed to find out all this because of the use of _delay_us (*);  although the Arduin function delayMicroseconds (*);  essentially doing the same thing, I think this is a shortage of kernel files for tini13, here‚Äôs a thread on the <a href="http://forum.arduino.cc/index.php/topic,89781.0.html">arduino bourgeois forum,</a> from where I got the kernel files, though I didn‚Äôt modify it a bit, I‚Äôve referred to the <a href="http://habrahabr.ru/post/234477/">Attiny13 firmware article with the help of the Arduino</a> . <br>  If someone helps to deal with this bug, I will be only too happy, because theoretically, Arduino IDE should easily swallow the C-shn code. <br><br>  Well, a few words on the firmware - on the first video I ran a tinkle at a frequency of 1.2 MHz, as for me, so 1.2 million operations are enough to play your favorite melody and not much to eat at the same time, by the way, the hex file is compiled just for this frequency. <br>  Here are the fusions from <a href="http://payalo.at.ua/c_fuse/calc.html%3Fpart%3DATtiny13A">the fusion calculator</a> : <br><br><div class="spoiler">  <b class="spoiler_title">Hidden text</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/d00/be3/06a/d00be306af2d4e5593161bf48e1218c9.PNG" alt="image"></div></div><br><br>  Now, anyone who has an AVR programmer will be able to repeat this device. <br><br>  As promised at the beginning of the article <a href="http://vk.com/doc256435878_322479039">here are all the necessary files</a> . <br><br>  <a href="http://geektimes.ru/users/hwman/topics/">All my publications</a> . <br><br>  And finally - "May the force be with you." <br><br>  <b>UPD 01/05/2015</b> <br><br>  Habrouser <a href="http://geektimes.ru/users/sparf/" class="user_link">SparF</a> did what I was lazy to do all this time, namely, to bring energy consumption to mind and make playback when you press the PB1 button. <br>  Now, after playing the melody, the MK does not ‚Äúthresh‚Äù further, waiting for the button to press, but it falls asleep and every time the button is pressed, it wakes up, loses the Imperial march we love and then goes to sleep, consuming almost nothing, enough batteries for a dozen years in this mode of consumption. <br><br><div class="spoiler">  <b class="spoiler_title">The scheme looks like this:</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/3f6/80f/f8d/3f680ff8d11b42869f6906f4d6652b9e.PNG" alt="image"><br><br></div></div><br><br><div class="spoiler">  <b class="spoiler_title">Here is the code:</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/* Attiny13 Star Wars melody */</span></span> <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> F_CPU 1200000UL #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;avr/io.h&gt; #include &lt;avr/pgmspace.h&gt; #include &lt;util/delay.h&gt; #include &lt;avr/interrupt.h&gt; #include &lt;avr/sleep.h&gt; #define COUNT_NOTES 39 //  const uint16_t frequences[COUNT_NOTES] PROGMEM = { 392, 392, 392, 311, 466, 392, 311, 466, 392, 587, 587, 587, 622, 466, 369, 311, 466, 392, 784, 392, 392, 784, 739, 698, 659, 622, 659, 415, 554, 523, 493, 466, 440, 466, 311, 369, 311, 466, 392 }; //  const uint16_t durations[COUNT_NOTES] PROGMEM = { 350, 350, 350, 250, 100, 350, 250, 100, 700, 350, 350, 350, 250, 100, 350, 250, 100, 700, 350, 250, 100, 350, 250, 100, 100, 100, 450, 150, 350, 250, 100, 100, 100, 450, 150, 350, 250, 100, 750 }; int main( void ) { /*    () = PB1 , ..      INT0 -   ,         Power-down    () = PB0, ..      PB0  PB1,       */ DDRB = (1 &lt;&lt; DDB0); // PB0   /* -,       INT0  ,     RESET:      ,       ...        */ PORTB = (1 &lt;&lt; PORTB1); //   PB1 GIMSK = (1 &lt;&lt; INT0); //  INT0 (PB1) set_sleep_mode(SLEEP_MODE_PWR_DOWN); //   Power-down sei(); //  while(1) sleep_mode(); //    } //   static inline void doSound(void) { //    TCCR0A = (1 &lt;&lt; COM0A0) | (1 &lt;&lt; WGM01); //Toggle OC0A (PB0) on Compare Match ; mode = CTC TCCR0B = (1 &lt;&lt; CS01) | (1 &lt;&lt; CS00); //Clock Select = F_CPU/64 //   for (uint8_t i = 0; i &lt; COUNT_NOTES; i++) { //    int16_t freq = pgm_read_word(&amp;(frequences[i])); int16_t dur = pgm_read_word(&amp;(durations[i])); //   1.5  dur *= 3; dur /= 2; //    PB0 OCR0A = (F_CPU / (2UL * 64UL * freq)) - 1; //,    while (dur &gt; 0) { _delay_ms(10); dur -= 10; } } //  TCCR0A = 0; TCCR0B = 0; } //   INT0 ISR(INT0_vect) { doSound(); }</span></span></span></span></code> </pre><br></div></div><br><br>  Code is compiled without problems in the Arduino IDE. <br><br>  <a href="https://vk.com/doc256435878_356325096">Files</a> <br><br>  Checked, it works: <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/xN41PX-3O6g%3Ffeature%3Doembed&amp;xid=17259,15700019,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhi8AqIMcwoMP6eemTN-rvvtb9Ii9A" frameborder="0" allowfullscreen=""></iframe></div><p>Source: <a href="https://habr.com/ru/post/234763/">https://habr.com/ru/post/234763/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../234755/index.html">We launched LTE-Advanced: 100 Mbit / s barrier per subscriber has been overcome</a></li>
<li><a href="../234757/index.html">Gmini accessories reviewer - battery cases and mobile speaker</a></li>
<li><a href="../234759/index.html">Skype announced the termination of support for Android 2.2 and previous versions</a></li>
<li><a href="../23476/index.html">Pangea day</a></li>
<li><a href="../234761/index.html">Uber instructions published on sabotage Lyft service</a></li>
<li><a href="../234765/index.html">Dropbox introduced a single tariff plan: 1TB - $ 9.99 / month, $ 99 / year</a></li>
<li><a href="../234767/index.html">MS14-045 reissued</a></li>
<li><a href="../234769/index.html">Tao programming, part 2</a></li>
<li><a href="../23477/index.html">Debt to the motherland in front of the monitor screen</a></li>
<li><a href="../234771/index.html">Kickstarter: cooler bag received $ 10.6 million, breaking the record of hours Pebble</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>