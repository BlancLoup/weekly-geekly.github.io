<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Mercurial: how to see the forest for the trees?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Mercurial (aka Hg ) is a very nice distributed version control system (distributed VCS). Among the conveniences of DVCS in general and Hg in particula...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Mercurial: how to see the forest for the trees?</h1><div class="post__text post__text-html js-mediator-article"> <a href="http://selenic.com/mercurial/wiki/">Mercurial</a> (aka <em>Hg</em> ) is a very nice distributed version control system (distributed VCS).  Among the conveniences of DVCS in general and Hg in particular, high flexibility can be emphasized.  The repository can be called as you like, copied anywhere, commit to production on arbitrary chains (say, through QA or directly) and so on. <br><br>  Well, more repositories can be nested.  For example, your project consists of several smaller ones or includes third-party products.  Module developers are more comfortable with working not with the whole project, but with its parts.  In these cases, you can combine repositories. <br><br>  If you put two repositories in one another, Mercurial will consider them in isolation.  Commands addressed to the external repository do not apply to the nested.  But how to manage a project if it is fragmented into isolated fragments - such bubbles, one in the other?  Or, in other words, how can we see the forest (project) behind the trees (repositories) and work at its level?  <a href="http://selenic.com/mercurial/wiki/index.cgi/ForestExtension">ForestExtension</a> will save us from the torment - an extension for Mercurial.  This Forest adds several commands that are identical to the base but take into account the repository nesting. <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Let's say we took home a large composite project, we fixed files in all modules and we want to push them back.  The <code>fclone</code> (forest clone) team will copy to us the ‚Äúforest‚Äù of the nested repositories (ie, the project), the <code>fstatus</code> (forest status) command will show the state of the entire ‚Äúforest‚Äù (do we need to commit something?), And <code>fpush</code> (forest push) will push all modified files back, and will do it for the whole ‚Äúforest‚Äù at once, i.e.  we don't have to crawl through directories.  In this case, ‚Äúback‚Äù is the original, public ‚Äúforest‚Äù of the project.  If you also want to push changes from there to some third-party repositories, it‚Äôs enough to repeat the same <code>fpush</code> as part of the project - and that's it. <br><br>  Create two repositories, each with a text file: <br><br> <code>$ mkdir repo-one <br> $ cd repo-one <br> $ hg init <br> $ echo "hello" &gt; hello.txt <br> $ hg ci -m"init one" <br> $ cd ..</code> <br> <br> <code>$ mkdir repo-two <br> $ cd repo-two <br> $ hg init <br> $ echo "hello" &gt; hello.txt <br> $ hg ci -m"init two" <br> $ cd ..</code> <br> <br>  Copy the first repository inside the second: <br><br> <code>$ hg clone repo-one repo-two/one</code> <br> <br>  Do not forget that <em>repo-two / one is</em> not part of <em>repo-two</em> , it is simply embedded there. <br><br>  And now Forest comes onto the scene.  The <code>fclone</code> command <code>fclone</code> similar to the clone command, but, unlike it, does not ignore nested repositories. <br><br> <code>$ hg fclone repo-two wc-two</code> <br> <br>  We just made a local <em>repo-two</em> replica, including <em>repo-two / one</em> ( <em>repo-one</em> replica). <br><br>  Let's make some changes to <em>repo-two / hello.txt</em> and <em>repo-two / one / hello.txt</em> (we will <em>lower</em> listing). <br><br>  Let's commit changes in each of the repositories separately (it is not hard to guess why the ‚Äúforest‚Äù analogue of the <code>commit</code> command does not exist): <br><br> <code>$ cd wc-two/ &amp;&amp; ls <br> one hello.txt <br> $ hg ci -m"edited hello.txt" <br> $ cd one/ <br> $ hg ci -m"edited hello.txt" <br> $ cd ..</code> <br> <br>  Pushing the result back to <em>repo-two</em> : <br><br> <code>$ hg fpush</code> <br> <br>  All, now <em>repo-two</em> contains modified files <em>repo-two / hello.txt</em> and <em>repo-two / one / hello.txt</em> . <br><br>  The next step may be pushing changes further, i.e.  in <em>repo-one</em> : <br><br> <code>$ cd ../repo-two <br> $ hg fpush</code> <br> <br>  Done;  Now changes from <em>repo-two / one</em> have passed to <em>repo-one</em> .  That's all. <br><br>  Instead of <em>repo-two / one there</em> may be a whole set of trees, and <code>fpush</code> process them all. <br><br>  <em>(The original topic is here: <a href="http://neithere.livejournal.com/381205.html">http://neithere.livejournal.com/381205.html</a> )</em> </div><p>Source: <a href="https://habr.com/ru/post/29494/">https://habr.com/ru/post/29494/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../294930/index.html">What is the Internet of Things?</a></li>
<li><a href="../294932/index.html">7.5 startup mistakes. Mistake number 1 - "Give a million" or the magic of round numbers</a></li>
<li><a href="../294934/index.html">Why service for tourists Airbnb bought the developers of the acclaimed breathalyzer Lapka</a></li>
<li><a href="../294936/index.html">Time is money, or Important things every freelancer should know</a></li>
<li><a href="../294938/index.html">Mobile startups fail as in 99th year</a></li>
<li><a href="../294940/index.html">600 thousand users in 3 years: Zapier history</a></li>
<li><a href="../294942/index.html">Ad blocking is legal. Adblock Plus won the case against the international media holding Axel Springer</a></li>
<li><a href="../294944/index.html">Warner and Universal companies failed to get compensation for digital piracy from Vkontakte</a></li>
<li><a href="../294946/index.html">Sir Alex Ferguson. Reflections on the skin of a dead bear</a></li>
<li><a href="../294948/index.html">The most "cash" people. Zuckerberg and Bezos hit the Forbes rating</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>