<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How a hybrid cloud works using VMware vCloud Connector</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hybrid cloud is the ability to quickly expand existing computing power at the expense of cloud provider resources, transfer loads from the local infra...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How a hybrid cloud works using VMware vCloud Connector</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/473/ee3/7b5/473ee37b5c2b412fb7235e0a0d0af145.jpg"><br><br>  <b>Hybrid cloud</b> is the ability to quickly expand existing computing power at the expense of cloud provider resources, transfer loads from the local infrastructure to the cloud, migrate virtual machines to the cloud of the IaaS provider and back.  Today, more and more of our cloud projects are running exactly in the hybrid cloud model. <a name="habracut"></a><br><br><h2>  A few words about VMware vCloud Connector </h2><br>  This tool allows you to combine public clouds (vCloud Director), as well as remote and local infrastructures based on vSphere, with the ability to manage them as a whole.  Using a single user interface, you can connect to several cloud platforms at once, start and stop virtual machines while checking their performance.  And in addition to transferring virtual stations between the clouds, you can transfer virtual containers (vApps), templates (Templates) and perform many other actions typical of hybrid cloud environments. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/a1b/fcf/169/a1bfcf169048404eb5fb5b95567c22da.jpg" alt="    vCloud Connector" title="Examples of different use cases for vCloud Connector"><br><br>  vCloud Connector allows you to combine into a hybrid cloud a combination of different types of bundles of cloud and local infrastructures. <br><br>  For example: <br><ul><li>  A bunch of local vSphere infrastructure with a vCloud Director public / private cloud. </li><li>  A bunch of private and public vCloud Director clouds. </li><li>  A bunch of local vSphere infrastructure with a remote vSphere infrastructure. </li><li>  A bunch of two private vCloud Director clouds. </li></ul><br>  Let us analyze the following scenario of the hybrid cloud using the example of <a href="http://www.it-grad.ru/iaas/gotovye-resheniya/gibridnoe-oblako/">the ‚ÄúIT-GRAD‚Äù cloud</a> . <br><br><h2>  Using vCloud Connector to bundle local infrastructure (vSphere) and IaaS public cloud provider (vCloud Director) </h2><br>  We need to combine our site with the IT-GRAD cloud to expand our existing infrastructure and copy virtual machines.  For convenience, instead of vSphere, we will use the vCenter Server Appliance and virtual ESXi, in which we will create a virtual data center.  This vSphere will act as our local site where the company's virtual machines are located. <br><br><h3>  Components vCloud Connector </h3><br>  We will understand what components of vCloud Connector we have to work with. <br><ul><li>  <b>The vCloud Connector UI</b> (often referred to as the vCloud Connector Client) is a user management interface that integrates into the vSphere Client management environment. </li><li>  <b>vCloud Connector Server</b> is a management server.  Coordinates vCloud Connector activity, controls vCloud Connector Nodes nodes.  As a rule, one vCloud Connector Server is required to connect multiple cloud infrastructures. </li><li>  <b>vCloud Connector Node</b> is a tool by which the redirected data flow from one cloud to another is processed.  Using vCloud Connector Node connects to the final infrastructure.  It is installed on at least two (or more) parties. </li></ul><br>  Now we will schematically display our script. <br><br><img src="https://habrastorage.org/files/032/54b/4eb/03254b4ebe14496db19e708caeb409d1.jpg" alt="  " title="Script Mapping"><br><br>  It turns out that to deploy a hybrid cloud, on the client side, you need to deploy and configure: <br><ul><li>  vCenter Server Appliance, virtual ESXi, </li><li>  vCloud Connector Server, </li><li>  vCloud Connector Node. </li></ul><br><br>  On the side of IT-GRAD, vCloud Connector Node has already been deployed. <br><br>  What the network topology looks like before deploying a hybrid cloud. <br><br><img src="https://habrastorage.org/files/a72/db2/95d/a72db295d1364299b453e63eb87b42d1.jpg" alt=" ,     vCloud Connector" title="Network topology used in the vCloud Connector configuration script"><br><br><h3>  vCenter Server Appliance </h3><br>  vCloud Connector is available as a plugin for vCenter Server.  Therefore, we will use the virtual vCenter Server, which will be available during the installation of the vCenter Server Appliance.  You can also connect to it using the vSphere Client (this will be necessary to manage the hybrid cloud). <br><br><blockquote>  The vCenter Server Appliance is a virtual module that is a ready-made virtual machine with a Linux OS installed that implements all the necessary services similar to VMware vCenter Server. </blockquote><br><br>  In the client infrastructure, deploy the vCenter Server Appliance, vCloud Connector Server, and vCloud Connector Node. <br><br><img src="https://habrastorage.org/files/1e5/717/2a8/1e57172a8bf94f6e906dac42f823706e.jpg" alt="    " title="Deploy and configure the necessary components"><br><br>  Create a new client-side vApp <br><br><img src="https://habrastorage.org/files/563/4b6/504/5634b650444e44eaa0c666ab1d13b8c8.png" alt="  " title="The contents of the virtual container"><br><br>  Next, we will perform the following steps (these actions are discussed in more detail in <a href="http://iaas-blog.it-grad.ru/vcloud-connector-gibridnoe-oblako-na-praktike/">this article</a> ). <br><ul><li>  Connect to vCloud Connector Server Client. </li><li>  Connect to vCloud Connector Node client. </li><li>  We register the vCloud Connector Node in the vSphere client. </li><li>  We register the vCloud Connector Node with the vCloud Connector Server on the client side. </li><li>  We register vCloud Connector Node IT GRAD with vCloud Connector Server on the client side. <br><br><img src="https://habrastorage.org/files/c8c/0ec/513/c8c0ec5131e74a518d84359a0e2f20de.png" alt="vCloud Connector Node   ¬´-¬ª" title="vCloud Connector Node in the ‚ÄúIT-GRAD‚Äù cloud"><br><br>  To connect the two infrastructures and build a hybrid cloud, we will register the already-deployed IT-GRAD vCloud Connector Node on the company's side with the vCloud Connector Server on the client‚Äôs company's side.  This is how the client company‚Äôs vCloud Connector Server console looks after the registration steps have been completed. <br><br><img src="https://habrastorage.org/files/e0e/50e/034/e0e50e0344784dd1b619b1e0881d9fcc.jpg" alt="  vCloud Connector Node   vCloud Connector Server" title="An example of registering vCloud Connector Node in the vCloud Connector Server Console"></li><li>  Next, register the vCloud Connector with the vCenter Server Appliance </li></ul><br><br><h2>  Connecting external cloud to a hybrid cloud </h2><br>  Now, the registered vCloud Connector plugin is available in the vSphere Client management console, in the Administration panel (Administration) in the Solutions and Applications section. <br><br><img src="https://habrastorage.org/files/792/60b/d69/79260bd6962a4c588119ec98120ce06f.jpg" alt="  vSphere Client    vCloud Connector" title="VSphere Client Administration Console and available vCloud Connector Plugin"><br><br>  Click on the vCloud Connector icon, after which the cloud infrastructure control panel opens.  Using the ‚Äú+‚Äù button, you can connect the vSphere clouds / infrastructure registered in the vCloud Connector Server. <br><br><img src="https://habrastorage.org/files/d9b/84f/68f/d9b84f68f88c46eba37c50b6a8dfa239.jpg" alt="   " title="Cloud Infrastructure Control Panel"><br><br><img src="https://habrastorage.org/files/400/96d/a1d/40096da1d3de49afbe33047732401b1d.png" alt="   " title="An example of connecting cloud infrastructures"><br><br>  Using the vCloud Connector console, you can get information about any connected cloud / infrastructure. <br><br><img src="https://habrastorage.org/files/2a0/232/727/2a023272763f47ffa5acb9454db58e8f.jpg" alt="    " title="Connected Cloud Infrastructure Information"><br><br>  In vCloud Connector, you can view the contents of the cloud infrastructure, whether it is based on vSphere or vCloud Director.  Moreover, the content is divided into three categories: templates, virtual containers (vApps), virtual machines. <br><br><h2>  Copying virtual machines between clouds, inside a hybrid cloud </h2><br>  Using vCloud Connector, you can copy any type of object from one site to another.  Recall that according to the scenario, the client‚Äôs company needs to expand its local infrastructure into the public cloud of the IT-GRAD provider.  The remote site will be used to store part of the virtual machines.  Let us consider in practice how a single virtual machine is copied.  To do this, from the client‚Äôs company side, go to the ‚Äúvirtual machines‚Äù tab and select the required object.  Before making a copy, the machine must be turned off by pressing the Power Off button.  Next, run the copy wizard. <br><br><img src="https://habrastorage.org/files/9b4/6a8/228/9b46a822856a462d9da2fc3ba120ec90.png" alt="  " title="Start Copy Wizard"><br><br>  In the window for selecting the target site, we indicate the public cloud of the company IT-GRAD, set the name of the template, as well as indicate the directory in which the object will be placed.  Click the "Next" button. <br><br><img src="https://habrastorage.org/files/b1f/c99/d83/b1fc99d835fd4629a6e4ba9748b9ac34.png" alt="     " title="Specifying Required Values ‚Äã‚Äãin the Wizard Window"><br><br>  After we specify the virtual data center <br><br><img src="https://habrastorage.org/files/e5b/b7d/c14/e5bb7dc14ff947a19bf3eb7873aca45e.png" alt="  -  -" title="Choosing a virtual data center company IT GRAD"><br><br>  In the <b>Ready to complete</b> window, when you click the validation button, you can perform a check that allows you to evaluate the ability to copy the selected item.  If a warning message is displayed during validation, pay special attention to this.  Before you start copying, you must fulfill all relevant requirements.  Otherwise, the execution of the procedure itself may end in errors or not be executed at all. <br><br><img src="https://habrastorage.org/files/63d/7ce/3b6/63d7ce3b693b4e4ebdac872aecbcaeeb.png" alt="     " title="Example of successful validation in the wizard window"><br><br>  In the task section you can always track the status of the action taken.  We are interested in the success of the procedure for copying a virtual machine template.  To do this, go to the task and see the status.  As you can see in the figure below, the copying of the object was successful. <br><br><img src="https://habrastorage.org/files/70c/4d5/f85/70c4d5f8585c458fa27f69c78de07dd9.png" alt="      -" title="An example of the result of copying an object to the cloud IT-GRAD"><br><br>  Using the search function you can find the copied object.  Enter the value vm1 in the search string, this is the name of the template being copied. <br><br><img src="https://habrastorage.org/files/38c/877/21b/38c87721b584482a835c6b0390af4eb2.png" alt="   " title="Search result for copied object"><br>  We will use the found virtual machine template for further deployment.  To do this, go to the templates and start copying.  In the wizard window that opens, you must specify the name of the object, and to complete the picture fill in the "Description" field. <br><br>  Next, a virtual data center is selected and the network configuration is determined. <br><br><img src="https://habrastorage.org/files/99b/dc5/d9e/99bdc5d9e0964994b6d2b082ea7a2396.png" alt="     " title="Template deployment fragment using the wizard"><br><br>  In the readiness window, you can view summary information about the deployment object. <br><br><img src="https://habrastorage.org/files/3c0/f12/f3d/3c0f12f3d7ec47b6b01fc340f424802b.png" alt="    " title="Summary information about the deployment object"><br><br>  To determine the success of the deployment of an object based on a template, go to the already familiar taskbar (Tasks).  The status of the deployment task from the template is ‚Äúcompleted‚Äù. <br><br><img src="https://habrastorage.org/files/dde/d58/fa1/dded58fa1e194bfcac3b24209c6d4c5f.png" alt="      -" title="The result of deploying a virtual machine in the cloud IT-GRAD"><br><br>  For greater reliability, we switch to the IT GRAD cloud, go to the virtual machine section and find the newly created object. <br><br><img src="https://habrastorage.org/files/182/9bd/015/1829bd015f414c678d9a41dc3b286bf0.png" alt="      -" title="An example of a deployed virtual machine in the IT-GRAD cloud"><br>  The virtual machine was successfully copied from our local vSphere infrastructure to the public cloud IT-GRAD. <br><br>  In more detail how to create hybrid clouds and work with them, we will tell on pages of the <a href="http://iaas-blog.it-grad.ru/">first blog about corporate IaaS.</a> </div><p>Source: <a href="https://habr.com/ru/post/255821/">https://habr.com/ru/post/255821/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../255809/index.html">Localization of WPF pages</a></li>
<li><a href="../255813/index.html">Factorial Calculation or the Power of the Stream API</a></li>
<li><a href="../255815/index.html">Centralized collection of Windows event logs, without installing an agent, followed by visualization using ELK</a></li>
<li><a href="../255817/index.html">Unlock Open Source 2GIS</a></li>
<li><a href="../255819/index.html">How-to: Rules for the layout of email-letters</a></li>
<li><a href="../255823/index.html">Laboratory penetration testing "Test lab v.7". Challenge thrown</a></li>
<li><a href="../255825/index.html">SQL Language Tutorial (DDL, DML) on the example of MS SQL Server dialect. Part three</a></li>
<li><a href="../255827/index.html">3D MC3 Wizard v1.1 or how I assembled my first 3D printer</a></li>
<li><a href="../255829/index.html">Spring + Hibernate for beginners</a></li>
<li><a href="../255831/index.html">Free VID PID pairs for open source projects</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>