<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Try Xcode Live Rendering</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="As you know, in Xcode 6 and iOS 8 SDK, Apple added the ability to render custom components and edit their properties directly in the standard Interfac...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Try Xcode Live Rendering</h1><div class="post__text post__text-html js-mediator-article">  As you know, in Xcode 6 and iOS 8 SDK, Apple added the ability to render custom components and edit their properties directly in the standard Interface Builder <s>(there should be a causal mention that it was still in Delphi of ancient versions)</s> . <br><br><h1>  The basics </h1><br>  First we need some self-made UIView heir to get Xcode to render it in Interface Builder.  To do this, you need to mark it with the IB_DESIGNABLE attribute (technically, this is a macro in Objective-C, since Apple calls it an attribute, and in Swift it is an attribute, so be it): <br><pre><code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">IB_DESIGNABLE</span></span> @<span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> XXXStaticPriceView : UIView @property (nonatomic, copy) IBInspectable NSNumber *price; @<span class="hljs-keyword"><span class="hljs-keyword">property</span></span> (nonatomic) IBInspectable NSUInteger amount; @<span class="hljs-keyword"><span class="hljs-keyword">property</span></span> (nonatomic) IBInspectable NSNumberFormatterRoundingMode roundingMode; @<span class="hljs-keyword"><span class="hljs-keyword">property</span></span> (nonatomic, getter = isHighlighted) IBInspectable BOOL highlighted; @<span class="hljs-keyword"><span class="hljs-keyword">property</span></span> (nonatomic, copy) IBInspectable UIColor *textColor; @<span class="hljs-keyword"><span class="hljs-keyword">property</span></span> (nonatomic, copy) IBInspectable UIColor *outlineColor; @<span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre> <br>  Now you can create a storyboard (or xib) and place our view there, and Xcode will have to display it successfully (after having assembled the project): <br><img src="https://habrastorage.org/files/705/8c7/a23/7058c7a235b6497381188566fc30f950.png"><br><a name="habracut"></a><br>  Now it would be great to edit the properties of a component, affecting its appearance, directly from IB.  To do this, mark the corresponding properties with the IBInspectable attribute.  Here is the result: <br><img src="https://habrastorage.org/files/5be/d00/a60/5bed00a601364bac838d21d27448bb0b.png"><br><br>  All properties edited in the Assistant Editor are duplicated in Runtime Attributes: <br><a name="img-runtime-attributes"></a><br><img src="https://habrastorage.org/files/b9e/7eb/621/b9e7eb621d3f4c4da0d31c633c9796d3.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Currently supported property types: <br><ul><li>  integer types (except enum) </li><li>  float / double / CGFloat (Float / Double / CGFloat in Swift) </li><li>  NSString (Strnig in Swift) </li><li>  BOOL (Bool in Swift) </li><li>  Cgpoint </li><li>  Cgsize </li><li>  CGRect </li><li>  UIColor </li><li>  Uiimage </li></ul><br>  NSNumber, UIEdgeInsets, NSRange types, and enumeration types (for now?) Are not supported.  Runtime Attributes support NSRange, some system components allow you to edit UIEdgeInsets and enum properties, so there is hope for their support in the future.  NSNumber can also be set via Runtime Attributes (see the <a href="https://habr.com/ru/post/239257/">screenshot</a> above, the price property is set exactly like this). <br><br><h1>  Problems </h1><br>  In the ideal world, the described actions are enough to add support for live rendering.  In the real world, there may be some non-obvious difficulties. <br><br><h2>  Access to application bundle </h2><br>  In the early beta versions of Xcode 6 for live rendering, the UIView descendant should be in a separate module (framework).  Later this restriction was removed, however, to understand the process of interaction between Xcode, iOS Simulator and your application during live rendering, it is useful to know. <br><br>  The point is this: Xcode builds your application with special defaults, the simulator loads the application as a dynamic library and instantiates your successor to UIView to render it, and sends the results back to Xcode via XPC. <br><br>  Important!  The entry point of your application is not called, the application delegate is not created accordingly.  So if you have some important code located there (for example, the UIAppearance setting), keep this in mind. <br><br>  The part ‚Äúloads the application as a dynamic library‚Äù and the devil is hidden: the bundle of your application is no longer the main bundle, and the + [NSBundle mainBundle] call will return not it, but something like: <br><br><pre> <code class="hljs xml">po [NSBundle mainBundle] NSBundle <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Applications</span></span></span><span class="hljs-tag">/</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Xcode.app</span></span></span><span class="hljs-tag">/</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Contents</span></span></span><span class="hljs-tag">/</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Developer</span></span></span><span class="hljs-tag">/</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Platforms</span></span></span><span class="hljs-tag">/</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">iPhoneSimulator.platform</span></span></span><span class="hljs-tag">/</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Developer</span></span></span><span class="hljs-tag">/</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Library</span></span></span><span class="hljs-tag">/</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Xcode</span></span></span><span class="hljs-tag">/</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Overlays</span></span></span><span class="hljs-tag">&gt;</span></span> (loaded)</code> </pre><br>  Now imagine how many places + mainBundle is used implicitly?  Yes, in any place where nil can be specified as the bundle argument. <br><br>  The solution is to do the global XXXApplicationBundle function (or the NSBundle category with the method), where we use + [NSBundle bundleForClass: &lt;some class that is guaranteed in your bundle&gt;], and use it instead of + mainBundle or nil. <br><br>  But this problem affects not only your code, but also the code of the libraries used.  For example, libPhoneNumber-iOS accesses its resources through + mainBundle.  Oops, no live rendering for our successor UILabel, which formats phone numbers. <br><br>  No, do not pull your hands to the Objective-C runtime, do not swizzle'it + mainBundle, it is not known what will break.  Yes, and CoreFoundation API to access the bundles, we can not replace with all the desire. <br><br><h2>  Features of the view life cycle during live rendering </h2><br>  A naive iOS developer might think that a view should be created using -initWithCoder :, it‚Äôs in xib!  But not everything is so simple, Apple decided not to get involved in the partial instantiation of the nib (there is still a lot of things besides your view), and the instance is created via -initWithFrame :.  For views that are uploaded to xib, -initWithFrame: is often not implemented, or is implemented and consists of some assert to drop the program and remind the hapless user that view is intended exclusively for downloading from xib.  In fact, nothing prevents us from implementing -initWithFrame: in such cases, "as it should," and just load the view from xib and return: <br><br><pre> <code class="hljs objectivec">- (<span class="hljs-keyword"><span class="hljs-keyword">instancetype</span></span>)initWithFrame:(<span class="hljs-built_in"><span class="hljs-built_in">CGRect</span></span>)frame { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span> = [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.class xxx_viewFromNib]; <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.frame = frame; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>; }</code> </pre><br>  I think many people have a category for loading a view from xib, so I‚Äôll not go into the details of the + xxx_viewFromNib implementation (don‚Äôt forget to specify the correct bundle).  I must note that in Swift such a trick will not work (since initializers are similar to constructors in Java or C ++, that is, they cannot replace the object being initialized with another). <br><br>  After instantiation, the -prepareForIntefaceBuilder method (if one is implemented) will be called on the view.  In it, you can set the values ‚Äã‚Äãof properties so that your component looks intelligent by default.  When uploading pictures and other resources in this method, do not forget about the correct bundle. <br><br><h2>  Yo dawg, we heard u like live rendering </h2><br>  If your view is created from xib and marked as IB_DESIGNABLE, it will be rendered even when editing its own xib.  Here is such a recursion.  I do not even know if it is a bug. <br><br><h2>  Problem diagnosis </h2><br>  Sometimes live rendering simply will not work, giving the message that "ibtool crashed" without special details.  Faced a similar one, debugging the mentioned problem with loading resources from the wrong bundle: the font registration code just fell, dropping the simulator along with it.  But I learned this only by examining the logs in Console.app, and finding the crash log of a simulator with a sane stektrays. <br><div class="spoiler">  <b class="spoiler_title">stacktrace</b> <div class="spoiler_text"><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">Application</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Specific</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Information</span></span>: *** <span class="hljs-selector-tag"><span class="hljs-selector-tag">CFRelease</span></span>() <span class="hljs-selector-tag"><span class="hljs-selector-tag">called</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">with</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">NULL</span></span> *** <span class="hljs-selector-tag"><span class="hljs-selector-tag">Thread</span></span> 0 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Crashed</span></span>: 0 <span class="hljs-selector-tag"><span class="hljs-selector-tag">com</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.apple</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.CoreFoundation</span></span> 0<span class="hljs-selector-tag"><span class="hljs-selector-tag">x0000000112f0ef6f</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">CFRelease</span></span> + 1183 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">com</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.company</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.XXXCoreTestHost</span></span> 0<span class="hljs-selector-tag"><span class="hljs-selector-tag">x000000021e206dd7</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">LoadFonts</span></span> + 455 (<span class="hljs-selector-tag"><span class="hljs-selector-tag">XXXCore</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.m</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:38)</span></span> 2 <span class="hljs-selector-tag"><span class="hljs-selector-tag">dyld_sim</span></span> 0<span class="hljs-selector-tag"><span class="hljs-selector-tag">x000000010f8a9867</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ImageLoaderMachO</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">::doModInitFunctions(ImageLoader</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">::LinkContext</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">const</span></span>&amp;) + 265 3 <span class="hljs-selector-tag"><span class="hljs-selector-tag">dyld_sim</span></span> 0<span class="hljs-selector-tag"><span class="hljs-selector-tag">x000000010f8a99f4</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ImageLoaderMachO</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">::doInitialization(ImageLoader</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">::LinkContext</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">const</span></span>&amp;) + 40 4 <span class="hljs-selector-tag"><span class="hljs-selector-tag">dyld_sim</span></span> 0<span class="hljs-selector-tag"><span class="hljs-selector-tag">x000000010f8a65a5</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ImageLoader</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">::recursiveInitialization(ImageLoader</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">::LinkContext</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">const</span></span>&amp;, <span class="hljs-selector-tag"><span class="hljs-selector-tag">unsigned</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">int</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">ImageLoader</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">::InitializerTimingList</span></span>&amp;, <span class="hljs-selector-tag"><span class="hljs-selector-tag">ImageLoader</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">::UninitedUpwards</span></span>&amp;) + 305 5 <span class="hljs-selector-tag"><span class="hljs-selector-tag">dyld_sim</span></span> 0<span class="hljs-selector-tag"><span class="hljs-selector-tag">x000000010f8a642c</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ImageLoader</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">::processInitializers(ImageLoader</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">::LinkContext</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">const</span></span>&amp;, <span class="hljs-selector-tag"><span class="hljs-selector-tag">unsigned</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">int</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">ImageLoader</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">::InitializerTimingList</span></span>&amp;, <span class="hljs-selector-tag"><span class="hljs-selector-tag">ImageLoader</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">::UninitedUpwards</span></span>&amp;) + 138 6 <span class="hljs-selector-tag"><span class="hljs-selector-tag">dyld_sim</span></span> 0<span class="hljs-selector-tag"><span class="hljs-selector-tag">x000000010f8a669d</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ImageLoader</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">::runInitializers(ImageLoader</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">::LinkContext</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">const</span></span>&amp;, <span class="hljs-selector-tag"><span class="hljs-selector-tag">ImageLoader</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">::InitializerTimingList</span></span>&amp;) + 75 7 <span class="hljs-selector-tag"><span class="hljs-selector-tag">dyld_sim</span></span> 0<span class="hljs-selector-tag"><span class="hljs-selector-tag">x000000010f89e352</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">dyld</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">::runInitializers(ImageLoader</span></span>*) + 89 8 <span class="hljs-selector-tag"><span class="hljs-selector-tag">dyld_sim</span></span> 0<span class="hljs-selector-tag"><span class="hljs-selector-tag">x000000010f8a2be7</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">dlopen</span></span> + 951 9 <span class="hljs-selector-tag"><span class="hljs-selector-tag">libdyld</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.dylib</span></span> 0<span class="hljs-selector-tag"><span class="hljs-selector-tag">x000000011666d3df</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">dlopen</span></span> + 59 10 <span class="hljs-selector-tag"><span class="hljs-selector-tag">com</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.apple</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.dt</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.IBFoundation</span></span> 0<span class="hljs-selector-tag"><span class="hljs-selector-tag">x00000001115419a3</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span><span class="hljs-selector-attr"><span class="hljs-selector-attr">[IBAbstractInterfaceBuilderTool _resultByLoadingUnloadedBundleInstance:]</span></span> + 154 11 <span class="hljs-selector-tag"><span class="hljs-selector-tag">com</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.apple</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.dt</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.IBFoundation</span></span> 0<span class="hljs-selector-tag"><span class="hljs-selector-tag">x0000000111541f6e</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span><span class="hljs-selector-attr"><span class="hljs-selector-attr">[IBAbstractInterfaceBuilderTool loadBuiltLiveViewBundleInstances:]</span></span> + 607 12 <span class="hljs-selector-tag"><span class="hljs-selector-tag">com</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.apple</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.dt</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.IBFoundation</span></span> 0<span class="hljs-selector-tag"><span class="hljs-selector-tag">x0000000111540e42</span></span> __80<span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span><span class="hljs-selector-attr"><span class="hljs-selector-attr">[IBMessageReceiveChannel deliverMessage:toTarget:withArguments:context:result:]</span></span>_<span class="hljs-selector-tag"><span class="hljs-selector-tag">block_invoke</span></span> + 278 13 <span class="hljs-selector-tag"><span class="hljs-selector-tag">com</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.apple</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.dt</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.IBFoundation</span></span> 0<span class="hljs-selector-tag"><span class="hljs-selector-tag">x0000000111540c66</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span><span class="hljs-selector-attr"><span class="hljs-selector-attr">[IBMessageReceiveChannel deliverMessage:toTarget:withArguments:context:result:]</span></span> + 441 14 <span class="hljs-selector-tag"><span class="hljs-selector-tag">com</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.apple</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.dt</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.IBFoundation</span></span> 0<span class="hljs-selector-tag"><span class="hljs-selector-tag">x0000000111540930</span></span> __88<span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span><span class="hljs-selector-attr"><span class="hljs-selector-attr">[IBMessageReceiveChannel runBlockingReceiveLoopNotifyingQueue:notifyingTarget:context:]</span></span>_<span class="hljs-selector-tag"><span class="hljs-selector-tag">block_invoke</span></span> + 97 15 <span class="hljs-selector-tag"><span class="hljs-selector-tag">libdispatch</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.dylib</span></span> 0<span class="hljs-selector-tag"><span class="hljs-selector-tag">x000000011663daf4</span></span> _<span class="hljs-selector-tag"><span class="hljs-selector-tag">dispatch_client_callout</span></span> + 8 16 <span class="hljs-selector-tag"><span class="hljs-selector-tag">libdispatch</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.dylib</span></span> 0<span class="hljs-selector-tag"><span class="hljs-selector-tag">x000000011662aeb2</span></span> _<span class="hljs-selector-tag"><span class="hljs-selector-tag">dispatch_barrier_sync_f_slow_invoke</span></span> + 51 17 <span class="hljs-selector-tag"><span class="hljs-selector-tag">libdispatch</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.dylib</span></span> 0<span class="hljs-selector-tag"><span class="hljs-selector-tag">x000000011663daf4</span></span> _<span class="hljs-selector-tag"><span class="hljs-selector-tag">dispatch_client_callout</span></span> + 8 18 <span class="hljs-selector-tag"><span class="hljs-selector-tag">libdispatch</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.dylib</span></span> 0<span class="hljs-selector-tag"><span class="hljs-selector-tag">x00000001166292e9</span></span> _<span class="hljs-selector-tag"><span class="hljs-selector-tag">dispatch_main_queue_callback_4CF</span></span> + 490 19 <span class="hljs-selector-tag"><span class="hljs-selector-tag">com</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.apple</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.CoreFoundation</span></span> 0<span class="hljs-selector-tag"><span class="hljs-selector-tag">x0000000112f9f569</span></span> __<span class="hljs-selector-tag"><span class="hljs-selector-tag">CFRUNLOOP_IS_SERVICING_THE_MAIN_DISPATCH_QUEUE__</span></span> + 9 20 <span class="hljs-selector-tag"><span class="hljs-selector-tag">com</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.apple</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.CoreFoundation</span></span> 0<span class="hljs-selector-tag"><span class="hljs-selector-tag">x0000000112f6246b</span></span> __<span class="hljs-selector-tag"><span class="hljs-selector-tag">CFRunLoopRun</span></span> + 2043 21 <span class="hljs-selector-tag"><span class="hljs-selector-tag">com</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.apple</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.CoreFoundation</span></span> 0<span class="hljs-selector-tag"><span class="hljs-selector-tag">x0000000112f61a06</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">CFRunLoopRunSpecific</span></span> + 470 22 <span class="hljs-selector-tag"><span class="hljs-selector-tag">com</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.apple</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.Foundation</span></span> 0<span class="hljs-selector-tag"><span class="hljs-selector-tag">x00000001118dd862</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span><span class="hljs-selector-attr"><span class="hljs-selector-attr">[NSRunLoop(NSRunLoop) runMode:beforeDate:]</span></span> + 275 23 <span class="hljs-selector-tag"><span class="hljs-selector-tag">com</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.apple</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.dt</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.IBFoundation</span></span> 0<span class="hljs-selector-tag"><span class="hljs-selector-tag">x0000000111520745</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span><span class="hljs-selector-attr"><span class="hljs-selector-attr">[IBAbstractPlatformTool startServingReceiveChannel:]</span></span> + 322 24 <span class="hljs-selector-tag"><span class="hljs-selector-tag">com</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.apple</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.dt</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.IBFoundation</span></span> 0<span class="hljs-selector-tag"><span class="hljs-selector-tag">x000000011152081f</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span><span class="hljs-selector-attr"><span class="hljs-selector-attr">[IBAbstractPlatformTool startServingSocket:]</span></span> + 106 25 <span class="hljs-selector-tag"><span class="hljs-selector-tag">com</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.apple</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.dt</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.IBFoundation</span></span> 0<span class="hljs-selector-tag"><span class="hljs-selector-tag">x0000000111520ae2</span></span> +<span class="hljs-selector-attr"><span class="hljs-selector-attr">[IBAbstractPlatformTool main]</span></span> + 220 26 <span class="hljs-selector-tag"><span class="hljs-selector-tag">IBDesignablesAgentCocoaTouch</span></span> 0<span class="hljs-selector-tag"><span class="hljs-selector-tag">x000000010f7eafe0</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">main</span></span> + 34 27 <span class="hljs-selector-tag"><span class="hljs-selector-tag">libdyld</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.dylib</span></span> 0<span class="hljs-selector-tag"><span class="hljs-selector-tag">x000000011666e145</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">start</span></span> + 1</code> </pre></div></div><br>  Therefore, in any incomprehensible situation, go to Console.app and look for a crash log. <br><br><h1>  the end </h1><br>  Despite the described pitfalls, I consider live rendering to be an excellent way to speed up prototyping, developing and debugging custom view.  Especially cool is that when live rendering, layout constraints and the intrinsic content size of your view are taken into account, so autolayout works honestly, without constraints-stubs. <br><br>  Bonus: Editing properties through the Assistant Editor also works for non-visual objects (that is, arbitrary objects added to the xib or storyboard), just use IBInspectable without IB_DESIGNABLE: <a href="http://www.merowing.info/2014/06/behaviours-and-xcode-6">www.merowing.info/2014/06/behaviours-and-xcode-6</a> . <br><br>  I hope that my experience will be useful to someone and will save some amount of time when implementing live rendering for your view. <br><br>  Useful links: <br><ol><li>  <a href="https://developer.apple.com/library/ios/recipes/xcode_help-IB_objects_media/chapters/CreatingaLiveViewofaCustomObject.html">Creating a Custom View That Renders in Interface Builder</a> </li><li>  <a href="https://developer.apple.com/videos/wwdc/2014/%3Finclude%3D411">WWDC 2014 Session 411 - What's New in Interface Builder</a> </li><li>  <a href="">Small tutorial with the UIView life cycle</a> </li></ol></div><p>Source: <a href="https://habr.com/ru/post/239257/">https://habr.com/ru/post/239257/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../239243/index.html">The child prodigy "threw" investors for $ 30 million venture capital investments</a></li>
<li><a href="../239247/index.html">Review of the most interesting materials on data analysis and machine learning ‚Ññ16 (September 29 - October 5, 2014)</a></li>
<li><a href="../239251/index.html">Google Web Mercator: ambiguous coordinate system</a></li>
<li><a href="../239253/index.html">Data Center "Switch AMS1" - we did what our clients lacked so much!</a></li>
<li><a href="../239255/index.html">Two weeks with the enemy or Nokia Lumia 1520 through the eyes of the owner of Apple equipment</a></li>
<li><a href="../239259/index.html">sketchometry - dynamic geometry in the browser</a></li>
<li><a href="../239261/index.html">Graphics2D.js - objects, interactivity, animation on canvas ... And nothing more</a></li>
<li><a href="../239265/index.html">How to (not) take over the world, make a plan to take over the world</a></li>
<li><a href="../239267/index.html">Why do HFT traders buy old towers</a></li>
<li><a href="../239269/index.html">Welcome to Office 365 Summit October 23-24</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>