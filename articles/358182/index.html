<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Use GPG to encrypt messages and files.</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Briefly on how to create keys, encrypt and sign files, and send keys to a key server. 



 GPG (also known as GnuPG) was created as a free alternative...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Use GPG to encrypt messages and files.</h1><div class="post__text post__text-html js-mediator-article"><p>  Briefly on how to create keys, encrypt and sign files, and send keys to a key server. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ib/ar/2o/ibar2o4hfrz5h2sxba6ylmfqs48.png"></div><br><p>  <abbr title="GNU Privacy Guard">GPG</abbr> (also known as GnuPG) was created as a free alternative to non-free <abbr title="Pretty good privacy">PGP</abbr> .  GPG is used to encrypt information and provides various algorithms (RSA, DSA, AES, etc.) to solve this problem. </p><a name="habracut"></a><br><p>  GPG can be used for symmetric encryption, but mainly the program is used for asymmetric encryption of information.  In short, with symmetric encryption, one key is used to encrypt and decrypt a message (for example, which character corresponds to a particular letter).  Asymmetric encryption uses 2 keys - public and private.  Public is used for encryption, and you can give it to your friends, and private - to decrypt, and you must keep it safe.  Thanks to this scheme, only the owner of the private key can decrypt the message (even the one who encrypted the message cannot perform the reverse operation).  You can read more about asymmetric encryption in <a href="https://ru.wikipedia.org/wiki/%25D0%259A%25D1%2580%25D0%25B8%25D0%25BF%25D1%2582%25D0%25BE%25D1%2581%25D0%25B8%25D1%2581%25D1%2582%25D0%25B5%25D0%25BC%25D0%25B0_%25D1%2581_%25D0%25BE%25D1%2582%25D0%25BA%25D1%2580%25D1%258B%25D1%2582%25D1%258B%25D0%25BC_%25D0%25BA%25D0%25BB%25D1%258E%25D1%2587%25D0%25BE%25D0%25BC">Wikipedia</a> . </p><br><h2 id="ustanovka-gpg">  GPG Installation </h2><br>  <b>Windows</b> <br><p>  Download and install <a href="https://gpg4win.org/download.html">Gpg4win</a> . </p><br>  <b>GNU / Linux</b> <br><p> Most GNU / Linux distributions have a GPG installed.  If you haven‚Äôt installed it, install the <code>gnupg</code> package using your package manager or build it from <a href="https://github.com/gpg/gnupg">source</a> . </p><br>  <b>Android</b> <br><p>  For Android, there are programs GnuPG for Android and OpenKeychain.  The creators of GnuPG for Android recommend using OpenKeychain. </p><br><p>  <a href="https://www.openkeychain.org/">OpenKeychain official website</a> <br>  <a href="https://f-droid.org/packages/org.sufficientlysecure.keychain/">OpenKeychain in F-Droid</a> <br>  <a href="https://play.google.com/store/apps/details%3Fid%3Dorg.sufficientlysecure.keychain">OpenKeychain on Google Play</a> </p><br><p>  <a href="https://guardianproject.info/code/gnupg/">GnuPG for Android official website</a> <br>  <a href="https://github.com/guardianproject/gnupg-for-android">GnuPG for Android sources on GitHub</a> </p><br><p>  Thank you comrade under the nickname <a href="https://habr.com/users/sormon/" class="user_link">sormon</a> for <a href="https://habr.com/users/sormon/" class="user_link">reminding me</a> ! </p><br><h2 id="ispolzovanie">  Using </h2><br><p>  Only Linux use will be shown here (as of this writing, the latest version of GPG is 2.2.6) </p><br><p>  First of all, it is worth clarifying that in most Linux distributions there are two binary files: <code>gpg</code> and <code>gpg2</code> .  As far as I remember, these were two different versions: 1.4.x and 2.0.x, and for convenient use I did alias, so that when gpg was started, gpg2 was executed.  Now in Debian and Arch Linux <code>/bin/gpg2</code> is a symbolic link to <code>/bin/gpg</code> and the need for such manipulations has disappeared.  You can verify this by running <code>file /bin/gpg2</code> . </p><br><p>  So, let's begin! </p><br><p>  Having entered gpg without arguments, it will create the files it needs (if they have not yet been created) and will wait for the input of the information to be encrypted. </p><br><pre> <code class="hljs ruby">user@PC<span class="hljs-symbol"><span class="hljs-symbol">:~</span></span>$ gpg <span class="hljs-symbol"><span class="hljs-symbol">gpg:</span></span>   <span class="hljs-string"><span class="hljs-string">'/home/user/.gnupg'</span></span> <span class="hljs-symbol"><span class="hljs-symbol">gpg:</span></span>     <span class="hljs-string"><span class="hljs-string">'/home/user/.gnupg/pubring.kbx'</span></span> <span class="hljs-symbol"><span class="hljs-symbol">gpg:</span></span> :   .  ,     ... <span class="hljs-symbol"><span class="hljs-symbol">gpg:</span></span>   ...</code> </pre> <br><p>  In the presence of a key, we can enter text, press the key combination Ctrl + D and get a portion of the cracks directly into the console.  But so far we have no key. </p><br><h3 id="sozdanie-klyucha">  Key creation </h3><br><p>  To create a key, you need to run GPG with the argument "--full-generate-key" (you can also with "--gen-key", but in this case we will not have a choice of some important parameters). </p><br><p>  <em>UPD: If you run GPG also with the <code>--expert</code> argument, the choice of key type will be much wider.</em>  <em>For the addition, thanks to friend <a href="https://habr.com/users/nikitasius/" class="user_link">nikitasius</a> !</em> </p><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">user</span></span>@PC:~$ gpg <span class="hljs-comment"><span class="hljs-comment">--full-generate-key gpg (GnuPG) 2.2.6; Copyright (C) 2018 Free Software Foundation, Inc. This is free software: you are free to change and redistribute it. There is NO WARRANTY, to the extent permitted by law.   : (1) RSA  RSA ( ) (2) DSA  Elgamal (3) DSA (  ) (4) RSA (  )  ?</span></span></code> </pre> <br><pre> <code class="hljs vbscript">user@PC:~$ gpg --full-generate-key --expert gpg (GnuPG) <span class="hljs-number"><span class="hljs-number">2.2</span></span><span class="hljs-number"><span class="hljs-number">.6</span></span>; Copyright (C) <span class="hljs-number"><span class="hljs-number">2018</span></span> Free Software Foundation, Inc. This <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> free software: you are free <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> change <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> redistribute it. There <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> NO WARRANTY, <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> the extent permitted by law. Please <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> what kind of key you want: (<span class="hljs-number"><span class="hljs-number">1</span></span>) RSA <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> RSA (<span class="hljs-keyword"><span class="hljs-keyword">default</span></span>) (<span class="hljs-number"><span class="hljs-number">2</span></span>) DSA <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> Elgamal (<span class="hljs-number"><span class="hljs-number">3</span></span>) DSA (sign only) (<span class="hljs-number"><span class="hljs-number">4</span></span>) RSA (sign only) (<span class="hljs-number"><span class="hljs-number">7</span></span>) DSA (<span class="hljs-keyword"><span class="hljs-keyword">set</span></span> your own capabilities) (<span class="hljs-number"><span class="hljs-number">8</span></span>) RSA (<span class="hljs-keyword"><span class="hljs-keyword">set</span></span> your own capabilities) (<span class="hljs-number"><span class="hljs-number">9</span></span>) ECC <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> ECC (<span class="hljs-number"><span class="hljs-number">10</span></span>) ECC (sign only) (<span class="hljs-number"><span class="hljs-number">11</span></span>) ECC (<span class="hljs-keyword"><span class="hljs-keyword">set</span></span> your own capabilities) (<span class="hljs-number"><span class="hljs-number">13</span></span>) Existing key Your selection?</code> </pre> <br><p>  You can choose any option, but note that choosing the third or fourth option, you can not encrypt messages and files! </p><br><pre> <code class="hljs">...  ? 1   RSA    1024  4096.     ? (2048)</code> </pre> <br><p>  For an RSA key with a size of 2048 bits is sufficient, but you can choose a size up to 4096 bits (using keys of size less than 2048 bits is insecure). </p><br><pre> <code class="hljs xml">...     ? (2048) 2048    - 2048     . 0 =   <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">n</span></span></span><span class="hljs-tag">&gt;</span></span> =    - n  <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">n</span></span></span><span class="hljs-tag">&gt;</span></span>w =    - n  <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">n</span></span></span><span class="hljs-tag">&gt;</span></span>m =    - n  <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">n</span></span></span><span class="hljs-tag">&gt;</span></span>y =    - n    ? (0)</code> </pre> <br><p>  If you select a limited key validity period, then upon expiry of its key, the key will be declared invalid.  You can renew the key until it expires. </p><br><p>  GPG will ask if we have specified the date correctly, and if so, you will need to specify a name, an email address and a note (all this is optional, but you need to specify at least one thing). </p><br><pre> <code class="hljs perl">...     <span class="hljs-number"><span class="hljs-number">01</span></span>  <span class="hljs-number"><span class="hljs-number">1970</span></span> <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span> +<span class="hljs-number"><span class="hljs-number">00</span></span>  ? (<span class="hljs-keyword"><span class="hljs-keyword">y</span></span>/N) <span class="hljs-keyword"><span class="hljs-keyword">y</span></span> GnuPG       .   : Habrahabr User   : habr@habr.com : My own key     : <span class="hljs-string"><span class="hljs-string">"Habrahabr User (My own key) &lt;habr@habr.com&gt;"</span></span>  (N), (C), (E); (O)/(Q)?</code> </pre> <br><p>  Here you can make edits or continue. </p><br><p>  Then gpg will ask you for a password (I recommend refreshing your memory and reading about the rules for choosing a strong password).  If you are running X server, then you will get a dialog box where you need to enter a password.  If not, then the password is entered directly into the console. </p><br><div class="spoiler">  <b class="spoiler_title">If you do not like windows</b> <div class="spoiler_text"><p>  Add this line to the <code>~/.gnupg/gpg-agent.conf</code> : <br> <code>pinentry-program /usr/bin/pinentry-tty</code> <br>  Pynentry is the very dialog box.  In addition to the tty-version (console), there are several versions (graphics) that you can try. <br>  Then restart gpg-agent.  On systems with systemd, this is done like this: <br> <code>systemd --user reload gpg-agent</code> </p> </div></div><br><pre> <code class="hljs 1c">...     . ,       -   (  ,  ,   );           .  - <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    -:</code> </pre> <br><p>  <strong>In the terminal, the entered password is not displayed!</strong> </p><br><p>  Also here is a helpful tip that will speed up key creation.  It is advisable to follow it, but not necessarily (and very carefully, so as not to stick with the excess). </p><br><pre> <code class="hljs 1c">... -: :     . ,       -   (  ,  ,   );           . gpg: /home/user/.gnupg/trustdb.gpg:    gpg:  <span class="hljs-number"><span class="hljs-number">5699884482</span></span>E426AC     gpg:   '/home/user/.gnupg/openpgp-revocs.d' gpg:     '/home/user/.gnupg/openpgp-revocs.d/2BB<span class="hljs-number"><span class="hljs-number">6803</span></span>FCF<span class="hljs-number"><span class="hljs-number">8231696961</span></span>9C<span class="hljs-number"><span class="hljs-number">155699884482</span></span>E426AC.rev'.       . pub rsa2048 <span class="hljs-number"><span class="hljs-number">1970</span></span>-<span class="hljs-number"><span class="hljs-number">01</span></span>-<span class="hljs-number"><span class="hljs-number">01</span></span> [SC] <span class="hljs-number"><span class="hljs-number">2</span></span>BB6803FCF82316969619C155699884482E426AC uid Habrahabr User (My own key) &lt;habr@habr.com&gt; sub rsa2048 <span class="hljs-number"><span class="hljs-number">1970</span></span>-<span class="hljs-number"><span class="hljs-number">01</span></span>-<span class="hljs-number"><span class="hljs-number">01</span></span> [E]</code> </pre> <br><p>  At this stage, the key is generated and added to the <em>keychain</em> .  A keyring can contain many keys.  Also at this stage, <em>a revocation certificate</em> is created - a file with which the generated key can be revoked (invalidated).  It is recommended to store it in a safe place, since  if attackers gain access to it, they will be able to revoke your key. </p><br><p>  So what do all these weird last lines mean? </p><br><p>  <strong>rsa</strong> - RSA encryption algorithm. <br>  <strong>2048</strong> - The length of the key. <br>  <strong>1970-01-01</strong> - Key creation date. <br>  <strong>2BB680 ... E426AC</strong> - The key imprint.  It should be checked when importing someone else's public key - it must be the same on both sides. <br>  <strong>uid</strong> - User-ID. <br>  <strong>pub</strong> and <strong>sub</strong> - Key Types: </p><br><p>  <strong>pub</strong> - Public key. <br>  <strong>sub</strong> - Public subkey <br>  <strong>sec</strong> - Secret key. <br>  <strong>ssb</strong> - Secret subkey. </p><br><p>  <strong>[SC]</strong> and <strong>[E]</strong> - The purpose of each key.  When you create a key, you get as many as 4 encryption keys: for encryption, decryption, signature, and signature verification: </p><br><p>  <strong>S</strong> - Signature. <br>  <strong>C</strong> - Key Signature (Certification).  This will be discussed later. <br>  <strong>E</strong> - Encryption. <br>  <strong>A</strong> - Authentication.  It can be used, for example, in SSH. </p><br><p>  Why do I need to sign messages?  In order to confirm that the message was written by you and has not changed during the transfer.  If the message is changed, then it will be indicated when verifying the signature. </p><br><h3 id="konfiguraciya">  Configuration </h3><br><p>  The configuration file is stored in the file <code>~/.gnupg/gpg.conf</code> <br>  For example, here is an example of my configuration file, which I recommend to put myself: </p><br><pre> <code class="hljs pgsql">keyid-<span class="hljs-keyword"><span class="hljs-keyword">format</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>xlong throw-keyids <span class="hljs-keyword"><span class="hljs-keyword">no</span></span>-emit-<span class="hljs-keyword"><span class="hljs-keyword">version</span></span> <span class="hljs-keyword"><span class="hljs-keyword">no</span></span>-comments</code> </pre> <br><p>  <code>keyid-format 0xlong</code> - output key identifier format.  Each key and subkey has its own identifier.  By default it is not displayed, its short version was previously displayed. <br>  Available formats: <br>  <code>none</code> - Do not display (default). <br>  <code>short</code> - Short entry. <br>  <code>0xshort</code> - A short entry with the prefix "0x". <br>  <code>long</code> - Long entry. <br>  <code>0xlong</code> is a long entry with the prefix "0x". </p><br><p>  <code>throw-keyids</code> - Do not include key information in the encrypted message.  This option may be useful to anonymize the recipient of the message. </p><br><p>  <code>no-emit-version</code> - Do not insert a GPG version into an encrypted message. </p><br><p>  <code>no-comments</code> - Removes all comments from the encrypted message. </p><br><p>  These are all options that can be found in the man page.  In the configuration file, they are written without the prefix " <code>--</code> ". </p><br><h3 id="komandy-i-opcii">  Commands and options </h3><br><p>  I will describe only the most basic. </p><br><p> <code>--armor</code> <br>  <code>-a</code> - Create an ASCII (character) output.  When encrypted, GPG creates binary output by default.  With this option, GPG encodes information encoded with Radix-64 (Base64 variant).  This textual output can be sent, for example, in an instant messenger or by e-mail, as well as displayed on the screen. </p><br><p> <code>--encrypt</code> <br>  <code>-e</code> - Encrypt the message. </p><br><p> <code>--recipient</code> <br>  <code>-r</code> - Specify the key to be used for <em>encryption</em> .  You can use the information user ID (name, mail), key ID, key fingerprint. </p><br><p> <code>--decrypt</code> <br>  <code>-d</code> - Decrypt the message. </p><br><p> <code>--sign</code> <br>  <code>-s</code> - Sign the message.  The signature will be located separately from the message itself. </p><br><p> <code>--clear-sign</code> <br>  <code>--clearsign</code> - Sign the message.  The signature is saved with the message. </p><br><p> <code>--local-user</code> <br>  <code>-u</code> - Specify the key to be used for <em>signing</em> .  Similar to the <code>--recipient</code> option, but <em>this is not the same thing</em> . </p><br><p>  <code>--verify</code> - Verify the signature. </p><br><p> <code>--list-keys</code> <br>  <code>-k</code> - Display a list of public keys. </p><br><p> <code>--list-secret-keys</code> <br>  <code>-K</code> - Display a list of private keys. </p><br><p>  <code>--export</code> - export the public key to a file, which can then be sent somewhere. </p><br><p>  <code>--import</code> - import the public key. </p><br><p>  <code>--edit-key</code> - Edit the key. </p><br><p>  <code>--expert</code> - "Expert Mode". </p><br><p>  <strong>Examples</strong> </p><br><p> <code>gpg -a -r 0x12345678 -e decrypted.txt &gt; encrypted.gpg</code> <br>  Encrypt the <code>decrypted.txt</code> file to the <code>encrypted.gpg</code> file with the key <code>0x12345678</code> .  In this case, the finished file will be text, not binary. </p><br><p> <code>gpg -r 0x12345678 -d encrypted.gpg &gt; decrypted.txt</code> <br>  Decrypt the <code>encrypted.gpg</code> file with the key <code>0x12345678</code> and save it to the <code>decrypted.txt</code> file. </p><br><p> <code>gpg -u 0x12345678 -s message.txt &gt; sign.asc</code> <br>  Sign the <code>message</code> file with the key <code>0x12345678</code> and save the signature in the file <code>sign.asc</code> . </p><br><p> <code>gpg -r 0x12345678 --clearsign message.txt &gt; message.gpg</code> <br>  Sign the <code>message.txt</code> file with the key <code>0x12345678</code> and write the message with the signature to the file <code>message.gpg</code> . </p><br><p> <code>gpg --verify message.asc message.txt</code> <br>  Verify the signature of the <code>message.txt</code> file, which is recorded in the <code>message.asc</code> file. </p><br><p> <code>gpg --import pubkey.gpg</code> <br>  Import the public key from the <code>pubkey.gpg</code> file. </p><br><h3 id="redaktirovanie-klyucha-podpis-chuzhih-klyuchey-i-otpravka-klyucha-na-server-klyuchey">  Editing the key, signing other people's keys and sending the key to the key server </h3><br><p>  The key is edited by the <code>gpg --edit-key &lt;KeyID&gt;</code> command - edit <code>gpg --edit-key &lt;KeyID&gt;</code> . <br>  After entering this command, you will see this: </p><br><pre> <code class="hljs coffeescript">user@PC:~$ gpg --edit-key CCA230DA07929EB7 gpg (GnuPG) <span class="hljs-number"><span class="hljs-number">2.2</span></span><span class="hljs-number"><span class="hljs-number">.6</span></span>; Copyright (C) <span class="hljs-number"><span class="hljs-number">2018</span></span> Free Software Foundation, Inc. This <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> free software: you are free to change <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> redistribute it. There <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> NO WARRANTY, to the extent permitted <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> law.   . sec rsa2048/CCA230DA07929EB7 : <span class="hljs-number"><span class="hljs-number">2018</span></span><span class="hljs-number"><span class="hljs-number">-05</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span>  :  : SC :  :  ssb rsa2048/<span class="hljs-number"><span class="hljs-number">7859E2</span></span>A888E31276 : <span class="hljs-number"><span class="hljs-number">2018</span></span><span class="hljs-number"><span class="hljs-number">-05</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span>  :  : E [  ] (<span class="hljs-number"><span class="hljs-number">1</span></span>). Habrahabr User (My own key) &lt;habr@habr.com&gt; gpg&gt;</code> </pre> <br><p>  Available commands you can find out by typing <code>help</code> . <br>  Here we can add different plug-ins, add user IDs, and also sign other people's public keys. <br>  Why do I need to sign the keys?  So you can confirm that the owner of the key being signed is who he claims to be.  In this way, you create the so-called "Trust Network".  Example: Alice signed Bob‚Äôs public key, and Bob signed Charlie‚Äôs public key.  If Alice receives Charlie's public key, she can trust him, because the key is signed by those whom Alice trusts, i.e.  Bob.  In order to get signatures for their key, people even arrange special meetings where they exchange their public keys and sign them. </p><br><p>  Now about the key servers.  <em>The key server</em> is a special server that stores public keys.  Key servers are used to distribute public keys. </p><br><p>  <strong>Attention!</strong>  <strong>Keys sent to the key server cannot be deleted!</strong>  <strong>They can only be revoked by importing the certificate of revocation to the server, while the key still remains on the server.</strong> </p><br><p>  Send public key to server: <br> <code>gpg --keyserver &lt;URL&gt; --send-keys &lt;KeyID&gt;</code> </p> <br><p>  Get the public key with the key identifier from the server: <br> <code>gpg --keyserver &lt;URL&gt; --recv-keys &lt;KeyID&gt;</code> <br> </p><p>  Get key updates from the server: <br> <code>gpg --keyserver &lt;URL&gt; --refresh-keys</code> </p> <br><p>  Find the key on the server: <br> <code>gpg --keyserver &lt;URL&gt; --search-keys &lt;UID  KeyID&gt;</code> </p> <br><p>  For convenience, you can register the address of the key server in <code>gpg.conf</code> , so as not to prescribe it in the commands: <br> <code>keyserver &lt;URL&gt;</code> </p> <br><h3 id="gde-vy-mozhete-stolknutsya-s-ispolzovaniem-gpg">  Where can you encounter using GPG </h3><br><p>  <strong>Git</strong> <br>  You can use GPG to sign your commits.  So you confirm that you made the commit.  In GitHub, you can corrupt your public key and commits signed with your key will get a tick. </p><br><img src="https://habrastorage.org/webt/ot/iz/xj/otizxjeqc0s_7fg6zslnogajnma.png"><br><p>  <em>UPD: You can read about Git configuration for using GPG <a href="https://git-scm.com/book/ru/v2/%25D0%2598%25D0%25BD%25D1%2581%25D1%2582%25D1%2580%25D1%2583%25D0%25BC%25D0%25B5%25D0%25BD%25D1%2582%25D1%258B-Git-%25D0%259F%25D0%25BE%25D0%25B4%25D0%25BF%25D0%25B8%25D1%2581%25D1%258C-%25D1%2580%25D0%25B5%25D0%25B7%25D1%2583%25D0%25BB%25D1%258C%25D1%2582%25D0%25B0%25D1%2582%25D0%25BE%25D0%25B2-%25D0%25B2%25D0%25B0%25D1%2588%25D0%25B5%25D0%25B9-%25D1%2580%25D0%25B0%25D0%25B1%25D0%25BE%25D1%2582%25D1%258B">in the Git documentation</a> .</em> <em><br></em>  <em>Here is an example of the Git `s configuration file from comrade <a href="https://habr.com/users/nikitasius/" class="user_link">nikitasius</a> :</em> </p><br><pre> <code class="hljs sql">[<span class="hljs-keyword"><span class="hljs-keyword">commit</span></span>] gpgsign = <span class="hljs-literal"><span class="hljs-literal">true</span></span> [<span class="hljs-keyword"><span class="hljs-keyword">user</span></span>] signingkey = &lt;KeyID&gt; [gpg] program = /<span class="hljs-keyword"><span class="hljs-keyword">bin</span></span>/gpg</code> </pre> <br><p>  <strong>Download distributions and other files</strong> <br>  Most installation distribution images are distributed by signed developers.  If you upload a modified image, then when checking the signature you will immediately notice that the image is not original.  An example is the popular Tails distribution. </p><br><p>  <strong>Package managers</strong> <br>  All packages are signed by developers to protect against changes.  When installing packages, these signatures are checked.  This is all done automatically without user intervention. </p><br><h3 id="ssylki">  Links </h3><br><p>  <a href="https://gnupg.org/">GPG website</a> <br>  <a href="https://ru.wikipedia.org/wiki/GNU_Privacy_Guard">GPG article on Wikipedia</a> <br>  <a href="https://pgpru.com/">Website dedicated to IB and GPG</a> <br>  Key Servers: <br> <code>pgp.mit.edu</code> <br> <code>keyserver.pgp.com</code> </p> </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/358182/">https://habr.com/ru/post/358182/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../358172/index.html">DC / AC inverter: principle of operation, circuitry, firmware</a></li>
<li><a href="../358174/index.html">Planar transformer: technology, calculations, cost</a></li>
<li><a href="../358176/index.html">Basics of game code optimization</a></li>
<li><a href="../358178/index.html">Antipattern testing software</a></li>
<li><a href="../358180/index.html">Magnasanti - the largest and most terrible city of SimCity</a></li>
<li><a href="../358184/index.html">Using Linux Kernel Sequence Files</a></li>
<li><a href="../358186/index.html">Arduino for beginners. Part 2</a></li>
<li><a href="../358188/index.html">Telegram is trying to get the key transfer order canceled to decrypt user messages.</a></li>
<li><a href="../358190/index.html">CredSSP encryption oracle remediation - error when connecting via RDP to a virtual server (VPS / VDS)</a></li>
<li><a href="../358192/index.html">Marvin Minsky "The Emotion Machine": Chapter 3 "Suffering, pain, grief"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>