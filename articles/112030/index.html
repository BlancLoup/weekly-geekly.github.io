<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Game Life in the language of Mercury</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="As part of experiments with the Mercury programming language, as well as under the impression that the Life game theme that has been raised several ti...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Game Life in the language of Mercury</h1><div class="post__text post__text-html js-mediator-article">  As part of experiments with the <a href="http://en.wikipedia.org/wiki/Mercury_(programming_language)">Mercury</a> programming language, as well as under the impression that the Life game theme that has been raised several times lately here ( <a href="http://habrahabr.ru/blogs/javascript/111686/">1</a> , <a href="http://habrahabr.ru/blogs/python/111247/">2</a> , <a href="http://habrahabr.ru/blogs/crazydev/111332/">3</a> ), I wanted to write my own implementation in this interesting programming language. <br><br>  In a few words about Mercury.  This functional-logic programming language was conceived as an improvement to prolog.  The improvement consists in introducing static typing into the prologue (as well as declaring the determinism regime).  As a result, the compiler has more opportunities to create an effective executable code, greater control at the compilation stage.  Lovers of the prologue are probably familiar with the anecdote: <br><blockquote>  Q: How many Prolog programmers does it take to change a light bulb? <br>  A: False. <br></blockquote><br>  In the kingdom of prologues, the <a href="http://www.visual-prolog.com/">Visual Prolog</a> firmly occupies a niche typed.  But, it is worth noting that the approaches of Visual Prolog and Mercury are quite different. <a name="habracut"></a><br><br>  VIP hike is more conservative, and Mercury is more radical.  For example, all imperative features of classical prologues, such as assert / retract, failure-driven loops, etc., were thrown out of mercury, and methods for working with input-output resemble those of Haskell, namely, every function that uses input-output The output must accept two additional variables: WorldIn and WorldOut, describing the state of the outside world before and after calling this function.  These two variables are used to set the parametric dependencies between two consecutive function calls, which prohibits the compiler from rearranging them.  In the absence of such a dependency, the compiler is free to shuffle the calls of functions / predicates as he pleases in order to optimize the resulting program.  The VIP developers, on the contrary, not only did not remove imperative features, but even added OOP to their Prolog implementation. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In general, you can still tell a lot, but let's move on to the code.  (For more information on the topic of Mercury, you can, if you wish, find on the <a href="http://www.mercury.csse.unimelb.edu.au/">official site</a> , or on <a href="http://mercurylanguage.ucoz.ru/">this Russian-language site</a> ). <br><br>  The implementation is actually based on the APL solution approach shown in this youtube video: <br>  <a href="http://www.youtube.com/watch%3Fv%3Da9xAKttWgP4">Game Life in one line APL code</a> . <br><br>  I'm sure that Prolog and Erlang experts will find the Mercury syntax very familiar. <br><br><pre><code class="php hljs">:- module life. :- <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class">. :- </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">import_module</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">io</span></span></span><span class="hljs-class">. :- </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">pred</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">main</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">io</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">io</span></span></span><span class="hljs-class">). :- </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">mode</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">main</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">di</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">uo</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">is</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">det</span></span></span><span class="hljs-class">. :- </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">implementation</span></span></span><span class="hljs-class">. :- </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">import_module</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">int</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">list</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">require</span></span></span><span class="hljs-class">. :- </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">type</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">row</span></span></span><span class="hljs-class"> == </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">list</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">int</span></span></span><span class="hljs-class">). :- </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">type</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">grid</span></span></span><span class="hljs-class"> == </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">list</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">row</span></span></span><span class="hljs-class">). :- </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">type</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sign</span></span></span><span class="hljs-class"> ---&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sum</span></span></span><span class="hljs-class">; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">mul</span></span></span><span class="hljs-class">; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">or_</span></span></span><span class="hljs-class">. :- </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">type</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">lr</span></span></span><span class="hljs-class"> ---&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">left</span></span></span><span class="hljs-class">; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">right</span></span></span><span class="hljs-class">; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">no</span></span></span><span class="hljs-class">. :- </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">type</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ud</span></span></span><span class="hljs-class"> ---&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">up</span></span></span><span class="hljs-class">; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">down</span></span></span><span class="hljs-class">; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">no</span></span></span><span class="hljs-class">. </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">eq</span></span></span><span class="hljs-class">([</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">R</span></span></span><span class="hljs-class"> | </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RR</span></span></span><span class="hljs-class">], </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">N</span></span></span><span class="hljs-class">) = [</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">eq_row</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">R</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">N</span></span></span><span class="hljs-class">) | </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">eq</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RR</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">N</span></span></span><span class="hljs-class">)]. </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">eq</span></span></span><span class="hljs-class">([], </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">_</span></span></span><span class="hljs-class">) = []. </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">eq_row</span></span></span><span class="hljs-class">([</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">H</span></span></span><span class="hljs-class">|</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">], </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">N</span></span></span><span class="hljs-class">) = [(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">H</span></span></span><span class="hljs-class">=</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">N</span></span></span><span class="hljs-class">-&gt;1;0) | </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">eq_row</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">N</span></span></span><span class="hljs-class">)]. </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">eq_row</span></span></span><span class="hljs-class">([],</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">_</span></span></span><span class="hljs-class">) = []. </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sum</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">M1</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">M2</span></span></span><span class="hljs-class">) = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">R</span></span></span><span class="hljs-class"> :- </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">R1</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">agg</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">M1</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">M2</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sum</span></span></span><span class="hljs-class">) -&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">R</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">R1</span></span></span><span class="hljs-class"> ; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">error</span></span></span><span class="hljs-class">("</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">can</span></span></span><span class="hljs-class">'</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">t</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sum</span></span></span><span class="hljs-class">"). </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">or</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">M1</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">M2</span></span></span><span class="hljs-class">) = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">R</span></span></span><span class="hljs-class"> :- </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">R1</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">agg</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">M1</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">M2</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">or_</span></span></span><span class="hljs-class">) -&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">R</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">R1</span></span></span><span class="hljs-class"> ; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">error</span></span></span><span class="hljs-class">("</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">can</span></span></span><span class="hljs-class">'</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">t</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">or</span></span></span><span class="hljs-class">"). </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">mul</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">M1</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">M2</span></span></span><span class="hljs-class">) = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">R</span></span></span><span class="hljs-class"> :- </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">R1</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">agg</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">M1</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">M2</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">mul</span></span></span><span class="hljs-class">) -&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">R</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">R1</span></span></span><span class="hljs-class"> ; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">error</span></span></span><span class="hljs-class">("</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">can</span></span></span><span class="hljs-class">'</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">t</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">mul</span></span></span><span class="hljs-class">"). </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sum_lst</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">L</span></span></span><span class="hljs-class">) = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">R</span></span></span><span class="hljs-class"> :- ( </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">L</span></span></span><span class="hljs-class"> = [</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">M1</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">M2</span></span></span><span class="hljs-class">|</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MM</span></span></span><span class="hljs-class">] -&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">R</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sum_lst</span></span></span><span class="hljs-class">([</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sum</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">M1</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">M2</span></span></span><span class="hljs-class">)|</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MM</span></span></span><span class="hljs-class">]) ; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">L</span></span></span><span class="hljs-class">=[</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">M</span></span></span><span class="hljs-class">] -&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">R</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">M</span></span></span><span class="hljs-class"> ; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">error</span></span></span><span class="hljs-class">("</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sum_lst</span></span></span><span class="hljs-class">") ). :-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">func</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">agg</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">grid</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">grid</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sign</span></span></span><span class="hljs-class">) = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">grid</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">is</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">semidet</span></span></span><span class="hljs-class">. </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">agg</span></span></span><span class="hljs-class">([</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">R1</span></span></span><span class="hljs-class"> | </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RR1</span></span></span><span class="hljs-class">], [</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">R2</span></span></span><span class="hljs-class"> | </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RR2</span></span></span><span class="hljs-class">], </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Sign</span></span></span><span class="hljs-class">) = [</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">agg_rows</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">R1</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">R2</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Sign</span></span></span><span class="hljs-class">) | </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">agg</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RR1</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RR2</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Sign</span></span></span><span class="hljs-class">)]. </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">agg</span></span></span><span class="hljs-class">([], [], </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">_</span></span></span><span class="hljs-class">) = []. :-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">func</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">agg_rows</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">row</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">row</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sign</span></span></span><span class="hljs-class">) = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">row</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">is</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">semidet</span></span></span><span class="hljs-class">. </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">agg_rows</span></span></span><span class="hljs-class">([</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">E1</span></span></span><span class="hljs-class"> | </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">EE1</span></span></span><span class="hljs-class">], [</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">E2</span></span></span><span class="hljs-class"> | </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">EE2</span></span></span><span class="hljs-class">], </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Sign</span></span></span><span class="hljs-class">) = [</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">agg_elts</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">E1</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">E2</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Sign</span></span></span><span class="hljs-class">) | </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">agg_rows</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">EE1</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">EE2</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Sign</span></span></span><span class="hljs-class">)]. </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">agg_rows</span></span></span><span class="hljs-class">([], [], </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">_</span></span></span><span class="hljs-class">) = []. </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">agg_elts</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">E1</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">E2</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sum</span></span></span><span class="hljs-class">) = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">E1</span></span></span><span class="hljs-class"> + </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">E2</span></span></span><span class="hljs-class">. </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">agg_elts</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">E1</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">E2</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">mul</span></span></span><span class="hljs-class">) = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">E1</span></span></span><span class="hljs-class"> * </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">E2</span></span></span><span class="hljs-class">. </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">agg_elts</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">E1</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">E2</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">or_</span></span></span><span class="hljs-class">) = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">E1</span></span></span><span class="hljs-class"> \/ </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">E2</span></span></span><span class="hljs-class">. </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">hor</span></span></span><span class="hljs-class">([</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">H</span></span></span><span class="hljs-class"> | </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">], </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LR</span></span></span><span class="hljs-class">) = [</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">hor_row</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">H</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LR</span></span></span><span class="hljs-class">) | </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">hor</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LR</span></span></span><span class="hljs-class">)]. </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">hor</span></span></span><span class="hljs-class">([], </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">_</span></span></span><span class="hljs-class">) = []. </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">head_det</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">L</span></span></span><span class="hljs-class">) = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">E</span></span></span><span class="hljs-class"> :- ( </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">L</span></span></span><span class="hljs-class"> = [], </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">error</span></span></span><span class="hljs-class">("</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">empty</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">list</span></span></span><span class="hljs-class">") ; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">L</span></span></span><span class="hljs-class">=[</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">E1</span></span></span><span class="hljs-class">|</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">_</span></span></span><span class="hljs-class">], </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">E</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">E1</span></span></span><span class="hljs-class"> ). </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">gen</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">N</span></span></span><span class="hljs-class">) = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">R</span></span></span><span class="hljs-class"> :- ( </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">N</span></span></span><span class="hljs-class">=0 -&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">R</span></span></span><span class="hljs-class"> = [] ; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">R</span></span></span><span class="hljs-class"> = [</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">|</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">gen</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">N</span></span></span><span class="hljs-class">-1)] ). </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">vert</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">M</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">up</span></span></span><span class="hljs-class">) = [</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">zeros</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">M</span></span></span><span class="hljs-class">) | </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">without_last</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">M</span></span></span><span class="hljs-class">)]. </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">vert</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">M</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">down</span></span></span><span class="hljs-class">) = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">without_first</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">M</span></span></span><span class="hljs-class">) ++ [</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">zeros</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">M</span></span></span><span class="hljs-class">)]. </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">vert</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">M</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">no</span></span></span><span class="hljs-class">) = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">M</span></span></span><span class="hljs-class">. </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">zeros</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">M</span></span></span><span class="hljs-class">) = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">gen</span></span></span><span class="hljs-class">(0, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">length</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">head_det</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">M</span></span></span><span class="hljs-class">))). </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">without_first</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">L</span></span></span><span class="hljs-class">) = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">R</span></span></span><span class="hljs-class"> :- ( </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">L</span></span></span><span class="hljs-class"> = [], </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">error</span></span></span><span class="hljs-class">("</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">without_first</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">fail</span></span></span><span class="hljs-class">") ; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">L</span></span></span><span class="hljs-class">=[</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">_</span></span></span><span class="hljs-class"> | </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">], </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">R</span></span></span><span class="hljs-class">=</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class"> ). </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">without_last</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">L</span></span></span><span class="hljs-class">) = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">R</span></span></span><span class="hljs-class"> :- ( </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">L</span></span></span><span class="hljs-class">=[], </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">error</span></span></span><span class="hljs-class">("</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">without_last</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">fail</span></span></span><span class="hljs-class">") ; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">L</span></span></span><span class="hljs-class">=[</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">_</span></span></span><span class="hljs-class">], </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">R</span></span></span><span class="hljs-class">=[] ; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">L</span></span></span><span class="hljs-class">=[</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">H</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">H1</span></span></span><span class="hljs-class">|</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">], </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">R</span></span></span><span class="hljs-class">=[</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">H</span></span></span><span class="hljs-class">|</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">without_last</span></span></span><span class="hljs-class">([</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">H1</span></span></span><span class="hljs-class">|</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">])] ). </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">hor_row</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">L</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">left</span></span></span><span class="hljs-class">) = [0 | </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">without_last</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">L</span></span></span><span class="hljs-class">)]. </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">hor_row</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">L</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">right</span></span></span><span class="hljs-class">) = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">without_first</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">L</span></span></span><span class="hljs-class">) ++ [0]. </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">hor_row</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">L</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">no</span></span></span><span class="hljs-class">) = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">L</span></span></span><span class="hljs-class">. :- </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">func</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">move</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">grid</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ud</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">lr</span></span></span><span class="hljs-class">) = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">grid</span></span></span><span class="hljs-class">. </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">move</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">M</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UD</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LR</span></span></span><span class="hljs-class">) = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">hor</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">vert</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">M</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UD</span></span></span><span class="hljs-class">), </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LR</span></span></span><span class="hljs-class">). </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">neighbours</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">M</span></span></span><span class="hljs-class">) = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sum_lst</span></span></span><span class="hljs-class">([ </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">move</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">M</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">up</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">left</span></span></span><span class="hljs-class">), </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">move</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">M</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">up</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">no</span></span></span><span class="hljs-class">), </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">move</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">M</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">up</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">right</span></span></span><span class="hljs-class">), </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">move</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">M</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">no</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">left</span></span></span><span class="hljs-class">), </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">move</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">M</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">no</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">no</span></span></span><span class="hljs-class">), </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">move</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">M</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">no</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">right</span></span></span><span class="hljs-class">), </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">move</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">M</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">down</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">left</span></span></span><span class="hljs-class">), </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">move</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">M</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">down</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">no</span></span></span><span class="hljs-class">), </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">move</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">M</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">down</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">right</span></span></span><span class="hljs-class">) ]). %% </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">this</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">is</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GoL</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">algorithm</span></span></span><span class="hljs-class"> %% </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">next</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">M</span></span></span><span class="hljs-class">) = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">or</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">eq</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MN</span></span></span><span class="hljs-class">,3), </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">eq</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">mul</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">M</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MN</span></span></span><span class="hljs-class">),4)) :- </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MN</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">neighbours</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">M</span></span></span><span class="hljs-class">). %% </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">grid</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">pretty</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">print</span></span></span><span class="hljs-class"> %% </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">print_m</span></span></span><span class="hljs-class">([</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">H</span></span></span><span class="hljs-class">|</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">]) --&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">print_r</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">H</span></span></span><span class="hljs-class">), </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nl</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">print_m</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">). </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">print_m</span></span></span><span class="hljs-class">([]) --&gt; []. </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">print_r</span></span></span><span class="hljs-class">([</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">H</span></span></span><span class="hljs-class"> | </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">]) --&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">print_el</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">H</span></span></span><span class="hljs-class">), </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">print_r</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">). </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">print_r</span></span></span><span class="hljs-class">([]) --&gt; []. </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">print_el</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">H</span></span></span><span class="hljs-class">) --&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">print</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">H</span></span></span><span class="hljs-class">=0-&gt;".";"#"). </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">trace</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">M</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">N</span></span></span><span class="hljs-class">) --&gt; ( </span></span>{N = <span class="hljs-number"><span class="hljs-number">0</span></span>} -&gt; [] ; print_m(M), nl, trace(next(M), N<span class="hljs-number"><span class="hljs-number">-1</span></span>) ). m1 = [ [<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>], [<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>], [<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>], [<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>], [<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>], [<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>], [<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>], [<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>], [<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>] ]. main --&gt; trace(m1,<span class="hljs-number"><span class="hljs-number">25</span></span>).</code> </pre> <br><br>  In fact, the key line of the entire algorithm is: <br><br><pre> <code class="php hljs">%% this is GoL algorithm %% next(M) = <span class="hljs-keyword"><span class="hljs-keyword">or</span></span>(eq(MN,<span class="hljs-number"><span class="hljs-number">3</span></span>), eq(mul(M,MN),<span class="hljs-number"><span class="hljs-number">4</span></span>)) :- MN = neighbours(M).</code> </pre> <br><br>  which literally means: the cell will be alive in the next step, if its number of neighbors, including itself, is 3, or the number of neighbors, including itself, is 4 and the cell is alive. <br><br>  Another interesting feature of mercury is the ability to infer types, as well as haskell.  To do this, you need to compile with the --infer-all key: <br><br><pre> <code class="php hljs">D:\stuff\test\mercury&gt;mmc.bat --infer-all -s hlc.gc life.m life.m:<span class="hljs-number"><span class="hljs-number">021</span></span>: Inferred :- func eq(<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(T2)), T2) = life.m:<span class="hljs-number"><span class="hljs-number">021</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(int)). life.m:<span class="hljs-number"><span class="hljs-number">024</span></span>: Inferred :- func eq_row(<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(T2), T2) = <span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(int). life.m:<span class="hljs-number"><span class="hljs-number">027</span></span>: Inferred :- func sum(<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(int)), life.m:<span class="hljs-number"><span class="hljs-number">027</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(int))) = <span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(int)). life.m:<span class="hljs-number"><span class="hljs-number">028</span></span>: Inferred :- func <span class="hljs-keyword"><span class="hljs-keyword">or</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(int)), life.m:<span class="hljs-number"><span class="hljs-number">028</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(int))) = <span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(int)). life.m:<span class="hljs-number"><span class="hljs-number">029</span></span>: Inferred :- func mul(<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(int)), life.m:<span class="hljs-number"><span class="hljs-number">029</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(int))) = <span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(int)). life.m:<span class="hljs-number"><span class="hljs-number">031</span></span>: Inferred :- func sum_lst(<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(int)))) = life.m:<span class="hljs-number"><span class="hljs-number">031</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(int)). life.m:<span class="hljs-number"><span class="hljs-number">047</span></span>: Inferred :- func agg_elts(int, int, life.sign) = int. life.m:<span class="hljs-number"><span class="hljs-number">051</span></span>: Inferred :- func hor(<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(int)), life.lr) = life.m:<span class="hljs-number"><span class="hljs-number">051</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(int)). life.m:<span class="hljs-number"><span class="hljs-number">054</span></span>: Inferred :- func head_det(<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(T)) = T. life.m:<span class="hljs-number"><span class="hljs-number">060</span></span>: Inferred :- func gen(T, int) = <span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(T). life.m:<span class="hljs-number"><span class="hljs-number">066</span></span>: Inferred :- func vert(<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(int)), life.ud) = life.m:<span class="hljs-number"><span class="hljs-number">066</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(int)). life.m:<span class="hljs-number"><span class="hljs-number">070</span></span>: Inferred :- func zeros(<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(T))) = <span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(int). life.m:<span class="hljs-number"><span class="hljs-number">072</span></span>: Inferred :- func without_first(<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(T)) = <span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(T). life.m:<span class="hljs-number"><span class="hljs-number">078</span></span>: Inferred :- func without_last(<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(T)) = <span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(T). life.m:<span class="hljs-number"><span class="hljs-number">086</span></span>: Inferred :- func hor_row(<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(int), life.lr) = <span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(int). life.m:<span class="hljs-number"><span class="hljs-number">093</span></span>: Inferred :- func neighbours(<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(int))) = life.m:<span class="hljs-number"><span class="hljs-number">093</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(int)). life.m:<span class="hljs-number"><span class="hljs-number">110</span></span>: Inferred :- func next(<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(int))) = life.m:<span class="hljs-number"><span class="hljs-number">110</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(int)). life.m:<span class="hljs-number"><span class="hljs-number">115</span></span>: Inferred :- pred print_m(<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(int)), io.state, life.m:<span class="hljs-number"><span class="hljs-number">115</span></span>: io.state). life.m:<span class="hljs-number"><span class="hljs-number">115</span></span>: Inferred :- mode print_m(in, di, uo) is det. life.m:<span class="hljs-number"><span class="hljs-number">118</span></span>: Inferred :- pred print_r(<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(int), io.state, io.state). life.m:<span class="hljs-number"><span class="hljs-number">118</span></span>: Inferred :- mode print_r(in, di, uo) is det. life.m:<span class="hljs-number"><span class="hljs-number">121</span></span>: Inferred :- pred print_el(int, io.state, io.state). life.m:<span class="hljs-number"><span class="hljs-number">121</span></span>: Inferred :- mode print_el(in, di, uo) is det. life.m:<span class="hljs-number"><span class="hljs-number">123</span></span>: Inferred :- pred trace(<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(int)), int, io.state, life.m:<span class="hljs-number"><span class="hljs-number">123</span></span>: io.state). life.m:<span class="hljs-number"><span class="hljs-number">123</span></span>: Inferred :- mode trace(in, di, di, uo) is det. life.m:<span class="hljs-number"><span class="hljs-number">131</span></span>: Inferred :- func m1 = <span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span>(int)).</code> </pre> <br><br>  (Without this key, all signatures must be specified in the code). <br>  Well, actually launch, illustrating the evolution of the glider: <br><br><pre> <code class="php hljs">D:\stuff\test\mercury&gt;life.exe .<span class="hljs-comment"><span class="hljs-comment">#........ ..#....... ###....... .......... .......... .......... .......... .......... .......... .......... #.#....... .##....... .#........ .......... .......... .......... .......... .......... .......... ..#....... #.#....... .##....... .......... .......... .......... .......... .......... .......... .#........ ..##...... .##....... .......... .......... .......... .......... .......... .......... ..#....... ...#...... .###...... .......... .......... .......... .......... .......... .......... .......... .#.#...... ..##...... ..#....... .......... .......... .......... .......... .......... .......... ...#...... .#.#...... ..##...... .......... .......... .......... .......... .......... .......... ..#....... ...##..... ..##...... .......... .......... .......... .......... .......... .......... ...#...... ....#..... ..###..... .......... .......... .......... .......... .......... .......... .......... ..#.#..... ...##..... ...#...... .......... .......... .......... .......... .......... .......... ....#..... ..#.#..... ...##..... .......... .......... .......... .......... .......... .......... ...#...... ....##.... ...##..... .......... .......... .......... .......... .......... .......... ....#..... .....#.... ...###.... .......... .......... .......... .......... .......... .......... .......... ...#.#.... ....##.... ....#..... .......... .......... .......... .......... .......... .......... .....#.... ...#.#.... ....##.... .......... .......... .......... .......... .......... .......... ....#..... .....##... ....##.... .......... .......... .......... .......... .......... .......... .....#.... ......#... ....###... .......... .......... .......... .......... .......... .......... .......... ....#.#... .....##... .....#.... .......... .......... .......... .......... .......... .......... ......#... ....#.#... .....##... .......... .......... .......... .......... .......... .......... .....#.... ......##.. .....##... .......... .......... .......... .......... .......... .......... ......#... .......#.. .....###.. .......... .......... .......... .......... .......... .......... .......... .....#.#.. ......##.. ......#... .......... .......... .......... .......... .......... .......... .......#.. .....#.#.. ......##.. .......... .......... .......... .......... .......... .......... ......#... .......##. ......##.. .......... .......... .......... .......... .......... .......... .......#.. ........#. ......###.</span></span></code> </pre><br><br>  Perhaps that's all for today. <br><br>  Some more links: <br><ol><li>  The Windows distribution of the language mercury is available here: <a href="http://code.google.com/p/winmercury/">code.google.com/p/winmercury</a> </li><li>  Just a couple of examples on this <a href="http://langexplr.blogspot.com/search/label/mercury">YaP</a> : <a href="http://langexplr.blogspot.com/search/label/mercury">langexplr.blogspot.com/search/label/mercury</a> </li><li>  Refresh view of Prolog: <a href="http://habrahabr.ru/blogs/programming/47416/">1</a> , <a href="http://habrahabr.ru/blogs/programming/49399/">2</a> </li><li>  Just a couple of one-liner games of life on k and q (descendants of APL, <a href="http://kx.com/">kx.com</a> ): <a href="http://thesweeheng.wordpress.com/2009/02/10/game-of-life-in-one-line-of-k/">k</a> , <a href="http://thesweeheng.wordpress.com/2009/02/10/game-of-life-in-one-line-of-q/">q</a> <br></li></ol></div><p>Source: <a href="https://habr.com/ru/post/112030/">https://habr.com/ru/post/112030/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../112022/index.html">Steve Jobs went on leave for health reasons</a></li>
<li><a href="../112024/index.html">Financial assistance to ideas</a></li>
<li><a href="../112026/index.html">The illusion of privacy from Google and Facebook</a></li>
<li><a href="../112027/index.html">Game magazine ProGam - December-January 2011</a></li>
<li><a href="../112028/index.html">Atomic tablet Odeon TPC-10, part two</a></li>
<li><a href="../112031/index.html">OpenLinkMap - links guide from OpenStreetMap</a></li>
<li><a href="../112032/index.html">TeamViewer, as a component of a Win32 / Sheldor.NAD backdoor</a></li>
<li><a href="../112033/index.html">Terminal Server Based on Cisco Router</a></li>
<li><a href="../112034/index.html">15 useful snippets from Snipplr.com and Active.TutsPlus sites</a></li>
<li><a href="../112036/index.html">Odeon Tablet Review</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>