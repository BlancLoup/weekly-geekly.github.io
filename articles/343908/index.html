<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Spring Websocket + SockJs. How it works?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day, dear habravchane. In this article I want to continue the story of the device Spring Websocket , having considered the server implementation ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Spring Websocket + SockJs. How it works?</h1><div class="post__text post__text-html js-mediator-article">  Good day, dear habravchane.  In this article I want to continue the story of the device <a href="https://habrahabr.ru/post/342790/">Spring Websocket</a> , having considered the server implementation of Spring Websocket + SockJs. <br><br>  SockJs is a JavaScript library that provides a two-way inter-domain communication channel between the client and the server.  In other words, SockJs simulates the WebSocket API.  Under the hood, SockJS first tries to use the native implementation of the WebSocket API.  If this fails, different browser-specific transport protocols are used and represent them through abstractions like WebSocket.  Today we will talk about the port of this library to the world of Spring Frameworks. <br><a name="habracut"></a><br>  Using Websocket and SockJs is available in Spring since version 4.0. <br>  Currently, depending on the browser, SockJs can use the following transport protocols: <br><table><thead><tr><th>  <em>Browser</em> </th><th>  <em>Websockets</em> </th><th>  <em>Streaming</em> </th><th>  <em>Polling</em> </th></tr></thead><tbody><tr><td>  IE 6, 7 </td><td>  no </td><td>  no </td><td>  jsonp-polling </td></tr><tr><td>  IE 8, 9 (cookies = no) </td><td>  no </td><td>  xdr-streaming * </td><td>  xdr-polling * </td></tr><tr><td>  IE 8, 9 (cookies = yes) </td><td>  no </td><td>  iframe-htmlfile </td><td>  iframe-xhr-polling </td></tr><tr><td>  IE 10 </td><td>  rfc6455 </td><td>  xhr-streaming </td><td>  xhr-polling </td></tr><tr><td>  Chrome 6-13 </td><td>  hixie-76 </td><td>  xhr-streaming </td><td>  xhr-polling </td></tr><tr><td>  Chrome 14+ </td><td>  hybi-10 / rfc6455 </td><td>  xhr-streaming </td><td>  xhr-polling </td></tr><tr><td>  Firefox &lt;10 </td><td>  no ** </td><td>  xhr-streaming </td><td>  xhr-polling </td></tr><tr><td>  Firefox 10+ </td><td>  hybi-10 / rfc6455 </td><td>  xhr-streaming </td><td>  xhr-polling </td></tr><tr><td>  Safari 5.x </td><td>  hixie-76 </td><td>  xhr-streaming </td><td>  xhr-polling </td></tr><tr><td>  Safari 6+ </td><td>  rfc6455 </td><td>  xhr-streaming </td><td>  xhr-polling </td></tr><tr><td>  Opera 10.70+ </td><td>  no ** </td><td>  iframe-eventsource </td><td>  iframe-xhr-polling </td></tr><tr><td>  Opera 12.10+ </td><td>  rfc6455 </td><td>  xhr-streaming </td><td>  xhr-polling </td></tr><tr><td>  Konqueror </td><td>  no </td><td>  no </td><td>  jsonp-polling </td></tr></tbody></table><br>  * IE 8+ supports XDomainRequest, which is essentially a modified AJAX / XHR capable of sending cross-domain requests.  But does not send cookies. <br>  ** Firefox 4.0 and Opera 11.00 were shipped with the hixie-76 Websocket protocol disabled.  Which can be activated in the settings. <br><br>  Sometimes it is necessary to download html from a file.  However, in this case, the Origin header is not committed, which can make the use of cross-domain queries unavailable.  To resolve this situation, the following protocols are used: <br><table><thead><tr><th>  <em>Browser</em> </th><th>  <em>Websockets</em> </th><th>  <em>Streaming</em> </th><th>  <em>Polling</em> </th></tr></thead><tbody><tr><td>  IE 8, 9 </td><td>  same as above </td><td>  iframe-htmlfile </td><td>  iframe-xhr-polling </td></tr><tr><td>  Other </td><td>  same as above </td><td>  iframe-eventsource </td><td>  iframe-xhr-polling </td></tr></tbody></table><br>  Consider the basic protocols in a little more detail. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Websocket </h4><br>  WebSocket provides two-way communication between the client and the server using a single TCP connection. <br><br><h4>  XhrPolling (long) </h4><br>  This interaction protocol is characterized by the situation when, when sending a request to the server, the connection is not closed until the message appears on the server.  When a message appears, data is sent to the client and a new connection is created. <br><br><h4>  JsonpPolling (long) </h4><br>  JSONP ("JSON with Padding"). <br>  Similar to the previous protocol, but used for cross-domain interaction.  When sending data, the server encodes the data in JSON and wraps it in a function call, the name of which is received from the callback parameter. <br><br><h4>  XhrStreaming </h4><br>  This protocol is based on the possibility of obtaining part of the data until full download. <br><br><div class="spoiler">  <b class="spoiler_title">Partial load example</b> <div class="spoiler_text"><pre><code class="javascript hljs">&lt;script&gt; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> xhr = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> XMLHttpRequest(); xhr.open(<span class="hljs-string"><span class="hljs-string">'GET'</span></span>, <span class="hljs-string"><span class="hljs-string">'/stream'</span></span>); xhr.seenBytes = <span class="hljs-number"><span class="hljs-number">0</span></span>; xhr.onreadystatechange = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(xhr.readyState == <span class="hljs-number"><span class="hljs-number">3</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> newData = xhr.response.substr(xhr.seenBytes); <span class="hljs-comment"><span class="hljs-comment">//   xhr.seenBytes = xhr.responseText.length; } }; xhr.send(); &lt;/script&gt;</span></span></code> </pre> <br></div></div><br><h4>  Event source </h4><br>  As an implementation of this protocol on the client side, an EventSource object is used.  This object is designed to send text messages using Http.  The main advantage of this approach is the automatic reconnection and the presence of message identifiers for the resumption of data flow. <br><br><h4>  IFrame </h4><br>  The idea of ‚Äã‚Äãusing an IFrame is to enable the page to be processed sequentially as data is loaded from the server.  The interaction scheme is quite simple - a hidden IFrame is created, a request is sent to the server, which returns the header of the document and keeps the connection.  Every time a new data appears, the server frames it with a script tag and sends it to an IFrame.  IFrame receiving a new script block will begin its execution. <br><br><h4>  Htmlfile </h4><br>  This approach is used in IE and consists in wrapping an IFrame into an ActiveX object.  And the main advantage of using is hiding actions in the IFrame from the user. <br><br><h2>  SockJs structure </h2><br><h5>  Hierarchy of transport handlers </h5><br><img src="https://habrastorage.org/webt/qc/qj/bt/qcqjbt5kce_7rkpmao4nu-adlki.png"><br><br><h5>  Session hierarchy </h5><br><img src="https://habrastorage.org/webt/tn/to/ae/tntoae5macqmz1mipwc0g88goro.png"><br><br><h3>  Creating a configuration class </h3><br>  To be able to use SockJs in a Spring application, simply call the .withSockJS () method when registering handlers (WebSocketHandler). <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Configuration</span></span> <span class="hljs-meta"><span class="hljs-meta">@EnableWebSocket</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WebSocketConfig</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WebSocketConfigurer</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">registerWebSocketHandlers</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(WebSocketHandlerRegistry registry)</span></span></span><span class="hljs-function"> </span></span>{ registry.addHandler(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> EchoWebSocketHandler(), <span class="hljs-string"><span class="hljs-string">"/init"</span></span>).withSockJS(); } }</code> </pre> <br>  The implementation of the withSockJS () method can be seen in the AbstractWebSocketHandlerRegistration class.  The main objective of this method is to create a SockJsServiceRegistration factory, from which the main Http processing class for SockJsService requests is created.  After creating an instance of SockJsService, this service is bound to WebSocketHandler and converted to HandlerMapping.  The adapter in this case is the class SockJsHttpRequestHandler. <br><br>  When creating an instance of SockJsService, the task scheduler (TaskScheduler) is passed to it, which will later be used to send Heartbeat messages. <br><br>  Jackson2SockJsMessageCodec is used as the default message conversion codec. <br><br>  To connect SockJs on the client side, you need to add a javascript library, and create a SockJS object, while changing the protocol of our endpoint from ws (wss) to http (https) <br><br><pre> <code class="javascript hljs">&lt;!DOCTYPE html&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">html</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">lang</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"en"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">ng-app</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"testSockJs"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">head</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">charset</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"utf-8"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">title</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Test SockJs</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">title</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">head</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">body</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"https://cdn.jsdelivr.net/npm/sockjs-client@1/dist/sockjs.min.js"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="undefined"><span class="xml"><span class="undefined"> </span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="javascript"><span class="xml"><span class="javascript"> </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">var</span></span></span></span><span class="xml"><span class="javascript"> ws = </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">new</span></span></span></span><span class="xml"><span class="javascript"> SockJS(</span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">"http://localhost:8080/init"</span></span></span></span><span class="xml"><span class="javascript">); ws.onmessage = </span></span><span class="hljs-function"><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function">(</span></span></span><span class="hljs-params"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-params">data</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function">)</span></span></span></span><span class="xml"><span class="javascript">{ </span></span><span class="hljs-built_in"><span class="xml"><span class="javascript"><span class="hljs-built_in">console</span></span></span></span><span class="xml"><span class="javascript">.log(data); } </span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">body</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">html</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre> <br><br><h3>  Description of the interaction algorithm </h3><br>  Work begins with a client request / info, in response to which the server returns an object of the form <br><pre> <code class="hljs json">{<span class="hljs-attr"><span class="hljs-attr">"entropy"</span></span>:<span class="hljs-number"><span class="hljs-number">293909549</span></span>,<span class="hljs-attr"><span class="hljs-attr">"origins"</span></span>:[<span class="hljs-string"><span class="hljs-string">"*:*"</span></span>],<span class="hljs-attr"><span class="hljs-attr">"cookie_needed"</span></span>:<span class="hljs-literal"><span class="hljs-literal">true</span></span>,<span class="hljs-attr"><span class="hljs-attr">"websocket"</span></span>:<span class="hljs-literal"><span class="hljs-literal">true</span></span>}</code> </pre> <br>  which indicates the available url for processing client requests.  Whether cookies are necessary and is it possible to use webSocket.  Based on this data, the client library selects the transport protocol. <br><br>  All client requests are <br><pre> <code class="hljs pgsql">http://host:port/myApp/myEndpoint/{<span class="hljs-keyword"><span class="hljs-keyword">server</span></span>-id}/{<span class="hljs-keyword"><span class="hljs-keyword">session</span></span>-id}/{transport}</code> </pre> <br>  {server-id} is a random parameter from 000 to 999, the only purpose of which is to simplify balancing on the server side. <br>  {session-id} -maps HTTP requests that belong to the SockJS session. <br>  {transport} - indicates the transport protocol "websocket", "xhr-streaming", etc. <br><br>  To maintain compatibility with Websocket, Api SockJs uses a custom messaging protocol: <br>  o - (open frame) is sent each time a new session is opened. <br>  c - (close frame) is sent when the client requests that the connection be closed. <br>  h - (heartbeat frame) check the availability of the connection. <br>  a - (data frame) An array of json messages.  For example: a ["message"]. <br><br><h3>  Fallback example </h3><br>  Consider an example when we do not have the ability to process Websocket on the server; it is quite simple to do this by setting the webSocketEnabled variable to false in the SockJsServiceRegistration class <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Configuration</span></span> <span class="hljs-meta"><span class="hljs-meta">@EnableWebSocket</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WebSocketConfig</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WebSocketConfigurer</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">registerWebSocketHandlers</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(WebSocketHandlerRegistry registry)</span></span></span><span class="hljs-function"> </span></span>{ registry.addHandler(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> EchoWebSocketHandler(), <span class="hljs-string"><span class="hljs-string">"/init"</span></span>).setAllowedOrigins(<span class="hljs-string"><span class="hljs-string">"*"</span></span>).withSockJS().setWebSocketEnabled(<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); } }</code> </pre> <br>  The client will check the possibility of opening a socket by calling / info.  Having received a negative response, two channels will be used for exchanging messages: one for receiving messages - usually the streaming protocol, and one for sending messages to the server (http requests).  These communication channels will be connected to one sessionId transmitted in the URL. <br><br>  When sending a message from a client, the request goes to the DispatcherServlet, from where it is redirected to our SockJsHttpRequestHandler adapter.  This class converts the request and forwards it to the SockJsService, which delegates the function of accepting a message to a user session of SockJsSession.  And since our session is tied to the WebSocketHandler handler, we receive the sent message in our handler. <br><br>  To send a message to the client, we still use the WebSocketSession.  The fact is that SockJsSession is an extension of WebSocketSession.  And specific implementations of SockJsSession are tied to the transport protocol.  Therefore, on the server side, when calling <i>session.sendMessage (new TextMessage ("some message"));</i>  the message is converted to a specific protocol type and a formatted message is sent to the client. <br><br>  That is, in fact, all the magic of the possibility of a fallback when using SockJs. <br><br>  Used sources: <br>  <a href="https://docs.spring.io/spring/docs/current/spring-framework-reference/web.html">Websocket sockjs</a> <br>  <a href="https://sockjs.github.io/sockjs-protocol/sockjs-protocol-0.3.3.html">SockJs protocol</a> </div><p>Source: <a href="https://habr.com/ru/post/343908/">https://habr.com/ru/post/343908/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../343892/index.html">Twelve Linux Security Tips</a></li>
<li><a href="../343894/index.html">Analysis of six web frameworks: pros, cons and features of choice</a></li>
<li><a href="../343902/index.html">Deploy Windows Containers to Azure Container Instances (ACI). Kubernetes Connector</a></li>
<li><a href="../343904/index.html">External IT services: ‚Äúand we have worked before‚Äù</a></li>
<li><a href="../343906/index.html">There was no sadness, updates pumped up</a></li>
<li><a href="../343910/index.html">Dimension vs Illusions</a></li>
<li><a href="../343912/index.html">Should I develop my hobby in a startup?</a></li>
<li><a href="../343914/index.html">The history of moving the system administrator in Germany. Part One: Job Search and Visa</a></li>
<li><a href="../343916/index.html">How to evaluate the effectiveness of advertising in the application: ARPDAU, seasonality and a few secrets</a></li>
<li><a href="../343918/index.html">ASO Monthly # 17: September 2017</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>