<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Permutations without formulas. (PHP code)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Looking through the questions and articles on the Internet, I noticed that this seemingly simple topic poses some difficulty in drawing up the algorit...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Permutations without formulas. (PHP code)</h1><div class="post__text post__text-html js-mediator-article">  Looking through the questions and articles on the Internet, I noticed that this seemingly simple topic poses some difficulty in drawing up the algorithm.  I will try to explain as simply as possible to myself and to you the algorithm for generating permutations, or rather, one of the possible ones. <br><br><a name="habracut"></a>  Many articles describing the topic of permutations begin with formulas or theories of general combinatorics.  We depart from this canonical principle. <br>  <b>There is a task</b> : it is required to print all the permutations of four numbers: <br>  1, 2, 3, 4. <br><br>  <b>Solution - first on a piece of paper.</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      1) Let's calculate successively permutations for one element, for - 1. <br>  We write the result: <br>  <b>one</b> <br>  It is equal to one, there is no place to rearrange one element, but we will remember the result, it will come in handy. <br><br>  2) Calculate the permutations for the two elements - 1 and 2 <br>  We write the result: <br>  <b>12</b> <b><br></b>  <b>2 1</b> <br>  We have two permutations.  All permutations of the spirit of the elements are equal to two.  Now we need to calculate for three elements - 1, 2, 3. To do this, take our new number - 3 and substitute it in each row for permutations for two elements. <br>  We will substitute for each row sequentially so that this number - 3 - will be <b>at each position, i.e .: at the end of the line, between each element and at the beginning of the line.</b>  <b>Start at the end of the line.</b> <br>  For the first row, we get the result (in the form of a square diagonal matrix): <br>  <b>1 2 3</b> <b><br></b>  <b>1 3 2</b> <b><br></b>  <b>3 1 2</b> <br>  For the second line, the result is: <br>  <b>2 1 3</b> <b><br></b>  <b>2 3 1</b> <b><br></b>  <b>3 2 1</b> <br>  We write the result. <br><br>  3) For the four elements - 1, 2, 3, 4, we will do the same thing as in step two.  Take the values ‚Äã‚Äãobtained earlier and substitute the number 4 for each line <b>at the end, between each element and at the beginning of the line.</b> <br>  Start again from the end: <br><br><pre><code class="cs hljs">&lt;<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>&gt; &lt;<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>&gt; &lt;<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>&gt; &lt;<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>&gt; &lt;<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>&gt; &lt;<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>&gt; &lt;<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>&gt; &lt;<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>&gt; &lt;<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>&gt; &lt;<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>&gt; &lt;<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>&gt; &lt;<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>&gt; &lt;<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>&gt; &lt;<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>&gt; &lt;<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>&gt; &lt;<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>&gt; &lt;<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>&gt; &lt;<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>&gt; &lt;<span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>&gt; &lt;<span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>&gt; &lt;<span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>&gt; &lt;<span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>&gt; &lt;<span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>&gt; &lt;<span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>&gt;</code> </pre> <br>  We get 24 permutations.  Easy to check - the factorial of 4 is 24: <br>  <b>four!</b>  <b>= 1 * 2 * 3 * 4 = 24</b> <br><br>  Let us pay attention once again: we take the results found at the previous step, take the number higher by one, substitute this number into each line - pull from the end of the line to the beginning.  When this number is in the first position, we take the next line and repeat the actions.  We obtain a simple algorithm for permutations in a non-lexicographic order, which can be quickly translated into machine language.  The result, by the way, strongly resembles the Gray code for permutations, as well as the Johnson-Trotter algorithm.  Although I did not penetrate much, but if it is interesting, then you can read about it by typing ‚ÄúGray Codes for Permutations‚Äù in the search engine. <br><br>  <b>About copyright</b> <br>  By the way, personally, it came to my mind to pull the numbers along the line after one association from life, this association is associated with weaving bast or basket, when each new ring is formed by pulling a hook or willow twig through each vertical arc. <br><br>  Fix it all with this sequence of pictures: <br><img src="https://habrastorage.org/getpro/habr/post_images/77c/8ca/84b/77c8ca84ba4b5d503f67ba99df5f205d.gif" alt="image"><br><br>  And now we will try to implement this algorithm in PHP, we will use files to store values.  Create two files with the names 1.txt and 2.txt, in the file 1.txt write the unit. <br>  For some practical tasks, the use of the following is not planned, so let's build more in it: <br><br>  1. We will read the file 1.txt line by line. <br>  3. Break the loop if the string is empty. <br>  4. The string will be split and stored in an array (explode). <br>  5. Add the following number to it (array_push). <br>  It is an unpleasant fact, but at each iteration of the uppermost cycle we will use array_trim, since in the array, we have an unpredictable character of the blanks. <br>  6. In the while loop, we will only use list to offset the number by string. <br>  7. We will write all the results in the 2.txt file, then delete 1.txt and rename 2.txt to 1.txt, refresh the page, everything is very simple. <br><br>  The main focus of this article is not on the code below the line that you are currently finishing up, but on the algorithm described above. <br><br><habracut></habracut><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> $handle = fopen(<span class="hljs-string"><span class="hljs-string">"1.txt"</span></span>, <span class="hljs-string"><span class="hljs-string">"r"</span></span>); $handle2 = fopen(<span class="hljs-string"><span class="hljs-string">"2.txt"</span></span>, <span class="hljs-string"><span class="hljs-string">"w+"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (!feof($handle)) { $ar = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(); $line = fgets($handle); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($line == <span class="hljs-string"><span class="hljs-string">''</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } $ar = explode(<span class="hljs-string"><span class="hljs-string">'.'</span></span>, $line); $c = count($ar); array_push($ar, $c + <span class="hljs-number"><span class="hljs-number">1</span></span>); $c+= <span class="hljs-number"><span class="hljs-number">1</span></span>; $ar = array_map(<span class="hljs-string"><span class="hljs-string">'trim'</span></span>, $ar); <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'&lt;br /&gt;'</span></span>; $s = implode(<span class="hljs-string"><span class="hljs-string">'.'</span></span>, $ar); <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $s; fwrite($handle2, <span class="hljs-string"><span class="hljs-string">"$s\r\n"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> ($c != <span class="hljs-number"><span class="hljs-number">1</span></span>) { $c--; <span class="hljs-keyword"><span class="hljs-keyword">list</span></span>($ar[$c<span class="hljs-number"><span class="hljs-number">-1</span></span>], $ar[$c]) = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( $ar[$c], $ar[$c<span class="hljs-number"><span class="hljs-number">-1</span></span>] ); <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'&lt;br /&gt;'</span></span>; $s = implode(<span class="hljs-string"><span class="hljs-string">'.'</span></span>, $ar); <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $s; fwrite($handle2, <span class="hljs-string"><span class="hljs-string">"$s\r\n"</span></span>); } } fclose($handle); fclose($handle2); unlink(<span class="hljs-string"><span class="hljs-string">"1.txt"</span></span>); rename(<span class="hljs-string"><span class="hljs-string">"2.txt"</span></span>, <span class="hljs-string"><span class="hljs-string">"1.txt"</span></span>); <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span></code> </pre><br><br><br>  Post Scriptum, links and some history. <br>  On the non-recursive lexicographic method (in the dictionary order) of generating permutations, you can see the articles that reveal the meaning of the algorithm of the Indian mathematician of the XIV century Narayana Pandita.  Apparently, he is one of the first authors of the non-recursive algorithm. <br><br>  On the history of combinatorics in different countries: <br>  <a href="http://www.williamspublishing.com/PDF/978-5-8459-1158-2/part.pdf">www.williamspublishing.com/PDF/978-5-8459-1158-2/part.pdf</a> <br><br>  Permutation methods can be found here: <br>  <a href="http://study.sfu-kras.ru/DATA/docs/Program...rs/gn_trans.htm">study.sfu-kras.ru/DATA/docs/Program...rs/gn_trans.htm</a> <br><br>  To study the issue of permutations in php, I would like to mention this article by comrade tvolf, very useful (Thank you very much): <br>  <a href="http://tvolf.blogspot.ru/2013/09/php.html">tvolf.blogspot.ru/2013/09/php.html</a> <br><br>  Pps <br><br>  In addition, permutations can be generated using pseudo-random numbers - RANDOM, although it is a long time, but there is still such a way. <br>  And one more way to print all permutations for the number n is to first generate all placements with repetition, and then delete the values ‚Äã‚Äãin which the characters repeat - this is the easiest to program, but the longest.  It is usually not even considered, but it is still there, since (recall) permutations are a special case of placements. </div><p>Source: <a href="https://habr.com/ru/post/260111/">https://habr.com/ru/post/260111/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../260101/index.html">To the question about Arduino</a></li>
<li><a href="../260103/index.html">Energy efficient data center</a></li>
<li><a href="../260105/index.html">Lectures of the Technosphere. Semester 2 Quality Assurance and Testing Methods for Web Applications</a></li>
<li><a href="../260107/index.html">Zoning for cluster storage in pictures</a></li>
<li><a href="../260109/index.html">What kind of deployd beast and why you can love it with the first click</a></li>
<li><a href="../260113/index.html">Virtual time. Part 1: computer time sources</a></li>
<li><a href="../260115/index.html">IoT for a penny, or What can DeviceHive</a></li>
<li><a href="../260117/index.html">VKontakte closed the vulnerability, due to which Apple sent iOS applications to reject</a></li>
<li><a href="../260119/index.html">Virtual Time Part 2: Simulation and Virtualization Issues</a></li>
<li><a href="../260121/index.html">The new version of the malware Duqu is used for cyber espionage</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>