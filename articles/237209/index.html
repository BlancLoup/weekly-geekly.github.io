<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>These entertaining regional settings</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Today we will talk about regional settings. But first, a small problem: what will the code below show? (The code is given in C #, but quite a common p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>These entertaining regional settings</h1><div class="post__text post__text-html js-mediator-article">  Today we will talk about regional settings.  But first, a small problem: what will the code below show?  (The code is given in C #, but quite a common problem is considered, so you can imagine some other language in its place.) <br><br><pre><code class="hljs pgsql">Console.WriteLine((<span class="hljs-number"><span class="hljs-number">-42</span></span>).ToString() == "-42"); Console.WriteLine(<span class="hljs-type"><span class="hljs-type">double</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">NaN</span></span>.ToString() == "NaN"); Console.WriteLine(<span class="hljs-type"><span class="hljs-type">int</span></span>.Parse("-42") == <span class="hljs-number"><span class="hljs-number">-42</span></span>); Console.WriteLine(<span class="hljs-number"><span class="hljs-number">1.1</span></span>.ToString().Contains("?") == <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); Console.WriteLine(<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> DateTime(<span class="hljs-number"><span class="hljs-number">2014</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>).ToString().Contains("2014")); Console.WriteLine("i".ToUpper() == "I" || "I".ToLower() == "i");</code> </pre> <br>  How many <i>true</i> values ‚Äã‚Äãdid you get?  If it is greater than 0, then it does not bother you to learn more about the regional settings, because the correct answer is ‚Äúdepends.‚Äù  Unfortunately, many programmers do not even think that these settings may differ in different environments.  And it‚Äôs lazy to expose InvariantCulture for the entire code by this programmer, as a result of which their excellent applications behave very strangely, getting to users from other countries. Errors are very different, but they are often associated with formatting and parsing lines - quite frequent tasks for many programmers .  The article provides a brief selection of some important points that are affected by regional settings. <br><br><img src="https://habrastorage.org/files/b27/f80/50d/b27f8050d4c443d1ba154f885ee016ba.png" alt="CultureInfoExplorer Sceenshot"><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Quite a bit of theory: in .NET, all information about a specific language and regional settings can be found using the <a href="http://msdn.microsoft.com/en-us/library/system.globalization.cultureinfo.aspx">CultureInfo</a> class.  If you have not experienced cultures before, then <a href="http://habrahabr.ru/post/166053/">this post is</a> well suited for initial familiarization.  A sophisticated programmer, fascinated by the study of various existing regional settings, can get tired of manually viewing all the <i>CultureInfo</i> .  Personally, I got tired at some point.  Therefore, a small WPF application called CultureInfoExplorer ( <a href="https://github.com/AndreyAkinshin/CultureInfoExplorer">link to GitHub</a> , <a href="">binaries</a> ) appeared on the screenshot above.  It allows: <ul><li>  For this <i>CultureInfo,</i> look at the value of its main properties and how it looks like some pre-prepared string patterns. </li><li>  For this property, see its possible values ‚Äã‚Äãand a list of all <i>CultureInfo</i> that correspond to each value. </li><li>  For this pattern, see the possible options for what it can turn into, and for each option, also see the list of relevant <i>CultureInfo</i> . </li></ul>  I hope there will be readers who will find this program useful.  You can learn a lot about the various regional settings.  Well, now move on to the examples. <br><br><h3>  Numbers </h3><br>  We have <a href="http://msdn.microsoft.com/en-us/library/system.globalization.numberformatinfo.aspx">NumberFormatInfo</a> (available through <a href="http://msdn.microsoft.com/en-us/library/system.globalization.cultureinfo.numberformat.aspx">CultureInfo.NumberFormat</a> ) for the representation of numbers.  And it means not only ordinary numbers, but also percentage and monetary values.  Note that the values ‚Äã‚Äãare positive and negative: if you are working with localization / globalization, then it is important to pay attention to this.  I strongly recommend to at least run through the eyes of the documentation and see the available properties. <br><br>  One of the most popular properties that causes problems in humans is called <a href="http://msdn.microsoft.com/en-us/library/system.globalization.numberformatinfo.numberdecimalseparator.aspx">NumberDecimalSeparator</a> .  It is responsible for what the integer part of the number will be separated from the fractional when formatting a number.  A typical example of an error: a programmer merges an array of fractional numbers into a line, separated by commas.  After that, it tries to parse the line back into the array.  If <i>NumberDecimalSeparator</i> is equal to a point, then everything will be fine.  For example, with the en-US culture exposed, everything worked for the programmer, he released his product.  This product is downloaded by a user with the ru-RU culture and begins to be sad: after all, he has a <i>NumberDecimalSeparator</i> equal to a comma: an array of elements 1.2 and 3.4 will turn into a <i>‚Äú1,2,3,4‚Äù</i> line during such a merge, and it will be problematic to parse.  Personally, I feel even sadder when a programmer who has encountered a similar problem does not try to solve it normally, indicating the correct <i>NumberFormatInfo</i> when formatting, but begins to conjure points with commas or commas with dots.  You need to understand that the <i>NumberDecimalSeparator</i> , in principle, can be any.  For example, in the fa-IR (Persian) culture, it is equal to the forward slash ('/'). <br><br>  We also have similar properties for interest and currency: <a href="http://msdn.microsoft.com/en-us/library/system.globalization.numberformatinfo.percentdecimalseparator.aspx">PercentDecimalSeparator</a> and <a href="http://msdn.microsoft.com/en-us/library/system.globalization.numberformatinfo.currencydecimalseparator.aspx">CurrencyDecimalSeparator</a> .  All these three values ‚Äã‚Äãare not required to match.  For example, for Kazakhs (kk-KZ), <i>NumberDecimalSeparator</i> and <i>PercentDecimalSeparator</i> are comma, and CurrencyDecimalSeparator is equal to minus sign (exactly the same with which negative numbers are denoted). <br><br>  Some believe that an integer when converting to a string gives a value consisting only of numbers.  But these figures can be divided into groups.  For the size of groups, the <a href="http://msdn.microsoft.com/en-us/library/system.globalization.numberformatinfo.numbergroupsizes.aspx">NumberGroupSizes</a> property is <a href="http://msdn.microsoft.com/en-us/library/system.globalization.numberformatinfo.numbergroupsizes.aspx">responsible</a> , and the separator is <a href="http://msdn.microsoft.com/en-us/library/system.globalization.numberformatinfo.numbergroupseparator.aspx">NumberGroupSeparator</a> (percent and currencies have similar properties, but they are not required to match again).  Groups can be of different sizes: for example, in many cultures (as-IN, bn-BD, gu-IN, hi-IN, etc.) <i>NumberGroupSizes</i> is {3, 2}.  For example, the number 1234567 in an as-IN culture will look like <i>‚Äú12,34,567‚Äù</i> .  You can use a space \ u0020 as a group separator (for example, in af-ZA and lt-LT), but when you see it, do not rush to drive in another crutch for parsing and formatting strings.  Most often, instead of the usual space, a non-breaking space is used \ u00A0 (our native ru-RU). <br><br>  Signs to indicate negative and positive numbers are also included in the culture: <a href="http://msdn.microsoft.com/en-us/library/system.globalization.numberformatinfo.negativesign.aspx">NegativeSign</a> , <a href="http://msdn.microsoft.com/en-us/library/system.globalization.numberformatinfo.positivesign.aspx">PositiveSign</a> .  Thank God, in all available cultures they are equal to minus and plus, but it is not worth laying down for it: the environment can be redefined and any properties can be set to properties.  And the most interesting thing is not the signs, but the formatting patterns of positive and negative values.  For example, the formatting of a negative number is determined using the <a href="http://msdn.microsoft.com/en-us/library/system.globalization.numberformatinfo.numbernegativepattern.aspx">NumberNegativePattern</a> , which has five possible values: <br><br><pre> <code class="hljs lisp"><span class="hljs-number"><span class="hljs-number">0</span></span> (<span class="hljs-name"><span class="hljs-name">n</span></span>) <span class="hljs-number"><span class="hljs-number">1</span></span> -n <span class="hljs-number"><span class="hljs-number">2</span></span> - n <span class="hljs-number"><span class="hljs-number">3</span></span> n- <span class="hljs-number"><span class="hljs-number">4</span></span> n -</code> </pre><br>  For example, in the ti-ET culture (Tigrinya (Ethiopia)), the value -5 will appear as (5).  With percentages and currencies ( <a href="http://msdn.microsoft.com/en-us/library/system.globalization.numberformatinfo.percentnegativepattern.aspx">PercentNegativePattern</a> , <a href="http://msdn.microsoft.com/en-us/library/system.globalization.numberformatinfo.percentpositivepattern.aspx">PercentPositivePattern</a> , <a href="http://msdn.microsoft.com/en-us/library/system.globalization.numberformatinfo.currencynegativepattern.aspx">CurrencyNegativePattern</a> , <a href="http://msdn.microsoft.com/en-us/library/system.globalization.numberformatinfo.currencypositivepattern.aspx">CurrencyPositivePattern</a> ), the situation is even more fun.  For example, for <i>CurrencyNegativePattern</i> there are as many as sixteen possible values: <br><br><pre> <code class="hljs ruby"><span class="hljs-number"><span class="hljs-number">0</span></span> ($n) <span class="hljs-number"><span class="hljs-number">1</span></span> -$n <span class="hljs-number"><span class="hljs-number">2</span></span> $-n <span class="hljs-number"><span class="hljs-number">3</span></span> $n- <span class="hljs-number"><span class="hljs-number">4</span></span> (n$) <span class="hljs-number"><span class="hljs-number">5</span></span> -n$ <span class="hljs-number"><span class="hljs-number">6</span></span> n-$ <span class="hljs-number"><span class="hljs-number">7</span></span> n$- <span class="hljs-number"><span class="hljs-number">8</span></span> -n $ <span class="hljs-number"><span class="hljs-number">9</span></span> -$ n <span class="hljs-number"><span class="hljs-number">10</span></span> n $- <span class="hljs-number"><span class="hljs-number">11</span></span> $ n- <span class="hljs-number"><span class="hljs-number">12</span></span> $ -n <span class="hljs-number"><span class="hljs-number">13</span></span> n- $ <span class="hljs-number"><span class="hljs-number">14</span></span> ($ n) <span class="hljs-number"><span class="hljs-number">15</span></span> (n $)</code> </pre><br>  There are also special properties for special characters and special numerical values: <a href="http://msdn.microsoft.com/en-us/library/system.globalization.numberformatinfo.percentsymbol.aspx">PercentSymbol</a> , <a href="http://msdn.microsoft.com/en-us/library/system.globalization.numberformatinfo.permillesymbol.aspx">PerMilleSymbol</a> , <a href="http://msdn.microsoft.com/en-us/library/system.globalization.numberformatinfo.nansymbol.aspx">NaNSymbol</a> , <a href="http://msdn.microsoft.com/en-us/library/system.globalization.numberformatinfo.negativeinfinitysymbol.aspx">NegativeInfinitySymbol</a> , <a href="http://msdn.microsoft.com/en-us/library/system.globalization.numberformatinfo.positiveinfinitysymbol.aspx">PositiveInfinitySymbol</a> .  I have seen a real project in which a double was taken, formatted into a string (of course, in the current culture of the user), and then compared in string form with <i>‚Äú-Infinity‚Äù</i> .  And depending on this very current culture, <i>NegativeInfinitySymbol</i> can take on a variety of values: <br><br><pre> <code class="hljs cs"><span class="hljs-string"><span class="hljs-string">'- '</span></span>, <span class="hljs-string"><span class="hljs-string">'-- ·û¢·ûì·ûì·üí·ûè'</span></span>, <span class="hljs-string"><span class="hljs-string">'(-) ‡ÆÆ‡ØÅ‡Æü‡Æø‡Æµ‡Æø‡Æ≤‡Æø'</span></span>, <span class="hljs-string"><span class="hljs-string">'-‚àû'</span></span>, <span class="hljs-string"><span class="hljs-string">'-Anfeidredd'</span></span>, <span class="hljs-string"><span class="hljs-string">'-Anfin'</span></span>, <span class="hljs-string"><span class="hljs-string">'-begalybƒó'</span></span>, <span class="hljs-string"><span class="hljs-string">'-beskonaƒçnost'</span></span>, <span class="hljs-string"><span class="hljs-string">'√âigr√≠och dhi√∫ltach'</span></span>, <span class="hljs-string"><span class="hljs-string">'-ifedh'</span></span>, <span class="hljs-string"><span class="hljs-string">'-INF'</span></span>, <span class="hljs-string"><span class="hljs-string">'-Infini'</span></span>, <span class="hljs-string"><span class="hljs-string">'-infinit'</span></span>, <span class="hljs-string"><span class="hljs-string">'-Infinit'</span></span>, <span class="hljs-string"><span class="hljs-string">'-Infinito'</span></span>, <span class="hljs-string"><span class="hljs-string">'-Infinitu'</span></span>, <span class="hljs-string"><span class="hljs-string">'-infinity'</span></span>, <span class="hljs-string"><span class="hljs-string">'Infinity-'</span></span>, <span class="hljs-string"><span class="hljs-string">'-Infinity'</span></span>, <span class="hljs-string"><span class="hljs-string">'miinusl√µpmatus'</span></span>, <span class="hljs-string"><span class="hljs-string">'m√≠nusz v√©gtelen'</span></span>, <span class="hljs-string"><span class="hljs-string">'-nekoneƒçno'</span></span>, <span class="hljs-string"><span class="hljs-string">'-neskonƒçnost'</span></span>, <span class="hljs-string"><span class="hljs-string">'-niesko≈Ñczono≈õƒá'</span></span>, <span class="hljs-string"><span class="hljs-string">'-njek√≥nƒçne'</span></span>, <span class="hljs-string"><span class="hljs-string">'-njesk√≥≈Ñcnje'</span></span>, <span class="hljs-string"><span class="hljs-string">'-onendlech'</span></span>, <span class="hljs-string"><span class="hljs-string">'-Sonsuz'</span></span>, <span class="hljs-string"><span class="hljs-string">'-t√ºkeniksizlik'</span></span>, <span class="hljs-string"><span class="hljs-string">'-unendlich'</span></span>, <span class="hljs-string"><span class="hljs-string">'-Unendlich'</span></span>, <span class="hljs-string"><span class="hljs-string">'-ŒÜœÄŒµŒπœÅŒø'</span></span>, <span class="hljs-string"><span class="hljs-string">'-'</span></span>, <span class="hljs-string"><span class="hljs-string">' '</span></span>, <span class="hljs-string"><span class="hljs-string">'-·É£·É°·Éê·É°·É†·É£·Éö·Éù·Éë·Éê'</span></span>, <span class="hljs-string"><span class="hljs-string">'◊ê◊ô◊†◊°◊ï◊£ ◊©◊ú◊ô◊ú◊ô'</span></span>, <span class="hljs-string"><span class="hljs-string">'-ŸÑÿß ŸÜŸáÿßŸäÿ©'</span></span>, <span class="hljs-string"><span class="hljs-string">'ŸÖŸÜŸáÿß€å ÿ®€å ŸÜŸáÿß€åÿ™'</span></span>, <span class="hljs-string"><span class="hljs-string">'ŸÖ€ïŸÜŸæŸâŸä ⁄Ü€ïŸÉÿ≥Ÿâÿ≤ŸÑŸâŸÉ'</span></span>, <span class="hljs-string"><span class="hljs-string">'-‡∂Ö‡∂±‡∂±‡∑ä‡∂≠‡∂∫'</span></span>, <span class="hljs-string"><span class="hljs-string">'·†∞·†¶·†¨·†°·†∑·†¨·†¶ ·†¨·†¢·†µ·††·†≠·††·†∑·†≠·†¶·†¢ ·†∂·†°·†¨·†°'</span></span>, <span class="hljs-string"><span class="hljs-string">'‡Ωò‡Ωº‡ºã‡ΩÇ‡æ≤‡ΩÑ‡Ω¶‡ºã‡Ωö‡Ωë‡ºã‡Ωò‡Ω∫‡Ωë‡ºã‡ΩÜ‡Ω¥‡ΩÑ‡ºã‡Ωñ‡ºç'</span></span>, <span class="hljs-string"><span class="hljs-string">'ﬂòﬂäﬂ¨ﬂ≤ﬂíﬂïﬂäﬂ´ﬂ≤-'</span></span>, <span class="hljs-string"><span class="hljs-string">'ÍÄÑÍä≠ÍåêÍÄãÍâÜ'</span></span>, <span class="hljs-string"><span class="hljs-string">'Ë≤†ÁÑ°Á™ÆÂ§ß'</span></span>, <span class="hljs-string"><span class="hljs-string">'Ë¥üÊó†Á©∑Â§ß'</span></span></code> </pre><br>  Examples of various useful properties we have disassembled.  And now let's fool around a bit: we‚Äôll slightly change Russian culture so that its new meaning spoils our life in the example from the beginning of the post: <br><br><pre> <code class="hljs pgsql">var myCulture = (CultureInfo)<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> CultureInfo("ru-RU").Clone(); myCulture.NumberFormat.NegativeSign = "!"; myCulture.NumberFormat.PositiveSign = "-"; myCulture.NumberFormat.PositiveInfinitySymbol = "+Inf"; myCulture.NumberFormat.NaNSymbol = "Not a number"; myCulture.NumberFormat.NumberDecimalSeparator = "?"; Thread.CurrentThread.CurrentCulture = myCulture; Console.WriteLine(<span class="hljs-number"><span class="hljs-number">-42</span></span>); // !<span class="hljs-number"><span class="hljs-number">42</span></span> Console.WriteLine(<span class="hljs-type"><span class="hljs-type">double</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">NaN</span></span>); // <span class="hljs-keyword"><span class="hljs-keyword">Not</span></span> a number Console.WriteLine(<span class="hljs-type"><span class="hljs-type">int</span></span>.Parse("-42")); // <span class="hljs-number"><span class="hljs-number">42</span></span> Console.WriteLine(<span class="hljs-number"><span class="hljs-number">1.1</span></span>); // <span class="hljs-number"><span class="hljs-number">1</span></span>?<span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre><br>  Perhaps someone here will tell me: ‚ÄúWhy should we consider such examples at all?  No programmer will ever write such a thing! ‚Äù  And I will answer: "Well, well, not one will, of course."  The situation becomes sad when you distribute some library, and one of its users decided to have fun with the culture.  Maybe he just loves to have fun, or maybe he writes an application for some kind of cultural culture (say, a dead or fictional language).  But it is not important.  And the important thing is that your library begins to behave strangely in an environment unfamiliar to it.  Therefore, it is not necessary to base on the fact that <i>NegativeSign</i> and <i>PositiveSign</i> never change.  It is better to simply indicate the culture you need and live happily. <br><br>  And yet, I advise everyone to read the recent post of John <a href="http://codeblog.jonskeet.uk/2014/08/08/the-bobbytables-culture/">Skithe The BobbyTables culture</a> .  Brief essence: John Skit swears at those who do not escape parameters in SQL queries, even if these are numbers and dates.  And then John takes a couple of requests. <br><br><pre> <code class="hljs sql">"<span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Foo <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> BarDate &gt; <span class="hljs-string"><span class="hljs-string">'" + DateTime.Today + "'</span></span><span class="hljs-string"><span class="hljs-string">" "</span></span><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Foo <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> BarValue = <span class="hljs-string"><span class="hljs-string">" + (-10)</span></span></code> </pre><br>  and defines the wonder culture: <br><br><pre> <code class="hljs mel">CultureInfo bobby = (CultureInfo) CultureInfo.InvariantCulture.Clone(); bobby.DateTimeFormat.ShortDatePattern = @"yyyy-MM-dd<span class="hljs-string"><span class="hljs-string">''</span></span> OR <span class="hljs-string"><span class="hljs-string">' '</span></span>=<span class="hljs-string"><span class="hljs-string">''</span></span><span class="hljs-string"><span class="hljs-string">"; bobby.DateTimeFormat.LongTimePattern = "</span></span><span class="hljs-string"><span class="hljs-string">"; bobby.NumberFormat.NegativeSign = "</span></span><span class="hljs-number"><span class="hljs-number">1</span></span> OR <span class="hljs-number"><span class="hljs-number">1</span></span>=<span class="hljs-number"><span class="hljs-number">1</span></span> OR <span class="hljs-number"><span class="hljs-number">1</span></span>=<span class="hljs-string"><span class="hljs-string">";</span></span></code> </pre><br>  With a flick of the wrist, requests turn into: <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Foo <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> BarDate &gt; <span class="hljs-string"><span class="hljs-string">'2014-08-08'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> <span class="hljs-string"><span class="hljs-string">' '</span></span>=<span class="hljs-string"><span class="hljs-string">' '</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Foo <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> BarValue = <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>=<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>=<span class="hljs-number"><span class="hljs-number">10</span></span></code> </pre><br>  Well, I think no further explanation is needed. <br><br><h3>  date and time </h3><br>  With dates and times, everything is especially hard.  For dates, we have the <a href="http://msdn.microsoft.com/en-us/library/system.globalization.datetimeformatinfo.aspx">DateTimeFormatInfo</a> class (the <a href="http://msdn.microsoft.com/en-us/library/system.globalization.cultureinfo.datetimeformat.aspx">CultureInfo.DateTimeFormat</a> property), and it has a <a href="http://msdn.microsoft.com/en-us/library/system.globalization.datetimeformatinfo.calendar.aspx">Calendar</a> .  And there is a main culture calendar ( <a href="http://msdn.microsoft.com/en-us/library/system.globalization.cultureinfo.calendar.aspx">CultureInfo</a> ), and there is a list of available calendars for use ( <a href="http://msdn.microsoft.com/en-us/library/system.globalization.cultureinfo.optionalcalendars.aspx">CultureInfo.OptionalCalendar</a> ).  We have a large bundle of standard calendars: <a href="http://msdn.microsoft.com/en-us/library/system.globalization.chineselunisolarcalendar.aspx">ChineseLunisolarCalendar</a> , <a href="http://msdn.microsoft.com/en-us/library/system.globalization.eastasianlunisolarcalendar.aspx">EastAsianLunisolarCalendar</a> , <a href="http://msdn.microsoft.com/en-us/library/system.globalization.gregoriancalendar.aspx">GregorianCalendar</a> , <a href="http://msdn.microsoft.com/en-us/library/system.globalization.hebrewcalendar.aspx">HebrewCalendar</a> , <a href="http://msdn.microsoft.com/en-us/library/system.globalization.hijricalendar.aspx">HijriCalendar</a> , <a href="http://msdn.microsoft.com/en-us/library/system.globalization.japanesecalendar.aspx">JapaneseCalendar</a> , <a href="http://msdn.microsoft.com/en-us/library/system.globalization.japaneselunisolarcalendar.aspx">JapaneseLunisolarCalendar</a> , <a href="http://msdn.microsoft.com/en-us/library/system.globalization.juliancalendar.aspx">JulianCalendar</a> , <a href="http://msdn.microsoft.com/en-us/library/system.globalization.koreancalendar.aspx">KoreanCalendar</a> , <a href="http://msdn.microsoft.com/en-us/library/system.globalization.koreanlunisolarcalendar.aspx">KoreanLunisolarCalendar</a> , <a href="http://msdn.microsoft.com/en-us/library/system.globalization.persiancalendar.aspx">PersianCalendar</a> , <a href="http://msdn.microsoft.com/en-us/library/system.globalization.taiwancalendar.aspx">TaiwanCalendar</a> , <a href="http://msdn.microsoft.com/en-us/library/system.globalization.taiwanlunisolarcalendar.aspx">TaiwanLunisolarCalendar</a> , and an <a href="http://msdn.microsoft.com/en-us/library/system.globalization.koreanlunisolarcalendar.aspx">image</a> that is used for an <a href="http://msdn.microsoft.com/en-us/library/system.globalization.persiancalendar.aspx">image</a> that is <a href="http://msdn.microsoft.com/en-us/library/system.globalization.taiwancalendar.aspx">used to</a> be an <a href="http://msdn.microsoft.com/en-us/library/system.globalization.taiwanlunisolarcalendar.aspx">image</a> that is <a href="http://msdn.microsoft.com/en-us/library/system.globalization.thaibuddhistcalendar.aspx">used to</a> be an <a href="http://msdn.microsoft.com/en-us/library/system.globalization.umalquracalendar.aspx">art tantal calendar</a>  Their logic, I tell you, is the most varied.  We will not dwell in detail, because there is enough information on this topic on the Internet, and there will be enough material for a series of independent posts.  The rules for formatting dates and times are even more fun than the numbers: a bunch of patterns for different options for formatting dates, native names for months and days of the week, designations for AM / PM, separators, etc.  Say, December 31, 2014 can be represented ( <i>dateTime.ToString ("d")</i> ) in the following formats: <br><br><pre> <code class="hljs">09/03/36 10/3/1436 12/31/2014 1436/3/10 2014.12.21. 2014/12/21 2014-12-21 31. 12. 2014 31.12.14 31.12.14 √Ω. 31.12.2014 31.12.2014 . 31.12.2014. 31/12/14 31/12/2014 31/12/2557 31-12-14 31-12-2014 31- 14 31--14</code> </pre><br>  And these are only default values ‚Äã‚Äã(without connecting optional calendars).  But even here you can see a variety of chronology: someone in the yard is 1436, and someone is 2557 (this is a reference to the penultimate line of the example from the beginning of the article)  If you operate with dates, then you should think about whether they should always be shown in the same format or adapt to the user and display the date in a more familiar form.  Well, about the parsing of dates, I generally keep silence. <br><br><h3>  The turkey test </h3><br><img src="https://habrastorage.org/files/54b/9c5/363/54b9c536365e43089f6178a0cafbadfa.png" alt="Turkey flag" width="200"><br><br>  There is a classic post from 2008 called <a href="http://www.moserware.com/2008/02/does-your-code-pass-turkey-test.html">Does Your Code Pass The Turkey Test?</a>  .  I will not retell it in detail, it is better to read the original yourself.  The brief summary of The Turkey Test is: change the current culture to tr-TR (Turkish (Turkey)) and run your application.  Does everything work fine?  In this culture, there is enough fun with dates, numbers, and strings.  If we go back to our first example, then in this culture <i>‚Äúi‚Äù .ToUpper () is</i> not equal to <i>‚ÄúI‚Äù</i> , and <i>‚ÄúI‚Äù .ToLower () is</i> not equal to <i>‚Äúi‚Äù</i> (if you are interested in learning more about upper and lower case letters, then I highly recommend <a href="http://habrahabr.ru/post/147387/">this post</a> and <a href="http://stackoverflow.com/a/6163129/184842">this SO-answer about UTF-8</a> , it's just great).  At the end of the post is a wonderful example in which a string consisting of Arabic numerals <i>"Ÿ§Ÿ¶Ÿ†Ÿ£Ÿ®" is used</i> for the regular expression <i>\ d {5}</i> . <br><br><h3>  Instead of conclusion </h3><br>  The science of regional settings is complex.  In this post, in no case do I pretend to give out complete information about what they can influence.  There are still a lot of different interesting things connected with internalization (I think, only about the text going from right to left, you can write a separate post, and not just one).  I just wanted to show some interesting examples of how <i>CultureInfo.CurrentCulture</i> can affect your application.  Hopefully, in terms of expanding the general erudition, this material will be useful to someone.  The general moral is this: if you don‚Äôt want to think that there are many different cultures in the world, then use <i>CultureInfo.InvariantCulture</i> everywhere (or another culture that suits you) - in most cases you will be able to sleep peacefully.  And if you think about it, then it would be nice to study this area more thoroughly.  This is a good book that can help: <a href="https://www.goodreads.com/book/show/1310940.Net_Internationalization">Net Internationalization: Windows and Web Applications</a> . <br><br>  Any additional facts on how <i>CultureInfo</i> can affect the operation of various functions are welcome.  I think many will find their own fascinating stories. </div><p>Source: <a href="https://habr.com/ru/post/237209/">https://habr.com/ru/post/237209/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../237197/index.html">Social network "for the rich"</a></li>
<li><a href="../237199/index.html">Towards Rust 1.0</a></li>
<li><a href="../237201/index.html">CUSTIS Open Seminars: Sixth Season</a></li>
<li><a href="../237203/index.html">The story of one geek</a></li>
<li><a href="../237207/index.html">Analysis of Simplelocker-a - extortion virus for Android</a></li>
<li><a href="../237213/index.html">Boot into Vim or Vim with PID 1</a></li>
<li><a href="../237215/index.html">How to create an effective form of gathering contacts: everything you wanted to know, but were afraid to ask</a></li>
<li><a href="../237217/index.html">A bit about iptables, iproute2 and emulation of network problems</a></li>
<li><a href="../237219/index.html">Let's play a game</a></li>
<li><a href="../237221/index.html">SDR / SDN - how the new architecture is implemented in a real cellular network</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>