<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Do not use @import</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article, the author Steve Souders provides visual evidence why you should not use import to load styles into a document. 

 LINK vs. import 
 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Do not use @import</h1><div class="post__text post__text-html js-mediator-article">  In this article, the author Steve Souders provides visual evidence why you should not use <a href="http://habrahabr.ru/users/import/" class="user_link">import</a> to load styles into a document. <br><br><h3>  LINK vs.  <a href="http://habrahabr.ru/users/import/" class="user_link">import</a> </h3><br>  There are 2 ways to upload style files.  Use LINK tag: <br><blockquote><pre>  &lt;link rel = 'stylesheet' href = 'a.css'&gt; </pre></blockquote><br>  Or import files using <a href="http://habrahabr.ru/users/import/" class="user_link">import</a> : <br><blockquote><pre>  &lt;style&gt;
 @import url ('a.css');
 &lt;/ style&gt;
</pre></blockquote><br>  I prefer to use LINK for convenience, because  you must remember that <a href="http://habrahabr.ru/users/import/" class="user_link">import</a> must always be placed at the very top of the style block, otherwise they are not imported. <br><a name="habracut"></a><br><h3>  <a href="http://habrahabr.ru/users/import/" class="user_link">import</a> <a href="http://habrahabr.ru/users/import/" class="user_link">import</a> </h3><br>  I want to talk about the various ways to use LINK and <a href="http://habrahabr.ru/users/import/" class="user_link">import</a> .  The following example lists 2 style files: a.css and b.css.  Each download file takes exactly 2 seconds to make it convenient to track the effect on download speed in the future.  The first example uses <a href="http://habrahabr.ru/users/import/" class="user_link">import</a> to load both style files.  In this example, called <a href="http://habrahabr.ru/users/import/" class="user_link">import</a> <a href="http://habrahabr.ru/users/import/" class="user_link">import</a> , the HTML document contains the following style block: <br><blockquote><pre>  &lt;style&gt;
 @import url ('a.css');
 @import url ('b.css');
 &lt;/ style&gt;
</pre></blockquote><br>  If you always use only <a href="http://habrahabr.ru/users/import/" class="user_link">import</a> for loading styles, there will be no performance problems, although we will see below, this can lead to an error with javascript.  Both files are loaded in parallel (see Figure 1). But problems start to appear if you use <a href="http://habrahabr.ru/users/import/" class="user_link">import</a> inside the style file or with LINK. <br><br><img title="import-import" src="http://www.getincss.ru/wp-content/uploads/2009/04/import-import.gif" alt="import-import" width="431" height="40"><br>  Fig.  one. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  LINK <a href="http://habrahabr.ru/users/import/" class="user_link">import</a> </h3><br>  The <a href="http://stevesouders.com/tests/atimport/link-import.php">LINK</a> <a href="http://habrahabr.ru/users/import/" class="user_link">import</a> example uses a LINK tag to load a.css, and <a href="http://habrahabr.ru/users/import/" class="user_link">import</a> for b.css: <br><blockquote><pre>  &lt;link rel = 'stylesheet' type = 'text / css' href = 'a.css'&gt;
 &lt;style&gt;
 @import url ('b.css');
 &lt;/ style&gt;
</pre></blockquote><br>  In IE (tested in 6, 7, and 8), this caused the files to be loaded sequentially one after the other, as shown in Figure 2. Accordingly, the page load time in IE will increase. <br><br><img title="link-import" src="http://www.getincss.ru/wp-content/uploads/2009/04/link-import.gif" alt="link-import" width="443" height="40"><br>  Fig.  2 <br><br><h3>  LINK with <a href="http://habrahabr.ru/users/import/" class="user_link">import</a> </h3><br>  In the <a href="http://habrahabr.ru/users/import/" class="user_link">import</a> <a href="http://stevesouders.com/tests/atimport/link-with-import.php">LINK</a> example, the a.css file is loaded via LINK, and contains an <a href="http://habrahabr.ru/users/import/" class="user_link">import</a> rule for b.css inside: <br>  In the document: <br><blockquote><pre>  &lt;link rel = 'stylesheet' type = 'text / css' href = 'a.css'&gt;
</pre></blockquote><br>  in a.css: <br><blockquote><pre>  @import url ('b.css');
</pre></blockquote><br>  This method also leads to the fact that the files are loaded sequentially (Fig. 3.), and not in parallel, but now it happens not only in IE, but also in other browsers.  If you think about it, everything is logical: the browser loads a.css and starts parsing it.  Upon finding the <a href="http://habrahabr.ru/users/import/" class="user_link">import</a> rule inside, the b.css file starts loading. <br><br><img title="link-with-import" src="http://www.getincss.ru/wp-content/uploads/2009/04/link-with-import.gif" alt="link-with-import" width="443" height="40"><br>  Fig.  3 <br><br><h3>  LINK blocks with <a href="http://habrahabr.ru/users/import/" class="user_link">import</a> </h3><br>  The slight difference from the previous example led to surprising results in IE.  LINK is used to call a.css and for the new proxy.css file, which contains only <a href="http://habrahabr.ru/users/import/" class="user_link">import</a> for b.css. <br>  <a href="http://stevesouders.com/tests/atimport/link-blocks-import.php">In the code</a> : <br><blockquote><pre>  &lt;link rel = 'stylesheet' type = 'text / css' href = 'a.css'&gt;
 &lt;link rel = 'stylesheet' type = 'text / css' href = 'proxy.css'&gt;
</pre></blockquote><br>  In proxy.css: <br><blockquote><pre>  @import url ('b.css');
</pre></blockquote><br>  The results of the experiment in IE are shown in Figure 4. The first query is an HTML document.  The second request is a.css (2 seconds).  The third is proxy.css.  Fourth - b.css (2 seconds).  Surprisingly, IE does not want to start loading b.css until the a.css file is fully loaded.  In all other browsers, this surprise does not occur, which leads to a faster page load (see Figure 5). <br><br><img title="link-blocks-import" src="http://www.getincss.ru/wp-content/uploads/2009/04/link-blocks-import.gif" alt="link-blocks-import" width="441" height="54"><br>  Fig.  4. Results in IE. <br><br><img title="link-blocks-import-not-ie" src="http://www.getincss.ru/wp-content/uploads/2009/04/link-blocks-import-not-ie.gif" alt="link-blocks-import-not-ie" width="259" height="54"><br>  Fig.  5. Results in other browsers. <br><br><h3>  Many @imports </h3><br>  The use <a href="http://stevesouders.com/tests/atimport/many-imports.php">of several</a> <a href="http://habrahabr.ru/users/import/" class="user_link">import</a> <a href="http://stevesouders.com/tests/atimport/many-imports.php">rules</a> in IE at <a href="http://stevesouders.com/tests/atimport/many-imports.php">once</a> leads to the fact that files are not loaded in the order in which they are specified in the code.  In this example, 6 style files are used (each loading 2 seconds each), followed by a JS script (4 seconds to load). <br><blockquote><pre>  &lt;style&gt;
 @import url ('a.css');
 @import url ('b.css');
 @import url ('c.css');
 @import url ('d.css');
 @import url ('e.css');
 @import url ('f.css');
 &lt;/ style&gt;
 &lt;script src = 'one.js' type = 'text / javascript'&gt; &lt;/ script&gt;
</pre></blockquote><br>  In fig.  6 you will see that the longest in loading is the script.  Although it is listed after styles, in IE it is loaded first.  If the script contains code that depends on the styles used (getElementsByClassName, etc.), this can lead to script operation errors, since  It loads before styles. <br><br><img title="many-imports" src="http://www.getincss.ru/wp-content/uploads/2009/04/many-imports.gif" alt="many-imports" width="442" height="110"><br>  Fig.  6 <br><br><h3>  LINK LINK </h3><br>  It‚Äôs easier and safer to use <a href="http://stevesouders.com/tests/atimport/link-link.php">LINK</a> to load styles: <br><blockquote><pre>  &lt;link rel = 'stylesheet' type = 'text / css' href = 'a.css'&gt;
 &lt;link rel = 'stylesheet' type = 'text / css' href = 'b.css'&gt;
</pre></blockquote><br>  Using LINK provides parallel file downloads in all browsers (see Figure 7).  The use of LINK also ensures that the files will be loaded in the exact order specified in the document code. <br><br><img title="import-import" src="http://www.getincss.ru/wp-content/uploads/2009/04/import-import.gif" alt="import-import" width="431" height="40"><br>  Fig.  7 <br><br>  It is especially bad for us that resources can be loaded in a different order than indicated in the document.  All browsers should look ahead of loading styles to extract <a href="http://habrahabr.ru/users/import/" class="user_link">import</a> rules and start loading them immediately.  As long as browsers do not implement this, I advise you to avoid using <a href="http://habrahabr.ru/users/import/" class="user_link">import</a> and load styles only with LINK. <br><br>  Hope on your comments also <a href="http://www.getincss.ru/2009/04/11/ne-ispolzujte-import/">here</a> . <br></div><p>Source: <a href="https://habr.com/ru/post/57012/">https://habr.com/ru/post/57012/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../57005/index.html">Cut out :)</a></li>
<li><a href="../57006/index.html">An interesting task for experts</a></li>
<li><a href="../57008/index.html">Sony Ericsson Idou - new SE with 12.1MP running Symbian OS</a></li>
<li><a href="../57009/index.html">Habr in Speed ‚Äã‚Äã/ Fast Dial</a></li>
<li><a href="../57010/index.html">Google code hosting - as I saw it</a></li>
<li><a href="../57013/index.html">In search of the real Bill Gates. Part two</a></li>
<li><a href="../57014/index.html">RapidShare Lottery</a></li>
<li><a href="../57015/index.html">Conficker Test</a></li>
<li><a href="../57018/index.html">Emotional intelligence</a></li>
<li><a href="../57019/index.html">Domestic enterprises inhibit the development of Runet</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>