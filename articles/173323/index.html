<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>My fight with PTPCamera or the fascinating reversal story for the youngest</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Almost all advanced SLR cameras, as well as some regular soap cases, allow you to control yourself from a computer. Software control of the camera pro...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>My fight with PTPCamera or the fascinating reversal story for the youngest</h1><div class="post__text post__text-html js-mediator-article">  Almost all advanced SLR cameras, as well as some regular soap cases, allow you to control yourself from a computer.  Software control of the camera provides interesting features, for example: shooting <a href="http://en.wikipedia.org/wiki/Time-lapse_photography">time lapse video</a> , camera pairing with a microscope, experiments in computer vision.  To control the camera vendors provide their own proprietary SDK, which usually work exclusively under Windows and support cameras only within a certain range (for example, Canon has as many as 4 incompatible SDKs).  What a blessing that there is a worthy open alternative - the <a href="http://www.gphoto.org/">gphoto</a> project. <br><br>  Right now, gphoto supports 1598 camera models and the list is constantly growing.  The project is built for all UNIX-like operating systems, including Linux and Mac OS X. Shooting can be managed both using the command line utility and from its own program using the libgphoto library.  Bindings are available for different language platforms, including <a href="https://github.com/lwille/node-gphoto2">node.js.</a> <br><br>  In modern operating systems, there are built-in tools for working with digital cameras - as a rule, ‚Äúwork‚Äù means only uploading photos from the camera.  These built-in mechanisms prevent the operation of gphoto, since they capture a USB device in exclusive mode.  Particularly interesting is the situation in this regard in Mac OS X - the OS does not provide any standard features for shutting down, but the system of support for digital cameras is easily amenable to reverse engineering. <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <a href="https://github.com/mejedi/mac-gphoto-enabler">Scripts</a> to block running PTPCamera on github. <br><br><h1>  PTPCamera </h1>  The Internet advises to execute the <code>killall -9 PTPCamera</code> (kill the PTPCamera process) after connecting the camera for gphoto to work properly.  It really helps, but every time you connect the camera, you have to repeat the procedure again.  Of course, you can simply remove the PTPCamera program, but I wanted to get by with a less radical solution. <br><br>  In general, it was necessary to understand the mechanism for launching PTPCamera, and to disable this function as correctly as possible. <br><br><h1>  About capturing images on Mac OS X </h1>  According to the available sources [ <a href="http://www.filibeto.org/unix/macos/lib/dev/documentation/Carbon/Conceptual/ImageCaptureServicesProgrammingGuide/ImageCaptureServicesProgrammingGuide.pdf">1</a> , <a href="https://developer.apple.com/library/mac/">2</a> ], the image capture infrastructure in Mac OS X is organized as follows. <br><br><img src="https://habrastorage.org/storage2/ac2/4a9/b79/ac24a9b79f5736d2ae3f31b85aaf3ec7.png"><br><br>  At the top of the stack are applications that the user directly interacts with (ex: iPhoto). <br><br>  At the bottom are applications for managing devices, the latter include PTPCamera.  Applications for managing devices ( <code>MassStorageCamera.app</code> , <code>PTPCamera.app</code> , <code>TWAINBridge.app</code> , etc.) live in the system <code>/System/Library/Image Capture/Devices</code> and <code>/Library/Image Capture/Devices</code> folders. <br><br>  In the middle is the communication layer, which organizes the connection between the upper and lower levels.  It is curious that several user applications can use one device together, and also transparent work with devices over a local network is possible. <br><br><h1>  Who launches PTPCamera? </h1>  Let's try to determine the mechanism for launching PTPCamera, and first define the parent process. <br><pre> <code class="hljs pgsql">$ pgrep PTPCamera <span class="hljs-number"><span class="hljs-number">29045</span></span> $ ps -O ppid -p <span class="hljs-number"><span class="hljs-number">29045</span></span> PID PPID TT STAT <span class="hljs-type"><span class="hljs-type">TIME</span></span> COMMAND <span class="hljs-number"><span class="hljs-number">29045</span></span> <span class="hljs-number"><span class="hljs-number">202</span></span> ?? S <span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">00.10</span></span> /<span class="hljs-keyword"><span class="hljs-keyword">System</span></span>/Library/Image Capture/Devices/PTPCamer $ ps -p <span class="hljs-number"><span class="hljs-number">202</span></span> PID TTY <span class="hljs-type"><span class="hljs-type">TIME</span></span> CMD <span class="hljs-number"><span class="hljs-number">202</span></span> ?? <span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">16.75</span></span> /sbin/launchd</code> </pre><br>  So we see that PTPCamera is launched by the launchd process.  On Mac OS X, launchd is a universal launch for system and user daemons.  The system has a launchd instance for each active user.  The root user Launchd performs the same functions as <a href="http://en.wikipedia.org/wiki/Init">init</a> on traditional UNIX systems. <br><br><pre> <code class="hljs pgsql">$ ps -A -O <span class="hljs-keyword"><span class="hljs-keyword">user</span></span> | grep /sbin/launchd <span class="hljs-number"><span class="hljs-number">1</span></span> root ?? Ss <span class="hljs-number"><span class="hljs-number">3</span></span>:<span class="hljs-number"><span class="hljs-number">06.80</span></span> /sbin/launchd <span class="hljs-number"><span class="hljs-number">172</span></span> _windowserver ?? Ss <span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">00.06</span></span> /sbin/launchd <span class="hljs-number"><span class="hljs-number">202</span></span> nickz ?? Ss <span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">16.76</span></span> /sbin/launchd <span class="hljs-number"><span class="hljs-number">206</span></span> _spotlight ?? Ss <span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">00.27</span></span> /sbin/launchd <span class="hljs-number"><span class="hljs-number">28919</span></span> _cvmsroot ?? Ss <span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">00.01</span></span> /sbin/launchd <span class="hljs-number"><span class="hljs-number">28937</span></span> _securityagent ?? Ss <span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">00.01</span></span> /sbin/launchd</code> </pre> <br>  In addition to demons, laucnhd also launches graphics applications at the command of other programs.  PTPCamera is exactly the last case, as can be seen from the task ID in launchd, [prefix] tells us this. <br><br><pre> <code class="hljs perl">$ launchctl list | <span class="hljs-keyword"><span class="hljs-keyword">grep</span></span> PTPCamera <span class="hljs-number"><span class="hljs-number">29045</span></span> - [<span class="hljs-number"><span class="hljs-number">0x0</span></span>-<span class="hljs-number"><span class="hljs-number">0x457457</span></span>].com.apple.PTPCamera</code> </pre> <br>  So, we know that PTPCamera was launched by the launchd process, at the command of some application X. <br><br>  Turn on launchd logging ( <code>launchctl log level debug</code> ), and trigger PTPCamera to restart. <br><br>  By default, a quota of 500 log entries per second is allocated for each process in the system.  Messages that do not meet the limit are discarded.  Set up a separate debug message build to bypass the limit. <br><br>  Add a line to the <code>/etc/syslog.conf</code> file <pre> <code class="hljs pgsql">*.<span class="hljs-keyword"><span class="hljs-keyword">debug</span></span> /var/<span class="hljs-keyword"><span class="hljs-keyword">log</span></span>/<span class="hljs-keyword"><span class="hljs-keyword">debug</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">log</span></span></code> </pre> <br>  and inform the <code>syslogd</code> daemon about the need to re-read the settings <pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">sudo</span></span> killall -HUP syslogd</code> </pre> <br>  Analyzing the resulting file <code>debug.log</code> .  Find the required: <pre> <code class="hljs css">(<span class="hljs-selector-attr"><span class="hljs-selector-attr">[0x0-0x2d92d9]</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.com</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.apple</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.PTPCamera</span></span><span class="hljs-selector-attr"><span class="hljs-selector-attr">[24472]</span></span>): <span class="hljs-selector-tag"><span class="hljs-selector-tag">Spawned</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">by</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">PID</span></span> 240: <span class="hljs-selector-tag"><span class="hljs-selector-tag">com</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.apple</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.SystemUIServer</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.agent</span></span></code> </pre> <br>  We request the <code>launchd</code> information about <code>com.apple.SystemUIServer.agent</code> : <br><pre> <code class="hljs ruby">$ launchctl list com.apple.SystemUIServer.agent { <span class="hljs-string"><span class="hljs-string">"Program"</span></span> = <span class="hljs-string"><span class="hljs-string">"/System/Library/CoreServices/SystemUIServer.app/Contents/MacOS/SystemUIServer"</span></span>; };</code> </pre> <br>  Now we know that the ‚Äúculprit‚Äù of launching <code>PTPCamera</code> is <code>SystemUIServer</code> , no less. <br><br><h1>  We pick SystemUIServer </h1>  There is a suspicion that the required functionality is not in <code>SystemUIServer</code> itself, but in one of the linked frameworks: <br><pre> <code class="hljs vhdl">$ otool -L /System/<span class="hljs-keyword"><span class="hljs-keyword">Library</span></span>/CoreServices/SystemUIServer.app/Contents/MacOS/SystemUIServer /System/<span class="hljs-keyword"><span class="hljs-keyword">Library</span></span>/CoreServices/SystemUIServer.app/Contents/MacOS/SystemUIServer: /System/<span class="hljs-keyword"><span class="hljs-keyword">Library</span></span>/PrivateFrameworks/CoreUI.framework/Versions/A/CoreUI /System/<span class="hljs-keyword"><span class="hljs-keyword">Library</span></span>/PrivateFrameworks/Admin.framework/Versions/A/Admin /System/<span class="hljs-keyword"><span class="hljs-keyword">Library</span></span>/Frameworks/Carbon.framework/Versions/A/Carbon /System/<span class="hljs-keyword"><span class="hljs-keyword">Library</span></span>/PrivateFrameworks/SystemUIPlugin.framework/Versions/A/SystemUIPlugin /System/<span class="hljs-keyword"><span class="hljs-keyword">Library</span></span>/Frameworks/IOKit.framework/Versions/A/IOKit /System/<span class="hljs-keyword"><span class="hljs-keyword">Library</span></span>/Frameworks/SystemConfiguration.framework/Versions/A/SystemConfiguration /System/<span class="hljs-keyword"><span class="hljs-keyword">Library</span></span>/Frameworks/AppKit.framework/Versions/C/AppKit /System/<span class="hljs-keyword"><span class="hljs-keyword">Library</span></span>/Frameworks/Security.framework/Versions/A/Security /System/<span class="hljs-keyword"><span class="hljs-keyword">Library</span></span>/PrivateFrameworks/ICANotifications.framework/Versions/A/ICANotifications /System/<span class="hljs-keyword"><span class="hljs-keyword">Library</span></span>/PrivateFrameworks/iPod.framework/Versions/A/iPod ...</code> </pre><br>  In this list, the main suspect is <code>ICANotifications.framework</code> .  <code>ICA</code> is short for <i>image capture</i> , the same acronym is used in public frameworks to capture images. <br><br><h1>  Learn ICANotifications.framework </h1>  <i>Lyrical digression.</i>  The executable file consists of code and immutable static data (various constants, tables, and so on.) Of particular interest are string constants.  You can extract them using the <code>strings</code> command. <br><br>  Run <code>strings /System/Library/PrivateFrameworks/ICANotifications.framework/Versions/A/ICANotifications</code> , and enjoy the results: <br><pre> <code class="hljs sql">... /Library/Caches/com.apple.ImageCaptureNotifications.DeviceDiscoveryDatabase.%d ... <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> DBVersion (<span class="hljs-keyword"><span class="hljs-keyword">ID</span></span> <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span> primary <span class="hljs-keyword"><span class="hljs-keyword">key</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, typeID <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> SourceFile (<span class="hljs-keyword"><span class="hljs-keyword">ID</span></span> <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span> primary <span class="hljs-keyword"><span class="hljs-keyword">key</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, typeID <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span>, bundleID <span class="hljs-built_in"><span class="hljs-built_in">varchar</span></span>(<span class="hljs-number"><span class="hljs-number">256</span></span>), bundleVersion <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span>, bundlePath <span class="hljs-built_in"><span class="hljs-built_in">varchar</span></span>(<span class="hljs-number"><span class="hljs-number">256</span></span>), deviceDiscoveryPath <span class="hljs-built_in"><span class="hljs-built_in">varchar</span></span>(<span class="hljs-number"><span class="hljs-number">256</span></span>), deviceDiscoveryModDate <span class="hljs-built_in"><span class="hljs-built_in">varchar</span></span>(<span class="hljs-number"><span class="hljs-number">20</span></span>), readDate <span class="hljs-built_in"><span class="hljs-built_in">varchar</span></span>(<span class="hljs-number"><span class="hljs-number">20</span></span>), iTWAINDS <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> IOUSBDevice (<span class="hljs-keyword"><span class="hljs-keyword">ID</span></span> <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span> primary <span class="hljs-keyword"><span class="hljs-keyword">key</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, typeID <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span>, idVendor <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span>, idProduct <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> IOUSBInterface (<span class="hljs-keyword"><span class="hljs-keyword">ID</span></span> <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span> primary <span class="hljs-keyword"><span class="hljs-keyword">key</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, typeID <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span>, bInterfaceClass <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span>, bInterfaceSubClass <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span>, bInterfaceProtocol <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span>) ...</code> </pre><br>  So it is SQL! <br><br>  So, the working hypothesis - the library works with the SQLite database, most likely it is the file <code>com.apple.ImageCaptureNotifications.DeviceDiscoveryDatabase</code> in <code>/Library/Caches</code> . <br><br><pre> <code class="hljs vhdl">$ ls /<span class="hljs-keyword"><span class="hljs-keyword">Library</span></span>/Caches/com.apple.ImageCaptureNotifications.DeviceDiscoveryDatabase.* /<span class="hljs-keyword"><span class="hljs-keyword">Library</span></span>/Caches/com.apple.ImageCaptureNotifications.DeviceDiscoveryDatabase.<span class="hljs-number"><span class="hljs-number">501</span></span> $ sqlite3 /<span class="hljs-keyword"><span class="hljs-keyword">Library</span></span>/Caches/com.apple.ImageCaptureNotifications.DeviceDiscoveryDatabase.<span class="hljs-number"><span class="hljs-number">501</span></span> sqlite&gt; .schema CREATE TABLE DBVersion (ID <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span> primary key <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, typeID <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span>, value <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span>); CREATE TABLE IOUSBDevice (ID <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span> primary key <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, typeID <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span>, idVendor <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span>, idProduct <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span>); CREATE TABLE IOUSBInterface (ID <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span> primary key <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, typeID <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span>, bInterfaceClass <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span>, bInterfaceSubClass <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span>, bInterfaceProtocol <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span>); ...</code> </pre> <br>  And there is! <br><br>  You can see that the user ID is appended to the end of the name ( <code>com.apple.ImageCaptureNotifications.DeviceDiscoveryDatabase.501</code> ), each user has its own file.  From the content it is clear that the base sets the list of correspondences of the class of devices and the control program that must be launched when a device is detected. <br><br>  Editing the database, we disable the launch of <code>PTPCamera</code> for any selected user, <b>this is an unambiguous success</b> ! <br><br>  If you need to return everything back, roll back the changes, or simply delete the database file (the name of the <code>/Library/Caches</code> tells us that the OS can regenerate the contents if necessary). <br><br>  <a href="https://github.com/mejedi/mac-gphoto-enabler">Further</a> - the matter of technology. <br><br><h3>  Optional materials </h3><ol><li>  <b>Amit Singh</b> Mac OS X Internals: A Systems Approach [ <a href="http://www.amazon.com/Mac-OS-Internals-Systems-Approach/dp/0321278542/ref%3Dsr_1_1%3Fie%3DUTF8%26qid%3D1364489005%26sr%3D8-1%26keywords%3Damit%2Bsingh">amazon</a> ] </li><li>  <a href="https://github.com/mejedi/mac-gphoto-enabler">Project</a> repository </li></ol></div><p>Source: <a href="https://habr.com/ru/post/173323/">https://habr.com/ru/post/173323/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../173305/index.html">Fujitsu software will detect your pulse in the face</a></li>
<li><a href="../173307/index.html">Who is shorter</a></li>
<li><a href="../173309/index.html">Why does Google think that users will like Google Currents instead of Google Reader?</a></li>
<li><a href="../173311/index.html">Enumeration implementation (Enum) in PHP with type checking</a></li>
<li><a href="../173313/index.html">CMS Koken for photo galleries</a></li>
<li><a href="../173325/index.html">Top Secret or Static IP on Windows Phone</a></li>
<li><a href="../173327/index.html">intro.js - step-by-step guide for the web page</a></li>
<li><a href="../173329/index.html">One of the developers of IE 5.0 told how they beat Netscape.</a></li>
<li><a href="../173331/index.html">The creators of the Internet received the Queen Elizabeth Award for inventors</a></li>
<li><a href="../173333/index.html">Sort by StackSort</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>