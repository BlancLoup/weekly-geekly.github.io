<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Description of digital machines on VHDL</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Some theory 
 A digital automat (CA) is a device that receives, stores and converts discrete information according to some algorithm and can be in one...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Description of digital machines on VHDL</h1><div class="post__text post__text-html js-mediator-article"><h4>  Some theory </h4><br>  A digital automat (CA) is a device that receives, stores and converts discrete information according to some algorithm and can be in one of several stable states [7]. <br><br><img src="https://habrastorage.org/files/b4d/37f/d5f/b4d37fd5fe5444da8be668d625720e83.png"><br><br>  Figure 1 - Graph of the digital machine <br><a name="habracut"></a><br>  If the output of a digital automaton depends only on the current state, then such an automaton is called <b>Moore‚Äôs</b> automaton, if the output signal depends on the current state and input signals, then this digital automaton is called <b>Mili</b> automaton. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The digital automaton can be described using the following representations: <br><br>  - in the form of a directed graph, <br>  - using transitions and exits. <br><br>  The representation of a digital automaton in the form of a directed graph is shown in Fig.  1. Here in the circles ‚Äî the vertices of the graph ‚Äî the states of the digital automaton are shown, the transitions between the states are shown by arcs between the vertices, and the transition to the same state is shown by a loop. <br><br>  Near the arcs and loops shows the values ‚Äã‚Äãof the input signals at which this transition occurs.  For example, (a OR b) means that this transition will occur when <i>a = 1</i> or <i>b = 1</i> . <br><br>  The output signals for Moore‚Äôs automaton are shown near the vertices of the graph, and for the Miles digital automaton, on the arcs near the input signals.  So  in fig.  1 shows Moore‚Äôs digital automat. <br><br>  The representation of a digital automaton using tables assumes the existence of two tables: a transition table and an output table.  <b>The transition table</b> links the current state, input signals and the future state of the digital automat.  The transition table of the CA, described by the graph in Fig.  1, shown in Table.  one. <br><br>  Table 1 - Digital automatic transition table <br><table><tbody><tr><td>  Current state </td><td>  Next state </td><td>  Transition condition </td></tr><tr><td>  S0 </td><td>  S0 </td><td>  a = 0 or c = 0 </td></tr><tr><td>  S0 </td><td>  S1 </td><td>  a = 1 </td></tr><tr><td>  S1 </td><td>  S1 </td><td>  a = 1 or b = 1 </td></tr><tr><td>  S1 </td><td>  S0 </td><td>  a = 0 and b = 0 </td></tr><tr><td>  S0 </td><td>  S2 </td><td>  c = 1 </td></tr><tr><td>  S2 </td><td>  S2 </td><td>  c = 1 or b = 1 </td></tr><tr><td>  S2 </td><td>  S0 </td><td>  c = 0 and b = 0 </td></tr></tbody></table><br>  <b>Output table</b> - shows the correspondence of the current state of the digital automat and its output signals (Table 2). <br><br>  Table 2 - Digital output table} <br><table><tbody><tr><td>  Current state </td><td>  Output </td></tr><tr><td>  S0 </td><td>  00 </td></tr><tr><td>  S1 </td><td>  01 </td></tr><tr><td>  S2 </td><td>  ten </td></tr></tbody></table><br>  When implementing a digital automaton, we will adhere to the principle of separation into combinational and sequential parts of the circuit.  With this interpretation, the digital automaton will be represented by three blocks (Figure 2): <br><br>  - a combination block of transition logic; <br>  - register for storing the states of the target states; <br>  - combinational output signal generation unit - different for Miles and Moore's CA. <br><br><img src="https://habrastorage.org/files/b92/471/5f6/b924715f6155403cb27dd5c6a4d44cc9.png"><br><br>  Figure 2 - Schematic representation of a digital machine with asynchronous outputs <br><br>  <b>The transition logic circuit</b> receives to its input a code of the current state of the digital automaton ( <i>present_st</i> ) and external signals ( <i>input_signal</i> ).  The output of this block will be the next state code ( <i>next_st</i> ). <br><br>  The <b>state register</b> includes three signals: clock ( <i>clk</i> ), reset ( <i>reset</i> ), and the next state code ( <i>next_st</i> ).  The clock signal and the reset signal are designed to control the triggers that store the state of the digital automat.  On the leading edge of the clock signal, the next state ( <i>next_st</i> ) is <i>recorded</i> in the triggers.  The results of writing to triggers appear at the output of the status register as a signal of the current state of the <i>AC</i> ( <i>present_st</i> ). <br><br>  <b>The output signal shaping unit</b> , depending on the state of the AC (and the input signals for the Miles machine), generates asynchronous output signals.  To obtain synchronous output signals, an additional register is added to this block. <br><br><h4>  Using VHDL to describe digital automata </h4><br>  To describe the state of the digital machine, you must use an enumerated type.  For this, a type ( <i>state_type</i> ) is described, the values ‚Äã‚Äãof which are the states of the digital automaton.  Then the signal ( <i>state</i> ) of this enumerated type is described, in which the current state of the automaton will be stored. <br><br><pre><code class="vhdl hljs"><span class="hljs-keyword"><span class="hljs-keyword">TYPE</span></span> state_type <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> (init, state1, state2, ...); <span class="hljs-keyword"><span class="hljs-keyword">SIGNAL</span></span> state: state_type;</code> </pre> <br>  Upon implementation, a scheme of several triggers will be obtained.  Depending on the state coding method, the number of triggers may vary, which affects the speed and size of the circuit.  In more detail about coding methods we will talk a bit later. <br><br>  To describe the operation of the digital automaton and create combinational circuits of the logic of transitions and outputs, it is necessary to use the appropriate tables and with the <i>case statement to</i> analyze the <i>present_st</i> signal <i>values</i> . <br><br>  The process that describes the combinational part to calculate the <b>transition logic of a</b> digital automaton can be described using the following template: <br><br><pre> <code class="vhdl hljs"><span class="hljs-keyword"><span class="hljs-keyword">PROCESS</span></span> (present_st, input_signal) <span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CASE</span></span> present_st <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> state1 =&gt; <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> input_signal = <span class="hljs-string"><span class="hljs-string">'1'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> next_st &lt;= state1; <span class="hljs-keyword"><span class="hljs-keyword">ELSE</span></span> next_st &lt;= state2; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> state2 =&gt; <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> input_signal = <span class="hljs-string"><span class="hljs-string">'1'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> next_st &lt;= state2; <span class="hljs-keyword"><span class="hljs-keyword">ELSE</span></span> next_st &lt;= state3; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span>; ... <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CASE</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">PROCESS</span></span>;</code> </pre><br>  To describe the <b>output</b> logic <b>,</b> it is possible to use a process statement or a parallel conditional assignment statement. <br><br>  The process that describes the combinational part to calculate the output signals of the <b>Moore</b> digital automaton can be described using the following template: <br><br><pre> <code class="vhdl hljs"><span class="hljs-keyword"><span class="hljs-keyword">PROCESS</span></span> (present_st) <span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CASE</span></span> present_st <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> state1 =&gt; output &lt;= <span class="hljs-string"><span class="hljs-string">"000"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> state2 =&gt; output &lt;= <span class="hljs-string"><span class="hljs-string">"001"</span></span>; ... <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CASE</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">PROCESS</span></span>;</code> </pre><br>  Here, in the process initialization list, only the current state of the <i>present_st</i> digital automaton is <i>used</i> , the values ‚Äã‚Äãof which are analyzed using the <i>case statement</i> . <br><br>  For <b>Mili,</b> the same process will look like this: <br><br><pre> <code class="vhdl hljs"><span class="hljs-keyword"><span class="hljs-keyword">PROCESS</span></span> (present_st, input_signal) <span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CASE</span></span> present_st <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> state1 =&gt; <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> input_signal = <span class="hljs-string"><span class="hljs-string">'1'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> output &lt;= <span class="hljs-string"><span class="hljs-string">"000"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">ELSE</span></span> output &lt;= <span class="hljs-string"><span class="hljs-string">"001"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> state2 =&gt; <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> input_signal = <span class="hljs-string"><span class="hljs-string">'1'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> output &lt;= <span class="hljs-string"><span class="hljs-string">"011"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">ELSE</span></span> OUTPUT &lt;= <span class="hljs-string"><span class="hljs-string">"010"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span>; ... <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CASE</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">PROCESS</span></span>;</code> </pre><br>  This process for initialization uses the current state of the <i>AC</i> ( <i>present_st</i> ) and the input signal ( <i>input_signal</i> ), since changes to any of these signals should trigger the execution of the process. <br><br>  To obtain synchronous output signals, it is necessary to use a process that has only the clock signal <i>clk</i> in the initialization list.  The analysis of the current state as in the previous case is performed using the <i>case statement</i> . <br><br><pre> <code class="vhdl hljs"><span class="hljs-keyword"><span class="hljs-keyword">PROCESS</span></span> (clk) <span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> (rising_edge(clk)) <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CASE</span></span> present_st <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> state1 =&gt; output &lt;= <span class="hljs-string"><span class="hljs-string">"000"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> state2 =&gt; output &lt;= <span class="hljs-string"><span class="hljs-string">"001"</span></span>; ... <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CASE</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">PROCESS</span></span>;</code> </pre><br>  Generating output signals using parallel conditional assignment does not require a process operator.  In this case, you can use the following structure: <br><br><pre> <code class="vhdl hljs">output &lt;= <span class="hljs-string"><span class="hljs-string">"000"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> present_st = state1 <span class="hljs-keyword"><span class="hljs-keyword">ELSE</span></span> <span class="hljs-string"><span class="hljs-string">"001"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> present_st = state2 <span class="hljs-keyword"><span class="hljs-keyword">ELSE</span></span> ... <span class="hljs-string"><span class="hljs-string">"100"</span></span>;</code> </pre><br>  When describing the <b>sequential part of a</b> digital automaton, the list of process initializers should contain the signals <i>clk</i> and <i>reset</i> .  When a reset signal arrives, the digital automaton enters the initial state of <i>init</i> , from which the entire automaton begins its operation.  The leading edge of the <i>clk</i> signal leads to the recording of its new current state in the DA triggers, i.e.  the <i>next_st</i> signal corresponds to the <i>present_st</i> signal. <br><br>  In fact, the sequential part is a register with reset: <br><br><pre> <code class="vhdl hljs"><span class="hljs-keyword"><span class="hljs-keyword">PROCESS</span></span> (clk, reset) <span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> reset = <span class="hljs-string"><span class="hljs-string">'1'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> present_st &lt;= Init; <span class="hljs-keyword"><span class="hljs-keyword">ELSIF</span></span> (rising_edge(clk)) <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> present_st &lt;= next_st; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">PROCESS</span></span>;</code> </pre><br>  The <b>reset</b> signal can be synchronous or asynchronous.  Above in the listing described asynchronous reset option. <br><br>  When using an asynchronous reset signal, we always know what state the digital automaton will be at power-up, i.e.  before the receipt of the clock signal and the start of normal operation of the system.  In this case, there is no need to decode the unused states of the digital automaton, which makes it possible to reduce the transition logic circuit. <br><br>  The use of a synchronous reset signal does not allow determining the state of the automaton when the power is turned on.  It is possible that he will ‚Äústick‚Äù in one of the undescribed states.  So  When describing a digital automaton, it is necessary to describe all 2 ^ n combinations of trigger states, regardless of whether they are working states of a digital automaton or not.  Here n is the number of triggers used to encode a digital automaton.  This, in turn, will lead to an increase in the transition logic circuit. <br><br>  In order to avoid the ‚Äústicking‚Äù of CA in undescribed states, it is necessary to explicitly prescribe actions in such situations using the <i>when‚Ä¶ others</i> construct.  For example, it is possible to use such a process to describe a synchronous reset and actions in unused states. <br><br><pre> <code class="vhdl hljs"><span class="hljs-keyword"><span class="hljs-keyword">PROCESS</span></span> (clk) <span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> (rising_edge(clk)) <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> reset = <span class="hljs-string"><span class="hljs-string">'1'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> state &lt;= init; <span class="hljs-keyword"><span class="hljs-keyword">ELSE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CASE</span></span> state <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> state1 =&gt; <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> input_signal = <span class="hljs-string"><span class="hljs-string">'1'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> state &lt;= state1; <span class="hljs-keyword"><span class="hljs-keyword">ELSE</span></span> state &lt;= state2; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> state2 =&gt; <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> input_signal = <span class="hljs-string"><span class="hljs-string">'1'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> state &lt;= state2; <span class="hljs-keyword"><span class="hljs-keyword">ELSE</span></span> state &lt;= state3; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span>; ... <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OTHERS</span></span> =&gt; state &lt;= init; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CASE</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">PROCESS</span></span>;</code> </pre><br><h4>  Three two one </h4><br>  A digital automat can be described using one, two or three process operators.  We consider these options on the example of the digital automatic control of the traffic light. <br><br>  This digital automaton has five states: initial (Init), red (R), green (G) and two yellow - one to go from red to green (RG), and the second - from green to red (GR).  In the case when the input <i>cnt</i> equals zero, no transitions occur when the input cnt equals one - a transition to the next state occurs.  The graph of the digital automaton is shown in Fig.  3 <br><br><img src="https://habrastorage.org/files/cec/96c/7a0/cec96c7a0649448f969d891680cca0d7.png"><br><br>  Figure 3 - Graph of the digital traffic light machine <br><br>  The same automaton can be represented using a transition table and an output table.  The output signal is represented by a three-bit vector, in which the most significant bit is responsible for red, the second for yellow and the low for green. <br><br>  Table 3 - transition table <br><table><tbody><tr><td>  present_ st </td><td>  next_st </td><td>  Transition condition </td></tr><tr><td>  Init </td><td>  Init </td><td>  cnt = 0 </td></tr><tr><td>  Init </td><td>  R </td><td>  cnt = 1 </td></tr><tr><td>  R </td><td>  R </td><td>  cnt = 0 </td></tr><tr><td>  R </td><td>  Rg </td><td>  cnt = 1 </td></tr><tr><td>  Rg </td><td>  Rg </td><td>  cnt = 0 </td></tr><tr><td>  Rg </td><td>  G </td><td>  cnt = 1 </td></tr><tr><td>  G </td><td>  G </td><td>  cnt = 0 </td></tr><tr><td>  G </td><td>  GR </td><td>  cnt = 1 </td></tr><tr><td>  GR </td><td>  GR </td><td>  cnt = 0 </td></tr><tr><td>  GR </td><td>  R </td><td>  cnt = 1 </td></tr></tbody></table><br>  Table 4 - Output Table <br><table><tbody><tr><td>  present_st </td><td>  output </td></tr><tr><td>  Init </td><td>  000 </td></tr><tr><td>  R </td><td>  100 </td></tr><tr><td>  Rg </td><td>  010 </td></tr><tr><td>  G </td><td>  001 </td></tr><tr><td>  GR </td><td>  010 </td></tr></tbody></table><br>  To describe the states of CA, it is necessary to describe an enumerated type in which all states will be listed.  In the above example, the <i>state_type</i> type is <i>entered</i> , which contains five values: <i>Init, R, RG, G, GR</i> .  To operate a specific instance of a digital automaton, it is necessary to describe signals of this type.  In the example, these are <i>next_st, present_s</i> t signals for storing the subsequent and current states of the automaton, respectively.  When performing processes, this signal will take the value of the current state of the digital automaton. <br><br>  Now consider the description of this digital automaton using <b>three processes</b> (Figure 4), each of which describes a separate part of the digital automaton: <br><br>  - combination part for transition logic; <br><br>  - combination part for output signals; <br><br>  - the sequential part only for recording the states of the digital automat <br><br><img src="https://habrastorage.org/files/959/e98/6c1/959e986c1f504ef0952e672cc4c61450.png"><br><br>  Figure 4 - Digital automatic with three processes <br><br>  Such a variant of the description of the digital automaton allows the developer to separate the logic of transitions from the logic of forming the output signals and to perform synchronous recording of the state of the automaton in the state storage register.  And this, in turn, makes it easier to describe and debug a synchronous digital machine. <br><br>  The program itself is a combination of the three processes described above. <br><br><div class="spoiler">  <b class="spoiler_title">Digital machine description using three processes</b> <div class="spoiler_text"><pre> <code class="vhdl hljs"><span class="hljs-keyword"><span class="hljs-keyword">LIBRARY</span></span> ieee; <span class="hljs-keyword"><span class="hljs-keyword">USE</span></span> ieee.std_logic_1164.<span class="hljs-keyword"><span class="hljs-keyword">ALL</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">ENTITY</span></span> traffic <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">PORT</span></span>(clk : <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std_logic</span></span>; cnt : <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std_logic</span></span>; reset : <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std_logic</span></span>; output : <span class="hljs-keyword"><span class="hljs-keyword">OUT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std_logic_vector</span></span>(<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">downto</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>) ); <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ENTITY</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">ARCHITECTURE</span></span> rtl <span class="hljs-keyword"><span class="hljs-keyword">OF</span></span> traffic <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TYPE</span></span> state_type <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> (Init, R, RG, G, GR); <span class="hljs-keyword"><span class="hljs-keyword">SIGNAL</span></span> next_st, present_st: state_type; <span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> state_proc: <span class="hljs-keyword"><span class="hljs-keyword">PROCESS</span></span> (present_st, cnt) <span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CASE</span></span> present_st <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> Init =&gt; <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> cnt = <span class="hljs-string"><span class="hljs-string">'1'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> next_st &lt;= R; <span class="hljs-keyword"><span class="hljs-keyword">ELSE</span></span> next_st &lt;= Init; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> R =&gt; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> cnt = <span class="hljs-string"><span class="hljs-string">'1'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> next_st &lt;= RG; <span class="hljs-keyword"><span class="hljs-keyword">ELSE</span></span> next_st &lt;= R; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> RG =&gt; <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> cnt = <span class="hljs-string"><span class="hljs-string">'1'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> next_st &lt;= G; <span class="hljs-keyword"><span class="hljs-keyword">ELSE</span></span> next_st &lt;= RG; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> G =&gt; <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> cnt = <span class="hljs-string"><span class="hljs-string">'1'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> NEXT_st &lt;= GR; <span class="hljs-keyword"><span class="hljs-keyword">ELSE</span></span> next_st &lt;= G; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> GR =&gt; <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> CNT = <span class="hljs-string"><span class="hljs-string">'1'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> next_st &lt;= R; <span class="hljs-keyword"><span class="hljs-keyword">ELSE</span></span> next_st &lt;= GR; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OTHERS</span></span> =&gt; next_st &lt;= Init; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CASE</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">PROCESS</span></span>; next_st_proc: <span class="hljs-keyword"><span class="hljs-keyword">PROCESS</span></span> (clk, reset) <span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> reset = <span class="hljs-string"><span class="hljs-string">'1'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> present_st &lt;= Init; <span class="hljs-keyword"><span class="hljs-keyword">ELSIF</span></span> (rising_edge(clk)) <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> present_st &lt;= next_st; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">PROCESS</span></span>; out_proc: <span class="hljs-keyword"><span class="hljs-keyword">PROCESS</span></span> (present_st) <span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CASE</span></span> present_st <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> Init =&gt; output &lt;= <span class="hljs-string"><span class="hljs-string">"000"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> R =&gt; output &lt;= <span class="hljs-string"><span class="hljs-string">"100"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> RG =&gt; output &lt;= <span class="hljs-string"><span class="hljs-string">"010"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> G =&gt; output &lt;= <span class="hljs-string"><span class="hljs-string">"001"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> GR =&gt; output &lt;= <span class="hljs-string"><span class="hljs-string">"010"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CASE</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">PROCESS</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> rtl;</code> </pre><br></div></div><br><br>  The resulting CA graph obtained when compiling in the Quartus II package is shown in Figure 5 (Tools menu - Netlist Viewers - State Machine Viewer). <br><br><img src="https://habrastorage.org/files/fc2/aa1/911/fc2aa1911bad42c4a957250bf21421bb.PNG"><br><br>  Figure 5 - Digital automatic with three processes.  Compilation result <br><br>  The result of the synthesis of the program shown in the listing above is shown in Fig.  6 (Tools menu - Netlist Viewers - Technology Map Viewer).  To facilitate understanding of the figure, I / O elements are designated as IO, triggers as FF, and logic elements - LE.  As you can see, the synthesis will result in a circuit of 5 triggers for storing the states of the digital automaton (in the case of the One Hot coding method) and two logic elements for implementing the transition scheme and generating output signals. <br><br><img src="https://habrastorage.org/files/ddc/37b/993/ddc37b993f2e42769ecfe2c0c28138e0.png"><br>  Figure 6 - Digital automatic with three processes.  Technology Map Viewer <br><br>  Description using <b>two processes</b> (Fig. 6) assumes that the transition logic block and the state register are combined into one process, in which the future state value of the digital automaton is selected using the <i>case statement</i> .  Since there is no need to separate the signals of the current and future states, these two signals are replaced by one, the <i>state</i> , in which the state of the digital automat is stored. <br><br>  The listing below shows an example of a description of the AC with an asynchronous reset.  As a result of the compilation, the same result will be obtained as in the previous case - Fig.7. <br><br><img src="https://habrastorage.org/files/cdc/11d/b87/cdc11db87b094ab185f62a4948e7acac.png"><br>  Figure 7 - Digital automatic with two processes <br><br><div class="spoiler">  <b class="spoiler_title">A description of the target center using two processes.</b>  <b class="spoiler_title">Asynchronous reset</b> <div class="spoiler_text"><pre> <code class="vhdl hljs"><span class="hljs-keyword"><span class="hljs-keyword">LIBRARY</span></span> ieee; <span class="hljs-keyword"><span class="hljs-keyword">USE</span></span> ieee.std_logic_1164.<span class="hljs-keyword"><span class="hljs-keyword">ALL</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">ENTITY</span></span> traffic <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">PORT</span></span>(clk : <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std_logic</span></span>; cnt : <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std_logic</span></span>; reset : <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std_logic</span></span>; output : <span class="hljs-keyword"><span class="hljs-keyword">OUT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std_logic_vector</span></span>(<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">downto</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>) ); <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ENTITY</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">ARCHITECTURE</span></span> rtl <span class="hljs-keyword"><span class="hljs-keyword">OF</span></span> traffic <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TYPE</span></span> state_type <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> (Init, R, RG, G, GR); <span class="hljs-keyword"><span class="hljs-keyword">SIGNAL</span></span> state: state_type; <span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> state_proc: <span class="hljs-keyword"><span class="hljs-keyword">PROCESS</span></span> (clk, reset) <span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> reset = <span class="hljs-string"><span class="hljs-string">'1'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> state &lt;= Init; <span class="hljs-keyword"><span class="hljs-keyword">ELSIF</span></span> (rising_edge(clk)) <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CASE</span></span> state <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> Init =&gt; <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> cnt = <span class="hljs-string"><span class="hljs-string">'1'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> state &lt;= R; <span class="hljs-keyword"><span class="hljs-keyword">ELSE</span></span> state &lt;= Init; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> R =&gt; <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> cnt = <span class="hljs-string"><span class="hljs-string">'1'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> state &lt;= RG; <span class="hljs-keyword"><span class="hljs-keyword">ELSE</span></span> state &lt;= R; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> RG =&gt; <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> cnt = <span class="hljs-string"><span class="hljs-string">'1'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> state &lt;= G; <span class="hljs-keyword"><span class="hljs-keyword">ELSE</span></span> state &lt;= RG; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> G =&gt; <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> cnt = <span class="hljs-string"><span class="hljs-string">'1'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> state &lt;= GR; <span class="hljs-keyword"><span class="hljs-keyword">ELSE</span></span> state &lt;= G; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> GR =&gt; <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> cnt = <span class="hljs-string"><span class="hljs-string">'1'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> state &lt;= R; <span class="hljs-keyword"><span class="hljs-keyword">ELSE</span></span> state &lt;= GR; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CASE</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">PROCESS</span></span>; out_proc: <span class="hljs-keyword"><span class="hljs-keyword">PROCESS</span></span> (state) <span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CASE</span></span> state <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> Init =&gt; output &lt;= <span class="hljs-string"><span class="hljs-string">"000"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> R =&gt; output &lt;= <span class="hljs-string"><span class="hljs-string">"100"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> RG =&gt; output &lt;= <span class="hljs-string"><span class="hljs-string">"010"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> G =&gt; output &lt;= <span class="hljs-string"><span class="hljs-string">"001"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> GR =&gt; output &lt;= <span class="hljs-string"><span class="hljs-string">"010"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CASE</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">PROCESS</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> rtl;</code> </pre><br></div></div><br>  A digital automatic machine <b>with synchronous reset</b> , described by two processes is shown below.  The synthesis results from the Technology Map Viewer are shown in Fig.  8, from which it can be seen that the size of the combination part has significantly increased in comparison with the asynchronous reset machine. <br><div class="spoiler">  <b class="spoiler_title">A description of the target center using two processes.</b>  <b class="spoiler_title">Synchronous reset</b> <div class="spoiler_text"><pre> <code class="vhdl hljs"><span class="hljs-keyword"><span class="hljs-keyword">LIBRARY</span></span> ieee; <span class="hljs-keyword"><span class="hljs-keyword">USE</span></span> ieee.std_logic_1164.<span class="hljs-keyword"><span class="hljs-keyword">ALL</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">ENTITY</span></span> traffic <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">PORT</span></span>(clk : <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std_logic</span></span>; cnt : <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std_logic</span></span>; reset : <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std_logic</span></span>; output : <span class="hljs-keyword"><span class="hljs-keyword">OUT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std_logic_vector</span></span>(<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">downto</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>) ); <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ENTITY</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">ARCHITECTURE</span></span> rtl <span class="hljs-keyword"><span class="hljs-keyword">OF</span></span> traffic <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TYPE</span></span> state_type <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> (Init, R, RG, G, GR); <span class="hljs-keyword"><span class="hljs-keyword">SIGNAL</span></span> state: state_type; <span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> state_proc: <span class="hljs-keyword"><span class="hljs-keyword">PROCESS</span></span> (clk) <span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> (rising_edge(clk)) <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> reset = <span class="hljs-string"><span class="hljs-string">'1'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> state &lt;= Init; <span class="hljs-keyword"><span class="hljs-keyword">ELSE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CASE</span></span> state <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> Init =&gt; <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> cnt = <span class="hljs-string"><span class="hljs-string">'1'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> state &lt;= R; <span class="hljs-keyword"><span class="hljs-keyword">ELSE</span></span> state &lt;= Init; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> R =&gt; <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> cnt = <span class="hljs-string"><span class="hljs-string">'1'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> state &lt;= RG; <span class="hljs-keyword"><span class="hljs-keyword">ELSE</span></span> state &lt;= R; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> RG =&gt; <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> cnt = <span class="hljs-string"><span class="hljs-string">'1'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> state &lt;= G; <span class="hljs-keyword"><span class="hljs-keyword">ELSE</span></span> state &lt;= RG; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> G =&gt; <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> cnt = <span class="hljs-string"><span class="hljs-string">'1'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> state &lt;= GR; <span class="hljs-keyword"><span class="hljs-keyword">ELSE</span></span> state &lt;= G; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> GR =&gt; <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> CNT = <span class="hljs-string"><span class="hljs-string">'1'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> state &lt;= R; <span class="hljs-keyword"><span class="hljs-keyword">ELSE</span></span> state &lt;= GR; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CASE</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">PROCESS</span></span>; out_proc: <span class="hljs-keyword"><span class="hljs-keyword">PROCESS</span></span> (state) <span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CASE</span></span> state <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> Init =&gt; output &lt;= <span class="hljs-string"><span class="hljs-string">"000"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> R =&gt; output &lt;= <span class="hljs-string"><span class="hljs-string">"100"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> RG =&gt; output &lt;= <span class="hljs-string"><span class="hljs-string">"010"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> G =&gt; output &lt;= <span class="hljs-string"><span class="hljs-string">"001"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> GR =&gt; output &lt;= <span class="hljs-string"><span class="hljs-string">"010"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CASE</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">PROCESS</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> rtl;</code> </pre><br></div></div><br><br><img src="https://habrastorage.org/files/62b/a0c/95c/62ba0c95c611402b89b07e9d0e671b25.png"><br>  Figure 8 - The result of the synthesis of a digital machine with a synchronous reset <br><br>  The description of a digital automaton using <b>one process</b> assumes that all logic is in one process.  Some authors [5] believe that using one process to describe a digital automaton is simpler and allows you to more easily describe and debug a digital automaton.  This statement is true for small digital machines.  Increasing the number of states and using one process worsens the readability of the code.  Because even the ancient Romans in the description of digital machines used the rule "Divide and rule." <br><br>  Another argument, which is given in favor of using one process when describing a digital automaton, is that this variant implies the use of synchronous output signals.  This condition is not mandatory for all CA and can be easily achieved, as was shown above when discussing the logic of the formation of output signals. <br><br>  And yet, to complete the image, we give an example of a description of a digital automaton with asynchronous reset using a single process. <br><br><div class="spoiler">  <b class="spoiler_title">Description of CA in one process</b> <div class="spoiler_text"><pre> <code class="vhdl hljs"><span class="hljs-keyword"><span class="hljs-keyword">LIBRARY</span></span> IEEE; <span class="hljs-keyword"><span class="hljs-keyword">USE</span></span> ieee.std_logic_1164.<span class="hljs-keyword"><span class="hljs-keyword">ALL</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">ENTITY</span></span> traffic <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">PORT</span></span>(clk : <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std_logic</span></span>; cnt : <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std_logic</span></span>; reset : <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std_logic</span></span>; output : <span class="hljs-keyword"><span class="hljs-keyword">OUT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std_logic_vector</span></span>(<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">downto</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>) ); <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ENTITY</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">ARCHITECTURE</span></span> rtl <span class="hljs-keyword"><span class="hljs-keyword">OF</span></span> traffic <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TYPE</span></span> state_type <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> (Init, R, RG, G, GR); <span class="hljs-keyword"><span class="hljs-keyword">SIGNAL</span></span> state: state_type; <span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">PROCESS</span></span> (clk, reset) <span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> reset = <span class="hljs-string"><span class="hljs-string">'1'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> state &lt;= Init; <span class="hljs-keyword"><span class="hljs-keyword">ELSIF</span></span> (rising_edge(clk)) <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CASE</span></span> state <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> Init =&gt; <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> cnt = <span class="hljs-string"><span class="hljs-string">'1'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> state &lt;= R; <span class="hljs-keyword"><span class="hljs-keyword">ELSE</span></span> state &lt;= Init; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span>; output &lt;= <span class="hljs-string"><span class="hljs-string">"000"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> R =&gt; <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> cnt = <span class="hljs-string"><span class="hljs-string">'1'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> state &lt;= RG; <span class="hljs-keyword"><span class="hljs-keyword">ELSE</span></span> state &lt;= R; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span>; output &lt;= <span class="hljs-string"><span class="hljs-string">"100"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> RG =&gt; <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> cnt = <span class="hljs-string"><span class="hljs-string">'1'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> state &lt;= G; <span class="hljs-keyword"><span class="hljs-keyword">ELSE</span></span> state &lt;= RG; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span>; output &lt;= <span class="hljs-string"><span class="hljs-string">"010"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> G =&gt; <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> cnt = <span class="hljs-string"><span class="hljs-string">'1'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> state &lt;= GR; <span class="hljs-keyword"><span class="hljs-keyword">ELSE</span></span> state &lt;= G; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span>; output &lt;= <span class="hljs-string"><span class="hljs-string">"001"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> GR =&gt; <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> cnt = <span class="hljs-string"><span class="hljs-string">'1'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> state &lt;= R; <span class="hljs-keyword"><span class="hljs-keyword">ELSE</span></span> state &lt;= GR; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span>; OUTPUT &lt;= <span class="hljs-string"><span class="hljs-string">"010"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CASE</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">PROCESS</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> rtl;</code> </pre><br></div></div><br>  The result of the program compilation is shown in Figure \ ref {FSM_1process_TMView}.  Obviously, the result was the same as in the description using two processes with the only difference - the triggers for the output register were added. <br><br><img src="https://habrastorage.org/files/ff6/27c/a4e/ff627ca4e4054ebab02ec73f184d5652.png"><br>  Figure 9 - Digital process with one process <br><br>  Let's summarize the small results of our research. <br><br>  The first and most important.  Digital automatic exists!  We saw him in the picture 5. <br>  The second.  Descriptions using two and three processes give the same result and the choice of description method depends on the preferences of the developer. <br>  Third.  You need to be very careful about the initial reset of the machine and the description of unused states. <br>  Fourth.  Description using a single process leads to the emergence of registers for the output signals of a digital automaton. <br><br>  Bibliography. <br><br>  1. Altera.  Quartus II Handbook Version 10.0 Volume 1: Design and Synthesis Vol.  1, 2010 - 1820 p. <br>  2. B. Cohen.  VHDL Coding style and Metodologies.  Kluwer Academic Publishers.2002 - 454 p. <br>  3. DL Perry.  VHDL programming by example.  New York: McGraw-Hill, 2002.- 476 p. <br>  4. DJ Smith.  HDL chip design: ASICs and FPGAs using VHDL or Verilog.  Madison, AL: Doone Publications, 1996. - 448 p. <br>  5. A. Taylor.  How to Implement State Machines in Your FPGA.  Xcell, 81 (4), p.  52‚Äì57. <br>  6. Xilinx.  VHDL Reference Guide.  XST User Guide. <br>  7. K. G. Samofalov.  The applied theory of digital automata.  M .: 1987. 375 p. <br><br>  PS PDF-version is <a href="https://drive.google.com/file/d/0B2OPu8ykH5NQbjRCSHNsRUJuOFE/view%3Fusp%3Dsharing">here</a> . </div><p>Source: <a href="https://habr.com/ru/post/254885/">https://habr.com/ru/post/254885/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../254875/index.html">Fresh sections on the popularity of CMS-systems, meters / systems analytics and online consultants</a></li>
<li><a href="../254877/index.html">GPS: jammers, spoofing and vulnerabilities</a></li>
<li><a href="../254879/index.html">IBM PC do it yourself is easy</a></li>
<li><a href="../254881/index.html">The best icon is text.</a></li>
<li><a href="../254883/index.html">We optimize web form usability</a></li>
<li><a href="../254887/index.html">WPF: Using Attached Property and Behavior</a></li>
<li><a href="../254889/index.html">Matreshka.js 2: From simple to simple</a></li>
<li><a href="../254891/index.html">We facilitate the support of iOS applications. Part 2 - location and network</a></li>
<li><a href="../254895/index.html">The taste and color 2 - not RGB one</a></li>
<li><a href="../254897/index.html">Lectures of the Technosphere. 1 semester Algorithms for intelligent processing of large amounts of data</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>