<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>New Drawing Library in Google Maps API V3</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recently, the Google Drawing API V3 has a new Drawing library. It provides a set of tools with which users can draw markers, draw lines, circles, rect...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>New Drawing Library in Google Maps API V3</h1><div class="post__text post__text-html js-mediator-article">  Recently, the Google <b>Drawing</b> API V3 <a href="http://googlegeodevelopers.blogspot.com/2011/11/make-your-map-interactive-with-shape.html">has a</a> new <b>Drawing</b> library.  It provides a set of tools with which users can draw markers, draw lines, circles, rectangles, polygons on the map to highlight different places on the map. <br><br><img src="http://kovtun-andrei.narod2.ru/habr/i/google_maps_drawing.gif" alt="image"><br><br>  These tools can be used to collect various information from users.  The application can listen for events and respond accordingly, for example, to make a search query or save information in a database. <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      To work with the Drawing library, when connecting js Google Maps, you need to add the parameter <b>= libraries</b> : <br><pre><code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://maps.googleapis.com/maps/api/js?sensor=false&amp;libraries=drawing"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h4>  DrawingManager: </h4><br>  The DrawingManager class from this library provides a graphical user interface.  It includes polygons, rectangles, broken lines, circles and markers on the map. <br><br>  The <b>DrawingManager</b> object is created as follows: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> drawingManager = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> google.maps.drawing.DrawingManager(); drawingManager.setMap(map);</code> </pre> <br>  Now there are custom drawing tools on the map. <br><img src="http://kovtun-andrei.narod2.ru/habr/i/google_maps_drawing2.gif" alt="image"><br><br><h5>  Options: </h5><br>  We can configure exactly which tools we want to provide to the user, as well as their position on the map and the view: <br>  <b>drawingControl</b> - defines the visibility of instruments on the map.  It takes the boolean value true / false. <br><br>  <b>drawingControlOptions</b> - determines the position of the tools on the map, as well as a list of the tools you want to include. <br>  <i>- position</i> - the position of the drawing tools.  Default is TOP_LEFT. <br>  <i>- drawingModes</i> - tools for display and their order.  A hand icon is always available and is not listed in this array.  The default is [MARKER, POLYLINE, RECTANGLE, CIRCLE, POLYGON]. <br><br>  <b>drawingMode</b> - determines which tool will be selected by default. <br><br>  <b>circleOptions {}</b> <b><br></b>  <b>markerOptions {}</b> <b><br></b>  <b>polygonOptions {}</b> <b><br></b>  <b>polylineOptions {}</b> <b><br></b>  <b>rectangleOptions {}</b> <br>  For each tool, you can specify your own specific options.  For example, marker icon, shape fill color, zindex, clickability, etc.  Complete information on each option can be found in the API documentation. <br><br>  You can also specify whether users will be able to edit the shape after creation.  To do this, set the editable option to true. <br><br>  For example, let's add the ability to put markers on the map, draw circles and polygons, set the toolbar at the top center and set an icon for the marker and some options for circles. <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> drawingManager = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> google.maps.drawing.DrawingManager({ <span class="hljs-attr"><span class="hljs-attr">drawingControl</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">drawingControlOptions</span></span>: { <span class="hljs-attr"><span class="hljs-attr">position</span></span>: google.maps.ControlPosition.TOP_CENTER, <span class="hljs-attr"><span class="hljs-attr">drawingModes</span></span>: [google.maps.drawing.OverlayType.MARKER, google.maps.drawing.OverlayType.CIRCLE, google.maps.drawing.OverlayType.POLYGON] }, <span class="hljs-attr"><span class="hljs-attr">drawingMode</span></span>: google.maps.drawing.OverlayType.MARKER, <span class="hljs-attr"><span class="hljs-attr">markerOptions</span></span>: { <span class="hljs-attr"><span class="hljs-attr">icon</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> google.maps.MarkerImage(<span class="hljs-string"><span class="hljs-string">'http://www.example.com/icon.png'</span></span>) }, <span class="hljs-attr"><span class="hljs-attr">circleOptions</span></span>: { <span class="hljs-attr"><span class="hljs-attr">fillColor</span></span>: <span class="hljs-string"><span class="hljs-string">'#ffffff'</span></span>, <span class="hljs-attr"><span class="hljs-attr">fillOpacity</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">strokeWeight</span></span>: <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-attr"><span class="hljs-attr">clickable</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">zIndex</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">editable</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> } });</code> </pre> <br><br><h5>  Change options: </h5><br>  When the DrawingManager object is created, it can be updated using the <b>setOptions ()</b> function. <br>  For example, you can set a new position for the tools: <br><pre> <code class="javascript hljs">drawingManager.setOptions({ <span class="hljs-attr"><span class="hljs-attr">drawingControlOptions</span></span>: { <span class="hljs-attr"><span class="hljs-attr">position</span></span>: google.maps.ControlPosition.BOTTOM_LEFT } });</code> </pre> <br>  Or change the fill color of the circles: <br><pre> <code class="javascript hljs">drawingManager.setOptions({ <span class="hljs-attr"><span class="hljs-attr">circleOptions</span></span>: { <span class="hljs-attr"><span class="hljs-attr">fillColor</span></span>: <span class="hljs-string"><span class="hljs-string">'#000000'</span></span> } });</code> </pre> <br>  Or, for example, by clicking on a button, hide or show the toolbar: <br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// To hide: drawingManager.setOptions({ drawingControl: false }); // To show: drawingManager.setOptions({ drawingControl: true });</span></span></code> </pre> <br>  After the toolbar appears, all the options you set for it are saved. <br><br>  If you want to completely remove the toolbar, you need to call: <br><pre> <code class="javascript hljs">drawingManager.setMap(<span class="hljs-literal"><span class="hljs-literal">null</span></span>);</code> </pre> <br><br><h5>  Developments: </h5><br>  When the user draws on the map, sets a marker, two events are triggered: <br>  1) <b>{overlay} complete</b> - where {overlay} is the type of object that the user has created, for example, circlecomplete, polygoncomplete, etc.).  A reference to this object is passed as an argument. <br>  2) <b>overlaycomplete</b> - the OverlayType and a link to the created object are passed as an argument. <br><br>  For example, when installing a marker by the user, we can get the coordinates and display them or save them in the database. <br><pre> <code class="javascript hljs">google.maps.event.addListener(drawingManager, <span class="hljs-string"><span class="hljs-string">'markercomplete'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">marker</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(marker.getPosition().toString()) }); google.maps.event.addListener(drawingManager, <span class="hljs-string"><span class="hljs-string">'overlaycomplete'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (event.type == google.maps.drawing.OverlayType.MARKER) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">' '</span></span>) } });</code> </pre> <br><br><h5>  References: </h5><br>  <a href="http://gmaps-samples-v3.googlecode.com/svn/trunk/drawing/drawing-tools.html">Library example</a> <br>  <a href="http://code.google.com/intl/ru-RU/apis/maps/documentation/javascript/overlays.html">Documentation</a> </div><p>Source: <a href="https://habr.com/ru/post/133509/">https://habr.com/ru/post/133509/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../133503/index.html">Work with Android string resources</a></li>
<li><a href="../133504/index.html">Work with Vkontakte.ru API in iOS application</a></li>
<li><a href="../133505/index.html">In the US, a scandal about the illegal use of user data</a></li>
<li><a href="../133506/index.html">Development of cartographic and geolocation mobile applications</a></li>
<li><a href="../133508/index.html">Quick Password Recovery PRO 1.7 security research</a></li>
<li><a href="../133511/index.html">FINANCE.UA: a few facts about the leading financial portal of Ukraine</a></li>
<li><a href="../133512/index.html">Work with Doxygen in CMake</a></li>
<li><a href="../133514/index.html">Yandex acquired SPB Software</a></li>
<li><a href="../133515/index.html">The calendar of affairs in the ‚ÄúSimple Business‚Äù system is a convenient and visual representation of your tasks.</a></li>
<li><a href="../133516/index.html">Once upon a time there was a grandfather and Java ...</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>