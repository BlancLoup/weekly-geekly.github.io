<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We configure Windows for programming of OpenGL</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The post is focused on beginners. It does not cover the configuration of Visual Studio. He will teach you to customize some text editors to compile Op...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We configure Windows for programming of OpenGL</h1><div class="post__text post__text-html js-mediator-article">  <i>The post is focused on beginners.</i>  <i>It <b>does not</b> cover the configuration of Visual Studio.</i>  <i>He will teach you to customize some text editors to compile OpenGL applications, or to do this from the console manually.</i> <br><br>  Recently, finally, the <a href="http://habrahabr.ru/post/174819/">8th edition of the book OpenGL programming guide</a> , which I have been waiting for more than 2 years.  A little earlier, I met a wonderful text editor Sublime Text 2 and decided to customize it instead of installing heavy Visual Studio. <br><br>  So, first we need a <a href="https://ru.wikipedia.org/wiki/%25D0%259A%25D0%25B0%25D1%2582%25D0%25B5%25D0%25B3%25D0%25BE%25D1%2580%25D0%25B8%25D1%258F:%25D0%259A%25D0%25BE%25D0%25BC%25D0%25BF%25D0%25B8%25D0%25BB%25D1%258F%25D1%2582%25D0%25BE%25D1%2580%25D1%258B_C%252B%252B">compiler</a> - I stopped at <a href="https://ru.wikipedia.org/wiki/G%252B%252B">G ++</a> .  It is part of <a href="https://ru.wikipedia.org/wiki/Gcc">GCC</a> , and its port under Windows is called <a href="https://ru.wikipedia.org/wiki/MinGW">MinGW</a> .  Let's start with it: <br><a name="habracut"></a><br><h5>  Mingw </h5><br>  Download <a href="http://www.mingw.org/">the</a> <a href="http://sourceforge.net/projects/mingw/files/Installer/mingw-get-inst/mingw-get-inst-20120426/">installer</a> from the <a href="http://www.mingw.org/">official site</a> and launch it.  You can choose to download fresh packages immediately upon installation, or update them manually later.  We will not need compilers Fortran, Ada and ObjC, we can not put them.  MSYS Basic System can be useful, we put it.  I specified " <code>C:\MinGW</code> " as the address, but if it bothers you, you can choose another one, for example, " <code>C:\Program Files\Common Files\MinGW</code> ". 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      After installation, you should add two new folders to the <i>PATH</i> <a href="http://ru.wikipedia.org/wiki/%25D0%259F%25D0%25B5%25D1%2580%25D0%25B5%25D0%25BC%25D0%25B5%25D0%25BD%25D0%25BD%25D0%25B0%25D1%258F_%25D1%2581%25D1%2580%25D0%25B5%25D0%25B4%25D1%258B_Windows">system variable</a> : " <code>MinGW\bin</code> " and " <code>MinGW\msys\1.0\bin</code> ".  To do this, go to <i>Start -&gt; Control Panel -&gt; System -&gt; Advanced System Settings</i> ;  In the <i>Advanced</i> tab, click below the button <i>Environment Variables</i> .  From the list of system variables, select <i>Path</i> , and separate the <b>full</b> addresses to the folders ‚Äú <code>MinGW\bin</code> ‚Äù and ‚Äú <code>MinGW\msys\1.0\bin</code> ‚Äù with a semicolon. <br><br>  If you did not choose to download fresh packages during installation, you should manually update the necessary packages.  To do this, open the console ( <i>Win + R</i> -&gt; <code>cmd</code> ), and write the following commands: <br><pre> <code class="bash hljs">mingw-get update</code> </pre>  Update information about available packages. <br><pre> <code class="bash hljs">mingw-get show g mingw-get show g++</code> </pre>  Display the full gcc and g ++ package names, <br><pre> <code class="bash hljs">mingw-get upgrade mingw32-gcc mingw-get upgrade mingw32-gcc-g++</code> </pre>  Update these packages to the latest available MinGW versions. <br><br>  Now that we have a compiler, we can start installing the necessary OpenGL libraries. <br><br><h5>  Freeglut </h5><br>  Since OpenGL is an API that relates exclusively to graphics, it does not include functions for creating windows or processing input devices.  Moreover, the solution to this problem depends on the operating system.  Therefore, it was taken to a separate library and named <a href="http://ru.wikipedia.org/wiki/GLUT">GLUT</a> - the OpenGL Utility Toolkit.  However, the last release of this library was a long time ago and now it has been replaced by <a href="http://ru.wikipedia.org/wiki/Freeglut">freeglut</a> . <br><br>  We download from the <a href="http://freeglut.sourceforge.net/">official site</a> <a href="">binaries under MinGW</a> .  We unpack, <code>freeglut.dll</code> from the <code>bin</code> folder we throw in " <code>C:\Windows\System32</code> " (for x86) or " <code>C:\Windows\SysWOW64</code> " (for x64), or any other folder that is specified in the <i>PATH</i> .  The contents of the <code>include</code> and <code>lib</code> folders can be copied either to " <code>MinGW\include</code> " and " <code>MinGW\lib</code> " (this will be easier), or to separate created folders " <code>MinGW\freeglut\include</code> " and " <code>MinGW\freeglut\lib</code> ". <br><br>  On this with freeglut everything.  To connect it you need to add <code>#include &lt;GL/freeglut.h&gt;</code> <br><br><h5>  glew </h5><br>  The <a href="http://en.wikipedia.org/wiki/OpenGL_Extension_Wrangler_Library">glew</a> library allows <a href="http://en.wikipedia.org/wiki/OpenGL_Extension_Wrangler_Library">you</a> to determine what the video card supports and what doesn't.  Its installation is a little more difficult for our case. <br>  We download <a href="http://glew.sourceforge.net/">the</a> <a href="https://sourceforge.net/projects/glew/files/glew/1.9.0/glew-1.9.0.zip/download">source</a> from the <a href="http://glew.sourceforge.net/">official site</a> , because the binaries are sharpened under Visual Studio and will not work for us.  Now these sources need to be compiled.  I practically understand nothing of this, so I turned to Google and found help <a href="http://stackoverflow.com/questions/6005076/building-glew-on-windows-with-mingw">here</a> : <br>  Unpack the downloaded archive, open the console, go to the resulting folder and write the following commands: <br><pre> <code class="bash hljs">gcc -DGLEW_NO_GLU -O2 -Wall -W -Iinclude -DGLEW_BUILD -o src/glew.o -c src/glew.c gcc -shared -Wl,-soname,libglew32.dll -Wl,--out-implib,lib/libglew32.dll.a -o lib/glew32.dll src/glew.o -L/mingw/lib -lglu32 -lopengl32 -lgdi32 -luser32 -lkernel32 ar cr lib/libglew32.a src/glew.o</code> </pre>  As a result, 3 files appeared in the lib folder: <code>glew32.dll</code> , <code>glew32.dll.a</code> and <code>glew32.a</code> . <br>  <code>glew32.dll</code> copied to the same place where <code>freeglut.dll</code> previously copied, the other 2 - to the folder " <code>MinGW\lib</code> " or " <code>MinGW\glew\lib</code> ". <br>  From the <code>include</code> folder, copy the contents into " <code>MinGW\include</code> " or " <code>MinGW\glew\include</code> ". <br><br>  On this with glew everything.  To connect it you need to add <code>#include &lt;GL/glew.h&gt;</code> , but this must be done <b>before</b> connecting other gl libraries. <br><br><h5>  We check the performance </h5><br>  Create a minimal test.cpp: <br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;iostream&gt; #include &lt;GL/glew.h&gt; #include &lt;GL/freeglut.h&gt; #include &lt;GL/gl.h&gt; int main(int argc, char** argv) { glutInit(&amp;argc, argv); glutInitDisplayMode(GLUT_RGBA); glutInitWindowSize(512, 512); glutInitContextVersion(4, 1); //  OpenGL,     glutInitContextProfile(GLUT_CORE_PROFILE); glutCreateWindow(argv[0]); if (glewInit()) { std::cerr &lt;&lt; "Unable to initialize GLEW ... exiting\n"; exit(EXIT_FAILURE); } glutMainLoop(); }</span></span></span></span></code> </pre> <br>  Note the <i>glutInitContextVersion</i> function ‚Äî it will terminate the execution of the program if it failed to create the context for the specified version of OpenGL.  To find out the version of OpenGL that your video card supports, you can look at its specification or download the glew binaries from the <a href="http://glew.sourceforge.net/">official site</a> and run <code>glewinfo.exe</code> from the <code>bin</code> folder.  It will generate the <code>glewinfo.txt</code> file, which will describe in detail what your video card supports and what doesn't.  Sometimes the functionality can be expanded by installing a more recent video driver. <br><br>  Open the console, go to the folder with <code>test.cpp</code> and write the following command: <br><pre> <code class="bash hljs">g++ -o test.exe test.cpp -lglew32 -lfreeglut -lopengl32 -lglu32 -Wl,--subsystem,windows</code> </pre>  In case you created separate folders <code>freeglut</code> and <code>glew</code> , here you must additionally indicate the corresponding additional folders <code>include</code> and <code>lib</code> .  Then the command example looks like this: <br><pre> <code class="bash hljs">g++ -o test.exe test.cpp -lglew32 -lfreeglut -lopengl32 -lglu32 -Wl,--subsystem,windows -I<span class="hljs-string"><span class="hljs-string">"C:\MinGW\freeglut\include"</span></span> -L<span class="hljs-string"><span class="hljs-string">"C:\MinGW\freeglut\lib"</span></span> -I<span class="hljs-string"><span class="hljs-string">"C:\MinGW\glew\include"</span></span> -L<span class="hljs-string"><span class="hljs-string">"C:\MinGW\glew\lib"</span></span></code> </pre> <br>  The <code>-Wl,--subsystem,windows</code> flag <code>-Wl,--subsystem,windows</code> indicates to the compiler that it should create a graphical application, not a console one. <br>  If everything <code>test.exe</code> out, you should get the <code>test.exe</code> file, which when launched creates a white window 512x512. <br><br>  When you want to share your application, make sure that along with the executable file you transfer the used libraries - <code>freeglut.dll</code> and <code>glew32.dll</code> . <br><br><h5>  Sublime Text 2 </h5><br>  And finally, I will give an example of setting up Sublime.  You can download it <a href="http://www.sublimetext.com/2">from here</a> , introductory video tutorials in English can be found <a href="https://tutsplus.com/course/improve-workflow-in-sublime-text-2/">here</a> . <br>  After installation, open the C ++ build configuration file: <br>  " <code>C:\Users\%Username%\AppData\Roaming\Sublime Text 2\Packages\C++\C++.sublime-build</code> " <br>  Save its copy as <br>  " <code>C:\Users\%Username%\AppData\Roaming\Sublime Text 2\Packages\User\C++\++ OpenGL.sublime-build</code> " <br><br>  Line <br><pre> <code class="javascript hljs"><span class="hljs-string"><span class="hljs-string">"cmd"</span></span>: [<span class="hljs-string"><span class="hljs-string">"g++"</span></span>, <span class="hljs-string"><span class="hljs-string">"${file}"</span></span>, <span class="hljs-string"><span class="hljs-string">"-o"</span></span>, <span class="hljs-string"><span class="hljs-string">"${file_path}/${file_base_name}"</span></span>],</code> </pre>  We supplement the connection of libraries: <br><pre> <code class="javascript hljs"><span class="hljs-string"><span class="hljs-string">"cmd"</span></span>: [<span class="hljs-string"><span class="hljs-string">"g++"</span></span>, <span class="hljs-string"><span class="hljs-string">"${file}"</span></span>, <span class="hljs-string"><span class="hljs-string">"-o"</span></span>, <span class="hljs-string"><span class="hljs-string">"${file_path}/${file_base_name}"</span></span>, <span class="hljs-string"><span class="hljs-string">"-lfreeglut -lopengl32 -lglew32 -Wl,--subsystem,windows"</span></span>],</code> </pre> <br>  Similarly, the line <br><pre> <code class="javascript hljs"><span class="hljs-string"><span class="hljs-string">"cmd"</span></span>: [<span class="hljs-string"><span class="hljs-string">"bash"</span></span>, <span class="hljs-string"><span class="hljs-string">"-c"</span></span>, <span class="hljs-string"><span class="hljs-string">"g++ '${file}' -o '${file_path}/${file_base_name}' &amp;&amp; '${file_path}/${file_base_name}'"</span></span>]</code> </pre>  supplement to <br><pre> <code class="javascript hljs"><span class="hljs-string"><span class="hljs-string">"cmd"</span></span>: [<span class="hljs-string"><span class="hljs-string">"bash"</span></span>, <span class="hljs-string"><span class="hljs-string">"-c"</span></span>, <span class="hljs-string"><span class="hljs-string">"g++ '${file}' -o '${file_path}/${file_base_name}' -lglew32 -lfreeglut -lopengl32 -lglu32 -Wl,--subsystem,windows &amp;&amp; '${file_path}/${file_base_name}'"</span></span>]</code> </pre>  If you created separate folders under freeglut and glew, these commands should be supplemented by specifying the addresses of additional folders <code>include</code> and <code>lib</code> . <br><br>  To Sublime did not refuse to display the Cyrillic alphabet in its console, after <br><pre> <code class="javascript hljs"><span class="hljs-string"><span class="hljs-string">"selector"</span></span>: <span class="hljs-string"><span class="hljs-string">"source.c, source.c++"</span></span>,</code> </pre>  add <br><pre> <code class="javascript hljs"><span class="hljs-string"><span class="hljs-string">"encoding"</span></span>: <span class="hljs-string"><span class="hljs-string">"cp1251"</span></span>,</code> </pre> <br>  Now that we have <code>test.cpp</code> open, choose <i>Tools -&gt; Build system -&gt; C ++ OpenGL</i> . <br>  Press <i>Ctrl + B</i> to compile, <i>Ctrl + Shift + B</i> to compile and run. <br><br>  That's all! <br><br>  <b>UPD</b> : When it came to the code with gl-functions from the latest versions, it turned out that connecting the <code>GL/gl.h</code> header file is not enough.  It contains outdated version 1.1, and this file is no longer being updated.  In addition to this, you need to connect <code>GL/glext.h</code> (the latest version of which you need to download <a href="">from here</a> ) and <code>GL/wglext.h</code> ( <a href="">from here</a> ).  For Linux, the last file is replaced with <code>GL/glxext.h</code> ( <a href="">link</a> ).  The downloaded files need to be replaced with their outdated versions at the address " <code>MinGW/include/GL/</code> ". </div><p>Source: <a href="https://habr.com/ru/post/177885/">https://habr.com/ru/post/177885/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../177873/index.html">RBAC Authorization in YII and LDAP</a></li>
<li><a href="../177875/index.html">Do you plan to leave Russia forever before 2017?</a></li>
<li><a href="../177879/index.html">We read Habr, xkcd and rss on kindle</a></li>
<li><a href="../177881/index.html">Unity3d stops supporting Flash</a></li>
<li><a href="../177883/index.html">Avast! removes sndvol32.exe (volume control) as a virus</a></li>
<li><a href="../177887/index.html">The new BeagleBone Black is available for order, for only $ 45</a></li>
<li><a href="../177889/index.html">Probabilistic models: examples and pictures</a></li>
<li><a href="../177891/index.html">In the American special issue of Forbes magazine built an access point</a></li>
<li><a href="../177897/index.html">Ubuntu 13.04 released</a></li>
<li><a href="../177899/index.html">LinkMeUp. Release 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>