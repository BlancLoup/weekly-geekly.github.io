<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Create moving pictures with Processing</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="On Habr√© there is an article how to get sinegraphs with the help of a free program from Microsoft. I was interested in this topic and I decided to wri...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Create moving pictures with Processing</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/1f9/955/e02/1f9955e02171b19ecb93f65d05964187.gif" alt="image"><br><br>  On Habr√© there is <a href="http://habrahabr.ru/post/139556/">an article</a> how to get sinegraphs with the help of a free program from Microsoft.  I was interested in this topic and I decided to write a short sketch for Processing language.  What kind of programming language can be read <a href="http://processing.org/">here</a> .  Such moving pictures are a set of several dozen frames, in which most of the pixels are transparent. <a name="habracut"></a>  Only areas with a moving object remain opaque in all images.  The first frame is displayed completely, it is the background. <br><br>  To get the desired animation, you need to edit the alpha channel of each frame.  As the original images for the script, I used a series of snapshots of candles.  After running the script, only one fixed background frame will appear on the screen.  Click on the image in the place where you want to see the animation.  The algorithm works in real time.  To save the animation, press the "s" key.  The folder ‚Äúout‚Äù will appear in the folder with the sketch, it contains the frames of the output animation.  Next, load the Gimp, open the resulting images as layers and save them in gif format, as an animation.  Here is the source code of the script. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// Zurbaganin // 2012 int nFrames =15; //   PImage[] imgs = new PImage[nFrames]; //   PImage brush=new PImage (63, 63, RGB);//      - void setup() { background(255); createBrush();//     - size(1024, 768, P3D);//   frameRate(25); //   for (int k = 0; k &lt; imgs.length; k++) { String imgName = nf(k, 2) + ".png";//      imgs[k] = loadImage(imgName);//    imgs[k].format=ARGB;//   32-  } nullAlpha();////      } void draw() { int frame = frameCount % (nFrames);//           image(imgs[frame], 0, 0);//     } void createBrush() //      { for (int i = 0; i &lt; brush.height; i++) { for (int j = 0; j &lt; brush.width; j++) { float gr; float a=dist(brush.width/2, brush.height/2, j, i); gr=92*(1-a/dist(brush.width/4, brush.height/4, 0, 0)); brush.pixels[i*brush.width+j]=color(gr); } } } void mousePressed() //    . //         { if (mouseButton == LEFT) { for (int k = 1; k &lt; imgs.length; k++) { for (int i = 0; i &lt; brush.height; i++) { for (int j = 0; j &lt; brush.width; j++) { int i1=mouseY-brush.height/2+i; int j1=mouseX-brush.height/2+j; float r=(int)red(imgs[k].pixels[i1*imgs[k].width+j1]); float g=(int)green(imgs[k].pixels[i1*imgs[k].width+j1]); float b=(int)blue(imgs[k].pixels[i1*imgs[k].width+j1]); float a=(int)alpha(imgs[k].pixels[i1*imgs[k].width+j1]); a=a+(int)red(brush.pixels[i*brush.width+j]); if (a&gt;255) { a=255; } // float a=255; imgs[k].pixels[i1*imgs[k].width+j1]=color(r, g, b, a); } } } } } void nullAlpha()//      { for (int k = 1; k &lt; imgs.length; k++) { for (int i = 0; i &lt; imgs[k].height; i++) { for (int j = 0; j &lt; imgs[k].width; j++) { float r=(int)red(imgs[k].pixels[i*imgs[k].width+j]); float g=(int)green(imgs[k].pixels[i*imgs[k].width+j]); float b=(int)blue(imgs[k].pixels[i*imgs[k].width+j]); float a=(int)alpha(imgs[k].pixels[i*imgs[k].width+j]); a=0;//     imgs[k].pixels[i*imgs[k].width+j]=color(r, g, b, a); } } } } void keyPressed() { if (key == 's' || key == 'S') {//      for (int k = 1; k &lt; imgs.length; k++) { for (int i = 0; i &lt; imgs[k].height; i++) { for (int j = 0; j &lt; imgs[k].width; j++) { float r, g, b; float a=(int)alpha(imgs[k].pixels[i*imgs[k].width+j]); if (a==0) { r=(int)red(imgs[0].pixels[i*imgs[0].width+j]); g=(int)green(imgs[0].pixels[i*imgs[0].width+j]); b=(int)blue(imgs[0].pixels[i*imgs[0].width+j]); } else { r=(int)red(imgs[k].pixels[i*imgs[k].width+j]); g=(int)green(imgs[k].pixels[i*imgs[k].width+j]); b=(int)blue(imgs[k].pixels[i*imgs[k].width+j]); } a=255; // float a=255; imgs[k].pixels[i*imgs[k].width+j]=color(r, g, b, a); } } } for (int k = 0; k &lt; imgs.length; k++) { imgs[k].save("/out/"+nf(k, 6)+".png"); } } }</span></span></code> </pre> <br><br>  For normal operation of the script, the original images must be saved in the format of png 1024x768 pixels and moved to the sketch directory.  File names should be: ‚Äú01.png, 02.png ... **. Png‚Äù.  Specify your number of frames in the code using the nFrames parameter. <br><br>  This video demonstrates the work program. <br>  Processing is free software, does not require installation, works fine under Linux and Windows. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/ubYecSY0l5c" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div><p>Source: <a href="https://habr.com/ru/post/140411/">https://habr.com/ru/post/140411/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../140401/index.html">Published the full program of the conference WebProfessionals in Samara</a></li>
<li><a href="../140403/index.html">Runetology (139): special edition of Runet Salaries</a></li>
<li><a href="../140404/index.html">Why does the Feistel network work? Explanation "on the fingers"</a></li>
<li><a href="../140405/index.html">Bitcasa has started!</a></li>
<li><a href="../140409/index.html">Django Admin Actions - actions with an intermediate page</a></li>
<li><a href="../140412/index.html">Muz.ru gives audio for free</a></li>
<li><a href="../140414/index.html">Caching in Yii using tags</a></li>
<li><a href="../140415/index.html">Connecting a color LCD touch screen to a microcontroller</a></li>
<li><a href="../140417/index.html">Intellect cards as a good way to systematize any activity.</a></li>
<li><a href="../140418/index.html">AtContent.com. Internal structure and architecture</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>