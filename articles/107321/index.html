<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>PostgreSQL manual build for 1C 8.2, or the easy way is not for us!</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The article describes the manual build of the PostgreSQL database for 1C under Gentoo Linux. 
 I will not talk about all the dead-end branches of our ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>PostgreSQL manual build for 1C 8.2, or the easy way is not for us!</h1><div class="post__text post__text-html js-mediator-article">  The article describes the manual build of the PostgreSQL database for 1C under Gentoo Linux. <br>  I will not talk about all the dead-end branches of our labyrinth assembly postgresa for 1C.  I will describe only what is not on the Internet anywhere - what we have smoked by the method of scientific spear.  Despite the abundance of postgres installation manuals for 1C, none of them solved our main rakes, they all turned out to be superficial and did not explain anything.  Therefore, we considered it our duty to fill this gap :-) <br><a name="habracut"></a><br><br>  To begin with, we use Gentoo, and we don‚Äôt have any RPM packages.  It was not possible to install the 1C package in the rpm format for Gentoo (for a long time to explain why), so download src.rpm and automatically compile it using rpmbuild disappeared.  We had the only opportunity - to transfer rpm2tgz from rpm format to a simple tar.gz archive and unpack it, which we did.  And below is a step by step guide. <br><br>  0. Preparing the environment: mkdir / tmp / t5 &amp;&amp; cd / tmp / t5 (there were 5 starts from the very beginning :-) 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      1. Downloading the package with all required files from the official site: wget <a href="">v8.1c.ru/overview/postgresql_patches/8-4-1/postgresql-8.4.1-1.1C.src.rpm</a> <br><br>  2. We carry out: rpm2tar postgresql-8.4.1-1.1C.src.rpm &amp;&amp; rm postgresql-8.4.1-1.1C.src.rpm <br><br>  3. Unpack the archive: tar xf postgresql-8.4.1-1.1C.src.tar.  All files are unpacked into the current directory, so it‚Äôs best to do it in a clean folder.  Also immediately unpack the postgresql-8.4.1.tar.bz2 and go to this folder: <br>  tar xfj postgresql-8.4.1.tar.bz2 &amp;&amp; cd cd postgresql-8.4.1 <br><br>  4.Open the file ../postgresql-8.4.1C.spec and study it for a very long time :-) It describes everything that rpmbuild would have done (if everything was so simple!).  We find the section where the patches are superimposed, and in the same order we begin to do it (from the folder with postgres): <br><br>  patch -p1 &lt;../rpm-pgsql.patch <br>  patch -p1 &lt;../postgresql-logging.patch <br>  patch -p1 &lt;../postgresql-perl-rpath.patch <br>  patch -p1 &lt;../postgresql-prefer-ncurses.patch <br>  patch -p0 &lt;../1c_FULL_84-0.19.2.patch (p0, not p1!) <br>  patch -p1 &lt;../postgresql-1c-8.3.patch - the jokes are gone, the patch is not applied!  And it is in the official delivery.  We never found that it changes the rpm spec so that such a patch overlaps.  Fortunately, the patch is small and straightforward, it just changes the default configuration options, so we will return after installation and fix the config with handles.  In the meantime, scored on it and go on. <br>  patch -p0 &lt;../applock-1c-8.4.0.patch <br><br>  5. Further we study the build rpm spec section, and look at what parameters configure is invoked with.  It's hard to believe that 1C will use perl, python, or tcl (and we are raising the base exclusively for 1C, we don‚Äôt want to keep our other bases in the 1C developers database, let them live in the normal original postgre), so these options are simply ignored.  Total that we used: <br>  ./configure --disable-rpath --enable-nls --disable-integer-datetimes --enable-thread-safety <br><br>  6. make &amp;&amp; make install.  Post root will be copied to / usr / local / pgsql. <br><br>  Next, you need to install additional libraries from the contrib folder.  Remember, one patch did not overlap?  He adds 3 additional lines from 1C to contrib / Makefile: mchar, fulleq and fasttrun.  To build mchar, you need an additional component ICU version 3.8.  Therefore, we make a small digression and put it: <br><br>  mkdir / tmp / icu &amp;&amp; cd / tmp / icu &amp;&amp; wget <a href="">download.icu-project.org/files/icu4c/3.8.1/icu4c-3_8_1-src.tgz</a> <br>  tar zxf icu4c-3_8_1-src.tgz &amp;&amp; cd icu / source <br>  ./configure --prefix = / usr / local / icu &amp;&amp; make &amp;&amp; make install <br><br>  ICU will be set relative to / usr / local / icu.  But we will only need a library that is connected during execution, so after installing the post-posts we will get this folder. <br><br>  Let's go back to the contrib build. <br>  cd /tmp/t5/postgresql-8.4.1/ <br><br>  7. You need to edit the contrib / mchar / Makefile file and fix PG_CPPFLAGS to the ICU path: <br>  PG_CPPFLAGS = -I / usr / local / icu / include. <br>  Also correct the path in the SHLIB_LINK at the very bottom in the same file: <br>  SHLIB_LINK + = -L / usr / local / icu / lib -licuuc -l $ (ICUNAME) -Wl, -rpath, '$$ ORIGIN' <br><br>  8. Then add three 1C components to the WANTED_DIRS in the contrib / Makefile file (line 38, see <a href="http://v8.1c.ru/overview/postgresql_patches/8-4-1/postgresql-1c-8.4.patch">v8.1c.ru/overview/postgresql_patches/8-4-1/postgresql-1c-8.4.patch</a> ) with <a href="http://v8.1c.ru/overview/postgresql_patches/8-4-1/postgresql-1c-8.4.patch">handles</a> : <br>  vacuumlo \ <br>  mchar \ <br>  fulleq \ <br>  fasttrun <br><br>  9. Collect contrib: <br>  make -C contrib &amp;&amp; make -C contrib install <br><br>  10. Use pens to copy the required ICU libraries to the folder with the posts: <br>  cp -a / usr / local / icu / lib / * / usr / local / pgsql / lib / <br>  rm -rf / usr / local / icu <br><br>  11. Postrges compiled and installed in / usr / local / pgsql.  Configs will not be ruled yet.  Create a system account under which the database will work: <br><br>  useradd -d / usr / local / pgsql / -s / bin / bash pgmaster <br>  mkdir / usr / local / pgsql / data <br>  chown pgmaster / usr / local / pgsql / data &amp;&amp; chmod 700 / usr / local / pgsql / data <br>  cat &gt;&gt; /usr/local/pgsql/.bash_profile &lt;&lt; EOF <br>  export LANG = en_RU.UTF-8 <br>  export PGPORT = 5434 <br>  export PATH = / usr / local / pgsql / bin: / usr / local / pgsql / sbin: $ PATH <br>  export LD_LIBRARY_PATH = / usr / local / pgsql / lib <br>  EOF <br><br>  We already have one post server running on the server, so for 1C we chose a different port and system account, created a bash profile running during su - pgmaster, this way all paths and variables are set. <br><br>  12. Initialize and run the database: <br><br>  mkdir / usr / local / pgsql / log &amp;&amp; chown pgmaster / usr / local / pgsql / log <br>  su - pgmaster <br>  initdb -D / usr / local / pgsql / data <br>  postgres -h 0.0.0.0 -p 5434 -D / usr / local / pgsql / data <br><br>  The server started silently without losing the controlling terminal. <br>  Change password superyuzru (screen taxis, hehe): <br><br>  su - pgmaster <br>  psql template1 <br>  psql (8.4.1) <br>  Type "help" for help. <br>  template1 = # alter user pgmaster with password 'pass-pass'; <br>  ALTER ROLE <br>  template1 = # <br>  CTRL + D <br><br>  And now let's extinguish the postgres in the first console by CTRL + C, and it's time to edit the configs. <br><br>  13. The data / pg_hba.conf file, it is necessary to change the trust in it to md5, as well as add an entry allowing access over the network: <br><br>  local all all md5 <br>  host all all 127.0.0.1/32 md5 <br>  host all all 0.0.0.0/0 md5 <br><br>  14. The data / postgresql.conf file, you need to set the following options in it (part of a non-patch applied, part for debugging): <br><br>  log_destination = 'stderr' <br>  logging_collector = off # turn off while log generation in data / pg_log will output to console) <br>  log_statement = 'all' # we want to see that it will issue 1C to the database! <br>  listen_addresses = '*' # on which interfaces to listen <br>  effective_cache_size = 512MB # 1C recommendation <br>  max_locks_per_transaction = 150 # 1C recommendation <br><br>  15. Shared memory.  Either sysctl -w kernel.shmmax = 256,000,000, or edit /etc/sysctl.conf, add kernel.shmmax = 256,000,000, and then sysctl -p. <br><br>  16. And now the fun begins.  Run postges again (postgres -D data -p 5434).  Connect and create a base for 1C: <br><br>  $ psql template1 <br>  Password: <br>  psql (8.4.1) <br>  Type "help" for help. <br>  template1 = # <br><br>  17. Next, you need to create the plpgsql language in the base template1: <br><br>  template1 = # create language plpgsql; <br>  CREATE LANGUAGE <br>  template1 = # <br><br>  18. Next, you need to fill it with SQL-code from 3 components from 1C.  Nowhere on the Internet about this operation is not said.  We studied the entire RPM spec, did make check, test, and so on.  But they didn‚Äôt find how in RPM packages all this code gets into template1.  Therefore, we do this with our hands: <br><br>  template1 = # \ i /tmp/t5/postgresql-8.4.1/contrib/mchar / mchar.sql <br>  template1 = # \ i /tmp/t5/postgresql-8.4.1/contrib/fulleq/fulleq.sql <br>  template1 = # \ i /tmp/t5/postgresql-8.4.1/contrib/fasttrun/fasttrun.sql <br><br>  If you suddenly swear at the mchar.so podgruzka, which in turn did not find libicu *, then you forgot about LD_LIBRARY_PATH or copied the ICUs to / usr / local / pgsql / lib, read first :-P <br><br>  19. But that's not all !!!  The most important traffic jam, because of which they could not move on.  We set on base 1C, we look in logs: <br><br>  <strong>LOG: statement: select 1 from pg_proc where proname in ('plpgsql_call_handler', 'datediff', 'mchar_in', 'mc_mv_icase_cmp', 'fasttruncate')</strong> <br><br>  And after that, 1C says: "Your database is bad, it does not fit." <br>  We enter this query from the console: <br><br>  template1 = # select 1 from pg_proc where proname in ('plpgsql_call_handler', 'datediff', 'mchar_in', 'mc_mv_icase_cmp', 'fasttruncate'); <br>  ? column? <br>  - one <br>  one <br>  one <br>  one <br>  (4 rows) <br><br>  Four ones, and it seems like there should be five!  By the exception method, we find out that there is no datediff.  Attempts to find it in the folder with postgresql and in 1C patches do not lead to success: <br><br>  snowflake local # cd / tmp / t5 / <br>  snowflake t5 # ls <br>  1c_FULL_84-0.19.2.patch pg_config.h postgresql-8.4.1C.spec postgresql.pam <br>  applock-1c-8.4.0.patch postgresql-1c-8.3.patch postgresql-8.4.1.tar.bz2 postgresql-perl-rpath.patch <br>  ecpg_config.h postgresql-8.4.1 postgresql-bashprofile postgresql-prefer-ncurses.patch <br>  filter-requires-perl-Pg.sh postgresql-8.4.1-1.1C.src.tar postgresql.init README.rpm-dist <br>  Makefile.regress postgresql-8.4.1-A4.pdf postgresql-logging.patch rpm-pgsql.patch <br>  snowflake t5 # fgrep -ri datediff * <br>  snowflake t5 # <br><br>  Found on the Internet some datediff function.  We guessed why it is needed at all, and why all these patches are needed at all.  Instead of adapting 1C to postrgues, the developers decided to adapt postgres so that SQL looks like MSSQL!  Here and there there functions and types!  Well, okay, we found datediff. <br><br>  Just in case, here is its code: <br><blockquote>  CREATE OR REPLACE FUNCTION datediff (character varying, timestamp without time zone, timestamp without time zone) <br>  RETURNS integer AS <br>  $ BODY $ <br>  DECLARE <br>  arg_mode alias for $ 1; <br>  arg_d2 alias for $ 2; <br>  arg_d1 alias for $ 3; <br>  BEGIN <br>  if arg_mode = 'SECOND' then <br>  return date_part ('epoch', arg_d1) - date_part ('epoch', arg_d2); <br>  elsif arg_mode = 'MINUTE' then <br>  return ceil ((date_part ('epoch', arg_d1) - date_part ('epoch', arg_d2)) / 60); <br>  elsif arg_mode = 'HOUR' then <br>  return ceil ((date_part ('epoch', arg_d1) - date_part ('epoch', arg_d2)) / 3600); <br>  elsif arg_mode = 'DAY' then <br>  return cast (arg_d1 as date) - cast (arg_d2 as date); <br>  elsif arg_mode = 'WEEK' then <br>  return ceil ((cast (arg_d1 as date) - cast (arg_d2 as date)) / 7.0); <br>  elsif arg_mode = 'MONTH' then <br>  return 12 * (date_part ('year', arg_d1) - date_part ('year', arg_d2)) <br>  + date_part ('month', arg_d1) - date_part ('month', arg_d2); <br>  elsif arg_mode = 'QUARTER' then <br>  return 4 * (date_part ('year', arg_d1) - date_part ('year', arg_d2)) <br>  + date_part ('quarter', arg_d1) - date_part ('quarter', arg_d2); <br>  elsif arg_mode = 'YEAR' then <br>  return (date_part ('year', arg_d1) - date_part ('year', arg_d2)); <br>  end if; <br>  END <br>  $ BODY $ <br>  LANGUAGE plpgsql VOLATILE <br>  COST 100; <br></blockquote><br>  <strong>Attention!</strong>  <strong>Text formatting on Habr√© replaces the minus sign with a hyphen.</strong>  <strong>Copy the text of the procedure first into a text editor, and there massively replace a long hyphen with a short minus, otherwise the postgres will swear :-)</strong> <br><br>  Count again edinichki :-) <br><br>  template1 = # select 1 from pg_proc where proname in ('plpgsql_call_handler', 'datediff', 'mchar_in', 'mc_mv_icase_cmp', 'fasttruncate'); <br>  ? column? <br>  - one <br>  one <br>  one <br>  one <br>  one <br>  (5 rows) <br><br>  Like cheers!  But it was not there :-) We recalculate the functions 10 times, five of them.  And we have five!  A 1C at startup still says that we have a bad base, and no longer goes.  We look again all (a couple of pieces of everything!) Initial requests when configuring 1C.  We understand that all she can do is count the units!  But there are 5 of them !!! <br>  We achieved this result in 3 hours after downloading the archive from 1C.  Next began dancing with a tambourine.  Numerous rebuilds, attempts to download different versions, distros from Etersoft ... But the output is one: five functions, five units.  Though about the wall with his head. <br>  And then I got the idea to perform this procedure on the working configuration ... We send the text by mail to a friend, he feeds it to the database, and sends the result: <br><br>  demo = # select 1 from pg_proc where proname in ('plpgsql_call_handler', 'datediff', 'mchar_in', 'mc_mv_icase_cmp', 'fasttruncate'); <br>  ? column? <br>  - one <br>  one <br>  one <br>  one <br>  one <br>  one <br>  (6 rows) <br><br>  We have a quiet stupor.  Thoughts move with difficulty.  Someone notices that apparently, some procedures more than one :-)) <br>  Is logical.  By the method of poking by mail, we find out that plpgsql_call_handler is in two copies.  The call select * from pg_proc where proname = 'plpgsql_call_handler' on the demo machine issued two identical entries, with the exception of the pronamespace field. <br>  Further, many attempts by hands to insert an entry into the pg_proc system table, swearing at the fed values. <br>  Again stupor.  The reason is clear, what to do - no. <br>  And here we type one word in Yandex: plpgsql_call_handler (before that, various combinations were tried to google).  In the first place is the site <a href="http://www.samag.ru/art/10.2004/10.2004_07.html">www.samag.ru/art/10/2004/10/2004_07.html</a> , where it is written: <br><br><blockquote>  Next, we need to make sure that the procedural language PL / pgSQL is available in the created database.  To do this, run the following command: <br><br>  select * from pg_language; <br>  If plpgsql in the result is missing, then from the shell of your OS, run the following command: <br><br>  $ createlang ‚ÄìU pgsql plpgsql eshop <br>  The ‚ÄìU option specifies the user - database administrator on whose behalf this operation will be performed. <br><br>  Language support can also be enabled from a client program (for example, psql) by executing the following two commands: <br><br>  create function plpgsql_call_handler () <br>  returns language_handler <br>  as '$ libdir / plpgsql', 'plpgsql_call_handler' <br>  language 'c'; <br>  create trusted procedural language 'plpgsql' <br>  handler plpgsql_call_handler; <br>  The first of them creates a handler function based on the library function, the second - the PL / pgSQL language itself based on the handler created above. <br></blockquote><br><br>  And then it dawned on - to create the same procedure again :-P <br>  Fill the procedure in the database: <br><blockquote>  create function plpgsql_call_handler () <br>  returns language_handler <br>  as '$ libdir / plpgsql', 'plpgsql_call_handler' <br>  language 'c'; <br></blockquote><br>  template1 = # create function plpgsql_call_handler () <br>  template1- # returns language_handler <br>  template1- # as '$ libdir / plpgsql', 'plpgsql_call_handler' <br>  template1- # language 'c'; <br>  CREATE FUNCTION <br>  template1 = # select * from pg_proc where proname = 'plpgsql_call_handler'; <br>  proname |  pronamespace |  proowner |  prolang |  procost |  prorows |  provariadic |  proisagg |  proiswindow |  prosecdef |  proisstrict |  proretset |  provolatile |  pronargs |  pronargdefaults |  prorettype |  proargtypes |  proallargtypes |  proargmodes |  proargnames |  proargdefaults |  prosrc |  probin |  proconfig |  proacl <br>  ---------------------- + -------------- + ---------- + - -------- + --------- + --------- + ------------- + ------- --- + ------------- + ----------- + ------------- + ------ ----- + ------------- + ---------- + ----------------- + - ----------- + ------------- + ---------------- + ------- ------ + ------------- + ---------------- + ------------ ---------- + ----------------- + ----------- + -------- <br>  plpgsql_call_handler |  11 |  10 |  13 |  1 |  0 |  0 |  f |  f |  f |  f |  f |  v |  0 |  0 |  2280 |  |  |  |  |  |  plpgsql_call_handler |  $ libdir / plpgsql |  | <br>  plpgsql_call_handler |  2200 |  10 |  13 |  1 |  0 |  0 |  f |  f |  f |  f |  f |  v |  0 |  0 |  2280 |  |  |  |  |  |  plpgsql_call_handler |  $ libdir / plpgsql |  | <br>  (2 rows) <br><br>  Here they are :-) <br>  Check: <br><br>  template1 = # select 1 from pg_proc where proname in ('plpgsql_call_handler', 'datediff', 'mchar_in', 'mc_mv_icase_cmp', 'fasttruncate'); <br>  ? column? <br>  - one <br>  one <br>  one <br>  one <br>  one <br>  one <br>  (6 rows) <br><br>  Final - create a database from template1: <br><br>  template1 = # create database enterprise; <br>  CREATE DATABASE <br><br>  And now we run 1C and set it on the enterprise ... lo and behold!  The database was created, and 1C flooded the entire structure. <br><br>  <strong>And now the question.</strong>  <strong>Why do programmers 1C in the database have two identical procedures ???</strong> <br>  :-))) <br><br>  PS Then, when they were playing, they deleted datediff, they found that it depends on plpgsql_call_handler: <br>  template1 = # drop language plpgsql; <br>  ERROR: cannot fall language plpgsql because other objects depend on it <br>  DETAILED: function datediff (character varying, timestamp without time zone, timestamp without time zone) depends on language plpgsql <br>  But still they didn‚Äôt understand where it comes from in the assembled Etersoft or 1C distributions :-)) </div><p>Source: <a href="https://habr.com/ru/post/107321/">https://habr.com/ru/post/107321/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../107308/index.html">We enter the Android Market using AppInventor</a></li>
<li><a href="../107310/index.html">Impressions of Startup Weekend in Petersburg</a></li>
<li><a href="../107311/index.html">YouTube video service unbanned in Turkey</a></li>
<li><a href="../107313/index.html">Habraquest with astronautics and geocaching elements [done!]</a></li>
<li><a href="../107320/index.html">Is it worth chasing three kopecks when there is a ruble under your feet?</a></li>
<li><a href="../107322/index.html">The most comprehensive guide to Internet Explorer 9 for developers (and not only), part 6</a></li>
<li><a href="../107323/index.html">How to write a book and not go crazy</a></li>
<li><a href="../107324/index.html">Google Picasa Virtual Disk</a></li>
<li><a href="../107325/index.html">Do not sleep!</a></li>
<li><a href="../107329/index.html">Microsoft Campus Redmond Tour</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>