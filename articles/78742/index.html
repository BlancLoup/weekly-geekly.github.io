<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Download GTalk's message history to your computer.</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I have been using gmail's jabber for communication for a long time. I connected the transport and enjoyed, enjoying life. After half a year, Chingachg...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Download GTalk's message history to your computer.</h1><div class="post__text post__text-html js-mediator-article"><img align="right" alt="Gtalk" src="https://habrastorage.org/getpro/habr/post_images/6ec/659/9db/6ec6599db572c8baacd6dc97312f3baa.gif"><br>  I have been using gmail's jabber for communication for a long time.  I connected the transport and enjoyed, enjoying life.  After half a year, <s>Chingachguk noticed that there was no single wall in his cell,</s> I noticed that it was terribly inconvenient to use history and decided to download the entire history of messages for offline use. <br><a name="habracut"></a><br><h2>  Consider options </h2><br><h3>  Google gears </h3><br>  The first option that Google itself offers is to use Google Gears.  But in order to view the story, you still need to go to the browser, and this is more than inconvenient (at least for me), it is much more pleasant for me to store history in text form. <br>  Also, it is not safe to keep message history online.  Let it be stored on Google's server, even if everything is logged on AOL servers, but I do not want it to be accessible from my gmail account.  At least long-term - let the history of a week ago be kept.  No more. <br><br><h3>  Store in native form on your computer </h3><br>  This is not possible by standard methods.  The story is not downloaded from POP3, IMAP, it is missing in the GTalk client.  No button "Download story" even close and no. <br>  Well.  Do not want in a good way, we will in a bad way. <br><br><h2>  Dances with a tambourine </h2><br><h3>  We keep the pages with the story on your computer. </h3><br>  <strong>Training</strong> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In the "chat rooms" I have about two thousand logs.  You need to open each and save. <br>  To do this manually, of course, we will not.  To do this, install the <a href="https://addons.mozilla.org/ru/firefox/addon/3863">iMacros</a> add- <a href="https://addons.mozilla.org/ru/firefox/addon/3863">on</a> for Firefox. <br>  What do we need to save?  Preferably, only the log itself - without any logos, buttons and tabs.  Ideally - there is a ‚Äúprint version‚Äù in gmail! <br><br>  <strong>Write macro</strong> <br><br>  To begin with, create a new label, for example, ‚Äúchats‚Äù.  Go to "Chats" and mark ALL logs with this label.  For what?  And you will see soon. <br>  <i>Moving to Gmail view: simplified</i> (bottom of page) <br>  What do we see?  Tabs "Chats" no!  But we are cunning - we select the ‚Äúchats‚Äù label and see all the chats. <br>  We open iMacros and reduce the page size a bit so that the entire panel with the buttons ‚ÄúRemove Label‚Äù, ‚ÄúReport Spam‚Äù, the numbers on the number of messages were WITHOUT line breaks. <br>  Start recording a macro. <br>  First of all, we change the click mode - to positional - <strong>X / Y.</strong>  Click on the first message - on the label "chats" next to the topic.  When it opens, we change the click mode on <strong>Auto</strong> , right-click on ‚ÄúPrint‚Äù and select ‚ÄúSave Target As ...‚Äù and save to any folder.  Then again we change the click mode on <strong>X / Y</strong> and click on the ‚ÄúRemove shortcut chats‚Äù button.  Finish the recording. <br>  Now go to Edit. <br>  Remove the third line (URL GOTO = ...) and you get something like this: <br><br> <code>VERSION BUILD=6251204 RECORDER=FX <br> TAB T=1 <br> URL GOTO=http://mail.google.com/mail/h... <br> CLICK X=442 Y=177 <br> ONDOWNLOAD FOLDER=* FILE=+_{{!NOW:yyyymmdd_hhnnss}} WAIT=YES <br> TAG POS=2 TYPE=A ATTR=TXT: CONTENT=EVENT:SAVETARGETAS <br> CLICK X=268 Y=151 <br></code> <br><br>  Save the macro under some name. <br><br>  <strong>Launch</strong> <br><br>  Everything will be saved to the folder that is specified in the iMacros'a options (Download folder).  Put a label ‚Äúchats‚Äù on the messages from which it was removed as a result of experiments, go to the download folder and delete all its contents. <br>  Run the macro a hundred times with a break of 10 minutes to avoid blocking the account.  During the operation, I was blocked 3 times for one hour :) <br><br><h3>  Convert to text file </h3><br>  And so ... all the files with the history on our computer.  But they are all with a bunch of html tags. <br>  The solution to the problem is the html2text utility - it is in almost all linux repositories, seen on the network and under windows. <br>  $ cd folder_zakachek_iMacros <br>  $ html2text *&gt; ~ / all.txt <br>  After this command, the entire history will be saved to the text file all.txt in the home folder in a rather convenient way. <br><br>  Congratulations!  We did it!  Now you can, with a clear conscience, delete the history from gmail. <br>  Thanks for attention. <br><br>  Taking this opportunity, I express my gratitude to <a href="https://geektimes.ru/users/levsha100/" class="user_link">levsha100</a> for an invite;) </div><p>Source: <a href="https://habr.com/ru/post/78742/">https://habr.com/ru/post/78742/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../78727/index.html">iPhone Client Forismatic</a></li>
<li><a href="../78728/index.html">Asymptotic analysis of algorithms</a></li>
<li><a href="../78732/index.html">Visual sugar for ActiveRecord</a></li>
<li><a href="../78736/index.html">iPhone Christmas Gift Finder: Looking for New Year's Gifts</a></li>
<li><a href="../78740/index.html">Configuring Aptana Studio from scratch to work on Django projects</a></li>
<li><a href="../78743/index.html">WiMAX. How it works</a></li>
<li><a href="../78745/index.html">1, 1, 2, 3, 5, 8 or how I overcame the Fibonacci dependency</a></li>
<li><a href="../78746/index.html">Open Source Augmented Reality</a></li>
<li><a href="../78747/index.html">How to implement uploading images to the list in a separate thread on Android</a></li>
<li><a href="../78750/index.html">Electronic Government Online</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>