<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Extreme Extended Edge, or IEEE 802.1BR based switching</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The Extreme Extended Edge solution (also known as Virtual Port Extender - VPEX) is a new technology that has been supported for the first time in the ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Extreme Extended Edge, or IEEE 802.1BR based switching</h1><div class="post__text post__text-html js-mediator-article">  The Extreme Extended Edge solution (also known as Virtual Port Extender - VPEX) is a new technology that has been supported for the first time in the EXOS operating system since release 22.5.  The solution itself is based on the IEEE 802.1BR standard (Bridge Port Extension), and as part of the EXOS 22.5 release, support for the ExtremeSwitching V400 hardware line has been added <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/x5/-s/0x/x5-s0xrjch3c8akfdf8qxt9vr78.png" alt="image"></div><br><a name="habracut"></a><br>  "VPEX Bridge" is a virtual switch consisting of such components as the Controlling Bridge (CB) and the Bridge Port Extender (BPE).  To ensure fault tolerance, it is possible to connect to two CBs within one virtual switchboard using MLAG technology.  The design of such a virtual switch directly resembles a classic chassis switch or a stack of switches.  And if in the logic of the "Control Plane" this is more or less true, then the work of "Data Plane" differs quite dramatically.  After all, the purpose of 802.1br is to connect a remote port to a local MAC (Media Access Control) service, while isolating the traffic of remote ports. <br><br><h4>  <b>Controlling bridge</b> </h4><br><ul><li>  One and only point of control </li><li>  All configuration happens locally on CB </li><li>  VPEX support must be activated, a reboot is required to change the operation mode </li><li>  CB is always slot number 1 </li><li>  In the current release, CB supports simultaneous connection up to 48 BPE </li><li>  CB mode is supported on certain hardware platforms (currently X670G2 and X690, other platforms will be added as they are released) </li><li>  EXOS licenses apply only to CB </li><li>  VPEX does not require additional licenses </li><li>  Responsible for data-plane processing and filtering traffic. </li><li>  Contains a virtual view of each ‚Äúextended‚Äù port </li></ul><br><h4>  <b>Bridge port extender</b> </h4><br><ul><li>  BPE devices are managed as chassis switch slots. </li><li>  BPE slots are numbered from 100 to 162 </li></ul><br><pre><code class="hljs pgsql">Slot<span class="hljs-number"><span class="hljs-number">-1</span></span> VPEX X690<span class="hljs-number"><span class="hljs-number">-48</span></span>x<span class="hljs-number"><span class="hljs-number">-2</span></span>q<span class="hljs-number"><span class="hljs-number">-4</span></span>c<span class="hljs-number"><span class="hljs-number">.3</span></span> # <span class="hljs-keyword"><span class="hljs-keyword">show</span></span> slot Slots <span class="hljs-keyword"><span class="hljs-keyword">Type</span></span> Configured State Ports Flags <span class="hljs-comment"><span class="hljs-comment">------------------------------------------------------------------------------- Slot-1 X690-48x-2q-4c X690-48x-2q-4c Operational 72 M Slot-100 V400-48t-10GE4 V400-48t-10GE4 Operational 52 M Slot-101 V400-48t-10GE4 V400-48t-10GE4 Operational 52 M Slot-102 V400-48t-10GE4 V400-48t-10GE4 Operational 52 M Slot-103 V400-48t-10GE4 V400-48t-10GE4 Operational 52 M</span></span></code> </pre> <br><ul><li>  No need for console or out-of-band IP connectivity to BPE </li><li>  All configuration, monitoring, troubleshooting, diagnostics is done through the CB interface. </li></ul><br><pre> <code class="hljs pgsql">Slot<span class="hljs-number"><span class="hljs-number">-1</span></span> VPEX X670G2<span class="hljs-number"><span class="hljs-number">-48</span></span>x<span class="hljs-number"><span class="hljs-number">-4</span></span>q<span class="hljs-number"><span class="hljs-number">.8</span></span> # config vlan v100 <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> port <span class="hljs-number"><span class="hljs-number">100</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">100</span></span>:<span class="hljs-number"><span class="hljs-number">3</span></span> *Slot<span class="hljs-number"><span class="hljs-number">-1</span></span> VPEX X670G2<span class="hljs-number"><span class="hljs-number">-48</span></span>x<span class="hljs-number"><span class="hljs-number">-4</span></span>q<span class="hljs-number"><span class="hljs-number">.9</span></span> # <span class="hljs-keyword"><span class="hljs-keyword">show</span></span> port <span class="hljs-number"><span class="hljs-number">100</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span><span class="hljs-number"><span class="hljs-number">-3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">statistics</span></span> <span class="hljs-keyword"><span class="hljs-keyword">no</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">refresh</span></span> Port Link Tx Pkt Tx Byte Rx Pkt Rx Byte Rx Pkt Tx Pkt State Count Count Count Count Mcast Mcast ====== ===== ========== =========== ========== =========== ======= ======== <span class="hljs-number"><span class="hljs-number">100</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span> A <span class="hljs-number"><span class="hljs-number">2126523437</span></span> &gt;<span class="hljs-number"><span class="hljs-number">9999999999</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">14383</span></span> <span class="hljs-number"><span class="hljs-number">100</span></span>:<span class="hljs-number"><span class="hljs-number">2</span></span> R <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">100</span></span>:<span class="hljs-number"><span class="hljs-number">3</span></span> A <span class="hljs-number"><span class="hljs-number">21824</span></span> <span class="hljs-number"><span class="hljs-number">4759804</span></span> <span class="hljs-number"><span class="hljs-number">2126738453</span></span> &gt;<span class="hljs-number"><span class="hljs-number">9999999999</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">14383</span></span> ====== ===== ========== =========== ========== =========== ======= ========</code> </pre><br><ul><li>  BPEs do not perform local switching.  As a result, all traffic is tunneling to CB and, if necessary, forwarding to the neighboring port of the same BPE slot, is returned.  (BPE accepts the packet, adds the E-TAG header and sends it to the upstream port) </li></ul><br>  For work as BPE the new hardware ExtremeSwitching V400 platform is presented.  It includes port extenders for 24/48 10/100/1000 Base-T ports with or without a PoE sub-rack.  In models for 24 ports there are two 10G ports, in 48 ports there are four 10G ports. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div style="text-align:center;"><img src="https://habrastorage.org/webt/me/rg/qv/mergqvfb1zq8galuemrxqf2htzm.jpeg" alt="image"></div><br><h4>  <b>Work features</b> </h4><br>  Topologies are supported with one or two CBs and up to four cascading connected VRE chains.  Cascaded ports can be combined into LAGs (up to 4 ports for V400-48t / p models).  Endpoints can connect to different BPE slots using LAG. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/m0/uh/7q/m0uh7qvnz1_a3en0aaxsleof7yg.jpeg" alt="image"></div><br>  Detection and operation of BPE is based on protocols such as: <br><br><ul><li>  LLDP - initial detection and determination of the type and capabilities of the connected device </li><li>  ECP - Edge Control Protocol Transport for PE-CSP </li><li>  PE-CSP - ‚ÄúPort Extender Control and Status Protocol‚Äù configuring BPE control with Controlling Bridge </li><li>  LACP - LAG installation between "cascade" &lt;-&gt; "upstream" ports </li></ul><br>  If you use a fault-tolerant design with two CBs and MLAG, then when you reload one CB, BPE will continue to send traffic through the remaining Controlling Bridge.  If a single CB reloads, then BPE will administratively disable its ‚Äúextended‚Äù ports. <br>  For the convenience of configuring the topology with 2 SV, the ability to configure the MLAG ports of both peers from any of the SV has been added.  The mode is called ‚Äúmlag orchestration‚Äù, while the peers synchronize a part of the config related to the MLAG port settings.  The configuration resembles the configuration of user virtual-router. <br><br><pre> <code class="hljs pgsql">Slot<span class="hljs-number"><span class="hljs-number">-1</span></span> VPEX X670G2<span class="hljs-number"><span class="hljs-number">-48</span></span>x<span class="hljs-number"><span class="hljs-number">-4</span></span>q<span class="hljs-number"><span class="hljs-number">.11</span></span> # <span class="hljs-keyword"><span class="hljs-keyword">start</span></span> orchestration mlag "bottom" (orchestration bottom) Slot<span class="hljs-number"><span class="hljs-number">-1</span></span> VPEX X670G2<span class="hljs-number"><span class="hljs-number">-48</span></span>x<span class="hljs-number"><span class="hljs-number">-4</span></span>q<span class="hljs-number"><span class="hljs-number">.12</span></span> # <span class="hljs-keyword"><span class="hljs-keyword">exit</span></span> Slot<span class="hljs-number"><span class="hljs-number">-1</span></span> VPEX X670G2<span class="hljs-number"><span class="hljs-number">-48</span></span>x<span class="hljs-number"><span class="hljs-number">-4</span></span>q<span class="hljs-number"><span class="hljs-number">.13</span></span> #</code> </pre><br>  The Controlling Bridge functionality is available after installing the free EXOS module, which has the extension .xmod.  The same module will contain the update images for BPE.  Actually, when CB and BPE detect each other, CB checks the firmware version installed on the BPE and, if necessary, automatically updates it. <br><br>  The above features of operation allow you to quickly and easily replace the BPE slot if necessary.  Since the BPE slots do not store the config and are not tied to the system in any way, immediately after replacing the device and turning on the power, the BPE will be detected by the SV and the existing config will be applied, and if the firmware will be updated. <br><br>  This solution is well suited for networks with a predominant direction of North / South traffic, such as campus networks, enterprise networks in logistics, education, business centers, and others.  And once again we repeat that the advantages of networks built on the Extreme Extended Edge solution will be: <br><br><ul><li>  Reducing the number of layers of traditional network architecture in terms of configuration and management </li><li>  Easy to scale and deploy </li><li>  It is not necessary to have dedicated console or OOW Mgmt connections to BPE slots </li><li>  Decrease licensing (if necessary, apply only to CB) </li><li>  Single point of configuration, monitoring and troubleshooting </li><li>  Mapping to NMS as a single switch </li><li>  No need for additional training and staffing </li></ul></div><p>Source: <a href="https://habr.com/ru/post/420369/">https://habr.com/ru/post/420369/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../420357/index.html">Vuex: structuring large projects and working with modules</a></li>
<li><a href="../420359/index.html">Var, let or const? Problems scopes variables and ES6</a></li>
<li><a href="../420361/index.html">Bug when working TextBox.GetLineText in .NET WPF</a></li>
<li><a href="../420363/index.html">HPE webinars in August-October: new topics (+ storage, AI practice, turnkey petabyte storage)</a></li>
<li><a href="../420367/index.html">Air-conditioned apocalypse: blackout scenario of the grid using smart climate instruments</a></li>
<li><a href="../420371/index.html">To the issue of bicycle engineering in the field of electromail posting</a></li>
<li><a href="../420373/index.html">Almost OCR to get VPNBook password. PHP + Mikrotik</a></li>
<li><a href="../420375/index.html">Learn OpenGL. Lesson 5.8 - Bloom</a></li>
<li><a href="../420377/index.html">How we ran video calls</a></li>
<li><a href="../420379/index.html">Chamber of Commerce of Russia proposed not to punish users of "spyware" devices</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>