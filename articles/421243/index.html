<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>LLTR Part 2: Algorithm for determining the network topology from the collected statistics</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the previous parts ... 

 0. Automatic detection of network topology and unmanaged switches. Mission Impossible? (+ classic Habrahabr UserCSS ) 


...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">ğŸ”</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">ğŸ“œ</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">â¬†ï¸</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">â¬‡ï¸</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>LLTR Part 2: Algorithm for determining the network topology from the collected statistics</h1><div class="post__text post__text-html js-mediator-article"><a name="LLTR_a2_habr-pic"></a><div style="text-align:center;"><img alt="Link Layer Topology Reveal logo" height="164" src="https://habrastorage.org/webt/5i/-e/hf/5i-ehfvfk0-jh7flz-1ti9yyyke.gif#splash.gif"></div><br><div class="spoiler">  <b class="spoiler_title">In the previous parts ...</b> <div class="spoiler_text"><hr><p>  0. <a href="https://habr.com/post/414799/">Automatic detection of network topology and unmanaged switches.</a>  <a href="https://habr.com/post/414799/">Mission Impossible?</a>  (+ <a href="https://habr.com/post/414799/" title="A set of styles that make it easy to read large articles."><em>classic Habrahabr <strong>UserCSS</strong></em></a> ) </p><p><br>  1. <a href="https://habr.com/post/420327/">First steps in <nobr>OMNeT ++</nobr> and INET [tutorial]</a> </p><hr></div></div><p><br>  <b>Q:</b> What do we have? <br>  <b>A:</b> Statistics collected from hosts. </p><p><br>  <b>Q:</b> What do we want to get? <br>  <b>A:</b> Network topology!  More precisely, you need <a href="https://habr.com/post/414799/">to build the correct chain of peers (hosts)</a> for <a href="http://9b.asoiu.com/2016/3704-ringsync-%25D1%2581%25D0%25B8%25D0%25BD%25D1%2585%25D1%2580%25D0%25BE%25D0%25BD%25D0%25B8%25D0%25B7%25D0%25B8%25D1%2580%25D1%2583%25D0%25B5%25D0%25BC-%25D0%25BD%25D0%25B0-%25D0%25BF%25D0%25BE%25D0%25BB%25D0%25BD%25D0%25BE%25D0%25B9-%25D1%2581%25D0%25BA%25D0%25BE%25D1%2580%25D0%25BE%25D1%2581%25D1%2582%25D0%25B8-%25D1%2581/">RingSync</a> . </p><p><br>  We have to come up with an algorithm that first turns the statistics into a network topology, and then into a chain of peers.  While the algorithm looks like this: </p><br><pre><code class="bash hljs"> â€“-[**]--&gt;   --[**]--&gt;  </code> </pre> <a name="habracut"></a><br><hr><p>  If you liked to read <nobr>â€œPart 1â€</nobr> <a href="https://zirokyl.github.io/LLTR-Simulation-Model/a1/">on GitHub Pages</a> , then here is the <a href="https://zirokyl.github.io/LLTR-Simulation-Model/a2/">link to this part</a> in GitHub Pages. </p><p><br>  <font color="#e07c00"><b>Warning</b> :</font> The <a href="https://habr.com/post/420327/">same artifacts of the Habr-parser</a> will be found below, which I warned about in <nobr>â€œPart 1â€</nobr> . </p><hr><a name="fig_arthur_c_clarke-quote"></a><div style="text-align:center;"><img alt="Any sufficiently developed technology is indistinguishable from magic. - Arthur C. Clarke" height="291" src="https://habrastorage.org/webt/be/x5/k9/bex5k9ckqfzus8g85fzf-td0hzi.png#arthur_c_clarke-quote.png"></div><p><br>  <font color="#54524F"><b>Note</b> :</font> further, instead of â€œ <code>â€“-[**]--&gt;</code> â€ I will use â€œ <code>â€“-[???]--&gt;</code> â€. </p><p><br>  The collected statistics show us on which hosts the speed of receiving broadcast traffic fell.  For example, look at the result of zero iteration in the â€œN2_2â€ network (â€œ <code>Network</code> â€ from the previous article â€œLLTR Part 1â€): </p><br><pre> <code class="cpp hljs">{<span class="hljs-number"><span class="hljs-number">300</span></span>,<span class="hljs-number"><span class="hljs-number">164</span></span>,<span class="hljs-number"><span class="hljs-number">164</span></span>},</code> </pre> <p><br>  Here 2 host states are clearly visible: </p><br><ul><li>  normal speed (value â€œ <code>300</code> â€) - <strong>no reaction</strong> ; </li><li>  speed dropped (value â€œ <code>164</code> â€) - <strong>there is a reaction</strong> . </li></ul><p><br>  What am I getting at?  By binarization!  If we encode the <strong>absence of a reaction</strong> as <strong>0</strong> , and the <strong>presence of a reaction</strong> as <strong>1</strong> , we can put all the reactions of the hosts, of a single iteration, into one variable ( <nobr>32 - 512 bit</nobr> [ <abbr title="Advanced Vector Extensions 512 â€‘ bit">AVX â€‘ 512</abbr> ]).  In addition to saving memory (and space occupied in the caches), this will increase the processing speed â€” all instructions from the hosts of a specific iteration ( <abbr title="Single instruction, multiple data">SIMD</abbr> ) will be processed at once in a single instruction. </p><p><br>  <font color="#54524F"><b>Note</b> :</font> because  using LLTR Basic for a large number of hosts is quite expensive ( <a href="https://habr.com/post/414799/" title="Automatic detection of network topology and unmanaged switches. Mission Impossible?">see the beginning of the section â€œLLTR Part 0 :: LLTR Advancedâ€</a> ), then everything <a href="https://habr.com/post/414799/" title="Automatic detection of network topology and unmanaged switches. Mission Impossible?">fits</a> into <nobr>64 bit</nobr> x86â€‘64 registers. </p><p><br>  <font color="#54524F"><b>Note</b> :</font> In the text of the link to a section located in another article (another part), I will add the part number in the format: â€œ <strong>LLTR Part #</strong> :: <strong>â€¹ section name â€º</strong> â€.  And in the â€œ <strong><code><a href="http://htmlbook.ru/html/attr/title">title</a></code></strong> â€ link I will record the name of the part, for example, for â€œLLTR Part 0 ::â€, the â€œAutomatic detection of network topology and unmanaged switches will pop up.  Mission Impossible?". </p><p><br>  Let's take the same example of zero iteration, and see how it will look after binarization: </p><br><pre> <code class="bash hljs">{300,164,164} --[]--&gt; 011</code> </pre> <p><br>  Very compact, however, I would like the â€œ <code><strong>1</strong></code> â€ ( <strong>presence of reaction</strong> ) to immediately catch my eye when viewing a list of all iterations.  Now â€œ <code><strong>1</strong></code> â€ does not stand out much against â€œ <code><strong>0</strong></code> â€ (fake data, for <strong>visual example</strong> ): </p><br><pre> <code class="bash hljs">0101011010110 1100010110010 0101101010111 0100010110100</code> </pre> <p><br>  To select " <code><strong>1</strong></code> ", I will enter the following notation: </p><br><ul><li>  â€œ <code><strong>1</strong></code> â€ means 1 - <strong>there is a reaction</strong> ; </li><li>  â€œ <code><strong>.</strong></code>  â€Means 0 - <strong>no reaction</strong> . </li></ul><p><br>  Let's look again at the â€œfake dataâ€: </p><br><pre> <code class="bash hljs">.1.1.11.1.11. 11...1.11..1. .1.11.1.1.111 .1...1.11.1..</code> </pre> <p><br>  So much better ( <abbr title="In My Honest Opinion">IMHO</abbr> ). </p><p><br>  Algorithm, at the moment, looks like this: </p><br><pre> <code class="bash hljs"> â€“-[]--&gt;   --[???]--&gt;   --[???]--&gt;  </code> </pre> <p><br>  Leave the details of the binarization for the end of the article, and concentrate on the rest of the algorithm. </p><p><br>  It is easiest to create an algorithm based on specific input / input data (special cases, boundary conditions; tests are in terms of <a href="https://habrahabr.ru/post/206828/"><abbr title="Test â€‘ driven development">TDD</abbr></a> ).  In our case, the source data depends on the network topology, so you need to come up with a network that is both small at the same time and at the same time contains different switch connection schemes ( <a href="https://habr.com/post/414799/" title="LLTR Part 0 :: Topology: â€œa star from switchesâ€">star</a> , <a href="https://habr.com/post/414799/" title="LLTR Part 0 :: Topology: â€œserial connection of switchesâ€">serial connection</a> ).  It may be possible to include something special in it ... In general, the imagination drew such a network (the element designations are similar to the designations used at the end of the â€œ <a href="https://habr.com/post/414799/" title="Automatic detection of network topology and unmanaged switches. Mission Impossible?">LLTR Part 0 :: Topology:â€œ serial connection of switches â€</a> â€): </p><br><a name="fig_LLTR_Hybrid_Net"></a><div style="text-align:center;"><img alt="Chart: LLTR hybrid network" height="116" src="https://habrastorage.org/webt/tw/ow/dk/twowdkqrjmlca7haw3oe_vshbfw.png#LLTR_Hybrid_Net.svg.png"></div><p><br>  <font color="#54524F"><b>Note</b> :</font> looking at this network, I recall the question â€œis it possible in this topology to conduct a full scan if to one of the switches ...â€ (closer to the end of the section â€œ <a href="https://habr.com/post/414799/" title="Automatic detection of network topology and unmanaged switches. Mission Impossible?">LLTR Part 0 :: Topology:â€œ serial connection of switches â€</a> â€), and you notice that no host is directly connected to one of the switches.  And in this there are no problems, because  3 more switches are connected to this switch (I counted only switches connected â€œfrom belowâ€, without taking into account that it is connected to another switch â€œfrom aboveâ€), each of which has hosts. </p><p><br>  However, in this diagram there are a few unnecessary (distracting) details.  I'm going to clean it up by removing: </p><br><ul><li>  broadcast host (it is not in the input / statistics); </li><li>  ports connecting the switches to each other. </li></ul><br><a name="fig_LLTR_Hybrid_Net_clear"></a><div style="text-align:center;"><img alt="Chart: LLTR hybrid network (clear)" height="116" src="https://habrastorage.org/webt/f9/z1/su/f9z1sup7mkzb279mtfihllio5v4.png#LLTR_Hybrid_Net_clear.svg.png"></div><p><br>  Here you can immediately see the â€œno hostsâ€ switch.  In addition, all the switches I arranged in such a way that the hosts in them do not overlap each other vertically.  This will be useful if in the future I want to show the â€œreaction of hostsâ€ not as a text entry â€œ <code>.....1......</code> â€, but as a diagram (there is only one host on one vertical): </p><br><a name="fig_LLTR_Hybrid_Net_clear_explain_reaction"></a><div style="text-align:center;"><img alt="Chart: LLTR hybrid network (clear), explanation of the designation of â€œhost reactionsâ€" height="154" src="https://habrastorage.org/webt/k2/4t/s_/k24ts_ucirxe87qfcbyki_7q7ic.png#LLTR_Hybrid_Net_clear_explain_reaction.svg.png"></div><p><br>  And now imagine the statistics that we will receive on the completion of all iterations of scanning this network.  There are <strong>12</strong> hosts in the network (excluding the host broadcast), therefore, we will have data on <strong>132</strong> iterations.  However, not all results of the iterations will be useful to us, for example, they will be useless: </p><br><ul><li>  single reactions (as in the example above - â€œ <code><strong>.....1......</strong></code> â€; <a href="https://habr.com/post/414799/" title="Automatic detection of network topology and unmanaged switches. Mission Impossible?">LLTR Part 0 :: I wonder what are the options for the first iteration?&gt; Option 4: â€œunicast in swâ€</a> ); </li><li>  duplicates (repetitive results), for example, â€œ <code><strong>.....111....</strong></code> â€ will occur approximately <strong>15 times</strong> ( <nobr>3 Ã— (12 - 3âˆ’ (2 + 2))</nobr> ; â€œapproximatelyâ€, since I do not created a model of this network in <nobr>OMNeT ++</nobr> , and did not run the simulation, I conducted only a mental experiment, in which I could not take into account some of the details). </li></ul><p><br>  After cleaning, of all <strong>132</strong> results of the iterations, only <strong>5</strong> will remain (host reactions): </p><br><pre> <code class="bash hljs">1111111111.. 11111111.... ..111....... .....111.... 11..........</code> </pre> <p><br>  <font color="#54524F"><b>Note</b> :</font> for clarity, I arranged the iterations in order from a larger number â€œ <code>1</code> â€ to a smaller one. </p><p><br>  The algorithm began to look like this: </p><br><pre> <code class="bash hljs"> â€“-[]--&gt;   --[   ]--[  ]--[???]--&gt;   --[???]--&gt;  </code> </pre> <br><div class="spoiler">  <b class="spoiler_title">reset point</b> <div class="spoiler_text"><hr><p>  I reflected on the inclusion of all this in the spoiler, but in the end I realized that this is an important part of the narrative, which it is better not to skip when reading. </p><p><br>  Â¬ ( <em>Do not skip to the brain when reading</em> : </p><hr></div></div><p><br><a name="reset-point"></a>  <b>[reset point]</b> In the remaining <strong>5</strong> iteration results, the first two attract attention: the first includes the second, and the second includes the remaining 3 bottom.  Here we recall the â€œshadowâ€ from the section â€œ <a href="https://habr.com/post/414799/" title="Automatic detection of network topology and unmanaged switches. Mission Impossible?">LLTR Part 0 :: Topology:â€œ serial connection of switches â€</a> â€.  In the same section, at the end of each iteration, we formed (or did not form) new clusters based on the data just received.  Now you need to do the same. </p><p><br>  But how do we form new clusters?  In essence, all (not single) reactions of the â€œ <code>1</code> â€ hosts of the current iteration were â€œnew clusterâ€, we only needed to find intersections (â€œâˆ©â€; not empty â€œâˆ…â€) with existing clusters to remove (â€œâˆ–â€) from the larger Cluster hosts included in a smaller cluster. </p><p><br>  However, in our actions there was a condition / branch (if): you need to determine which of the clusters is larger, and only then perform a simple operation (A âˆ– B) - from the larger cluster (A) subtract the smaller one (B).  Representing the torment of a CPU with a long pipeline, caused by the need to reset the pipeline with incorrect branch prediction (if there is a â€œbranch prediction blockâ€ at all), I almost decided to use the <a href="https://habrahabr.ru/post/205848"><code>  â€œ?:</code> â€ <code>  â€œ?:</code></a> , but at this moment ... </p><blockquote><p>  I stood on the toilet and hung up the clock.  Suddenly I slipped, hit my head on the sink, and when I woke up there was a vision, a picture in my brain, a vision of this â€” a <s>stream drive</s> stream divider <i>( <a href="https://ru.wikiquote.org/wiki/%25D0%259D%25D0%25B0%25D0%25B7%25D0%25B0%25D0%25B4_%25D0%25B2_%25D0%25B1%25D1%2583%25D0%25B4%25D1%2583%25D1%2589%25D0%25B5%25D0%25B5">Back to the Future</a> )</i> : </p><a name="fig_Back_to_the_Future-Flux_Divider-quote_cut"></a><div style="text-align:center;"><img alt="Back to the Future: Flux Divider" height="425" src="https://habrastorage.org/webt/sj/io/qs/sjioqspeukzuxke27slvjg5uvee.jpeg#Back_to_the_Future-Flux_Divider-quote_cut.jpg"></div></blockquote><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// Flux Divider c=a^b; aa=a&amp;c; bb=b&amp;c; cc=a&amp;b;</span></span></code> </pre> <p><br>  And at once let's look at his work on the example of overlapping clusters (more precisely, one set (cluster) is strictly included â€œ <a href="https://en.wikipedia.org/wiki/Subset%3Fstable%3D1"></a> â€ in another set): </p><br><pre> <code class="bash hljs">.....11..... - a ..11111111.. - b ..111..111.. - c=a^b ............ - aa=a&amp;c ..111..111.. - bb=b&amp;c .....11..... - cc=a&amp;b</code> </pre> <p><br>  Non-intersecting clusters: </p><br><pre> <code class="bash hljs">..111....... - a .......111.. - b ..111..111.. - c=a^b ..111....... - aa=a&amp;c .......111.. - bb=b&amp;c ............ - cc=a&amp;b</code> </pre> <p><br>  Turns out that: </p><br><ul><li>  elements unique to â€œ <code>a</code> â€ fall into â€œ <code>aa</code> â€; </li><li>  in â€œ <code>bb</code> â€ - unique to â€œ <code>b</code> â€; </li><li>  in â€œ <code>cc</code> â€ - common to â€œ <code>a</code> â€ and â€œ <code>b</code> â€. </li></ul><p><br>  Another example with intersecting clusters (â€œimpossibleâ€, but a clear example): </p><br><pre> <code class="bash hljs">...1111..... - a .....1111... - b ...11..11... - c=a^b ...11....... - aa=a&amp;c .......11... - bb=b&amp;c .....11..... - cc=a&amp;b</code> </pre> <p><br>  <font color="#54524F"><b>Note</b> :</font> this response option (hosts reaction) is absent in the original data. </p><p><br>  The same way you can get rid of <strong>duplicates</strong> : </p><br><pre> <code class="bash hljs">.....11..... - a .....11..... - b ............ - c=a^b ............ - aa=a&amp;c ............ - bb=b&amp;c .....11..... - cc=a&amp;b</code> </pre> <p><br>  But, a little later ... </p><blockquote>  The head stops hurting after hitting the sink, the mind clears up, and obvious problems emerge ... </blockquote><p>  We have 2 variables at the entrance (results of iterations / reactions of the hosts / clusters / sets / ...), but at the output they are already 3, and at least one of them will be empty (â€œâˆ…â€).  If you do not immediately get rid of â€œâˆ…â€, then they will have to be included in the processing in the future.  Therefore, it is better to get rid of "âˆ…" immediately.  But how to do that?  Use condition / branch!  ... In general, I went back to where I started.  In addition, if we do everything as described above, plus get rid of â€œâˆ…â€, then we will end up with: </p><br><pre> <code class="bash hljs">1111111111.. 11111111.... ..111....... .....111.... 11..........</code> </pre> <p><br>  It: </p><br><pre> <code class="bash hljs">........11..             -     <span class="hljs-string"><span class="hljs-string">"............"</span></span>,     ï¼šï¼ˆ ..111....... .....111.... 11..........</code> </pre> <p><br>  It's time to ask the question: â€œHow can we get a network topology out of this?â€.  Now this data can â€œtellâ€ about which cluster a particular host belongs to (i.e., to which switch the host is connected), but this data now completely lacks information on switches topology (i.e., how are the switches between each other) - we lost this information during data conversion.  Besides, to which cluster (switch) do the 2 far right hosts belong?  If each row is treated as a separate cluster (or as an indication of which hosts are connected to a particular switch), it turns out that these 2 outermost hosts are not connected anywhere!  Moreover, we have 6 switches in the network, and there are 4 lines left, where are the other 2 lines?  We erased one (as stated above), and the other should have been â€œ2 far to the right of the hostâ€. </p><p><br>  <b>[ <a href="https://habr.com/ru/post/421243/">goto reset point</a> ]</b> Further to develop this idea is useless.  Dead-end branch (git branch).  We'll have to roll back to the â€œreset pointâ€ label, forgetting everything that happened after it, but leaving this branch for history. </p><p><br>  Now, in order not to fall into another â€œdead branchâ€, you need to decide on the final structure (representation) of the network topology in memory.  That is, with what we want to get by the time â€œnetwork topologyâ€: </p><br><pre> <code class="bash hljs"> â€“-[]--&gt;   --[   ]--[  ]--[???]--&gt; &lt;strong&gt; &lt;/strong&gt; --[???]--&gt;  </code> </pre> <p><br>  <strong>First</strong> , all hosts must be present: </p><br><pre> <code class="bash hljs">&lt;strong&gt;..........11&lt;/strong&gt; &lt;-- 1111111111.. 11111111.... ..111....... .....111.... 11..........</code> </pre> <p><br>  <strong>Secondly</strong> , the parents must be indicated (parent cluster for each cluster; at the moment: <em>parent</em> <em>child</em> ; on the network diagram, I placed parents above children) (cluster numbers are added on the left): </p><br><pre> <code class="bash hljs">0) ..........11 parent: ? 1) 1111111111.. parent: ? 2) 11111111.... parent: 1 3) ..111....... parent: 2 4) .....111.... parent: 2 5) 11.......... parent: 2</code> </pre> <p><br>  <font color="#54524F"><b>Note</b> :</font> if you notice something strange here comparing the diagram of this network with this data, then you will <em>like it</em> from me. </p><br><div class="spoiler">  <b class="spoiler_title">Spoiler, it is better not to open to read the entire list</b> <div class="spoiler_text"><hr><p>  In essence (according to the diagram), the parent for cluster 1 is cluster 0, but then the condition â€œ <em>parent</em> <a href="https://en.wikipedia.org/wiki/Subset%3Fstable%3D1">âŠ‹</a> <em>child</em> â€ is not fulfilled.  Perhaps in â€œ <strong>First,</strong> â€ we made a mistake, and instead of â€œ <code>..........11</code> â€ it was worth adding â€œ <code>111111111111</code> â€? </p><hr></div></div><p><br>  <strong>Thirdly</strong> , there should be one â€œrootâ€ parent linking separate <a href="https://ru.wikipedia.org/wiki/%25D0%2594%25D0%25B5%25D1%2580%25D0%25B5%25D0%25B2%25D0%25BE_(%25D1%2582%25D0%25B5%25D0%25BE%25D1%2580%25D0%25B8%25D1%258F_%25D0%25B3%25D1%2580%25D0%25B0%25D1%2584%25D0%25BE%25D0%25B2)%3Fstable%3D1">trees</a> (i.e. <a href="https://ru.wikipedia.org/wiki/%25D0%259B%25D0%25B5%25D1%2581_%25D0%25BD%25D0%25B5%25D0%25BF%25D0%25B5%25D1%2580%25D0%25B5%25D1%2581%25D0%25B5%25D0%25BA%25D0%25B0%25D1%258E%25D1%2589%25D0%25B8%25D1%2585%25D1%2581%25D1%258F_%25D0%25BC%25D0%25BD%25D0%25BE%25D0%25B6%25D0%25B5%25D1%2581%25D1%2582%25D0%25B2%3Fstable%3D1">forest</a> ) into one tree: </p><br><pre> <code class="bash hljs">-1) 111111111111 0) ..........11 parent:-1 1) 1111111111.. parent:-1 2) 11111111.... parent: 1 3) ..111....... parent: 2 4) .....111.... parent: 2 5) 11.......... parent: 2</code> </pre> <p><br>  <strong>Fourth</strong> , it would be nice to have lists of children for each parent: </p><br><pre> <code class="bash hljs">-1) 111111111111            children: 0,1 0) ..........11 parent:-1 1) 1111111111.. parent:-1, children: 2 2) 11111111.... parent: 1, children: 3,4,5 3) ..111....... parent: 2 4) .....111.... parent: 2 5) 11.......... parent: 2</code> </pre> <p><br>  <strong>And finally</strong> , it is now possible to exclude children from parents: </p><br><pre> <code class="bash hljs">-1) ............            children: 0,1 0) ..........11 parent:-1 1) ........11.. parent:-1, children: 2 2) ............ parent: 1, children: 3,4,5 3) ..111....... parent: 2 4) .....111.... parent: 2 5) 11.......... parent: 2</code> </pre> <p><br>  Now each line describes one cluster, i.e.  points to hosts connected to the same switch.  However, wait, there are 6 switches in our network, and there are 7 clusters!  Itâ€™s time, finally, to read the text from the spoiler above â€œ <em>Spoiler, itâ€™s better not to open it before reading the entire list,</em> â€ and correct the situation: </p><br><pre> <code class="bash hljs">0) ..........11            children: 1 1) ........11.. parent: 0, children: 2 2) ............ parent: 1, children: 3,4,5 3) ..111....... parent: 2 4) .....111.... parent: 2 5) 11.......... parent: 2</code> </pre> <p><br>  These data are just the â€œnetwork topologyâ€ - they describe the switch tree, and it is possible to identify all the hosts connected to a particular switch. </p><br><pre> <code class="bash hljs"> â€“-[]--&gt;   --[   ]--[  ]--[???]--&gt; &lt;strong&gt; &lt;/strong&gt; --[???]--&gt;  </code> </pre> <p><br>  It remains to understand how to bring the data to this form.  In fact, everything that we did (firstly, secondly, ...) can be converted into an algorithm: </p><br><ol><li>  â€œFirstâ€ (after making corrections from the spoiler becomes similar to the action â€œthirdâ€) - <strong>add the â€œrootâ€ cluster</strong> â€œ <code>111111111111</code> â€ ( <a href="https://ru.wikipedia.org/wiki/%25D0%25A3%25D0%25BD%25D0%25B8%25D0%25B2%25D0%25B5%25D1%2580%25D1%2581%25D0%25B0%25D0%25BB%25D1%258C%25D0%25BD%25D0%25BE%25D0%25B5_%25D0%25BC%25D0%25BD%25D0%25BE%25D0%25B6%25D0%25B5%25D1%2581%25D1%2582%25D0%25B2%25D0%25BE%3Fstable%3D1">universe</a> ), including (hosts of all trees in the forest âˆª hosts that are on the same switch with the broadcast host ), i.e.  it includes all the hosts on the network; </li><li>  â€œSecondlyâ€ - <strong>search for a parent for each cluster</strong> ; </li><li>  â€œFourthâ€ - <strong>building a list of children for each parent</strong> ; </li><li>  â€œAnd finallyâ€ - <strong>exclusion of children from their parents</strong> . </li></ol><p><br>  Now you can add these actions to the general algorithm (slightly changed the view): </p><br><pre> <code class="bash hljs">                                              â—  â—                                [] â–º                 [   ]                          [  ] â–º /                [ <span class="hljs-string"><span class="hljs-string">""</span></span> ] â–º /        [    ] [     ]              [   ] â–º   â—                                        [???] â–º   â—</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Alternative view</b> <div class="spoiler_text"><hr><pre> <code class="bash hljs">â—      â–º [] â–¬   â–º [   ]                   [  ] â–¬ /   â–º [ <span class="hljs-string"><span class="hljs-string">""</span></span> ] â–¬ / â–º [    ]                   [     ]                   [   ] â—   â–º [???] â—    â—</code> </pre> <hr></div></div><p><br>  Let's see what happens if we apply this algorithm to another network.  I would like to take the network â€œ <code>Network_ <strong>serial</strong></code> â€ and its simulation results (statistics) from the section â€œ <a href="https://zirokyl.github.io/LLTR-Simulation-Model/a1/" title="First steps in OMNeT ++ and INET">LLTR Part 1 :: More networks with different topologies, add new networks</a> â€. </p><p><br>  <font color="#54524F"><b>Note</b> :</font> Why did I choose this network?  It is quite large, and there are flaws in the data collected from it (see the end of the â€œResults of the simulationâ€ spoiler for this network). </p><p><br>  Go! </p><br><div class="spoiler">  <b class="spoiler_title">Binarization</b> <div class="spoiler_text"><hr><p>  Host Reactions: </p><br><pre> <code class="bash hljs">.111111.. .111111.. .111111.. .111111.. .111111.. .111111.. .......11 .......11 ..1...... ...1111.. ...1111.. ...1111.. ...1111.. .......11 .......11 1........ ...1111.. ...1111.. ...1111.. ...1111.. .......11 .......11 1........ .1....... ....1.... .....11.. .....11.. .......11 .......11 1........ .1....... ..1...... .....11.. .....11.. .......11 .......11 1........ .1....... ..1...... ...1..... ......1.. ......... ......... ......... .1....... ..1...... ...1..... ....1.... ......... ......... ......... .1....... ..1...... ...1..... ....1.... .....1... ........1 1........ .111111.. .111111.. .111111.. .111111.. .111111.. .111111.. 1........ .111111.. .111111.. .111111.. .111111.. .111111.. .111111.. .......1.</code> </pre> <hr></div></div><br><div class="spoiler">  <b class="spoiler_title">Purification of single reactions</b> <div class="spoiler_text"><hr><pre> <code class="bash hljs">.111111.. --&gt; .111111.. .111111.. --&gt; .111111.. .111111.. --&gt; .111111.. .111111.. --&gt; .111111.. .111111.. --&gt; .111111.. .111111.. --&gt; .111111.. .......11 --&gt; .......11 .......11 --&gt; .......11 ..1...... --&gt; ...1111.. --&gt; ...1111.. ...1111.. --&gt; ...1111.. ...1111.. --&gt; ...1111.. ...1111.. --&gt; ...1111.. .......11 --&gt; .......11 .......11 --&gt; .......11 1........ --&gt; ...1111.. --&gt; ...1111.. ...1111.. --&gt; ...1111.. ...1111.. --&gt; ...1111.. ...1111.. --&gt; ...1111.. .......11 --&gt; .......11 .......11 --&gt; .......11 1........ --&gt; .1....... --&gt; ....1.... --&gt; .....11.. --&gt; .....11.. .....11.. --&gt; .....11.. .......11 --&gt; .......11 .......11 --&gt; .......11 1........ --&gt; .1....... --&gt; ..1...... --&gt; .....11.. --&gt; .....11.. .....11.. --&gt; .....11.. .......11 --&gt; .......11 .......11 --&gt; .......11 1........ --&gt; .1....... --&gt; ..1...... --&gt; ...1..... --&gt; ......1.. --&gt; ......... --&gt; ......... ......... --&gt; ......... ......... --&gt; ......... .1....... --&gt; ..1...... --&gt; ...1..... --&gt; ....1.... --&gt; ......... --&gt; ......... ......... --&gt; ......... ......... --&gt; ......... .1....... --&gt; ..1...... --&gt; ...1..... --&gt; ....1.... --&gt; .....1... --&gt; ........1 --&gt; 1........ --&gt; .111111.. --&gt; .111111.. .111111.. --&gt; .111111.. .111111.. --&gt; .111111.. .111111.. --&gt; .111111.. .111111.. --&gt; .111111.. .111111.. --&gt; .111111.. 1........ --&gt; .111111.. --&gt; .111111.. .111111.. --&gt; .111111.. .111111.. --&gt; .111111.. .111111.. --&gt; .111111.. .111111.. --&gt; .111111.. .111111.. --&gt; .111111.. .......1. --&gt;</code> </pre> <hr></div></div><p><br>  Clearing duplicates (we get â€œclusters / forestâ€): </p><br><pre> <code class="bash hljs">.111111.. .......11 ...1111.. .....11.. .........</code> </pre> <p><br>  Additionally, <strong>for convenience</strong> , sort by decreasing the number of â€œ <code>1</code> â€: </p><br><pre> <code class="bash hljs">.111111.. ...1111.. .....11.. .......11 .........</code> </pre> <p><br>  <font color="#54524F"><b>Note</b> :</font> It may be worthwhile to include sorting in the algorithm.  What do you think? </p><p><br>  Adding a â€œrootâ€ cluster (we get â€œclusters / treeâ€): </p><br><pre> <code class="bash hljs">111111111 .111111.. ...1111.. .....11.. .......11 .........</code> </pre> <p><br>  It includes hosts of 2 trees (left â€œ <code>.111111..</code> â€ and right â€œ <code>.......11</code> â€ part of the network) and 1 host (â€œ <code>1........</code> â€ located on one switch with broadcast host). </p><p><br>  Parent search for each cluster: </p><br><pre> <code class="bash hljs">0) 111111111 1) .111111.. parent: 0 2) ...1111.. parent: 1 3) .....11.. parent: 2 4) .......11 parent: 0 5) ......... parent: 4</code> </pre> <p><br>  <font color="#54524F"><b>Note</b> :</font> This is exactly where the negative impact of data deficiencies manifested itself - the 4th cluster became the parent for the 5th!  In general, any cluster can become the parent of the 5th cluster, since  it is empty (âˆ…). </p><p><br>  Building a list of children for each parent: </p><br><pre> <code class="bash hljs">0) 111111111            children: 1,4 1) .111111.. parent: 0, children: 2 2) ...1111.. parent: 1, children: 3 3) .....11.. parent: 2 4) .......11 parent: 0, children: 5 5) ......... parent: 4</code> </pre> <p><br>  Exclusion of children from parents: </p><br><pre> <code class="bash hljs">0) 1........            children: 1,4 1) .11...... parent: 0, children: 2 2) ...11.... parent: 1, children: 3 3) .....11.. parent: 2 4) .......11 parent: 0, children: 5 5) ......... parent: 4</code> </pre> <p><br>  In this step, we had to get a â€œnetwork topologyâ€.  And we got it.  If we are only interested in the location of the hosts, then this â€œnetwork topologyâ€ suits us perfectly.  However, one more switch appeared in our network, in which there are 0 hosts! </p><p><br>  To fix everything, it will be enough after one of the first steps to eliminate these â€œdata flawsâ€.  This can be done immediately after â€œbinarizationâ€: </p><br><pre> <code class="bash hljs">                                              â—  â—                                [] â–º   [&lt;strong&gt;   (âˆ…),    (â¦±)&lt;/strong&gt;]               [   ]                          [  ] â–º /                [ <span class="hljs-string"><span class="hljs-string">""</span></span> ] â–º /        [    ] [     ]              [   ] â–º   â—                                        [???] â–º   â—</code> </pre> <p><br>  We delete empty sets (âˆ…; â€œ <code>.........</code> â€), but why remove universes (â¦±; â€œ <code>111111111</code> â€)?  The answer will become obvious when we begin to implement the â€œbinarizationâ€ phase.  Different versions of the implementation of "binarization" can on the same data (data with the described defect) issue both " <code>.........</code> " and " <code>111111111</code> ".  And, because  it is impossible to get in the correct input data â€œ <code>111111111</code> â€ as it is impossible to get â€œ <code>.........</code> â€, then we can delete all â€œ <code>111111111</code> â€ (besides, they do not carry any information, except for that there are â€œflawsâ€ in the data). </p><p><br>  If we apply this (amended, corrected) algorithm to the same network (â€œ <code>Network_ <strong>serial</strong></code> â€), then the â€œnetwork topologyâ€ will look like this: </p><br><pre> <code class="bash hljs">0) 1........            children: 1,4 1) .11...... parent: 0, children: 2 2) ...11.... parent: 1, children: 3 3) .....11.. parent: 2 4) .......11 parent: 0</code> </pre> <p><br> <font color="#54524F"><b>Note</b> :</font> ,  .  <a href="https://ru.wikipedia.org/wiki/%25D0%2595%25D0%25B4%25D0%25B8%25D0%25BD%25D0%25B8%25D1%2587%25D0%25BD%25D0%25B0%25D1%258F_%25D0%25BC%25D0%25B0%25D1%2582%25D1%2580%25D0%25B8%25D1%2586%25D0%25B0%3Fstable%3D1"> </a> ,        .  ,       2  (       â€œswitch0â€),          1  (   <a href="https://habr.com/post/414799/" title="LLTR  0::: â€œ  â€ â€“    ">    2 </a> ): </p><br><div class="spoiler"> <b class="spoiler_title">  â€œ â€</b> <div class="spoiler_text"><hr><pre> <code class="bash hljs">0) 11........            children: 1,4 1) ..11...... parent: 0, children: 2 2) ....11.... parent: 1, children: 3 3) ......11.. parent: 2 4) ........11 parent: 0</code> </pre> <br><pre> <code class="bash hljs">0) 1......            children: 1,4 1) .1..... parent: 0, children: 2 2) ..1.... parent: 1, children: 3 3) ...11.. parent: 2 4) .....11 parent: 0</code> </pre> <hr></div></div><p><br>        â€œ â€.   â€œ â€  â€œ â€.    RingSync   <a href="http://9b.asoiu.com/2016/3704-ringsync-%25D1%2581%25D0%25B8%25D0%25BD%25D1%2585%25D1%2580%25D0%25BE%25D0%25BD%25D0%25B8%25D0%25B7%25D0%25B8%25D1%2580%25D1%2583%25D0%25B5%25D0%25BC-%25D0%25BD%25D0%25B0-%25D0%25BF%25D0%25BE%25D0%25BB%25D0%25BD%25D0%25BE%25D0%25B9-%25D1%2581%25D0%25BA%25D0%25BE%25D1%2580%25D0%25BE%25D1%2581%25D1%2582%25D0%25B8-%25D1%2581/">,   </a> (   : <a href="https://en.wikipedia.org/wiki/Tree_traversal%3Fstable%3D1">Preâ€‘order</a> ).   â€œ â€   : </p><br><pre> <code class="bash hljs">1 1........ hostS/seed -&gt; host0 -&gt; . .11...... host1 -&gt; host2 -&gt; . ...11.... host3 -&gt; host4 -&gt; . .....11.. host5 -&gt; host6 -&gt; . .......11 host7 -&gt; host8/leech</code> </pre> <p><br> <font color="#54524F"><b>Note</b> :</font>    (,  )  ,   broadcast . </p><p><br> ,           â€œ â€ (   ),        (â€œ <code>Network_ <strong>serial</strong></code> â€).            (      ),      .          : </p><br><a name="fig_network_serial-chain_no_prio"></a><div style="text-align:center;"><img alt=":   ;     ,   " height="425" src="https://habrastorage.org/webt/jz/z4/kr/jzz4krcoae75dext_zypn9cgn7o.png#network_serial-chain_no_prio.png"></div><p><br>   ,      â€œ â€ (â€œ â€): </p><br><pre> <code class="bash hljs">..........11 1 hS/seed -&gt; h10 -&gt; h11 -&gt; ........11.. . h8 -&gt; h9 -&gt; ..111....... . h2 -&gt; h3 -&gt; h4 -&gt; .....111.... . h5 -&gt; h6 -&gt; h7 -&gt; 11.......... . h0 -&gt; h1/leech</code> </pre> <p><br>  (      â€œ â€)  . ,   â€“    2, ..    (âˆ…).   ,  â€œ   â€  ,      â€œ â€ (   ,       ),     (âˆ…) ? ,   : â€‘,      â€œâ€    ,           (   ,     ï¼›ï¼‰; â€‘,        (       ). </p><br><div class="spoiler"> <b class="spoiler_title"> ,  â€œ â€   ,    â€œ   â€</b> <div class="spoiler_text"><hr><a name="fig_LLTR_Hybrid_Net_clear-mirrored-need_depth_first_traversal"></a><div style="text-align:center;"><img alt=": LLTR   (clear),  ,   â€œdepth first traversalâ€" height="116" src="https://habrastorage.org/webt/z4/im/50/z4im5081mvtt5m8tgq8bhntd-l4.png#LLTR_Hybrid_Net_clear-mirrored-need_depth_first_traversal.svg.png"></div><p><br>     (  )   , ,    â€œ â€,   <a href="https://ru.wikipedia.org/wiki/%25D0%259F%25D0%25BE%25D0%25B8%25D1%2581%25D0%25BA_%25D0%25B2_%25D1%2588%25D0%25B8%25D1%2580%25D0%25B8%25D0%25BD%25D1%2583%3Fstable%3D1">  â€‘ </a> â€¦ </p><hr></div></div><p><br> ,    â€œ â€,      â€¦ </p><p><br> <font color="#54524F"><b>Note</b> :</font>     ,         ,   .     . </p><br><div class="spoiler"> <b class="spoiler_title">    </b> <div class="spoiler_text"><hr><p>      ,     (       ),     . </p><br><a name="fig_LLTR_Hybrid_Net_clear-chain"></a><div style="text-align:center;"><img alt=": LLTR   (clear);   " height="116" src="https://habrastorage.org/webt/oi/e6/2p/oie62pzxdprqvpjiampqfx6xg0o.png#LLTR_Hybrid_Net_clear-chain.svg.png"></div><p><br>  : </p><br><pre> <code class="bash hljs">..........11 1 hS/seed -&gt; &lt;strong&gt;h11&lt;/strong&gt; -&gt; &lt;strong&gt;h10&lt;/strong&gt; -&gt; ........11.. . &lt;strong&gt;h9&lt;/strong&gt; -&gt; &lt;strong&gt;h8&lt;/strong&gt; -&gt; ..111....... . h2 -&gt; h3 -&gt; h4 -&gt; .....111.... . h5 -&gt; h6 -&gt; h7 -&gt; 11.......... . h0 -&gt; h1/leech</code> </pre> <hr></div></div><p><br>             â€œ <code>Network_ <strong>serial</strong></code> â€â€¦ </p><p><br>    ,         : </p><br><pre> <code class="bash hljs">          switch0 -&gt; switch1 -&gt; switch2 -&gt; switch3 -â” switch4 &lt;- switch0 &lt;- switch1 &lt;- switch2 &lt;-----------â”˜</code> </pre> <p><br> â€¦      â€œâ€  â€œ <code>switch0 &lt;- switch1 &lt;- switch2</code> â€.       : </p><br><pre> <code class="bash hljs">                                switch0 -&gt; switch4 -â” switch3 &lt;- switch2 &lt;- switch1 &lt;- switch0 &lt;-----------â”˜</code> </pre> <p><br>     : </p><br><a name="fig_network_serial-chain_prio"></a><div style="text-align:center;"><img alt=":   ;     ,    " height="425" src="https://habrastorage.org/webt/l3/a2/pa/l3a2pajwqqxotzgjamw1lvkshvg.png#network_serial-chain_prio.png"></div><p><br>   , , ,    ! </p><p><br> <font color="#54524F"><b>Note</b> :</font>           , .. â€œ  â€. </p><p><br> <font color="#54524F"><b>Note</b> :</font>    â€œ   â€,   â€œ  â€ (  ;      <a href="https://ru.wikipedia.org/wiki/%25D0%25A4%25D0%25B8%25D0%25B7%25D0%25B8%25D1%2587%25D0%25B5%25D1%2581%25D0%25BA%25D0%25B8%25D0%25B9_%25D1%2583%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B5%25D0%25BD%25D1%258C%3Fstable%3D1">  â€“ L0</a> ) â€“     . </p><p><br>   ,    â€œ   â€  . </p><p><br> <font color="#54524F"><b>Note</b> :</font>        ,         â€“     . </p><p><br> <strong><a href="https://ru.wikipedia.org/wiki/%25D0%25AD%25D0%25B2%25D1%2580%25D0%25B8%25D1%2581%25D1%2582%25D0%25B8%25D0%25BA%25D0%25B0%3Fstable%3D1"></a> ()</strong> :  â€œ  â€ ( <a href="https://habr.com/post/414799/" title="      .  ?">LLTR  0:: : â€œ  â€</a> )  <strong></strong> <em></em>   : </p><br><ol><li> <em></em> â€“ ; </li><li> <em></em> â€“  ; </li><li> <em></em> â€“   ( ); </li><li> <em></em> â€“   (  ) â€“  ,   . </li></ol><p><br> <font color="#54524F"><b>Note</b> :</font>       â€œ <em> â€“</em> â€  â€œ <em> ,   </em> â€, , ,   . </p><p><br> <font color="#54524F"><b>Note</b> :</font>     â€“       (      ).    â€“     (  )    .    ,     ( ):      (   );       (       ). </p><p><br>  : </p><br><pre> <code class="bash hljs">                                                   â—  â—                                     [] â–º      [   (âˆ…),    (â¦±)]                    [   ]                               [  ] â–º /                     [ <span class="hljs-string"><span class="hljs-string">""</span></span> ] â–º /             [    ]    [     ]                   [   ] â–º   â— [      /] â–º   â—</code> </pre> <p><br>   â€œ â€  â€œ <code>Network_ <strong>serial</strong></code> â€    : </p><br><pre> <code class="bash hljs">1 1........ hostS/seed -&gt; host0 -&gt; . .......11 host7 -&gt; host8 -&gt; . .11...... host1 -&gt; host2 -&gt; . ...11.... host3 -&gt; host4 -&gt; . .....11.. host5 -&gt; host6/leech</code> </pre> <p><br>     â€œ  â€,   . </p><p><br>    â€œ â€     . â€œ â€  : </p><br><pre> <code class="bash hljs">s0) ..........11 1 hS/seed -&gt; h10 -&gt; h11 -&gt; s1) ........11.. . h8 -&gt; h9 -&gt; s3) ..111....... . h2 -&gt; h3 -&gt; h4 -&gt; s4) .....111.... . h5 -&gt; h6 -&gt; h7 -&gt; s5) 11.......... . h0 -&gt; h1/leech</code> </pre> <p><br>   ?      , ,   ,     (         ): </p><br><pre> <code class="bash hljs">s0 -&gt; s1 -&gt; s2 -&gt; s3 -â”  â”Œ- s4 &lt;- s2 &lt;------â”˜  â””------&gt; s2 -&gt; s5</code> </pre> <p><br> <font color="#54524F"><b>Note</b> :</font>   â€œ <code>s#</code> â€     â€œ â€    (. ). </p><br><h2><a name="tldr"></a> <a href="https://habr.com/ru/post/421243/" title="  "><font color="gray">#</font></a> TL;DR </h2><hr><p>           : </p><br><ol><li>  (~~ kâ€‘medoids ~~) +    (âˆ…),    (â¦±) +    : <ol><li>   <code>a <sub>min</sub></code>  <code>a <sub>max</sub></code> </li><li>   2   <ol><li> +    (âˆ…),    (â¦±) </li></ol></li><li>       : <ol><li> ( <a href="https://habrahabr.ru/post/346930">  :     </a> ) </li><li> ( <a href="https://habrahabr.ru/post/247053">     O(nlogn)      O(1)  </a> ) </li><li> ( <a href="https://stackoverflow.com/questions/11068429/nth-element-implementations-complexities">nth_element implementations complexities</a> ) </li></ol></li><li>    <code>a <sub>medL</sub></code> (medLow)  <code>a <sub>medR</sub></code> (medHi) </li><li>   2    ,       </li><li> +     </li></ol></li><li>  +  â€œâ€ : <ol><li> +  â€œâ€  </li><li> +   <code>bitCount</code> ( max  min) </li><li>   </li></ol></li><li>     : <ol><li>   min    (min)  (max)  ( ) ,   ; <br>     <code><nobr>bitCount(a</nobr> <sub>i</sub> )==bitCount(a <sub>i</sub> |a <sub>min</sub> )</code> ,    : <code><nobr>a</nobr> <sub>i</sub> ==a <sub>i</sub> |a <sub>min</sub></code> </li><li>    ,     ( ) â€“        </li><li>   min  (   )    </li></ol></li><li>   ()    : <ol><li>    ( â€œâ€  â€œâ€) </li></ol></li><li>    : <ol><li>      â€œâ€,    max ,  <nobr>or|=a</nobr> <sub>i</sub>   ,   <code><nobr>a</nobr> <sub>max</sub> &amp;=~or</code> <br> ( â€œ <code><nobr>a</nobr> <sub>max</sub> ^=or</code> â€ â€“     ) </li><li>      <br> (    <code>a <sub>max</sub></code>  <code>a <sub>min</sub></code> , ..  ,      ) </li></ol></li><li>       /: <ol><li>     (RingSync) </li></ol></li></ol><p><br> <font color="#54524F"><b>Note</b> :</font>      <a href="" title="Woops"> </a> <img alt="git" width="19" height="19" src="https://habrastorage.org/webt/z1/ho/tn/z1hotnqqi-dye8uvlxqhvqfjr6i.png#Git-Icon_2x.png"> ,     . </p><br><div class="spoiler"> <b class="spoiler_title">   </b> <div class="spoiler_text"><hr><blockquote> .    (      ),        . </blockquote><p> <i> â€œ <a href="https://habrahabr.ru/post/349336">  ,      </a> â€</i> </p><p><br>    ,          ,      (â€œ <code>{â€¦}</code> â€)   () .      (): </p><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//    "  " int ...;{   //    "" }</span></span></code> </pre> <p><br>     â€œâ€,        (): </p><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//==[Name]==// int ...;{   ... }</span></span></code> </pre> <p><br>    ,    : </p><br><a name="fig_TensorsFlowing"></a><div style="text-align:center;"><img alt="Tensors Flowing" height="448" src="https://habrastorage.org/webt/gi/pl/sb/giplsbsx_pzinjjngcqqph2rmdu.gif#TensorsFlowing.gif"></div><p> <font color="#FFF"><sup></sup> <sub></sub>  <sup></sup> <sub></sub> <sup></sup> <sub></sub> ?</font> <i><a href="https://youtu.be/iJKv3gKjvb4">TensorsFlowing</a></i> </p><p><br>  those.    â€“     ,  â€œ,   â€ â€“   . </p><p><br>      ? <br>  : </p><br><ul><li>     â€“   (  )          ,     .        â€œâ€ , ..  â€œâ€  â€œâ€      . ,         â€œ â€,     . </li><li>     â€“   â€œâ€    /   ,  ,     .        .      ,     (Interprocedural optimization, Whole program optimization; Linkâ€‘time optimization)   â€œâ€ â€“    . </li></ul><p><br> <font color="#54524F"><b>Note</b> :</font>          : ..             (2D/3D  , ,     *, â€¦).        (),    ,    ,          (   ,   ,  24 ,   ;    ,  <a href="https://ru.wikipedia.org/wiki/ACPI%3Fstable%3D1">ACPI</a> <a href="https://en.wikipedia.org/wiki/Sleep_mode%3Fstable%3D1"></a> <a href="https://en.wikipedia.org/wiki/Hibernation_(computing)%3Fstable%3D1"></a> ),       ( )    ,       ï¼šï¼ˆ.       (,   , â€¦)    ,   â€‘    .  ,       ,    â€‘.     (    â€œâ€   â€œâ€),          â€œ   *â€.  ,  â€“   ,    ,  ,      .        () â€“    ,    .   â€“  ( ),     .   â€“ ,    //â€‘/     /.   (debug)   â€‘ . </p><p><br> <font color="#54524F"><b>Note</b> :</font>    Debug  ,         (,           â€“  <a href="http://zirokyl.github.io/DFD2015-TeHI/TeHI-PoC/index.wo.section.htm">     </a> {       9 ,      ;   â€“    Ã—16  ( 1.2  1.5);    <a href=""></a> â†’ <a href=""></a> }),   warning' . </p><p><br> <font color="#54524F"><b>Note</b> :</font>       ,    ,   <em></em>     ,     â€‘.     ,      ,   (  â€œ â€ )  <em></em> . </p><hr></div></div><br><h2><a name="tooo-long-didnt-read-visualize-plz"></a> <a href="https://habr.com/ru/post/421243/" title="  "><font color="gray">#</font></a> Tooo Long; Didn't Read; Visualize, plz. </h2><hr><p> <font color="#54524F"><b>Note</b> :</font>        ,       (  GIF â€œTensorsFlowingâ€   â€œ   â€).    GIF     â€œTensorsFlowingâ€  GIF â€œ <a href="https://plus.google.com/103542603958891638042/posts/Zs2hQSbpHiZ">Loop over python list animation</a> â€. ,   GIF    ,  â€œ  â€  /   . , â€‘        1:1,    â€œ    â€. </p><br><h3><a name="blok-binarizacii"></a> <a href="https://habr.com/ru/post/421243/" title="  "><font color="gray">#</font></a>   </h3><p><br> <font color="#54524F"><b>Note</b> :</font>   GIF          (  â€œLoop over python list animationâ€),        . ,    ,      .        (    ï¼›ï¼‰ </p><p><br> <font color="#54524F"><b>Note</b> :</font>  ( )        (        ).  ,            . </p><p><br> <font color="#54524F"><b>Note</b> :</font>     GIF     (    â€œScroll Downâ€) â€“         (Ctrl+R),  <a href=""> GIF</a>   . ( <i>   ,     <a href="https://habr.com/info/help/habramail/" title="   "></a>   <a href="https://habr.com/ru/post/421243/"></a> ; ,  â€‘ <a href="https://habrahabr.ru/company/tm/blog/317490"><code>&lt;oembed&gt;</code></a> ?</i> ) </p><br><a name="fig_binarization"></a><div style="text-align:center;"><img alt=": " height="1042" src="https://habrastorage.org/webt/7r/mf/m8/7rmfm8ntqxja04lzz5c0gwvzpc4.gif#binarization.gif"></div><br><div class="spoiler"> <b class="spoiler_title">#1</b> <div class="spoiler_text"><hr><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> average;{      <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> max,min;      max=min=countFill[i][<span class="hljs-number"><span class="hljs-number">0</span></span>];      <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> j=<span class="hljs-number"><span class="hljs-number">1</span></span>;j&lt;numHosts;j++){            max=countFill[i][j]&gt;max?countFill[i][j]:max;            min=countFill[i][j]&lt;min?countFill[i][j]:min;      }      average=(max+min)/<span class="hljs-number"><span class="hljs-number">2</span></span>; }</code> </pre> <br><a name="fig_binarization-step-1"></a><div style="text-align:center;"><img alt=":  â€“  1" height="405" src="https://habrastorage.org/webt/qb/2w/6q/qb2w6qmjjuaz8ogkgjj0tnzacum.png#binarization-step-1.png"></div><p><br> <font color="#54524F"><b>Note</b> :</font>     GIF   â€¦ </p><hr></div></div><br><div class="spoiler"> <b class="spoiler_title">#2</b> <div class="spoiler_text"><hr><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> lo=<span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CnN</span></span></span><span class="hljs-class">{</span></span>      <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> Count; }iFill[numHosts]; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> j=<span class="hljs-number"><span class="hljs-number">0</span></span>,hi=numHosts<span class="hljs-number"><span class="hljs-number">-1</span></span>;j&lt;numHosts;j++){      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(countFill[i][j]&lt;average) iFill[lo++].Count=countFill[i][j];      <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>                       iFill[hi--].Count=countFill[i][j]; } bitCluster[i]=<span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(lo==<span class="hljs-number"><span class="hljs-number">0</span></span>||lo==numHosts) <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; <span class="hljs-comment"><span class="hljs-comment">//-     </span></span></code> </pre> <p><br> <font color="#54524F"><b>Note</b> :</font>    ( )    <a href="">  </a> . </p><br><a name="fig_binarization-step-2"></a><div style="text-align:center;"><img alt=":  â€“  2" height="531" src="https://habrastorage.org/webt/lf/p9/s5/lfp9s52pyu8sygo960saoduulqq.png#binarization-step-2.png"></div><hr></div></div><br><div class="spoiler"> <b class="spoiler_title">#3</b> <div class="spoiler_text"><hr><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> averageMed;{      CnN *iFillLo=&amp;iFill[<span class="hljs-number"><span class="hljs-number">0</span></span>];      CnN *iFillHi=&amp;iFill[lo];      <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> hi=numHosts-lo;      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(lo&gt;<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::nth_element(iFillLo,&amp;iFillLo[lo/<span class="hljs-number"><span class="hljs-number">2</span></span>],&amp;iFillLo[lo],[](<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> CnN a,<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> CnN b){<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a.Count&lt;b.Count;});      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(hi&gt;<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::nth_element(iFillHi,&amp;iFillHi[hi/<span class="hljs-number"><span class="hljs-number">2</span></span>],&amp;iFillHi[hi],[](<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> CnN a,<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> CnN b){<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a.Count&lt;b.Count;});      averageMed=(iFillLo[lo/<span class="hljs-number"><span class="hljs-number">2</span></span>].Count+iFillHi[hi/<span class="hljs-number"><span class="hljs-number">2</span></span>].Count)/<span class="hljs-number"><span class="hljs-number">2</span></span>; }</code> </pre> <br><a name="fig_binarization-step-3"></a><div style="text-align:center;"><img alt=":  â€“  3" height="590" src="https://habrastorage.org/webt/zt/mv/7n/ztmv7ngkoxo4hbchmuw87clx_uo.png#binarization-step-3.png"></div><p><br> <font color="#54524F"><b>Note</b> :</font> <code>std::nth_element()</code>  ,  ,    ( +    = ). </p><hr></div></div><br><div class="spoiler"> <b class="spoiler_title">#4</b> <div class="spoiler_text"><hr><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> j=<span class="hljs-number"><span class="hljs-number">0</span></span>;j&lt;numHosts;j++) bitCluster[i]|=( (countFill[i][j]&lt;averageMed)?<span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span> )&lt;&lt;j;</code> </pre> <br><a name="fig_binarization-step-4"></a><div style="text-align:center;"><img alt=":  â€“  4" height="655" src="https://habrastorage.org/webt/jv/9t/ps/jv9tpsmlj_jishpu8vp0lcrog4e.png#binarization-step-4.png"></div><hr></div></div><br><div class="spoiler"> <b class="spoiler_title">#5</b> <div class="spoiler_text"><hr><pre> <code class="cpp hljs">bitCluster[i] = bitCluster[i]^(<span class="hljs-number"><span class="hljs-number">1</span></span>&lt;&lt;((i/(numHosts<span class="hljs-number"><span class="hljs-number">-1</span></span>))+(i%(numHosts<span class="hljs-number"><span class="hljs-number">-1</span></span>)+<span class="hljs-number"><span class="hljs-number">1</span></span>))%numHosts) ? bitCluster[i]:<span class="hljs-number"><span class="hljs-number">0</span></span>;</code> </pre> <br><a name="fig_binarization-step-5"></a><div style="text-align:center;"><img alt=":  â€“  5" height="890" src="https://habrastorage.org/webt/x6/qx/_w/x6qx_w2xyxanwrzvi4wdhrancfo.png#binarization-step-5.png"></div><hr></div></div><p><br> <font color="#54524F"><b>Note</b> :</font>  GIF   <a href="https://github.com/ZiroKyl/LLTR-Process/tree/60fecb781b6a7933701c8784669dd316b0ffc6a3/doc/visualization"></a> <img alt="git" width="19" height="19" src="https://habrastorage.org/webt/z1/ho/tn/z1hotnqqi-dye8uvlxqhvqfjr6i.png#Git-Icon_2x.png">  .      ReadMe (     ;   â€‘         ,       <a href="https://habr.com/ru/post/421243/"></a> ). </p><br><div class="spoiler">  <b class="spoiler_title">Input data</b> <div class="spoiler_text"><hr><p>  â€‘   <nobr>OMNeT++</nobr>  â€œ â€,      â€œ <a href="">DAT_EX.h</a> â€. </p><hr></div></div><br><h3>  ... </h3><br><h2><a name="rip-protocol"></a> <a href="https://habr.com/ru/post/421243/" title="  "><font color="gray">#</font></a>     </h2><hr><p>   3â€‘    1.92 ,    ,   <nobr>1.6 - 2</nobr>     .  ,     3â€‘    (  )    (         Go â€“   2 ,       â€“ <nobr>2 - 4</nobr> ).    (4 ),   2.5    LLTR. </p><p><br>       + TODO' +   . </p><p><br> ,   â€‘   ,  ,   , 2     . </p><p><br> <font color="#54524F"><b>Note</b> :</font>   ,  /   ,       â€¦ </p><br><div class="spoiler">  <b class="spoiler_title">Spoiler</b> <div class="spoiler_text"><hr><p>   2      ? </p><br><div class="spoiler">  <b class="spoiler_title">Not</b> <div class="spoiler_text"><hr><p> ? </p><p><br> ,  ,            .  ,       ,   2       .     . </p><hr></div></div><br><div class="spoiler">  <b class="spoiler_title">Yes</b> <div class="spoiler_text"><hr><div class="spoiler"> <b class="spoiler_title">  </b> <div class="spoiler_text"><hr><h2><a name="tooo-long-didnt-read-visualize-plz--continue"></a> <a href="https://habr.com/ru/post/421243/" title="  "><font color="gray">#</font></a> Tooo Long; Didn't Read; Visualize, plz. </h2><hr><p> TODO[old]:      (1  â€“ gif_1,  , 2  â€“ gif_2,  , â€¦) </p><p><br> TODO:     ,       </p><br><a name="fig_sticker"></a><div style="text-align:center;"><img alt=":   &amp; â€“   â€‘  " height="258" src="https://habrastorage.org/webt/wy/4a/ag/wy4aagpiizafzimifpzgmtqt0ks.jpeg#sticker.jpg"></div><p> <font color="#FFF"><sup></sup> <sub></sub>  <sup></sup> <sub></sub> <sup></sup> <sub></sub> ?</font> (      ) </p><p><br> TODO:        (  GIF â€œTensorsFlowingâ€,     â€‘ â€“    ),      </p><p><br> (  Note,     GIF  , , ,     YouTube.  :  4:2:0  TVâ€‘  (  <nobr>16 - 235</nobr> ).            ,   â€“     ().  : SVG â€“      ,    â€œ â€‘â€; SWF â€“ RIP) </p><br><h2><a name="chto-esche-mozhno-uskorit"></a> <a href="https://habr.com/ru/post/421243/" title="  "><font color="gray">#</font></a>    ? </h2><hr><p>    ( ),     std  (, )      (     ); </p><p><br>     (    â€œ <code>1</code> â€ ==  â€œ <code>1</code> â€  ).  Example: </p><br><pre> <code class="bash hljs">0) 111111111111 1) 1111111111.. 2) 11111111.... 3) ..111....... 4) .....111.... &lt;-  ,     2â€‘,  3â€‘ 5) 11..........</code> </pre> <p><br>    (..  ), ..      â€œ <code>1</code> â€    (   ) (. â€œ â€   â€œ â€).               â€œ <code>1</code> â€, ..: </p><br><pre> <code class="bash hljs">0) 111111111111 1) 1111111111.. 0 2) 11111111.... 1 3) ..111....... 2 4) .....111.... 2 5) 11.......... 4</code> </pre> <p><br> (     ,     â€“    +     (+),   ) </p><p><br>         (     â€œâ€).       CPU,    +  .     ,  ,  ,   ,   . </p><p><br>  ... </p><hr></div></div><br><div class="spoiler"> <b class="spoiler_title">3: OMNeT++ </b> <div class="spoiler_text"><hr><h1> LLTR  3: OMNeT++  </h1><p><br>      Golang. (  ,   ) </p><p><br> (  ,      <nobr>OMNeT++</nobr> c  Qtenv) </p><p><br> (   â€œbackground/freshâ€  â€œ.nedâ€ {â€œ <code>grey99</code> â€ â†’ â€œ <code>-,-,0;bgi=background/fresh</code> â€},  â€œblueprint/print-26.pngâ€   Qtenv  â€œLLTR  1::    â€) </p><p><br> ( ,  â€œOMNetProject (v0.9) lltdappâ€) </p><p><br> ( ,        â€œhostSâ€     â€“    (    )        . , ,      â€“  broadcast ,     unicast ,  ..   â€“  ,    .      ,    â€“  â€œ â€. â€œ  â€“  â€,  : â€œ  â€ â€“     â€œSerialâ€  â€œ 1â€ (   â€“ â€œ â€).       â€“    (,  ,   broadcast  unicast )[   rand  ,  ,     â€“    ,     â€“  ]) </p><p><br> ( <a href="https://habrahabr.ru/post/163253">Precision Time Protocol (PTP)</a>   2016-04-12) </p><p><br> (      â€“   ,    ,  â€œa3_v0.3_ft0.1.0â€,  â€œa3_v0.3.0â€ â€“ ,    ; â€œftâ€ â€“ fixed time) </p><p><br>  . </p><p><br> <b>TODO</b> [x]:    ,       ,    . â€œ <b>TODO</b> [x]â€  â€œ <strong>  </strong> â€    (  ) </p><p><br>  References: </p><br><ul><li> <a href="">OMNetProject (v0.9) lltdapp</a> </li><li> <a href="">OMNetProject (v0.9.1) lltdapp</a> </li><li> <a href="">OMNetProject (fixed event time â€” v0.9.2) lltdapp</a> </li><li> <a href="">OMNetProject (v0.9.3) lltdapp</a> </li></ul><hr></div></div><br><div class="spoiler"> <b class="spoiler_title">4: </b> <div class="spoiler_text"><hr><h1> LLTR  4:  </h1><br><a name="LLTR_a4_habr-pic"></a><div style="text-align:center;"><img alt="Wolfram Mathematica â€“ Numbers (last episode 1 season) â€“ .    " height="398" src="https://habrastorage.org/webt/_y/jp/dp/_yjpdpjfe5izoow0fjvfhnnzbjw.jpeg#mathematica%20-%20numbers%20(last%20episode%201%20season).jpg"></div><p><br>      </p><br><div class="spoiler"> <b class="spoiler_title">âˆ€ habrauser âˆˆ {user âˆˆ Habrahabr | user    â€œâ€},</b> <div class="spoiler_text"><hr><p>    ,          â€œâ€  . </p><hr></div></div><p><br> (,     . ) </p><p><br>  References: </p><br><ul><li> <a href="">Get sequence (math induction)</a> , online (Google Spreadsheets): <ul><li> <a href="https://docs.google.com/spreadsheets/d/1Pt_hziyuut4hnMaCXcLUTYbar06ipSqWL7-N02BvFAk/edit">Sequence</a> </li><li> <a href="https://docs.google.com/spreadsheets/d/1FOh_LK_f7_tys4tNb0Uc62CHrlgbMah-V-8gP8NpM2k/edit">Convert sequence dstId and srcId to i</a> </li></ul></li></ul><p><br>  ,    (hostsCount) â€“  .       .     ? (:  ) </p><p><br> (,      â€œâ€,         {â€œâ€,â€œâ€,â€œâ€}) </p><p><br> (             (  )   [    ;  â€œ â€],    â€“    nâ€‘ â€œ â€; ,      LLTR,      ) </p><br><div class="spoiler"> <b class="spoiler_title">Permutation of bitsets (â€œlexicographicâ€ order) derivation (mathematical induction)</b> <div class="spoiler_text"><hr><p> (  ,   __  [    , ,       ,    ]): </p><br><pre> <code class="bash hljs">n=4; k=2 bitset  i 0011 &lt;- 0 0101 &lt;- 1 1001 &lt;- 2 0110 &lt;- 3 1010 &lt;- 4 1100 &lt;- 5</code> </pre> <p><br> Note:   , .. bitset <sup>k</sup> <sub>i</sub> &lt; bitset <sup>k</sup> <sub>i+1</sub> ,  i â€“  â€œ â€; k â€“   ; n â€“    . </p><p><br>  â€œâ€ ( ; /;  ,     â€œâ€/),     ? </p><br><ul><li>  <a href="https://docs.google.com/spreadsheets/d/1EBClwdIeS0cHwFlTYMrCbIfGgSpeiUmG5XP-WxtpgtU/edit"></a> (    â€œB9â€) ( â€œ â€   O_o;        ,    ) </li><li> <a href=""> </a> </li><li>  â€œ <code>_tmain()</code> â€ (      ) </li><li>  ,  ,      â€“       â€œ <code>med()</code> â€  â€œ <code>demed()</code> â€ </li></ul><p><br> ,     : </p><br><ul><li> <a href="https://habrahabr.ru/post/276937/">habrahabr.ru/post/276937/#comment_8768131</a> ( <a href="https://habr.com/users/alisey/" class="user_link">alisey</a> <a href="https://habr.com/users/trif/" class="user_link">Trif</a> ) </li><li> <a href="https://stackoverflow.com/questions/7918806/finding-n-th-permutation-without-computing-others/24257996">stackoverflow.com/questions/7918806/finding-n-th-permutation-without-computing-others/24257996#24257996</a> <ul><li> <a href="https://stackoverflow.com/a/7918978">stackoverflow.com/a/7918978</a> <ul><li> <a href="https://en.wikipedia.org/wiki/Factorial_number_system%3Fstable%3D1">en.wikipedia.org/wiki/Factorial_number_system?stable=1</a> </li><li> <a href="https://en.wikipedia.org/wiki/Lehmer_code%3Fstable%3D1">en.wikipedia.org/wiki/Lehmer_code?stable=1</a> </li></ul></li></ul></li></ul><p><br>    : <br>   â€œ â€ (â€œ  â€;   â€œPermutations of multisetsâ€). <br>  What's the Difference?       ( [abcdef]),       ( [000011]). <br>      ,    ( ): </p><br><pre> <code class="bash hljs">a =&gt; 0 b =&gt; 0 c =&gt; 0 d =&gt; 0 e =&gt; 1 f =&gt; 1</code> </pre> <p><br> ,    , ..    ,  ,  [abcdfe] â‡’ [000011],   [000011]     . (,   ) </p><p><br>        {{000011}}. <br>    {abcdef}  6! ( <a href="http://nuclphys.sinp.msu.ru/mathan/p1/m0204.html">nuclphys.sinp.msu.ru/mathan/p1/m0204.html</a> ). <br>     . <br> , ,     ( [000011])   , (  (â€œ1â€) 2!  Ã—   (â€œ0â€) 4! ) = 2! Ã— 4! = 2! Ã— (6âˆ’2)!  . <br>         = 6! âˆ• (2! Ã— (6âˆ’2)!). </p><p><br>          ( <a href="http://nuclphys.sinp.msu.ru/mathan/p1/m0204.html">nuclphys.sinp.msu.ru/mathan/p1/m0204.html</a> ),    ( <a href="https://ru.wikipedia.org/wiki/%25D0%25A1%25D0%25BE%25D1%2587%25D0%25B5%25D1%2582%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5%3Fstable%3D1">ru.wikipedia.org/wiki/?stable=1</a> )   â€“   .      .    â€œ  â€ ( <a href="https://ru.wikipedia.org/wiki/%25D0%25A0%25D0%25B0%25D0%25B7%25D0%25BC%25D0%25B5%25D1%2589%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5%3Fstable%3D1">ru.wikipedia.org/wiki/?stable=1</a> ),     â€œâ€    â€œ1â€  â€œ0â€ â€“        ( <a href="https://ru.wikipedia.org/wiki/%25D0%25A0%25D0%25B0%25D0%25B7%25D0%25BC%25D0%25B5%25D1%2589%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5%3Fstable%3D1">ru.wikipedia.org/wiki/?stable=1#___</a> ). </p><p><br>    EN:  â†’  â†’ combination: ( kâ€‘combination with repetitions / kâ€‘multicombination / multisubset ),    ( <a href="https://en.wikipedia.org/wiki/Combination%3Fstable%3D1">en.wikipedia.org/wiki/Combination?stable=1#Example_of_counting_multisubsets</a> ),  â€œStars and Barsâ€ ( <a href="https://en.wikipedia.org/wiki/Stars_and_bars_(combinatorics)%3Fstable%3D1">en.wikipedia.org/wiki/Stars_and_bars_(combinatorics)?stable=1#Proofs_via_the_method_of_stars_and_bars</a> ).            (/ ): â€œ1â€ â€“ Star,  â€œ0â€ â€“ Bar. </p><p><br>  ,  â€œStars and Barsâ€   â€œâ€ ( â€œ  â€ â€“ kâ€‘combination with repetitions)  â€œ  â€ (permutations of multisets): <a href="https://en.wikipedia.org/wiki/Permutation%3Fstable%3D1">en.wikipedia.org/wiki/Permutation?stable=1#Permutations_of_multisets</a> . <br>   RU: <a href="https://ru.wikipedia.org/wiki/%25D0%259F%25D0%25B5%25D1%2580%25D0%25B5%25D1%2581%25D1%2582%25D0%25B0%25D0%25BD%25D0%25BE%25D0%25B2%25D0%25BA%25D0%25B0%3Fstable%3D1">ru.wikipedia.org/wiki/?stable=1#__</a> </p><p><br> PS    <a href="https://stackoverflow.com/a/24257996">stackoverflow.com/a/24257996</a>    ,    (  â€“   : n!âˆ•((nâˆ’k)!); nâ©µk; (nâˆ’k)!â‡’1; n! ). </p><p><br> PPS [   <a href="https://habr.com/users/alisey/" class="user_link">alisey</a>  <a href="https://habr.com/users/trif/" class="user_link">Trif</a> ]   â€‘     / ( â€œPermutations of multisetsâ€),      ? </p><hr></div></div><hr></div></div><br><div class="spoiler"> <b class="spoiler_title">5: OMNeT++  2</b> <div class="spoiler_text"><hr><h1> LLTR  5: OMNeT++  2 </h1><p><br>    </p><p><br> (   LLTR-Process   sequence,     â€“        {     â€œLLTD-Process (vFinal)â€},      â€“   ,        i â†’ dstId,           ) </p><p><br>  References: </p><br><ul><li> <a href="">OMNetProject (v0.9.4) lltdapp</a> </li><li> <a href="">OMNetProject (vFinal) lltdapp</a> </li><li> <a href="">LLTD-Process (vFinal)</a> </li></ul><hr></div></div><br><div class="spoiler"> <b class="spoiler_title">6+7:  + </b> <div class="spoiler_text"><hr><h1> LLTR  6:  </h1><p><br>    ,   Golang. </p><p><br>  References: </p><br><ul><li> <a href="">Timers (QPC)</a> </li></ul><br><h1> LLTR  7:  (: â€œ   â€ â€“ ) </h1><p><br> (       4   {  //Wiâ€‘Fi},      3    ?      â€“ 2 !    â€“ MacBook,    Wiâ€‘Fi  Ethernet  Thunderbolt) </p><p><br> (    ,  â€œ  â€,       ,  â€œ  â€) </p><p><br> (  Wiâ€‘Fi  UDP broadcast  â€“     <abbr title="Wireless Network Interface Card">WNIC</abbr> //. : <a href="https://superuser.com/q/946539">How to override wifi broadcast speed limit?</a> , <a href="https://networkengineering.stackexchange.com/q/1782">Why does my UDP Broadcast wireless communication is capped at 1MBs?</a> .       3 Mbps,  5 Mbps {   }.   MacBook {Wiâ€‘Fi }  Superâ€‘,      broadcastâ€‘,  unicast,     {Wiâ€‘Fi-  â€‘}  unicastâ€‘  broadcast {    â€“  Wiâ€‘Fi}.  ,  Wiâ€‘Fi-   â€“ CPU      .      â€‘.) </p><p><br> (     UDPâ€‘,    !? :  Windows  â€œâ€    {Windows    NIC     ?..},         API, â€œ CPUâ€ { Win8    API,        â€¦ (.   â€œLLTD/flood/main.goâ€)}.        â€œ â€.     â€“   API     ,      â€œâ€ .   *nix   {    API},     ,    â€œâ€      {.   â€œLLTD/flood/main.goâ€}.  : â€œ <a href="http://burntchrome.blogspot.ru/2016/09/iperf3-and-microbursts.html">iperf3 and microbursts</a> â€) </p><p><br> (      â†’     .       {  ; SMB}:   â†’     â†’     â†’ MacBook   .     ,        .) </p><p><br> (        â€œLLTD/Prepare test environment.txtâ€) </p><p><br>  References: </p><br><ul><li> <a href="">GoLLTD</a> </li></ul><p><br> (      â€œLLTD/Client.goâ€,   â€œâ€‘â€ â€“  â€œLLTD/flood/main.goâ€) </p><p><br> (     {Client1} NIC    ,       â€“   ,     ,     â€œ â€    :    â€œ interface always deadâ€) </p><p><br> Note:  â€“ Wiâ€‘Fi  ( ADSLâ€‘/,      ADSL    â€“    ) </p><p><br> Note:  â€‘   :   â€œâ€ 100 Mbps  unicast ;      100 Mbps broadcast .         (  ,    /,   ) </p><hr></div></div><p><br> <b>TODO</b> :    :          (  â€“  ;        ;     +1/âˆ’1   ).     Google Wave,     Google Docs,     Discus. : </p><br><ul><li>    â€“   </li><li>   â€“ ,     </li><li> : <ul><li>      </li><li>   ,      (..   ) â€“     â€œâ€  â€œ â€ â€“            (..  â€œâ€   ) </li></ul></li></ul><p><br>     UserJS/UserCSS,  ,    , .. ,   . </p><p><br>         â€“     â€“    ,  UI  (, , )     (   ,       â€œâ€).   â€œâ€      UserCSS.     ,      ,   ,     (  ),     ( )   ( ). </p><p><br>       ( )   (   ).         (       UserJS  UserCSS; Opera Presto , Firefox   ) </p><p><br>     â€“  â€œ <nobr>OMNeT++</nobr>  2â€. </p><p><br> <b>TODO</b> [x]:           () +  ,      + ,  ,       <nobr>OMNeT++</nobr> v5.0b1  INET v3.0.0 +   ,       (  ),      â€“       /   </p><p><br> <strong>  </strong> : </p><br><ul><li> <a href="">OMNetProjectLLTD lltdapp + sim</a> â€“    LLTR    ,      â€œLLTDâ€ (â€œRâ€ â€“  â€œDâ€,    //) [     â€œ 1â€, ..  <a href="https://github.com/ZiroKyl/LLTR-Simulation-Model/tree/article_1">article_1</a>   a1_v0.30.0 <img alt="git" width="19" height="19" src="https://habrastorage.org/webt/z1/ho/tn/z1hotnqqi-dye8uvlxqhvqfjr6i.png#Git-Icon_2x.png"> ] {     ,   } </li><li> <a href="">OMNetProject (before v0.9) lltdapp</a> â€“   (â€œLLTDClient.ccâ€:  ,     DISCARDâ€‘  â€œâ€ ARP) [    <a href="https://github.com/ZiroKyl/LLTR-Simulation-Model/tree/article_1">article_1</a> ] {    â€œfor diff (LLTR)â€ â€“  (diff)      ,  ,    } </li><li> <a href="">OMNetProject (v0.9) lltdapp</a> â€“        (â€œLLTDClient.ccâ€: â€œ <code>trafCount[stepN]++</code> â€):     (. â€œ <code>timeCalcEnd</code> â€  â€œ <code>timeoutCalc</code> â€),      (â€œstat.txtâ€:  ) [ 3] {   â€œ  ,     â€, ..   ,     } </li><li> <a href="">Timers (QPC)</a> â€“     â€“   ( â€œTimers.cppâ€;    â€œ <a href="http://www.windowstimestamp.com/description">The Windows Timestamp Project: Adjustment of System Time (NTP)</a> â€) [ 6] {     ,     Golang,        â€œ 6â€} </li><li> <a href="">OMNetProject (v0.9.1) lltdapp</a> â€“  ,   :    (â€œLLTDClient.ccâ€: â€œ <code>sntpTimeOffset</code> â€  â€œ <code>sntpLatency</code> â€ â€“     ,    ) [ 3] </li><li> â€œfixed event timeâ€  â€“     : <ul><li> <a href="">OMNetProject (fixed event time â€” v0.9.2) lltdapp</a> â€“  ,     â€œstat.txtâ€ [ 3] </li></ul></li><li> <a href="">OMNetProject (v0.9.3) lltdapp</a> â€“ v0.9.1 +   ,    +   v0.9.2ft [ 3] </li><li> <a href="">Get sequence (math induction)</a> â€“       : unicast_src_host <sub>i+1</sub> = unicast_dst_host <sub>i</sub> , .. ,     (unicast dst),  ,   (unicast src) [ 4] {      ,    â€œâ€ (   )      â€“  â€œâ€            ,    : â€œ â€ (   ), , ,    } </li><li> <a href="">OMNetProject (v0.9.4) lltdapp</a> â€“  :     ,   â€œ  <abbr title="â€‘ "></abbr> â€ [ 5] </li><li> <a href="">OMNetProject (vFinal) lltdapp</a> â€“  [ 5] </li><li> <a href="">LLTD-Process (vFinal)</a> â€“       [ 5] </li><li> <a href="">GoLLTD</a> â€“    Go (â€œLLTD/old/main.old.goâ€) +   +      (â€œLLTD/Prepare test environment.txtâ€) +  ,  : â€œTimers/â€, â€œSNTP/â€, â€œLLTD/flood/broadcast.txtâ€, â€œLLTD/Prepare test environment.txtâ€, â€œLLTD/flood/old/main.goâ€, â€œLLTD/flood/main.goâ€, â€œLLTD/â€ [ 6,7] </li></ul><p><br>    ( <em></em> )    (),     .    â€œ  â€ â€“  ,    . </p><p><br> <font color="#54524F"><b>Note</b> :</font>      â€“    ,    (  )    â€“   . </p><p><br>   <em></em>     â€œ  â€,  ,   â€œ â€. </p><p><br>  â€œ  â€,   ,       : </p><br><a name="fig_stickers-other"></a><div style="text-align:center;"><img alt=":    TOP SECRET" title=": â€¹ â€º â€¹ â€º" height="820" src="https://habrastorage.org/webt/ka/vm/ni/kavmnigbvpq8jlsgnlhe-lmjyzk.jpeg#stickers-other.jpg"></div><p><br>    â€“         .   ,         â€“   â€œ â€. </p><p><br> <font color="#54524F"><b>Note</b> :</font> â€œâ€ â€“     (  <sup>âˆ’1</sup> )   ( )       (:     ;    ;     â€“ ); â€œâ€‘â€‘â€‘â€ â€“ ( )   ,       ,          (     ),   ,        {      â€œâ€ ( ) â€“   ,    ,   â€œ    ?â€; +  â€œ   ' ',       â€, :    (cookie)   viewâ€‘only} </p><p><br> <font color="#54524F"><b>Note</b> :</font>      (â€‘) </p><br><div class="spoiler"> <b class="spoiler_title">   </b> <div class="spoiler_text"><hr><p> LLTD v1 â€“    TCP ( map?),    , <br>     () ,         </p><p><br> LLTD v0.9 â€“  client          ,     (  ) </p><p><br>     v0.5  Go <br>   IP,    <a href="https://github.com/hashicorp/mdns">github.com/hashicorp/mdns</a> <br> <a href="https://github.com/davecheney/mdns">github.com/davecheney/mdns</a> <br> <a href="http://grokbase.com/t/gg/golang-nuts/132tcpawde/go-nuts-udp-multicast-who-is-on-my-network">grokbase.com/t/gg/golang-nuts/132tcpawde/go-nuts-udp-multicast-who-is-on-my-network</a> </p><p><br> PS    ( )  â€œ â€. <br> r=rand(); <br>      r,          . <br>   : <br> 1. â€‘ .      ,    â€“ .         +     Â±   (     â€œâ€  ). <br> 2. â€œâ€.      (  ,           ;         ) +      (    â€œâ€  ) </p><p><br> iperf3 and microbursts <a href="http://burntchrome.blogspot.ru/2016/09/iperf3-and-microbursts.html">burntchrome.blogspot.ru/2016/09/iperf3-and-microbursts.html</a> </p><hr></div></div><br><h3><a name="check-list--todo"></a> <a href="https://habr.com/ru/post/421243/" title="  "><font color="gray">#</font></a> Checkâ€‘list (TODO's) </h3><p><br>  TODO,      . </p><p><br>  PNG{SVG} (SVG  <em>thumbnail</em>   PNG) : </p><br><ol><li> PNG: <ol><li> [    778px, 756px]  â€‘  ( .  <a href="https://habr.com/ru/post/421243/">   </a> ) </li><li>  â€‘ 7z (un[7z]me),       ( â€“   â€œ  â€,    â€‘  ,     â€‘   ) <ul><li> [    Photoshop]    â€œSave for Webâ€ â†’ PNG 24+alpha </li><li> [    GIMP]   â€œ8bpc RGBAâ€ ( <a href="https://docs.gimp.org/en/gimp-images-out.html"> </a>  ),     â€œ <a href="http://registry.gimp.org/node/33">Save for Web</a> â€ </li></ul></li><li>     256 + alphaâ€‘ <ul><li> [  Adobe Fireworks] (Ctrl+Shift+X) â†’ PNGâ€‘8 + alpha </li><li> [] <ul><li> <a href="https://pngmini.com/">ImageAlpha</a> ( <a href="https://pngquant.org/">pngquant</a> + <a href="http://sourceforge.net/projects/pngnqs9/">pngnq-s9</a> + <a href="https://github.com/kornelski/mediancut-posterizer">posterizer</a> ) </li><li> <a href="http://x128.ho.ua/color-quantizer.html">Color Quantizer</a> </li></ul></li></ul></li><li> â€œâ€ ,  <a href="https://habrahabr.ru/post/121096">Image Catalyst</a> ( â€œâ€  2 : <a href="http://rgho.st/35627692">2.1</a>  <a href="">2.5</a> ,      ): <ol><li> â€œâ€    <a href="http://forum.ru-board.com/topic.cgi%3Fforum%3D4%26topic%3D4263%26start%3D220">Image</a> <a href="https://habrahabr.ru/post/135109">Catalyst</a> <a href="http://rgho.st/35627692">2.1</a> ([5] Xtreme profile) <br><div class="spoiler"> <b class="spoiler_title">Tools\config.ini</b> <div class="spoiler_text"><hr><pre> <code class="hljs pgsql">[<span class="hljs-keyword"><span class="hljs-keyword">options</span></span>] ;         ,    "true"  "false". fs = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> ;    PNG.    <span class="hljs-number"><span class="hljs-number">0</span></span>,       %NUMBER_OF_PROCESSORS%. threatpng = <span class="hljs-number"><span class="hljs-number">0</span></span> ; .          ,    "true"  "false". up = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span> [JPEG] ; Metadata.       Metadata  JPEG,    "true"  "false" ,   . dc = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>   ;<span class="hljs-keyword"><span class="hljs-keyword">Delete</span></span> <span class="hljs-keyword"><span class="hljs-keyword">comment</span></span> field (<span class="hljs-keyword"><span class="hljs-keyword">as</span></span> left <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> progs <span class="hljs-keyword"><span class="hljs-keyword">like</span></span> Photoshop &amp; Compupic). de = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>   ;Strip Exif section (smaller JPEG file, but lose digicam <span class="hljs-keyword"><span class="hljs-keyword">info</span></span>). di = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>   ;<span class="hljs-keyword"><span class="hljs-keyword">Delete</span></span> IPTC section (<span class="hljs-keyword"><span class="hljs-keyword">from</span></span> Photoshop, <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> Picasa). dx = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>   ;Deletex XMP section. du = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>   ;<span class="hljs-keyword"><span class="hljs-keyword">Delete</span></span> non image sections <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> Exif <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-keyword"><span class="hljs-keyword">comment</span></span> sections. [PNG] ; ColorType  BitDepth.      ColorType  BitDepth  PNG,    "true"  "false". nc = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> ; -.       "Dirty Transparency"  PNG c -,    "true"  "false". na = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> ; Chunks. ;     Chunks   Chunks,   "remove"       Chunks   Chunks,   . ;     Chunks   Chunks,   "keep"       Chunks   Chunks,   . ; Chunks: ;<span class="hljs-type"><span class="hljs-type">text</span></span> = iTXt,<span class="hljs-type"><span class="hljs-type">tEXt</span></span>,zTXt ;color = cHRM,sRGB,iCCP,gAMA ;misc = bKGD,pHYs,sBIT,sPLT,hIST,<span class="hljs-type"><span class="hljs-type">tIME</span></span> ;<span class="hljs-keyword"><span class="hljs-keyword">all</span></span>  = <span class="hljs-keyword"><span class="hljs-keyword">all</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> noncritical chunks hunks = remove <span class="hljs-keyword"><span class="hljs-keyword">all</span></span></code> </pre> <p><br> <font color="#54524F"><b>Note</b> :</font>    â€œ <a href="https://habrahabr.ru/post/135109/">Image Catalyst 2.1  .       Enter.</a> â€,    ,   ,     (  â€œImage Catalyst 2.1â€  â€œImage-Catalyst-2.1â€) </p><hr></div></div></li><li> â€œâ€    <a href="https://habrahabr.ru/post/215213">Image Catalyst</a> <a href="">2.5</a> ([1] Xtreme profile) <br><div class="spoiler"> <b class="spoiler_title">Tools\config.ini</b> <div class="spoiler_text"><hr><pre> <code class="hljs pgsql">[<span class="hljs-keyword"><span class="hljs-keyword">options</span></span>] ;Number <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> streams. <span class="hljs-keyword"><span class="hljs-keyword">If</span></span> <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> early <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> used <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> parameter %NUMBER_OF_PROCESSORS%. thread=<span class="hljs-number"><span class="hljs-number">0</span></span> ;Automatic replacement <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> original images <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> the optimized. outdir=<span class="hljs-keyword"><span class="hljs-keyword">true</span></span> ;<span class="hljs-keyword"><span class="hljs-keyword">Check</span></span> <span class="hljs-keyword"><span class="hljs-keyword">update</span></span> <span class="hljs-keyword"><span class="hljs-keyword">update</span></span>=<span class="hljs-keyword"><span class="hljs-keyword">false</span></span> [PNG] ;Parameters <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> optimization <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> PNG: ;/a# - PNG dirty transparency <span class="hljs-number"><span class="hljs-number">0</span></span>=Clean, <span class="hljs-number"><span class="hljs-number">1</span></span>=Optimize; ;/g# - PNG gamma <span class="hljs-number"><span class="hljs-number">0</span></span>=Remove, <span class="hljs-number"><span class="hljs-number">1</span></span>=Apply &amp; Remove, <span class="hljs-number"><span class="hljs-number">2</span></span>=Keep; ;/na - PNG don<span class="hljs-string"><span class="hljs-string">'t change RGB values for fully transparent pixels; ;/nc - PNG don'</span></span>t change ColorType <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> BitDepth; ;/np - PNG don<span class="hljs-string"><span class="hljs-string">'t change Palette. xtreme=/a1 /g0 advanced=/a0 /g0 ;Remove PNG Metadata (Chunks). chunks=true [JPEG] ;Remove JPEG Metadata. metadata=true [GIF] ;Remove GIF Metadata. giftags=true</span></span></code> </pre> <p><br> <font color="#54524F"><b>Note</b> :</font>    â€œ <a href="https://habrahabr.ru/post/135109/">Attention: running 2 of Image Catalyst.</a> â€,    ,   ,     (   â€œiCatalyst-2.5â€) </p><hr></div></div></li><li>     <br><a name="merge_min-bat"></a><div class="spoiler"> <b class="spoiler_title">merge_min.bat</b> <div class="spoiler_text"><hr><pre> <code class="hljs dos">@<span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> off <span class="hljs-built_in"><span class="hljs-built_in">setlocal</span></span> enabledelayedexpansion :: <span class="hljs-built_in"><span class="hljs-built_in">Copy</span></span> file from source to destination directory only <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> :: source file is smaller <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> size than <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> destination directory <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> Src <span class="hljs-built_in"><span class="hljs-built_in">dir</span></span>: %~f1 <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> Dst <span class="hljs-built_in"><span class="hljs-built_in">dir</span></span>: %~f2 <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> --- <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> /r "%~<span class="hljs-number"><span class="hljs-number">1</span></span>" <span class="hljs-variable"><span class="hljs-variable">%%A</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> (*) <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> ( <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> FileA=<span class="hljs-variable"><span class="hljs-variable">%%~</span></span>fA <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> FileB=<span class="hljs-variable"><span class="hljs-variable">!FileA:%~f1=%~f2!</span></span> <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> FileASize=<span class="hljs-variable"><span class="hljs-variable">%%~</span></span>zA <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-variable"><span class="hljs-variable">%%Z</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ("<span class="hljs-variable"><span class="hljs-variable">!FileB!</span></span>") <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> FileBSize=<span class="hljs-variable"><span class="hljs-variable">%%~</span></span>zZ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-variable"><span class="hljs-variable">!FileASize!</span></span> <span class="hljs-keyword"><span class="hljs-keyword">LSS</span></span> <span class="hljs-variable"><span class="hljs-variable">!FileBSize!</span></span> <span class="hljs-built_in"><span class="hljs-built_in">copy</span></span> "<span class="hljs-variable"><span class="hljs-variable">!FileA!</span></span>" "<span class="hljs-variable"><span class="hljs-variable">!FileB!</span></span>" )</code> </pre> <hr></div></div></li></ol></li><li>  â€œ.svgâ€    ( ) â€“      (SVG)    (un[7z]me) </li></ol></li><li> SVG: <ol><li>    {SVG 1.1; UTF-8;   ;  : ; : â€œ1:100â€;    } (      <em> </em> ,    2  â€“  1â€‘     ) </li><li>    transform   SVG (        90 ) (      SVG   ): <ol><li>    DevTools     transform (  â€œ <code>[transform]</code> â€) </li><li>        â€œ <code>Rotate90AndSwapWH()</code> â€ (    â€œ â€) <br><div class="spoiler"> <b class="spoiler_title">Rotate90AndSwapWH()</b> <div class="spoiler_text"><hr><pre> <code class="hljs vbscript"><span class="hljs-keyword"><span class="hljs-keyword">Sub</span></span> Rotate90AndSwapWH()   <span class="hljs-keyword"><span class="hljs-keyword">Dim</span></span> sr As ShapeRange, s As Shape, w#, h#   <span class="hljs-keyword"><span class="hljs-keyword">Set</span></span> sr = ActiveSelectionRange   <span class="hljs-keyword"><span class="hljs-keyword">On</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Error</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Resume</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Next</span></span>   boostStart2 <span class="hljs-string"><span class="hljs-string">"Rotate 90 and Swap WH"</span></span>   <span class="hljs-keyword"><span class="hljs-keyword">For</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Each</span></span> s <span class="hljs-keyword"><span class="hljs-keyword">In</span></span> sr       s.GetSize w, h       s.Rotate <span class="hljs-number"><span class="hljs-number">-90</span></span>       s.SetSizeEx s.CenterX, s.CenterY, w, h   <span class="hljs-keyword"><span class="hljs-keyword">Next</span></span> s   boostFinish2 <span class="hljs-keyword"><span class="hljs-keyword">End</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Sub</span></span></code> </pre> <p><br> + boostStart2/boostFinish2: </p><br><ul><li> <a href="">github.com/cdrpro-macros/cdr-tools/blob/master/source/sToolsBoost.bas</a> </li><li> <a href="https://cdrpro-forum-archive.github.io/node/2706.html">     CorelDRAW</a> </li></ul><p><br>    : </p><br><pre> <code class="hljs vbscript"><span class="hljs-keyword"><span class="hljs-keyword">Private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Sub</span></span> boostStart2(<span class="hljs-keyword"><span class="hljs-keyword">ByVal</span></span> unDo$)   <span class="hljs-keyword"><span class="hljs-keyword">On</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Error</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Resume</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Next</span></span>   ActiveDocument.BeginCommandGroup unDo   Optimization = <span class="hljs-literal"><span class="hljs-literal">True</span></span>   EventsEnabled = <span class="hljs-literal"><span class="hljs-literal">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">End</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Sub</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Sub</span></span> boostFinish2()   <span class="hljs-keyword"><span class="hljs-keyword">On</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Error</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Resume</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Next</span></span>   EventsEnabled = <span class="hljs-literal"><span class="hljs-literal">True</span></span>   Optimization = <span class="hljs-literal"><span class="hljs-literal">False</span></span>   ActiveWindow.Refresh   ActiveDocument.EndCommandGroup   <span class="hljs-comment"><span class="hljs-comment">'Refresh End Sub</span></span></code> </pre> <hr></div></div></li></ol></li><li>     <em>    </em> : <br><ul><li>    </li><li>   </li><li>  : <ul><li>     (   [, ]    ) </li><li>      (  ) </li></ul></li><li>     </li></ul></li><li>  (   ) </li><li>  XML (       ) <ol><li>  (  ): <ul><li>  â€œ <code>DOCTYPE</code> â€   â€œ <code>Creator</code> â€   â€œ <code>96ppi</code> â€ (    ppi    CorelDRAW      SVG) </li><li>  â€œ <code>metadata</code> â€, â€œ <code>id</code> â€ (  ) </li><li>    svg: <ol><li>  â€œ <code>xmlns</code> â€  â€œ <code>xml:space</code> â€ </li><li>  â€œ <code>xmlns:xlink</code> â€ </li><li> [,   â€œ <code>style</code> â€     â€œ <code>fill-rule:evenodd; clip-rule:evenodd</code> â€]  â€œ <code>version</code> â€  â€œ <code>style</code> â€  ` <code>style="margin:16px auto" shape-rendering="geometricPrecision" fill-rule="evenodd" clip-rule="evenodd" xmlns="http://www.w3.org/2000/svg" version="1.1" baseProfile="full"</code> ` </li></ol></li><li>  ( ) ` <code>"</code> `  ` <code>"</code> ` </li></ul></li><li>  <em> </em> (   &lt;rect&gt;  &lt;g&gt;), ,      â€œ <code>viewBox</code> â€ ( &lt;svg&gt;) <ul><li> ,  SVG   ,       CorelDRAW â€“    ,     ,   ,  <em> </em>     (     ,     ) </li></ul></li><li>   <a href="http://petercollingridge.appspot.com/svg-optimiser">SVG optimiser</a> : <ul><li> : <ul><li> Whitespace: pretty </li><li> Style type: optimal </li><li> Truncate * numbers: unchanged </li><li>    (   ,   â€œRemove clean groupâ€,      ) </li></ul></li><li>      &lt;svg&gt; </li><li>     &lt;style&gt; â€“   SVG optimiser   CDATA (   ) </li></ul></li><li>  XML </li></ol></li></ol></li><li>  PNG   SVG: <ol><li>  â€œPNG_SVG.batâ€ (  7-Zip   SVG: â€œ <code>-txz -m0=LZMA2:lc1:pb0 -mx</code> â€) <br><div class="spoiler"> <b class="spoiler_title">PNG_SVG.bat</b> <div class="spoiler_text"><hr><pre> <code class="hljs dos">@<span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> off <span class="hljs-built_in"><span class="hljs-built_in">setlocal</span></span> enabledelayedexpansion :: PNG+<span class="hljs-number"><span class="hljs-number">7</span></span>Zip{SVG} <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> PNG <span class="hljs-built_in"><span class="hljs-built_in">dir</span></span>: %~f1 <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> SVG <span class="hljs-built_in"><span class="hljs-built_in">dir</span></span>: %~f2 <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> --- <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> /r "%~<span class="hljs-number"><span class="hljs-number">2</span></span>" <span class="hljs-variable"><span class="hljs-variable">%%A</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> (*.svg) <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> ( <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> SVG=<span class="hljs-variable"><span class="hljs-variable">%%~</span></span>fA <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> PNG=<span class="hljs-variable"><span class="hljs-variable">!SVG:%~f2=%~f1!</span></span>.png "<span class="hljs-variable"><span class="hljs-variable">%ProgramFiles%</span></span>\<span class="hljs-number"><span class="hljs-number">7</span></span>-Zip\<span class="hljs-number"><span class="hljs-number">7</span></span>z.exe" a dummy -txz -m0=LZMA2:d96m:fb74:lc1:pb0 -mx -so -- "<span class="hljs-variable"><span class="hljs-variable">!SVG!</span></span>" &gt;&gt; "<span class="hljs-variable"><span class="hljs-variable">!PNG!</span></span>" )</code> </pre> <p><br>    â€œ <code>LZMA2:d96m:fb74:lc1:pb0</code> â€? </p><p><br>   â€‘ ( â€œRingSync_no_problem.svgâ€): </p><br><pre> <code class="bash hljs">- <span class="hljs-string"><span class="hljs-string">"LZMA2:d96m:fb64"</span></span>        6804 byte - <span class="hljs-string"><span class="hljs-string">"LZMA2:d96m:fb74"</span></span>        6800 byte - <span class="hljs-string"><span class="hljs-string">"LZMA2:d96m:fb74:lc2"</span></span>    6812 byte - <span class="hljs-string"><span class="hljs-string">"LZMA2:d96m:fb57:lc2"</span></span>    6780 byte - <span class="hljs-string"><span class="hljs-string">"LZMA2:d96m:fb57:lc1"</span></span>    6768 byte - <span class="hljs-string"><span class="hljs-string">"LZMA2:d96m:fb56:lc1"</span></span>    6760 byte - <span class="hljs-string"><span class="hljs-string">"LZMA2:d96m:fb49:lc1"</span></span>    6760 byte - <span class="hljs-string"><span class="hljs-string">"LZMA2:d96m:fb56:lc1:pb0"</span></span> 6696 byte - <span class="hljs-string"><span class="hljs-string">"LZMA2:d96m:fb46:lc1:pb0"</span></span> 6688 byte (fb44-fb47) - <span class="hljs-string"><span class="hljs-string">"LZMA2:d96m:fb63:lc1:pb0"</span></span> 6688 byte - <span class="hljs-string"><span class="hljs-string">"LZMA2:d96m:fb66:lc1:pb0"</span></span> 6684 byte - <span class="hljs-string"><span class="hljs-string">"LZMA2:d96m:fb74:lc1:pb0"</span></span> 6692 byte</code> </pre> <p><br>    svg    â€œ <code>LZMA2:d96m</code> â€ (fb64),  â€œ <code>LZMA2:d96m:fb74:lc1:pb0</code> â€   . </p><hr></div></div></li></ol></li></ol><p><br> <font color="#54524F"><b>Note</b> :</font>     Image Catalyst:  ping  timeout,   (  2.5)     (    2.1 â€“        ) </p><br><div class="spoiler"> <b class="spoiler_title">Image Catalyst.bat</b> <div class="spoiler_text"><hr><p> v2.1 diff: </p><br><pre> <code class="hljs dos"><span class="hljs-number"><span class="hljs-number">182</span></span>c182 &lt; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">defined</span></span> thrt &gt;<span class="hljs-built_in"><span class="hljs-built_in">nul</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>&gt;&amp;<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-built_in"><span class="hljs-built_in">ping</span></span> -n <span class="hljs-number"><span class="hljs-number">1</span></span> -w <span class="hljs-number"><span class="hljs-number">500</span></span> <span class="hljs-number"><span class="hljs-number">127</span></span>.<span class="hljs-number"><span class="hljs-number">255</span></span>.<span class="hljs-number"><span class="hljs-number">255</span></span>.<span class="hljs-number"><span class="hljs-number">255</span></span> &amp; <span class="hljs-keyword"><span class="hljs-keyword">goto</span></span>:waithreat --- &gt; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">defined</span></span> thrt &gt;<span class="hljs-built_in"><span class="hljs-built_in">nul</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>&gt;&amp;<span class="hljs-number"><span class="hljs-number">1</span></span> timeout /t <span class="hljs-number"><span class="hljs-number">1</span></span> /nobreak &amp; <span class="hljs-keyword"><span class="hljs-keyword">goto</span></span>:waithreat <span class="hljs-number"><span class="hljs-number">203</span></span>c203 &lt; <span class="hljs-number"><span class="hljs-number">1</span></span>&gt;<span class="hljs-built_in"><span class="hljs-built_in">nul</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>&gt;&amp;<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-built_in"><span class="hljs-built_in">ping</span></span> -n <span class="hljs-number"><span class="hljs-number">1</span></span> -w <span class="hljs-number"><span class="hljs-number">500</span></span> <span class="hljs-number"><span class="hljs-number">127</span></span>.<span class="hljs-number"><span class="hljs-number">255</span></span>.<span class="hljs-number"><span class="hljs-number">255</span></span>.<span class="hljs-number"><span class="hljs-number">255</span></span> --- &gt; <span class="hljs-number"><span class="hljs-number">1</span></span>&gt;<span class="hljs-built_in"><span class="hljs-built_in">nul</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>&gt;&amp;<span class="hljs-number"><span class="hljs-number">1</span></span> timeout /t <span class="hljs-number"><span class="hljs-number">1</span></span> /nobreak <span class="hljs-number"><span class="hljs-number">237</span></span>c237 &lt; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">exist</span></span> "%~<span class="hljs-number"><span class="hljs-number">1</span></span>" (<span class="hljs-number"><span class="hljs-number">1</span></span>&gt;<span class="hljs-built_in"><span class="hljs-built_in">nul</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>&gt;&amp;<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-built_in"><span class="hljs-built_in">ping</span></span> -n <span class="hljs-number"><span class="hljs-number">1</span></span> -w <span class="hljs-number"><span class="hljs-number">500</span></span> <span class="hljs-number"><span class="hljs-number">127</span></span>.<span class="hljs-number"><span class="hljs-number">255</span></span>.<span class="hljs-number"><span class="hljs-number">255</span></span>.<span class="hljs-number"><span class="hljs-number">255</span></span> &amp; <span class="hljs-keyword"><span class="hljs-keyword">goto</span></span>:waitflag) --- &gt; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">exist</span></span> "%~<span class="hljs-number"><span class="hljs-number">1</span></span>" (<span class="hljs-number"><span class="hljs-number">1</span></span>&gt;<span class="hljs-built_in"><span class="hljs-built_in">nul</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>&gt;&amp;<span class="hljs-number"><span class="hljs-number">1</span></span> timeout /t <span class="hljs-number"><span class="hljs-number">1</span></span> /nobreak &amp; <span class="hljs-keyword"><span class="hljs-keyword">goto</span></span>:waitflag) <span class="hljs-number"><span class="hljs-number">513</span></span>c513 &lt;     <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">exist</span></span> "<span class="hljs-variable"><span class="hljs-variable">%tmppath%</span></span>\typelog.lck" (<span class="hljs-number"><span class="hljs-number">1</span></span>&gt;<span class="hljs-built_in"><span class="hljs-built_in">nul</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>&gt;&amp;<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-built_in"><span class="hljs-built_in">ping</span></span> -n <span class="hljs-number"><span class="hljs-number">1</span></span> -w <span class="hljs-number"><span class="hljs-number">500</span></span> <span class="hljs-number"><span class="hljs-number">127</span></span>.<span class="hljs-number"><span class="hljs-number">255</span></span>.<span class="hljs-number"><span class="hljs-number">255</span></span>.<span class="hljs-number"><span class="hljs-number">255</span></span> &amp; <span class="hljs-keyword"><span class="hljs-keyword">goto</span></span>:savelog) --- &gt;     <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">exist</span></span> "<span class="hljs-variable"><span class="hljs-variable">%tmppath%</span></span>\typelog.lck" (<span class="hljs-number"><span class="hljs-number">1</span></span>&gt;<span class="hljs-built_in"><span class="hljs-built_in">nul</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>&gt;&amp;<span class="hljs-number"><span class="hljs-number">1</span></span> timeout /t <span class="hljs-number"><span class="hljs-number">1</span></span> /nobreak &amp; <span class="hljs-keyword"><span class="hljs-keyword">goto</span></span>:savelog) <span class="hljs-number"><span class="hljs-number">534</span></span>c534 &lt; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> "<span class="hljs-variable"><span class="hljs-variable">%jpeg%</span></span>" <span class="hljs-keyword"><span class="hljs-keyword">equ</span></span> "<span class="hljs-number"><span class="hljs-number">0</span></span>" <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> "<span class="hljs-variable"><span class="hljs-variable">%png%</span></span>" <span class="hljs-keyword"><span class="hljs-keyword">equ</span></span> "<span class="hljs-number"><span class="hljs-number">0</span></span>" <span class="hljs-number"><span class="hljs-number">1</span></span>&gt;<span class="hljs-built_in"><span class="hljs-built_in">nul</span></span> <span class="hljs-built_in"><span class="hljs-built_in">ping</span></span> -n <span class="hljs-number"><span class="hljs-number">1</span></span> -w <span class="hljs-number"><span class="hljs-number">500</span></span> <span class="hljs-number"><span class="hljs-number">127</span></span>.<span class="hljs-number"><span class="hljs-number">255</span></span>.<span class="hljs-number"><span class="hljs-number">255</span></span>.<span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>&gt;<span class="hljs-built_in"><span class="hljs-built_in">nul</span></span> &amp; <span class="hljs-keyword"><span class="hljs-keyword">goto</span></span>:finmessage --- &gt; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> "<span class="hljs-variable"><span class="hljs-variable">%jpeg%</span></span>" <span class="hljs-keyword"><span class="hljs-keyword">equ</span></span> "<span class="hljs-number"><span class="hljs-number">0</span></span>" <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> "<span class="hljs-variable"><span class="hljs-variable">%png%</span></span>" <span class="hljs-keyword"><span class="hljs-keyword">equ</span></span> "<span class="hljs-number"><span class="hljs-number">0</span></span>" <span class="hljs-number"><span class="hljs-number">1</span></span>&gt;<span class="hljs-built_in"><span class="hljs-built_in">nul</span></span> timeout /t <span class="hljs-number"><span class="hljs-number">1</span></span> /nobreak <span class="hljs-number"><span class="hljs-number">2</span></span>&gt;<span class="hljs-built_in"><span class="hljs-built_in">nul</span></span> &amp; <span class="hljs-keyword"><span class="hljs-keyword">goto</span></span>:finmessage <span class="hljs-number"><span class="hljs-number">572</span></span>c572 &lt;     <span class="hljs-number"><span class="hljs-number">1</span></span>&gt;<span class="hljs-built_in"><span class="hljs-built_in">nul</span></span> <span class="hljs-built_in"><span class="hljs-built_in">ping</span></span> -n <span class="hljs-number"><span class="hljs-number">1</span></span> -w <span class="hljs-number"><span class="hljs-number">500</span></span> <span class="hljs-number"><span class="hljs-number">127</span></span>.<span class="hljs-number"><span class="hljs-number">255</span></span>.<span class="hljs-number"><span class="hljs-number">255</span></span>.<span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>&gt;<span class="hljs-built_in"><span class="hljs-built_in">nul</span></span> --- &gt;     <span class="hljs-number"><span class="hljs-number">1</span></span>&gt;<span class="hljs-built_in"><span class="hljs-built_in">nul</span></span> timeout /t <span class="hljs-number"><span class="hljs-number">1</span></span> /nobreak <span class="hljs-number"><span class="hljs-number">2</span></span>&gt;<span class="hljs-built_in"><span class="hljs-built_in">nul</span></span></code> </pre> <p><br> V2.5 diff: </p><br><pre> <code class="hljs dos"><span class="hljs-number"><span class="hljs-number">319</span></span>,<span class="hljs-number"><span class="hljs-number">320</span></span>c319 &lt;     <span class="hljs-keyword"><span class="hljs-keyword">call</span></span>:division float <span class="hljs-number"><span class="hljs-number">1024</span></span> <span class="hljs-number"><span class="hljs-number">100</span></span> &lt;     <span class="hljs-keyword"><span class="hljs-keyword">call</span></span>:echostd " <span class="hljs-keyword"><span class="hljs-keyword">In</span></span>   - <span class="hljs-variable"><span class="hljs-variable">!float!</span></span> " --- &gt;     <span class="hljs-keyword"><span class="hljs-keyword">call</span></span>:echostd " <span class="hljs-keyword"><span class="hljs-keyword">In</span></span>   - <span class="hljs-variable"><span class="hljs-variable">!float!</span></span> " <span class="hljs-number"><span class="hljs-number">322</span></span>d320 &lt;     <span class="hljs-keyword"><span class="hljs-keyword">call</span></span>:division change <span class="hljs-number"><span class="hljs-number">1024</span></span> <span class="hljs-number"><span class="hljs-number">100</span></span> <span class="hljs-number"><span class="hljs-number">324</span></span>,<span class="hljs-number"><span class="hljs-number">325</span></span>c322 &lt;     <span class="hljs-keyword"><span class="hljs-keyword">call</span></span>:division float <span class="hljs-number"><span class="hljs-number">1024</span></span> <span class="hljs-number"><span class="hljs-number">100</span></span> &lt;     <span class="hljs-keyword"><span class="hljs-keyword">call</span></span>:echostd " Out  - <span class="hljs-variable"><span class="hljs-variable">!float!</span></span>  (<span class="hljs-variable"><span class="hljs-variable">!change!</span></span> , <span class="hljs-variable"><span class="hljs-variable">%5%</span></span><span class="hljs-variable"><span class="hljs-variable">%%%</span></span><span class="hljs-variable"><span class="hljs-variable">%%)</span></span>" --- &gt;     <span class="hljs-keyword"><span class="hljs-keyword">call</span></span>:echostd " Out  - <span class="hljs-variable"><span class="hljs-variable">!float!</span></span>  (<span class="hljs-variable"><span class="hljs-variable">!change!</span></span> , <span class="hljs-variable"><span class="hljs-variable">%5%</span></span><span class="hljs-variable"><span class="hljs-variable">%%%</span></span><span class="hljs-variable"><span class="hljs-variable">%%)</span></span>" <span class="hljs-number"><span class="hljs-number">362</span></span>,<span class="hljs-number"><span class="hljs-number">363</span></span>c359,<span class="hljs-number"><span class="hljs-number">360</span></span> &lt; <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> /a "ww=<span class="hljs-variable"><span class="hljs-variable">%random%</span></span><span class="hljs-variable"><span class="hljs-variable">%%%</span></span><span class="hljs-number"><span class="hljs-number">1</span></span>" &lt; <span class="hljs-number"><span class="hljs-number">1</span></span>&gt;<span class="hljs-built_in"><span class="hljs-built_in">nul</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>&gt;&amp;<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-built_in"><span class="hljs-built_in">ping</span></span> -n <span class="hljs-number"><span class="hljs-number">1</span></span> -w <span class="hljs-variable"><span class="hljs-variable">%ww%</span></span> <span class="hljs-number"><span class="hljs-number">127</span></span>.<span class="hljs-number"><span class="hljs-number">255</span></span>.<span class="hljs-number"><span class="hljs-number">255</span></span>.<span class="hljs-number"><span class="hljs-number">255</span></span> --- &gt; <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> /a "ww=<span class="hljs-variable"><span class="hljs-variable">%random%</span></span><span class="hljs-variable"><span class="hljs-variable">%%%</span></span><span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">1000</span></span>" &gt; <span class="hljs-number"><span class="hljs-number">1</span></span>&gt;<span class="hljs-built_in"><span class="hljs-built_in">nul</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>&gt;&amp;<span class="hljs-number"><span class="hljs-number">1</span></span> timeout /t <span class="hljs-variable"><span class="hljs-variable">%ww%</span></span> /nobreak <span class="hljs-number"><span class="hljs-number">707</span></span>c704 &lt; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-variable"><span class="hljs-variable">%jpeg%</span></span> <span class="hljs-keyword"><span class="hljs-keyword">equ</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-variable"><span class="hljs-variable">%png%</span></span> <span class="hljs-keyword"><span class="hljs-keyword">equ</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-variable"><span class="hljs-variable">%gif%</span></span> <span class="hljs-keyword"><span class="hljs-keyword">equ</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>&gt;<span class="hljs-built_in"><span class="hljs-built_in">nul</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>&gt;&amp;<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-built_in"><span class="hljs-built_in">ping</span></span> -n <span class="hljs-number"><span class="hljs-number">1</span></span> -w <span class="hljs-number"><span class="hljs-number">500</span></span> <span class="hljs-number"><span class="hljs-number">127</span></span>.<span class="hljs-number"><span class="hljs-number">255</span></span>.<span class="hljs-number"><span class="hljs-number">255</span></span>.<span class="hljs-number"><span class="hljs-number">255</span></span> &amp; <span class="hljs-keyword"><span class="hljs-keyword">goto</span></span>:finmessage --- &gt; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-variable"><span class="hljs-variable">%jpeg%</span></span> <span class="hljs-keyword"><span class="hljs-keyword">equ</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-variable"><span class="hljs-variable">%png%</span></span> <span class="hljs-keyword"><span class="hljs-keyword">equ</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-variable"><span class="hljs-variable">%gif%</span></span> <span class="hljs-keyword"><span class="hljs-keyword">equ</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>&gt;<span class="hljs-built_in"><span class="hljs-built_in">nul</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>&gt;&amp;<span class="hljs-number"><span class="hljs-number">1</span></span> timeout /t <span class="hljs-number"><span class="hljs-number">1</span></span> /nobreak &amp; <span class="hljs-keyword"><span class="hljs-keyword">goto</span></span>:finmessage <span class="hljs-number"><span class="hljs-number">741</span></span>d737 &lt; <span class="hljs-keyword"><span class="hljs-keyword">call</span></span>:division changePNG <span class="hljs-number"><span class="hljs-number">1024</span></span> <span class="hljs-number"><span class="hljs-number">100</span></span> <span class="hljs-number"><span class="hljs-number">747</span></span>d742 &lt; <span class="hljs-keyword"><span class="hljs-keyword">call</span></span>:division changeJPG <span class="hljs-number"><span class="hljs-number">1024</span></span> <span class="hljs-number"><span class="hljs-number">100</span></span> <span class="hljs-number"><span class="hljs-number">753</span></span>d747 &lt; <span class="hljs-keyword"><span class="hljs-keyword">call</span></span>:division changeGIF <span class="hljs-number"><span class="hljs-number">1024</span></span> <span class="hljs-number"><span class="hljs-number">100</span></span> <span class="hljs-number"><span class="hljs-number">800</span></span>c794 &lt;     <span class="hljs-keyword"><span class="hljs-keyword">call</span></span>:echostd " Total %<span class="hljs-number"><span class="hljs-number">1</span></span>:        <span class="hljs-variable"><span class="hljs-variable">%%c</span></span>hange<span class="hljs-variable"><span class="hljs-variable">%1%</span></span>% , <span class="hljs-variable"><span class="hljs-variable">%%p</span></span>erc<span class="hljs-variable"><span class="hljs-variable">%1%</span></span><span class="hljs-variable"><span class="hljs-variable">%%%</span></span><span class="hljs-variable"><span class="hljs-variable">%%"</span></span> --- &gt;     <span class="hljs-keyword"><span class="hljs-keyword">call</span></span>:echostd " Total %<span class="hljs-number"><span class="hljs-number">1</span></span>:        <span class="hljs-variable"><span class="hljs-variable">%%c</span></span>hange<span class="hljs-variable"><span class="hljs-variable">%1%</span></span>% , <span class="hljs-variable"><span class="hljs-variable">%%p</span></span>erc<span class="hljs-variable"><span class="hljs-variable">%1%</span></span><span class="hljs-variable"><span class="hljs-variable">%%%</span></span><span class="hljs-variable"><span class="hljs-variable">%%"</span></span></code> </pre> <p><br> <font color="#54524F"><b>Note</b> :</font>  Image Catalyst    ( ) CP866,   diff,  ,     . </p><hr></div></div><p><br><a name="any-img-prep"></a>   : </p><br><ul><li> 778px â€“ <em> </em> (780px â€“     âˆ’ 2px ) <ul><li> 756px â€“        (758px â€“       âˆ’ 2px ) </li><li> 738px â€“        (740px â€“       âˆ’ 2px ) </li></ul></li><li>    Image Catalyst v2.1  v2.5,      ( â€œ <a href="https://habr.com/ru/post/421243/">merge_min.bat</a> â€). </li><li>      â€“   : habrastorage     â€œdwbmwbyvlzes80cep1hvcdb5iy.pngâ€ ()       HTTPâ€‘ â€œ <code><a href="https://stackoverflow.com/a/7969807">Content-Disposition</a> : <a href="https://developer.mozilla.org/ru/docs/Web/HTTP/%25D0%2597%25D0%25B0%25D0%25B3%25D0%25BE%25D0%25BB%25D0%25BE%25D0%25B2%25D0%25BA%25D0%25B8/Content-Disposition">inline</a> ;...</code> â€, ,    ,    (): â€œdwbmwbyvlzes80cep1hvcdb5iy.png#real-name.pngâ€.      ,    â€“       (   ).      SVG â€“        (),     ,  â€¦ </li><li>    (id, name).       . (      â€“        ,        ,   â€“       ) </li><li>        <em> </em> ,        (      ). </li><li>   â€‘ (un[7z]me),    habrastorage â€“ ,    <a href="https://pwmon.org/p/5470/cloudflare-discolors-web/"> CloudFlare Polish</a> . </li></ul><p><br> <font color="#54524F"><b>Note</b> :</font>   habrastorage  SVG (  ): <a href="https://habrahabr.ru/post/349362/"></a> ( <a href=""></a> ),      PNG{SVG} (      SVG,      ,        â€“   ) (   ,     ,  / â€“  â€‘ /  ,        ) </p><p><br>   git: </p><br><ul><li>     git tag  git <img width="19" height="19" src="https://habrastorage.org/webt/z1/ho/tn/z1hotnqqi-dye8uvlxqhvqfjr6i.png#Git-Icon_2x.png">    â€œgit-tag-â€¹â€ºâ€  . </li><li>      git  ,    / ,    â€œarticle_#â€. (      <a href="https://github.com/ZiroKyl/LLTR-Simulation-Model">LLTR Simulation Model</a> ) </li><li>  (  â€œhttpâ€),    (    )   web.archive.org,   sohabr.net: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> res=str.match(<span class="hljs-regexp"><span class="hljs-regexp">/http[^#)\s]*/gm</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> res_l=res.length; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i=<span class="hljs-number"><span class="hljs-number">0</span></span>;i&lt;res_l;i++) <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(res[i]); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> archive = res.filter(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">a</span></span></span><span class="hljs-function">)</span></span>{<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a.search(<span class="hljs-regexp"><span class="hljs-regexp">/(omnetpp.org\/doc\/omnetpp\/manual\/#|wikipedia|\/github.com\/)/</span></span>)==<span class="hljs-number"><span class="hljs-number">-1</span></span>;});</code> </pre> <ul><li>      ,     web.archive.org   sohabr.net . </li><li>     habrahabr.ru   habr.com, ..    web.archive.org (   ,        ). </li></ul></li><li> ,      Wikipedia  â€œ?stable=1â€. </li><li>    ()   MediaWiki (â€œ#.D0.AD.D0.B2.D1.80.D0.B8.D1.81â€¦â€;   â€œwikipediaâ€,   â€œ#.D0â€)   (â€œ#â€¦â€). </li><li> C   (     ) +  Git. </li><li> [  â€œ 2â€]         (â€œLLTR  #::â€),  â€œtitleâ€ (  ). </li><li>      (id, name),      (,  â€œ#â€)      (   title â€œ  â€). <ul><li> sohabr.net  ` <code>id</code> `   ( <a href="https://sohabr.net/habr/post/315186/"></a> ),  ` <code>&lt;a name=""&gt;&lt;/a&gt;</code> `? </li><li>    â€œUnicode Link Symbolâ€ (U+1F517; â€œ&amp;#128279;â€)  ,       (Chrome ,           ,   ), ..      . </li></ul></li><li>       (&lt;hr /&gt;) â€“  ,    UserCSS (  UserCSS   ). </li><li>     ` <code>&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</code> `,   UserCSS     ` <code>&lt;br /&gt;</code> `,   ` <code>margin</code> `  ` <code>&lt;p&gt;</code> ` (  ). <ul><li> <s> <a href="https://habrahabr.ru/info/topics/madskillz/"><code>`&lt;p&gt;</code> `  </a> ,    Markdownâ€¦</s> (,  ` <code>&lt;p&gt;</code> `    <a href="https://habrahabr.ru/info/topics/madskillz">info</a>  ,      ,         UserCSS,   ). </li></ul></li><li>     height  (         â€‘),    ,     width. </li><li>    â€œ <a href="http://xahlee.info/comp/unicode_matching_brackets">Full width brackets</a> â€ (     ;    ,        ). </li><li>     â€œ   ?â€ <ul><li>      ( ,   ,    ). ,      (  )  ,        . ,     â€“    .   ,    (     ).        /,    .   //,   â€“ . </li><li>   â€œ <a href="http://www.wikireality.ru/wiki/%25D0%25A5%25D0%25B0%25D0%25BA%25D0%25B5%25D1%2580%25D1%2581%25D0%25BA%25D0%25B0%25D1%258F_%25D1%2586%25D0%25B5%25D0%25BD%25D0%25BD%25D0%25BE%25D1%2581%25D1%2582%25D1%258C" title=" Wikipedia   https://ru.wikipedia.org/wiki/_?action=edit"> </a> â€. </li></ul></li><li>  <a href="https://habrahabr.ru/info/help/posts/">habrahabr.ru/info/help/posts/</a> ( <a href="https://habr.com/info/help/posts/"></a> , <a href="http://habrahabr.ru/info/help/posts/">old </a> ) <blockquote>     ,   howâ€‘to â€“   Â« Â» (tutorial),       ; </blockquote></li><li>  <a href="https://habrahabr.ru/post/277577">    </a> . </li></ul><p><br> <font color="#54524F"><b>Note</b> :</font> habrahabr   <a href="https://habrahabr.ru/company/tm/blog/317490">&lt;oembed&gt;</a> ,  <a href="http://iframely.com/domains/github">    GitHub</a> , <a href="https://habrahabr.ru/company/Voximplant/blog/332792"> </a> . </p><p><br> <font color="#54524F"><b>Note</b> :</font>  TODOâ€‘     ,     43 KiB ( â€œ 0â€),  69 KiB ( â€œ 1â€),   45 KiB (  ). </p><hr></div></div><hr></div></div><br><a name="doi"></a> <a href="https://doi.org/10.5281/zenodo.1407060" title="   "><img alt="DOI: 10.5281/zenodo.1407060" height="20" src="https://habrastorage.org/getpro/habr/post_images/57e/1b0/8c2/57e1b08c206dcabcc846f3c79c974c3a.svg"></a> </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/421243/">https://habr.com/ru/post/421243/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../421225/index.html">SENS-diagnostics. Biomarkers of mitochondrial dysfunction and oxidative stress</a></li>
<li><a href="../421227/index.html">Overview of cross-platform mobile development frameworks</a></li>
<li><a href="../421229/index.html">Story of my headache</a></li>
<li><a href="../421235/index.html">Magic Leap One glasses - points for $ 2295 with maintainability 3 of 10</a></li>
<li><a href="../421241/index.html">The Central Bank asks for authority to block pre-trial malicious sites</a></li>
<li><a href="../421245/index.html">C #: one use case for any tasks</a></li>
<li><a href="../421247/index.html">How to turn graphics into sound, and why?</a></li>
<li><a href="../421249/index.html">Why are Wall Street financiers working too hard and is it possible to fix it?</a></li>
<li><a href="../421253/index.html">Why do we need "tailed" cars?</a></li>
<li><a href="../421255/index.html">Ilon Mask abandoned plans to turn Tesla into a private company</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>