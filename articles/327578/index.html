<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How three schoolchildren hacked the source code of Final Fantasy V to localize it</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="One day in the late 90s, Miriya (Myria) entered the computer class at Irvine High School and came across a guy who played Final Fantasy V. It was unus...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How three schoolchildren hacked the source code of Final Fantasy V to localize it</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/976/0b4/1fb/9760b41fbb16ddcd477e2292c837708e.jpg" alt="image"><br><br>  One day in the late 90s, Miriya (Myria) entered the computer class at Irvine High School and came across a guy who played <em>Final Fantasy V.</em>  It was unusual: first, <em>Final Fantasy V was</em> never released in the USA.  To play this Japanese game in 1992 in English, you had to first download the ROM, and then install an unofficial fan patch with the translation that recently appeared on the Internet.  Miriya knew about this patch, and this was also unusual: she helped in its creation. <br><br>  The guy was shocked that this patch was created by his classmate.  ‚ÄúHe did not know that I was working on the patch,‚Äù said Miriya, who asked not to reveal her real name.  "I was surprised that there was someone who really plays with him." 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      For twenty years, Miriya has become accustomed to meeting people who have played the unofficial English version of <em>Final Fantasy V.</em>  Although it was not the first fan-made translation of a video game (the first was the Dutch translation of the 1993 game for MSX <em>SD Snatcher</em> ), but it became the most significant.  He made it clear to countless Western fans that Squaresoft <em>Final Fantasy III</em> was not really the third part of <em>Final Fantasy</em> , and more importantly, showed the world the power that fans in the video game industry have.  Tired of the fact that companies like Square refuse to distribute games in Western markets, fans simply localized <em>Final Fantasy V on</em> their own.  Later they did the same with the RPG, for example, with <em>Seiken Densetsu 3</em> and <em>Mother 3</em> .  They translated scripts from Japanese to English, edited the translation, and implemented these scripts in games with the help of constantly improved programs. <br><a name="habracut"></a><br>  ‚ÄúIt‚Äôs hard to convey how important it was in that era,‚Äù says Clyde "Mato" Mandelin (Clyde "Mato" Mandelin), primarily known as the professional localizer of the third part of <em>Mother</em> .  ‚ÄúWe not only managed to play in the‚Äú missing ‚Äù <em>Final Fantasy</em> in English: the quality of the game was almost like the official version.  At that time, most of the fan translations were primitive and careless, but the amateur translation of <em>Final Fantasy V</em> overtook them by many light years. ‚Äù <br><br>  There is no way to know how many people played the <em>Final Fantasy V</em> patch - today it is stored on many pirated ROM sites, so counting the exact number will not work.  But he had a huge impact.  Today Miriya works as an engineer in a large video game company with millions of fans, but <em>Final Fantasy V</em> may have become her most famous achievement.  ‚ÄúI talked to people at work, with random people, talked to them,‚Äù she says.  ‚ÄúSooner or later they found out that I was working on this translation, and were always very impressed.‚Äù <br><br>  Miriya doesn‚Äôt remember exactly when she found out about the problem with the numbering of <em>Final Fantasy</em> - it was in 1996 or 1997 - but she remembers watching the ads for <em>Final Fantasy VII</em> .  "We were surprised:" what is the seventh part? "," She says, repeating after all the RPG fans in the United States.  Just a few years ago, in 1994, Squaresoft released <em>Final Fantasy III</em> for Super Nintendo.  How did they move from the troika to the seven? <br><br>  As it turned out, Square hid some of the games from North America.  This venerable publisher missed the localization of both <em>Final Fantasy II</em> and <em>Final Fantasy III</em> for the Nintendo Entertainment System, so when the time came to bring <em>Final Fantasy IV</em> to the western market, the company called the game <em>Final Fantasy II</em> .  Then Square decided to skip the <em>Final Fantasy V</em> , although, according to its lead localizer <a href="https://www.chronocompendium.com/Term/Super_Play_Magazine_Woolsey_Interview.html" rel="noopener">Ted Woossey</a> , the company was thinking about releasing the game in the West for a while under a different name. <br><br>  Then the publisher released <em>Final Fantasy VI</em> and named it <em>Final Fantasy III</em> . <br><br>  It's easy to get confused in these names and numbers, so here‚Äôs a brief outline. <br><br>  <em><strong>Final Fantasy</strong></em> (NES) [1987] - released worldwide <br><br>  <em><strong>Final Fantasy II</strong></em> (NES) [1988] - Japan Only <br><br>  <em><strong>Final Fantasy III</strong></em> (NES) [1990] - Japan Only <br><br>  <em><strong>Final Fantasy IV</strong></em> (SNES) [1991] - released in the USA as <em>Final Fantasy II</em> <br><br>  <strong><em>Final Fantasy V</em></strong> (SNES) [1992] - Japan Only <br><br>  <strong><em>Final Fantasy VI</em></strong> (SNES) [1994] - released in the USA as <em>Final Fantasy III</em> <br><br>  When Miriya began exploring strange localization decisions about Square, she began thinking about taking part in unofficial fan projects.  She was always obsessed with the RPG and noticed that the <em>Final Fantasy IV</em> ( <em>II</em> ) script was rather chaotic, full of sloppy sentences and inappropriate words.  ‚ÄúI wanted to remake this game,‚Äù says Miriya.  "Translated terrible chaos." <br><br><img src="https://habrastorage.org/getpro/habr/post_images/754/0bf/519/7540bf519faf6189fa9311197666a87c.png" alt="image"><br>  <i>Screenshot taken by Clyde Mandelin from the mediocre localization of Final Fantasy IV for SNES.</i> <br><br>  Once, surfing the Internet in the late 90s, Miriya came across a group of geeks who looked like her, who called themselves RPGe.  In the IRC channel, they discussed their favorite Japanese role-playing games and made ambitious plans to translate into English those games that did not get to the West.  When Miriya found them, they talked about the localization of <em>Final Fantasy V</em> , which they wanted to do by hacking the Japanese version of the ROM file of the game and translating the script into English.  Miriya was intrigued and postponed her plans for remaking the <em>FFIV</em> .  <em>Final Fantasy V</em> seemed much cooler.  (A group called J2E later translated <em>FFIV</em> again with mediocre results. This is documented by Clyde Mandelin on his <a href="http://legendsoflocalization.com/final-fantasy-iv/">Legends of Localization website</a> .) <br><br>  Unlike the two lost NES games, <em>Final Fantasy V</em> was <a href="http://kotaku.com/final-fantasy-v-retrospective-wildly-underrated-1790486300" rel="nofollow">superb in every way</a> .  People who managed to understand FFV in Japanese said that it was interesting to play in her, she had a great storyline and a thoughtful class change system that allowed players to creatively tune their team.  It was difficult, and this is one of the reasons Square did not sell it in the West, but RPG fans still wanted to appreciate this game. <br><br>  The problem was that the RPGe did not have enough experience.  None of the group has ever done anything like this, so they did not know how to do amateur translations.  The RPGe team unearthed the Japanese <em>Final Fantasy V</em> ROM, hacked it and started editing text files, directly translating the game fragments from Japanese to English.  But these files were capricious and it was difficult to work with them.  When they changed the Japanese string to English in ROM, it was not displayed correctly in the game, because the rendering of Japanese and English characters was different.  Japanese characters are larger than English letters, and one sentence that occupied 12 characters in English ("how are you?") Could consist of only three Japanese characters ("ÂÖÉ Ê∞ó?").  <em>Final Fantasy V</em> limited each line of the dialogs to 16 characters.  It looked good in Japanese, but the English translation was distorted and hard to read. <br><br>  Miriya realized that they needed to edit not only text files, but also the code itself that processed these text files in <em>Final Fantasy V.</em>  ‚ÄúI felt that they chose the wrong approach,‚Äù she says.  "It was my contribution to the work of the ROM-hacking community: to create a high-quality translation, it is not enough just to change the game data, you need to modify its code." <br><br>  To localize the Japanese text into English and make it readable, Miriya decided to reprogram the game.  Their version of <em>Final Fantasy V</em> should have understood that English letters, unlike Japanese characters, have a different size.  It was necessary to teach the game that each dialog box should contain more English characters (including these annoying spaces) than Japanese kanji or kana. <br><br>  Miriya (known by the nickname Barubary by the time; both names are references to <em>Breath of Fire</em> ) began discussing with the Japanese-English translator SoM2freak how to leave the rest of the RPGe.  In mid-1997, they planned to start their own translation of <em>Final Fantasy V</em> , which would be correct, not just hacked.  ‚ÄúI decided to abandon those people who, it seemed to me, did not understand what they were doing,‚Äù says Miriya.  "We started our own subgroup inside [RPGe] because I felt that they were not able to cope with this task." <br><br><img src="https://habrastorage.org/getpro/habr/post_images/786/e2c/771/786e2c7711ebee8f4538b7d9ad12300b.png" alt="image"><br>  <i>Clyde Mandelin collected examples of what other amateur translations looked like in the 90s.</i> <br><br>  In the Californian Irvine in the summer of 1997 it was very hot, and Miriya did not seek to go out.  She had just finished her second year of high school and was planning to spend the summer the way any self-respecting teenager would like to: disassemble the ROM code.  Listening to remixes of music from video games and old CDs, she studied the inner workings of <em>Final Fantasy V.</em>  In her room was a slow Intel 486 computer, which she could use for development, but to test the game, she had to go down and turn on her father‚Äôs fast Pentium.  486 simply could not run emulators.  (To complete the picture, with the permission of Miriya, we add that she was male at the time.) <br><br>  SoM2freak translated the strings of Japanese <em>Final Fantasy V</em> conversations into English, while Miriya tried to find the best way to insert them into the game.  She downloaded the disassembler to parse the <em>Final Fantasy V</em> code, which turned into such a huge file, that even its parsing required a special program for working with the text XTree Gold.  Then she started changing variables, trying by trial and error to find out what each line of code was responsible for.  ‚ÄúThere was almost no documentation,‚Äù says Miriya.  "I had to figure out what to do myself." <br><br>  Each disassembled code file looked like this: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ccc/c22/8ba/cccc228ba57533e15d67fc9bcc52e88c.png" alt="image"><br>  <i>Screenshot of the disassembled program made by Miriya.</i> <br><br>  This screenshot shows the code that was used in <em>Final Fantasy V</em> to render the dialogs.  Since the game assumed that each Japanese character would have the same width ‚Äî 12 pixels ‚Äî this code renders a character in each dialog box, then moves the invisible cursor 13 pixels to the right, renders a new character, and so on.  For English letters with different widths, Miriya needed to find a different approach.  ‚ÄúThe natural solution for changing the code for an English translation is to vary the number of transitions of the cursor to the right depending on the character being drawn,‚Äù says Miriya.  "I replaced this code with a transition to the code I added, which determines the amount of cursor movement depending on the English character being drawn." <br><br>  Miriya spent the entire summer searching for solutions to this problem, and therefore was different from the rest of the amateur translation community.  Previously, translators never thought about disassembling code or changing dialog renderers, perhaps because they were not as passionate (or obsessed) as Miriya.  ‚ÄúOften the work was monotonous,‚Äù she says.  ‚ÄúI spent a lot of time on [emulator] SNES 9x, trying to figure out what was going on [from ROM].  I looked at hex dumps and assembly dumps for many hours and just tried to debug this annoying text processing procedure. ‚Äù <br><br>  In the process of working on the project, they brought to him a new editor, Katsuyuki ‚Äúharmony7‚Äù Omuro (Katsuyuki ‚Äúharmony7‚Äù Ohmuro), who was studying at the same school with Miriya.  Omuro believed that the SoM2freak translations are bad and full of problems.  SoM2freak was young, Japanese was not his first language, so Omuro began editing large chunks of the translation of SoM2freak.  Frustrated with this decision, SoM2freak left the group, but later he helped translate other major RPGs, such as <em>Final Fantasy III</em> and <em>Seiken Densetsu 3</em> . <br><br>  Perhaps the most controversial translation decision of the team was the choice of the name of the main character.  According to Square Enix, the main star of <em>Final Fantasy V</em> was a man named Bartz.  But in the amateur translation the name was different: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/240/098/35f/24009835fb67e49763aa8d37a3176de0.png" alt="image"><br><br>  This name often caused giggles <i>.</i>  <i>Lane. In consonance with the English word butts (buttocks)]</i> , but in all respects it was the most accurate translation, and Miriya sticks to it.  Alliterative translation of the Japanese name „Éê „ÉÉ „ÉÑ - Battsu, or Butz for short.  ‚ÄúIn Japan, there were documents, for example, a strategy manual, and in the game were small silver figurines on which Butz was written the way we wrote.  We used such examples as reference materials for translation. ‚Äù <br><br>  The summer changed in the autumn, Miriya finished her work on an amateur translation, writing a program that inserted the translated English text into the game, so that you would not have to spend dozens of hours copying and pasting manually.  She left the rest to Omuro, who initially planned to revise the entire script, but the dramatic turn made them change course. <br><br>  The remaining groups inside the RPGe abandoned their attempts to translate <em>Final Fantasy V</em> , and Miriya‚Äôs team had to finish on their own.  But in October 1997, someone got access to an early version of the fan translation and put it on the Geocities website, trying to claim fame for themselves.  To restore justice, Miriya and Omuro had to release their own patch, which was almost ready, but not as good as Omuro wanted. <br><br>  On October 17, 1997, Miriya and her team released ‚Äúv0.96‚Äù, the first public version of the <em>FFV</em> fan translation.  It has spread like a virus, through IRC channels and forums.  RPG fans have discovered that there is another great new <em>Final Fantasy</em> that none of them have played.  Although the SNES emulators were only born and were raw, they could be found.  Finding a copy of <em>Final Fantasy V</em> and the English patch for a regular gamer was also not difficult.  The patch was applied in accordance with simple instructions from the Readme file.  ‚Äú[The patch] actually spread by itself,‚Äù says Miriya.  ‚ÄúHe quickly became known in the emulation community and people started to play it.  We didn‚Äôt have to worry about his popularity at all. ‚Äù <br><br>  Omuro worked on completing and editing the script for several more months, and in June 1998 the team released the ‚Äúofficial‚Äù version of the patch for <em>Final Fantasy V.</em>  At that time it was considered revolutionary, and today it is recognized as one of the best translations in the history of games.  ‚ÄúThe amount of work done on the <em>FFV</em> translation set the bar high for subsequent amateur translations,‚Äù says localization specialist Mandelin.  After studying <em>Final Fantasy V</em> , the future amateur translators understood that in order for the game to look good in English, you need to edit not only the text, but also the code. <br><br>  ‚ÄúI don‚Äôt even know exactly how they achieved it - emulation at that time took the first steps, and the tools and knowledge for hacking ROM did not exist yet,‚Äù says Mandelin.  ‚ÄúIt‚Äôs as if the developers came to us from the future to share the translation patch of <em>Final Fantasy V.</em>  At first I thought that emulation is just a funny invention, but after the release of the patch I realized that it gives much more possibilities.  My curiosity was touched, I needed to find out how these translation patches work.  Soon, I also started programming and translating for fan groups, which in just a few years led me to a career as a professional translator.  In this sense, I believe that the amateur translation of the <em>FFV</em> gave us all more than the official release could. ‚Äù <br><br>  According to Miriya, the publisher of <em>Final Fantasy</em> , Squaresoft never discussed translation with RPGe, even though they had an office in Costa Mesa, just a few miles from her parents' house, in the US.  But in September 1999, the official English version of <em>Final Fantasy V</em> finally reached North America.  This version, combined with <em>Final Fantasy VI</em> in the PS1 assembly called <em>Final Fantasy Anthology</em> , was disgusting. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ea8/319/dde/ea8319ddefa3e8bad842fafe79424c2b.png" alt="image"><br>  <i>In the translation of Final Fantasy V for PS1, the main character Faris (Faris) throughout the game stubbornly sought to speak pirate.</i>  <i>Screenshot taken from <a href="https://lparchive.org/Final-Fantasy-V-(by-Mega64)/Update%252002/">LPArchive.org</a></i> <br><br>  ‚ÄúWe just laughed because the translation was absolutely terrible,‚Äù says Miriya.  ‚ÄúWe thought:‚Äú Hmmm, a couple of schoolchildren coped better than Square for four months.  I guess it took them a whole year. "" <br><br>  And only in 2006 in the port for the Game Boy Advance <em>Final Fantasy V: Advance</em> Square finally released a decent localized version of this unfortunate role-playing game.  The main character is still called Bartz.  ‚ÄúWhen the version for the Game Boy Advance was released, I thought:‚Äú Oh God, they finally beat us, ‚Äù‚Äú says Miriya.  ‚ÄúThey did the translation better than us, even though it took eight years.‚Äù  After <em>Final Fantasy V,</em> Miriya started hacking PS1, developing the old RPGs to write her own cheat codes, such as <em>Final Fantasy VII</em> , which allowed players to walk through walls.  This whole process helped her start a career in the video game industry.  She still specifies <em>Final Fantasy V</em> to this day in her resume, and says that without this project, she would not have learned reverse engineering. <br><br>  ‚ÄúNow I often communicate with different people, they ask me questions and I answer:‚Äú Yes, my greatest achievement is the work on that translation 20 years ago. ‚Äù  I am still amazed at the number of people who played him. ‚Äù </div><p>Source: <a href="https://habr.com/ru/post/327578/">https://habr.com/ru/post/327578/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../327568/index.html">Contextual interview. Notes for the design of the study</a></li>
<li><a href="../327570/index.html">DevTools in the browser Vivaldi 1.10.289.3</a></li>
<li><a href="../327572/index.html">Comparison of GPT and MBR partition structures</a></li>
<li><a href="../327574/index.html">Simple and fast C / C ++ server with C # client: TCP version</a></li>
<li><a href="../327576/index.html">Self-sufficient controllers on Xamarin.Forms: "Re-use the code to the maximum!". Part 1</a></li>
<li><a href="../327580/index.html">Microsoft itself</a></li>
<li><a href="../327582/index.html">How does the testing of the developers KOMPAS-3D</a></li>
<li><a href="../327584/index.html">Development: technical task on the site or concept?</a></li>
<li><a href="../327586/index.html">Cheeky telegram bot</a></li>
<li><a href="../327588/index.html">We are testing a new line of SSD VPS + a little insider from the life of a hoster</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>