<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to connect your Ruby project to Travis and cook Martini in 15 minutes</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="There is a tendency that every Ruby project joins Travis . Travis is a very simple, open-source integration system. We are usually too lazy to connect...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to connect your Ruby project to Travis and cook Martini in 15 minutes</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage1/5f872247/b478d6c4/d804fcbd/462f9ff3.jpg" alt="image" align="left"><br>  There is a tendency that <a href="http://travis-ci.org/">every</a> <a href="http://travis-ci.org/">Ruby</a> <a href="http://travis-ci.org/">project</a> joins <a href="http://travis-ci.org/">Travis</a> .  Travis is a very simple, open-source <a href="http://ru.wikipedia.org/wiki/%25D0%259D%25D0%25B5%25D0%25BF%25D1%2580%25D0%25B5%25D1%2580%25D1%258B%25D0%25B2%25D0%25BD%25D0%25B0%25D1%258F_%25D0%25B8%25D0%25BD%25D1%2582%25D0%25B5%25D0%25B3%25D1%2580%25D0%25B0%25D1%2586%25D0%25B8%25D1%258F">integration</a> system.  We are usually too lazy to connect all our projects to automatic testing of builds.  Travis allows you to do this in minutes. <br><br>  This is a step-by-step instruction on how to add your project to Travis <i>and</i> make a delicious Martini cocktail in about 15 minutes.  It should be noted that the preparation of Martini will take about five minutes, so the part about Travis will take 10 minutes of your life. <br><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Make sure our project has everything you need <i>(2 minutes)</i> </h4><br>  To join Travis, the project requires three prerequisites: <br><ul><li>  This is a ruby ‚Äã‚Äãproject on github. </li><li>  He uses a Bundler to control gems.  (In fact, this is not a limitation, but it greatly simplifies the setup for Travis.) </li><li>  Tests for the project can be run with a simple command.  This is usually the <i>rake</i> command, but the other commands (say, <i>bundle exec rspec spec</i> ) are also great. </li></ul><br>  It is necessary that your project can be tested on a new machine by simply running <i>bundle install</i> before the testing team.  If the configuration is more complicated, you will have to add additional configs for Travis.  In any case, simplifying the installation of your project is a good idea, regardless of whether you use Travis or not. <br><br>  I assume that your project meets all three prerequisites, and that tests can be run using the <i>bundle exec rake test</i> . <br><br><h4>  Create a Travis configuration file <i>(3 minutes)</i> </h4><br>  Create a <a href="https://gist.github.com/1134203"><i>.travis.yml</i></a> file in the project root.  This is what mine looks like: <br><br><pre> <code class="hljs objectivec">rvm: <span class="hljs-meta"><span class="hljs-meta">#    Ruby,     - 1.9.3 - jruby - rbx script: </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"bundle exec rake test"</span></span></span><span class="hljs-meta"> #    </span></span></code> </pre><br><br>  All settings have rational default values, so your configuration can be even easier.  For example, if you omit the <i>script</i> property, Travis will use <i>bundle exec rake</i> , or simply <i>rake</i> , if not using the Bundler.  See the <a href="http://about.travis-ci.org/docs/user/build-configuration/">Travis documentation for</a> more details. <br><br><h4>  Activate the project on Travis <i>(2 minutes)</i> </h4><br>  Go to <a href="http://travis-ci.org/">travis-ci.org</a> and log in using your GitHub account.  We provide Travis read / write access to your GitHub.  Your own Travis token is on <a href="http://travis-ci.org/profile">your profile page</a> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b9d/657/af5/b9d657af5289dfe061b7ddbfcec95ae6.jpg" alt="image"><br><br>  In fact, don't bother about the token yet - but since you're on the profile page, click on the project switch that will be tested on Travis. <br><br><h4>  Run the first build <i>(3 minutes)</i> </h4><br>  Send changes to your git repository (make sure to commit the .travis.yml file), then go to <a href="http://travis-ci.org/">Travis home</a> , sit back and watch Travis add your project to the build queue, install the bundle and run the tests.  When the build is completed, check the mail, there you will see a love message from Travis - and congratulations that everything is green (or red)! <br><br><h4>  If interesting... </h4><br>  Why does Travis need read access to your GitHub account?  Because Travis automatically configures GitHub to notify him that you are pushing into a project.  If you want to - check: on the project administration page in GitHub - <i>Service Hooks</i> - click on the <i>Travis</i> hook.  The configuration will look like this: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1a5/260/76a/1a526076a83210a9b2920f84bd66b744.jpg" alt="image"><br><br>  If you click <i>Test Hook</i> , Travis will schedule the build right now. <br><br><h4>  Cooking Martini <i>(5 minutes)</i> </h4><br><img src="https://habrastorage.org/getpro/habr/post_images/e2c/446/f64/e2c446f64e9cbe2421fbac523396d90a.jpg" alt="image" align="right"><br>  Fill the frozen cocktail glass with cold gin, add a little vermouth and mix.  Decorate with olive. <br><br>  (If you are in a hurry, you can combine this step with the previous one, which will save you three minutes while Travis is busy building your project) <br><br><h4>  Drink Martini <i>(extra time)</i> </h4><br>  I don't think my help is needed here.  Find a good company and have fun.  But do not drink much! </div><p>Source: <a href="https://habr.com/ru/post/128277/">https://habr.com/ru/post/128277/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../128271/index.html">YAF - the fastest php framework *</a></li>
<li><a href="../128273/index.html">Multilingual Django Starter Models</a></li>
<li><a href="../128274/index.html">Work for Watson</a></li>
<li><a href="../128275/index.html">Lock-free memcache API</a></li>
<li><a href="../128276/index.html">September issue of UserAndLINUX magazine released</a></li>
<li><a href="../128278/index.html">Happy programmer!</a></li>
<li><a href="../128279/index.html">Happy 0b100000000 day!</a></li>
<li><a href="../128280/index.html">Free books</a></li>
<li><a href="../128281/index.html">If interested, this text is written by man.</a></li>
<li><a href="../128283/index.html">Ruba Goldberg Machine</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>