<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ORM for Sitecore do it yourself</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello habrovchane. 


 Sitecore little coverage in the Habr√©, but it is very functional (and expensive) CMS is quite popular with those who can afford...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>ORM for Sitecore do it yourself</h1><div class="post__text post__text-html js-mediator-article">  Hello habrovchane. <br><br><img src="https://habrastorage.org/storage2/01a/893/086/01a8930866b87936befa679e827bee49.png" alt="sitecore"><br>  Sitecore little coverage in the Habr√©, but it is very functional (and expensive) CMS is quite popular with those who can afford it.  However, people developing (and especially supporting) sites on sitecore often complain about the difficulty of modifying templates.  So, simply renaming a template or a single field can lead to unpredictable and, most importantly, difficult to diagnose and correct violations of the site.  And they can get out only after a few months.  In addition, the use of standard Sitekor FieldRenderer-s makes it difficult to control the markup, which was critical in our case. <br><br><h5>  Why a bicycle? </h5><br>  There are solutions for generating classes based on templates (like <a href="http://trac.sitecore.net/CompiledDomainModel">trac.sitecore.net/CompiledDomainModel</a> ), but they are not very convenient to use and do not eliminate binding to the template structure, field names.  The mentioned CompiledDomainModel requires the regeneration of <u>all</u> models after any changes.  It is also poorly suited for joint development (constant conflicts in the generated code), requires unique names for all templates, is tied on the path to templates and ID-shki and generates monstrous code in one file (on one of the projects there were more than 60,000 lines and open his VS was not a very quick affair). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br>  Our team was lucky to develop a new site for 6.3 sitecaster, based on the experience of supporting existing sites.  Immediately emphasize that we will talk about the content site.  An interesting functionality was required only in the admin panel and it has little connection directly with the sitecore. <br><br><h5>  Further on the shape of the wheels </h5><br>  It was decided to move away from binding to sitecore on sublayouts, to fasten strict typing for templates and fields, to store the names of the fields only in a single and predictable place. <br><br>  The basis of all our classes for the templates is the class Template, whose main task is to check all existing Item templates and compare their names with the declared ones.  For communication, the template class uses the DataContract attribute. <br><br>  <i>Note: here and hereafter the code is abbreviated to convey the main idea and readability</i> <br><br><pre><code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">DataContract(Name = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Base text page"</span></span></span><span class="hljs-meta">)</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">BaseTextPage</span></span> : <span class="hljs-title"><span class="hljs-title">Template</span></span> {...}</code> </pre> <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Template</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> Item item; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Template</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Item item</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> missedTemplates = GetMissedTemplates(item, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.GetType()); <span class="hljs-comment"><span class="hljs-comment">//   DataContract        Item-. if (missedTemplates.Any()) { ... throw new InvalidDataException("Item is not of required template‚Äù); //        } this.item = item; } ‚Ä¶ }</span></span></code> </pre><br><br>  In the same Template class there are several useful functions for accessing template fields: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> T GetField&lt;T&gt;(<span class="hljs-keyword"><span class="hljs-keyword">string</span></span> name, T @<span class="hljs-keyword"><span class="hljs-keyword">default</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>(T)) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dataType = <span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(T); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> field = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.Item.Fields[name]; ‚Ä¶ <span class="hljs-comment"><span class="hljs-comment">//  : if (dataType == typeof(string)) { if (string.IsNullOrEmpty(field.Value)) { return @default; } return (T)(object)field.Value; } if (dataType == typeof(LinkField)) { return (T)(object)new LinkField(field); } if (dataType == typeof(ImageField)) { return (T)(object)new ImageField(field); } ‚Ä¶ //etc for all field types } protected T GetFromField&lt;T&gt;(string name) where T : Template { var link = this.GetField&lt;ReferenceField&gt;(name); if (link != null &amp;&amp; link.TargetItem != null) { return (T)Activator.CreateInstance(typeof(T), link.TargetItem); } return null; } protected T GetFromParent&lt;T&gt;() where T : Template { if (this.Item == null || this.Item.Parent == null) { return default(T); } return (T)Activator.CreateInstance(typeof(T), this.Item.Parent); }</span></span></code> </pre><br><br>  The next step is to access the fields.  A well-known problem of <s>website</s> with the support of website sites are the names of the fields generously scattered throughout the project.  Our task is to have one and only one field name in the project.  Again we use standard attributes, now DataMember. <br><br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">DataContract(Name = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Base text page"</span></span></span><span class="hljs-meta">)</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">BaseTextPage</span></span> : <span class="hljs-title"><span class="hljs-title">Template</span></span> { [DataMember(Name = <span class="hljs-string"><span class="hljs-string">"Big text content"</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Text { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.Item[<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.GetFieldName(x =&gt; x.QuestionText)]; } } [DataMember(Name = <span class="hljs-string"><span class="hljs-string">"Logo Image"</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> LogoImage { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.GetField&lt;ImageField&gt;(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.GetFieldName(x =&gt; x.BigImage)).GetMediaUrl(); } } ‚Ä¶ }</code> </pre><br><br>  The most important thing here is the GetFieldName function, declared as an extension-method of the form: <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> Dictionary&lt;<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>&gt; fieldNameCache = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Dictionary&lt;<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> GetFieldName&lt;T, TResult&gt;(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span> T obj, Expression&lt;Func&lt;T, TResult&gt;&gt; memberExpression) <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> T : <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (obj == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArgumentNullException(<span class="hljs-string"><span class="hljs-string">"obj"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> member = memberExpression.ToMember(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (member.MemberType != MemberTypes.Property) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArgumentException(<span class="hljs-string"><span class="hljs-string">"Not a property access"</span></span>, <span class="hljs-string"><span class="hljs-string">"memberExpression"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> fieldCahceKey = <span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(T).Name + member.Name; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (fieldNameCache.ContainsKey(fieldCahceKey)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> fieldNameCache[fieldCahceKey]; } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> fieldName = <span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(T) .GetProperty(member.Name) .GetCustomAttributes(<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(DataMemberAttribute), <span class="hljs-literal"><span class="hljs-literal">true</span></span>) .Cast&lt;DataMemberAttribute&gt;() .Select(curr =&gt; curr.Name) .FirstOrDefault(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.IsNullOrEmpty(fieldName)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>; } fieldNameCache[fieldCahceKey] = fieldName; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> fieldName; } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> MemberInfo ToMember&lt;TMapping, TReturn&gt;( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span> Expression&lt;Func&lt;TMapping, TReturn&gt;&gt; propertyExpression) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (propertyExpression == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArgumentNullException(<span class="hljs-string"><span class="hljs-string">"propertyExpression"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> expression = propertyExpression.Body; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (expression.NodeType == ExpressionType.MemberAccess) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> memberExpression = expression <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> MemberExpression; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (memberExpression != <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> memberExpression.Member; } } <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArgumentException(<span class="hljs-string"><span class="hljs-string">"Not a member access"</span></span>, <span class="hljs-string"><span class="hljs-string">"propertyExpression"</span></span>); }</code> </pre><br><br>  At this stage we can write something like: <br><br><pre> <code class="cs hljs">BaseTextPage page = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BaseTextPage(Sitecore.Context.Item); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> text = page.Text; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> imageUrl = page.LogoImage;</code> </pre><br><br>  and get data from the ‚ÄúBig text content‚Äù / ‚ÄùLogo image‚Äù fields of the current Item, provided that its template fits the BaseTextPage class. <br><br>  Next, we make a wrapper for the template that will be the base for all our other templates.  At a minimum, this will be the ‚ÄúStandart template‚Äù, but it is usually better to do something more useful.  For example <br><br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">DataContract(Name = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Base page"</span></span></span><span class="hljs-meta">)</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">BasePage</span></span> : <span class="hljs-title"><span class="hljs-title">Template</span></span> { [DataMember(Name = <span class="hljs-string"><span class="hljs-string">"Show in menu"</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> ShowInMenu { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.Item[<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.GetFieldName(x =&gt; x.ShowInMenu)].GetBoolValue(); } } [DataMember(Name = <span class="hljs-string"><span class="hljs-string">"Page title"</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Title { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.Item[<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.GetFieldName(x =&gt; x.Title)]; } } }</code> </pre><br><br>  Now we implement all this in Sublayouts: <br><br><pre> <code class="hljs actionscript"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BaseSublayout</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">&gt; : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserControl</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">where</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BasePage</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> virtual T Model { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (T)Activator.CreateInstance(<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(T), Sitecore.Context.Item); } } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> partial <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ConcreteTextPage</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BaseSublayout</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyProject</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ORM</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Content</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ConcreteMapping</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> Page_Load(object sender, EventArgs e) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> smthUsefull = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.Model.HeaderText; } }</code> </pre><br><br>  From this point on, the contents of the .aspx files begin to resemble those in ASP.MVC.  To <s>enhance the</s> convenience <s>effect,</s> a set of extension-methods was used to display markup with standard checks for the presence / validity of data (for example, do not display images with empty src or links without href). <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">%=</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">this.Model.Header</span></span></span><span class="hljs-tag"> %&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">%=</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">HtmlHelper.RenderImage</span></span></span><span class="hljs-tag">(</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">this.Model.SomeEntity.MainImage</span></span></span><span class="hljs-tag">) %&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">%</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">foreach</span></span></span><span class="hljs-tag"> (</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">var</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">in</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">this.Model.SelectedLinks</span></span></span><span class="hljs-tag">) { %&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">%=</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">HtmlHelper.Anchor</span></span></span><span class="hljs-tag">(</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">link.Url</span></span></span><span class="hljs-tag">, </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">link.Text</span></span></span><span class="hljs-tag">) %&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">%</span></span></span><span class="hljs-tag"> } %&gt;</span></span></code> </pre><br><br>  Advantages of the approach: <br>  + all the necessary fields of the context Item are at hand, in the form of properties <br>  + contextual Item always has the right template <br>  + All standard site control checks for data availability are done in one place. <br>  + centralized access to the site settings for which similar wrappers are written <br>  + clean (minimum, missing) page code <br>  + full layout control <br>  Minuses <br>  - all mapping hands <br>  - the cost of extracting the names of fields / templates <br><br>  I hope this article will be useful for sitecore developers. </div><p>Source: <a href="https://habr.com/ru/post/154313/">https://habr.com/ru/post/154313/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../154301/index.html">Critical bug in CoreGraphics on iOS</a></li>
<li><a href="../154305/index.html">Required resources for game designers</a></li>
<li><a href="../154307/index.html">How to treat computer games</a></li>
<li><a href="../154309/index.html">Protecting Microsoft Hyper-V Server from Unauthorized Network Access</a></li>
<li><a href="../154311/index.html">How I Boost.Any with Boost.mpl was friends</a></li>
<li><a href="../154315/index.html">In-depth review of freshly baked Linux 3.6</a></li>
<li><a href="../154317/index.html">Meet the free and free Scada headset</a></li>
<li><a href="../154319/index.html">Popular about pseudo-elements: Before and: After</a></li>
<li><a href="../154321/index.html">GWT + Hibernate + Dispatch</a></li>
<li><a href="../154323/index.html">Granular restoration of virtualized application objects</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>