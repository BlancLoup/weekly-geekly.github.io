<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>OpenSceneGraph: build from source and Hello World</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 
 OpenSceneGraph (hereinafter OSG) is an open cross-platform framework written in C ++ and is a graphical engine that provides the progra...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>OpenSceneGraph: build from source and Hello World</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/py/ks/3w/pyks3wlvjf_zfef-sqocutbnimk.jpeg"><br><br><h1>  Introduction </h1><br>  <a href="http://www.openscenegraph.org/">OpenSceneGraph</a> (hereinafter OSG) is an open cross-platform framework written in C ++ and is a graphical engine that provides the programmer with an object interface to OpenGL.  In our country, this engine is not particularly popular, even on Habr√©, I saw only one <a href="https://habr.com/post/200890/">more or less decent publication about it</a> .  OSG is used abroad a lot where, for example, it is the basis for the free <a href="http://home.flightgear.org/">FlightGear</a> flight simulator, there is an open implementation of the game Morrowind, called <a href="https://openmw.org/ru/">OpenMW, the</a> development of which is also transferred to OSG from the <a href="https://www.ogre3d.org/">Ogre</a> engine.  The Russian-language documentation on it is vanishingly small, and among the English-speaking only a series of books from the developers can be noted: <a href="https://www.amazon.com/OpenSceneGraph-3-0-Beginners-Rui-Wang/dp/1849512825">OpenSceneGraph 3.0.</a>  <a href="https://www.amazon.com/OpenSceneGraph-3-0-Beginners-Rui-Wang/dp/1849512825">Beginner's Guide</a> and <a href="https://www.amazon.com/OpenSceneGraph-3-Cookbook-Rui-Wang/dp/184951688X">OpenSceneGraph 3. Cookbook</a> . <br><br>  Nevertheless, the engine is quite interesting for the following reasons: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li>  Open cross-platform implementation in C ++. <br></li><li>  Modular architecture. <br></li><li>  Extensibility due to the built-in plugin system. <br></li><li>  The possibility of multi-threaded processing of graphic data and built-in tools for its implementation <br></li><li>  Dynamic memory management via smart pointer mechanism <br></li></ol><br>  I think that Habr's readers will be interested in getting more familiar with this project.  Not be superfluous and the completion of the Russian-language knowledge base on OSG.  All materials that will be published by me on this topic are based on the book <a href="https://www.amazon.com/OpenSceneGraph-3-0-Beginners-Rui-Wang/dp/1849512825">OpenSceneGraph 3.0.</a>  <a href="https://www.amazon.com/OpenSceneGraph-3-0-Beginners-Rui-Wang/dp/1849512825">Beginner's Guide</a> , but not its translation, but rather the creative processing of the material presented there.  If you are interested in this topic, please under the cat. <br><a name="habracut"></a><br>  The only sure way to get the latest version of OSG on your machine is to build a library from source.  The existing binary installer for Windows is oriented towards the MS Visual C ++ compiler.  I, for my projects, need to use the GCC compiler, or rather its MinGW32 version, included in the Qt framework development tools.  Thus, we will need: <br><br><ol><li>  Installed and configured <a href="https://www.qt.io/">Qt framework</a> with MinGW32 compiler version 5.3 and IDE QtCreator <br></li><li>  <a href="https://git-scm.com/download/win">Git</a> Client <a href="https://git-scm.com/download/win">for Windows</a> <br></li><li>  <a href="https://cmake.org/download/">Make</a> utility <a href="https://cmake.org/download/">for windows</a> <br></li></ol><br>  The reader is assumed to be familiar with the QtCreator IDE and the qmake build system used in Qt projects.  In addition, it is assumed that the reader is familiar with the basics of using the Git version control system and has non-zero programming skills in principle. <br><br><h1>  1. Getting the OpenSceneGraph source code </h1><br>  Create a directory on your hard disk where we will build OSG, for example, using the D: \ OSG path <br><br><img src="https://habrastorage.org/webt/sg/mb/ei/sgmbeipbjg0a7rp8tjzru6yxesa.png"><br><br>  Go to this directory and drag the source files from the <a href="https://github.com/openscenegraph/OpenSceneGraph">official OSG repository on Github</a> <br><br><pre><code class="hljs php">D:\OSG&gt; git <span class="hljs-keyword"><span class="hljs-keyword">clone</span></span> https:<span class="hljs-comment"><span class="hljs-comment">//github.com/openscenegraph/OpenSceneGraph.git</span></span></code> </pre> <br>  The duration of the download process depends on how wide your Internet access channel is.  Sooner or later we will get a local copy of the OSG repository. <br><br>  After downloading the sources, let's create a number of directory build-win32-debug <br><br><img src="https://habrastorage.org/webt/ah/cs/ug/ahcsugq_vwdefv1f_azxmpyjcc8.png"><br><br>  In this directory we will build the OSG debugging kit.  But before <br><br><h1>  2. Configure cmake </h1><br>  For cmake to work correctly, we need to edit <strong>the install-cmake \ share \ cmake-3.13 \ Modules \ CMakeMinGWFindMake.cmake file</strong> .  By default it looks like this. <br><br><pre> <code class="cmake hljs"><span class="hljs-comment"><span class="hljs-comment"># Distributed under the OSI-approved BSD 3-Clause License. See accompanying # file Copyright.txt or https://cmake.org/licensing for details. find_program(CMAKE_MAKE_PROGRAM mingw32-make.exe PATHS "[HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\MinGW;InstallLocation]/bin" c:/MinGW/bin /MinGW/bin "[HKEY_CURRENT_USER\\Software\\CodeBlocks;Path]/MinGW/bin" ) find_program(CMAKE_SH sh.exe ) if(CMAKE_SH) message(FATAL_ERROR "sh.exe was found in your PATH, here:\n${CMAKE_SH}\nFor MinGW make to work correctly sh.exe must NOT be in your path.\nRun cmake from a shell that does not have sh.exe in your PATH.\nIf you want to use a UNIX shell, then use MSYS Makefiles.\n") set(CMAKE_MAKE_PROGRAM NOTFOUND) endif() mark_as_advanced(CMAKE_MAKE_PROGRAM CMAKE_SH)</span></span></code> </pre><br>  Let's comment out a few lines in it, so that the utility does not try to search the Unix shell in our system, and, having not found it, ends with an error <br><br><pre> <code class="cmake hljs"><span class="hljs-comment"><span class="hljs-comment"># Distributed under the OSI-approved BSD 3-Clause License. See accompanying # file Copyright.txt or https://cmake.org/licensing for details. find_program(CMAKE_MAKE_PROGRAM mingw32-make.exe PATHS "[HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\MinGW;InstallLocation]/bin" c:/MinGW/bin /MinGW/bin "[HKEY_CURRENT_USER\\Software\\CodeBlocks;Path]/MinGW/bin" ) #find_program(CMAKE_SH sh.exe ) #if(CMAKE_SH) # message(FATAL_ERROR "sh.exe was found in your PATH, here:\n${CMAKE_SH}\nFor MinGW make to work correctly sh.exe must NOT be in your path.\nRun cmake from a shell that does not have sh.exe in your PATH.\nIf you want to use a UNIX shell, then use MSYS Makefiles.\n") # set(CMAKE_MAKE_PROGRAM NOTFOUND) #endif() mark_as_advanced(CMAKE_MAKE_PROGRAM CMAKE_SH)</span></span></code> </pre><br><h1>  3. Building and installing debug and release versions of the engine </h1><br>  Now we run the cmd command interpreter, the shortcut to which is on the path Start-&gt; Programs-&gt; Qt-&gt; Qt 5.11.2-&gt; Qt 5.11.2 for Desktop (MinGW 5.3.0 32bit) <br><br><img src="https://habrastorage.org/webt/rp/wz/1n/rpwz1njpkzuicu-9iw2mabmzvbi.png"><br><br>  A running command line session configures the entire environment required for the mingw32 build tools to work.  Moving to the OSG source directory <br><br><pre> <code class="hljs tex">C:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Qt</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Qt</span></span></span></span>5.11.2<span class="hljs-tag"><span class="hljs-tag">\</span></span>5.11.2<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mingw</span></span></span></span>53_32&gt;D: D:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">&gt;</span></span></span></span> cd OSG<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">build</span></span></span></span>-win32-debug</code> </pre><br>  Give the command <br><br><pre> <code class="hljs tex">D:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">OSG</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">build</span></span></span></span>-win32-debug&gt;cmake -G "MinGW Makefiles" -DCMAKE_INSTALL_PREFIX=E:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Apps</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">OSG</span></span></span></span> -DCMAKE_BUILD_TYPE=DEBUG ../OpenSceneGraph</code> </pre><br>  Let us analyze the meaning of the parameters in more detail: <br><br><ul><li>  -G "MinGW Makefiles" - indicates that you need to generate a Makefile for the mingw32-make utility <br></li><li>  -DCMAKE_INSTALL_PREFIX = E: \ Apps \ OSG - set the path that OSG will be installed on <br></li><li>  -DCMAKE_BUILD_TYPE = DEBUG - indicates that the debug version of the engine should be built. <br></li></ul><br>  Executing the command checks the readiness of the environment for the assembly, generates the assembly script and the next exhaust <br><br><div class="spoiler">  <b class="spoiler_title">Cmake exhaust when setting up an OSG assembly</b> <div class="spoiler_text"><pre> <code class="hljs dos">-- The C compiler identification is GNU <span class="hljs-number"><span class="hljs-number">5</span></span>.<span class="hljs-number"><span class="hljs-number">3</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span> -- The CXX compiler identification is GNU <span class="hljs-number"><span class="hljs-number">5</span></span>.<span class="hljs-number"><span class="hljs-number">3</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span> -- Check <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> working C compiler: C:/Qt/Qt5.<span class="hljs-number"><span class="hljs-number">11</span></span>.<span class="hljs-number"><span class="hljs-number">2</span></span>/Tools/mingw530_32/bin/gcc.exe -- Check <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> working C compiler: C:/Qt/Qt5.<span class="hljs-number"><span class="hljs-number">11</span></span>.<span class="hljs-number"><span class="hljs-number">2</span></span>/Tools/mingw530_32/bin/gcc.exe -- works -- Detecting C compiler ABI info -- Detecting C compiler ABI info - done -- Detecting C compile features -- Detecting C compile features - done -- Check <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> working CXX compiler: C:/Qt/Qt5.<span class="hljs-number"><span class="hljs-number">11</span></span>.<span class="hljs-number"><span class="hljs-number">2</span></span>/Tools/mingw530_32/bin/g++.exe -- Check <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> working CXX compiler: C:/Qt/Qt5.<span class="hljs-number"><span class="hljs-number">11</span></span>.<span class="hljs-number"><span class="hljs-number">2</span></span>/Tools/mingw530_32/bin/g++.exe -- works -- Detecting CXX compiler ABI info -- Detecting CXX compiler ABI info - done -- Detecting CXX compile features -- Detecting CXX compile features - done -- Looking <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> pthread.h -- Looking <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> pthread.h - found -- Looking <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> pthread_create -- Looking <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> pthread_create - found -- Found Threads: TRUE -- Found OpenGL: opengl32 -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> EGL (missing: EGL_INCLUDE_DIR) -- Checking windows version... -- Performing Test GL_HEADER_HAS_GLINT64 -- Performing Test GL_HEADER_HAS_GLINT64 - Failed -- Performing Test GL_HEADER_HAS_GLUINT64 -- Performing Test GL_HEADER_HAS_GLUINT64 - Failed -- <span class="hljs-number"><span class="hljs-number">32</span></span> bit architecture detected -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> Freetype (missing: FREETYPE_LIBRARY FREETYPE_INCLUDE_DIRS) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> JPEG (missing: JPEG_LIBRARY JPEG_INCLUDE_DIR) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> Jasper (missing: JASPER_LIBRARIES JASPER_INCLUDE_DIR JPEG_LIBRARIES) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> LibXml2 (missing: LIBXML2_LIBRARY LIBXML2_INCLUDE_DIR) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> ZLIB (missing: ZLIB_INCLUDE_DIR) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> ZLIB (missing: ZLIB_INCLUDE_DIR) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> GDAL (missing: GDAL_LIBRARY GDAL_INCLUDE_DIR) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> PkgConfig (missing: PKG_CONFIG_EXECUTABLE) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> CURL (missing: CURL_LIBRARY CURL_INCLUDE_DIR) -- Trying to <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> DCMTK expecting DCMTKConfig.cmake -- Trying to <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> DCMTK expecting DCMTKConfig.cmake - failed -- Trying to <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> DCMTK relying on FindDCMTK.cmake -- Please <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> DCMTK_DIR and re-run configure (missing: DCMTK_config_INCLUDE_DIR DCMTK_dcmdata_INCLUDE_DIR DCMTK_dcmimage_INCLUDE_DIR DCMTK_dcmimgle_INCLUDE_DIR DCMTK_dcmjpeg_INCLUDE_DIR DCMTK_dcmjpls_INCLUDE_DIR DCMTK_dcmnet_INCLUDE_DIR DCMTK_dcmpstat_INCLUDE_DIR DCMTK_dcmqrdb_INCLUDE_DIR DCMTK_dcmsign_INCLUDE_DIR DCMTK_dcmsr_INCLUDE_DIR DCMTK_dcmtls_INCLUDE_DIR DCMTK_ofstd_INCLUDE_DIR DCMTK_oflog_INCLUDE_DIR) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> PkgConfig (missing: PKG_CONFIG_EXECUTABLE) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> GStreamer (missing: GSTREAMER_INCLUDE_DIRS GSTREAMER_LIBRARIES GSTREAMER_VERSION GSTREAMER_BASE_INCLUDE_DIRS GSTREAMER_BASE_LIBRARIES GSTREAMER_APP_INCLUDE_DIRS GSTREAMER_APP_LIBRARIES GSTREAMER_PBUTILS_INCLUDE_DIRS GSTREAMER_PBUTILS_LIBRARIES) (found version "") -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> SDL2 (missing: SDL2_LIBRARY SDL2_INCLUDE_DIR) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> SDL (missing: SDL_LIBRARY SDL_INCLUDE_DIR) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> PkgConfig (missing: PKG_CONFIG_EXECUTABLE) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> PkgConfig (missing: PKG_CONFIG_EXECUTABLE) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> PkgConfig (missing: PKG_CONFIG_EXECUTABLE) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> JPEG (missing: JPEG_LIBRARY JPEG_INCLUDE_DIR) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> ZLIB (missing: ZLIB_INCLUDE_DIR) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> PNG (missing: PNG_LIBRARY PNG_PNG_INCLUDE_DIR) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> TIFF (missing: TIFF_LIBRARY TIFF_INCLUDE_DIR) -- g++ version <span class="hljs-number"><span class="hljs-number">5</span></span>.<span class="hljs-number"><span class="hljs-number">3</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span> -- Performing Test _OPENTHREADS_ATOMIC_USE_GCC_BUILTINS -- Performing Test _OPENTHREADS_ATOMIC_USE_GCC_BUILTINS - Success -- Performing Test _OPENTHREADS_ATOMIC_USE_MIPOSPRO_BUILTINS -- Performing Test _OPENTHREADS_ATOMIC_USE_MIPOSPRO_BUILTINS - Failed -- Performing Test _OPENTHREADS_ATOMIC_USE_SUN -- Performing Test _OPENTHREADS_ATOMIC_USE_SUN - Failed -- Performing Test _OPENTHREADS_ATOMIC_USE_WIN32_INTERLOCKED -- Performing Test _OPENTHREADS_ATOMIC_USE_WIN32_INTERLOCKED - Success -- Performing Test _OPENTHREADS_ATOMIC_USE_BSD_ATOMIC -- Performing Test _OPENTHREADS_ATOMIC_USE_BSD_ATOMIC - Failed -- Configuring done -- Generating done -- Build files have been written to: D:/OSG/build-win32-debug</code> configure (missing: DCMTK_config_INCLUDE_DIR DCMTK_dcmdata_INCLUDE_DIR DCMTK_dcmimage_INCLUDE_DIR DCMTK_dcmimgle_INCLUDE_DIR DCMTK_dcmjpeg_INCLUDE_DIR DCMTK_dcmjpls_INCLUDE_DIR DCMTK_dcmnet_INCLUDE_DIR DCMTK_dcmpstat_INCLUDE_DIR DCMTK_dcmqrdb_INCLUDE_DIR DCMTK_dcmsign_INCLUDE_DIR DCMTK_dcmsr_INCLUDE_DIR DCMTK_dcmtls_INCLUDE_DIR DCMTK_ofstd_INCLUDE_DIR DCMTK_oflog_INCLUDE_DIR) <code class="hljs dos">-- The C compiler identification is GNU <span class="hljs-number"><span class="hljs-number">5</span></span>.<span class="hljs-number"><span class="hljs-number">3</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span> -- The CXX compiler identification is GNU <span class="hljs-number"><span class="hljs-number">5</span></span>.<span class="hljs-number"><span class="hljs-number">3</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span> -- Check <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> working C compiler: C:/Qt/Qt5.<span class="hljs-number"><span class="hljs-number">11</span></span>.<span class="hljs-number"><span class="hljs-number">2</span></span>/Tools/mingw530_32/bin/gcc.exe -- Check <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> working C compiler: C:/Qt/Qt5.<span class="hljs-number"><span class="hljs-number">11</span></span>.<span class="hljs-number"><span class="hljs-number">2</span></span>/Tools/mingw530_32/bin/gcc.exe -- works -- Detecting C compiler ABI info -- Detecting C compiler ABI info - done -- Detecting C compile features -- Detecting C compile features - done -- Check <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> working CXX compiler: C:/Qt/Qt5.<span class="hljs-number"><span class="hljs-number">11</span></span>.<span class="hljs-number"><span class="hljs-number">2</span></span>/Tools/mingw530_32/bin/g++.exe -- Check <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> working CXX compiler: C:/Qt/Qt5.<span class="hljs-number"><span class="hljs-number">11</span></span>.<span class="hljs-number"><span class="hljs-number">2</span></span>/Tools/mingw530_32/bin/g++.exe -- works -- Detecting CXX compiler ABI info -- Detecting CXX compiler ABI info - done -- Detecting CXX compile features -- Detecting CXX compile features - done -- Looking <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> pthread.h -- Looking <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> pthread.h - found -- Looking <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> pthread_create -- Looking <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> pthread_create - found -- Found Threads: TRUE -- Found OpenGL: opengl32 -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> EGL (missing: EGL_INCLUDE_DIR) -- Checking windows version... -- Performing Test GL_HEADER_HAS_GLINT64 -- Performing Test GL_HEADER_HAS_GLINT64 - Failed -- Performing Test GL_HEADER_HAS_GLUINT64 -- Performing Test GL_HEADER_HAS_GLUINT64 - Failed -- <span class="hljs-number"><span class="hljs-number">32</span></span> bit architecture detected -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> Freetype (missing: FREETYPE_LIBRARY FREETYPE_INCLUDE_DIRS) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> JPEG (missing: JPEG_LIBRARY JPEG_INCLUDE_DIR) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> Jasper (missing: JASPER_LIBRARIES JASPER_INCLUDE_DIR JPEG_LIBRARIES) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> LibXml2 (missing: LIBXML2_LIBRARY LIBXML2_INCLUDE_DIR) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> ZLIB (missing: ZLIB_INCLUDE_DIR) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> ZLIB (missing: ZLIB_INCLUDE_DIR) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> GDAL (missing: GDAL_LIBRARY GDAL_INCLUDE_DIR) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> PkgConfig (missing: PKG_CONFIG_EXECUTABLE) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> CURL (missing: CURL_LIBRARY CURL_INCLUDE_DIR) -- Trying to <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> DCMTK expecting DCMTKConfig.cmake -- Trying to <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> DCMTK expecting DCMTKConfig.cmake - failed -- Trying to <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> DCMTK relying on FindDCMTK.cmake -- Please <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> DCMTK_DIR and re-run configure (missing: DCMTK_config_INCLUDE_DIR DCMTK_dcmdata_INCLUDE_DIR DCMTK_dcmimage_INCLUDE_DIR DCMTK_dcmimgle_INCLUDE_DIR DCMTK_dcmjpeg_INCLUDE_DIR DCMTK_dcmjpls_INCLUDE_DIR DCMTK_dcmnet_INCLUDE_DIR DCMTK_dcmpstat_INCLUDE_DIR DCMTK_dcmqrdb_INCLUDE_DIR DCMTK_dcmsign_INCLUDE_DIR DCMTK_dcmsr_INCLUDE_DIR DCMTK_dcmtls_INCLUDE_DIR DCMTK_ofstd_INCLUDE_DIR DCMTK_oflog_INCLUDE_DIR) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> PkgConfig (missing: PKG_CONFIG_EXECUTABLE) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> GStreamer (missing: GSTREAMER_INCLUDE_DIRS GSTREAMER_LIBRARIES GSTREAMER_VERSION GSTREAMER_BASE_INCLUDE_DIRS GSTREAMER_BASE_LIBRARIES GSTREAMER_APP_INCLUDE_DIRS GSTREAMER_APP_LIBRARIES GSTREAMER_PBUTILS_INCLUDE_DIRS GSTREAMER_PBUTILS_LIBRARIES) (found version "") -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> SDL2 (missing: SDL2_LIBRARY SDL2_INCLUDE_DIR) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> SDL (missing: SDL_LIBRARY SDL_INCLUDE_DIR) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> PkgConfig (missing: PKG_CONFIG_EXECUTABLE) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> PkgConfig (missing: PKG_CONFIG_EXECUTABLE) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> PkgConfig (missing: PKG_CONFIG_EXECUTABLE) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> JPEG (missing: JPEG_LIBRARY JPEG_INCLUDE_DIR) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> ZLIB (missing: ZLIB_INCLUDE_DIR) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> PNG (missing: PNG_LIBRARY PNG_PNG_INCLUDE_DIR) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> TIFF (missing: TIFF_LIBRARY TIFF_INCLUDE_DIR) -- g++ version <span class="hljs-number"><span class="hljs-number">5</span></span>.<span class="hljs-number"><span class="hljs-number">3</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span> -- Performing Test _OPENTHREADS_ATOMIC_USE_GCC_BUILTINS -- Performing Test _OPENTHREADS_ATOMIC_USE_GCC_BUILTINS - Success -- Performing Test _OPENTHREADS_ATOMIC_USE_MIPOSPRO_BUILTINS -- Performing Test _OPENTHREADS_ATOMIC_USE_MIPOSPRO_BUILTINS - Failed -- Performing Test _OPENTHREADS_ATOMIC_USE_SUN -- Performing Test _OPENTHREADS_ATOMIC_USE_SUN - Failed -- Performing Test _OPENTHREADS_ATOMIC_USE_WIN32_INTERLOCKED -- Performing Test _OPENTHREADS_ATOMIC_USE_WIN32_INTERLOCKED - Success -- Performing Test _OPENTHREADS_ATOMIC_USE_BSD_ATOMIC -- Performing Test _OPENTHREADS_ATOMIC_USE_BSD_ATOMIC - Failed -- Configuring done -- Generating done -- Build files have been written to: D:/OSG/build-win32-debug</code> GSTREAMER_INCLUDE_DIRS GSTREAMER_LIBRARIES GSTREAMER_VERSION GSTREAMER_BASE_INCLUDE_DIRS GSTREAMER_BASE_LIBRARIES GSTREAMER_APP_INCLUDE_DIRS GSTREAMER_APP_LIBRARIES GSTREAMER_PBUTILS_INCLUDE_DIRS GSTREAMER_PBUTILS_LIBRARIES) (found version "") <code class="hljs dos">-- The C compiler identification is GNU <span class="hljs-number"><span class="hljs-number">5</span></span>.<span class="hljs-number"><span class="hljs-number">3</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span> -- The CXX compiler identification is GNU <span class="hljs-number"><span class="hljs-number">5</span></span>.<span class="hljs-number"><span class="hljs-number">3</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span> -- Check <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> working C compiler: C:/Qt/Qt5.<span class="hljs-number"><span class="hljs-number">11</span></span>.<span class="hljs-number"><span class="hljs-number">2</span></span>/Tools/mingw530_32/bin/gcc.exe -- Check <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> working C compiler: C:/Qt/Qt5.<span class="hljs-number"><span class="hljs-number">11</span></span>.<span class="hljs-number"><span class="hljs-number">2</span></span>/Tools/mingw530_32/bin/gcc.exe -- works -- Detecting C compiler ABI info -- Detecting C compiler ABI info - done -- Detecting C compile features -- Detecting C compile features - done -- Check <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> working CXX compiler: C:/Qt/Qt5.<span class="hljs-number"><span class="hljs-number">11</span></span>.<span class="hljs-number"><span class="hljs-number">2</span></span>/Tools/mingw530_32/bin/g++.exe -- Check <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> working CXX compiler: C:/Qt/Qt5.<span class="hljs-number"><span class="hljs-number">11</span></span>.<span class="hljs-number"><span class="hljs-number">2</span></span>/Tools/mingw530_32/bin/g++.exe -- works -- Detecting CXX compiler ABI info -- Detecting CXX compiler ABI info - done -- Detecting CXX compile features -- Detecting CXX compile features - done -- Looking <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> pthread.h -- Looking <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> pthread.h - found -- Looking <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> pthread_create -- Looking <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> pthread_create - found -- Found Threads: TRUE -- Found OpenGL: opengl32 -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> EGL (missing: EGL_INCLUDE_DIR) -- Checking windows version... -- Performing Test GL_HEADER_HAS_GLINT64 -- Performing Test GL_HEADER_HAS_GLINT64 - Failed -- Performing Test GL_HEADER_HAS_GLUINT64 -- Performing Test GL_HEADER_HAS_GLUINT64 - Failed -- <span class="hljs-number"><span class="hljs-number">32</span></span> bit architecture detected -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> Freetype (missing: FREETYPE_LIBRARY FREETYPE_INCLUDE_DIRS) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> JPEG (missing: JPEG_LIBRARY JPEG_INCLUDE_DIR) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> Jasper (missing: JASPER_LIBRARIES JASPER_INCLUDE_DIR JPEG_LIBRARIES) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> LibXml2 (missing: LIBXML2_LIBRARY LIBXML2_INCLUDE_DIR) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> ZLIB (missing: ZLIB_INCLUDE_DIR) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> ZLIB (missing: ZLIB_INCLUDE_DIR) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> GDAL (missing: GDAL_LIBRARY GDAL_INCLUDE_DIR) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> PkgConfig (missing: PKG_CONFIG_EXECUTABLE) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> CURL (missing: CURL_LIBRARY CURL_INCLUDE_DIR) -- Trying to <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> DCMTK expecting DCMTKConfig.cmake -- Trying to <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> DCMTK expecting DCMTKConfig.cmake - failed -- Trying to <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> DCMTK relying on FindDCMTK.cmake -- Please <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> DCMTK_DIR and re-run configure (missing: DCMTK_config_INCLUDE_DIR DCMTK_dcmdata_INCLUDE_DIR DCMTK_dcmimage_INCLUDE_DIR DCMTK_dcmimgle_INCLUDE_DIR DCMTK_dcmjpeg_INCLUDE_DIR DCMTK_dcmjpls_INCLUDE_DIR DCMTK_dcmnet_INCLUDE_DIR DCMTK_dcmpstat_INCLUDE_DIR DCMTK_dcmqrdb_INCLUDE_DIR DCMTK_dcmsign_INCLUDE_DIR DCMTK_dcmsr_INCLUDE_DIR DCMTK_dcmtls_INCLUDE_DIR DCMTK_ofstd_INCLUDE_DIR DCMTK_oflog_INCLUDE_DIR) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> PkgConfig (missing: PKG_CONFIG_EXECUTABLE) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> GStreamer (missing: GSTREAMER_INCLUDE_DIRS GSTREAMER_LIBRARIES GSTREAMER_VERSION GSTREAMER_BASE_INCLUDE_DIRS GSTREAMER_BASE_LIBRARIES GSTREAMER_APP_INCLUDE_DIRS GSTREAMER_APP_LIBRARIES GSTREAMER_PBUTILS_INCLUDE_DIRS GSTREAMER_PBUTILS_LIBRARIES) (found version "") -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> SDL2 (missing: SDL2_LIBRARY SDL2_INCLUDE_DIR) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> SDL (missing: SDL_LIBRARY SDL_INCLUDE_DIR) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> PkgConfig (missing: PKG_CONFIG_EXECUTABLE) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> PkgConfig (missing: PKG_CONFIG_EXECUTABLE) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> PkgConfig (missing: PKG_CONFIG_EXECUTABLE) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> JPEG (missing: JPEG_LIBRARY JPEG_INCLUDE_DIR) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> ZLIB (missing: ZLIB_INCLUDE_DIR) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> PNG (missing: PNG_LIBRARY PNG_PNG_INCLUDE_DIR) -- Could <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> TIFF (missing: TIFF_LIBRARY TIFF_INCLUDE_DIR) -- g++ version <span class="hljs-number"><span class="hljs-number">5</span></span>.<span class="hljs-number"><span class="hljs-number">3</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span> -- Performing Test _OPENTHREADS_ATOMIC_USE_GCC_BUILTINS -- Performing Test _OPENTHREADS_ATOMIC_USE_GCC_BUILTINS - Success -- Performing Test _OPENTHREADS_ATOMIC_USE_MIPOSPRO_BUILTINS -- Performing Test _OPENTHREADS_ATOMIC_USE_MIPOSPRO_BUILTINS - Failed -- Performing Test _OPENTHREADS_ATOMIC_USE_SUN -- Performing Test _OPENTHREADS_ATOMIC_USE_SUN - Failed -- Performing Test _OPENTHREADS_ATOMIC_USE_WIN32_INTERLOCKED -- Performing Test _OPENTHREADS_ATOMIC_USE_WIN32_INTERLOCKED - Success -- Performing Test _OPENTHREADS_ATOMIC_USE_BSD_ATOMIC -- Performing Test _OPENTHREADS_ATOMIC_USE_BSD_ATOMIC - Failed -- Configuring done -- Generating done -- Build files have been written to: D:/OSG/build-win32-debug</code> </pre><br></div></div><br><br>  tells us that you can proceed to the assembly.  Give the command <br><br><pre> <code class="hljs tex">D:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">OSG</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">build</span></span></span></span>-win32-debug&gt;mingw32-make -j9</code> </pre><br>  You can, as in my example, specify the number of threads of the assembly, if you have a multicore processor (the -j switch).  The build process begins, taking about eight minutes on my computer. <br><br><img src="https://habrastorage.org/webt/ly/ng/_7/lyng_7y5k6a8zqm8207-3xeuufg.png"><br><br>  At the end of the assembly install the library <br><br><pre> <code class="hljs tex">D:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">OSG</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">build</span></span></span></span>-win32-debug&gt; mingw32-make install</code> </pre><br>  after executing the command, we find the library installed by the path we set in advance <br><br><img src="https://habrastorage.org/webt/vl/no/n8/vlnon8cxexvn6lfab93h5haucu8.png"><br><br>  Now we will build the release version of the engine by creating another build directory <br><br><pre> <code class="hljs tex">D:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">OSG</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">build</span></span></span></span>-win32-debug&gt;cd .. D:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">OSG</span></span></span></span>&gt; mkdir build-win32-release D:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">OSG</span></span></span></span>&gt;cd build-win32-release D:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">OSG</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">build</span></span></span></span>-win32-release&gt; cmake -G "MinGW Makefiles" -DCMAKE_INSTALL_PREFIX=E:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Apps</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">OSG</span></span></span></span> ../OpenSceneGraph D:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">OSG</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">build</span></span></span></span>-win32-release&gt; mingw32-make -j9 D:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">OSG</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">build</span></span></span></span>-win32-release&gt; mingw32-make install</code> </pre><br><h1>  4. Setting Environment Variables </h1><br>  The location of the OSG libraries after installation can be any - it is determined by the wishes of a particular user and his capabilities for placing files on the computer.  At the same time, when setting up a specific project that uses this library, it requires that it strives for some unification, abstracting from the specific location of the libraries. <br><br>  Create several system environment variables indicating the paths to libraries, header files, and OSG plugins.  In my example, it will look like this. <br><br><img src="https://habrastorage.org/webt/ef/gn/y1/efgny1zlztetepyi5wazz5o2pms.png"><br><br>  You need to create variables whose names are circled in red in the screenshot.  After creating the variables, in order for them to be visible by the development tools, in particular, QtCreator needs to be at least logged in to the system (exit and log in as the current user) or, perhaps, to reboot the system (this is Windows!) <br><br>  After this, the procedure for installing OSG on our computer can be considered finished. <br><br><h1>  5. Writing Hello World in QtCreator </h1><br>  Familiarity with the graphics engine OpenSceneGraph begin with the simplest example, as is customary in programming with some "Hello world!". <br><br>  Before writing any code, we will set up our project for the qmake build system, which we will use throughout the cycle of articles.  In the file system location of interest to us, create the following directory structure <br><br><pre> <code class="hljs ruby">OSG-lessons/ <span class="hljs-params"><span class="hljs-params">|-data/ |</span></span>-OSG-lessons/ <span class="hljs-params"><span class="hljs-params">| |</span></span>-hello/ <span class="hljs-params"><span class="hljs-params">|-</span><span class="hljs-keyword"><span class="hljs-params"><span class="hljs-keyword">include</span></span></span><span class="hljs-params">/ |</span></span>-src/</code> </pre><br>  In the hello directory, create a file <a href="http://hello.pro/">hello.pro with the</a> following content <br><br><div class="spoiler">  <b class="spoiler_title">Full text hello.pro</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">TEMPLATE = app TARGET = hello DESTDIR = ../../bin win32 { OSG_LIB_DIRECTORY = $$<span class="ruby"><span class="ruby">(OSG_BIN_PATH) OSG_INCLUDE_DIRECTORY = $$</span></span>(OSG_INCLUDE_PATH) CONFIG(<span class="hljs-keyword"><span class="hljs-keyword">debug</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">debug</span></span>|<span class="hljs-keyword"><span class="hljs-keyword">release</span></span>) { TARGET = $$<span class="pgsql"><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">join</span></span></span><span class="pgsql">(TARGET,,,_d) LIBS += -L$$</span><span class="undefined"></span></span><span class="pgsql"><span class="undefined"></span></span>OSG_LIB_DIRECTORY -losgd LIBS += -L$$<span class="ruby"><span class="ruby">OSG_LIB_DIRECTORY -losgViewerd LIBS += -L$$</span></span>OSG_LIB_DIRECTORY -losgDBd LIBS += -L$$<span class="ruby"><span class="ruby">OSG_LIB_DIRECTORY -lOpenThreadsd } </span><span class="hljs-keyword"><span class="ruby"><span class="hljs-keyword">else</span></span></span><span class="ruby"> { LIBS += -L$$</span></span>OSG_LIB_DIRECTORY -losg LIBS += -L$$<span class="ruby"><span class="ruby">OSG_LIB_DIRECTORY -losgViewer LIBS += -L$$</span></span>OSG_LIB_DIRECTORY -losgDB LIBS += -L$$<span class="ruby"><span class="ruby">OSG_LIB_DIRECTORY -lOpenThreads } INCLUDEPATH += $$</span></span>OSG_INCLUDE_DIRECTORY } unix { CONFIG(<span class="hljs-keyword"><span class="hljs-keyword">debug</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">debug</span></span>|<span class="hljs-keyword"><span class="hljs-keyword">release</span></span>) { TARGET = $$<span class="pgsql"><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">join</span></span></span><span class="pgsql">(TARGET,,,_d) LIBS += -losgd LIBS += -losgViewerd LIBS += -losgDBd LIBS += -lOpenThreadsd } </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">else</span></span></span><span class="pgsql"> { LIBS += -losg LIBS += -losgViewer LIBS += -losgDB LIBS += -lOpenThreads } } INCLUDEPATH += ./</span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">include</span></span></span><span class="pgsql"> HEADERS += $$</span><span class="undefined"></span></span><span class="pgsql"><span class="undefined"></span></span>files(./<span class="hljs-keyword"><span class="hljs-keyword">include</span></span><span class="hljs-comment"><span class="hljs-comment">/*.h) SOURCES += $$files(./src/*.cpp)</span></span></code> </pre><br>  Let us examine these letters in more detail. <br><br><pre> <code class="cmake hljs">TEMPLATE = app <span class="hljs-keyword"><span class="hljs-keyword">TARGET</span></span> = hello DESTDIR = ../../bin</code> </pre><br></div></div><br>  Variables define the project template (app), the name of the executable file (hello), and the directory where the executable file is placed after the build. <br><br><pre> <code class="hljs pgsql">win32 { OSG_LIB_DIRECTORY = $$<span class="ruby"><span class="ruby">(OSG_BIN_PATH) OSG_INCLUDE_DIRECTORY = $$</span></span>(OSG_INCLUDE_PATH) CONFIG(<span class="hljs-keyword"><span class="hljs-keyword">debug</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">debug</span></span>|<span class="hljs-keyword"><span class="hljs-keyword">release</span></span>) { TARGET = $$<span class="pgsql"><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">join</span></span></span><span class="pgsql">(TARGET,,,_d) LIBS += -L$$</span><span class="undefined"></span></span><span class="pgsql"><span class="undefined"></span></span>OSG_LIB_DIRECTORY -losgd LIBS += -L$$<span class="ruby"><span class="ruby">OSG_LIB_DIRECTORY -losgViewerd LIBS += -L$$</span></span>OSG_LIB_DIRECTORY -losgDBd LIBS += -L$$<span class="ruby"><span class="ruby">OSG_LIB_DIRECTORY -lOpenThreadsd } </span><span class="hljs-keyword"><span class="ruby"><span class="hljs-keyword">else</span></span></span><span class="ruby"> { LIBS += -L$$</span></span>OSG_LIB_DIRECTORY -losg LIBS += -L$$<span class="ruby"><span class="ruby">OSG_LIB_DIRECTORY -losgViewer LIBS += -L$$</span></span>OSG_LIB_DIRECTORY -losgDB LIBS += -L$$<span class="ruby"><span class="ruby">OSG_LIB_DIRECTORY -lOpenThreads } INCLUDEPATH += $$</span></span>OSG_INCLUDE_DIRECTORY }</code> </pre><br>  Depending on the OS where the project is going, we define variables indicating the paths to the directories of libraries and OSG header files.  This is where the OSG_BIN_PATH and OSG_INCLUDE_PATH environment variables come in handy - now it doesn't matter where the OSG library is installed.  Anyone wishing to work with this project on their computer will simply register the corresponding environment variables in their system without editing the build script. <br><br><pre> <code class="hljs pgsql">CONFIG(<span class="hljs-keyword"><span class="hljs-keyword">debug</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">debug</span></span>|<span class="hljs-keyword"><span class="hljs-keyword">release</span></span>) { TARGET = $$<span class="pgsql"><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">join</span></span></span><span class="pgsql">(TARGET,,,_d) LIBS += -L$$</span><span class="undefined"></span></span><span class="pgsql"><span class="undefined"></span></span>OSG_LIB_DIRECTORY -losgd LIBS += -L$$<span class="ruby"><span class="ruby">OSG_LIB_DIRECTORY -losgViewerd LIBS += -L$$</span></span>OSG_LIB_DIRECTORY -losgDBd LIBS += -L$$<span class="ruby"><span class="ruby">OSG_LIB_DIRECTORY -lOpenThreadsd } </span><span class="hljs-keyword"><span class="ruby"><span class="hljs-keyword">else</span></span></span><span class="ruby"> { LIBS += -L$$</span></span>OSG_LIB_DIRECTORY -losg LIBS += -L$$<span class="ruby"><span class="ruby">OSG_LIB_DIRECTORY -losgViewer LIBS += -L$$</span></span>OSG_LIB_DIRECTORY -losgDB LIBS += -L$$<span class="undefined"><span class="undefined">OSG_LIB_DIRECTORY -lOpenThreads }</span></span></code> </pre><br>  We write the script for assembly in unix-like OS <br><br><pre> <code class="hljs pgsql">unix { CONFIG(<span class="hljs-keyword"><span class="hljs-keyword">debug</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">debug</span></span>|<span class="hljs-keyword"><span class="hljs-keyword">release</span></span>) { TARGET = $$<span class="pgsql"><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">join</span></span></span><span class="pgsql">(TARGET,,,_d) LIBS += -losgd LIBS += -losgViewerd LIBS += -losgDBd LIBS += -lOpenThreadsd } </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">else</span></span></span><span class="pgsql"> { LIBS += -losg LIBS += -losgViewer LIBS += -losgDB LIBS += -lOpenThreads } }</span></span></code> </pre><br>  Here we customize the name of the executable file and specify the libraries that should be linked with our program for various build options: both debug and release.  OSG debug libraries have the suffix "d" after the file name.  The suffix "_d" will be added to the executable file of the project in order to distinguish the debug version from the release version. <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">INCLUDEPATH</span></span> += $<span class="hljs-variable"><span class="hljs-variable">$OSG_INCLUDE_DIRECTORY</span></span> INCLUDEPATH += ./include HEADERS += $<span class="hljs-variable"><span class="hljs-variable">$files</span></span>(./include/<span class="hljs-regexp"><span class="hljs-regexp">*.h</span></span>) SOURCES += $<span class="hljs-variable"><span class="hljs-variable">$files</span></span>(./src/<span class="hljs-regexp"><span class="hljs-regexp">*.cpp</span></span>)</code> </pre><br>  Finally, we define the search paths for the header files and the files included in the project tree.  Create the main.h file in the include / directory, and the main.cpp file in the src / directory.  Open this project in QtCreator and set it up as shown in the screenshot. <br><br><img src="https://habrastorage.org/webt/q4/lv/ck/q4lvckaswfcv8kd77xinb5z5yfu.png"><br><br>  After the opening of the project will see the following picture <br><br><img src="https://habrastorage.org/webt/v2/rj/d9/v2rjd9w2dbadhc7ewfezgrvecgk.png"><br><br>  We write this code in the main.h file <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifndef</span></span></span><span class="hljs-meta"> MAIN_H #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> MAIN_H #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;osgDB/ReadFile&gt; #include &lt;osgViewer/Viewer&gt; #endif</span></span></span></span></code> </pre><br>  Next, we implement the main body of the program in the main.cpp file <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"main.h"</span></span></span><span class="hljs-meta"> int main(int argc, char *argv[]) { (void) argc; (void) argv; osg::ref_ptr</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;osg::Node&gt; root = osgDB::readNodeFile("../data/cessna.osg"); osgViewer::Viewer viewer; viewer.setSceneData(root.get()); return viewer.run(); }</span></span></span></span></code> </pre><br>  The file with the model aircraft must be copied to the data / directory.  This file, as well as much of what will be used in this series of articles, can be downloaded from <a href="https://github.com/openscenegraph/OpenSceneGraph-Data">the OpenSceneGraph-Data repository.</a> <br><br>  After compiling and running, we‚Äôll get something like this. <br><br><img src="https://habrastorage.org/webt/zy/e8/yn/zye8ynsswiqzhlebo_4-hxmdm4c.png"><br><br>  The first two lines of our code <br><br><pre> <code class="cpp hljs">(<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>) argc; (<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>) argv;</code> </pre><br>  mark the input parameters of the function main () as unused in order to avoid the compiler warning.  Next, create a root node of the scene, which is the model of the aircraft, loaded from the file cessna.osg <br><br><pre> <code class="cpp hljs">osg::ref_ptr&lt;osg::Node&gt; root = osgDB::readNodeFile(<span class="hljs-string"><span class="hljs-string">"../data/cessna.osg"</span></span>);</code> </pre><br>  Then an instance of the osgViewer :: Viewer class is created - the so-called "viewer" - an object that controls the display of the scene on the screen.  Scene data is transmitted to the viewer. <br><br><pre> <code class="cpp hljs">viewer.setSceneData(root.get());</code> </pre><br>  and the scene rendering loop starts <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">return</span></span> viewer.run();</code> </pre><br>  This basic code already contains a number of basic concepts used in OSG.  But talk about them will go a little later. <br><br><h1>  Conclusion </h1><br>  The full source code of the examples described hereinafter <a href="https://github.com/maisvendoo/OSG-lessons">can be obtained here</a> .  I hope that this publication interested readers, <a href="https://habr.com/post/429914/">to be continued ...</a> </div><p>Source: <a href="https://habr.com/ru/post/429816/">https://habr.com/ru/post/429816/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../429800/index.html">Symfony Bundle for exporting statistics in Prometheus format</a></li>
<li><a href="../429804/index.html">Friendly WEB resource protection against brute force attacks</a></li>
<li><a href="../429808/index.html">Roscosmos may lose the largest order due to the FSB</a></li>
<li><a href="../429812/index.html">Apple: T2 coprocessor can block DIY-repair of new MacBook and MacMini</a></li>
<li><a href="../429814/index.html">When Java finally dies, what to do and what will happen to the JPoint</a></li>
<li><a href="../429818/index.html">Intel Vision Accelerator - Deep Learning in every home</a></li>
<li><a href="../429820/index.html">HTTP-over-QUIC officially becomes HTTP / 3</a></li>
<li><a href="../429822/index.html">Special Purpose Debug Board</a></li>
<li><a href="../429824/index.html">CI for frontend: Gitlab, Traefik, Docker</a></li>
<li><a href="../429826/index.html">Wearable "batteries": textile micro-supercondensers based on PEDOT-Cl</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>