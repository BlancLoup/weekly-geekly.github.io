<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Debian Lenny 5 is ‚Äúover‚Äù. Moving to Debian Squeeze 6!</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="As is known, the support of the 5th Debian ended a month and a half ago (in February) and it officially sunk into oblivion, i.e. archive archive.debia...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Debian Lenny 5 is ‚Äúover‚Äù. Moving to Debian Squeeze 6!</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/36b/a7c/fed/36ba7cfed3437e484edda1d50fd41382.png" align="left">  As is known, the support of the 5th Debian ended a month and a half ago (in February) and it officially sunk into oblivion, i.e.  archive archive.debian.org. <br>  What to do next?  - Many hosters thought.  After all, switching to the 6th Debian is not so easy due to several factors: <br><br>  1) Some control panels do not support it (at a minimum, the ISP Manager has its own oddities, although the developers have localized almost all the problems) <br><br>  2) PHP 5.3 is available out of the box instead of the already familiar 5.2, which is fraught with the fact that many sites will stop working.  One of the most unpleasant moments is the lack of the ereg function, which is used by a huge number of people in scripts, in informal modules to popular CMS (the latest versions of the CMS themselves are already compatible with it). <br>  But no one stands still, much less looking back, and in any case, it is necessary to switch to the 6th one, so let's get started. <br><a name="habracut"></a><br>  First, let's look at the transition itself.  In principle, it occurred without surprises.  I will describe: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      1) Add the necessary repositories to /etc/sources.list: <br><pre><code class="hljs 1c"><span class="hljs-meta"><span class="hljs-meta"># Squeeze deb http:</span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">//security.debian.org squeeze/updates main contrib non-free deb http://ftp.ru.debian.org/debian/ squeeze main non-free contrib deb ftp://ftp.debian-multimedia.org squeeze main non-free</span></span></span></span></code> </pre> <br><br>  2) Update the package lists with the command: <br><pre> <code class="hljs pgsql"># apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> <span class="hljs-keyword"><span class="hljs-keyword">update</span></span></code> </pre> <br><br>  3) We update the operating system itself: <br><pre> <code class="hljs vala"><span class="hljs-meta"><span class="hljs-meta"># apt-get dist-upgrade</span></span></code> </pre> <br>  Personally, everything went smoothly for me, but, as they say on the Internet, some splashy package may interfere, just in case, delete it before installation. <br><pre> <code class="hljs vala"><span class="hljs-meta"><span class="hljs-meta"># apt-get purge splashy</span></span></code> </pre> <br><br>  Everything, we reboot and enjoy (hopefully) a fresh version of Debian. <br><br>  The next step I mentioned above is PHP 5.2. <br><br>  Let's get started  The method, in principle, is trivial. <br><br>  1) You need to remove PHP5.  If it is installed (when upgrading, I think it has been updated for everyone): <br><pre> <code class="hljs lua"># aptitude <span class="hljs-built_in"><span class="hljs-built_in">remove</span></span> `dpkg -l | grepphp| awk <span class="hljs-string"><span class="hljs-string">'{print $2}'</span></span> |tr <span class="hljs-string"><span class="hljs-string">"\n"</span></span> <span class="hljs-string"><span class="hljs-string">" "</span></span>`</code> </pre> <br><br>  2) Open our: <br><pre> <code class="hljs php">sources.<span class="hljs-keyword"><span class="hljs-keyword">list</span></span> <span class="hljs-comment"><span class="hljs-comment"># vi /etc/apt/sources.list</span></span></code> </pre> <br>  Add a repository from lenny deb: <br><pre> <code class="hljs objectivec">http:<span class="hljs-comment"><span class="hljs-comment">//archive.debian.org/debian/ lenny main contrib non-free  .</span></span></code> </pre> <br><br>  3) Next, you need to prioritize the work of the apt service.  Open: <br><pre> <code class="hljs vala"><span class="hljs-meta"><span class="hljs-meta"># vi /etc/apt/preferences</span></span></code> </pre> <br>  And we write the following there: <br><br><pre> <code class="hljs vhdl"><span class="hljs-keyword"><span class="hljs-keyword">Package</span></span>: php5* Pin: <span class="hljs-keyword"><span class="hljs-keyword">release</span></span> a=oldstable Pin-Priority: <span class="hljs-number"><span class="hljs-number">700</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Package</span></span>: * Pin: <span class="hljs-keyword"><span class="hljs-keyword">release</span></span> a=stable Pin-Priority: <span class="hljs-number"><span class="hljs-number">600</span></span></code> </pre> <br><br>  4) Install php: <br><pre> <code class="hljs pgsql"># apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> <span class="hljs-keyword"><span class="hljs-keyword">update</span></span> # apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> -t oldstable install `dpkg -l | grep php5| awk <span class="hljs-string"><span class="hljs-string">'{print $2}'</span></span> |tr "\n" " "`</code> </pre> <br><br>  Perhaps at this stage dependencies will come out, but they can be very easily fixed by installing the necessary ones. <br><br>  5) Check the version and restart the Apache: <br><pre> <code class="hljs vala"><span class="hljs-meta"><span class="hljs-meta"># dpkg -l | grep php5 # /etc/init.d/apache2 restart</span></span></code> </pre> <br><br>  This completes the installation. <br><br>  This method was tested on a server with ISPManager and DebianLenny 5 - everything went fine. <br>  If you plan to install the server from scratch, then installing php, in principle, only one step disappears - the removal of the old version.  And so everything is saved. <br><br>  Hopefully this article will help you! <br><br>  <b>Author:</b> Roman Malinovsky, Head of Technical Support Services, Unlimits Telecom hosting project. <br><br>  Original <a href="http://slashdot.org/journal/281515/debian-lenny-5-ended">article</a> in English published on <a href="http://slashdot.org/journal/281515/debian-lenny-5-ended">slashdot.org</a> <br><br>  UPD: Thanks <b>tbicr</b> for the found inaccuracy: <br><pre> <code class="hljs vala"><span class="hljs-meta"><span class="hljs-meta"># apt-getpurgesplashy</span></span></code> </pre> <br>  Replace with: <br><pre> <code class="hljs vala"><span class="hljs-meta"><span class="hljs-meta"># apt-get purge splashy</span></span></code> </pre> <br>  and <br><pre> <code class="hljs lua">#aptitude <span class="hljs-built_in"><span class="hljs-built_in">remove</span></span> `dpkg -l | grepphp| awk <span class="hljs-string"><span class="hljs-string">'{print $2}'</span></span> |tr <span class="hljs-string"><span class="hljs-string">"\n"</span></span> <span class="hljs-string"><span class="hljs-string">" "</span></span>`</code> </pre> <br>  Replace with: <br><pre> <code class="hljs lua"># aptitude <span class="hljs-built_in"><span class="hljs-built_in">remove</span></span> `dpkg -l | grepphp | awk <span class="hljs-string"><span class="hljs-string">'{print $2}'</span></span> |tr <span class="hljs-string"><span class="hljs-string">"\n"</span></span> <span class="hljs-string"><span class="hljs-string">" "</span></span>`</code> </pre> </div><p>Source: <a href="https://habr.com/ru/post/142413/">https://habr.com/ru/post/142413/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../142408/index.html">Anonymus created their alternative to Pastebin</a></li>
<li><a href="../142409/index.html">Array sizes in java</a></li>
<li><a href="../142410/index.html">SSH and FTP via Dropbox</a></li>
<li><a href="../142411/index.html">New program Facebook Preferred Marketing Developer</a></li>
<li><a href="../142412/index.html">The complexity of multi-storey programming</a></li>
<li><a href="../142414/index.html">NetBeans tips & tricks</a></li>
<li><a href="../142416/index.html">Photoshop CS6 and natural needs</a></li>
<li><a href="../142417/index.html">JetBrains presented the Kotlin language at the JavaOne Russia 2012 conference.</a></li>
<li><a href="../142419/index.html">Draw an image map with the mouse</a></li>
<li><a href="../142420/index.html">33 million people were hurt by disabling Gmail</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>