<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Unfinished article on spam</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It just so happened that I had to deal with the problem of spam. Here, in fact, what happened to figure out. A lot of text, mostly of a general nature...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Unfinished article on spam</h1><div class="post__text post__text-html js-mediator-article">  <i>It just so happened that I had to deal with the problem of spam.</i>  <i>Here, in fact, what happened to figure out.</i>  <i>A lot of text, mostly of a general nature.</i> <br><br>  Spam  With this short word, many have unpleasant associations, and some <br>  System administrators even shudder.  I think in our time every <br>  computer user met with spam and knows firsthand what it is. <br><br>  So what do we call spam? 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <i>Spam is sending messages that users do not expect to receive, simultaneously to a large number of recipients.</i> <br><br>  Mass is the main feature of spam.  Tellingly, spammers are not original in this approach.  They only follow the path that has been worked out by nature for millions of years of evolution. <br><a name="habracut"></a><br><blockquote>  <i>A simple calculation shows that each cedar tree gives an average of one million viable seeds in its lifetime.</i>  <i>However, the number of trees on our planet is not increasing, which means that the level of natural selection is about one in a million.</i>  <i>It is this level that ensures full reproduction and stability of the species.</i>  <i>(http://kedr.forest.ru/culture.html)</i> <i><br><br></i>  <i>For example, in mackerel (Scomber scombrus), about 99.9996% of individuals perish during the first 50-70 days of life of the larvae.</i>  <i>Thus, out of a million swept eggs (and one female mackerel produces at a time up to half a million small eggs that swim in the water column) only a few individuals can live to maturity.</i>  <i>Nevertheless, mackerel remains a very ordinary fish, as evidenced by its presence on the shelves of fish stores.</i>  <i>(http://elementy.ru/news/430696)</i> </blockquote><br><br>  With one row with them, we can deliver spammers who, in an effort to deliver the letter to the recipient, rely on the mass character.  And, most sadly, this approach is justified. <br><br>  According to reports, the percentage of users who made purchases advertised in spam messages (for example, via the link ‚ÄúClick here‚Äù, which is found in most of the messages), in 2005 was 11% (http://www.technewsworld.com/story /44655.html), in 2006 - about 6% (http://www.yale.edu/its/email/spam/whyspam.html), and in 2008 - 29% (http://www.marshal.com /pages/newsitem.asp?article=748&amp;thesection=news). <br>  This is an absolutely unbelievable number, but considering that only 622 people were interviewed in the last study, the results are likely to be far from accurate.  But even if this result is too high, it‚Äôs still hundreds and thousands of people who every day prove that spam generates income for its owners. <br><br>  On the other hand, there are numbers of a completely different nature (http://habrahabr.ru/blogs/spam/44353/) - ‚ÄúThe real CTR of spam is 0.000008%‚Äù.  It is also probably not the whole truth of life.  But the income is still there. <br><br>  From this point of view, the only way to beat spam is to not respond to it.  Or make sure that spam messages do not reach those irresponsible recipients who still respond to them.  What is at this stage in the development of our civilization is, alas, impracticable. <br><br><h2>  What is spam (http://ru.wikipedia.org/wiki/Spam) </h2><br><br>  Any spamming list has a specific purpose - otherwise the cost of it <br>  just lose all meaning.  Depending on the purpose, the content of the letters also changes. <br><br>  The vast majority of spam messages are advertisements (for comparison, phishing emails or emails with viruses add up to no more than two percent of the total number of spam). <br><br>  Among the most popular advertisements (statistics for September): Spam "for adults" - 28%, "Medicines;  goods and services for health ‚Äù- 19%,‚Äú Education ‚Äù- 12%,‚Äú Replicas of elite goods ‚Äù- 6%,‚Äú Leisure and travel ‚Äù- 6%. <br><br>  Advertising the actual spam service has recently floated around the 5% mark. <br><br>  See what spammers say about spam themselves: <br><blockquote>  <i>"Some people think that spamming is an unethical method of advertising, but how</i> <i><br></i>  <i>practice shows that many, at least out of curiosity, look through letters of such</i> <i><br></i>  <i>kind of.</i>  <i>And surely among them is a potential client,</i> <i><br></i>  <i>interested in the offer.</i>  <i>Since spamming is enough</i> <i><br></i>  <i>inexpensive service, many customers, assessing the effectiveness of such a lever</i> <i><br></i>  <i>impact on potential consumers, become regular customers and</i> <i><br></i>  <i>recommend this method of advertising to other colleagues. "(http://www.direct-mail-reklama.ru)</i> </blockquote><br><br><h2>  Spread </h2><br><br>  Technically, spam is distributed mainly by email.  The disadvantages of mail protocols developed at the end of the last century, the simplicity of implementing mass distribution software, and the availability of address databases provide a wide range of activities here.  For example, any beginner can read the spam FAQ <a href="http://forum.antichat.ru/thread58130.html">forum.antichat.ru/thread58130.html</a> or get a more or less tolerable answer to the interesting question <a href="https://forum.antichat.ru/thread72829.html">forum.antichat.ru/thread72829.html</a> . <br><br>  Actually, mailing in the process of technical progress also changed - from direct mailings by spammers themselves to hacking users' computers and creating specialized botnets (http://www.viruslist.com/en/spam/info?chapter=156608519) <br><br>  Recently, spam on IM, on forums and blogs have spread.  For example, on <a href="http://www.xakep.ru/">www.xakep.ru</a> there is a note titled ‚ÄúMicrosoft ranks 5th in the list of the most spam-tolerant providers.‚Äù <br><br>  An example with classmates.  Personally, I received a message from a classmate. <br>  <i>Hi, help please, there is no money in the account (vote for me please, send SMS to number 3649 with the text "XX 222761" (10 rubles worth)</i> <i><br></i> <br><br>  In addition to various carriers, spammers demonstrate astounding wealth. <br>  fantasies in the form of messages - from sending a message with pictures to littering text to disrupt automatic filters. <br><br><h2>  Spam issues </h2><br><br>  The main types of harm caused by spam (http://beskov.ru/2006/05/16/spam-harm/). <br><br>  1. The load on the network channels - according to the latest data, about 80% <br>  Emails sent to the Internet are spam and viruses.  Increased load <br>  leads to increased failure risks and the cost of transferring obviously unnecessary <br>  data. <br>  2. Clogging up space on mail servers - in many cases, spam can be detected and removed, but this does not always happen. <br>  3. The load on the computing power of mail servers involved in spam filtering. <br>  4. The cost of staff to configure servers, clean spam and configure anti-spam filters.  (loss of working time) <br>  5. Clogging up space on users' machines - if the user uses the client program to collect mail, in many cases spam comes directly to the machine and is stored there until it is deleted. <br>  6. The user costs to view and delete spam from your inbox. <br><br>  In particular, for the period September <a href="http://www.spamtest.ru/document.html%3Fcontext%3D15946%26pubid%3D208050461">15-21</a> , 2008, <a href="http://www.spamtest.ru/document.html%3Fcontext%3D15946%26pubid%3D208050461">www.spamtest.ru/document.html?context=15946&amp;pubid=208050461</a> for spam was 80.5% <br><br>  In addition, do not forget about the moral side of spam.  When every third <br>  a letter in the box - spam, it can be a depressing effect on the psyche, at least - reduces the mood of users.  Poor filter makes them <br>  regularly clean the mailbox from spam messages leaked there, as well as <br>  browse junk for false positives. <br><br>  For Russia, the total damage of all victims of spam passes for $ 200 million a year, and the income of spam companies, according to the most indiscreet estimates, can be up to several <br>  million dollars a year. <br><br><h2>  Spam Fighting </h2><br><br>  How to resist spam?  So far, progressive humanity has come up with not very <br>  many ways.  By way of "working" with spam, they are divided into blocking and filtering.  Blocking means ignoring any messages from a blocked host.  Filtering is ignoring messages that fall under the definition of spam after analyzing its content (that is, the recipient still has to accept some part of the message). <br><br>  By the method of setting methods can be divided into local and distributed.  Distributed methods allow you to "learn from the mistakes of others." <br><br>  Any method of countering spam can be distinguished by a number of characteristics by which we will evaluate and compare these methods. <br><br>  - Efficiency.  The most important parameter.  Expressed as a percentage.  It is determined as the percentage of correctly defined spam messages hidden from the user.  If we subtract this value from one hundred, we get a parameter called ‚Äúfalse-negative‚Äù responses, that is, the percentage of spam messages that still reach the user. <br>  - False positive positives.  "Clean" letters, defined as spam or not reached the user. <br>  - Impact on network channels (as far as the method allows to reduce the load by reducing the number of spam messages). <br><br>  So, briefly list the main methods of combating spam.  Blockings include: <br><br>  <b>"Black" lists.</b>  Radically solves the problem of traffic, it turns out to reduce by about half.  However, the effectiveness of this method is far from ideal - if the filter removes about 50 percent of spam, then the proportion of real messages deleted is about 30 percent.  It hurts honest companies. <br><br>  The other extreme is <b>whitelists</b> that ignore all other mail.  The traffic problem does not solve.  The efficiency is 100% :) The false positive component, unfortunately, also tends to this limit. <br><br>  There are also <b>"gray" lists</b> as the next step in the evolution of blacklists: <br>  <i>The method of gray lists is based on the fact that the ‚Äúbehavior‚Äù of the software intended for sending spam is different from the behavior of regular mail servers, namely, spam software does not try to resend a letter when a temporary error occurs, as required by the SMTP protocol.</i>  <i>More precisely, when they try to circumvent the protection, in subsequent attempts they use a different relay, a different return address, and so on, so this looks to the receiving party as attempts to send different letters.</i>  <i><a href="http://www.redcom.ru/isp/ispNews/netNews/ni1170203597">www.redcom.ru/isp/ispNews/netNews/ni1170203597</a></i> <br>  The rate of false positives drops to a few percent, which is pretty good. <br><br>  All methods listed below are relevant to filtering. <br><br>  Officially, the next group of methods has not been named.  Such methods answer the question whether a letter is spam, are answered indirectly, by the <i>behavior of</i> letters. <br><br>  There are such varieties: <br><br>  <b>Vaccination</b> : the server immediately delivers a letter to only one user who can report that it is spam (for example, by clicking on a button in the interface of your email client).  The server will ‚Äútrain‚Äù its main filter, and the harmful letter will not fall into the second wave of delivery.  Sometimes called the method of "voting." <br><br>  <b>Trap (honeypot)</b> .  By the way, the method (I do not know for the first time or not) was proposed by K. Kaspersky in his book ‚ÄúNotes of the Computer Virus Researcher‚Äù.  It creates a certain number of "random" mailboxes that do not belong to real users.  Spammers find this address either somewhere specially spotted on any forum, or simply by searching letters (abc@mosglavprodsnab.com).  Based on the fact that real mail never arrives on such a box, we can say with almost absolute certainty that this is spam.  In practice, <i>‚ÄúIn PC Magazine tests, SkyScan showed spam detection rate of 96% with a false positive rate of 0.48%‚Äù (http://www.lexa.ru/articles/distributed-antispam-2.html)</i> <i><br></i> <br>  <b>The checksum method.</b>  All mail passing through the mail system is scanned, checksums of letters are sent to the central server.  If the flow of emails with the same checksums exceeds a certain threshold value, then the server considers this to be a sign of spam, which it happily informs mail servers in response to their requests. <br><br>  By the way, all these methods give effect only when applying a distributed architecture.  In particular, Spamorez uses services such as Razor and DCC to determine the mass character of letters. <br><br>  The main way of counteracting such systems is ‚Äúrandomization‚Äù ‚Äîsubmission of copies of the original, each of which differs very slightly in the order or set of words.  You can quite successfully cope with this by calculating the checksum not from the entire content, but from some part, either randomly selected words, or one of the numerous algorithms for fuzzy text comparison. <br><br>  Filtering based on the content of the letter. <br><br>  <b>Heuristic method.</b>  A set of templates is created with which the content is compared.  Basically, this is done using regular expressions.  Requires incredible cost of keeping up to date.  Efficiency - about 70-80%, a lot of false-negative positives. <br><br>  <b>Methods of artificial intelligence.</b>  All I know today is that Spam Assassin assigns a rating to a letter using neural network algorithms. <br><br>  <b>Statistical methods,</b> as is already clear from the title, do not focus on <br>  sense of words in emails.  That is, it does not matter in what context <br>  the word "sex" is used - whether it is an advertisement of intimate goods, or the "sex" column in <br>  application form.  Methods are based on calculating the likelihood that a letter <br>  is spam.  The main method of calculation is the Bayes formula. <br>  (http://ru.wikipedia.org/wiki/%D0%A2%D0%B5%D0%BE%D1%80%D0%B5%D0%BC%D0%B0%%0091%D0%B0% D0% B9% D0% B5% D1% 81% D0% B0) <br><br>  The fundamental work in the field of filtration is the article by Paul Graham "A plan <br>  for spam ‚Äù(http://paulgraham.com/spam.html), as well as its continuation - <a href="http://paulgraham.com/better.html">paulgraham.com/better.html</a> .  (Virtually any article in which <br>  there is the word "spam", refers to Graham.) <br><br>  In general terms, it is necessary to determine spam. <br>  - break the text into words (in the case of an email message, this should include both the subject of the letter and some part of the headers).  Specifically, words are a special case of breaking the text into parts, which are called ‚Äútokens‚Äù.  For example, various methods of cutting text can resist ‚Äúlittering‚Äù of the text. <br>  - the frequency of occurrence of tokens is found in spam messages (stored in the database, created in the process of filter learning) <br>  - a representative sample is selected (Graham chose the 15 most common). <br>  - the Bayes formula is used to calculate the probability that the letter is spam. <br>  - if the probability exceeds a certain threshold value (80-90%), then the letter is filtered and automatically goes to the Spam folder. <br><br><blockquote>  [formula] The word X is found in messages marked as spam in 95%, Y in <br>  60%. <br><br>  The likelihood that a letter is spam: P (SPAM) = P (X) * P (Y) / (P (X) * P (Y) - (1-P (X)) * (1-P (Y) )) = 0.95 * 0.6 / (0.95 * 0.6 + 0.05 * 0.4) = 0.57 / (0.57 + <br>  0.02) = 0.966. <br><br>  The word X is found in messages marked as spam in 50%, Y in <br>  60%. <br><br>  The likelihood that a letter is spam: P (SPAM) = P (X) * P (Y) / (P (X) * P (Y) - (1-P (X)) * (1-P (Y) )) = 0.5 * 0.6 / (0.5 * 0.6 + 0.5 * 0.4) = 0.3 / (0.3 + <br>  0.2) = 0.6. <br></blockquote><br><br>  In addition to the Bayes formula, <b>Chi-vadrat distribution</b> is also used.  it <br>  distribution, it is good only because it depends only on the bits (segments <br>  definition area), and allows us to estimate the deviation not only from the uniform, but from <br>  distributions of any kind.  (This is what I myself am not very clear about. It would be great to hear a clear explanation). <br><br>  <b>Hidden Markov models</b> , a method based on substantially more complex <br>  mathematical apparatus.  Used as an auxiliary method for searching. <br>  "Almost" similar texts.  Unfortunately, is a double-edged sword - except <br>  recognition tasks copes with the generation of text.  In addition to spam messages, generated messages are actively used, for example, in a live journal. <br><br>  The effectiveness of statistical methods strongly depends on what is fed to the input.  For example, the naive approach, when all words separated by spaces or line breaks are transferred to the algorithm, it is hard to break off if all spaces are replaced with underscores.  Or write "Viagra", then the phone number, and then - three pages of text from "War and Peace" in small print. <br><br>  ‚ÄúCutting‚Äù the text into parts (they are called ‚Äútokens‚Äù) can be done differently, but the common part is the same: the text is ‚Äúcut‚Äù into parts, which are combinations of words.  For example, the OSB (Orthogonal Sparse Bigram) algorithm will cut the phrase ‚ÄúYou are the Internet of the future‚Äù so - <br>  - you internet * <br>  - you * future <br>  - * Internet of the future. <br>  About comparing classifiers you can read a bit here: <a href="http://www.esi.uem.es/~jmgomez/papers/sigir07.pdf">www.esi.uem.es/~jmgomez/papers/sigir07.pdf</a> .  It will also be useful to learn about a project entirely devoted to the task of text classification - CRM114 - <a href="http://crm114.sourceforge.net/wiki/doku.php%3Fid%3Ddocuments">crm114.sourceforge.net/wiki/doku.php?id=documents</a> <br><br><h2>  What's next? </h2><br><br>  It is necessary to take the best from all methods, getting rid of the shortcomings.  That is, for example, combine vaccination and automatic filtration. <br><br>  From the point of view of the classification task itself, development along two perpendicular axes can be distinguished.  On the one hand, this is an improvement in the hardware base and acceleration of calculations, which will allow letters to pass more quickly through a set of existing filters and, accordingly, respond to it. <br>  On the other hand, this is the development of the algorithms themselves.  For example, a conventional Bayesian filter with the inclusion of the OSB classifier increases the filter efficiency several times. <br><br><h2>  Conclusion </h2><br><br>  Spam is ineradicable because it works.  And if he works, it spurs the invention of new methods.  No silver bullet.  And there is an equilibrium that oscillates in one direction or another.  We still have to support him ... </div><p>Source: <a href="https://habr.com/ru/post/46235/">https://habr.com/ru/post/46235/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../46226/index.html">Google unveiled Friend Connect</a></li>
<li><a href="../46229/index.html">Google Reader redesigned</a></li>
<li><a href="../46230/index.html">Paper tux</a></li>
<li><a href="../46232/index.html">Swiftfox - an alternative build of Firefox</a></li>
<li><a href="../46234/index.html">Eclipse, pydev and code highlighting</a></li>
<li><a href="../46236/index.html">No Comments</a></li>
<li><a href="../46237/index.html">School, trainings, mega trainings and super trainings</a></li>
<li><a href="../46238/index.html">PHP 5.3 alpha 3 released</a></li>
<li><a href="../46239/index.html">CDN do it yourself or distribute video content</a></li>
<li><a href="../46240/index.html">Prototype & Ajax.Request: an important point when catching problems on the server</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>