<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Operator comma</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We continue the topic of operators, this time you will find a story about the operator comma. 

 Let's start with a funny tweet: 



 The 'c' at the e...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Operator comma</h1><div class="post__text post__text-html js-mediator-article">  We continue the <a href="http://habrahabr.ru/blogs/javascript/111563/">topic of</a> operators, this time you will find a story about the operator comma. <br><br>  Let's start with a funny tweet: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a48/cdb/ae7/a48cdbae75a4da6c4ff858e66cb7cd76.png" alt="If the image is not displayed, please write to the author!">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The 'c' at the end is a comma operator.  Last in the list of significant operators, little documented, but very useful.  It is not so common, but I really like it.  She is simple, elegant, and it is better to be on good terms with her. <br><br><h4>  What she does? </h4><br>  The comma operator performs both operands (from left to right) and returns the value of the second operator.  ( <a href="https://developer.mozilla.org/en/JavaScript/Reference/Operators/Special/Comma_Operator">MDC</a> ) <br><pre><code class="hljs ruby">var a = (<span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>); a; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-number"><span class="hljs-number">5</span></span> var x, y, z x = (y=<span class="hljs-number"><span class="hljs-number">1</span></span>, z=<span class="hljs-number"><span class="hljs-number">4</span></span>); x; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-number"><span class="hljs-number">4</span></span> y; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-number"><span class="hljs-number">1</span></span> z; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-number"><span class="hljs-number">4</span></span></code> </pre> <a name="habracut"></a><br><h4>  Why in your example are variable assignments surrounded by parentheses? </h4><br>  Due to the priority of the operators.  A JavaScript expression may contain several different operators.  The following expression contains three operators (* + and,): <br><br><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> * <span class="hljs-number"><span class="hljs-number">2</span></span> + <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">22</span></span>;</code> </pre><br>  The precedence of the operators determines in which order the operands within the expression will be executed. <br>  Full list of operators <a href="https://developer.mozilla.org/en/JavaScript/Reference/Operators/Operator_Precedence">here</a> .  Operator comma has the lowest priority of all operators.  Let's look at an example: <br><br><pre> <code class="hljs pgsql">//original <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> * <span class="hljs-number"><span class="hljs-number">2</span></span> + <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">22</span></span>; //apply * <span class="hljs-keyword"><span class="hljs-keyword">operator</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> + <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">22</span></span>; //apply + <span class="hljs-keyword"><span class="hljs-keyword">operator</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">13</span></span>, <span class="hljs-number"><span class="hljs-number">22</span></span>; //apply , <span class="hljs-keyword"><span class="hljs-keyword">operator</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">22</span></span>;</code> </pre><br>  Now let's see what happens if we remove the parentheses: <br><br><pre> <code class="hljs objectivec"><span class="hljs-comment"><span class="hljs-comment">//original var a = 7, 5; //apply = operator var a, 5; //a is now 7 //SyntaxError: missing variable name</span></span></code> </pre> <br>  By framing the expression with parentheses, we create a group that has the highest priority. <br>  This ensures that the comma operator is applied first. <br><br><pre> <code class="hljs objectivec"><span class="hljs-comment"><span class="hljs-comment">//original var a = (7, 5); //apply group var a = 5;</span></span></code> </pre> <br>  In practice, thanks to its low priority, the comma is a powerful tool.  In fact, she says to the interpreter: first look at what all the other operators around me are doing, and then let me decorate the result. <br><br><h4>  Some expressions contain several commas.  How it works? </h4><br>  Each operator in the chain is processed sequentially from left to right. <br><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> a = (<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>); a; <span class="hljs-comment"><span class="hljs-comment">//4</span></span></code> </pre> <br>  This is equivalent to: <br><br><pre> <code class="hljs lisp">var a = (((<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>), <span class="hljs-number"><span class="hljs-number">3</span></span>), <span class="hljs-number"><span class="hljs-number">4</span></span>)<span class="hljs-comment"><span class="hljs-comment">; a; //4</span></span></code> </pre> <br><h4>  What about commas used in type literals and in declarations? </h4><br>  These delimiters are not really comma operators.  The purpose of the delimiter-comma is the division of the members in the list.  For example: <br><br><pre> <code class="hljs objectivec"><span class="hljs-comment"><span class="hljs-comment">//    4  var arr = [1, 2, 3, 4]; //     var obj = { a: 22, f: function() {return this.a*this.a} } //   var a = 1, b = 2, c = 3; // ,  2  Math.max(4, 7);</span></span></code> </pre> <br><h4>  Why use the comma operator? </h4><br>  Because it allows you to execute several expressions in the place where JavaScript expects only one.  Operators with a comma are not so common, rarely important, but very elegant: <br><br><pre> <code class="hljs lua">var r = [], n = <span class="hljs-number"><span class="hljs-number">0</span></span>, a = <span class="hljs-number"><span class="hljs-number">0</span></span>, b = <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">next</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">nextFibonacci</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-built_in"><span class="hljs-built_in">next</span></span> = a + b; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> b = (a = b, <span class="hljs-built_in"><span class="hljs-built_in">next</span></span>); // &lt;&lt;&lt;   } <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(n++ &lt; <span class="hljs-number"><span class="hljs-number">10</span></span>) { r.push(nextFibonacci()); } r; //[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>, <span class="hljs-number"><span class="hljs-number">21</span></span>, <span class="hljs-number"><span class="hljs-number">34</span></span>, <span class="hljs-number"><span class="hljs-number">55</span></span>, <span class="hljs-number"><span class="hljs-number">89</span></span>]</code> </pre> <br><br><pre> <code class="hljs lua"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getRandomPrime</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(n = Math.round(Math.<span class="hljs-built_in"><span class="hljs-built_in">random</span></span>()*<span class="hljs-number"><span class="hljs-number">1000000000</span></span>), !isPrime(n)); // &lt;&lt;&lt;   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> n; } var isPrime = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(n)</span></span></span></span> { d = Math.<span class="hljs-built_in"><span class="hljs-built_in">ceil</span></span>(Math.<span class="hljs-built_in"><span class="hljs-built_in">sqrt</span></span>(n)); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(n%(d<span class="hljs-comment"><span class="hljs-comment">--) &amp;&amp; d); return !d; } getRandomPrime(); //425593109 getRandomPrime(); //268274719</span></span></code> </pre> <br><h4>  Is a semicolon a disguised comma? </h4><br>  The semicolon is the declaration separator, and the comma is the expression separator inside the ads. <br><br><h4>  Why not use the &amp;&amp; operator to execute multiple expressions sequentially? </h4><br>  The comma operator is very close to the &amp;&amp; and || operator.  All of these statements return the last expression they executed.  That is the difference: <br><br>  LHE - left expression <br>  RHE - right expression <br><br>  <b>LHE &amp;&amp; RHE</b> <br>  1. Always performs LHE <br>  2. if LHE is true, executes RHE <br><br>  <b>LHE ||</b>  <b>Rhe</b> <br>  1. Always performs LHE <br>  2. If LHE is false, executes RHE <br><br>  <b>LHE, RHE</b> <br>  1. Always performs LHE <br>  2. Always performs RHE <br><br>  You should choose a comma if both expressions are to be executed. <br><br><h4>  What about examples? </h4><br>  As I noted earlier, the comma operator allows you to execute several expressions in the place where JavaScript expects only one. <br><br><h5>  For loops </h5><br>  Here is an alternative version of the Fibonacci number generator, which also uses the comma operator: <br><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> ( <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i=<span class="hljs-number"><span class="hljs-number">2</span></span>, r=[<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>]; i&lt;<span class="hljs-number"><span class="hljs-number">15</span></span>; r.push(r[i-<span class="hljs-number"><span class="hljs-number">1</span></span>] + r[i-<span class="hljs-number"><span class="hljs-number">2</span></span>]), i++ ); r <span class="hljs-comment"><span class="hljs-comment">//"0,1,1,2,3,5,8,13,21,34,55,89,144,233,377"</span></span></code> </pre> <br>  For another example, consider a utility that helps the seller to choose the bills and coins that make up the buyer's delivery: <br><br><pre> <code class="hljs matlab"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toCurrency</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(total, values)</span></span></span><span class="hljs-function"> { </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">total</span></span></span><span class="hljs-function"> *= 100; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">for</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( var i=0,counts=[]; counts[i]=total/values[i], total=total%values[i]; //   i++ )</span></span></span><span class="hljs-function">; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">return</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">counts</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">map</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Math.floor)</span></span></span><span class="hljs-function">; } </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toCurrency</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(32.47, [500, 100, 25, 10, 5, 1])</span></span></span><span class="hljs-function">; //</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">[6, 2, 1, 2, 0, 2]</span></span></span></span></code> </pre> <br>  Same utility, but with formatting: <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">function</span></span> toCurrency(total, <span class="hljs-keyword"><span class="hljs-keyword">values</span></span>, sym) { total *= <span class="hljs-number"><span class="hljs-number">100</span></span>; //<span class="hljs-keyword"><span class="hljs-keyword">do</span></span> the calc <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>( var i=<span class="hljs-number"><span class="hljs-number">0</span></span>,counts=[]; counts[i]=total/<span class="hljs-keyword"><span class="hljs-keyword">values</span></span>[i], total=total%<span class="hljs-keyword"><span class="hljs-keyword">values</span></span>[i]; //   i++ ); //<span class="hljs-keyword"><span class="hljs-keyword">format</span></span> var results = counts.map(<span class="hljs-keyword"><span class="hljs-keyword">function</span></span>(s,i) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> s&gt;=<span class="hljs-number"><span class="hljs-number">1</span></span> &amp;&amp; [Math.floor(s),"x",(sym || <span class="hljs-string"><span class="hljs-string">'$'</span></span>) + (<span class="hljs-keyword"><span class="hljs-keyword">values</span></span>[i]/<span class="hljs-number"><span class="hljs-number">100</span></span>).toFixed(<span class="hljs-number"><span class="hljs-number">2</span></span>)].<span class="hljs-keyword"><span class="hljs-keyword">join</span></span>(<span class="hljs-string"><span class="hljs-string">' '</span></span>); }); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> results.<span class="hljs-keyword"><span class="hljs-keyword">filter</span></span>(<span class="hljs-type"><span class="hljs-type">Boolean</span></span>).<span class="hljs-keyword"><span class="hljs-keyword">join</span></span>(<span class="hljs-string"><span class="hljs-string">', '</span></span>); } toCurrency(<span class="hljs-number"><span class="hljs-number">19.77</span></span>, [<span class="hljs-number"><span class="hljs-number">500</span></span>,<span class="hljs-number"><span class="hljs-number">100</span></span>,<span class="hljs-number"><span class="hljs-number">25</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>]); //"3 x $5.00, 4 x $1.00, 3 x $0.25, 2 x $0.01" toCurrency(<span class="hljs-number"><span class="hljs-number">19.77</span></span>, [<span class="hljs-number"><span class="hljs-number">500</span></span>,<span class="hljs-number"><span class="hljs-number">100</span></span>,<span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">20</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>], <span class="hljs-string"><span class="hljs-string">'¬£'</span></span>); //"3 x ¬£5.00, 4 x ¬£1.00, 1 x ¬£0.50, 1 x ¬£0.20, 1 x ¬£0.05, 2 x ¬£0.01" toCurrency(<span class="hljs-number"><span class="hljs-number">19.77</span></span>, [<span class="hljs-number"><span class="hljs-number">500</span></span>,<span class="hljs-number"><span class="hljs-number">100</span></span>,<span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">20</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>], <span class="hljs-string"><span class="hljs-string">'‚Ç¨'</span></span>); //"3 x ‚Ç¨5.00, 4 x ‚Ç¨1.00, 1 x ‚Ç¨0.50, 1 x ‚Ç¨0.20, 1 x ‚Ç¨0.05, 1 x ‚Ç¨0.02"</code> </pre> <br>  The following function uses a comma to simultaneously increase and decrease two variables inside the loop.  At the output we get the curve: <br><br><pre> <code class="hljs markdown">function renderCurve() { for(var a = 1, b = 10; a<span class="hljs-emphasis"><span class="hljs-emphasis">*b; a++, b--) //   console.log(new Array(a*</span></span>b).join('<span class="hljs-emphasis"><span class="hljs-emphasis">*')); } renderCurve(); /*</span></span> <span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">**** **</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span> <span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*** **</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span> <span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">**** **</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">** **</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span> <span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*** **</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span> <span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-emphasis"><span class="hljs-emphasis">***</span></span><span class="hljs-bullet"><span class="hljs-bullet">* *</span></span>/</code> </pre> <br><h5>  While loops </h5><br>  You can use the comma operator to create short versions of do-while loops. <br>  This function searches for an ancestor from the list of elements named tagName (similar to jQuery parent). <br><br><pre> <code class="hljs lua"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">firstAncestor</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(el, tagName)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(el = el.parentNode, el &amp;&amp; (el.tagName != tagName.toUpperCase())); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> el; } //element <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> http://ecma262<span class="hljs-number"><span class="hljs-number">-5.</span></span>com/ELS5_HTML.htm var a = $(<span class="hljs-string"><span class="hljs-string">'Section_15.1.1.2'</span></span>); firstAncestor(a, <span class="hljs-string"><span class="hljs-string">'div'</span></span>); //&lt;div class=<span class="hljs-string"><span class="hljs-string">"page"</span></span>&gt;</code> </pre><br><h5>  Ternary operator </h5><br>  The ternary operator allows only one expression to be executed.  If you need to execute several expressions, then you have to switch to if else.  The comma operator is more readable in cases where it is used to combine short expressions: <br><pre> <code class="hljs pgsql">//player loses lives ? (gameOver(), <span class="hljs-keyword"><span class="hljs-keyword">exit</span></span>()) : (lives<span class="hljs-comment"><span class="hljs-comment">--, go());</span></span></code> </pre><br><h5>  Debag </h5><br>  The comma operator allows you to insert console.log anywhere without changing the code: <br><br><pre> <code class="hljs pgsql">// products  i &gt; n var i=<span class="hljs-number"><span class="hljs-number">10</span></span>, n=<span class="hljs-number"><span class="hljs-number">0</span></span>, total=<span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(console.log(i,n), i<span class="hljs-comment"><span class="hljs-comment">-- &gt; n++); { total += i*n }</span></span></code> </pre> <br><br><pre> <code class="hljs pgsql">//   var arr = [<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> ( var i=<span class="hljs-number"><span class="hljs-number">0</span></span>, total=<span class="hljs-number"><span class="hljs-number">0</span></span>; i&lt;arr.length; console.log(i,total), total += arr[i++]); )</code> </pre> <br><br><pre> <code class="hljs lua">// <span class="hljs-number"><span class="hljs-number">4</span></span>        var testArray = [<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>], total = <span class="hljs-number"><span class="hljs-number">0</span></span>; var plusFour = testArray.map(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(e)</span></span></span></span> {e + <span class="hljs-number"><span class="hljs-number">4</span></span>}) plusFour.forEach(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(n)</span></span></span></span> {console.<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>(n), isNaN(n) || (total += n)});</code> </pre> <br><h5>  Iterator binding </h5><br>  @wavded published one way to use a comma. <br><br><pre> <code class="hljs matlab">var colorIndex = <span class="hljs-number"><span class="hljs-number">0</span></span>, colors = [<span class="hljs-string"><span class="hljs-string">"FF0000"</span></span>, <span class="hljs-string"><span class="hljs-string">"008000"</span></span>, <span class="hljs-string"><span class="hljs-string">"FF0086"</span></span>, <span class="hljs-string"><span class="hljs-string">"A2FF00"</span></span>, <span class="hljs-string"><span class="hljs-string">"0000FF"</span></span>, <span class="hljs-string"><span class="hljs-string">"800080"</span></span>]; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">selectNextColor</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">{ </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">return</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">colors</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">[colorIndex++]</span></span></span><span class="hljs-function"> || </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">colors</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">[colorIndex = 0, colorIndex++]</span></span></span><span class="hljs-function">; }</span></span></code> </pre> <br><h5>  Indirect eval call </h5><br>  eval <sup>1</sup> uses the context in which it was called.  Therefore, there is no guarantee that calling eval in a loop will give the same result. <br><br>  <a href="https://habrahabr.ru/users/kangax/" class="user_link">kangax</a> <a href="http://perfectionkills.com/global-eval-what-are-the-options/">wrote</a> that we can use the comma operator to call eval indirectly, which will always be called in global context <sup>2</sup> : <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> a = {}; (<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">eval</span></span>(<span class="hljs-string"><span class="hljs-string">"this.alert('If you can read this I must be global!')"</span></span>); }).call(a); <span class="hljs-comment"><span class="hljs-comment">//TypeError: this.alert is not a function (function() { (0,eval)("this.alert('If you can read this I must be global!')"); }).call(a); //alerts: 'If you can read this I must be global!'</span></span></code> </pre> <br>  1. Please, without holivars, everyone knows that eval is evil <br>  2. The <a href="http://ecma262-5.com/ELS5_HTML.htm">ES5</a> standard says that any non-direct call to eval uses global context, <br>  however, not all browsers support this rule (IE &lt;= 8) <br><br><h4>  Conclusion </h4><br>  You can write excellent code without using the comma operator.  Does this mean that I spent your time?  I hope not.  Extensive vocabulary makes writers and speakers more professional and access to the wide possibilities of the language can make us better coders.  The more methods we know, the more beautiful, neat and readable code we can write.  Good luck with the operator comma, share your examples of use! <br><br><h4>  Read </h4><br>  <b>ECMA-262 5th Edition</b> <br>  <a href="http://ecma262-5.com/ELS5_HTML.htm">11.14 The comma operator</a> <br>  <a href="http://ecma262-5.com/ELS5_HTML.htm">10.4.2 Entering eval code</a> <br>  <a href="http://ecma262-5.com/ELS5_HTML.htm">15.1.2.1.1 Direct Call to Eval</a> <br><br>  <b>Mozilla developer center</b> <br>  <a href="https://developer.mozilla.org/en/JavaScript/Reference/Operators/Special/Comma_Operator">comma operator</a> <br>  <a href="https://developer.mozilla.org/en/JavaScript/Reference/Operators/Operator_Precedence">operator precedence</a> <br><br>  Juriy Zaytsev ( <a href="https://habrahabr.ru/users/kangax/" class="user_link">kangax</a> ): <a href="http://perfectionkills.com/global-eval-what-are-the-options/">global eval, what are the options</a> <br>  Mark Harter (@wavded): <a href="http://wavded.tumblr.com/post/579521097/cycling-through-an-array-using-the-comma-operator">cycling through an array using the comma operator</a> <br><br>  <b>UPD</b> Took into account and corrected the shortcomings in the translation </div><p>Source: <a href="https://habr.com/ru/post/116827/">https://habr.com/ru/post/116827/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../116821/index.html">Eviterra.com - flights are easy and convenient</a></li>
<li><a href="../116822/index.html">The speed of working with utf is obvious, but little known for beginners.</a></li>
<li><a href="../116823/index.html">And maybe the truth web 2.0 implies openness, or at least web 3.0</a></li>
<li><a href="../116824/index.html">Object tracking on video</a></li>
<li><a href="../116825/index.html">About documentation standards</a></li>
<li><a href="../116830/index.html">Parsing XML with Simple Framework</a></li>
<li><a href="../116834/index.html">Sectional Symfony2 Application</a></li>
<li><a href="../116835/index.html">Simple data scrambling algorithms</a></li>
<li><a href="../116837/index.html">Signal quality criteria for WiMax networks</a></li>
<li><a href="../116838/index.html">We optimize the work process in the console</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>