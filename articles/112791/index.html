<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>USB Toolstick, or programming for the smallest microcontrollers</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The article is addressed to novice developers of electronic equipment and is dedicated to the USB Toolstick debugging tool line from Silicon Laborator...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>USB Toolstick, or programming for the smallest microcontrollers</h1><div class="post__text post__text-html js-mediator-article"> <a href=""><img src="https://habrastorage.org/storage/habraeffect/cb/ee/cbee16bdfe13557c61aa89f96ba511aa.jpg"></a> <br><br>  The article is addressed to novice developers of electronic equipment and is dedicated to the USB Toolstick debugging tool line from Silicon Laboratories (Silabs) USB, allowing for a quick and painless start in the field of microcontroller learning and programming. <br><a name="habracut"></a><br>  On Habr√©, a lot of articles appear regularly addressed to novice fans of radio electronics, describing the minimal sequence of actions necessary to familiarize the reader with the mysterious and attractive world of microcontroller programming. <br>  As a few sample examples: <br><ul><li>  a recent <a href="http://habrahabr.ru/blogs/controllers/112414/">article</a> referring to the acquisition of the PICKit2 programmer, a prototype board with holes and the design of a clip adapter; </li><li>  <a href="http://habrahabr.ru/blogs/controllers/97795/">a post</a> dedicated to programming PICs and implying (often in such cases) soldering of the ‚Äúlace‚Äù programmer to the COM port; </li><li>  <a href="http://habrahabr.ru/blogs/controllers/111832/">an article</a> whose author proposes to get by with ‚Äúlittle blood‚Äù and take the first steps without experimenting with a soldering iron and microchips, but in the virtual environment of the simulation CAD system <a href="http://www.labcenter.com/">Proteus VSM</a> . </li></ul>  Skimming through the comments following the topics of this type, I drew attention to the existing genuine interest in similar topics among habrayuzerov, but a catastrophic reluctance, despite this, include a soldering iron.  It should be noted that among the developers of "iron" - the purchase of programmers, chips, soldering stations, soldering adapters and the organization of the workplace for the installation and creative process - this is an important and integral component, if you will, electronic romance.  However, it is precisely this component that is a kind of entrance barrier for a separate category of ‚Äúinterested‚Äù whose interest does not outweigh the amount of effort required for a ‚Äúquick start‚Äù. <br><br>  Attaching to the direction of the posts described above, I offer you a number of devices that allow you to start the process of learning and programming completely real chips without any serious consequences. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <a href="http://www.silabs.com/Pages/default.aspx">Silicon Laboratories</a> offers a whole range of debugging tools for novice developers (for most crystal models). <br>  It should be noted separately that the Silabs microcontrollers have a whole set of distinctive features that favorably distinguish them against the background of ‚Äúpopular‚Äù Atmel and PIC.  Among them: <br><ul><li>  Precision analog blocks (up to 32 ADC channels with a capacity of up to 24 bits and up to 2 DAC channels with a capacity of up to 12 bits) </li><li>  Highest performance metrics among 8-bit microcontrollers (up to 100 MIPS) </li><li>  Low power consumption (0.3-0.6 mA / MIPS) </li><li>  Small dimensions (up to 3x3 mm) </li><li>  Flexible and powerful digital I / O unit (up to 64 lines) </li></ul>  You can read more about the advantages of Silabs chips (in particular, with ADC), for example, <a href="http://www.efo.ru/doc/Silabs/Silabs.pl%3F2450">here</a> . <br><br>  So, the least experienced in the field of electronics to neophytes as a means for the fastest start, I hasten to recommend the Silabs Tools Evaluation Kit, which costs $ 14.80, for example, in St. Petersburg Electrosnab. <br><br> <a href=""><img src="https://habrastorage.org/storage/habraeffect/78/a9/78a9bf8f28dd70badbd8c7e4e6d0b15f.jpg"></a> <br><br>  Externally, the device is very similar to a regular USB flash drive.  All you need to work with the device: connect it to a computer and install the drivers and integrated development environment located on the supplied disk. <br><br> <a href=""><img src="https://habrastorage.org/storage/habraeffect/2c/7f/2c7fcdef605f4cf4cb92dfe01b7bdbcf.png"></a> <br><br>  The device includes two microcontrollers: an auxiliary C8051F321 (chip with integrated usb interface), which performs programming and in-circuit debugging via the USB interface of the second microcontroller - C8051F300, one of the most inexpensive chips from Silabs, which has, nevertheless, sufficient functionality for many standard microcontroller solutions. <br><br>  In addition, there are 4 LEDs on the board: a PWR LED, indicating the presence of power via USB;  RUN / STOP LED, showing the in-circuit debugging process activity;  two custom LEDs connected to the C8051F300 microcontroller general purpose digital input / output ports.  Actually with them and invited to "play" the novice developer. <br><br>  I note that Silabs offers a fairly detailed (for the functionality of this device) <a href="http://www.silabs.com/Support%2520Documents/TechnicalDocs/ToolStick-EK.pdf">manual</a> . <br><br> <a href=""><img src="https://habrastorage.org/storage/habraeffect/6d/5b/6d5b40205f6451400a73f9af87310f99.jpg"></a> <br><br>  After installing the software, the user can create projects in the environment and directly program the C8051F300 microcontroller on the assembler and C from the environment, as well as implement its in-circuit debugging (stop the program, set breakpoints, examine the state of memory, registers and individual variables and etc.) <br><br>  In addition, ready-made C source code is available in Application note's on the Silabs website, which can be disassembled to speed up the learning process. <br><br>  In general, with the help of such a device you can overnight solve a whole range of self-educational tasks and consolidate knowledge in practice: <br><ul><li>  study the integrated development environment of Silicon Laboratories </li><li>  study typical command set of microprocessors C8051Fxxx with 8051 architecture </li><li>  write programs for C8051F300 in assembler and C </li><li>  learn how the Crossbar integrated resource switch works </li><li>  study the operation of the configuration wizard for automatic initialization of microcontroller peripherals </li><li>  understand the configuration of general-purpose digital ports and how to work with them </li><li>  learn the interrupt system </li><li>  learn how to work and experiment with built-in timers </li><li>  deal with pulse-width modulation and implement it on the basis of built-in timers </li></ul> Custom LEDs (red and green) placed on the board are connected to the digital input / output ports of the C8051F300 microcontroller.  From state changes from program code.  Thus, by changing the state of the LEDs in the interrupt from the built-in timer, you can make them alternately blink with a specified time period.  By implementing pulse-width modulation based on the built-in timer, you can control the intensity of their luminescence.  Such experiments are more than enough for a good practical consolidation of knowledge from the above list. <br><br>  In my organization, undergraduate students from technical universities, sent to us for internship, I often gave out such a device for a week.  Usually the results were not long in coming. <br><br>  However, the functionality of this device becomes insufficient for more advanced tasks.  Having studied the length and breadth of the Silabs Tools Evaluation Kit, it's time to switch to the <a href="http://www.silabs.com/Support%2520Documents/TechnicalDocs/ToolStick_BaseAdapter_UG.pdf">Silabs Toolstick Base adapter</a> and the Silabs Toolstick Daughter card with your chosen microcontroller.  A complete list of debugging devices is <a href="http://www.silabs.com/products/mcu/Pages/ToolStick.aspx">on the manufacturer's website</a> . <br><br> <a href=""><img src="https://habrastorage.org/storage/habraeffect/7c/8d/7c8d1afea016b6c8a1e83b879fe26b38.png"></a> <br><br>  The base adapter implements the functions of the USB programmer / in-circuit debugger, and also contains an indication of the power and debugging process. <br><br> <a href=""><img src="https://habrastorage.org/storage/habraeffect/ce/66/ce66f8347eaf7e752de5c1c87013f26e.png"></a> <br><br>  On the <a href="http://www.silabs.com/Support%2520Documents/TechnicalDocs/ToolStick_F311DC_UG.pdf">daughter board of the microcontroller C8051F311</a> , access to all the outputs of the microcontroller is provided (Full Pin Access zone on the board).  This allows you to connect to the chip any additional electrical circuits.  (You can, for example, control the electric motor or ‚Äúsnap‚Äù the load through the relay, only preferably through a galvanic isolation.) The board has a button connected to one of the microcontroller pins.  In addition, there is a potentiometer on the board, which is connected to the input of the analog-digital converter. <br>  With this solution, you can easily and naturally study the entire functionality of the chosen crystal. <br><br> <a href=""><img src="https://habrastorage.org/storage/habraeffect/d7/c1/d7c18e52f1a4b26f626fea2537b1d521.png"></a> <br><br>  Daughter boards for different microcontrollers may vary.  For example, the <a href="http://www.silabs.com/Support%2520Documents/TechnicalDocs/ToolStick_F321_DC_UG.pdf">daughter board of the C8051F321 chip</a> containing the USB interface contains a microUSB connector. <br><br> <a href=""><img src="https://habrastorage.org/storage/habraeffect/00/9c/009c3221c795638232706a505977fb66.png"></a> <br><br>  The described debug kit allows you to quickly turn any computer into a laboratory for the study of microcontrollers.  Using a usb extension cable will make this process even more comfortable. <br><br> <a href=""><img src="https://habrastorage.org/storage/habraeffect/26/4b/264b068915fb71f6c518a1dba0b15c28.jpg"></a> <br><br>  I note that Silicon Laboratories is not the only manufacturer of such debugging tools.  The above is a picture of a Texas Instruments <a href="http://focus.ti.com/lit/ug/slau176d/slau176d.pdf">EZ430-F2013</a> debugging device containing a microcontroller of the popular MSP430 family. <br><br>  Finally, I wish everyone great success in the field of studying and programming new microcontrollers in particular, and designing high-quality electronic equipment in general! </div><p>Source: <a href="https://habr.com/ru/post/112791/">https://habr.com/ru/post/112791/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../112785/index.html">Yuri Milner personally invests in all startups Y Combinator</a></li>
<li><a href="../112786/index.html">Elegant Mr.Book</a></li>
<li><a href="../112787/index.html">biz.biz.ua</a></li>
<li><a href="../112788/index.html">Client for HabraHabr for Android</a></li>
<li><a href="../112789/index.html">How to quickly check the Linux server for hacking</a></li>
<li><a href="../112793/index.html">IP Office Conference</a></li>
<li><a href="../112794/index.html">Cancel user passwords</a></li>
<li><a href="../112795/index.html">VKontakte ready to get rid of "extra" users?</a></li>
<li><a href="../112796/index.html">Nokia, which we remember, come back! (2 part: RELOADED)</a></li>
<li><a href="../112797/index.html">Brief introduction to terminals and console</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>