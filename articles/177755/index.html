<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Easy way to manage remote devices</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="What I wanted: 



- when the task is completed in jenkins, display a notification on the computer and, as an addition, display it on a physical displ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Easy way to manage remote devices</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/47b/87b/ef5/47b87bef5734b0b9499e0fa6abdb1361.jpg" align="right">  What I wanted: <br><br><ul><li>  when the task is completed in jenkins, display a notification on the computer and, as an addition, display it on a physical display connected to the arduino; </li><li>  an interface that can be opened on a phone or tablet for controlling a music player on a computer and a video player on a raspberry pi; </li><li>  an interface accessible from outside the local network for outputting values ‚Äã‚Äãfrom sensors installed on the arduino. </li></ul><br>  What happened: <br><br><ul><li>  client running on the device, with a python method declaration; </li><li>  RESTful api to run "methods" (the picture on the right is displayed through it); </li><li>  "Control panels" with a web-interface; </li><li>  service to control devices, methods and panels. </li></ul><br><a name="habracut"></a><br><h4>  Links </h4><br>  Service - <a href="http://rdevic.es/">rdevic.es</a> <br>  Server source code - <a href="https://github.com/nvbn/rdevices-server">rdevices-server</a> <br>  Client source code - <a href="https://github.com/nvbn/rdevices-client">rdevices-client</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  What's inside </h4><br> <a href="https://docs.google.com/drawings/d/1BkDt1tzL0h04Yt5nMBydQjrErncd1M8vBttkIXu46aM/edit%3Fusp%3Dsharing"><img src="https://habrastorage.org/storage2/d46/5db/21b/d465db21b8aef4e031db8146a2f36a8c.png"></a> <br><br>  <b>rdclient</b> - runs on the user's device, declares methods, executes them on request from the server, and sends the result back.  Written in python.  Initially, to communicate with the server, I wanted to use √òMQ, but to install it, the user would need to assemble a module.  Therefore, ordinary sockets are used. <br><br>  <b>connector</b> - the daemon receives requests from the API, sends them to the client device, gets the result, writes it to the database and sends the notification daemon.  Written in python and tornado.  Redis is used to communicate with the API and the notification service. <br><br>  <b>RESTfull API</b> - receives requests directly from users or through ‚Äúcontrol panels‚Äù and transfers them to the connector.  Written in python, django and tastypie. <br><br>  <b>push notifications</b> - the daemon receives notifications about the completion of the execution of methods from the connector and sends them to the control panel.  Made to reduce the number of requests to the API.  Written in python, tornado and sockjs. <br><br>  <b>dashboard</b> - a web-interface for managing devices is created by the user and stored on the server.  For markup, use html, for scripts, JavaScript, CoffeeScript or IcedCoffeeScript. <br><br><h4>  How to create a device </h4><br>  To create it, you need to install pip and git, if you don‚Äôt have them. <br><br>  And install rdclient: <br><pre><code class="bash hljs">pip install -e git://github.com/nvbn/rdevices-client.git<span class="hljs-comment"><span class="hljs-comment">#egg=rdclient</span></span></code> </pre> <br><img src="https://habrastorage.org/storage2/64b/716/0ba/64b7160ba4356ec60ebcae36dd3c5f8a.png" align="right"><br>  Now you need <a href="http://rdevic.es/devices/create/">to create a device</a> through the site and copy it <code>uuid</code> . <br><br>  To declare a device, you need to create a python file, for example, <code>device.py</code> , inherit from the <code>Device</code> class, decorate methods with <code>method(result, [arg1], [arg2], ..)</code> and specify <code>uuid</code> in <code>Meta</code> . <br>  Annotation of the parameters and the result of the method is required, but is used only for informative purposes. <br><br>  An example of a simple device: <br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> rdclient <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Device, method <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyDevice</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Device)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Meta</span></span></span><span class="hljs-class">:</span></span> uuid = <span class="hljs-string"><span class="hljs-string">'DEVICE_UUID'</span></span> @method(<span class="hljs-string"><span class="hljs-string">'None'</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">print_123</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-number"><span class="hljs-number">123</span></span> @method(<span class="hljs-string"><span class="hljs-string">'int'</span></span>, a=<span class="hljs-string"><span class="hljs-string">'int'</span></span>, b=<span class="hljs-string"><span class="hljs-string">'int'</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sum_a_and_b</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, a, b)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a + b</code> </pre><br><br>  Now you can run the client: <br><pre> <code class="bash hljs">rdclient device.py</code> </pre><br>  After that, a brief documentation for its device will appear on the device page. <br><br>  For some applications, there are already ready mixins: <br><ul><li>  <a href="https://github.com/nvbn/rdevices-client/blob/develop/rdclient/mixins/arduino.py">Arduino</a> </li><li>  <a href="https://github.com/nvbn/rdevices-client/blob/develop/rdclient/mixins/notify_send.py">notify-send</a> </li><li>  <a href="https://github.com/nvbn/rdevices-client/blob/develop/rdclient/mixins/omxplayer.py">OMXPlayer</a> </li><li>  <a href="https://github.com/nvbn/rdevices-client/blob/develop/rdclient/mixins/pactl.py">pactl</a> </li><li>  <a href="https://github.com/nvbn/rdevices-client/blob/develop/rdclient/mixins/rhythmbox.py">rhythmbox</a> </li><li>  <a href="https://github.com/nvbn/rdevices-client/blob/develop/rdclient/mixins/shell.py">ls</a> </li><li>  <a href="https://github.com/nvbn/rdevices-client/blob/develop/rdclient/mixins/smplayer.py">smplayer</a> </li></ul><br><img src="https://habrastorage.org/storage2/184/8e0/910/1848e0910e70e96a4fb0ba7f13243955.png" align="right"><br><h4>  API usage </h4><br><br>  The first step is to create a <a href="http://rdevic.es/accounts/nvbn/keys/">key to access the API</a> . <br><br>  All requests must be in json or xml and this must be explicitly indicated in the header, for example: <br><br><pre> <code class="coffeescript hljs">Accept: application/json Content-type: application/json</code> </pre><br><br>  To call the method you need to send a POST request to <code><a href="http://rdevic.es/api/v1/device_method_call%3Fusername%3DUSERNAME%26api_key%3DAPI_KEY/"></a> rdevic.es/api/v1/device_method_call?username=USERNAME&amp;api_key=API_KEY</code>  <code><a href="http://rdevic.es/api/v1/device_method_call%3Fusername%3DUSERNAME%26api_key%3DAPI_KEY/"></a> rdevic.es/api/v1/device_method_call?username=USERNAME&amp;api_key=API_KEY</code> with the body containing the object (in json or xml): <br><pre> <code class="javascript hljs">{ <span class="hljs-attr"><span class="hljs-attr">method</span></span>: METHOD_NAME, <span class="hljs-attr"><span class="hljs-attr">device</span></span>: DEVICE_UUID, <span class="hljs-attr"><span class="hljs-attr">request</span></span>: { <span class="hljs-attr"><span class="hljs-attr">arg1</span></span>: <span class="hljs-string"><span class="hljs-string">'arg1Value'</span></span>, <span class="hljs-attr"><span class="hljs-attr">arg2</span></span>: <span class="hljs-string"><span class="hljs-string">'arg2Value'</span></span> } }</code> </pre><br>  In response will come: <br><pre> <code class="javascript hljs">{ <span class="hljs-attr"><span class="hljs-attr">method_id</span></span>: METHOD_ID, <span class="hljs-attr"><span class="hljs-attr">request</span></span>: { <span class="hljs-attr"><span class="hljs-attr">arg1</span></span>: <span class="hljs-string"><span class="hljs-string">'arg1Value'</span></span>, <span class="hljs-attr"><span class="hljs-attr">arg2</span></span>: <span class="hljs-string"><span class="hljs-string">'arg2Value'</span></span> }, <span class="hljs-attr"><span class="hljs-attr">response</span></span>: {}, <span class="hljs-attr"><span class="hljs-attr">state</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">text_state</span></span>: <span class="hljs-string"><span class="hljs-string">'started'</span></span>, <span class="hljs-attr"><span class="hljs-attr">id</span></span>: CALL_ID, <span class="hljs-attr"><span class="hljs-attr">resource_uri</span></span>: <span class="hljs-string"><span class="hljs-string">'/api/v1/device_method_call/CALL_ID/'</span></span>, }</code> </pre><br>  An updated version can be obtained by making a GET request at <code>resource_uri?username=USERNAME&amp;api_key=API_KEY</code> .  The result of the method call is in the <code>response</code> field.  The execution status of the method in <code>state</code> .  Possible values: <br><pre> <code class="python hljs">STATE_CREATED = <span class="hljs-number"><span class="hljs-number">0</span></span> STATE_FINISHED = <span class="hljs-number"><span class="hljs-number">1</span></span> STATE_ERROR = <span class="hljs-number"><span class="hljs-number">2</span></span></code> </pre><br>  The request can be done with <code>curl</code> : <br><pre> <code class="bash hljs">curl <span class="hljs-string"><span class="hljs-string">"http://rdevic.es/api/v1/device_method_call/?username=nvbn&amp;api_key=45932208bfb91d5ba8c9ab82137026c76ece69a8"</span></span> -H <span class="hljs-string"><span class="hljs-string">"Accept: application/json"</span></span> -H <span class="hljs-string"><span class="hljs-string">"Content-type: application/json"</span></span> -X POST -d <span class="hljs-string"><span class="hljs-string">"{\"method\":\"arduino_write\",\"device\":\"bcc97caa-a09b-11e2-a15d-009c02975edf\",\"request\":{\"data\": \"clear\nwrite:Hello habr\!\n\"}}"</span></span></code> </pre><br>  The result of its implementation is shown not the first picture. <br><br><img src="https://habrastorage.org/storage2/65c/a0a/e5c/65ca0ae5c3b0ea481a1ab5af474b1269.png" align="right"><h4>  Dashboard creation </h4><br>  First you need <a href="http://rdevic.es/devices/dashboard/create/">to create it on the site</a> and open the code editing. <br>  Scripts can be written in JavaScript ( <code>type="javascript"</code> ), CoffeeScript ( <code>type="coffeescript"</code> ) and IcedCoffeeScript ( <code>type="iced-coffeescript"</code> ). <br>  They can use the dashboard api, it provides: <br><ul><li>  <code>dashboard.ready(callback)</code> - initialization of the dashboard; </li><li>  <code>dashboard.getDevice(deviceId, callback)</code> - get device in callback; </li><li>  <code>device.method(args, [callback])</code> - call the method and get the result in the callback.  <code>args</code> is an object containing an <code>:  </code> . </li></ul><br><br>  As an example of the panel - the remote for rhythmbox ( <code>rdclient.mixins.RhythmboxMixin</code> ): <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'text/javascript'</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> dashboard.ready(</span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"></span><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>)</span></span></span><span class="javascript">{ dashboard.getDevice(DEVICE_ID, </span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">device</span></span></span></span><span class="javascript"><span class="hljs-function">)</span></span></span><span class="javascript">{ $(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'#prev'</span></span></span><span class="javascript">).click(</span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"></span><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>)</span></span></span><span class="javascript">{ device.rhythmbox_previous({}); }); $(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'#next'</span></span></span><span class="javascript">).click(</span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"></span><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>)</span></span></span><span class="javascript">{ device.rhythmbox_next({}); }); $(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'#play-pause'</span></span></span><span class="javascript">).click(</span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"></span><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>)</span></span></span><span class="javascript">{ device.rhythmbox_play_pause({}); }); }); }); </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'btn'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'prev'</span></span></span><span class="hljs-tag">&gt;</span></span>Prev<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'btn'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'play-pause'</span></span></span><span class="hljs-tag">&gt;</span></span>Play/pause<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'btn'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'next'</span></span></span><span class="hljs-tag">&gt;</span></span>Next<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  To avoid the ladder you can use IcedCoffeeScript.  With him, the part with the script will look like this: <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'text/iced-coffeescript'</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">await</span></span></span><span class="javascript"> dashboard.ready </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">await</span></span></span><span class="javascript"> dashboard.getDevice DEVICE_ID, defer device $(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'#prev'</span></span></span><span class="javascript">).click =&gt; device.rhythmbox_previous {} $(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'#next'</span></span></span><span class="javascript">).click =&gt; device.rhythmbox_next {} $(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'#play-pause'</span></span></span><span class="javascript">).click =&gt; device.rhythmbox_play_pause {} </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br><h4>  Future plans </h4><br>  Now only basic features are implemented in the project.  More planned: <br><ul><li>  event'y on the side of the device; </li><li>  git repositories with custom ‚Äúpanels‚Äù; </li><li>  api keys with limited access to devices and method. </li></ul><br><br>  PS all keys and uuid in the article are non-existent. </div><p>Source: <a href="https://habr.com/ru/post/177755/">https://habr.com/ru/post/177755/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../177743/index.html">Five Twitter clients for Android</a></li>
<li><a href="../177745/index.html">DOU Hackathon in Sevastopol</a></li>
<li><a href="../177747/index.html">The first phones on Firefox OS dispersed in a few hours</a></li>
<li><a href="../177749/index.html">Google bought a news startup Wavii for more than $ 30 million</a></li>
<li><a href="../177753/index.html">Are we not heroes? Mission for the company</a></li>
<li><a href="../177759/index.html">tFormer.js - bike for form validation</a></li>
<li><a href="../177761/index.html">MongoDB: Too many fields to index? Use a common index</a></li>
<li><a href="../177763/index.html">About cloud and not only technologies of Yandex in Kiev this Saturday</a></li>
<li><a href="../177767/index.html">Balancing 2 or more channels on FreeBSD using PF + Squid</a></li>
<li><a href="../177769/index.html">Online editor for Bootstrap ‚Äî LayoutIt</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>