<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>NooLite: kill two birds of ergonomics at the same time (installation, opinion, development)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="No, this is not 10001 description of "smart home" (!) 

 In the post I want to talk about two things: 
 1) Solving the problem "The overhead light swi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>NooLite: kill two birds of ergonomics at the same time (installation, opinion, development)</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/15a/41e/8ad/15a41e8ada3a403598293e08d6403162.png"><br>  <i>No, this is not 10001 description of "smart home" (!)</i> <br><br>  <b>In the post I want to talk about two things:</b> <br>  1) Solving the problem "The overhead light switch in the room at the entrance, but I also want it near the bed" <br>  2) I want to adjust the brightness <br>  And it is not strange, <b>both of</b> these <b>problems</b> can be solved in <b>one fell swoop</b> . <br><br>  <i>And also I will try to classify the types of automation <s>(smart)</s> home</i> <br><a name="habracut"></a><br>  <i>Lyrical digression: I, like many readers probably, thought ‚Äúif I shouldn‚Äôt make a <i>smart home</i> ‚Äù maybe they even watched technologies (z-wave, zigbee, homekit, thousands of them!) But in the process of searching for information on a smart home most often there is no setting problems and / or correct solution due to insufficient intelligence of that very ‚Äúsmart home‚Äù</i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Classification </h2><br>  After reading a large number of manuals on various systems, I got the following gradation of systems: <br>  1) Automated <br>  2) Automatic <br>  3) Intellectual <br>  4) Proactive <br><br><div class="spoiler">  <b class="spoiler_title">Only the last two systems are more or less clever, and only the last one can be called a fully smart home, but today, as I promised, we will not talk about a smart home.</b> <div class="spoiler_text">  <b>Automated</b> - We change light switches to relays with remote control and give the opportunity to control the light from one common switch - congratulations, you have automated the process <b>(but this is not a smart home)</b> <br><br>  <b>Automatic</b> - You already have remote switches everywhere, if your friend is going to the toilet, you can turn on the lights remotely using the remote control / application, but something is missing.  And you add to the sensor system.  Now the system can determine for itself that you are in this room and it would be nice to turn on the light to you here - congratulations, you made an <b>automatic system</b> <b>(but this is still not a smart home)</b> <br><br>  <b>Intellectual</b> - In case of a night need in the toilet, you are greeted by the switched on light, which takes into account the data that you are a man and you can not close the door, but this is no reason not to please you with light.  (the system knows that you are alone at home at the moment, which means only you can go to the toilet, therefore you need to ignore the door sensor and turn on the light) - <b>This is an intelligent system.</b> In addition, one of the key differences between the intelligent system and the usual one is support for aliases.  The system should be able to process speech commands, and not simple, but understanding the context of the request.  In your "smart home" is not this?  I have bad news for you. <br><br>  <b>Proactive</b> - You have a single hub that has access to the main systems of the house: light, water, air conditioning, heating.  (if we talk about the house: gates, etc ...) You can control all systems remotely, with voice and via the Internet, you can even press the ‚ÄúI'm going home‚Äù button and the system adjusts everything as you like (turns on the air conditioner for example or opens the gate when your geolocation will be near). <br>  Looks like a smart home?  <b>No</b> The system will be proactive when it can handle the following script: <br>  1) A simple option: You have a script coming home, the system itself checks your geo-position and, based on the vector of your movement, can ask you (by voice, text to the messenger) whether you are going home or even without a question (if based on data from past days route similar) run the script.  But, if suddenly you change your route while the script is running, the system should understand this and stop the script execution. <br><br>  2) Complicated: The system does not require manual input of the script, it compiles it itself, analyzing human behavior.  She knows that in the morning you prefer a bright light, in the evening muffled.  She knows that before going to bed, it is necessary to make the heating a little weaker and, if possible, to ventilate, <b>but</b> your girlfriend cannot stand drafts, then the airing should be done while the girl is not at home or she is in another room / shower. <br></div></div><br><br><h2>  Specific problem </h2><br>  During the repair, it is impossible to plan everything, so it happened with me - I absolutely did not know where the bed would stand in the room, therefore I could not choose the place of the switch <br>  <i>(Yes, and my bed was already moving around the room ...)</i> Thus, like many, I have one overhead light switch - when entering the room, next to the door. <br><br>  But over time, <s>laziness won</s> a problem: lying in bed, you can not turn off or turn on the overhead light, table lamps and flashlights in the phone went to help.  In addition, in the evening I would like to have a muffled light, and the dimmer during the repair was not installed, and the standard dimmers are not comfortable. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/595/efd/143/595efd143a508de33b667823edfbe398.jpg" alt="image"><br>  <i>Standard dimmer</i> <br><br>  In the end, I formulated the requirements for solving the problem as follows: <br>  <b>I want to adjust the overhead light in the room from the bed, to be able to adjust the brightness and continue to follow the path of home automation.</b> <br><br>  I considered several options for the systems and came to the conclusion that NooLite suits me in the following version: <br>  1) Relay <br>  2) Two switches <br><br><div class="spoiler">  <b class="spoiler_title">They even have a ready set for my Wishlist</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/75a/3d3/b02/75a3d3b0284bbc07ec64815f650fb207.jpg" alt="image"><br></div></div><br><br><h2>  Installation </h2><br>  So, I had to dismantle the old switch, connecting the wires, connect the relay to the open circuit and install the switch. <br><br>  In the process of choosing the location of the relay, I came to the conclusion that it would fit perfectly into the chandelier, in addition, it would be better to cool. <br><br><h3>  Chandelier </h3><br>  I have the following chandelier: <br><img src="https://habrastorage.org/files/2fc/08d/47f/2fc08d47f6654935b7ac1f18e123245b.PNG"><br><br>  Remove the glass dome, do not forget to turn off the electricity, and remove the platform, which closes access to contacts <br><br><img src="https://habrastorage.org/files/30c/093/5c7/30c0935c78ea492e8188854c1b6a2666.PNG"><br><br><img src="https://habrastorage.org/files/caf/0c4/16c/caf0c416c04c4224bcb5aefdf1cc24dd.PNG"><br><br>  It is time to look at the relay: <br><img src="https://habrastorage.org/files/e79/967/17e/e7996717ea2d41e6b4d92c21f76d9e06.PNG"><br><br>  Pay attention to the black jumper wire which is in the center - it is a hardware mode switch, if you want to work in the brightness adjustment (dimmer) format - we have a snack. <br><br>  We disconnect the original wires from the ceiling from the chandelier terminals, insert new wires of small length there. <br><br><img src="https://habrastorage.org/files/99f/5e8/e02/99f5e8e020f244478939ba4e0ea8086f.PNG"><br><br>  We take terminal blocks, we connect a connection 220 to the relay and loading (do not mix wires) <br><br><img src="https://habrastorage.org/files/941/aef/353/941aef353ec044189d0078657eff6f5e.PNG"><br><img src="https://habrastorage.org/files/cac/dc1/fb3/cacdc1fb35004615a31aadf9aa13d92a.PNG"><br><br>  Compactly pack all this so that the wires are not heated: <br><img src="https://habrastorage.org/files/e6c/f82/8fe/e6cf828feead442193af1b9f6c0f25ac.PNG"><br><br>  After this stage is completed, you can turn on the electricity and check the operation of the system - it should already turn on from the attached console <i>(do not forget to turn on the lights on the old console first)</i> <br><br><h3>  Switch </h3><br>  Given: here is a switch: <br><img src="https://habrastorage.org/files/f6e/89f/857/f6e89f8578c548ddac9ca8390e265303.PNG"><br><br>  It will need to be dismantled: <br><img src="https://habrastorage.org/files/7f5/e7e/f46/7f5e7ef46f834588995a1270044d8c37.PNG"><br><div class="spoiler">  <b class="spoiler_title">In detail</b> <div class="spoiler_text">  Snap off the button, unscrew the two screws in the center and remove the plastic frame <br><img src="https://habrastorage.org/files/5cd/5a1/ec1/5cd5a1ec14384ed3bdfc8259dafc4873.PNG"><br><br>  We turn away (But not up to the end) screws on the sides <br><img src="https://habrastorage.org/files/43b/b5b/644/43bb5b64441b4e4e8581e4b7aa687fe9.PNG"><br><br>  Remove the switch, disconnect the wires. <br>  <i>You did not forget to turn off the lights after the tests, yes?</i> <br><img src="https://habrastorage.org/files/945/c6f/aff/945c6faffa8148468a1593f6691427cb.PNG"><br><br>  Preparing wires for terminal blocks <br><img src="https://habrastorage.org/files/460/c0c/338/460c0c3383954719bf60b909fb5917d3.PNG"><br></div></div><br>  We put on terminal blocks <br><img src="https://habrastorage.org/files/618/fb5/6fe/618fb56fe7a841fdaa9090fa13638681.PNG"><br><br><h3>  Remote controller </h3><br>  Remote control <br><img src="https://habrastorage.org/files/57b/64f/b39/57b64fb39ca74bcdb85ef24c47e2d15f.PNG"><br><br>  At the top <i>(or below, depending on how you install)</i> there is a green command transmission indicator that will wink when pressed. <br><img src="https://habrastorage.org/files/6d6/1d1/831/6d61d1831c3f4c59a77c0fe0e7895149.PNG"><br><br>  Backside <br><img src="https://habrastorage.org/files/6dd/9aa/0a8/6dd9aa0a8e41445ea98bea0ff3a106b4.PNG"><br><br>  Remove the base <br><img src="https://habrastorage.org/files/aaa/7ef/79b/aaa7ef79b4d8439b8e6310fa94376c32.PNG"><br><br>  Inner world of the console <br><img src="https://habrastorage.org/files/8f4/5b1/8f0/8f45b18f0a4049fa9dab9f164d800ea0.PNG"><br><br>  Fasten the frame on the same screws that are left from the old <br><img src="https://habrastorage.org/files/c93/823/187/c938231872564f55b27fa9839096fb0f.PNG"><br><br><h3>  Bind the second remote </h3><br><iframe width="560" height="315" src="https://www.youtube.com/embed/xrDrTHp6AqA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  Algorithm: <br>  1) Press the service button on the already tied remote <br>  2) Click Turn on the light on the already connected remote <br><br>  The light will start blinking <br><br>  We do the same on the second console <br>  3) Press the service button on the NEW remote <br>  4) Click Turn on the light on the NEW remote <br><br>  The light will blink more often. <br>  Repeat the last two steps again. <br><br>  5) Press the service button on the already tied remote <br>  6) Click Turn on the light on the already connected remote <br><br>  The light goes out - you tied the remote <br><br><h2>  Result </h2><br>  After the final assembly of the system, the wires and the module itself are not visible in the chandelier <i>(with the lights on too)</i> . <br><img src="https://habrastorage.org/files/db3/8ba/fd8/db38bafd891a4821a3fec88f1c508918.PNG"><br><br>  Brightness can be controlled as follows: Turn on the chandelier as usual by clicking on the top edge of the switch.  And now click on the bottom and hold - the light will decrease.  <i>(You can add the same way)</i> <br><iframe width="560" height="315" src="https://www.youtube.com/embed/DBtv0kJnI5s" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><iframe width="560" height="315" src="https://www.youtube.com/embed/Wach7V-Ndd8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  In the process of rest, the relay glows with a faint green light (even weaker than in the photo below, the phone has made it brighter than necessary) <br><img src="https://habrastorage.org/files/b96/77e/9e5/b9677e9e596a4c75aee6945a1916efc9.PNG"><br><br><h2>  What is there with the development of NooLite </h2><br>  NooLite is generally great - earlier they were scolded in their posts about the lack of feedback from the relay, but they are in the process of releasing new relays that will be able to do it.  It hints at this new module, which was recently released to replace the old ones. <br><img src="https://habrastorage.org/getpro/habr/post_images/3c4/81c/134/3c481c1343ac85a5292211789286c75e.jpg" alt="image"><br><div class="spoiler">  <b class="spoiler_title">Description</b> <div class="spoiler_text">  The MTRF-32 transceiver module is designed to interact with the nooLite and nooLite-F system from an Arduino platform, microcontroller or PC. <br><br>  Structurally, the module is made in the form of a printed circuit board, on which a control controller and a transceiver are located. <br><br>  The module is controlled via a serial UART interface. <br>  Using a low-level communication interface with the module allows you to use it in your own designs. <br></div></div><br>  (I bet that in half a year a manual will appear on using it in conjunction with raspberri pi and esp8266 / arduino). <br><br>  <b>PS</b> Those who have previously read about Noolite may remember these switches: <br><img src="https://habrastorage.org/getpro/habr/post_images/c53/2c3/e4c/c532c3e4cb3f2f5fc161c7e1fd9aee70.jpg" alt="image"><br><br>  One of the reasons why I chose NooLite was that they finally made the switches they were used to ... <br><br>  Chat in Telegram <a href="https://t.me/Noolite">t.me/Noolite</a> </div><p>Source: <a href="https://habr.com/ru/post/320890/">https://habr.com/ru/post/320890/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../320880/index.html">VPS hosting and cloud hosting: what to choose and what is the difference?</a></li>
<li><a href="../320882/index.html">Off splinters from the brain. 15 stereotypes about CRM-systems</a></li>
<li><a href="../320884/index.html">We set up a private Docker repository</a></li>
<li><a href="../320886/index.html">FlexPod - from theory to practice: the word to engineers (webinar)</a></li>
<li><a href="../320888/index.html">Cloudless mobile app - life without Google Play</a></li>
<li><a href="../320892/index.html">Testing untestable JS with Babel and snarejs</a></li>
<li><a href="../320894/index.html">Experience using Samsung Pay</a></li>
<li><a href="../320898/index.html">Immersion in Robolectric</a></li>
<li><a href="../320900/index.html">Configuring the DNS server for North Korean security standards</a></li>
<li><a href="../320902/index.html">How we prepared the redis cluster</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>