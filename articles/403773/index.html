<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>From 2nd to 6th of May, the official Mac client of HandBrake was distributed with the "rat"</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="If you downloaded the popular HandBrake transcoder program for OS X from the official website from May 2 to May 6, 2017, with a probability of 50%, Pr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>From 2nd to 6th of May, the official Mac client of HandBrake was distributed with the "rat"</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/geektimes/post_images/a67/432/8cf/a674328cf593f8e9ff389fae6c2f84f2.jpg"><br><br>  If you downloaded the popular HandBrake transcoder program for OS X from the official website from May 2 to May 6, 2017, with a probability of 50%, Proton RAT was a program for remotely controlling a computer.  After hacking into the HandBrake server, unidentified individuals changed the official distribution, putting a ‚Äúrat‚Äù in there, as the RAT program is sometimes called in jargon. <br><br>  The HandBrake-1.0.7.dmg file on the <i>download.handbrake.fr</i> mirror has been replaced with another file, the hash of which does not match the checksums listed on <a href="https://github.com/HandBrake/HandBrake/wiki/Checksums">https://github.com/HandBrake/HandBrake/wiki/Checksums</a> . <br><a name="habracut"></a><br>  HandBrake is a free and free software for transcoding digital video files, originally developed in 2003, to make it easier to rip DVDs, i.e. rip movies from a DVD to the HDD.  Since then, the program has undergone many changes and is now used mainly for transcoding of ready-made files.  For example, after downloading from the torrent version in maximum quality, you need to make a copy for the iPhone or Android device with an acceptable resolution and size.  During transcoding HandBrake allows you to set the desired bitrate, the maximum file size or change the bitrate for "constant quality".  The program supports many specific functions, including deinterlacing, image scaling, cropping, removing decomposition artifacts, and other post-production effects.  It is possible to process files in batch mode, making lists of work through the GUI or text interface in the console.  HandBrake supports many input and output formats for both video and audio. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      There are versions of HandBrake for Linux, macOS and Windows, but in this case, hackers have changed only the version for macOS. <br><br>  The message about the hacking of the off-server download mirror was <a href="https://forum.handbrake.fr/viewtopic.php%3Ff%3D33%26t%3D36364">published on the HandBrake forum</a> on the morning of May 6, 2017.  It states that all downloaded official MacBrake client for Mac from May 2, 14:30 UTC to May 6, 11:00 UTC, should check the SHA1 or SHA256 hashes before running the file. <br><br>  If you did not have time to check the file and have already launched the program, then you need to examine the computer for the presence of a Trojan.  It is present in the system with a 50/50 probability, if you downloaded the program in the specified period.  The developers emphasize that the firmware update 1.0 or higher version could not install the Trojan.  Since version 1.0, it checks the digital signature and does not install an update if the signature does not match.  But earlier versions of the update program do not check the signature, so that they could install a file with built-in RAT. <br><br>  You can detect a trojan on a computer by the presence of the <code>Activity_agent</code> process in the OSX Activity Monitor application. <br><br>  If you have saved the downloaded HandBrake.dmg file, you can check the hashes of the infected files: <br><br>  SHA1: 0935a43ca90c6c419a49e4f8f1d75e68cd70b274 <br>  SHA256: 013623e5e50449bbdf6943549d8224a122aa6c42bd3300a1bd2b743b01ae6793 <br><br>  If you have such a hash, then the file is infected. <br><br>  Reportedly, a new version of RAT called OSX.PROTON was supplied with the transcoder.  This program was first <a href="https://www.cybersixgill.com/wp-content/uploads/2017/02/02072017%2520-%2520Proton%2520-%2520A%2520New%2520MAC%2520OS%2520RAT%2520-%2520Sixgill%2520Threat%2520Report.pdf">noticed on sale in the Russian underground forums in February 2017</a> . <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/540/75f/cdd/54075fcddd52f122391624cb802ac111.png"><br><br>  To remove the program, open the terminal and execute the following commands: <br><br><ul><li> <code>launchctl unload ~/Library/LaunchAgents/fr.handbrake.activity_agent.plist</code> </li> <li> <code>rm -rf ~/Library/RenderFiles/activity_agent.app</code> </li> <li>  If the <code>~/Library/VideoFrameworks/</code> directory contains proton.zip, then delete the folder </li></ul><br>  Then delete all the installations of HandBrake.app, which are available. <br><br>  <b>Next steps</b> <br>  Since this RAT (probably of Russian design) completely controls the victim‚Äôs computer, the computer and all information on it should be considered compromised.  Therefore, you need to replace all the passwords that were stored in the operating system and browser, as well as those that you manually typed recently. <br><br>  Now in the public domain there are convenient tools with which you can check any file at once in all antiviruses (like VirusTotal).  Malicious users usually check malware files after obfuscation - how well the files are obfuscated.  If antiviruses do not define a program, then it can be distributed.  That is why the built-in antivirus macOS XProtect did not detect the Trojan.  Now Apple is updating the signature database.  Perhaps, yesterday or today, the update should already reach the users. <br><br>  Keep in mind that with services like VirusTotal, update signatures will always occur after the distribution of a new malware and its installation on users' computers.  No one will spread the malware if it is detected by antivirus.  Consequently, the sense of the work of the antivirus on the computer is largely lost, especially since the antiviruses themselves are an <a href="https://geektimes.ru/post/285284/">additional breach in the security of the system</a> . <br><br>  At the moment, mirror <i>download.handbrake.fr is</i> temporarily closed for investigation.  At the same time, the main official mirror continues to work, so you can download the official version of the transcoder program.  True, the download speed has decreased due to increased server load.  But the program HandBrake now, most likely, without a Trojan. <br><br>  <b>Deja vu</b> <br>  Interestingly, the main developer of the program HandBrake is also the author of the torrent client Transmission.  Do not believe it, but in March 2016, unknown hackers broke into the official Transmission server and <a href="https://geektimes.ru/post/272214/">replaced the original file with the malware version KeRanger</a> .  A couple of months later, the same mirror was hacked again, this time by <a href="https://www.welivesecurity.com/2016/08/30/osxkeydnap-spreads-via-signed-transmission-application/">introducing the OSX / Keydnap malware into the official client</a> . </div><p>Source: <a href="https://habr.com/ru/post/403773/">https://habr.com/ru/post/403773/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../403763/index.html">Plotting with two independent axes in Matlab</a></li>
<li><a href="../403765/index.html">What if your girlfriend is 70 times bigger than you</a></li>
<li><a href="../403767/index.html">General information about Technocom</a></li>
<li><a href="../403769/index.html">Samsung digital locks: stop locking the doors</a></li>
<li><a href="../403771/index.html">Flsun printer overview with large print area</a></li>
<li><a href="../403775/index.html">Raise3D 3D Printer Review</a></li>
<li><a href="../403777/index.html">How to choose a projector for home? Epson Home Projectors 2017 Lineup Review</a></li>
<li><a href="../403779/index.html">Ask Ethan: Is the universe expanding faster than expected?</a></li>
<li><a href="../403781/index.html">Cognitive technologies help blind people "see" what is happening around</a></li>
<li><a href="../403783/index.html">Overview of the thermal imager Seek Thermal Compact PRO</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>