<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>An example of the calculation of the robust controller (H-infinity control)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="What is a robust controller and why do we complicate our lives? What we do not like the standard, all recognizable, PID controller? 

 The answer lies...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>An example of the calculation of the robust controller (H-infinity control)</h1><div class="post__text post__text-html js-mediator-article"> What is a robust controller and why do we complicate our lives?  What we do not like the standard, all recognizable, PID controller? <br><br>  The answer lies in the title, with English.  ‚ÄúRobustness‚Äù - It‚Äôs a good thing to break.  In the case of a controller, this means that he must be ‚Äútough‚Äù, unyielding to changes in the control object.  For example: in mat.  DC motor models have 3 main parameters: resistance and inductance of the winding, and constant  , which are equal to each other.  To calculate the classical PID controller, look at the datasheet, take those 3 parameters and calculate the PID coefficients, everything seems to be simple, what else is needed.  But the motor is a real system in which these 3 coefficients are not constant, for example as a consequence of high-frequency dynamics, which is difficult to describe or will require a high order of the system.  <u>For example</u> : Rdatashit = 1 ohm, and in fact, R is in the interval [0.9,1.1] ohm.  Thus, the quality indicators in the case of the PID controller may go beyond the given, and the robust controller takes into account uncertainties and is able to keep the quality indicators of a closed system in the required interval. <br><a name="habracut"></a><br>  At this stage, a logical question arises: <i>How to find this interval?</i>  It is located using the parametric identification of the model.  On Habr√©, the OLS method was recently described ( <a href="https://habrahabr.ru/post/279025/">‚ÄúParametric identification of a linear dynamical system‚Äù</a> ), however, it gives one value of an identifiable parameter, as in a datasheet.  To find the range of values, we used the ‚Äú <i>Sparse Semidefinite Programming Relaxation of Polynomial Optimization Problems</i> ‚Äù supplement for matlab.  If it is interesting, I can write a separate article on how to use this package and how to identify. <br><br>  I hope that now it has become even a little clearer why robust control is needed. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I will not particularly go into the theory, because I did not quite understand it;  I will show the steps you need to go through to get a controller.  Who cares, you can read "Essentials Of Robust Control, Kemin Zhou, John C. Doyle, Prentice Hall" or documentation Matlab. <br><br>  We will use the following control system diagram: <br><br><img src="https://habrastorage.org/files/f08/f65/dbd/f08f65dbd59c4737b71a888c72908801.png" alt="image"><br>  <i><b>Figure 1</b> : Block diagram of the control system</i> <br><br>  I think everything is clear here (di - perturbations). <br><br>  <b>Formulation of the problem:</b> <br>  <i>Find</i> : Gc (s) and Gf (s) which satisfy all given conditions. <br><br>  <i>Given</i> : <img src="https://habrastorage.org/files/905/7ab/c44/9057abc4469e4bfcaa1cd54d77908802.png" alt="image">  - object of management with uncertainties, which are given by intervals: <img src="https://habrastorage.org/files/904/1bc/b4f/9041bcb4f3294aca94edc89229958ca3.png" alt="image"><br>  For further calculations we will use the nominal values, and we will take into account the uncertainties further. <br>  <i>Kn = (16 + 9) /2=12.5,p1n=0.8,p2n=2.5</i> , respectively, received the nominal control object: <br><img src="https://habrastorage.org/files/332/4e7/9e1/3324e79e12cb446fb824f15ffd058c5f.png" alt="image"><br><img src="https://habrastorage.org/files/7ed/760/14f/7ed76014f8f84f328251d1b14e1cc2f7.png" alt="image"><br>  Types of disturbances: <br><ul><li><img src="https://habrastorage.org/files/99c/abc/9a7/99cabc9a774b4b798c8e1e9ea7ddbed8.png" alt="image">  - step perturbations of the amplifier with amplitude D_a0 </li><li><img src="https://habrastorage.org/files/235/52d/1be/23552d1beb0f42f3b147f6493986e143.png" alt="image">  - sinusoidal disturbance of the control object with amplitude a_p and frequency w_p </li><li><img src="https://habrastorage.org/files/0a2/513/230/0a2513230c614e4aa9cfdc3682ad22f7.png" alt="image">  - sinusoidal disturbances of the sensor with amplitude a_s and frequency w_s <br></li></ul><br>  Or in other words, these are the noise characteristics of the system elements. <br><br><div class="spoiler">  <b class="spoiler_title">Performance specifications</b> <div class="spoiler_text"><ol><li>  Gain control system Kd = 1 <br></li><li>  The steady-state error when the input effects Ramp R0 = 1: <img src="https://habrastorage.org/files/6bf/2cc/c61/6bf2ccc618e84e2fa0fdcf9eade1ebd8.png" alt="image"><br></li><li>  A fixed error in the presence of da: <img src="https://habrastorage.org/files/cc6/8bf/d70/cc68bfd7066c466e9623b31a77644674.png" alt="image"><br></li><li>  Fixed error in the presence of dp: <img src="https://habrastorage.org/files/3bf/c36/87c/3bfc3687c8b6498aa7a949f5a05b547f.png" alt="image"></li><li>  Fixed error in the presence of ds: <img src="https://habrastorage.org/files/4e4/14d/32e/4e414d32e5584503a7dfc813d689e6d7.png" alt="image"></li><li>  Overshoot <img src="https://habrastorage.org/files/c6a/71f/c8d/c6a71fc8d53a4395a25ed845203548bd.png" alt="image"></li><li>  Regulation time <img src="https://habrastorage.org/files/9f2/f49/825/9f2f498250ea4d6da90d279e3e563105.png" alt="image"></li><li>  Rise time <img src="https://habrastorage.org/files/43d/e73/56c/43de7356c0d24fc8a408588a990cf660.png" alt="image"></li></ol><br></div></div><br><br><h3>  Decision </h3><br>  I will not paint in great detail, only the main points. <br><br>  One of the key steps in the H‚àû method is the definition of the input and output weight functions.  These weighting functions are used to normalize the input and output and reflect the time and frequency dependences of the input disturbances and the operating characteristics of the output variables (errors) [1].  Honestly, this means almost nothing to me, especially if you come across this method for the first time.  In a nutshell, the weight functions are used to set the desired properties of the control system.  For example, in the feedback there is a sensor that has noise, usually high-frequency, and so, the weight function will be a sort of boundary that the controller should not cross to filter out the sensor noise. <br><br>  Below we will derive these weight functions based on performance. <br><br><ol><li><img src="https://habrastorage.org/files/59d/e57/82e/59de5782ec6849e98869f3f4a6fcbaf1.png" alt="image">  Everything is simple here </li><li>  In this paragraph, we need to determine how many poles in zero it is necessary to have for the controller (denoted by ¬µ) to satisfy Condition 2. To do this, we use the table: <img src="https://habrastorage.org/files/42b/80a/3e0/42b80a3e0bb1471386520db8315cc71e.png" alt="image"><br>  <i><b>Figure 2</b> : Position, Speed, and Acceleration Errors</i> <br><br>  System type or astatism (p) - denotes the number of poles at zero, the control object, in our case p = 1 (a system with first-order astatism).  Since our control object is a system with astatism of the first order, in this case the controller should not have poles at zero.  We use the formula: <br>  Œº + p = h <br>  Where h is the input signal order, for ramp h = 1; <br>  Œº = hp = 1-1 = 0 <br>  Now we use the finite value theorem to find e_r‚àû <br><img src="https://habrastorage.org/files/f96/cad/1c9/f96cad1c9af74b47a4c7a1301f79551a.png" alt="image"><br>  Where e_r is the tracking error, <br><img src="https://habrastorage.org/files/6b0/8c9/46e/6b08c946e2204d12a090833424baca94.png" alt="image"><br>  yr is the actual output (see Figure 1), yd is the desired output <br><img src="https://habrastorage.org/files/c92/dc1/d40/c92dc1d405ab4edc84a412544581d24b.png" alt="image"><br>  <i><b>Figure 3</b> : Tracking Error Detection</i> <br><br>  As a result, we get this: <br><img src="https://habrastorage.org/files/ef4/9a9/0fa/ef49a90fa07a407d8007e471bc714be3.png" alt="image"><br>  This is a steady-state error formula, unknown in this equation S (Sensitivity function) <br><img src="https://habrastorage.org/files/074/72b/3ce/07472b3ce3b44713bc5c832ccc24db70.png" alt="image"><br>  Where <img src="https://habrastorage.org/files/909/4a1/8e1/9094a18e148e4ef1b1629915ad7d6d7f.png" alt="image">  - sensitivity function, L (s) - loop function.  Without a clue how they are translated into Russian, leave English names.  Also complementary sensitivity function <img src="https://habrastorage.org/files/54d/894/ce2/54d894ce2c6949308f297c410934ca4f.png" alt="image">  (As can be seen from the formulas, S and T includes Gc - a calculated controller, we find the limits for S and T from errors and performance, respectively, we define the weight functions from S and T, and the matlab from the weight functions find the desired controller.) <br>  In a nutshell about S and T [1]. <br><ul><li>  <i>The sensitivity function</i> , S (s), describes the output y (s) as a function of the disturbance da and dp, also relates the tracking error and the input effect (for low frequencies) <img src="https://habrastorage.org/files/085/837/0a8/0858370a87f046b6a94d523e666e883d.png" alt="image"></li><li>  <i>Complementary sensitivity function</i> , T (s), connects the output of the system with the input action, and also shows how much sensor noise ds affects the output of the system (for high frequencies). <br><img src="https://habrastorage.org/files/938/7b9/06f/9387b906f0bf42838e19d8e4a4ef803a.png" alt="image"></li></ul><br><img src="https://habrastorage.org/files/e95/2d2/e77/e952d2e7773b462ab9614870ec5eba28.png" alt="image"><br>  <i><b>Figure 4</b> : Bode diagram for S, T and L</i> <br><br>  From the graph it is clear that S weakens low-frequency disturbances, while T weakens high-frequency disturbances. <br></li><li>  We use the finite value theorem for e_da <br><img src="https://habrastorage.org/files/8d6/643/314/8d664331442e4d0eb956e766da80e165.png" alt="image"><br><img src="https://habrastorage.org/files/cb6/8c2/39c/cb68c239c1a54c9c89bab56992e87bc0.png" alt="image"><br>  Since we have two inequalities, we find a condition that satisfies both: <br><img src="https://habrastorage.org/files/2e6/8af/f11/2e68aff11119427c8c6b3c3c850bf64c.png" alt="image"><br>  This condition says where the Sensitivity function should cross the 0 dB axis in the Bode diagram. <br><img src="https://habrastorage.org/files/10e/555/09a/10e55509abc64c91ab7ac78481d060c4.png" alt="image"><br>  <i><b>Figure 5</b> : Bode for S</i> <br><br></li><li>  Dp we have a harmonic disturbance, low frequency.  Create a mask for S in the frequency range wp <br><img src="https://habrastorage.org/files/a69/cf7/d1c/a69cf7d1c77f4d4f9a49564e6d0c4845.png" alt="image"><br>  This value indicates that S must be below -32 dB for wp frequencies in order to filter out disturbances <br><img src="https://habrastorage.org/files/5f7/fd1/ba6/5f7fd1ba6b594debb568353b81871ac9.png" alt="image"><br>  <i><b>Figure 6</b> : Mask for S</i> <br><br></li><li>  Ds is also a high-frequency harmonic perturbation, here T will play its role <br>  Do the same: <br><img src="https://habrastorage.org/files/63c/9ff/efe/63c9ffefeb4b4eddb683aab554cea4c9.png" alt="image"><br><img src="https://habrastorage.org/files/a14/d9f/957/a14d9f95729f4c628bac935348b4ef81.png" alt="image"><br>  <i><b>Figure 7</b> : Mask for T</i> <br><br>  The complex order of the weight functions is determined from the condition of the mask and the frequency of intersection with the 0 axis.  In our cases from wp to w is about one decade, and since we have -32 dB, then S must be at least 2 orders of magnitude.  The same goes for T. <br>  As a result, the constraints schematically have the following form for S and T, respectively: <br><img src="https://habrastorage.org/files/799/0d7/75a/7990d775a44c4d78ab8b7660c1d1971d.png" alt="image"><img src="https://habrastorage.org/files/59b/b3a/621/59bb3a621a1c4a60b574393e60d449a5.png" alt="image"><br>  <i><b>Figure 8</b> : All masks for S and T</i> <br><br></li><li>  To translate the time characteristics we use the graphs. <br><img src="https://habrastorage.org/files/21f/572/a17/21f572a175fc46f29cde1eed59ee6fb0.png" alt="image"><br>  <i><b>Figure 9</b> : Graph of damping coefficient versus re-adjustment</i> <br><br>  Knowing the re-adjustment we find the coefficient of damping for 10% -&gt; <br>  Œæ = 0.59 <br>  Knowing the damping coefficient, we find the (resonant) maximum allowable value for S and T <br><img src="https://habrastorage.org/files/a7f/a01/967/a7fa01967e3d45e4bb13cbac1d8ea219.png" alt="image"><br>  <i><b>Figure 10</b> : Graph of S_p0 and T_p0 vs. Damping Factor</i> <br><br>  S_p0 = 1.35 <br>  T_p0 = 1.05 <br><br></li><li>  From the time of regulation and tuning we find how fast the control system should be <br><img src="https://habrastorage.org/files/ce3/595/e67/ce3595e6753b4ffea244844cb1291e50.png" alt="image"><br>  Next, we find the natural frequency for S <br><img src="https://habrastorage.org/files/7f5/0c3/a69/7f50c3a6964843c49e951d174ff4d3f4.png" alt="image"><br><img src="https://habrastorage.org/files/4ab/230/758/4ab230758e474d3197105172f161c0ea.png" alt="image"><br>  The natural frequency for T is found in the Bode diagram.  According to condition 5, the frequency 40 rad / s T should be below -46 dB, which means that when tilted at -40 dB / dec, the natural frequency should be below 4 rad / s.  Building the Bode, we select the optimal value, I got that: <br><img src="https://habrastorage.org/files/7fb/d11/f2f/7fbd11f2f1234f029daacfe71d29bd47.png" alt="image"><br><img src="https://habrastorage.org/files/abc/285/e49/abc285e4973e4e58ba1a1c32f6b7be3c.png" alt="image"><br>  <i><b>Figure 11</b> : T-function bode</i> <br><br>  After that, we have all the data to build ST, which we then transform into weight functions.  ST have the following form: <br><img src="https://habrastorage.org/files/835/106/ace/835106aceefe4d4e966261c385ba7f36.png" alt="image"><br>  Usually, Butterworth coefficients are used to build weight functions. <br><img src="https://habrastorage.org/files/a51/34f/7eb/a5134f7eb2044c8681c478cf762d646f.png" alt="image"><br>  Weight functions are: <br><img src="https://habrastorage.org/files/7a0/e50/cf1/7a0e50cf18a54f2ba082c9710cddf489.png" alt="image"><br>  For <img src="https://habrastorage.org/files/5f9/2ed/312/5f92ed31202b42ca80fc67f9c2254e7f.png" alt="image">  everything is simple, and we have everything we need to substitute in the formula.  For <img src="https://habrastorage.org/files/774/af9/a91/774af9a91e7e40c6a45ba184848bbb02.png" alt="image">  need a few more calculations. <br>  Since the performance characteristics give us the boundary conditions under which our controller will fulfill all the conditions.  Weight functions unite all the conditions in themselves and then are used as the right and left border in which to be the controller satisfying all the conditions. <br>  For <img src="https://habrastorage.org/files/774/af9/a91/774af9a91e7e40c6a45ba184848bbb02.png" alt="image"><br><ul><li><img src="https://habrastorage.org/files/b5c/5a3/656/b5c5a36562e446d7a00b194e54778cba.png" alt="image">  this parameter is called generalized DC gain, it displays the behavior for low frequencies (s = 0) <br><br></li><li><img src="https://habrastorage.org/files/49a/09e/5e2/49a09e5e2c2e4c3499548d9cbe5be00e.png" alt="image">  , w1 choose approximately near the frequency of the disturbance or one decade lower (set at 0.0005 rad / s) <br><br></li><li>  ‚Ä¢ LMI solver does not accept function zeroes (zero in origine), therefore s is replaced by zero near the origin (s + 0.0005) </li></ul><br><br></li></ol><br>  As a result, we get: <br><img src="https://habrastorage.org/files/56d/ecf/6ff/56decf6ff3b34a6eabc7697999a54432.png" alt="image"><br><h5>  <b>Generalized plant</b> </h5><br>  The Hinf method or the method of minimizing the infinite norm of Hinfinity refers to the general formulation of a control problem which is based on the following scheme of the control system with feedback: <br><br><img src="https://habrastorage.org/files/281/7b4/990/2817b49907d54f0d8bcca10a49025954.png" alt="image"><br>  <i><b>Figure 12</b> : Generalized control system diagram</i> <br><br>  Let us go to the point of calculation of the controller and what is needed for this.  The study of the calculation algorithms was not explained to us, they said: ‚ÄúDo it like this and everything will turn out‚Äù, but the principle is quite logical.  The controller is obtained during the solution of the optimization problem: <br><img src="https://habrastorage.org/files/28e/501/9d7/28e5019d768e459c813bb93a08bfddcc.png" alt="image"><br><img src="https://habrastorage.org/files/b3e/fbb/55b/b3efbb55b9024569ae4aa9f145d3735b.png" alt="image">  - closed transfer function from W to Z. <br>  Now we need to make a generalized plant (dotted rectangle of rice below).  We have already determined gpn, it is a nominal control object.  Gc - the controller that we get in the end.  W1 = Ws (s), W2 = max (WT (s), Wu (s)) are weight functions defined earlier.  Wu (s) is a weight function of uncertainty, let's define it. <br><img src="https://habrastorage.org/files/939/e44/69a/939e4469a4f0499f943650ca9a5f44bb.png" alt="image"><br>  <i><b>Figure 13</b> : Expanded control scheme</i> <br><br><h6>  <b>Wu (s)</b> </h6><br>  Suppose that we have multiplicative uncertainties in the control object, we can depict it like this: <br><img src="https://habrastorage.org/files/d91/1c5/ed3/d911c5ed362e4fb0ad15433b0f37f50d.png" alt="image"><br>  <i><b>Figure 14</b> : Multiplicative uncertainty</i> <br><br>  And so for finding Wu we use matlab.  We need to build a Bode with all possible deviations from the nominal control object, and then build a transfer function that describes all these uncertainties: <br><img src="https://habrastorage.org/files/4db/c40/1c8/4dbc401c8205439580df9ec70c0939a4.png" alt="image"><br>  Let's make about 4 passes for each parameter and build a bode.  As a result, we get this: <br><img src="https://habrastorage.org/files/1aa/2c5/472/1aa2c54729fa43e18165ebd9716663e2.png" alt="image"><br>  <i><b>Figure 15</b> : Uncertainty Bode Digram</i> <br><br>  Wu will lie above these lines.  In the matlab there is a tool that allows the mouse to specify points and builds the transfer function using these points. <br><br><div class="spoiler">  <b class="spoiler_title">Code</b> <div class="spoiler_text">  mf = ginput (20); <br>  magg = vpck (mf (:, 2), mf (:, 1)); <br>  Wa = fitmag (magg); <br>  [A, B, C, D] = unpck (Wa); <br>  [Z, P, K] = ss2zp (A, B, C, D); <br>  Wu = zpk (Z, P, K) <br></div></div><br><br>  After the introduction of points, the curve grows old and it is proposed to introduce the degree of transfer function, we introduce degree 2. <br>  Here's what happened: <br><img src="https://habrastorage.org/files/0a9/2f8/4d7/0a92f84d7519471aba5f22809245aed7.png" alt="image"><br>  Now we define W2, for this we construct Wt and Wu: <br>  From the graph you can see that Wt is more than Wu means W2 = Wt. <br><img src="https://habrastorage.org/files/077/014/948/077014948f9d402cbcd489e417629276.png" alt="image"><br>  <i><b>Figure 16</b> : Definition W2</i> <br><br>  Next, we need to build a generalized plant in the simulator as done below: <br><img src="https://habrastorage.org/files/50d/073/fea/50d073fea2ff4c1b954e5953de83cb8a.png" alt="image"><br>  <i><b>Figure 17</b> : Block diagram of the Generalized plant in simulink</i> <br><br>  And save as a name, for example g_plant.mdl <br>  <i><u>One important point:</u></i> <br><img src="https://habrastorage.org/files/33a/60a/f79/33a60af79df24a58a07c64a22ea58004.png" alt="image">  - not proper tf, if we leave it so it will give us an error.  For this we replace <img src="https://habrastorage.org/files/862/50e/246/86250e246f9c443d995fd20021fc9bf5.png" alt="image">  and then add two zeros to the z2 output using ‚Äúsderiv‚Äú. <br><div class="spoiler">  <b class="spoiler_title">Implementation in matab</b> <div class="spoiler_text">  p = 2;  % frequency of zeros in the frequency T function <br>  [Am, Bm, Cm, Dm] = linmod ('g_plant'); <br>  M = ltisys (Am, Bm, Cm, Dm); <br>  M = sderiv (M, 2, [1 / p 1]); <br>  M = sderiv (M, 2, [1 / p 1]); <br>  [gopt, Gcmod] = hinflmi (M, [1 1], 0.0.01, [0.0.0]); <br>  [Ac, Bc, Cc, Dc] = ltiss (Gcmod); <br>  [Gc_z, Gc_p, Gc_k] = ss2zp (Ac, Bc, Cc, Dc); <br>  Gc_op = zpk (Gc_z, Gc_p, Gc_k) <br></div></div><br>  After executing this code, we get the controller: <br><img src="https://habrastorage.org/files/6e3/138/33d/6e313833d14c450484684339c802f140.png" alt="image"><br>  In principle, it is possible to leave it that way, but usually low and high frequency zeros and poles are removed.  Thus, we reduce the controller order.  And we get the following controller: <br><img src="https://habrastorage.org/files/dc2/d8a/e64/dc2d8ae645ef491ba6e678c6288cecba.png" alt="image"><br>  let's get this Hichols chart: <br><img src="https://habrastorage.org/files/152/866/10e/15286610ed53428489105c418014bcf8.png" alt="image"><br>  <i><b>Figure 18</b> : Hichols chart of open-loop system with received controller</i> <br><br>  And Step response: <br><img src="https://habrastorage.org/files/834/4a2/07d/8344a207d9a94f0a81f7a37370ac6d16.png" alt="image"><br>  <i><b>Figure 19</b> : Transient response of a closed system with a controller</i> <br><br>  And now the sweetest.  Was our controller robust or not?  For this experiment, we just need to change our control object (coefficients k, p1, p2) and see the step response and characteristics of interest, in our case this is overshoot, control time for 5% and rise time [2]. <br><img src="https://habrastorage.org/files/a41/efa/f93/a41efaf93fe14f9685d826cabb33f195.png" alt="image"><img src="https://habrastorage.org/files/e10/733/e00/e10733e00418489ebb935634c3e88ceb.png" alt="image"><img src="https://habrastorage.org/files/8e5/df4/84d/8e5df484d966494c8c0b0cbaad0c13ca.png" alt="image"><br>  <i><b>Figure 20</b> : Time characteristics for different parameters of the control object</i> <br><br>  Having built 20 different transient characteristics, I selected the maximum values ‚Äã‚Äãfor each time characteristic: <br>  ‚Ä¢ Maximum re-regulation - 7.89% <br>  ‚Ä¢ Max rise time - 2.94 s <br>  ‚Ä¢ Max time of a regelirovaniye of 5% - 5.21 sec. <br>  And about a miracle, the characteristics where necessary not only for the nominal object, but also for the interval of parameters. <br>  And now we compare with the classic PID controller, and see if the game was worth the candle or not. <br><br>  PID calculated pidtool for the nominal control object (see above): <br><br><img src="https://habrastorage.org/files/a15/066/50c/a1506650ce444d0b872f81b4be3b739c.png" alt="image"><br>  <i><b>Figure 21</b> : Pidtool</i> <br><br>  We get this controller: <br><img src="https://habrastorage.org/files/955/8e2/c40/9558e2c4039249069fc6b11aa940c765.png" alt="image"><br><br>  Now <b>H-infinity vs PID</b> : <br><br><img src="https://habrastorage.org/files/6e8/b9b/50a/6e8b9b50a88d454d9cb566d8eaeaa5a9.png" alt="image"><br>  <i><b>Figure 22</b> : H-infinity vs PID</i> <br><br>  It can be seen that the PID does not cope with such uncertainties and the HRP goes beyond the specified limits, while the robust controller "rigidly" keeps the system at specified reregulation intervals, rise time and regulation. <br><br>  In order not to lengthen the article and not to bore the reader, I will omit the verification of characteristics 2-5 (errors), I will say that in the case of a robust controller all errors are lower than specified, a test was also performed with other parameters of the object: <br><br><img src="https://habrastorage.org/files/36b/492/7df/36b4927df3e7482eae8cb3466e0c462f.png" alt="image"><br><br>  Errors were lower than the specified ones, which means that the controller completely copes with the task.  While PID failed only with point 4 (dp error). <br><br>  That's all for the calculation of the controller.  Criticize, ask. <br><br>  Link to file: <a href="https://drive.google.com/open%3Fid%3D0B2bwDQSqccAZTWFhN3kxcy1SY0E">drive.google.com/open?id=0B2bwDQSqccAZTWFhN3kxcy1SY0E</a> <br><br><h4>  Bibliography </h4><br>  1. Guidelines for the Selection of Weighting Functions for H-Infinity Control <br>  2. <a href="http://it.mathworks.com/help/robust/examples/robustness-of-servo-controller-for-dc-motor.html">it.mathworks.com/help/robust/examples/robustness-of-servo-controller-for-dc-motor.html</a> </div><p>Source: <a href="https://habr.com/ru/post/306934/">https://habr.com/ru/post/306934/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../306922/index.html">Creating a Doodle Jump game for Android in Intel XDK in 2 hours on JavaScript from scratch</a></li>
<li><a href="../306924/index.html">Mal, Yes Del: Review younger servers in the HPE ProLiant ML line</a></li>
<li><a href="../306928/index.html">Learning OpenGL ES2 for Android Lesson number 3. Lighting</a></li>
<li><a href="../306930/index.html">Find.By - finding & verifying locators</a></li>
<li><a href="../306932/index.html">How we accelerated PHP projects 40 times with caching</a></li>
<li><a href="../306940/index.html">Coroutines everywhere</a></li>
<li><a href="../306944/index.html">Machine learning for tennis prediction: part 1</a></li>
<li><a href="../306946/index.html">Lead from the fields: who and how applied qualitative methods in UX Research to develop IT products. Part 1 of 6</a></li>
<li><a href="../306948/index.html">Sign Language Translator: Implementing Support Vector Machines on Intel Edison</a></li>
<li><a href="../306950/index.html">Hackers got access to Telegram user accounts in Iran</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>