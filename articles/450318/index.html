<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Design patterns in modern JavaScript development</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The author of the material, the translation of which we publish, says that in the world of software development, ‚Äúarchitectural design‚Äù can be called ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Design patterns in modern JavaScript development</h1><div class="post__text post__text-html js-mediator-article">  The author of the material, the translation of which we publish, says that in the world of software development, ‚Äúarchitectural design‚Äù can be called the process of constructing an application, during which it is sought to be made high-quality, reliable and well-supported.  At the same time, design patterns (templates) allow you to operate with concepts that represent approaches to solving common problems.  These solutions can range from abstract, conceptual, to very specific.  Their knowledge allows developers to communicate effectively with each other. <br><br>  If at least two developers in a team understand patterns, the conversation about solving problems facing a team becomes very productive.  If only one member of the team knows about the patterns, it is usually just to explain what he knows to the other members of the team. <br><br> <a href="https://habr.com/ru/company/ruvds/blog/450318/"><img src="https://habrastorage.org/getpro/habr/post_images/a74/120/d5b/a74120d5b954738ab73942c594530a2b.jpg" alt="image"></a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The purpose of this article is to interest readers in something like a formal presentation of knowledge in the field of software development, demonstrating to them the idea of ‚Äã‚Äãdesign patterns and describing several patterns that are interesting because they have found application in modern JavaScript-Development. <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Pattern "Singleton"</font> </h2><br><h3>  <font color="#3AC1EF">‚ñçGeneral information</font> </h3><br>  The singleton design pattern, which is also called the ‚Äúloner‚Äù, cannot be called one of the most widely used patterns, but we start the conversation with it, since it is relatively easy to understand. <br><br>  This pattern arises from the mathematical concept of a singleton - a one-element set, that is, a set containing only one element.  For example, the set {null} is singleton. <br><br>  In the field of software development, the meaning of the ‚Äúsingleton‚Äù pattern is that we limit the number of possible instances of a certain class to one object.  When you first try to create an object based on the class that implements this pattern, such an object is actually created.  All subsequent attempts to create an instance of the class result in the return of the object created during the first attempt to obtain an instance of the class. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/50d/2e1/8c5/50d2e18c5888907acb07e86cab34fb27.png"></div><br>  <i><font color="#999999">Why another superhero when we have Batman?</font></i> <br><br>  Above is an example of a class that implements the singleton pattern. <br><br><h3>  <font color="#3AC1EF">‚ñçWhy is it needed?</font> </h3><br>  It is clear that this pattern allows us to restrict ourselves to only one ‚Äúsuperhero‚Äù (this is obviously Batman).  But why else would he need it? <br><br>  Although this pattern is not devoid of its own problems (it used to be called evil, considering that singletons were called <a href="http://misko.hevery.com/2008/08/17/singletons-are-pathological-liars/">pathological liars</a> ), it can be very useful in some situations.  One of these situations is to initialize configuration objects.  In a typical application, it makes sense to keep only one instance of such an object, unless, in accordance with the features of the project, it does not use several such objects. <br><br><h3>  <font color="#3AC1EF">‚ñçWhere is it used?</font> </h3><br>  The main example of using the ‚Äúsingleton‚Äù pattern in large popular frameworks is Angular services.  The Angular documentation has a separate <a href="https://angular.io/guide/singleton-services">page</a> explaining how to make a service a singleton. <br><br>  Making services in the form of singletons has a deep meaning, as services are used as state storage, configuration, and allow you to organize the interaction between components.  All this leads to the fact that the developer needs that in his application there would not be several instances of the same service. <br><br>  Consider an example.  Suppose we have a simple application that is used to calculate the number of button presses. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/513/892/3bf/5138923bf446b4a737cca97a98d75e92.png"></div><br>  <i><font color="#999999">Each click on any of the buttons updates the counter.</font></i> <br><br>  The number of clicks on the buttons must be stored in one object, which implements the following features: <br><br><ul><li>  It allows you to count clicks on buttons. </li><li>  It allows you to read the current value of the click counter. </li></ul><br>  If such an object would not be a singleton (and each button would have its own instance of such an object associated), then the program would incorrectly count the number of button presses.  In addition, with this approach it is necessary to solve the following problem: ‚ÄúFrom which object, which is responsible for counting clicks, will the data displayed on the screen be taken?‚Äù. <br><br><h2>  <font color="#3AC1EF">The Observer Pattern</font> </h2><br><h3>  <font color="#3AC1EF">‚ñçGeneral information</font> </h3><br>  The observer pattern is a design pattern in which an object called a ‚Äúsubject‚Äù (subject) maintains a list of dependent objects called observers and automatically notifies them when their state changes, usually by calling one of their methods. . <br><br>  Understanding this pattern is not difficult if you find its analogy in the real world.  Namely, we are talking about newspaper subscriptions. <br><br>  Suppose you usually buy newspapers at a kiosk.  You go there, ask if there is a fresh issue of your favorite newspaper.  If you don‚Äôt have what you need in the kiosk, then you go home, having wasted time, and then again go to the kiosk.  If we consider this situation in the application to JavaScript, then it would be similar to the cyclical polling of some entity, performed until the necessary data is obtained from it. <br><br>  After you finally get the newspaper you need, you can proceed to what you have been striving for all this time - take a cup of coffee and unwrap the newspaper.  In JavaScript, this would be equivalent to calling a callback, which we were going to call after getting the desired result. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/820/16c/e5f/82016ce5faf7c7b5526b8b7767590501.jpg"></div><br>  <i><font color="#999999">Finally you can read the newspaper.</font></i> <br><br>  It would be much more reasonable to do this: subscribe to a newspaper and receive a fresh issue every day.  With this approach, the publisher will let you know that the latest issue of the newspaper has been published, and will deliver it to you.  You do not have to go to the kiosk anymore.  No more wasting time. <br><br>  If you go back to JavaScript again, this means that you will no longer have to wait in the loop for some result, and, having received it, call some function.  Instead, you tell the subject that you are interested in certain events (messages), and you give him a callback function, which should be called when the data you are interested in is ready.  You then become an observer. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4b4/6c8/e4e/4b46c8e4eea800ddf38d68f42676d795.png"></div><br>  <i><font color="#999999">Now you will never miss your favorite morning paper.</font></i> <br><br>  The pattern in question has one nice feature: you do not have to be the only observer.  If you can't get your favorite newspaper, it will upset you.  But the same thing will happen with other people who can not buy it.  That is why several observers can subscribe to one subject. <br><br><h3>  <font color="#3AC1EF">‚ñçWhy is it needed?</font> </h3><br>  The ‚Äúobserver‚Äù pattern is used in many situations, but usually it should be used when you want to create a one-to-many relationship between objects, and at the same time such objects should not be tightly coupled.  In addition, the created system should be able to notify an unlimited number of objects about certain changes. <br><br>  JavaScript applications are a great place to apply the ‚Äúobserver‚Äù pattern, since everything here is controlled by events, and instead of constantly turning to an entity, knowing whether an event of interest has occurred, it would be much better to give it the opportunity to notify you when the occurrence of this event (it looks like the old saying: "We don‚Äôt need to call. When we need to, we will call you ourselves"). <br><br>  It is likely that you have already used structures that resemble the "observer" pattern.  For example, it is <code>addEventListener</code> .  Adding an event listener to an item has all the hallmarks of using a ‚Äúwatcher‚Äù pattern: <br><br><ul><li>  You can subscribe to the object. </li><li>  You can unsubscribe from the object. </li><li>  The object can inform the event of all its subscribers. </li></ul><br>  It is useful to be aware of the existence of the ‚Äúobserver‚Äù pattern in the sense that this knowledge allows you to realize your own subject, or much faster than before, to deal with an existing solution using this pattern. <br><br><h3>  <font color="#3AC1EF">‚ñçWhere is it used?</font> </h3><br>  The basic implementation of this pattern does not have to be particularly difficult, but there are excellent libraries that implement it and are used in many projects.  This is a <a href="http://reactivex.io/">ReactiveX</a> project, and its JavaScript version of <a href="https://github.com/ReactiveX/rxjs">RxJS</a> . <br><br>  The RxJS library allows you not only to subscribe to subjects, but also gives the programmer the ability to transform data in a variety of ways, allows you to combine multiple subscriptions, and improves the ability to manage asynchronous operations.  In addition, its capabilities are not limited to this.  If you have ever wanted to raise the capabilities of their programs for processing and converting data to a higher level, then you can recommend to explore the RxJS library. <br><br>  In addition to the ‚Äúobserver‚Äù pattern, the ReactiveX project can be proud of the implementation of the ‚Äúiterator‚Äù pattern (iterator), which enables the subject to inform subscribers about the completion of the subscription, in fact, allowing the subject to be canceled at the initiative of the subject.  In this article, I'm not going to talk about the ‚Äúiterator‚Äù pattern, but I can say that if you are just starting to study design patterns, studying this pattern and thinking about how it is combined with the ‚Äúobserver‚Äù pattern can be good exercises. <br><br><h2>  <font color="#3AC1EF">Pattern "facade"</font> </h2><br><h3>  <font color="#3AC1EF">‚ñçGeneral information</font> </h3><br>  The facade pattern got its name from architecture.  In architecture, the facade is usually one of the outer sides of the building, as a rule - the front side.  English borrowed the word "facade" from French.  We are talking about the word "fa√ßade", which, among other things, translates as "the front side of the building." <br><br>  The facade of a building in architecture is the outer part of the building that hides what is inside.  Similar properties can be noted in the ‚Äúfacade‚Äù pattern, as it aims to hide complex internal mechanisms behind some external interface.  Its use allows the developer to work with an external API, arranged fairly simply, and, at the same time, provides the ability to change the internal mechanisms hidden behind the facade, without disturbing the performance of the system. <br><br><h3>  <font color="#3AC1EF">‚ñçWhy is it needed?</font> </h3><br>  The ‚Äúfacade‚Äù pattern can be used in a huge number of situations, among which it is possible to highlight those of them when they try to make the code simpler to understand (that is, they hide complex mechanisms behind simple APIs), and those when fragments of systems tend to make weaker related to each other. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d3e/7e5/1fb/d3e7e51fbd6d7f239e8629609aa2f661.png"></div><br>  <i><font color="#999999">These objects need something from the dragon's lair</font></i> <br><br>  It is easy to see that an object facade (or a layer with several objects) is a very useful abstraction.  Hardly anyone wants to face the dragon in the event that this can be avoided.  The object-facade is needed in order to provide other objects with a convenient API, and with all the dragon tricks this object will manage on its own. <br><br>  Another useful feature of the ‚Äúfacade‚Äù pattern is that you can ‚Äúredo‚Äù the dragon as you like, but this will not affect other parts of the application.  Suppose you want to replace the dragon with a kitten.  A kitten, like a dragon, has claws, but it is easier to feed him.  To change a dragon for a kitten - this means - to rewrite the code of the facade object without making changes to the dependent objects. <br><br><h3>  <font color="#3AC1EF">‚ñçWhere is it used?</font> </h3><br>  Pattern "facade" can often be found in Angular.  There, services are used as tools to simplify some kind of basic logic.  But this pattern is applicable not only in Angular, below you can see this. <br><br>  Suppose we need to add a state management system to the application.  To solve this problem, you can use different tools, among them - Redux, NgRx, Akita, MobX, Apollo, as well as constantly emerging new tools.  Why not try them all? <br>  What is the main functionality that a state library should provide?  These are probably the following options: <br><br><ul><li>  A mechanism to alert the state management system that we need to change the state. </li><li>  The mechanism for obtaining the current state or its fragment. </li></ul><br>  It looks all not so bad. <br><br>  Now, armed with the ‚Äúfacade‚Äù pattern, you can write facades for working with different parts of the state, providing convenient APIs that can be used in the program.  For example, something like <code>facade.startSpinner()</code> , <code>facade.stopSpinner()</code> and <code>facade.getSpinnerState()</code> .  Such methods are simple to understand, they can easily be referred to in a conversation about the program. <br><br>  After that, you can work with objects that implement the ‚Äúfacade‚Äù pattern and write code that will transform your code so that it can work with Apollo (state management using GraphQL is a hot topic).  It is possible that during the tests you will find that Apollo is not suitable for you, or that it is inconvenient for you to write unit tests for this state management system.  No problem - write a new fa√ßade designed for MobX support and test the system again. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d17/329/e50/d17329e50a91025847eaeb93ad94b741.png"></div><br>  <i><font color="#999999">Different systems for managing the state of the application, which is accessed through a single facade, can also be dragons ...</font></i> <br><br><h2>  <font color="#3AC1EF">Results</font> </h2><br>  You probably noticed that when talking about design patterns, we didn‚Äôt look at code samples.  The fact is that a deep analysis of each pattern draws at least a separate chapter in a book that is far from being the thinnest.  By the way, since we started talking about books, <a href="http://wiki.c2.com/%3FDesignPatternsBook">here</a> and <a href="https://www.goodreads.com/book/show/58128.Head_First_Design_Patterns">now</a> - interesting publications that can be looked at by those who want to delve into the study of patterns. <br><br>  In the end, I want to say that in mastering patterns, nothing compares to searching on the Internet, reading and independent testing of various ideas.  Even if it turns out that you will never use the patterns, you will learn something new and grow into areas unexpected for yourself. <br><br>  <b>Dear readers!</b>  What design patterns do you use? <br><br> <a href="https://ruvds.com/ru-rub/"><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div><p>Source: <a href="https://habr.com/ru/post/450318/">https://habr.com/ru/post/450318/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../450308/index.html">GPU Ray Tracing in Unity - Part 3</a></li>
<li><a href="../450310/index.html">How does the Philips VideoWRITER. First pictures of iron, then a bit of bore</a></li>
<li><a href="../450312/index.html">Beginner Compose Docker Tutorial</a></li>
<li><a href="../450314/index.html">TensorFlow for beginners. Part 1: general information, library installation</a></li>
<li><a href="../450316/index.html">TDD: development methodology that changed my life</a></li>
<li><a href="../450320/index.html">Simple quantum games reveal the ultimate complexity of the universe.</a></li>
<li><a href="../450322/index.html">Why do we need so many messengers?</a></li>
<li><a href="../450324/index.html">How a performance monitoring system automatically dismisses Amazon employees</a></li>
<li><a href="../45033/index.html">CMF BORS ¬©</a></li>
<li><a href="../450330/index.html">Choosing a school when moving to the United States</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>