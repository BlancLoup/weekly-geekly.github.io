<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Haiku operating system: porting applications and creating packages</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the autumn of this year, after 6 years of development, the first beta version of the Haiku operating system R1 / beta1 was released. I have been fo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Haiku operating system: porting applications and creating packages</h1><div class="post__text post__text-html js-mediator-article">  In the autumn of this year, after 6 years of development, the first beta version of the <a href="https://en.wikipedia.org/wiki/Haiku_(operating_system)" title="Haiku, Operating system, Wikipedia page.">Haiku</a> operating system R1 / beta1 was released.  I have been following this interesting project for a long time, which is aimed at the reconstruction and subsequent development of the <a href="https://en.wikipedia.org/wiki/BeOS" title="BeOS, Wikipedia page.">BeOS</a> system that existed in 1994-2000.  Therefore, as soon as I saw news on the release of the beta version of Haiku on IT news sites, I immediately decided to see what was added to this long-awaited release.  After installing the system in a <a href="https://www.virtualbox.org/" title="VirtualBox, Official site.">VirtualBox</a> virtual machine and a little familiarization with its main functionality, I thought that it would be nice to help the OpenSource community, which is developing this operating system today.  I decided to start with what I have gained a little experience: with porting some game projects. <br><br><div style="text-align:center;"><img title="Desktop Haiku operating system." src="https://habrastorage.org/webt/aw/eo/qy/aweoqyqziwcmq_qcwirvpf6drno.png"></div><br>  <i>Desktop Haiku operating system.</i> <br><br>  Later I tried to modify some already existing applications and libraries.  This is my small activity in various open source repositories that this article will be devoted to.  In it, I will successively describe the problems I encountered and tell you about the methods for solving them.  Most of the patches that were made in the course of this work, I tried to send <a href="https://en.wikipedia.org/wiki/Upstream_(software_development)" title="Upstream, Software Development, Wikipedia page.">upstream</a> existing projects in order to provide support for Haiku and interest their developers in the existence of alternative operating systems. <br><a name="habracut"></a><br>  The Haiku operating system uses a <a href="https://en.wikipedia.org/wiki/Hybrid_kernel" title="Hybrid kernel, Wikipedia page.">hybrid core</a> , which is an implementation of the micronuclear architecture with the ability to dynamically load the necessary modules.  It is based on the fork of the <a href="http://newos.org/" title="NewOS, Official site.">NewOS</a> kernel, which was developed by a former <a href="https://en.wikipedia.org/wiki/Be_Inc." title="Be Inc., Wikipedia page.">Be Inc.</a> engineer <a href="https://en.wikipedia.org/wiki/Be_Inc." title="Be Inc., Wikipedia page.">.</a>  , By Travis Geiselbrecht.  Today, this developer is working at Google on a kernel called <a href="https://github.com/fuchsia-mirror/zircon" title="Zircon, read-only sources mirror, GitHub repository.">Zircon</a> for the new <a href="https://en.wikipedia.org/wiki/Google_Fuchsia" title="Google Fuchsia, Wikipedia page.">Google Fuchsia</a> operating system, but that's another story.  So, since the Haiku developers declare binary compatibility with BeOS, they are forced to maintain not two architectural branches that are familiar to everyone, but three: x86_64, x86 and x86_gcc2.  The latter architecture is the compiler load compatibility with the old version of <a href="https://en.wikipedia.org/wiki/GNU_Compiler_Collection" title="GNU Compiler Collection, Wikipedia page.">GCC</a> 2.95.  Thanks to it, it is possible to launch applications written for the original BeOS operating system.  Unfortunately, due to this compatibility load, Haiku developers cannot use the advanced features of the C ++ programming language in the system APIs.  However, they prepare installation images only for two architectures: x86_64 and x86.  The fact is that the Haiku distribution for x86 is a hybrid one: despite the fact that all system components are built under x86_gcc2 to provide binary compatibility, the user is given the opportunity to install or build any modern applications that were made with modern compilers and x86 architecture .  The x86_64 Haiku distribution is fully 64-bit and does not have the ability to run 32-bit BeOS and Haiku applications.  However, compatibility at the API level is available, so if you have the source code of the application under BeOS or Haiku x86, you can easily compile it under Haiku x86_64 and everything should work.  An x86_64 operating system image is recommended for installation on real hardware, if you do not require support for any specific BeOS applications or 32-bit Haiku applications. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      It is worth saying that this operating system has partial support for the <a href="https://en.wikipedia.org/wiki/POSIX" title="POSIX, Wikipedia page.">POSIX</a> standard.  This foundation makes it akin to UNIX-like systems and makes it easy to port their software.  The main programming language is C ++, it is actively used, since Haiku's public APIs mainly pursue an object-oriented programming paradigm.  However, no one forbids the use of the C programming language, only for most cases you will have to write the appropriate compatibility layer.  The operating system software interface is grouped into separate system frameworks that are responsible for a particular opportunity, for example, the interface or network support.  This is a bit like what is available in <a href="https://developer.apple.com/documentation/" title="Apple Developer Documentation.">macOS</a> or in the <a href="http://doc.qt.io/qt-5/qtmodules.html" title="All Qt Modules, Official documentation.">Qt</a> framework.  It is necessary to note that this operating system is single-user, although there are some progress towards providing multi-user operation for Haiku developers. <br><br>  I can not share with the readers of this article, the positive experience of using the advanced window management system of applications, which is available in Haiku.  In my opinion, it is one of the most convenient and of its kind is the hallmark of this OS. <br><br><div style="text-align:center;"><img title="Advanced window management in the Haiku operating system: support for tiling and tabs." src="https://habrastorage.org/webt/tw/cm/qe/twcmqedw1ofbempjx2ktaxjesmi.png"></div><br>  <i>Advanced window management in the Haiku operating system: support for tiling and tabs.</i> <br><br>  Windows can be fastened together in tabs, as is done in modern browsers, attach them to each other and conveniently change their size.  <a href="https://en.wikipedia.org/wiki/Tiling_window_manager" title="Tiling window manager, Wikipedia page.">Simple tiling</a> , context transfer of some applications from one window to another, and <a href="https://ru.wikipedia.org/wiki/%25D0%25A0%25D0%25B5%25D0%25BF%25D0%25BB%25D0%25B8%25D0%25BA%25D0%25B0%25D0%25BD%25D1%2582_(BeOS)" title="Replicant, BeOS, Wikipedia site.">replicants are</a> supported.  For more information about all the features of the local window system can be found in the <a href="https://www.haiku-os.org/docs/userguide/en/gui.html" title="Haiku's GUI, Official Haiku documentation.">official documentation</a> , there are also described all the necessary shortcut keys. <br><br>  I will not write in this article a complete overview of all the features and capabilities of Haiku, since those who are interested in it will easily be able to independently find the necessary information on the Internet. <br><br><a name="article-content"></a><h2>  Content: </h2><br>  <a href="https://habr.com/ru/post/434690/">1. Packages and repositories in Haiku</a> <br>  <a href="https://habr.com/ru/post/434690/">2. First Steps: Porting the Adamant Armor Affection Adventure Game</a> <br>  <a href="https://habr.com/ru/post/434690/">3. Completion of the existing port NXEngine (Cave Story)</a> <br>  <a href="https://habr.com/ru/post/434690/">4. Porting the Gish game</a> <br>  <a href="https://habr.com/ru/post/434690/">5. The project BeGameLauncher, which allows you to quickly create launchers for games</a> <br>  <a href="https://habr.com/ru/post/434690/">6. Porting Xash3D: the legendary game Half-Life and official additions</a> <br>  <a href="https://habr.com/ru/post/434690/">7. Porting the two parts of the game Serious Sam: The First Encounter and The Second Encounter</a> <br>  <a href="https://habr.com/ru/post/434690/">8. Porting the game Vangers</a> <br>  <a href="https://habr.com/ru/post/434690/">9. Implementation of dialogs in the library SDL2 for Haiku</a> <br>  <a href="https://habr.com/ru/post/434690/">10. Porting my fork to the program Cool Reader</a> <br>  <a href="https://habr.com/ru/post/434690/">11. Improvement of the program KeymapSwitcher</a> <br>  <a href="https://habr.com/ru/post/434690/">12. Conclusion</a> <br><br><a name="packages"></a><h2>  1. Packages and repositories in Haiku </h2><br>  Compared to the original BeOS, Haiku has a significant innovation: the package management system, which includes various tools for getting and installing software from various sources.  Such sources can be the official <a href="https://www.haiku-os.org/docs/userguide/en/preferences/repositories.html" title="Repositories, Official Haiku documentation.">Haiku</a> and <a href="https://github.com/haikuports/haikuports" title="HaikuPorts, GitHub repository.">HaikuPorts</a> repositories, informal repositories and just separate and specially prepared HPKG packages.  Such opportunities for installing and updating software have long been known in the world of Unix-like operating systems, but now all their power and convenience have successfully reached Haiku, which cannot but make ordinary users of this operating system happy.  Thanks to the infrastructure manager built around the package manager, now any developer can easily port a new or modify an existing open source application, then add the results of his work to the ports repository of HaikuPorts software, after which they will be available to all Haiku users.  As a result, the resulting ecosystem resembles that of macOS with their <a href="https://brew.sh/" title="Homebrew, The missing package manager for macOS.">Homebrew</a> , FreeBSD with their <a href="https://www.freebsd.org/ports/" title="About FreeBSD Ports, Official FreeBSD site.">ports</a> , Windows with <a href="https://www.msys2.org/" title="MSYS2 is a software distro and building platform for Windows.">MSYS2</a> or Arch Linux with its <a href="https://aur.archlinux.org/" title="Arch Linux user repository.">AUR</a> 'ohm. <br><br>  A tool for building packages and porting software, called <a href="https://github.com/haikuports/haikuporter" title="HaikuPorter, GitHub repository.">HaikuPorter</a> , comes separately from the operating system and installs on a small <a href="https://github.com/haikuports/haikuports/wiki" title="HaikuPorts documentation, GitHub wiki page.">manual</a> located in the repository on GitHub.  After installing this utility, the entire recipe tree is downloaded from the same GitHub and the developer works on it.  The recipe is a regular Shell script with instructions on which HaikuPorter will build the required HPKG package.  It is noteworthy that the tool itself is written in the <a href="https://en.wikipedia.org/wiki/Python_(programming_language)" title="Python, Programming language, Wikipedia page.">Python</a> 2 programming <a href="https://en.wikipedia.org/wiki/Python_(programming_language)" title="Python, Programming language, Wikipedia page.">language</a> , works closely with the existing package management system, and uses the standard tool, <a href="https://en.wikipedia.org/wiki/Git" title="Git, Wikipedia page.">Git</a> , to capture changes in the software source code and generate a set of patches.  Thanks to this stack of technologies, it is very easy and simple to make recipes for assembling HPKG packages and patch sets to software in the form of patchset files.  In most cases, I had to use only three commands when working with HaikuPorter: <br><br><pre><code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">alias</span></span> hp=<span class="hljs-string"><span class="hljs-string">"haikuporter -S -j4 --get-dependencies --no-source-packages"</span></span> hp libsdl2 hp libsdl2 -c hp libsdl2 -e</code> </pre> <br>  The first command simply collects the selected package, the second command clears the build directory, and the third creates or updates the patch set according to your changes, which were recorded in the Git-repository of the working directory via commits. <br><br>  Thus, to publish a package to the HaikuPorts repository and make it available to all Haiku users, the developer must install the HaikuPorter, expand the recipe tree, locally build the HPKG package and test it, then make a commit in its fork of the recipe tree, after that draw the <a href="https://en.wikipedia.org/wiki/Distributed_version_control" title="Distributed version control, Pull requests, Wikipedia page.">Pull request</a> on GitHub.  The published work must be considered by the Haiku developers, after which they decide to pour your changes into the repository or send them for revision.  If changes are accepted, then the same HaikuPorter installed on the build server will remotely assemble the package and automatically publish it to the repository. <br><br>  A special <a href="https://www.haiku-os.org/docs/userguide/en/applications/haikudepot.html" title="HaikuDepot, Official Haiku documentation.">HaikuDepot</a> program was added to the beta version of R1 / beta1 of the Haiku operating system, which allows you to work with packages and repositories through a graphical user interface, rather than via console commands in the terminal. <br><br><div style="text-align:center;"><img title="The HaikuDepot program running on the Haiku operating system." src="https://habrastorage.org/webt/bv/7d/bt/bv7dbtkhvrdz4nunutpahn4kate.png"></div><br>  <i>The HaikuDepot program running on the Haiku operating system.</i> <br><br>  Thanks to this tool, inexperienced and novice Haiku users can conveniently manage their package base.  It should be noted that this application is not just a GUI shell over the existing package manager, but also implements additional functionality.  For example, authorized users can rate and write reviews for packages available for installation.  In addition, HaikuDepot has a special <a href="https://depot.haiku-os.org/" title="Haiku Depot Web site.">Haiku Depot Web</a> site that allows you to view changes to the package base on the Internet or download individual HPKG packages. <br><br>  <a href="https://habr.com/ru/post/434690/"><em>&lt;&lt; Skip to content</em></a> <br><br><a name="aaaa"></a><h2>  2. First Steps: Porting the Adamant Armor Affection Adventure Game </h2><br>  After I familiarized myself with the functionality of the operating system in the VirtualBox virtual machine, I decided to evaluate the work of the SDL2 library in it and port the <a href="https://exlmoto.ru/adamant-armor-affection-adventure-droid/" title="Porting Adamant Armor Affection Adventure on Android OS.">Adamant Armor Affection Adventure</a> game to Haiku, about which I wrote to the Android platform earlier.  Building the program did not require any changes to the source code, I just installed all the necessary tools, libraries, their header files from the repository and did the following: <br><br><pre> <code class="bash hljs">cmake -DCMAKE_BUILD_TYPE=Release -DGLES=off -DANDROID=off -DCMAKE_C_FLAGS=<span class="hljs-string"><span class="hljs-string">"-D__linux__"</span></span> -DSDL2_INCLUDE_DIR=`finddir B_SYSTEM_HEADERS_DIRECTORY` -DSDL2_MIXER_INCLUDE_DIR=`finddir B_SYSTEM_HEADERS_DIRECTORY` ../aaaa/src/main/cpp cmake --build .</code> </pre><br>  Since Haiku has POSIX, the -D__linux__ or <strong>-D__unix__ defaults</strong> solve many problems associated with the definition of the platform.  However, it is worth noting that it is best to abandon their use and implement support for Haiku in the source code of the project, if there are similar problems with the assembly.  Calling the system utility <strong>finddir</strong> with a specific argument allows you to get the correct path to the header files for different architectures. <br><br>  So, having executed the commands above, I compiled an executable file that started perfectly, and the game worked fine.  I thought that it would be cool to prepare a self-sufficient HPKG package with the game and for this I went deep into the Internet in search of the information I needed.  Then I didn‚Äôt know about any convenient tools for porting software, like HaikuPorter, which I wrote about in the section above, so for the realization of my goal I decided to cheat and disassemble any system package to see how it works inside and done by analogy. <br><br>  On the Internet, I found the desired <a href="http://ru.haiku-os.wikia.com/wiki/%25D0%25A1%25D0%25BE%25D0%25B7%25D0%25B4%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5_HPKG-%25D0%25BF%25D0%25B0%25D0%25BA%25D0%25B5%25D1%2582%25D0%25B0" title="Creation of HPKG-package, HaikuOS - Russian-language Wiki.">information</a> , then unpacked a random system package using the <strong>Expander</strong> archiver built into the local file manager, found the <strong>.PackageInfo</strong> file, edited it and, in accordance with the structure of my application, changed the files.  Then I just executed the commands to build the HPKG package and install it into the system: <br><br><pre> <code class="bash hljs">package create -C AAAA/ aaaa.pkg pkgman install aaaa.pkg</code> </pre><br>  Unfortunately, the launch of the game from the ‚ÄúApplications‚Äù menu was not successful.  Having run the executable file in the terminal, I received an error saying that it was impossible to find the data files that were necessary for the launch and operation of the application.  At the same time, if you go to the application package directory in the terminal, then everything started up normally.  This gave me the idea that when you start the game from the menu you need to make a forced change to the application directory.  This can be done either with a shell script or by changing the source of the game.  I chose the second option and added something similar to this code: <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifdef</span></span></span><span class="hljs-meta"> __HAIKU__ </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">// To make it able to start from Deskbar chdir(dirname(argv[0])); #endif</span></span></span></span></code> </pre><br>  At the very beginning of the start function <strong>main ()</strong> , which completely solved this problem and the package turned out to be workable.  In the comments on the news about the release of the Haiku beta on <a href="https://www.linux.org.ru/news/opensource/14503016%3Fcid%3D14504356" title="Haiku R1 / beta1 released - Open Source - News.">Linux.org.ru,</a> I dropped a link to my assembled package and asked someone to send me to some active communities of users of this operating system, then went to bed. <br><br><div style="text-align:center;"><img title="The port of the game Adamant Armor Affection Adventure, running on the Haiku operating system." src="https://habrastorage.org/webt/fw/v-/lg/fwv-lgs1iqaf-bm-gdsoft2dwww.png"></div><br>  <i>The port of the game Adamant Armor Affection Adventure, running on the Haiku operating system.</i> <br><br>  In the morning I wrote an e-mail to a person using the nickname <strong><a href="https://habr.com/users/3deyes/" class="user_link">3dEyes</a></strong> .  As it turned out later, <strong>Gerasim Troyeglazov</strong> , one of the active developers of Haiku and the author of the port of the Qt framework for this operating system, was hiding behind this name.  He showed me the HaikuPorts repository and told me how to use the HaikuPorter utility.  In addition, he wrote a recipe for building the Adamant Armor Affection Adventure HPKG package and added it to HaikuDepot. <br><br>  After analyzing all the changes made by this developer, I noticed that there were some flaws in my manually assembled package, for example, the settings were not saved because the mounted directories of the installed packages did not have the ability to write.  This problem with writing settings or saving in its package was elegantly solved with the help of symlinks in a special recordable directory for saving user data.  My package also did not have its own original icon. <br><br>  In addition, I learned that in Haiku there is no hardware acceleration of 3D graphics and the same OpenGL is drawn programmatically using CPU power.  For heavy graphics applications this, of course, is no good, but for old games this is more than enough.  I even decided to specifically check the game package and installed Haiku on my old laptop, that is, on real hardware.  To my surprise, the Adamant Armor Affection Adventure picture rendered so fast that if I hadn‚Äôt been told about the lack of hardware acceleration, I wouldn‚Äôt have noticed that the rendering is done by my processor. <br><br>  <strong>Project Source Code: <a href="https://github.com/EXL/AdamantArmorAffectionAdventure" title="Adamant Armor Affection Adventure, GitHub repository.">https://github.com/EXL/AdamantArmorAffectionAdventure</a></strong> <br><br>  I postponed the manual creation of HPKG packages until better times and completely switched to using the HaikuPorter tool and writing recipes.  But sometimes there are situations when manual reassembly is required.  For example, if HaikuPorter has set the ‚Äúnight‚Äù version of Haiku too high in the <strong>.PackageInfo</strong> file, the package should be tested on the release version of the operating system.  It is worth noting that it was thanks to Gerasim‚Äôs responsiveness and experience that I was able to understand many of the intricacies of creating packages for the Haiku operating system and continued my work further. <br><br>  <a href="https://habr.com/ru/post/434690/"><em>&lt;&lt; Skip to content</em></a> <br><br><a name="nxengine"></a><h2>  3. Completion of the existing port NXEngine (Cave Story) </h2><br>  I was incredibly surprised to find in the HaikuPorts repository a recipe that referred to my fork of the <a href="https://exlmoto.ru/nxengine/" title="Cave Story (Doukutsu Monogatari) via NXEngine for various platforms.">NXEngine</a> engine <a href="https://exlmoto.ru/nxengine/" title="Cave Story (Doukutsu Monogatari) via NXEngine for various platforms.">for the game Cave Story</a> , which I had been <a href="https://exlmoto.ru/nxengine/" title="Cave Story (Doukutsu Monogatari) via NXEngine for various platforms.">analyzing for</a> a long time on my blog.  The recipe and patches were prepared by a developer named <strong>Zolt√°n Mizsei</strong> , who uses the nickname <strong>extrowerk</strong> and is the active maintainer of many packages for Haiku. <br><br>  Surface analysis, package installation and application launch revealed the same problems that I described in the previous section of this article: saving the game did not work, the settings were not saved either, and besides the package did not have the original icon.  I decided to correct these shortcomings and started working on the patch, first integrating all the extrowerk's work.  I wrote an original <strong>Makefile</strong> for the Haiku operating system and corrected the recording and saving of various user data. <br><br><div style="text-align:center;"><img title="The port of the game Cave Story based on the NXEngine engine, launched in the Haiku operating system." src="https://habrastorage.org/webt/cu/fy/xs/cufyxskkttfmgcra7wcq9blp88g.png"></div><br>  <i>The port of the game Cave Story based on the NXEngine engine, launched in the Haiku operating system.</i> <br><br>  Since the game assumed Russian and English versions with a different set of executable files and data files, I decided to make a general package that combines two versions at once and automatically selects the necessary one based on the system language chosen by the user.  This was implemented by the simplest shell script: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash if [[ `locale -l` == ru* ]] ; then EXE="`finddir B_SYSTEM_APPS_DIRECTORY`/NXEngine/RUS/Cave Story" else EXE="`finddir B_SYSTEM_APPS_DIRECTORY`/NXEngine/ENG/Cave Story" fi "$EXE" $@</span></span></code> </pre><br>  This script is launched when the game item is selected in the ‚ÄúApplications‚Äù menu and determines the current system locale.  In the event that the user chose Russian as the system language, the Russian version of the game will be launched, and in all other cases - the English version. <br><br>  But with the creation of the original icons for the application had to pretty tricky.  The fact is that in the Haiku operating system, only vector icons of a special <a href="http://blog.leahhanson.us/post/recursecenter2016/haiku_icons.html" title="500 Byte Images: The Haiku Vector Icon Format.">HVIF</a> format are <a href="http://blog.leahhanson.us/post/recursecenter2016/haiku_icons.html" title="500 Byte Images: The Haiku Vector Icon Format.">allowed</a> , which are set as attributes of the <a href="https://en.wikipedia.org/wiki/Be_File_System" title="Be File System, Wikipedia page.">Be File System</a> file system.  In the official documentation, there are two large manuals dedicated to creating your own icons for applications: the <a href="https://www.haiku-os.org/development/icon-guidelines" title="Icon Guidelines, Development, Official Haiku site.">first manual</a> describes the styling and design, and the <a href="https://www.haiku-os.org/docs/userguide/en/applications/icon-o-matic.html" title="Icon-O-Matic, Official Haiku documentation.">second manual</a> describes in detail how to use the <strong>Icon-O-Matic</strong> system program for creating icons. <br><br>  Icon-O-Matic allows you to import simple SVG files and export the resulting icon to the necessary format for HaikuPorter, called HVIF RDef, which is the same HVIF, but converted to text.  RDef files can contain not only images, but also additional information, for example, the version of the application and its description.  Something these files resemble RES-files used in Windows.  The following commands in the recipe compile RDef files and set the result to special attributes: <br><br><pre> <code class="bash hljs">rc nxengine-launcher.rdef resattr -o <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$appsDir</span></span></span><span class="hljs-string">/NXEngine/Cave Story"</span></span> nxengine-launcher.rsrc addResourcesToBinaries <span class="hljs-variable"><span class="hljs-variable">$sourceDir</span></span>/build/nxengine-rus.rdef <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$appsDir</span></span></span><span class="hljs-string">/NXEngine/RUS/Cave Story"</span></span></code> </pre><br>  In addition, the recipes define the <strong>addResourcesToBinaries</strong> function to automate this work.  The problem with the Icon-O-Matic program is one, but very serious: those SVG files that are saved by the popular <a href="https://inkscape.org/" title="Inkscape, Official site.">Inkscape</a> vector editor either do not open or are imported without the support of some necessary features, for example, gradients.  Therefore, an adventure quest with converting raster images into vectors through the use of various paid and free online and offline converters, and then opening the resulting SVG files in Icon-O-Matic, I failed miserably.  Later, I solved the problem of opening SVG files and found a workaround, but I'll write about this below.  In the meantime, I decided to use the standard features of Icon-O-Matic and draw an icon on my own.  After half an hour of work on hard copying pixels, I got the following art: <br><br><div style="text-align:center;"><img title="The standard program is Icon-O-Matic in the Haiku operating system." src="https://habrastorage.org/webt/3d/zw/pk/3dzwpkyex_ccbhffzoqovf9ioue.png"></div><br>  <i>The standard program is Icon-O-Matic in the Haiku operating system.</i> <br><br>  Yes, I used a vector editor to create an image in the Pixel Art genre.  In my amateurish opinion, a person who is poorly versed in art, turned out quite well.  I saved this icon in the right format, prepared all the changes, updated the recipe and sent everything to the HaikuPorts repository. <br><br>  <strong>Project Source Code: <a href="https://github.com/EXL/NXEngine" title="NXEngine, GitHub repository.">https://github.com/EXL/NXEngine</a></strong> <br><br>  I sent the resulting packages, just in case, to the fan site of the game <a href="https://www.cavestory.org/download/cave-story.php" title="Download Cave Story, Cave Story (Doukutsu Monogatari), A Tribute Site.">Cave Story (Doukutsu Monogatari)</a> , the administration of which added the Haiku operating system to the downloads section. <br><br>  <a href="https://habr.com/ru/post/434690/"><em>&lt;&lt; Skip to content</em></a> <br><br><a name="gish"></a><h2>  4. Porting the Gish game </h2><br>  The next project I decided to transfer to Haiku was <a href="https://exlmoto.ru/gish-droid/" title="Porting Gish to Android OS: using the OpenAL and GL4ES libraries.">Gish</a> , which I previously transferred to Android.  In the HaikuPorts repository there was a recipe for an unfinished free implementation of the game called <a href="https://en.wikipedia.org/wiki/Gish_(video_game)" title="Freegish, Wikipedia page.">Freegish</a> , so I decided to add the original game there, but without the data files, since they, unlike the engine, are supplied separately and are not free at all. <br><br><div style="text-align:center;"><img title="The port of the game Gish, launched in the Haiku operating system." src="https://habrastorage.org/webt/yu/dm/r9/yudmr9o3bxzmrc5a6shyyxjvj_w.jpeg"></div><br>  <i>The port of the game Gish, launched in the Haiku operating system.</i> <br><br>  I had no particular problems with porting this game.  The executable file was assembled immediately after the execution of the following build commands: <br><br><pre> <code class="bash hljs">cmake gish/src/main/cpp/ \ -DGLES=0 \ -DANDROID=0 \ -DSDL2_INCLUDE_DIR=`finddir B_SYSTEM_HEADERS_DIRECTORY` \ -DCMAKE_C_FLAGS=<span class="hljs-string"><span class="hljs-string">"`sdl2-config --cflags` -D__linux__"</span></span> \ -DCMAKE_BUILD_TYPE=Release cmake --build .</code> </pre><br>  Next, I implemented the ability to launch the game from the ‚ÄúApplications‚Äù menu and provided support for storing user data in a writable and dedicated directory: <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">char</span></span></span><span class="hljs-function">* </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getHaikuSettingsPath</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> path[PATH_MAX]; find_directory(B_USER_SETTINGS_DIRECTORY, <span class="hljs-number"><span class="hljs-number">-1</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>, path, <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(path)); <span class="hljs-built_in"><span class="hljs-built_in">strcat</span></span>(path, <span class="hljs-string"><span class="hljs-string">"/Gish/"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> strdup(path); }</code> </pre><br>  The <strong>getHaikuSettingsPath ()</strong> function using the <strong>find_directory ()</strong> function from the Haiku API generates the full path to the directory I need. <br><br>  <strong>Project Source Code: <a href="https://github.com/EXL/Gish" title="Gish, GitHub repository.">https://github.com/EXL/Gish</a></strong> <br><br>  It remained to solve the following question: how should the user choose the directory with the original files of the game Gish?  The problem could be solved using Shell-scripts and the <strong>alert</strong> system utility, but I decided to approach this problem more thoroughly and implement a convenient GUI launcher using the Haiku API and the <a href="https://www.haiku-os.org/docs/api/group__interface.html" title="Interface Kit, Official Haiku documentation.">Interface Kit</a> framework. <br><br>  <a href="https://habr.com/ru/post/434690/"><em>&lt;&lt; Skip to content</em></a> <br><br><a name="launcher"></a><h2>  5. The project BeGameLauncher, which allows you to quickly create launchers for games </h2><br>  My project BeGameLauncher was decided to write in C ++ the old standard of 1998, using native operating system tools for creating applications with a graphical user interface.  Since the names of many programs for Haiku and BeOS begin with the re-fix ‚ÄúBe‚Äù, I also decided to choose such a name for the project.  I decided to start with an introduction to the Interface Kit framework, which is part of the Haiku API.  In addition to sufficiently detailed documentation on the official Haiku website, I found two simply excellent courses of lessons from <strong>DarkWyrm</strong> , which allow the novice developer to quickly understand how these or other system classes work.  The first course is called <a href="https://www.haiku-os.org/development/learning_to_program_with_haiku" title="Learning to Program with Haiku, Official Haiku site.">Learning to Program with Haiku</a> and at the very beginning touches upon the foundations of the C ++ programming language, which will be very useful for beginning programmers.  The second course is called <a href="https://www.haiku-os.org/development/programming_with_haiku" title="Programming With Haiku, Official Haiku site.">Programming With Haiku</a> and is intended for those who are already familiar with C ++ and have a basic knowledge of this language.  Both courses talk about the most diverse aspects of the Haiku API and therefore will be very helpful to anyone who wants to start building applications for this operating system. <br><br>  After reading this excellent material diagonally, I made a general impression of the Haiku API and began to consider my further actions.  I already had some experience developing application applications using the Qt framework, which is also written in the C ++ programming language and uses the object-oriented paradigm of building programs.  So, the Haiku API is very similar to it, except for the absence of a system of signals and slots, so I will often carry out some parallels and comparisons with Qt.  In addition, it is worth noting the use of the principle of <a href="https://en.wikipedia.org/wiki/Event-driven_programming" title="Event-driven programming, Wikipedia page.">Event-driven programming</a> , which is common in Haiku API, which allows various entities to interact with each other by transmitting events or messages.  The analogue of the <strong>QEvent</strong> class here is the <strong>BMessage</strong> class, around which the system of interaction of objects is built.  An instance of the <strong>BMessage</strong> class generally gets a unique number that allows you to identify the sender and its action in the general event filter. <br><br>  For my project, it was necessary to select the appropriate Haiku API classes that would allow to implement the conceived functionality.  First, to launch an external application, it was necessary to find an analogue of the <strong>QProcess</strong> class or the POSIX <strong>execve ()</strong> function, which, by the way, also works fine in the Haiku operating system, but I decided that using native tools would be preferable, but just case left the ability to run applications through the POSIX-function.  The <strong>inter</strong> -process interaction class <strong>BRoster was</strong> excellent for this purpose.  It found the appropriate <strong>Launch ()</strong> method, which allows you to set the path to the executable file and pass arguments to it.  Since the launcher should be able to save some parameters, for example, a user-selected directory with game data files, I needed a class that does all this.  In Qt, this class has the name <strong>QSettings</strong> , and in the Haiku API, as Gerasim suggested to me, there is a class <strong>BMessage</strong> already familiar to me, which has a very useful feature.  The thing is that information of this class can be easily serialized and, for example, saved to disk.  This is very convenient and is often used to record any user data in programs, so I chose this class to save the settings in my project for the implementation of launchers.  ,  Haiku API     <strong>QDebug</strong> ,             <strong>stderr</strong> ,   <strong>fprintf()</strong>     C: <br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// .h #if __cplusplus &gt;= 201103L #define BeDebug(...) fprintf(stderr, __VA_ARGS__) #else extern void BeDebug(const char *format, ...); #endif // __cplusplus == 201103L // .cpp #if __cplusplus &lt; 201103L #include &lt;cstdarg&gt; void BeDebug(const char *format, ...) { va_list args; va_start(args, format); vfprintf(stderr, format, args); va_end(args); } #endif</span></span></code> </pre><br>         <strong>BeDebug()</strong> ,          ,   .    - ,  C++98       . <br><br>    Qt    <strong>QMessageBox</strong> ,        - ,      , ,    .  Haiku API      <strong>BAlert</strong> ,      ,    Qt. ,         ,    ,   -       .       ,                - . <br><br>        .       ,      ,        .     , <strong>BeLauncherBase</strong> ,      ,          GUI-.  , <strong>BeAboutWindow</strong> ,      ¬´ ...¬ª  ,     .  ,     , ,   Gish,     : <br><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GishAboutWindow</span></span></span><span class="hljs-class"> :</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> BeAboutWindow { ... }; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GishLauncher</span></span></span><span class="hljs-class"> :</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> BeLauncherBase { ... }; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ BeApp *beApp = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BeApp(SIGNATURE); GishLauncher *gishLauncher = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GishLauncher(BeUtils::GetPathToHomeDir()); beApp-&gt;SetMainWindow(gishLauncher); beApp-&gt;Run(); <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> beApp; beApp = <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; }</code> </pre><br><br> -,     <strong>main()</strong> ,  -            .     C++-            Gish . <br><br><div style="text-align:center;"><img title=" ' ...'     Gish." src="https://habrastorage.org/webt/k1/hy/iw/k1hyiwbvnz6gnxaar4p7k2tnsso.png"></div><br> <i> ¬´ ...¬ª     Gish.</i> <br><br>     ,                .        .       .        ¬´Run¬ª           <strong>setenv()</strong> ,           <strong>getenv()</strong> ,    .  ,    ,    <strong>BRoster</strong>    <strong>Launch()</strong> :   ,            ,     .                .           .                 .          ,    . ,              ,         .    ,               .           . <br><br>    ,        .    : Makefile ¬´ ¬ª  <a href="https://cmake.org/" title="CMake, Official site.">CMake</a> .   ,    Haiku    <strong>makefile-engine</strong> ,      ,     ,     Haiku API, ,       .     ,    ,    CMake         makefile-engine.            ,      . <br><br><div style="text-align:center;"><img title="    Gish  Haiku." src="https://habrastorage.org/webt/jy/fw/wh/jyfwwhdhgxzofr_3cczuxxvmsig.png"></div><br> <i>    Gish  Haiku.</i> <br><br>        .   Qt     - <strong>tr()</strong> ,    <strong>lrelease</strong>  <strong>lupdate</strong> ,     .         <strong>Qt Linguist</strong>     ,   .  Haiku API         . ,   ,      <strong>B_TRANSLATE()</strong> ,       <strong>B_TRANSLATION_CONTEXT</strong> ,        .       :      <strong>-DB_COLLECTING_CATKEYS</strong>      ,  -     <strong>grep</strong>     PRE-  .         <strong>collectcatkeys</strong> ,          CATKEYS-.       <strong>linkcatkeys</strong> ,       .  ,         . ,    Haiku API       . ,        <a href="https://www.haiku-os.org/community/getting-involved/translating/3rdparty/" title="Localizing an application, Official Haiku site.">Localizing an application</a> ,            .   ,   BeOS    <a href="https://www.haiku-os.org/docs/api/locale_intro.html" title="Locale Kit, Official Haiku documentation.">Locale Kit</a>        Haiku. <br><br>             C++.  ,   Haiku    Qt,   HaikuPorts   IDE,  <a href="https://en.wikipedia.org/wiki/Qt_Creator" title="Qt Creator, Wikipedia page.">Qt Creator</a>  <a href="https://www.kdevelop.org/" title="KDevelop, Official site.">KDevelop</a> .  ,   <a href="https://en.wikipedia.org/wiki/Java_virtual_machine" title="Java virtual machine, Wikipedia page.">JVM</a> ,    IDE,     Java, , <a href="https://netbeans.org/" title="NetBeans, Official site.">NetBeans</a>  <a href="https://www.jetbrains.com/idea/" title="IntelliJ IDEA, Official site.">IntelliJ IDEA</a> .        Qt Creator,              <strong>LibClang</strong> ,         . <br><br><div style="text-align:center;"><img title="   Qt Creator,     Haiku." src="https://habrastorage.org/webt/sk/jg/he/skjgheksjieuiyylk7uhe1_dk6e.png"></div><br> <i>   Qt Creator,     Haiku.</i> <br><br>      IDE  Haiku  .     ?        ,    <strong>DarkWyrm</strong>       <strong>Adam Fowler</strong> ,   <a href="https://github.com/adamfowleruk/Paladin" title="Paladin, Official GitHub repository.">Paladin</a> .            <strong>Pe</strong>    IDE. <br><br><div style="text-align:center;"><img title="   Paladin  Haiku,    HaikuPorts." src="https://habrastorage.org/webt/xp/ad/jp/xpadjpfvl4sfridhlc4wob9s3a0.png"></div><br> <i>   Paladin  Haiku,    HaikuPorts.</i> <br><br>       Haiku     Paladin   Pe   .    HaikuPorts     <a href="https://github.com/KapiX/Koder" title="Koder, Official GitHub repository.">Koder</a> ,     <a href="https://notepad-plus-plus.org/" title="Notepad++, Official site.">Notepad++</a>  Windows        <a href="https://en.wikipedia.org/wiki/Scintilla_(software)" title="Scintilla, Wikipedia page.">Scintilla</a> .       PLD-    ,   Paladin IDE,         . <br><br>    Qt Creator      ,      .  ,    ,          .   BeOS    GUI-    .    ,      , ,               .  ,  Haiku         <a href="https://www.haiku-os.org/docs/api/group__layout.html" title="Layout API, Official Haiku documentation.">Layout API</a> ,     Interface Kit. <br><br><div style="text-align:center;"><img title="  Layout API          Haiku." src="https://habrastorage.org/webt/qt/m1/te/qtm1tehjp2cilj-wfflmps8hi8m.png"></div><br> <i>  Layout API          Haiku.</i> <br><br>                Layout API,        .    Haiku      <a href="https://www.haiku-os.org/documents/dev/laying_it_all_out_part_1/" title="Laying It All Out, Official Haiku site.">Laying It All Out</a> ,       ,           . <br><br>     ,          ,   .    ,           Haiku    .  ,    <strong>Launch()</strong>    <strong>BRoster</strong>    .    ,        ,   ,       .     Haiku   ,   ,        ,     <strong>Launch()</strong>    ,      . <br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// Error const char* args[] = { "/bin/open", fURL.String(), NULL }; be_roster-&gt;Launch(&amp;ref, 2, args); // Good const char* args[] = { fURL.String(), NULL }; be_roster-&gt;Launch(&amp;ref, 1, args); // See "src/kits/app/Roster.cpp", BRoster::ArgVector::Init() method: if (error == B_OK) { fArgs[0] = fAppPath.Path(); // &lt;= Here if (argc &gt; 0 &amp;&amp; args != NULL) { for (int i = 0; i &lt; argc; i++) fArgs[i + 1] = args[i]; if (hasDocArg) fArgs[fArgc - 1] = fDocPath.Path(); } // NULL terminate (eg required by load_image()) fArgs[fArgc] = NULL; }</span></span></code> </pre><br>     <strong>Launch()</strong>     ,      ,        .             .           Haiku?     .  ,      !     GitHub  Gerrit- <a href="https://review.haiku-os.org/" title="Haiku Code Review, Official site.">Haiku Code Review</a> ,    SSH-,    Haiku,          <a href="https://en.wikipedia.org/wiki/Code_review" title="Code review, Wikipedia page.">Code review</a>  : <br><br><pre> <code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> ssh://EXL@git.haiku-os.org/haiku --depth=1 -b master &amp;&amp; <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> haiku git commit git push origin master:refs/<span class="hljs-keyword"><span class="hljs-keyword">for</span></span>/master</code> </pre><br>      ,            commit-  ID,     Haiku Code Review.  ,   ,  Haiku   ,     .              .          ,        <strong>jam</strong> ,      <a href="https://en.wikipedia.org/wiki/Perforce_Jam" title="Perforce Jam and Haiku Jam, Wikipedia page.">Perforce Jam</a>          Haiku,   .       <strong>ReadMe.Compiling.md</strong> ,        . <br><br>   ,       Icon-O-Matic   SVG-,      Inkscape.    ,  Icon-O-Matic     <strong>viewBox</strong> , ,    SVG-   ,     Inkscape    <strong>Plain SVG file</strong> ,       Icon-O-Matic.          SVG-,         Icon-O-Matic  .     ReadMe-     ,         Inkscape. <br><br>          ,       .       ,     .   ,    <strong>GetBitmap()</strong>  <strong>BTranslationUtils</strong>   NULL: <br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// Somewhere fBitmap = BTranslationUtils::GetBitmap(B_PNG_FORMAT, fIndex); void BeImageView::Draw(BRect rect) { // Fail const BRect bitmapRect = fBitmap-&gt;Bounds(); ... }</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">And in the </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Draw ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> method, </font><font style="vertical-align: inherit;">I inadvertently forgot to check the field of the </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fBitmap</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> class </font><font style="vertical-align: inherit;">for validity. Therefore, the application was expected to fall if it did not find a specific picture, but according to the plan it was necessary to draw a red square instead. I told this story to the fact that static analyzers are far from a panacea and care when working with code in the C ++ programming language is required in any case. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I upload the source code of the BeGameLauncher project and all my work in the repository on GitHub. I hope this program will be useful to someone and may become a kind of textbook as a simple application for Haiku: </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Project source code: </font></font><a href="https://github.com/EXL/BeGameLauncher" title="BeGameLauncher, GitHub repository."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/EXL/BeGameLauncher</font></font></a></strong> <br><br>    ,           HaikuPorts.           Haiku,    ,     ,     : <br><br><pre> <code class="bash hljs">settype -t application/x-vnd.Be-elfexecutable <span class="hljs-variable"><span class="hljs-variable">$appsDir</span></span>/Gish/engine/Gish rc <span class="hljs-variable"><span class="hljs-variable">$portDir</span></span>/additional-files/gish.rdef -o gish.rsrc resattr -o <span class="hljs-variable"><span class="hljs-variable">$appsDir</span></span>/Gish/engine/Gish gish.rsrc</code> </pre><br>                <strong>QuickLaunch</strong> ,     .          . <br><br> <a href="https://habr.com/ru/post/434690/"><em>&lt;&lt;   </em></a> <br><br><a name="xash3d"></a><h2> 6.  Xash3D:   Half-Life    </h2><br>  <a href="http://xash3d.ru/doku.php" title="Xash3D Official site.">Xash3D</a>      GoldSrc,     <a href="https://en.wikipedia.org/wiki/Half-Life_(video_game)" title="Half-Life, Video Game, Wikipedia page.">Half-Life</a>     .   Xash3D    <strong> </strong> ,         .       ,    <a href="https://github.com/FWGS/xash3d/" title="FWGS Xash3D, Official GitHub repository.">FWGS Xash3D</a> ,      ,   Windows.     FWGS Xash3D  <strong><a href="https://habr.com/users/mittorn/" class="user_link">mittorn</a></strong>  <strong>a1batross</strong> ( <a href="https://habr.com/users/libpony/" class="user_link">libpony</a> ),         <a href="http://forum.motofan.ru/" title="MotoFan.Ru -   .">MotoFan.Ru</a> ,          . <br><br>   :        Haiku,    Xash3D     ,   Haiku      Half-Life,     ?     ‚Äî              . <br><br>           ,      ,       Xash3D,       Haiku. -,    <strong>-D__linux__</strong>        .          ,     ,     Half-Life         Black Mesa. <br><br><div style="text-align:center;"><img title="   Xash3D  Haiku     Qt Creator." src="https://habrastorage.org/webt/8t/rd/59/8trd59d_6xk6-5nvpyjjvnvl0q0.png"></div><br> <i>   Xash3D  Haiku     Qt Creator.</i> <br><br>  ,      SDL2,     ,      -  ,    , :  ,    OpenGL-,    .       SDL2    .      ,    Haiku   ,   , ,     . <br><br>    ,      ,    .    C++-            : <br><br><div style="text-align:center;"><img title="    Xash3D  Haiku." src="https://habrastorage.org/webt/fc/-5/ta/fc-5tazmkwvtk5e553ztbwipdoy.png"></div><br> <i>    Xash3D  Haiku.</i> <br><br>   :    ,           .                   ,          . ,    <strong>XASH3D_BASEDIR</strong>      ,     .   <strong>XASH3D_GAME</strong>   ,        .     <strong>XASH3D_MIRRORDIR</strong> ,    .      Xash3D         .  , ,     -   Xash3D  Haiku              : <br><br> ‚Ä¢ ./cl_dlls/libclient-haiku.so <br> ‚Ä¢ ./dlls/libserver-haiku.so <br> ‚Ä¢ ./cl_dlls/libclient-haiku64.so <br> ‚Ä¢ ./dlls/libserver-haiku64.so <br><br>         .    Xash3D         Half-Life,   <a href="https://en.wikipedia.org/wiki/Half-Life:_Blue_Shift" title="Half-Life: Blue Shift, Wikipedia page.">Blue Shift</a>  <a href="https://en.wikipedia.org/wiki/Half-Life:_Opposing_Force" title="Half-Life: Opposing Force, Wikipedia page.">Opposing Force</a> ,        ,       -  . <br><br>     Xash3D      . ,         ,      <strong>--help</strong> ,        <strong>MAX_SYSPATH</strong> ,      <strong>MAX_PATH</strong> ,      Haiku API.  ,     ,            .     ,  -        <strong>stderr</strong>        .  -   ,        <strong>MAX_PATH</strong>    Haiku.        1024 .     ,         4096 ,  .        :     <strong>MAX_PATH</strong>   ,       . <br><br><div style="text-align:center;"><img title="    Half-Life,      Blue Shift  Opposing Force,     Xash3D    Haiku (,   )." src="https://habrastorage.org/webt/j-/9m/58/j-9m58kzb6pha8dsg5-_rlbbfvw.jpeg"></div><br> <i>    Half-Life,      Blue Shift  Opposing Force,     Xash3D    Haiku (,   <a href=""></a> ).</i> <br><br>              . ,     <strong>XASH_INTERNAL_GAMELIBS</strong>     ,   .       .    <strong>a1batross</strong> ,     ,       <strong>OpenVGUI</strong>   .    Xash3D  Haiku     ,        <strong>XASH_INTERNAL_GAMELIBS</strong>      . <br><br>         Haiku  <strong>WebPositive</strong>        Xash3D .      ,         ,           .        <strong>execve()</strong> ,      <strong>system()</strong> ,       - . <br><br>  Xash3D        <strong>SDL_ShowSimpleMessageBox()</strong>  <strong>SDL_ShowMessageBox()</strong> ,      SDL2  Haiku     .        .        . <br><br><div style="text-align:center;"><img title="  Xash3D,    Haiku Depot." src="https://habrastorage.org/webt/jo/fn/8q/jofn8q1crxkrfms-cr5c4mivrf8.png"></div><br> <i>  Xash3D,    Haiku Depot.</i> <br><br>   ,      Xash3D  Haiku,     SDL2   ;     3D-   .       ,        ,     . ,    ,              . ,            .      SDL2  Haiku      Half-Life      . ,  3D-       .           ,       FPS.                GPU,      Intel. <br><br> <strong>  : <a href="https://github.com/FWGS/xash3d" title="Xash3D, GitHub repository.">https://github.com/FWGS/xash3d</a></strong> <br><br>         FWGS Xash3D,     ,          HaikuPorts    HaikuDepot    Haiku. <br><br> <a href="https://habr.com/ru/post/434690/"><em>&lt;&lt;   </em></a> <br><br><a name="serious"></a><h2> 7.     Serious Sam: The First Encounter  The Second Encounter </h2><br>     <a href="http://www.croteam.com/" title="Croteam, Official site.">Croteam</a>     <a href="https://github.com/Croteam-official/Serious-Engine" title="Serious Engine, Official GitHub repository.">Serious Engine</a> ,      Serious Sam: <a href="https://en.wikipedia.org/wiki/Serious_Sam_(video_game)" title="Serious Sam: The First Encounter, Wikipedia page.">The First Encounter</a>  <a href="https://en.wikipedia.org/wiki/Serious_Sam_(video_game)" title="Serious Sam: The Second Encounter, Wikipedia page.">The Second Encounter</a> .         Haiku,      . <br><br><div style="text-align:center;"><img title="    Serious Engine  Haiku." src="https://habrastorage.org/webt/lk/3b/ep/lk3bep2lrqjisyvfokrzp3tnovi.png"></div><br> <i>    Serious Engine  Haiku.</i> <br><br>         - ,         - ,      SDL2,         Haiku.            <strong>stderr</strong>     ,          . <br><br><div style="text-align:center;"><img title="  Serious Sam: The Second Encounter,      Serious Engine    Haiku." src="https://habrastorage.org/webt/dt/us/dy/dtusdy2gusdfijgdvipexqfcb0o.jpeg"></div><br> <i>  Serious Sam: The Second Encounter,      Serious Engine    Haiku.</i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Having decomposed the downloaded files into the required directories, I was able to launch the second part of this wonderful game without any problems and even ran a little through the beautiful jungle. Despite the lack of 3D acceleration, the processor pulls out the graphic charms of the game, if you run it in a window, and not in full-screen mode. This engine works, of course, where with a smaller FPS than the Xash3D engine, about which I wrote above, but the graphics here are more modern and better. After some manipulations, it was possible to launch the first part of the game, which requires a different executable file and a different set of dynamic libraries. Surprisingly, she earned a little faster, apparently the graphics in it are not so demanding. Having climbed the settings of the engine, I found a huge number of graphical parameters that can significantly reduce the load on the processor,that in the case of Haiku was very helpful.</font></font><br><br><div style="text-align:center;"><img title="  Serious Sam: The First Encounter,      Serious Engine    Haiku." src="https://habrastorage.org/webt/lb/bw/uq/lbbwuq6ei6thjz8evtumifyuqso.jpeg"></div><br> <i>  Serious Sam: The First Encounter,      Serious Engine    Haiku.</i> <br><br>          ,             . ,          Serious Sam: The First Encounter,           .         Serious Sam: The Second Encounter,        ,      . <br><br>  ,    .           .      Linux    .            . ,     ,           <strong>SDL_Window</strong> ,   OpenGL-       -     .     SDL2  Haiku   .                    ,       ,     .    ,    : ,    ,   . <br><br>        .    Linux,  ,    .    ,         <strong>libvorbisfile</strong> ,         ,     <strong>dlopen()</strong> ,      OGG-.    ,   Haiku      ,           . <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> CUnixDynamicLoader::DoOpen(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> *lib) { <span class="hljs-comment"><span class="hljs-comment">// Small HACK for Haiku OS (: #ifdef __HAIKU__ static int vorbis_cnt = 3; char path[PATH_MAX]; char libpath[PATH_MAX]; find_directory(B_SYSTEM_LIB_DIRECTORY, -1, false, libpath, PATH_MAX); if (strstr(lib, "vorbis")) { snprintf(path, sizeof(path), "%s/libvorbisfile.so.%c", libpath, char(vorbis_cnt + '0')); vorbis_cnt++; lib = path; } #endif // fprintf(stderr, "dlopen =&gt; %s\n", lib); module = ::dlopen(lib, RTLD_LAZY | RTLD_GLOBAL); SetError(); }</span></span></code> </pre><br>  ,         ,    .          ,         . ,      API. <br><br>  ,    ,         x86,   x86_64   .    x86        <strong>SERIOUS_MHZ</strong>      ,     .        ,  -   .     ,            ,    Haiku API          ,    : <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;kernel/OS.h&gt; #include &lt;stdio.h&gt; ... uint64 cpuFreq = 0; uint32 count = 0; get_cpu_topology_info(NULL, &amp;count); if (count != 0) { cpu_topology_node_info *topology = new cpu_topology_node_info[count]; get_cpu_topology_info(topology, &amp;count); for (uint32 i = 0; i &lt; count; ++i) { if(topology[i].type == B_TOPOLOGY_CORE) { cpuFreq = topology[i].data.core.default_frequency; } } delete[] topology; } fprintf(stderr, "%llu\n", cpuFreq);</span></span></span></span></code> </pre><br>    .       x86_64  ,    CPU     1 MHz,    .    ,      <strong>__GNU_INLINE_X86_32__</strong> ,    ,      x86,    x86_64.         ,     SDL2,          inline-   <strong>rdtsc</strong>    <strong>/proc/cpuinfo</strong> ,    ,        x86,    . <br><br>       .      <strong>CMakeLists.txt</strong>   <strong>-march=native</strong> ,    :           ,      . <br><br><pre> <code class="cmake hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> PANDORA <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> HAIKU) <span class="hljs-keyword"><span class="hljs-keyword">message</span></span>(<span class="hljs-string"><span class="hljs-string">"Warning: arch-native will be used!"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">add_compile_options</span></span>(-march=native) <span class="hljs-keyword"><span class="hljs-keyword">endif</span></span>() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(HAIKU) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(CMAKE_SIZEOF_VOID_P <span class="hljs-keyword"><span class="hljs-keyword">EQUAL</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>) <span class="hljs-comment"><span class="hljs-comment"># 32-bit message("Warning: Will building 32-bit executable with MMX, SSE, SSE2 support.") add_compile_options(-mmmx -msse -msse2) else() # 64-bit message("Warning: Will building 64-bit executable.") endif() endif()</span></span></code> </pre><br> -         build-        ,      .         MMX, SSE  SSE2     ,       inline-   ,    ,     . <br><br>    ,  Croteam   -    ,          : <br><br> <strong>  : <a href="https://github.com/EXLMOTODEV/Serious-Engine" title="Serious Engine fork, GitHub repository.">https://github.com/EXLMOTODEV/Serious-Engine</a></strong> <br><br>    ,     Serious Sam,     HaikuPorts.       . <br><br> <a href="https://habr.com/ru/post/434690/"><em>&lt;&lt;   </em></a> <br><br><a name="vangers"></a><h2> 8.    (Vangers) </h2><br>  ,          ,    90-      KD Lab.   <a href="https://t.me/HaikuOS_RU_chat" title="OS Haiku - ,   Telegram.">  Telegram IM</a> ,      Haiku,    <a href="https://en.wikipedia.org/wiki/Vangers" title="Vangers, Wikipedia page."></a>      <a href="https://github.com/KranX/Vangers" title="Vangers, Official GitHub repository.">GitHub-</a> ,      . <br><br><div style="text-align:center;"><img title="      Haiku." src="https://habrastorage.org/webt/sd/k8/db/sdk8dbv4o-8hgoaohnzuk4xoo0w.png"></div><br> <i>      Haiku.</i> <br><br>    Haiku           -  .              <a href="https://www.ffmpeg.org/" title="FFmpeg, Official site.">FFmpeg</a> ,     .        ,     <strong>VANGERS_DATA</strong>       ,   . <br><br><div style="text-align:center;"><img title="     Haiku     Qt Creator." src="https://habrastorage.org/webt/_i/_o/mi/_i_omiac7lqewaq6ml8p4ow4dwg.png"></div><br> <i>     Haiku     Qt Creator.</i> <br><br>              ,      KD Lab.        ¬´¬ª  ¬´¬ª  ¬´¬ª  ¬´¬ª,       ¬´¬ª .  ,           ,     . <br><br><div style="text-align:center;"><img title="  ,     Haiku." src="https://habrastorage.org/webt/cf/l6/yv/cfl6yvi5euj0sn29wrvgzdpzo2k.jpeg"></div><br> <i>  ,     Haiku.</i> <br><br>  ,    ,   ,    ,           <a href="https://www.gog.com/game/vangers" title="Vangers on GOG.com">GOG.com</a>  <a href="https://store.steampowered.com/app/264080/Vangers/" title="Vangers on Steam.">Steam</a> ,     .     ,    <strong><a href="https://habr.com/users/stalkerg/" class="user_link">stalkerg</a></strong>       Linux.        ,      .       ,   . <br><br>       NXEngine (Cave Story),     ,          ,         ,     .   <strong>stalkerg</strong>        <strong>-DBINARY_SCRIPT=Off</strong> ,         ,   ,        .      ,      .  :    ,       ,      ,          . <br><br><div style="text-align:center;"><img title="  ,    Haiku Depot." src="https://habrastorage.org/webt/zx/c3/ys/zxc3yseedkzeexk3yxb-3x08azs.png"></div><br> <i>  ,    Haiku Depot.</i> <br><br>        ,    ,     Haiku.       <strong>libclunk.so</strong> ,         .    Linux,    ,     <strong>LD_LIBRARY_PATH</strong>    ,  ,          ,   ,   Haiku   ,    Windows.            ,    ,     Haiku      <strong>./lib/</strong> ,          .         . <br><br> <strong>  : <a href="https://github.com/KranX/Vangers" title="Vangers, GitHub repository.">https://github.com/KranX/Vangers</a></strong> <br><br>         ,           HaikuPorts   HaikuDepot,       ,    Linux- Fedora   . <br><br> <a href="https://habr.com/ru/post/434690/"><em>&lt;&lt;   </em></a> <br><br><a name="sdl2"></a><h2> 9.     SDL2  Haiku </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">When porting the Xash3D and Serious Engine engines, about which I wrote above, I stumbled across the local port of the </font></font><a href="https://www.libsdl.org/download-2.0.php" title="SDL2 (Simple DirectMedia Layer) library, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SDL2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> library </font><font style="vertical-align: inherit;">at the complete lack of dialogue implementation. Dialogues are called by two functions </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SDL_ShowSimpleMessageBox ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SDL_ShowMessageBox ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , which allow you to inform the user about any important information, such as an error. The implementation of these dialogs is available on many platforms and operating systems: Windows, macOS, iOS, X11 and Android, but for some reason is missing from Haiku. I decided to correct this omission and add this functionality to the SDL2 library port. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In the Haiku API, or rather in the Interface Kit framework, there is an excellent </font><strong><font style="vertical-align: inherit;">BAlert</font></strong><font style="vertical-align: inherit;"> class </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></strong> ,       .       . ,   ,  ,       ,   ,   <strong>BAlert</strong> ,     .          ,     :       ,     ,      <strong>Go()</strong>        .   ,     ,        . <br><br><div style="text-align:center;"><img title="    SDL2    Haiku." src="https://habrastorage.org/webt/wj/lu/an/wjluanrt_t4sy9sq7tjzzwtsfje.png"></div><br> <i>    SDL2    Haiku.</i> <br><br>  ,    ,   ,       <strong>BAlert</strong>   ,        <strong>BApplication</strong> ,      <strong>app_server</strong>     .     ,     <strong>BAlert</strong>           ,   ,         <strong>BApplication</strong> ,        .  Haiku API        <strong>BApplication</strong> ,   <strong>be_app</strong> ,     Qt    <strong>qApp</strong> ,       .  ,     <strong>be_app</strong>  NULL,    ,    ,   .       . <br><br>    ,   SDL2     C,   Haiku API,  ,    C++. -           <strong>extern "C"</strong> ,           .  ,  <strong>new</strong>    <strong>new(std::nothrow)</strong> ,        NULL,   ,   SDL2,  ,  . <br><br>      .   ,      SDL2  ,      Haiku API     .       <a href="https://gist.github.com/EXL/b4271947e50794b1f766d9c0afc5e32a" title="SDL2_messagebox_test.c, GitHubGist repository."> </a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">which I occasionally ran on different operating systems, analyzed the results and evaluated my work. In the end, I got so carried away that I even made customization support, such as setting different colors to the buttons and dialogue background. This is supported by the SDL2 library API, but initially I did not plan to implement such things. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If the programmer decides to spit out a very, very long line into this dialog, then the </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BTextView</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> class </font><strong><font style="vertical-align: inherit;">object</font></strong><font style="vertical-align: inherit;"> that is used inside the </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BAlert</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> class </font><strong><font style="vertical-align: inherit;">object</font></strong><font style="vertical-align: inherit;"> needs to call the </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SetWordWrap ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> method </font><font style="vertical-align: inherit;">with the argument </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">true</font></font></strong> ,         ,      .  ,   :       <strong>strlen()</strong>   .     ,  SDL2      UTF-8,   ,   <strong>strlen()</strong>    ,    .    Haiku API    <strong>BString</strong> ,     <strong>CountChars()</strong> ,      ,    : <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CheckLongLines</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *aMessage)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> final = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-comment"><span class="hljs-comment">// This UTF-8 friendly. PS G_MAX_STRING_LENGTH = 120 BString message = aMessage; int32 length = message.CountChars(); for (int i = 0, c = 0; i &lt; length; ++i) { c++; if (*(message.CharAt(i)) == '\n') { c = 0; } if (c &gt; final) { final = c; } } return (final &gt; G_MAX_STRING_LENGTH); }</span></span></code> </pre><br>          120-       .  UTF-8    ,      Haiku    . ,  ,  -     , .         . <br><br>           x86_gcc2,      SDL2. ,    GCC 2.95   ,     ,   : <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">rgb_color </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ConvertColorType</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> SDL_MessageBoxColor *aColor)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// return { aColor-&gt;r, aColor-&gt;g, aColor-&gt;b, 255 }; rgb_color color = { aColor-&gt;r, aColor-&gt;g, aColor-&gt;b, color.alpha = 255 }; return color; }</span></span></code> </pre><br>                     ,      . <br><br>      SDL2   HaikuPorts,     Xash3D  Serious Engine     - , ,  .     SDL2    ,          HaikuPorts  upstream  SDL2.         - <a href="https://hg.libsdl.org/SDL/rev/09999a0e8f9a" title="Rename internal functions from BE_* to HAIKU_*, SDL2 mercurial repository."> </a>    <strong>BE_*</strong>  <strong>HAIKU_*</strong> ,        . <br><br> <a href="https://habr.com/ru/post/434690/"><em>&lt;&lt;   </em></a> <br><br><a name="coolreader"></a><h2> 10.     Cool Reader </h2><br>       <a href="https://exlmoto.ru/cool-reader-system-fonts/" title="   Cool Reader.">Cool Reader</a> ,   <strong> </strong> ( <a href="https://habr.com/users/buggins/" class="user_link">Buggins</a> ),        .          ,     -          ,           . <br><br><div style="text-align:center;"><img title="   Cool Reader,     Haiku." src="https://habrastorage.org/webt/ug/ib/ys/ugibysukgq3yqipkk3w_ar8sn1y.png"></div><br> <i>   Cool Reader,     Haiku.</i> <br><br>   HaikuPorts        Cool Reader,  - -  ,    <a href="https://sourceforge.net/" title="SourceForge, Official site.">SourceForge</a> ,    ,        .         HaikuPorts,      Cool Reader.       ,            ,      Haiku.      Cool Reader      GitHub-: <br><br> <strong>  : <a href="https://github.com/EXLMOTODEV/coolreader" title="Cool Reader fork, GitHub repository.">https://github.com/EXLMOTODEV/coolreader</a></strong> <br><br>  ,    ,     .   <strong>__HAIKU__</strong> , -        <strong>_LINUX</strong> ,           ,    .      ,  Haiku     ,     <strong>_LINUX</strong> ,      .         ,       ,   .    ,      . <br><br> <a href="https://habr.com/ru/post/434690/"><em>&lt;&lt;   </em></a> <br><br><a name="keymap"></a><h2> 11.   KeymapSwitcher </h2><br>             <strong>Meta/Opt/Cmd/Win+Space</strong>    .      ,        .       macOS, Windows  Linux   GNOME 3          .      Android   .  ,             . <br><br>    ,  <a href="https://github.com/HaikuArchives/KeymapSwitcher" title="KeymapSwitcher, GitHub repository.">KeymapSwitcher</a> ,    Haiku,          , -             .             . ,         Haiku,         .  ,     HaikuPorts      .   , KeymapSwitcher     Haiku,      API      -      . <br><br><div style="text-align:center;"><img title=" KeymapSwitcher    Haiku        ." src="https://habrastorage.org/webt/o1/cq/xn/o1cqxnduzeop30tx6zpzbq7c62i.png"></div><br> <i> KeymapSwitcher    Haiku        .</i> <br><br>   ,      KeymapSwitcher,               ,       -   Haiku.   ,       ,   ,   <strong>Opt</strong>     .  ,  <strong>Opt</strong>        .            ,             HaikuPorts,     KeymapSwitcher       Haiku. <br><br> <strong>  : <a href="https://github.com/HaikuArchives/KeymapSwitcher" title="KeymapSwitcher, GitHub repository.">https://github.com/HaikuArchives/KeymapSwitcher</a></strong> <br><br> ,           . <br><br> <a href="https://habr.com/ru/post/434690/"><em>&lt;&lt;   </em></a> <br><br><a name="theend"></a><h2> 12.  </h2><br>  Haiku API,      ,            ,        .      Haiku             ,         . <br><br><div style="text-align:center;"><img title=" ,     Haiku." src="https://habrastorage.org/webt/ew/rw/oy/ewrwoyfj--hee2fsb4xz0qrl5ck.png"></div><br> <i> ,     Haiku.</i> <br><br>   ,          3D-   ,      ,     Haiku       ,          .  ,                    <a href="https://discuss.haiku-os.org/t/what-about-bounty-3d-acceleration-bounty/7943" title="What about bounty? 3D acceleration bounty?, Official Haiku forums.">3D-</a>     <a href="https://discuss.haiku-os.org/t/ported-gtk3-live/7687" title="Ported GTK3 [Live], Official Haiku forums.">GTK+3</a> ,    HaikuPorts     <a href="https://github.com/haikuports/haikuports/issues/2512" title="Add recipe for QtWebEngine, Issues on HaikuPorts GitHub repository.">QtWebEngine</a> .  GTK+3           Firefox  Chromium,  QtWebEngine    Blink   ,    Qt,   <a href="https://otter-browser.org/" title="Otter Browser, Official site.">Otter Browser</a>  <a href="https://www.falkon.org/" title="Falkon, Official site.">Falkon</a> . <br><br>         ,         , ,   <a href="https://lubuntu.net/" title="Lubuntu, Official site.">Lubuntu</a>  Windows XP.    ,      . ,         -     ,    ,                 . <br><br>              Haiku.            .        ,         .    <a href="http://stackoverflow.com/" title="Stack Overflow, Official site.">stackoverflow.com</a>  <a href="http://google.com/" title="Google, Official site.">google.com</a>  ,   . <br><br> <a href="https://www.haiku-os.org/" title="    Haiku.">1.     Haiku</a> . <br> <a href="https://discuss.haiku-os.org/" title="    Haiku.">2.     Haiku</a> . <br> <a href="https://www.haiku-os.org/docs/welcome/welcome_en.html" title="    Haiku.">3.     Haiku</a> . <br> <a href="https://www.haiku-os.org/docs/api/" title="    Haiku.">4.     Haiku</a> . <br> <a href="https://www.haiku-os.org/docs/userguide/en/gui.html" title="     Haiku.">5.      Haiku</a> . <br> <a href="https://www.haiku-os.org/development/icon-guidelines" title="      Haiku.">6.       Haiku</a> . <br> <a href="https://www.haiku-os.org/docs/userguide/en/applications/icon-o-matic.html" title="  Icon-O-Matic     .">7.   Icon-O-Matic     </a> . <br> <a href="http://blog.leahhanson.us/post/recursecenter2016/haiku_icons.html" title="    HVIF.">8.     HVIF</a> . <br> <a href="https://www.haiku-os.org/docs/api/group__interface.html" title="    Interface Kit.">9.     Interface Kit</a> . <br> <a href="https://www.haiku-os.org/docs/api/locale_intro.html" title="    Locale Kit.">10.     Locale Kit</a> . <br> <a href="https://www.haiku-os.org/community/getting-involved/translating/3rdparty/" title=",      Haiku.">11. ,      Haiku</a> . <br> <a href="https://www.haiku-os.org/docs/api/layout_intro.html" title="     Layout API.">12.      Layout API</a> . <br> <a href="https://www.haiku-os.org/documents/dev/laying_it_all_out_part_1/" title=" ,     Haiku   Layout API.">13.  ,     Haiku   Layout API</a> . <br> <a href="https://github.com/haiku/haiku" title="GitHub-     Haiku.">14. GitHub-     Haiku</a> . <br> <a href="https://github.com/haikuports/haikuports" title="GitHub-   HaikuPorts.">15. GitHub-   HaikuPorts</a> . <br> <a href="https://depot.haiku-os.org/" title="    HPKG- Haiku Depot Web.">16.     HPKG- Haiku Depot Web</a> . <br> <a href="https://medium.com/%40hugeping/haiku-os-%25D0%25BB%25D0%25B0%25D0%25BC%25D0%25BF%25D0%25BE%25D0%25B2%25D0%25B0%25D1%258F-%25D0%25B3%25D0%25B8%25D0%25BA-%25D0%25BE%25D1%2581-f9c1a7053b9d" title="  'Haiku:  -'    INSTEAD,  .">17.   ¬´Haiku:  -¬ª    INSTEAD,  </a> . <br> <a href="https://medium.com/%40hugeping/haiku-%25D0%25BF%25D0%25BE%25D0%25B3%25D1%2580%25D1%2583%25D0%25B6%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5-22bd9a8aa700" title=" 'Haiku: '    INSTEAD,  .">18.  ¬´Haiku: ¬ª    INSTEAD,  </a> . <br> <a href="https://www.haiku-os.org/development/learning_to_program_with_haiku" title="   'Learning to Program' with Haiku  DarkWyrm.">19.    ¬´Learning to Program with Haiku¬ª  DarkWyrm</a> . <br> <a href="https://www.haiku-os.org/development/programming_with_haiku" title="   'Programming With Haiku'  DarkWyrm.">20.    ¬´Programming With Haiku¬ª  DarkWyrm</a> . <br> <a href="https://www.linux.org.ru/gallery/screenshots/14702457" title=" '    Haiku?'   Linux.org.ru,  .">21.  ¬´    Haiku?¬ª   Linux.org.ru,  </a> . <br> <strong><a href="https://t.me/HaikuOS_RU_chat" title="  Telegram IM,     Haiku.">22.   Telegram IM,     Haiku</a> .</strong> <br><br>     <strong><a href="https://habr.com/" title="habr, Official site.">habr</a></strong>          !  , ,   2019 ! <br><br> <a href="https://habr.com/ru/post/434690/"><em>&lt;&lt;   </em></a> </div><p>Source: <a href="https://habr.com/ru/post/434690/">https://habr.com/ru/post/434690/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../434680/index.html">The evolution of task planners</a></li>
<li><a href="../434682/index.html">Personal city teleportator</a></li>
<li><a href="../434684/index.html">Rust in 2019 and beyond: growth restrictions</a></li>
<li><a href="../434686/index.html">Course of lectures on JavaScript and Node.js in KPI</a></li>
<li><a href="../434688/index.html">FreeBSD plans to upgrade to ZFSonLinux</a></li>
<li><a href="../434692/index.html">25 most expensive American startups who died in 2018</a></li>
<li><a href="../434694/index.html">NeurIPS-2018 Review (ex. NIPS)</a></li>
<li><a href="../434696/index.html">Employees of IT giants have figured out how to influence the policies of their companies.</a></li>
<li><a href="../434698/index.html">Pessimism about multithreading</a></li>
<li><a href="../434700/index.html">Benefits of following styleguides when developing Angular applications</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>