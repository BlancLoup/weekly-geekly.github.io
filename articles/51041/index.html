<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Interesting coincidences (or Miranda IM Jabber and Mobile Mail.RU Agent): again twenty five</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Before I could wake up, I was hit by mlu with the news that Mail.ru Agent came out with the support of a gabber. And then it became interesting ... 

...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Interesting coincidences (or Miranda IM Jabber and Mobile Mail.RU Agent): again twenty five</h1><div class="post__text post__text-html js-mediator-article">  Before I could wake up, I was hit by <a href="http://habrahabr.ru/users/mlu/" class="user_link">mlu</a> with the news that Mail.ru Agent came out with the support of a gabber.  And then it became interesting ... <br><br>  <b>Attention!</b>  <b>In no case do I want to say that in the Mobile Mail.ru code of the Agent, the developments from the GPL projects are used.</b>  <b>This article is just a study of the work of the agent.</b> <br><br>  He said that the first thing he did was look into the xml console and saw the following thing: <br><pre> &lt;presence from = "test1234@vke.ru/MobileAgent" to = "jabber@vke.ru/Notebook" xml: lang = "en"&gt;
 &lt;priority&gt; 5 &lt;/ priority&gt;
 &lt;c xmlns = "http://jabber.org/protocol/caps" node = "http://miranda-im.org/caps" ver = "1.x" /&gt;
 &lt;status&gt; I'm online! &lt;/ status&gt;
 &lt;status&gt; Custom status &lt;/ status&gt;
 &lt;/ presence&gt;
</pre><br><a name="habracut"></a><br>  Laughing at the double status and wildcard version, we noticed node.  Has anyone decided to use Miranda caps? 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Then we decided to compare the work with the server through the open XMPP protocol immediately after the login (packets from the server are cut as unnecessary) <br><br><table><tbody><tr><th>  Miranda IM Jabber </th><th>  Mobile Agent v1.15 <br></th></tr><tr><td><pre> &lt;iq type = "set" id = "mir_0"&gt;
 &lt;bind xmlns = "urn: ietf: params: xml: ns: xmpp-bind"&gt;
 &lt;resource&gt; Miranda &lt;/ resource&gt;
 &lt;/ bind&gt;
 &lt;/ iq&gt;
</pre><br></td><td><pre> &lt;iq type = 'set' id = 'seq_10'&gt;
 &lt;bind xmlns = 'urn: ietf: params: xml: ns: xmpp-bind'&gt;
 &lt;resource&gt; MobileAgent &lt;/ resource&gt;
 &lt;/ bind&gt;
 &lt;/ iq&gt;
</pre><br></td></tr><tr><td><pre> &lt;iq type = "set" id = "mir_1"&gt;
 &lt;session xmlns = "urn: ietf: params: xml: ns: xmpp-session" /&gt;
 &lt;/ iq&gt;
</pre><br></td><td><pre> &lt;iq type = 'set' id = 'seq_11'&gt;
 &lt;session xmlns = 'urn: ietf: params: xml: ns: xmpp-session' /&gt;
 &lt;/ iq&gt;
</pre><br></td></tr><tr><td><pre> &lt;iq type = "get" id = "mir_2"&gt;
 &lt;query xmlns = "jabber: iq: private"&gt;
 &lt;roster xmlns = "roster: delimiter" /&gt;
 &lt;/ query&gt;
 &lt;/ iq&gt;
</pre><br></td><td><pre> &lt;iq type = 'get' id = 'seq_12'&gt;
 &lt;query xmlns = 'jabber: iq: private'&gt;
 &lt;roster xmlns = 'roster: delimiter' /&gt;
 &lt;/ query&gt;
 &lt;/ iq&gt;
</pre><br></td></tr><tr><td><pre> &lt;iq type = "get" id = "mir_3"&gt;
 &lt;query xmlns = "jabber: iq: private"&gt;
 &lt;storage xmlns = "storage: bookmarks" /&gt;
 &lt;/ query&gt;
 &lt;/ iq&gt;
</pre><br></td><td><pre> &lt;iq type = 'get' id = 'seq_13'&gt;
 &lt;query xmlns = 'jabber: iq: private'&gt;
 &lt;storage xmlns = 'storage: bookmarks' /&gt;
 &lt;/ query&gt;
 &lt;/ iq&gt;
</pre><br></td></tr><tr><td><pre> &lt;iq type = "get" to = "vke.ru" id = "mir_4"&gt;
 &lt;query xmlns = "http://jabber.org/protocol/disco#info" /&gt;
 &lt;/ iq&gt;
</pre><br></td><td><pre> &lt;iq type = 'get' to = 'vke.ru' id = 'seq_14'&gt;
 &lt;query xmlns = 'http: //jabber.org/protocol/disco#info'/&gt;
 &lt;/ iq&gt;
</pre><br></td></tr></tbody></table><br><br><h1>  A little analysis: </h1><br>  Close our eyes to the fact that the id packages look similar.  In the case of Miranda, they are formed starting from zero, here from 10. By the way, if suddenly aol implements a gill server, then they should take note of this - it is possible to ban at least one client =).  Each package corresponds to Mirando.  One could write it off as a mere coincidence, if not for a few funny things, namely: <br><ul><li>  The mir_2 package in Miranda is used to request the group separator from the server, our subgroups are stored as ‚ÄúGroup \ Subgroup \ Subsubgroup \ etc‚Äù, as far as I know, this method is used only by Miranda and tkabber, in the agent of the correct display of nested groups we didn't find </li><li>  For some reason, the agent requests a bookmark from the server, although they are not implemented in the interface </li><li>  The query mir_4 (seq_14) - disco server - at our entrance it is done to check whether there is a PEP server on the server to show the Mood &amp; Activity selection menu.  In the agent there is neither one nor the other. </li><li>  It is not clear why a cap tag is sent in the presentations at all, because the agent also does not support caps. </li></ul><br><br>  In general, we have the persistent feeling that the developer <b>did not read the</b> description of the protocol standard, and does not know what is there and why. <br><br>  It is worth noting that not all the same.  For example, login to the server is done using the PLAIN authorization method, while Miranda has DIGEST-MD5 <br><br>  Plus, here now our colleagues have thrown me such a log: <br><blockquote>  JasFas0la (21:50:44 04/26/2008) <br>  Jabber is in Miranda ... which preconditions its successful integration into the program. <br><br>  JasFas0la (21:52:11 04/26/2008) <br>  but I remembered about Miranda because ... Do you mind if the project uses groundwork from opensource sources?  because  in a new client, I no longer write with my hands ... but I trust the source code from Miranda. <br></blockquote><br>  This is one of the developers of the former smapera, which, as you know, was purchased by mail.ru. <br><br>  I don‚Äôt know if the developers really used our code.  I just brought you the facts.  By the way, the source code of the client is naturally not found anywhere. <br><br>  <b>UPD: the</b> <a href="http://habrahabr.ru/blogs/im/51041/">official position of Mail.ru</a> : <br><blockquote>  Mobile Mail.Ru Agent for Jabber does not use Miranda source code fragments and is written entirely independently by the developers of Mail.Ru employees.  As for the alleged "similarities" - this is a consequence of the precautions we have taken.  So that the news about the product‚Äôs release did not prematurely ‚Äúseeped out‚Äù of the company, it was decided to play it safe and instruct programmers to have the Agent with Jabber support defined as Miranda.  And the beta status is very clearly explained by the fact that not all interface capabilities in Mail.Ru Agent with Jabber, ‚Äúembedded‚Äù in the code, have already been implemented. <br>  It is also worth noting that in the ICQ-protocol in the mobile versions of Mail.Ru Agent there is a function of ‚Äúmasking‚Äù for different clients (this is required by users), so our instant messenger can often be ‚Äúrecognized‚Äù as other programs.  What does the copying of the code - is not very clear. <br><br>  Komissarova Valeria, <br>  Press officer Mail.Ru <br>  <a href="http://habrahabr.ru/users/public_relations/" class="user_link">Public_relations</a> <br><br></blockquote></div><p>Source: <a href="https://habr.com/ru/post/51041/">https://habr.com/ru/post/51041/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../51028/index.html">LiveJournal is undergoing maintenance from ...</a></li>
<li><a href="../51029/index.html">Instead of beer</a></li>
<li><a href="../51031/index.html">Respect does not want ie6</a></li>
<li><a href="../51033/index.html">Gmail interface update</a></li>
<li><a href="../51039/index.html">Master Chef of Halo against all!</a></li>
<li><a href="../51042/index.html">3 simple tips to make your Rails application faster, part 3</a></li>
<li><a href="../51043/index.html">Skype 4.0: "at liberty"</a></li>
<li><a href="../51044/index.html">Forex. Game or business?</a></li>
<li><a href="../51046/index.html">Classes of types, monads</a></li>
<li><a href="../51048/index.html">Amazing Reactable Musical Instrument</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>