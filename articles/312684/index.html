<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>As we came up with and made our first game on Android. Part 1: Game Mechanics</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! We are two new mobile game developers, former classmates, graduates of Kazan Federal University, Aydar and Ed. 

 Aydar: ‚ÄúThe history of our ga...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>As we came up with and made our first game on Android. Part 1: Game Mechanics</h1><div class="post__text post__text-html js-mediator-article">  Hello!  We are two new mobile game developers, former classmates, graduates of Kazan Federal University, Aydar and Ed. <br><br>  Aydar: <i>‚ÄúThe history of our game‚Äú Syncomania ‚Äùbegan with the fact that I had a strange dream.</i>  <i>It was a computer game where four white balls moved synchronously in a square field.</i>  <i>When the first of them broke out of the playing field, I woke up.</i>  <i>The next morning I called Ed, and already at lunch we met in the courtyard of the university where I worked. ‚Äù</i> <br><br>  Ed: <i>‚ÄúWhat programmer did not dream of making his own game?</i>  <i>In the summer of 2014, I had a lot of free time, and I gladly jumped at the idea.</i>  <i>Then we could not even imagine what difficulties we would face. ‚Äù</i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      However, at the first stage we were full of enthusiasm, everything was easy and interesting.  It is about him that we will tell in the first part of the article. <br><br>  So, at the entrance we had one simple idea - the player controls four heroes in one movement. <br><a name="habracut"></a><br>  Initially, it was necessary to deal with the genre of the game.  We rejected the arcades rather quickly: it was not an easy task to manage this number of simultaneously moving elements.  We both like measured intellectual games, so we agreed that this would be a turn-based puzzle.  True, this did not make it easier for users - the game turned out to be hardcore.  We also decided to eliminate random and unpredictable elements so that the game process completely depended on the player‚Äôs actions. <br><br>  Ed: <i>‚ÄúWithout thinking twice, I chose <a href="https://processing.org/">Processing</a> as a programming language, since it is easy to create prototypes on it without preliminary settings.</i>  <i>In addition, the Java syntax allowed us to easily transfer the game logic to Android using combinations such as Ctrl + C and Ctrl + V, but more on that later.</i>  <i>We created four heroes in the form of white circles and changed their coordinates using the arrows on the keyboard. ‚Äù</i> <br><br>  Aydar: <i>‚ÄúWe set the initial position of the heroes in equidistant places of the level, since it looked symmetrical and‚Äú why not? ‚Äù.</i>  <i>Subsequently, we decided that it would be fun if each level began the same way. ‚Äù</i> <br><br>  Having a little experimented with management, we realized that the heroes need a goal, a certain way out of the level.  At first, we considered the idea of ‚Äã‚Äãbringing the heroes out of the playing field (this was how it was in Aydar‚Äôs dream).  But the only way out seemed to us more interesting and more dramatic - he imposed more restrictions (of which, as we know, creativity is born).  So we had the only condition for victory: all heroes must come out alive.  The ‚Äúexit‚Äù sign is usually highlighted in green.  We did the same. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/bc5/c58/e8b/bc5c58e8bfcd4384a197f34d5a4e0f1f.gif" alt="image"></div><br>  <i>‚ÄúOn the second day, They created a wall.</i>  <i>Let there be a wall in the middle of the level, and let it separate the heroes from the exit. ‚Äù</i> <br><br>  The wall object is a natural obstacle and the main tool for building a passage script.  Intuitively, we decided that the hero remains in place if there is a wall on the way of his following.  Since walls are usually built of stone, we depicted them as a gray square. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/372/727/b41/372727b41bb84bbb9a43646a632c8d9a.gif" alt="image"></div><br>  We made the playing field in the form of a chessboard with the dimension of 11 by 11. Thus, it is easier to store and move objects.  For example, if the hero is in the lower left corner, then his coordinates are [0] [0].  To move the hero up one cell, it‚Äôs enough to add one to the string value: [0 + 1] [0] =&gt; [1] [0].  Each cell can occupy only one object, from which follows the natural question: ‚ÄúWhat happens if two objects end up on one cell?‚Äù For the first time, we thought about it only when one hero ran into the wall and the second hit him.  So one of the conditions of loss appeared: two heroes in one cell are mutually destroyed. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/c32/b48/771/c32b487710944e1185f35caff1cfd5bc.gif" alt="image"></div><br>  Another condition of loss appeared when we created a trap element - a cell, on hit on which the hero dies.  The trap had to be depicted as something dangerous and forbidden, therefore, adhering to the minimalist style, we chose a red square. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/7e7/bc5/2e0/7e7bc52e081646d1aa66cf1918470ad7.gif" alt="image"></div><br>  Ed: <i>‚ÄúI really like the board game <a href="https://en.wikipedia.org/wiki/RoboRally">‚Äú Roboralli ‚Äù</a> , and especially the conveyor system, which introduces an element of surprise, if you miscalculate your actions.</i>  <i>Conveyors are triggered in a separate phase of the turn (after the heroes move) and displace objects in the direction of the arrow.</i>  <i>We have brought something like this to our game, calling it streams. ‚Äù</i> <br><br>  Streams have two main functions: <br><br>  1) System nipple.  She skips one way, but does not skip back. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/fd5/2c2/a0b/fd52c2a0bfa445ebbe02d1036ae9a7ed.gif" alt="image"></div><br>  2) Production line.  With the help of her heroes, enemies and boxes (about them later) can ride on the pre-set routes. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/485/a63/304/485a633048c54425a8db22cc34d7c0eb.gif" alt="image"></div><br>  Aydar: <i>‚ÄúContinuing the search for sophisticated ways to kill heroes, we decided to develop the idea of ‚Äã‚Äãtraps and make them mobile.</i>  <i>At first we had the idea to introduce into the game a trap-pendulum, which with a certain frequency would move between two cells.</i>  <i>But a trap that can travel all over the playing field is much cooler.</i>  <i>Such elements are obtained ‚Äúalive,‚Äù and we immediately called them enemies. ‚Äù</i> <br><br>  However, the random movement of elements introduces unpredictability and uncontrollability into the game, which go against the laws of the world invented by us.  Therefore, we made a decision that the enemies should be controlled by the player himself and, being the antagonists of the heroes, move in defiance of the teams, that is, in the opposite direction.  For example, if the hero goes to the right, then the enemy - to the left. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/d64/c4e/624/d64c4e6245984d6988c35d3c68f22ee0.gif" alt="image"></div><br>  When there are a lot of enemies at the level, an illusion is created that they live their own life: they ride in streams, beat their heads against walls unsuccessfully, die in traps or embrace each other, leave this world through the exit and, as if on purpose (actually not) , all the while trying to kill the heroes. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/e93/6d7/008/e936d7008c4740ebac4a127bdd88ba31.gif" alt="image"></div><br>  Ed: <i>‚ÄúAt one of the test levels, the enemies were so annoying that I always wanted to take revenge on them.</i>  <i>We needed a tool, or rather a weapon against them, which the heroes could use.</i>  <i>After going through several options, we decided to crush our enemies with heavy objects. ‚Äù</i> <br><br>  We remembered the game "Sokoban" and created a modified type of boxes (new - this is a well forgotten old).  In essence, the boxes are walls that can be pushed, so we depicted them as reduced gray squares with a crosshair.  They harmoniously fit into the rules of our game: if you push a box on a cell with a hero or an enemy, the characters die, since according to the law, two objects cannot be in the same cell.  In addition, the boxes can ride in streams, and if they fall into a trap or exit, they are destroyed.  As in the game "Sokoban", you can not push more than one box in a row, so there may be situations where the hero is locked up. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/095/dd1/f6e/095dd1f6e8a24f098ce43e2d820d1c39.gif" alt="image"></div><br>  Aydar: <i>‚ÄúWhen creating a level, it is almost impossible to predict all possible solutions, and right at the very beginning Ed and I noticed that we pass the levels in different ways.</i>  <i>This is not surprising, because with each new move the number of states grows exponentially. ‚Äù</i> <br><br>  The variability of the passage is a feature of the game, of which we are sincerely proud.  Of course, most levels can be completed without thinking, but then instead of twenty moves you may need forty or sixty.  So the game has an incentive to re-pass - the search for the shortest solution. <br><br>  Ed: <i>‚ÄúFor me personally, finding the optimal passage is a favorite part of the game.</i>  <i>At the very beginning of the development, we created a table where our friends, the very first users, shared their records: for how many moves the level was completed.</i>  <i>Beating records and getting into this list motivated us to play further. ‚Äù</i> <br><br>  Before the release of the game, we needed to collect the shortest passing of all levels in order to issue them in the form of paid prompts.  To do this, we programmed a brute force algorithm with constraints, but it worked too long at levels with a large number of objects.  When the settlement time exceeded several days, we decided to use crowdsourcing (eng. Crowdsourcing, crowd - ‚Äúcrowd‚Äù and sourcing - ‚Äúuse of resources‚Äù).  If a player improved the record on one of the levels, then with the help of Google Analytics we received his decision in the form of a sequence of moves.  Experienced players usually search for optimal passage heuristically, applying their established patterns and avoiding redundant moves.  Thus, we quickly replenished the base of passages, but, to our surprise, some players still continue to beat records.  We accurately record and update them in subsequent versions of the application. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/809/653/ba0/809653ba03964e5bb6eea029fc93de59.gif" alt="image"></div><br>  <i>To be continued‚Ä¶</i> <br><br>  In the next part we will talk about how to develop riddles and technique of passing levels in the game ‚ÄúSyncomania‚Äù. <br><br>  <a href="https://habrahabr.ru/post/316092/">As we came up with and made our first game on Android.</a>  <a href="https://habrahabr.ru/post/316092/">Part 2: Levels</a> </div><p>Source: <a href="https://habr.com/ru/post/312684/">https://habr.com/ru/post/312684/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../312670/index.html">Promises 101</a></li>
<li><a href="../312672/index.html">As an Android developer, time management got carried away, and what came of it</a></li>
<li><a href="../312674/index.html">Python-crib. Part 1 - Language and Object Types</a></li>
<li><a href="../312676/index.html">1990 Great Hacker War</a></li>
<li><a href="../312680/index.html">Scrum from a military pilot: The art of doing twice the work twice as fast</a></li>
<li><a href="../312686/index.html">Reverse Engineering "Kazakov", part three: thimbles in the LAN</a></li>
<li><a href="../312694/index.html">Women and murder: is there a relationship here? [part 2 of 2]</a></li>
<li><a href="../312696/index.html">Let's write a small but very useful plugin for Wordpress 4.6. *?</a></li>
<li><a href="../312698/index.html">IoT security issues: the researcher discovered serious vulnerabilities in MatrixSSL</a></li>
<li><a href="../312700/index.html">Security Week 41: patch week, 12-year-old vulnerability in sshd returns, StrongPity APT</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>