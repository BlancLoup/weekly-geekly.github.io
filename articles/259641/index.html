<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We write chat for the local network using C ++ Builder. Server part</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A few months ago it took to develop a chat for the local network of one office, as well as to speak with this program at a scientific conference. I de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We write chat for the local network using C ++ Builder. Server part</h1><div class="post__text post__text-html js-mediator-article">  A few months ago it took to develop a chat for the local network of one office, as well as to speak with this program at a scientific conference.  I decided to do it in the Builder C ++ 2006 development environment. When writing an article, I had one major problem - a complete lack of experience in working with networks in the builder, so I am writing an article for the same "programmers".  I will note right away that there are many programs on the Internet that will undoubtedly be better than mine, but the task was not to find the program, but to develop it.  The article will be large, so I will divide it into 2 parts - server and client. <br><a name="habracut"></a><br>  First of all it was necessary to decide what it will be for the application. <br><br><h4>  Idea </h4><br>  The first thing that came to mind was to open a server on each computer, uniting all the computers into a ring.  The message is sent to the client to which we are now connected.  There to check whether this message is to us or not;  if not, send further until it reaches the addressee.  I didn‚Äôt like the idea, mainly because I didn‚Äôt want the message to pass through intermediate users. <br><br>  I liked the second idea.  Let it be a client-server application.  We open a server on one computer, all clients connect to it.  From the client we send the message to the server, and he already forwards it to the addressee.  By the way, the second advantage of this network architecture is that each client needs to know only one IP address - the server IP address.  And when a client leaves the network, he will not have to look for the one to whom he was connected. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Of course, there must be a graphical interface, moreover, such that it works on the principle of ‚Äúplug and play‚Äù - it launched the program and you can immediately take it for correspondence.  Therefore, in the program window there will be a minimum of components, not even a bar menu. <br><br>  How do we pour messages?  Using sockets, namely the standard components of ClientSocket and ServerSocket, which will be used in client and server programs, respectively. <br><br><h4>  Implementation </h4><br><h5>  Server </h5><br>  The server program is designed for one-time use.  Those.  when you exit it, no customer information is stored, everything in the program itself is stored in an array.  In general, the socket interface itself is quite interesting.  In order to send a message to the client, use the SendText command that accepts a message string like AnsiString (I read about 4.3 billion characters somewhere, which is impressive), but to send it to exactly who needs it, you should specify client number, and not, for example, its IP address.  In this case, numbers are issued to customers in the order in which they connected.  An .s file is declared as an array of type AnsiString consisting of 100 elements.  Honestly, I did not check the maximum possible number of connections to the server, so we will assume that it is limited only by the size of this array.  When a client connects, the first thing is to send his name to the server.  It is entered into the first free cell of the array, and the element number will be the client number to which we will send messages.  To find the first empty cell, I wrote the analog () function, which simply iterates over the array and returns the number of the empty cell. <br><br><pre><code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> TFormMain::analog() { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> a; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i=<span class="hljs-number"><span class="hljs-number">0</span></span>;i&lt;mass;i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(m[i]==<span class="hljs-string"><span class="hljs-string">""</span></span>) { a=i; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a; }</code> </pre> <br>  In the server's OnConnect event, a timer is started.  For some reason, the code executed by the timer I could not execute immediately in the event, so the timer executes it and immediately turns off.  By timer, the server uses a loop to send a message to all clients, in which one line contains all the names of currently connected clients.  Why this is done - I will tell in the description of the client.  The client list is formed by the online () function ‚Äúgluing‚Äù the clients' names from the array. <br><br><div class="spoiler">  <b class="spoiler_title">Connect customers</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> __fastcall TFormMain::ServerSocketClientConnect(TObject *Sender, TCustomWinSocket *Socket) { Timer1-&gt;Enabled=<span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-comment"><span class="hljs-comment">//--------------------------------------------------------------------------- void __fastcall TFormMain::Timer1Timer(TObject *Sender) { if(ServerSocket-&gt;Socket-&gt;ActiveConnections!=0) for(int i=0;i&lt;ServerSocket-&gt;Socket-&gt;ActiveConnections;i++) ServerSocket-&gt;Socket-&gt;Connections[i]-&gt;SendText("8714"+online()); Timer1-&gt;Enabled=false; } //---------------------------------------------------------------------------</span></span></code> </pre><br><pre> <code class="cpp hljs">AnsiString TFormMain::online() { <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> str[<span class="hljs-number"><span class="hljs-number">500</span></span>]=<span class="hljs-string"><span class="hljs-string">""</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i=<span class="hljs-number"><span class="hljs-number">0</span></span>;i&lt;analog();i++) { <span class="hljs-built_in"><span class="hljs-built_in">strcat</span></span>(str,m[i].c_str()); <span class="hljs-built_in"><span class="hljs-built_in">strcat</span></span>(str,<span class="hljs-string"><span class="hljs-string">","</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> str; }</code> </pre><br></div></div><br>  However, the most interesting things happen in the OnRead server event.  The structure of each message sent by both the client and the server necessarily contains 4 digits at the beginning.  This is a random combination of numbers, invented by me so that the server and the client can distinguish between the messages necessary for "authorization", or the messages that contain the text to send.  In total, the client can send 4 types of messages to the server.  Messages with code 6141 are sent to the server at the first connection, they also tell the server the name of the new client, and the server enters it into the array and displays it in the Memo (a decorative element created just to know who is currently connected).  The message with codes 5280 and 5487 lost their relevance, but for some reason they were not removed by me from the server code.  Messages with code 3988 are the most important.  This is the message containing all the information for the exchange of messages between users.  The structure of such a message: <br><br>  <i>3988 &lt;Sender Name&gt;% &lt;Recipient Name&gt;: &lt;Message Text&gt;.</i> <br><br>  In general, from each received message the server first of all selects the code by the SubString method, its further actions depend on it in the future.  From the same message, the server also selects the sender and the receiver, as well as the text of the message.  Then a message of the form 7788 &lt;Sender's name&gt;: &lt;Message text&gt; is formed.  It is sent to the receiving client.  How, if only his number is known and not his name?  For this purpose, the numer (AnsiString) function is written, which accepts a name, enumerates the array and returns the number of the cell in which this name is located. <br><br><div class="spoiler">  <b class="spoiler_title">Inbound processing</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> __fastcall TFormMain::ServerSocketClientRead(TObject *Sender, TCustomWinSocket *Socket) { message=Socket-&gt;ReceiveText(); time=Now().CurrentDateTime(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(message.SubString(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>).AnsiCompare(<span class="hljs-string"><span class="hljs-string">"6141"</span></span>)==<span class="hljs-number"><span class="hljs-number">0</span></span>) { m[analog()]=message.SubString(<span class="hljs-number"><span class="hljs-number">5</span></span>,message.Length()); ListBox1-&gt;Clear(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i=<span class="hljs-number"><span class="hljs-number">0</span></span>;i&lt;ServerSocket-&gt;Socket-&gt;ActiveConnections;i++) { ListBox1-&gt;Items-&gt;Add(m[i]); } } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(message.SubString(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>).AnsiCompare(<span class="hljs-string"><span class="hljs-string">"5487"</span></span>)==<span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i=<span class="hljs-number"><span class="hljs-number">0</span></span>;i&lt;ServerSocket-&gt;Socket-&gt;ActiveConnections;i++) ServerSocket-&gt;Socket-&gt;Connections[i]-&gt;SendText(<span class="hljs-string"><span class="hljs-string">"8714"</span></span>+online()); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(message.SubString(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>).AnsiCompare(<span class="hljs-string"><span class="hljs-string">"3988"</span></span>)==<span class="hljs-number"><span class="hljs-number">0</span></span>) { nametowho=message.SubString(message.AnsiPos(<span class="hljs-string"><span class="hljs-string">''</span></span>)+<span class="hljs-number"><span class="hljs-number">1</span></span>,message.AnsiPos(<span class="hljs-string"><span class="hljs-string">':'</span></span>)-message.AnsiPos(<span class="hljs-string"><span class="hljs-string">''</span></span>)<span class="hljs-number"><span class="hljs-number">-1</span></span>); name=message.SubString(<span class="hljs-number"><span class="hljs-number">5</span></span>,message.AnsiPos(<span class="hljs-string"><span class="hljs-string">''</span></span>)<span class="hljs-number"><span class="hljs-number">-5</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(nametowho.IsEmpty()==<span class="hljs-literal"><span class="hljs-literal">false</span></span> &amp;&amp; (message.SubString(message.AnsiPos(<span class="hljs-string"><span class="hljs-string">':'</span></span>)+<span class="hljs-number"><span class="hljs-number">1</span></span>,message.Length()).IsEmpty())==<span class="hljs-literal"><span class="hljs-literal">false</span></span>) { ServerSocket-&gt;Socket-&gt;Connections[numer(nametowho)]-&gt;SendText(<span class="hljs-string"><span class="hljs-string">"7788"</span></span>+name+<span class="hljs-string"><span class="hljs-string">":"</span></span>+message.SubString(message.AnsiPos(<span class="hljs-string"><span class="hljs-string">':'</span></span>)+<span class="hljs-number"><span class="hljs-number">1</span></span>,message.Length())); <span class="hljs-function"><span class="hljs-function">ofstream </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fout</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"chat.txt"</span></span></span></span><span class="hljs-function"><span class="hljs-params">,ios::app)</span></span></span></span>; fout&lt;&lt;time.c_str()&lt;&lt;<span class="hljs-string"><span class="hljs-string">" "</span></span>&lt;&lt;message.c_str()&lt;&lt;<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>; fout.close(); } } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(message.SubString(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>).AnsiCompare(<span class="hljs-string"><span class="hljs-string">"5280"</span></span>)==<span class="hljs-number"><span class="hljs-number">0</span></span>) { ServerSocket-&gt;Socket-&gt;Connections[numer(message.SubString(message.Pos(<span class="hljs-string"><span class="hljs-string">'#'</span></span>)+<span class="hljs-number"><span class="hljs-number">1</span></span>,message.Pos(<span class="hljs-string"><span class="hljs-string">'%'</span></span>)-message.Pos(<span class="hljs-string"><span class="hljs-string">'#'</span></span>)<span class="hljs-number"><span class="hljs-number">-1</span></span>))]-&gt;SendText( <span class="hljs-string"><span class="hljs-string">"6734"</span></span>+message.SubString(message.Pos(<span class="hljs-string"><span class="hljs-string">'%'</span></span>)+<span class="hljs-number"><span class="hljs-number">1</span></span>,message.Length()-message.Pos(<span class="hljs-string"><span class="hljs-string">'%'</span></span>))); } }</code> </pre><br></div></div><br>  When any client is disconnected, the array is cleared, the request for receiving the name is sent again to the clients (the names are sent and received in the order the clients are connected), and the array is refilled.  Also, customers are immediately sent a new list of customers who are online.  This is also done inside the timer.  Name request messages are sent to clients using a loop: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> __fastcall TFormMain::ServerSocketClientDisconnect(TObject *Sender, TCustomWinSocket *Socket) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(ServerSocket-&gt;Socket-&gt;ActiveConnections!=<span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i=<span class="hljs-number"><span class="hljs-number">0</span></span>;i&lt;mass;i++) { m[i]=<span class="hljs-string"><span class="hljs-string">""</span></span>; } TestNames(); Timer1-&gt;Enabled=<span class="hljs-literal"><span class="hljs-literal">true</span></span>; } }</code> </pre><br><h4>  The grafical part </h4><br><br>  The appearance of the server window: <br><br><img src="https://habrastorage.org/files/25e/aa9/609/25eaa96099804ebd9e76d9a406f8178f.png"><br><br>  Initially, I did not have plans to display any information in the server window, but in the end I decided to output the most important thing: the IP address of the server, the number of active connections, the server port, the name of the computer it is running on (for some reason, always ‚Äú1‚Äù I could not fix it yet), and a list of names of connected clients.  The server is minimized to the notification area.  It is implemented with several functions, I will not analyze them in detail.  Also, on the server, error catching is completely disabled (which did not occur in 2 weeks of continuous work at all, but you never know, the network‚Äôs operation is completely paralyzed). <br><br><div class="spoiler">  <b class="spoiler_title">The grafical part</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> __fastcall TFormMain::DrawItem(TMessage&amp; Msg) { IconDrawItem((LPDRAWITEMSTRUCT)Msg.LParam); TForm::Dispatch(&amp;Msg); } <span class="hljs-comment"><span class="hljs-comment">//--------------------------------------------------------------------------- void __fastcall TFormMain::MyNotify(TMessage&amp; Msg) { POINT MousePos; switch(Msg.LParam) { case WM_RBUTTONUP: if (GetCursorPos(&amp;MousePos)) { PopupMenu1-&gt;PopupComponent = FormMain; SetForegroundWindow(Handle); PopupMenu1-&gt;Popup(MousePos.x, MousePos.y); } else Show(); break; case WM_LBUTTONDBLCLK: Show(); break; default: break; } TForm::Dispatch(&amp;Msg); } //--------------------------------------------------------------------------- //--------------------------------------------------------------------------- bool __fastcall TFormMain::TrayMessage(DWORD dwMessage) { NOTIFYICONDATA tnd; PSTR pszTip; pszTip = TipText(); tnd.cbSize = sizeof(NOTIFYICONDATA); tnd.hWnd = Handle; tnd.uID = IDC_MYICON; tnd.uFlags = NIF_MESSAGE | NIF_ICON | NIF_TIP; tnd.uCallbackMessage = MYWM_NOTIFY; if (dwMessage == NIM_MODIFY) { tnd.hIcon = (HICON)IconHandle(); if (pszTip) lstrcpyn(tnd.szTip, pszTip, sizeof(tnd.szTip)); else tnd.szTip[0] = '\0'; } else { tnd.hIcon = NULL; tnd.szTip[0] = '\0'; } return (Shell_NotifyIcon(dwMessage, &amp;tnd)); } //--------------------------------------------------------------------------- HICON __fastcall TFormMain::IconHandle(void) { return (Image2-&gt;Picture-&gt;Icon-&gt;Handle); } //--------------------------------------------------------------------------- PSTR __fastcall TFormMain::TipText(void) { return ("Office Chat"); } //--------------------------------------------------------------------------- LRESULT IconDrawItem(LPDRAWITEMSTRUCT lpdi) { return 0; } //--------------------------------------------------------------------------- //--------------------------------------------------------------------------- void __fastcall TFormMain::FormDestroy(TObject *Sender) { TrayMessage(NIM_DELETE); } //--------------------------------------------------------------------------- void __fastcall TFormMain::N1Click(TObject *Sender) { Show(); } //--------------------------------------------------------------------------- void __fastcall TFormMain::N2Click(TObject *Sender) { Application-&gt;Terminate(); } //--------------------------------------------------------------------------- void __fastcall TFormMain::FormCloseQuery(TObject *Sender, bool &amp;CanClose) { CanClose=false; FormMain-&gt;Hide(); } //--------------------------------------------------------------------------- void __fastcall TFormMain::FormCreate(TObject *Sender) { unsigned long Size = 256; char *Buffer = new char[Size]; Label5-&gt;Caption=GetUserName(Buffer, &amp;Size); delete [] Buffer; } //---------------------------------------------------------------------------</span></span></code> </pre><br></div></div><br>  In conclusion, I want to say that it turned out to be a rather primitively written, but stably working server, which allows 20 people to simultaneously write to each other (I just didn‚Äôt check out more).  All source codes, exe-files and full analysis of the client code will be in the second article. <br><br>  Thanks for attention. </div><p>Source: <a href="https://habr.com/ru/post/259641/">https://habr.com/ru/post/259641/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../259629/index.html">Azure Pack at Oblakotek: why and how we did it</a></li>
<li><a href="../259633/index.html">Devices with load balancing in network monitoring systems or "what is Network Packet Broker"</a></li>
<li><a href="../259635/index.html">We study the insides of the server Huawei RH5885 V3 (unboxing)</a></li>
<li><a href="../259637/index.html">Method of teaching programming: ‚Äúnote-taking‚Äù</a></li>
<li><a href="../259639/index.html">What did you want to know about the Android Animation Framework, but were afraid to ask</a></li>
<li><a href="../259645/index.html">Configuring VPLS Multihoming on Juniper Routers</a></li>
<li><a href="../259647/index.html">Developed by the University of Alabama will help passive cooling systems for servers and ordinary PCs.</a></li>
<li><a href="../259649/index.html">Problems of recognition of ID-documents on mobile devices on the example of machine-readable zones</a></li>
<li><a href="../259651/index.html">SaaS, PaaS, IaaS, or your hardware: What do domestic IT companies use?</a></li>
<li><a href="../259653/index.html">Restore databases using Veeam Explorer for Microsoft SQL Server</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>