<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>TeX-like markup on Javascript</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="When writing the console-like forum , the question was asked: ‚Äúwhich markup should I use?‚Äù. Among the options were the standard bb code ([b] bold [/ b...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>TeX-like markup on Javascript</h1><div class="post__text post__text-html js-mediator-article"><img src="http://www.picamatic.com/show/2009/08/19/01/52/4780284_300x160.png" align="left">  When writing the <a href="http://habrahabr.ru/blogs/i_am_advertising/67301/">console-like forum</a> , the question was asked: ‚Äúwhich markup should I use?‚Äù.  Among the options were the standard bb code ([b] bold [/ b]), wiki markup (* bold *), or TeX-like markup (\ b {bold}).  After a brief meeting, the choice was on TeX-like.  A small library was written, which, in my opinion, is quite interesting, expandable and flexible.  Those who wish to see an example can follow the link <a href="http://freecr.ru/TeX/">freecr.ru/TeX</a> <br><a name="habracut"></a><br>  The library is expanded with plugins.  There are two types of plugins - "tag" and "rule".  ‚ÄúTag‚Äù is, in fact, the TeX tag itself, and the rule is a function applied to text that is not in tags.  For example, to highlight urls in the text: ‚ÄúSo at <a href="http://www.example.com/">www.example.com</a> we see \ b {sample site}‚Äù. <br>  Example of adding a rule: <br><br><blockquote><code><font color="black">TeX.addRule ({ <br> name : <font color="#A31515">'liveUrls'</font> , <br> func : <font color="#0000ff">function</font> ( <font color="#0000ff">string</font> ) { <br> <font color="#0000ff">var</font> urlRE = /((git|svn|ftp|http|https):\/\/(www\.)?|www.)(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&amp;%@!\-\/]))?/gi; <br> <font color="#0000ff">return</font> <font color="#0000ff">string</font> .replace(urlRE, <font color="#0000ff">function</font> (url) { <br> <font color="#0000ff">var</font> urlFull = (url.indexOf( <font color="#A31515">'www'</font> ) === 0) ? <font color="#A31515">"http://"</font> + url : url; <br> <font color="#0000ff">return</font> <font color="#A31515">"&lt;a class='url' href='"</font> + urlFull + <font color="#A31515">"'&gt;"</font> + url + <font color="#A31515">"&lt;/a&gt;"</font> ; <br> }); <br> } <br> })</font> ;</code> </blockquote> <br>  The tag is added according to this very principle: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">TeX.addTag ({ <br> name : <font color="#A31515">'b'</font> , <br> args : [1], <br> func : <font color="#0000ff">function</font> (args) { <br> <font color="#0000ff">return</font> <font color="#A31515">"&lt;b&gt;"</font> + TeX.markup(args[0]) + <font color="#A31515">"&lt;/b&gt;"</font> ; <br> } <br> });</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  The only significant difference is the presence of the args property of the tag.  It can accept an array of numbers, or the string 'unlimited'.  Thus, we indicate how many parameters an argument can take: for example, code can accept two parameters - the language and the code itself, or one - only the code.  Then the value will be args: [1, 2] and it will take an array of arguments with one or two values. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      All the characters inside the tag are not processed by any rules, because if you want them to be processed, you can call TeX.markup recursively for the corresponding argument. <br><br>  I think the most understandable principles of operation will be on the example of code: <br>  Liba itself: <a href="http://pastebin.com/f46087804">http://pastebin.com/f46087804</a> <br><br>  Plugins: <a href="http://pastebin.com/f7840dc97">http://pastebin.com/f7840dc97</a> <br><br>  Well, for the seed - an example of a more advanced plug-in that implements the CCS-highlighting, a la: <br><blockquote>  \ style {float: right} {border: dotted red 2px} {background: #fcc} {text-align: justify} {padding: 25px 100px} {display: block} {text is here} </blockquote><br>  <a title="Sample plugin style" href="http://pastebin.com/f4e75d3f6">http://pastebin.com/f4e75d3f6</a> <br><br>  License - LGPL. <br>  Liba is quite fresh and little tested, so improper work is possible. <br></div><p>Source: <a href="https://habr.com/ru/post/67388/">https://habr.com/ru/post/67388/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../67382/index.html">Arrow</a></li>
<li><a href="../67383/index.html">Bing will show hosting neighbors</a></li>
<li><a href="../67385/index.html">Storing passwords in Pidgin IM</a></li>
<li><a href="../67386/index.html">IPod nano 4G firmware upgrade</a></li>
<li><a href="../67387/index.html">Typographer Evgeny Muravyev for TinyMCE</a></li>
<li><a href="../67389/index.html">Coffee'n'Code Kiev: NHibernate VS Entity Framework</a></li>
<li><a href="../67390/index.html">Asynchrony in DBD :: Pg</a></li>
<li><a href="../67393/index.html">New netprofile tool in Mandriva 2010.0</a></li>
<li><a href="../67396/index.html">Ark in a modern way!</a></li>
<li><a href="../67397/index.html">Create a wireless network using a Macbook for iPhone</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>