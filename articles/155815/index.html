<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Four function call patterns in javascript</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="JavaScript was introduced as a functional programming language. The reason is that functions in JS do not just divide logic into operational blocks, f...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Four function call patterns in javascript</h1><div class="post__text post__text-html js-mediator-article"> JavaScript was introduced as a functional programming language.  The reason is that functions in JS do not just divide logic into operational blocks, functions are <a href="http://ru.wikipedia.org/wiki/%25D0%259E%25D0%25B1%25D1%258A%25D0%25B5%25D0%25BA%25D1%2582_%25D0%25BF%25D0%25B5%25D1%2580%25D0%25B2%25D0%25BE%25D0%25B3%25D0%25BE_%25D0%25BA%25D0%25BB%25D0%25B0%25D1%2581%25D1%2581%25D0%25B0">first-class objects</a> that can create other objects.  Such a dependence on functions is both a strength and a real curse of this language.  The strength is that the language, having such features, becomes lightweight and fast (which JavaScript was originally seen by its creators).  However, if you do not know what you are doing - definitely wait for trouble. <br><br>  I propose to look at the function call patterns, or rather, how the result varies significantly depending on the selected pattern.  We will also look at how this behaves, depending on how the function is called. <br><br>  So, there are four ways to call functions: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  Method Call - Method Invocation </li><li>  Function Call - Function Invocation </li><li>  Constructor Call - Constructor Invocation </li><li>  Call apply and call - Apply And Call Invocation </li></ul><br><a name="habracut"></a><br><h4>  Function execution </h4><br>  JavaScript, like all modern languages, can modulate logic inside functions, and these functions can be called at any time, in the middle of an already running process.  By calling a function, we give it the necessary parameters and process control, stopping the current operation.  Call operator - <b>parentheses ()</b> , which can include parameters, separated by commas. <br><br>  Unfortunately, there are several patterns for calling functions.  About them do not need to be aware of.  They need to be jagged and understood, because, depending on the chosen pattern, you will get different results.  In my opinion, this feature is an error in the design of the language itself, and if JavaScript were created in less haste and with more attention, various problems of a similar nature could have been avoided. <br><br><h4>  Four patterns </h4><br>  As already mentioned, the operator to call a function is one, and there are four ways to call it. <br><br><h5>  Method Call - Method Invocation </h5><br>  When a function is part of an object, it is called a method.  A ‚Äúmethod call‚Äù is a call to a function belonging to an object.  Example: <br><br><blockquote>  var obj <font color="#000080">=</font> <font color="#008000">{</font> <br>  value <font color="#008080">:</font> <font color="#0000dd">0</font> , <br>  increment <font color="#008080">:</font> function <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008000">{</font> <br>  <font color="#0000dd">this</font> .  <font color="#007788">value</font> <font color="#000040">+</font> <font color="#000080">=</font> <font color="#0000dd">1</font> <font color="#008080">;</font> <br>  <font color="#008000">}</font> <br>  <font color="#008000">}</font> <font color="#008080">;</font> <br><br>  obj.  <font color="#007788">increment</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008080">;</font> </blockquote><br>  In the ‚Äúmethod call‚Äù, the value of <code>this</code> will refer to the object to which the function belongs, in our case, to obj, and this connection will be established after the function is launched, which is the term <i>late binding</i> . <br><br><h5>  Function Call - Function Invocation </h5><br>  The function call is performed using the () operator: <br><br><blockquote>  add <font color="#008000">(</font> <font color="#0000dd">2</font> , <font color="#0000dd">3</font> <font color="#008000">)</font> <font color="#008080">;</font>  <font color="#666666">//five</font> </blockquote><br>  Using this pattern, <code>this</code> bound to a global object.  This is undoubtedly a language error ‚Äî the constant binding of this to a global object can destroy its context.  This is especially noticeable if you use the function inside the method.  Let's look at an example: <br><br><blockquote>  <font color="#003366">var</font> value <font color="#339933">=</font> <font color="#CC0000">500</font> <font color="#339933">;</font>  <font color="#006600">// Global variable</font> <br>  <font color="#003366">var</font> obj <font color="#339933">=</font> <font color="#009900">{</font> <br>  value <font color="#339933">:</font> <font color="#CC0000">0</font> <font color="#339933">,</font> <br>  increment <font color="#339933">:</font> <font color="#003366">function</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#009900">{</font> <br>  <font color="#000066">this</font> .  <font color="#660066">value</font> <font color="#339933">++;</font> <br><br>  <font color="#003366">var</font> innerFunction <font color="#339933">=</font> <font color="#003366">function</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#009900">{</font> <br>  <font color="#000066">alert</font> <font color="#009900">(</font> <font color="#000066">this</font> . <font color="#660066">value</font> <font color="#009900">)</font> <font color="#339933">;</font> <br>  <font color="#009900">}</font> <br><br>  innerFunction <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">;</font>  <font color="#006600">// Function invocation pattern</font> <br>  <font color="#009900">}</font> <br>  <font color="#009900">}</font> <br>  obj.  <font color="#660066">increment</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">;</font>  <font color="#006600">// Method invocation pattern</font> <br></blockquote><br>  What do you think will be displayed on the screen?  If you decide that 1 - you are wrong (but do not blame yourself - blame crooked JavaScript design).  The correct answer is 500. Note that <code>innerFunction</code> is called using the aforementioned ‚Äúfunction call‚Äù pattern, so <code>this</code> bound to a global object.  As a result, we get 500. <br><br>  You can easily get around this problem by creating the <code>this</code> variable, but this, in my opinion, is a hack. <br><br><blockquote>  <font color="#003366">var</font> value <font color="#339933">=</font> <font color="#CC0000">500</font> <font color="#339933">;</font>  <font color="#006600">// Global variable</font> <br>  <font color="#003366">var</font> obj <font color="#339933">=</font> <font color="#009900">{</font> <br>  value <font color="#339933">:</font> <font color="#CC0000">0</font> <font color="#339933">,</font> <br>  increment <font color="#339933">:</font> <font color="#003366">function</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#009900">{</font> <br>  <font color="#003366">var</font> that <font color="#339933">=</font> <font color="#000066">this</font> <font color="#339933">;</font> <br>  that.  <font color="#660066">value</font> <font color="#339933">++;</font> <br><br>  <font color="#003366">var</font> innerFunction <font color="#339933">=</font> <font color="#003366">function</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#009900">{</font> <br>  <font color="#000066">alert</font> <font color="#009900">(</font> that. <font color="#660066">value</font> <font color="#009900">)</font> <font color="#339933">;</font> <br>  <font color="#009900">}</font> <br><br>  innerFunction <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">;</font>  <font color="#006600">// Function invocation pattern</font> <br>  <font color="#009900">}</font> <br>  <font color="#009900">}</font> <br>  obj.  <font color="#660066">increment</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">;</font> </blockquote><br>  Thus, we tied <code>this</code> to the object within which the function is called. <br><br><h5>  Constructor Call - Constructor Invocation </h5><br>  Warning: this is another JavaScript feature that is very different from classic OOP languages!  It is a prototype-oriented programming language, but its creators thought that the people of the ‚Äúclassical school‚Äù (of whom most) would feel uncomfortable.  As a result, the principles of the classic OOP were added to the prototype JavaScript and it turned out what turned out to be a mess. <br><br>  In classic OOP, an object is a class implementation.  In C ++ and Java, the <code>new</code> operator is used for this implementation.  Apparently, the creators of JS decided not to go far beyond the example, and to implement something similar in the ‚Äúconstructor challenge‚Äù pattern ... <br><br>  The pattern is started by placing the <code>new</code> operator right before the call, for example: <br><br><blockquote>  <font color="#003366">var</font> Cheese <font color="#339933">=</font> <font color="#003366">function</font> <font color="#009900">(</font> type <font color="#009900">)</font> <font color="#009900">{</font> <br>  cheeseType <font color="#339933">=</font> type <font color="#339933">;</font> <br>  <font color="#000066">return</font> cheeseType <font color="#339933">;</font> <br>  <font color="#009900">}</font> <br><br>  cheddar <font color="#339933">=</font> <font color="#003366">new</font> Cheese <font color="#009900">(</font> <font color="#3366CC">"cheddar"</font> <font color="#009900">)</font> <font color="#339933">;</font>  <font color="#006600">// Returns an object, not a type.</font> </blockquote><br>  Despite the fact that <code>Cheese</code> is a functional object (which means it can digest the code), we created a new object by calling a function with <code>new</code> .  <code>this</code> in this case will refer to the newly created object, and the <code>return</code> behavior will be changed.  Speaking of return.  Its use in the "constructor call" has two features: <br><br><ul><li>  if the function returns a number, a string, a boolean expression (true / false), null or undefined, the <code>return</code> does not work, and we get <code>this</code> </li><li>  if the function returns an object implementation (that is, everything except simple variables), we will see the given object, and not <code>this</code> </li></ul><br><blockquote>  <font color="#003366">var</font> obj <font color="#339933">=</font> <font color="#009900">{</font> <br>  data <font color="#339933">:</font> <font color="#3366CC">"Hello World"</font> <br>  <font color="#009900">}</font> <br><br>  <font color="#003366">var</font> Func1 <font color="#339933">=</font> <font color="#003366">function</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#009900">{</font> <br>  <font color="#000066">return</font> obj <font color="#339933">;</font> <br>  <font color="#009900">}</font> <br><br>  <font color="#003366">var</font> Func2 <font color="#339933">=</font> <font color="#003366">function</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#009900">{</font> <br>  <font color="#000066">return</font> <font color="#3366CC">"I am a simple type"</font> <font color="#339933">;</font> <br>  <font color="#009900">}</font> <br><br>  <font color="#003366">var</font> f1 <font color="#339933">=</font> <font color="#003366">new</font> Func1 <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">;</font>  <font color="#006600">// f1 is assigned to the object</font> <br>  <font color="#003366">var</font> f2 <font color="#339933">=</font> <font color="#003366">new</font> Func2 <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">;</font>  <font color="#006600">// f2 assigned to new object</font> </blockquote><br>  We could ignore the use of <code>this</code> , and assign literals to objects if it were not for one thing: the creators of JavaScript associated one of the key features of the language with the given pattern ‚Äî creating objects with an arbitrary reference to the prototype ( <i>for more <a href="http://doctrina.org/JavaScript-Objects-Prototypes.html">,</a> see English <a href="http://doctrina.org/JavaScript-Objects-Prototypes.html">here</a></i> ).  This pattern is unintuitive, moreover, problems often arise with it.  The solution to the problem was suggested by Douglas Crockford: you can use the <a href="http://www.crockford.com/javascript/inheritance.html">augment object</a> with the create method.  I am pleased to announce that since version 1.8.5 of JavaScript, <code>Object.create</code> is quite a working tool. <br><br><h5>  Call apply and call - Apply And Call Invocation </h5><br>  This pattern is designed much better than others.  It allows you to manually start the function, simultaneously providing it with parameters and designating <code>this</code> .  Due to the fact that our functions are full-fledged objects, each function in JavaScript is associated with <a href="http://doctrina.org/JavaScript-Objects-Prototypes.html">Function.prototype</a> , which means we can easily add methods to them. <br><br>  This pattern uses two parameters: the first is the object this is bound to, the second is an array associated with the parameters: <br><br><blockquote>  <font color="#003366">var</font> add <font color="#339933">=</font> <font color="#003366">function</font> <font color="#009900">(</font> num1 <font color="#339933">,</font> num2 <font color="#009900">)</font> <font color="#009900">{</font> <br>  <font color="#000066">return</font> num1 <font color="#339933">+</font> num2 <font color="#339933">;</font> <br>  <font color="#009900">}</font> <br><br>  array <font color="#339933">=</font> <font color="#009900">[</font> <font color="#CC0000">3</font> <font color="#339933">,</font> <font color="#CC0000">4</font> <font color="#009900">]</font> <font color="#339933">;</font> <br>  add.  <font color="#660066">apply</font> <font color="#009900">(</font> <font color="#003366">null</font> <font color="#339933">,</font> array <font color="#009900">)</font> <font color="#339933">;</font>  <font color="#006600">// 7</font> </blockquote><br>  In the example above, <code>this</code> refers to <code>null</code> (the function is not an object), and the array is bound to <code>num1</code> and <code>num2</code> .  But let's continue experimenting with the first parameter: <br><br><blockquote>  <font color="#003366">var</font> obj <font color="#339933">=</font> <font color="#009900">{</font> <br>  data <font color="#339933">:</font> <font color="#3366CC">'Hello World'</font> <br>  <font color="#009900">}</font> <br><br>  <font color="#003366">var</font> displayData <font color="#339933">=</font> <font color="#003366">function</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#009900">{</font> <br>  <font color="#000066">alert</font> <font color="#009900">(</font> <font color="#000066">this</font> . <font color="#660066">data</font> <font color="#009900">)</font> <font color="#339933">;</font> <br>  <font color="#009900">}</font> <br><br>  displayData <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">;</font>  <font color="#006600">// undefined</font> <br>  displayData.  <font color="#660066">apply</font> <font color="#009900">(</font> obj <font color="#009900">)</font> <font color="#339933">;</font>  <font color="#006600">// Hello World</font> <br></blockquote><br>  This example uses <code>apply</code> to bind <code>this</code> to <code>obj</code> .  As a result, we are able to get the value of <code>this.data</code> .  The real value of apply lies precisely in the binding of <code>this</code> . <br><br>  In JavaScript, there is also a <code>call</code> operator, similar to <code>apply</code> all, except that it receives not a parameter, but a list of arguments. <br><br><h4>  Conclusion </h4><br>  Good or not, JavaScript is about to take over the world.  That is why it is just necessary to know about its features, especially about those that should be avoided.  Understanding the four function call patterns is a prerequisite for learning JavaScript.  I hope that this post will help you. </div><p>Source: <a href="https://habr.com/ru/post/155815/">https://habr.com/ru/post/155815/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../155801/index.html">ASUS PadFone 2</a></li>
<li><a href="../155803/index.html">UDP hole punching for Symmetric NAT: a bit of theory and an almost honest experiment</a></li>
<li><a href="../155807/index.html">Mobile Professional Days in Kharkov</a></li>
<li><a href="../155811/index.html">JRuby 1.7.0 release</a></li>
<li><a href="../155813/index.html">The developers of ‚ÄúMamba‚Äù at the HighLoad ++ 2012 conference</a></li>
<li><a href="../155819/index.html">Oryol Prosecutor's Office does not leave the wiki alone</a></li>
<li><a href="../155821/index.html">Two free MongoDB developer courses started</a></li>
<li><a href="../155829/index.html">Overview of TP-Link MR3040 Mobile Router</a></li>
<li><a href="../155831/index.html">Parsing a task with IOI2012</a></li>
<li><a href="../155833/index.html">How to properly store and enhance useful digital information</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>