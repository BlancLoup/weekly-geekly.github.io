<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>My first steps in SWT: A simple tabbed notebook</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Habrahabr has very few articles about SWT , so I will try to correct this small omission. 

 From this article you will learn: 


- What is the motiva...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>My first steps in SWT: A simple tabbed notebook</h1><div class="post__text post__text-html js-mediator-article">  Habrahabr has very few articles about <a href="http://eclipse.org/swt/">SWT</a> , so I will try to correct this small omission. <br><br>  From this article you will learn: <br><ul><li>  What is the motivation to use SWT as opposed to the main competitor - Swing? </li><li>  The main difficulties I encountered when developing a simple notebook on a bunch of Java + SWT and Some code </li><li>  How to pack and distribute your application for multiple platforms </li></ul><br>  If you are interested in - I ask under the cat. <br><a name="habracut"></a><br><h4>  Preamble </h4><br>  As you know, Java is famous for its cross-platform (write-once - run anywhere), and this also applies to GUI applications.  Although, perhaps, Java and not the most common platform for writing GUI applications.  And for a number of reasons. <br><br>  Perhaps the main reason for this is the conviction that code written for a particular platform will work faster than code written for something abstract in a vacuum.  Well, in my opinion perhaps this is true. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Some will disagree with me and say that this is exactly the style of Java - written once must be executed and look the same on all platforms.  And <a href="">Swing is</a> a good confirmation.  Of course, the Swing application can be customized using various themes (Look And Feel), but still it will feel and look not quite like its own. <br><br>  Although the guys from JetBrains were able to prove (at least to me personally) that Swing applications can be very, even friendly, but the fact remains - it begins to slow down over time, not because it is written poorly, but because of the fact that The GUI framework is used by Swing, which is somewhat worse with operating systems than their native components. <br><br>  SWT has just approached this problem from the other side.  By and large, SWT is a thin layer between a Java programmer and the native APIs of a particular operating system, which is somewhat worse than the Java ideology.  But, as they say, the rules just exist in order to break them.  Especially if it is good.  And this in my opinion is the main motivation, why you should pay attention to SWT. <br><br><h4>  The first steps </h4><br>  I think that it would be clearer to the reader, I should tell you what I wanted to achieve from my notebook. <br><br>  The idea was quite simple: <br>  I wanted to make a semblance of a classic notebook, what we see under Windows.  Only with tabs. <br><br>  Looking ahead, I‚Äôll say that I didn‚Äôt fully implement my idea - there is no possibility to send a document to a printer for printing, the ability to change the font, search the document.  But, what happened, allowed to feel the "taste of SWT", which looked pretty pleasant. <br><br>  Well then.  So far there have been only a lot of words, but no action.  It's time to bring a little code. <br><br>  The entry point to the application is (Bootstrap.java): <br><br><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Display display = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Display(); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Shell shell = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Shell(display); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> DocumentAndTabManager documentAndTabManager = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DocumentAndTabManager(shell); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> TextEditor textEditor = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TextEditor(shell, documentAndTabManager); textEditor.init(); textEditor.run();</code> </pre> <br><br>  What we have done here: <br><ul><li>  Created the display (Display), said that the shell (Shell) would use our display.  (In my opinion, SWT has a fairly well-formed ideology - the application should not have more than one display object.) </li><li>  Shell (Shell) - where the main action will take place.  If we draw an analogy with Swing, then we can say that this is to some extent an analogue of JPanel. </li><li>  We made an injection from the shell to our manager of documents and the text editor, so that they would not forget why they are needed and who their owners are. </li></ul><br><br>  Initialized shell (TextEditor.java): <br><br><pre> <code class="java hljs">shell.setLayout(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FillLayout()); <span class="hljs-comment"><span class="hljs-comment">//    (): shell.setMenuBar(createAndSetUpMenu());</span></span></code> </pre> <br><br>  In brief, the process of creating a menu: <br><br><pre> <code class="java hljs"> <span class="hljs-comment"><span class="hljs-comment">//     - ,   - : final Menu menu = new Menu(shell, SWT.BAR); //    . final MenuItem helpItem = new MenuItem(menu, SWT.CASCADE); // :  "&amp;"    ,         Alt+H. helpItem.setText("&amp;Help"); //  -    Item'a: final Menu helpMenu = new Menu(menu); helpItem.setMenu(helpMenu); final MenuItem about = new MenuItem(helpMenu, SWT.NONE); about.setText("About"); about.addSelectionListener(new HelpMenuAboutSelectionListener(shell));//       .</span></span></code> </pre><br><br>  And run our application: <br><br><pre> <code class="java hljs"> shell.open();<span class="hljs-comment"><span class="hljs-comment">//  while (!shell.isDisposed()) { final Display display = shell.getDisplay(); if (!display.readAndDispatch()) { display.sleep(); } } shell.dispose();</span></span></code> </pre><br><br>  Next, during the execution of our notebook, some of the listeners will work (in response to some kind of our action), from which we will do what we need, let's say we run some task in synchronous or asynchronous mode: <br><br><pre> <code class="java hljs"> shell.getDisplay().asyncExec(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ReloadJob(documentAndTabManager, currentTab));</code> </pre> <br><br><h4>  Packaging </h4><br>  Another portion of the pseudo-difficulties I encountered: <br>  For each operating system and architecture you need to make your build.  This requires jar'y for each specific platform.  I used to use Maven, but for these purposes it is not very well suited, because I did not find fresh versions of SWT in the Maven repositories, and I had to manually download packages for each of the operating system / architecture platforms.  In addition, where a lot of customization is needed Maven is not particularly suitable, but good old Ant comes to the rescue.  As a dependency manager, I took Ivy. <br><br>  A piece of ant-script (build.xml), responsible for packaging for a specific operating system / architecture: <br><br><pre> <code class="xml hljs"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">jar</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">destfile</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"${package.dir}/${jar.prefix}_${target.platform}-${target.architecture}-${version}.jar"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">basedir</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"${output.dir}"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">restrict</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">archives</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">zips</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">fileset</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">refid</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"classpath.files"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">fileset</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">dir</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"${basedir}/lib/swt"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">includes</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"swt-${target.platform}-${target.architecture}.jar"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">zips</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">archives</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">restrict</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">manifest</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">attribute</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Main-Class"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"swt.texteditor.simple.Bootstrap"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">manifest</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">jar</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  The size of Jar's turned out to be 2 - 2.5 MB (depending on the OS and architecture), which in general is not so much. <br><br><h4>  Instead of conclusion </h4><br>  Having passed a small development cycle through myself I can notice <br><br>  Cons SWT in my opinion: <br>  * Few documentation / tutorials <br>  * Google doesn't know as much about SWT as Swing <br>  * Many problems have to be solved longer. <br><br>  SWT advantages in my opinion: <br>  * In general, simple and intuitive API <br>  * Cross-platform native-looking application <br>  * Out of the box faster working than the same on Swing <br><br>  What did I learn from this little experiment? <br><br>  SWT with all its charms and flaws impressed me pleasantly.  The next time I decide to write a desktop application, I will no doubt choose a combination of Java + SWT. <br><br>  <b>PS</b> A few screenshots in the end. <br><br>  From Linux: <br><br>  Native scrolling for Ubuntu (Unity) <br><img src="https://habrastorage.org/getpro/habr/post_images/47c/d6b/5ce/47cd6b5cefd6a4815c9c9c383953fb39.png"><br><br>  Native menu for Ubuntu (Unity) <br><img src="https://habrastorage.org/getpro/habr/post_images/69f/df5/3fe/69fdf53fe294893eb264eb47940afa45.png"><br><br>  And from under Windows: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/eed/4ec/709/eed4ec7097f1e84207758ac049bb1aec.png"><br><br>  <s>Under Mac OS, unfortunately there are no screenshots in the absence of Mac OS X.</s> <br>  Kindly provided screenshot by <a href="https://habrahabr.ru/users/seneast/" class="user_link">seneast</a> user: <br><img src="https://habrastorage.org/getpro/habr/post_images/bae/e6a/2dc/baee6a2dcaf009351680c93c054de432.png" alt="image"><br><br>  Source codes are available here: <a href="http://code.google.com/p/swt-text-editor/source/browse/">code.google.com/p/swt-text-editor/source/browse</a> <br>  Download my notebook variation for your OS here: <a href="http://code.google.com/p/swt-text-editor/downloads/list">code.google.com/p/swt-text-editor/downloads/list</a> <br>  From under Windows it is launched by double click, from under Mac OS X java -XstartOnFirstThread -jar simple_edit *., Linux with the command java -jar simple_edit *.  Runs under Java 1.6 and up. <br>  Short instructions on how to start messing around with code from IDE (in English) <a href="http://code.google.com/p/swt-text-editor/wiki/SourceCodeImport">code.google.com/p/swt-text-editor/wiki/SourceCodeImport</a> <br><br>  I will be glad to any comments, complaints and advice. </div><p>Source: <a href="https://habr.com/ru/post/134777/">https://habr.com/ru/post/134777/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../134771/index.html">AngryBirds Tournament: how to do it</a></li>
<li><a href="../134772/index.html">A brief overview of modern tools for a novice developer Drupal</a></li>
<li><a href="../134773/index.html">iPhone. "Printing simulator"</a></li>
<li><a href="../134774/index.html">Working with EXIF ‚Äã‚Äãgeotagging in C #</a></li>
<li><a href="../134775/index.html">Time-lapse rendering based on individual frames</a></li>
<li><a href="../134778/index.html">Grand Theft Auto 3 is already available on Android and iOS</a></li>
<li><a href="../134780/index.html">The world will not see smartphones based on BlackBerry 10 until the end of 2012</a></li>
<li><a href="../134781/index.html">Scanning in 3D with a camera or 123D Catch</a></li>
<li><a href="../134784/index.html">Work with memory (and yet it is)</a></li>
<li><a href="../134785/index.html">Sony Ericsson Xperia Trio Receives Ice Cream Sandwich</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>