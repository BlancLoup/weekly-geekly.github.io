<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Groovy inspiration - Feel the difference</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Why groovy 
 Being a Java developer, some time ago I began to look in the direction of other programming languages, and I was thinking about this far ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Groovy inspiration - Feel the difference</h1><div class="post__text post__text-html js-mediator-article"><img src="http://groovy.codehaus.org/download/attachments/1866/groovydukemed.jpg?version=1&amp;modificationDate=1176732937408" width="213" height="160" alt="image"><br><h4>  Why groovy </h4><br>  Being a Java developer, some time ago I began to look in the direction of other programming languages, and I was thinking about this far from me alone.  Some of my acquaintances, who in their time had no small experience in developing for the Java platform, began to move resolutely along the rails (Rails), using Ruby accordingly, someone else is thinking about taming Python with an attachment to it in the form of Django.  Enough books are being written on how a Java programmer can migrate to the world of dynamic languages.  Can something stop us? <br><a name="habracut"></a><br>  It so happened that not so long ago I had the opportunity to observe the development on Ruby &amp; Rails from a chair next to my partner and even to pee myself, sometimes listening to criticism towards Java - style.  As a result, I don‚Äôt know for sure yet, unfortunately or fortunately, but I wasn‚Äôt drawn out.  Still, I didn‚Äôt want to leave, perhaps, by some standards, it‚Äôs not very big, but still the main thing for me is almost 3 years of experience with Java.  At the same time, I can easily give a damn about a considerable part of the time spent studying AS3 / Flex, whose components were integral when writing applications that use streaming video technology.  But, fortunately, this practice seems to be over. <br>  This weekend I came across some article about Groovy, I just can not remember how it all began.  After that, after seeing a couple of recorded conferences, this time Groovy definitely interested me.  The language is designed for the Java platform and is the most popular of the other, dynamic languages ‚Äã‚Äãused in the JVM.  We were pleased, of course, with the fairly simple integration with the components in my usual language, the ability to use familiar frameworks, work in the OSGi environment - all that really stops me from leaving the Java world, while giving the opportunity to write elegant code. <br>  Well, there is enough water, otherwise it has already happened quite a lot, I‚Äôll get down to business and try to explain why Groovy inspired me, the tour of which was one of my main classes for the last weekend. <br><br><h4>  Javabeans and groovy </h4><br>  After learning a bit of Java and knowing the basics of encapsulation, no matter in what order these two actions are performed, most of us are faced with the need to write JavaBeans - creating class fields and generating ‚Äúfavorite‚Äù getters / setters.  In the IDE for this, it seems, even HotKey did.  Below are JavaBeans in Java and Groovy, respectively. <br> <code>//Java <br> import java.util.Date; <br> <br> public class Employee { <br> private String firstName; <br> private String lastName; <br> private Date dateSince; <br> <br> public String getFirstName() { <br> return firstName; <br> } <br> <br> public void setFirstName(String firstName) { <br> this.firstName = firstName; <br> } <br> <br> public String getLastName() { <br> return lastName; <br> } <br> <br> public void setLastName(String lastName) { <br> this.lastName = lastName; <br> } <br> <br> public Date getDateSince() { <br> return dateSince; <br> } <br> <br> public void setDateSince(Date dateSince) { <br> this.dateSince = dateSince; <br> } <br> } <br></code> <br> <code>//Groovy <br> class Employee { <br> String firstName <br> String lastName <br> Date dateSince <br> } <br></code> <br>  It turned out 31 line on Java against 5 on Groovy. <br>  And this is without additional constructors with parameters, the writing of which in Groovy is not required at all: <br> <code>def e = new Employee(firstName:'Ivan', lastName:'Petrov')</code> <br> <br>  Tell me where is private or what is not always necessary to give the opportunity to change the state of objects (-seeters + constructor)?  And this problem is solved with the annotation <code>@Immutable</code> <br> <code>import groovy.lang.Immutable; <br> <br> @Immutable class Employee { <br> String firstName <br> String lastName <br> Date dateSince <br> } <br></code> <br><h4>  Exceptions </h4><br>  Regarding this topic, you can argue for a long time ... As you know, in Java exceptions are divided into checked (checked) and unchecked (unchecked).  In Groovy, however, all exceptions can be attributed to the unchecked class, that is, no one will force you to catch them when calling methods or indicate that the processing will be somewhere higher.  Here you can think that after all we are not children and for this we do not need a warden.  But at the same time, no one bothers to specify throws or to wrap code in try / catch blocks. <br><br><h4>  Delegation </h4><br>  To shorten the code, we often have to redirect method calls from a container class to one or more of its fields, producing some stupid and homogeneous text. <br>  Below is a simple example showing a solution for this problem. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     <code>import java.text.SimpleDateFormat <br> <br> class Event { <br> @Delegate Date when <br> String title, url <br> } <br> <br> def df = new SimpleDateFormat("yyyy/MM/dd") <br> <br> def gr8conf = new Event(title: "GR8 Conference", <br> url: "http://www.gr8conf.org", <br> when: df.parse("2009/05/18")) <br> def javaOne = new Event(title: "JavaOne", <br> url: "http://java.sun.com/javaone/", <br> when: df.parse("2009/06/02")) <br> <br> assert gr8conf.before(javaOne.when)</code> <br> <br>  Apparently, now it is possible to use methods of the <i>Date</i> class without problems.  The expression <code>gr8conf.before(javaOne.when)</code> seems quite logical, while maintaining the purity of the code. <br>  An example, of course, is very primitive, but I think everyone will be able to reproduce in his head those moments in which this could help him. <br><br><h4>  Closures </h4><br>  There are no closures in Java, and it is impossible to say exactly when they appear, in Java 8, as planned or transferred again.  In Groovy, you can use them now.  I will not look at closures in great detail here, I think this is a topic for a separate article, but I‚Äôll just give one example of how to reduce the code. <br><br>  Suppose we have a list of workers (Employee), we need to choose from them a subset that meets a certain selection criterion: it can be a salary, age or department. <br><br> <code>List getStaffWithMuchSalaryThan(List staff, double salary); <br> List getStaffYoungerThan(List staff, int age); <br> List getStaffByDepartment(List staff, Dept dept); <br></code> <br><br>  In each, about the same logic: run through the cycle, checking the satisfaction of the conditions.  If it satisfies, add to the result list. <br>  That is, in Java we have three methods of the form: <br><br>  public List getStaffWithMuchSalaryThan (List staff, double salary) { <br>  List result = new ArrayList (); <br>  for (Employee e: staff) { <br>  if (e.getSalary ()&gt; = salary) { <br>  result.add (e); <br>  } <br>  } <br>  return result; <br>  } <br><br>  and so for each of the above two more methods.  Of course, the problem of code design can be solved with the help of the Strategy pattern, but the number of lines will remain quite large. <br><br>  Now let's try to write the same thing using closures. <br><br> <code>//  <br> def staff = [ <br> new Employee(firstName: 'A', salary:500, age:20, dept:'K'), <br> new Employee(firstName: 'B', salary:700, age:30, dept:'K'), <br> new Employee(firstName: 'C', salary:1000, age:25, dept:'A2') ] <br> <br> //   <br> def getStaffWithCriteria(staff, criteria) { <br> result = [] <br> for(e in staff) { <br> if(criteria(e)) result.add(e) <br> } <br> result <br> } <br> <br> println getStaffWithCriteria(staff, {e -&gt; e.salary &gt; 600}) //  600 <br> println getStaffWithCriteria(staff, {e -&gt; e.age &lt; 27}) //,   27  <br> println getStaffWithCriteria(staff, {e -&gt; e.dept == 'K'}) //   K</code> <br> <br>  // UPD: And without one bike, the code is simplified to: <br><br>  println staff.grep {e -&gt; e.salary&gt; 600} <br>  println staff.grep {e -&gt; e.age &lt;27} <br>  println staff.grep {e -&gt; e.dept == 'K'} <br><br>  Thank you <a href="https://habrahabr.ru/users/thevery/" class="user_link">thevery</a> <br><br>  Result: <br>  <i>[B, c]</i> <i><br></i>  <i>[A, C]</i> <i><br></i>  <i>[A, b]</i> <br><br><h4>  Work with collections </h4><br>  Groovy makes it easy to work with lists, from creating them to iterating through them. <br><br>  It is quite logical: <br> <code>def list = ['a', 'b', 'c']</code> <br> <br>  instead of Java code: <br><br>  List list = new ArrayList (); <br>  list.add ("a"); <br>  list.add ("b"); <br>  list.add ("c"); <br><br>  Suppose we just need to list the elements: <br>  in java: <br> <code>for(String s: list) { <br> System.out.println(s); <br> } <br></code> <br>  in groovy: <br> <code>list.each {println it}</code> <br> <br>  A Java loop will not be so attractive if we need access to the index of an item.  Then one cannot do without a loop of the form presented below, or by introducing an additional variable, while at the same time performing an increment operation on it within the loop: <br> <code>for (int i = 0; i &lt; list.size(); i++) { <br> System.out.println(i + " - " + list.get(i)); <br> }</code> <br> <br>  In Groovy, this task has a simpler solution. <br><br> <code>list.eachWithIndex {e, i -&gt; println ‚Äú${i} - ${e}‚Äù}</code> <br> <br>  Also, once everyone had to write code to display a delimited list, with the proviso that after the last element there should be no separator.  And so, this is one eye-cutting condition to check whether the element is the last in the cycle. <br><br>  The groovy code for this purpose is greatly simplified using the join method <br><br> <code>list.join(', ')</code> <br> <br>  produces the string: <i>‚Äúa, b, c‚Äù</i> <br><br><h4>  Build project </h4><br>  Those who are used to using tools to build projects such as Ant, Maven, instead of the built-in functionality of the development environment, you can advise to try Gradle.  Despite my great love for Maven to build Java projects, Gradle for me looks much nicer.  Unfortunately, in the framework of this article, everything that can be said good about Gradle does not fit.  By the way, yesterday, December 19, the release of version 0.9 took place, including many changes. <br><br><h4>  Conclusion </h4><br>  Of course, this article does not pretend to be the title of the gurus' sayings or the general guide to use Groovy.  More like just to share new experiences.  But it would be very nice if further study of this language will allow you to remain committed to the Java platform, while introducing many dynamic features from Groovy.  Here only a small part of how Groovy can help make the code simpler and more elegant was considered, but I hope that some readers will not stop at this and try many other goodies offered by this language.  In conclusion, you can pay attention to the fact that Groovy is a young language and is currently developing quite actively in its community and partly due to investments from SpringSource.  The de facto web framework for the language is Grails. <br><h5>  main sources </h5><br>  <a href="http://groovy.codehaus.org/">groovy.codehaus.org</a> <br>  <a href="http://www.infoq.com/presentations/Transforming-to-Groovy">www.infoq.com/presentations/Transforming-to-Groovy</a> (you can‚Äôt wait for a change of presentation pictures, you can safely press fullscreen on the video) <br>  <a href="http://www.infoq.com/presentations/Industrial-Strength-Groovy">www.infoq.com/presentations/Industrial-Strength-Groovy</a> <br>  <a href="http://www.asert.com.au/pubs/Groovy/Groovy.pdf">www.asert.com.au/pubs/Groovy/Groovy.pdf</a> </div><p>Source: <a href="https://habr.com/ru/post/110368/">https://habr.com/ru/post/110368/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../110359/index.html">Russian spelling on "Macs": a ray of light in a dark kingdom</a></li>
<li><a href="../110363/index.html">Samsung bada Developers Challenge - World Contest Results</a></li>
<li><a href="../110364/index.html">Kno - a tablet with an Ubuntu-based operating system in two versions with single and double display</a></li>
<li><a href="../110366/index.html">Release ImpactJS Game Engine - $ 99</a></li>
<li><a href="../110367/index.html">SVG with transparent background in Chrome and Safari</a></li>
<li><a href="../110369/index.html">Interception of system calls in linux under x86-64</a></li>
<li><a href="../110374/index.html">"Ears" for every taste</a></li>
<li><a href="../110379/index.html">War¬ßow 0.6 released!</a></li>
<li><a href="../110382/index.html">The biggest sale on Steam, for all time of its existence</a></li>
<li><a href="../110384/index.html">Visual paradigm for language selection</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>