<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Microsoft Azure ‚ù§ Big Data</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="About six months ago, I published a retrospective of what is interesting for researchers happening in the Microsoft Azure cloud. 

 I will continue th...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Microsoft Azure ‚ù§ Big Data</h1><div class="post__text post__text-html js-mediator-article">  About six months ago, I published a <a href="http://0xcode.in/azure-for-research">retrospective</a> of what is interesting for researchers happening in the Microsoft Azure cloud. <br><br>  I will continue this topic, slightly shifting the focus to areas that for me the last couple of years have consistently remained the most interesting in IT: <em>Big Data</em> , <em>machine learning</em> and their symbiosis with <em>cloud technologies</em> . <br><br>  <em>Below we will discuss mainly the October announcements of Microsoft Azure services, providing the possibility of batch and real-time processing of large data arrays, a high-performance on-demand cluster, and broad support for machine learning algorithms.</em> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/bbc/217/93c/bbc21793cb4c4bd082ba419211c43827.PNG"><br><br><a name="habracut"></a><br><h2>  Real time </h2><br><h4>  Apache Storm in HDInsight </h4><br>  At the <a href="http://strataconf.com/stratany2014">Strata + Hadoop World</a> conference, held in October of this (2014) year, Apache Storm support was announced in <br>  <a href="http://www.codeinstinct.pro/2012/12/hdinsight.html">HDInsight</a> (PaaS service that provides Hadoop on demand). <br><br>  <a href="http://hortonworks.com/hadoop/storm/"><strong>Apache Storm</strong></a> is a high-performance, scalable, fault-tolerant framework for distributed application execution in both near real-time and batch mode. <br><br>  Cloudbus ServiceBus Queues or Event Hubs can serve as data sources in HDInsight Storm. <br><br>  At the <a href="http://europe.msteched.com/">TechEd Europe 2014</a> conference, held in late October, the availability of <b>Azure Cloudera Enterprise</b> and <b>Hortonworks Data Platform</b> was announced in the form of pre-configured Azure VM (IaaS service). <br><br><h4>  Azure Event Hubs </h4><br>  <a href="http://azure.microsoft.com/en-us/services/event-hubs/"><strong>Event Hubs</strong></a> , a highly scalable service capable of processing millions of requests per second in near real-time mode, was launched into commercial operation. <br><br>  The main features of the service (except those already listed in the definition): <br><ul><li>  volume of incoming requests:&gt; 1 GB per second; </li><li>  number of event producers:&gt; 1 million; </li><li>  HTTP (S), AMQP protocol support; </li><li>  Elastic scaling up / down without downtime; </li><li>  time-based event buffering with orderliness; </li><li>  limits depending on the plan. </li></ul><br><h4>  Azure Stream Analytics </h4><br>  <a href="http://azure.microsoft.com/en-us/services/stream-analytics/"><strong>Stream Analytics</strong></a> is an event-processing engine (engine) that allows you to process a large number of events in real time.  As befits a decent cloud service, Stream Analytics copes with the load of more than 1M requests per second, it elastically scales, supports several data sources - Azure Blob Storage and Event Hubs.  Transformation rules in Stream Analytics are written in a SQL-like language (as much as you can! - another SQL-like query language). <br><br>  To work with the service, you need to make actions similar to what was done in the Azure Data Factory (about it a little later) - create the service itself, define the input data sources and output streams through the web interface, write a query query for data transformation. <br><br>  This is how a request for the formation of second candles for orders to buy / sell shares coming from an abstract exchange will look like: <br><br><pre><code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DateAdd</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">second</span></span>,<span class="hljs-number"><span class="hljs-number">-1</span></span>,System.TimeStamp) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> OpenTime, system.TimeStamp <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> CloseTime, <span class="hljs-keyword"><span class="hljs-keyword">Security</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">Max</span></span>(Price) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">High</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">Min</span></span>(Price) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Low</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">Count</span></span>(Volume) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> TotalVolume <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> trades <span class="hljs-keyword"><span class="hljs-keyword">GROUP</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> TumblingWindow(<span class="hljs-keyword"><span class="hljs-keyword">second</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">Security</span></span></code> </pre> <br>  The concept and query of Stream Analytics will remind me of the product Stream Insight.  There is not much service documentation, but ‚Äú <a href="http://azure.microsoft.com/en-us/documentation/articles/stream-analytics-get-started/">Get started ...</a> ‚Äù has already been written. <br><br><h2>  HPC </h2><br><h4>  Azure batch </h4><br>  <a href="http://azure.microsoft.com/en-us/documentation/services/batch/"><strong>Azure Batch</strong></a> is a cluster-on-demand service.  The service allows you to write a highly scalable application that uses high-performance nodes to run multiple identical tasks. <br><br>  Cases of using the service for Azure Batch are traditional for the Big Data world - tasks can work with a large amount of data (more than it can fit into the RAM of a single node).  Applications: genetic engineering, banking, financial exchanges, retail, telecom, healthcare, government agencies and commercial web services that accumulate large amounts of data in their work. <br><br>  In addition, Azure Batch is suitable for tasks that require more CPU power (on the CPUs of a single node, the computing would take more time).  Such tasks include tasks of rendering and image processing, (de) video coding. <br><br>  Below is an example of a framework that you need to implement to run an application in Azure Batch (I specify classes with a namespace, so that the origin of the classes is obvious). <br><br>  The code for the server side will look something like this: <br><br><pre> <code class="hljs pgsql"><span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> ApplicationDefinition { /// &lt;<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; ///   /// &lt;/<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static readonly Microsoft.Azure.Batch.Apps.Cloud.CloudApplication Application = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> Microsoft.Azure.Batch.Apps.Cloud.ParallelCloudApplication { ApplicationName = "StockTradingAnalyzer", JobType = "StockTradingAnalyzer", JobSplitterType = typeof(MyApp.TradesJobSplitter), TaskProcessorType = typeof(MyApp.TradesTaskProcessor) }; } <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> TradesJobSplitter : Microsoft.Azure.Batch.Apps.Cloud.JobSplitter { /// &lt;<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; ///  Job      /// &lt;/<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; /// &lt;<span class="hljs-keyword"><span class="hljs-keyword">returns</span></span>&gt; ,    &lt;/<span class="hljs-keyword"><span class="hljs-keyword">returns</span></span>&gt; protected override IEnumerable&lt;TaskSpecifier&gt; Split(IJob job, JobSplitSettings settings) { <span class="hljs-comment"><span class="hljs-comment">/* split job here */</span></span> } } <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> TradesTaskProcessor: Microsoft.Azure.Batch.Apps.Cloud.ParallelTaskProcessor { /// &lt;<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; ///      /// &lt;/<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; /// &lt;param <span class="hljs-type"><span class="hljs-type">name</span></span>="task"&gt; &lt;/param&gt; /// &lt;param <span class="hljs-type"><span class="hljs-type">name</span></span>="settings"&gt;   &lt;/param&gt; /// &lt;<span class="hljs-keyword"><span class="hljs-keyword">returns</span></span>&gt;  &lt;/<span class="hljs-keyword"><span class="hljs-keyword">returns</span></span>&gt; protected override TaskProcessResult RunExternalTaskProcess(ITask task, TaskExecutionSettings settings) { <span class="hljs-comment"><span class="hljs-comment">/* some magic */</span></span> } /// &lt;<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; ///      (tasks)    Job /// &lt;/<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; /// &lt;param <span class="hljs-type"><span class="hljs-type">name</span></span>="mergeTask"&gt;  &lt;/param&gt; /// &lt;param <span class="hljs-type"><span class="hljs-type">name</span></span>="settings"&gt;   &lt;/param&gt; /// &lt;<span class="hljs-keyword"><span class="hljs-keyword">returns</span></span>&gt;  Job&lt;/<span class="hljs-keyword"><span class="hljs-keyword">returns</span></span>&gt; protected override JobResult RunExternalMergeProcess(ITask mergeTask, TaskExecutionSettings settings) { <span class="hljs-comment"><span class="hljs-comment">/* yet another magic */</span></span> } }</code> </pre> <br>  Call on the client: <br><br><pre> <code class="hljs pgsql">Microsoft.WindowsAzure.TokenCloudCredentials token = GetAuthenticationToken(); string endpoint = ConfigurationManager.AppSettings["BatchAppsServiceUrl"]; //   <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> (var client = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> Microsoft.Azure.Batch.Apps.BatchAppsClient(endpoint, token)) { //  Job var jobSubmission = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> Microsoft.Azure.Batch.Apps.JobSubmission() { <span class="hljs-type"><span class="hljs-type">Name</span></span> = "StockTradingAnalyzer", <span class="hljs-keyword"><span class="hljs-keyword">Type</span></span> = "StockTradingAnalyzer", Parameters = parameters, RequiredFiles = userInputFilePaths, InstanceCount = userInputFilePaths.Count }; Microsoft.Azure.Batch.Apps.IJob job = await client.Jobs.SubmitAsync(jobSubmission); //  Job await MonitorJob(job, outputDirectory); //       Job,  ,     }</code> </pre> <br>  Subjectively, I would like, of course, some higher levels of abstraction and exotics such as acyclic execution graphs and something like Distributed LINQ, i.e.  as it is done in the <a href="http://research.microsoft.com/en-us/projects/naiad/">Naiad</a> and <a href="http://research.microsoft.com/en-us/projects/dryad/">Dryad</a> projects ( <a href="http://0xcode.in/dryad-insight">in Russian</a> ) from Microsoft Research. <br><br>  A small <a href="http://azure.microsoft.com/en-us/documentation/articles/batch-technical-overview/">overview of the service</a> is already available on azure.microsoft.com.  For those who want to count the words can look into the next <a href="http://azure.microsoft.com/en-us/documentation/articles/batch-dotnet-get-started/">tutorial</a> . <br><br>  Examples with working code (and not those ‚Äúabstractions‚Äù that I wrote above) are already available on <a href="https://code.msdn.microsoft.com/Azure-Batch-Apps-Samples-dd781172">code.msdn.com</a> (C #) and <a href="https://github.com/Azure/azure-batch-apps-python">GitHub</a> (Python). <br><br><h4>  Azure VM D-series </h4><br>  Referring to HPC, I‚Äôll note the recent announcement <strong>of the Azure VM D-series</strong> .  As always, it happens in such announcements added plus nn% to what has already happened.  But if we come back to the iron facts, then computing nodes with 16x CPU, 112 Gb RAM and 800 Gb SSD for ~ $ 2.5 per hour became available (the price is current at the end of October 2014). <br><br><h2>  And more ... (did not invent the category) </h2><br><h3>  Azure Data Factory </h3><br>  <a href="http://azure.microsoft.com/en-us/documentation/services/data-factory/"><strong>Azure Data Factory</strong></a> is a service that provides orchestration and data stream transformation tools, monitoring data sources such as MS SQL Server, Azure SQL Database, Azure Blobs, Tables. <br><br>  The idea is intuitively simple (which counts as a plus): we create a service;  bind input and output data sources;  create a pipeline (one or several activities, accepting input data, manipulating them and recording them into the output stream) and look.  The result will look <a href="">like this</a> .  It simplifies the work with the services that all steps, except the creation of the pipeline, can be done through the web-interface. <br><br>  Examples of working with the service are already on <a href="https://github.com/Azure/Azure-DataFactory">GitHub</a> , and the ‚Äú <a href="http://azure.microsoft.com/en-us/documentation/articles/data-factory-get-started/">Step by step walkthrough</a> ‚Äù is written. <br><br><h2>  Machine learning </h2><br>  The fact that I will write in this section is not at all the ‚Äúhot‚Äù news, but it's still nice to repeat. <br><br>  The most important thing: the first step has been taken - the <a href="http://azure.microsoft.com/en-us/services/machine-learning/"><strong>Azure ML</strong></a> public preview service is available in Azure.  Support for R and more than 400 (maybe not 400, but definitely a lot) of pre-installed packages for R is claimed. Currently there is also support for Vowpal Wabbit modules. <br><br>  In addition, the <a href="http://research.microsoft.com/en-US/projects/azure/awards.aspx">Azure for Research Award Program has</a> opened for research projects, the main goal of which is to make the world better, and a side goal to popularize among the academic community of the Azure platform, in general, and the Azure ML service, in particular.  I quite like both goals (especially since no one forbids Microsoft‚Äôs cloud competitors from doing the same). <br><br>  Also on the topic of machine learning, Microsoft held a number of interesting events. <br><br><h2>  Events </h2><br><h4>  The train left (events have passed, but perhaps the records remain) </h4><br>  In September, <a href="http://blogs.technet.com/b/machinelearning/archive/2014/09/16/microsoft-machine-learning-hackathon-2014.aspx"><strong>Microsoft Machine Learning Hackathon 2014 was held</strong></a> . <br>  In mid-October, <a href="http://europe.msteched.com/">TechEd Europe 2014</a> conference was held, about which <a href="https://habrahabr.ru/users/xaoccps/" class="user_link">XaocCPS</a> already <a href="http://habrahabr.ru/company/microsoft/blog/241925/">wrote</a> on Habr√©. <br>  In late October, <a href="http://www.microsoftvirtualacademy.com/liveevents/microsoft-azure-machine-learning-jump-start">Microsoft Azure Machine Learning Jump Start took place</a> . <br><br><h4>  The train is coming (and you can still jump into it!) </h4><br>  November 15-16, <strong>Moscow will host the <a href="http://events.techdays.ru/bigData/2014-11/schedule">Big Data Hakaton</a></strong> , about which he has already <a href="http://habrahabr.ru/company/microsoft/blog/241660/">put in the word</a> <a href="https://habrahabr.ru/users/ahriman/" class="user_link">ahriman</a> . <br><br><h3>  Appreciate the data.  Explore.  Open! </h3></div><p>Source: <a href="https://habr.com/ru/post/242403/">https://habr.com/ru/post/242403/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../242387/index.html">How to make profitable design development sites (part 3)</a></li>
<li><a href="../242389/index.html">Economy of developing countries. Cambodia</a></li>
<li><a href="../242391/index.html">Experience in project promotion with minimal costs</a></li>
<li><a href="../242395/index.html">Meet IntelliJ IDEA 14 here.</a></li>
<li><a href="../242397/index.html">Call center with ACD, skill groups and WebRTC client for handling incoming calls</a></li>
<li><a href="../242407/index.html">Yahoo Mail Evolution</a></li>
<li><a href="../242409/index.html">LED control over the Internet using RaspberryPi</a></li>
<li><a href="../242411/index.html">Btree node deletion algorithm</a></li>
<li><a href="../242413/index.html">Tinkoff Bank at a performance conference in C #</a></li>
<li><a href="../242415/index.html">New WebStorm 9: just better. Support for Meteor, React and JSX, integration with Gulp, PhoneGap and more</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>