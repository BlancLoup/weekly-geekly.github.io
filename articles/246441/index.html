<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Breeze.js + Entity Framework + Angular.js = easy work with database entities directly from the browser</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Some time ago, in the open spaces of the network, I ran into an interesting library of Breeze.js . The first thought that came to mind when looking at...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Breeze.js + Entity Framework + Angular.js = easy work with database entities directly from the browser</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/2a8/2b8/eba/2a82b8eba799407aaed58aa35e991b7f.png"><img src="https://habrastorage.org/files/fa0/5a8/41d/fa05a841d951424b9c9df352f760ce57.png"><img src="https://habrastorage.org/files/27b/6ad/509/27b6ad509e804162b20d6fb777b5854e.png"><br><br>  Some time ago, in the open spaces of the network, I ran into an interesting library of <a href="http://www.breezejs.com/">Breeze.js</a> .  The first thought that came to mind when looking at it: "Yes, it's like the Entity Framework for the browser."  In search of information and reviews of other users, of course, first of all I searched for an article on Habr√©, but I didn‚Äôt find it, so I decided to write, in the hope that it would also be useful to someone.  The article is written as a tutorial for creating a project based on Breeze.js, Angular.js, ASP.NET Web API and the Entity Framework. <br><a name="habracut"></a><br>  The analogy with the Entity Framework arose because the main work with the library is done using the EntityManager class, it stores the data model, implements their retrieval, monitors changes and allows them to be saved, a little bit and resembles DbContext.  In addition, it provides a number of interesting features, such as validation on the client and server side, caching data in the browser, exporting data to be stored in temporary storage (for example, when communication is lost) and importing this data for later synchronization of changes with the server. <br><br>  The client part of the library implements the work according to the OData protocol, therefore you are not required to use any specific libraries to implement backend.  But the Breeze.js team also provides libraries for quickly creating services based on the following technologies: <br><ul><li>  <a href="http://www.breezejs.com/documentation/entity-framework">ASP.NET Web API + Entity Framework</a> </li><li>  <a href="http://www.breezejs.com/documentation/nhibernate">ASP.NET Web API + NHibernate</a> (beta) </li><li>  <a href="http://www.breezejs.com/documentation/mongodb">Node.js + MongoDb</a> (also beta) </li></ul><br>  In this article, we will create a backend using WebApi + EF. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In order for EntityManager to work, it needs the metadata of the entities with which you plan to work, their relationships and validation rules (if you only plan to request data, then you can do without metadata).  They can be <a href="http://www.breezejs.com/documentation/load-metadata-script">imported from a special object on the client</a> , <a href="http://www.breezejs.com/documentation/metadata-hand-depth">formed by calling the appropriate methods on the client</a> , or you can use the easiest way to obtain metadata from the DbContext or ObjectContext Entity Framework using the EFContextProvider &lt;&gt; class.  At the same time, you need to understand that the entire data scheme becomes available on the client, and if you don‚Äôt want to fully disclose the scheme and use DTO to access the data, you will have to create a special context that will only serve to simplify the generation of the metadata you need. <br><br>  Perhaps it will be clearer to go directly to the practice.  In our example, we will use the Entity Framework to access the database, the WebApi controller with the special attribute BreezeController as backend, Angular.js, as the basis of the frontend, and of course Breeze.js, for accessing data from the browser.  We will not use ASP.NET MVC, since we will build the markup in Angular.js in the browser, it will also take care of the routing.  Moreover, <a href="http://habrahabr.ru/company/infopulse/blog/226427/">ASP.NET vNext</a> is not far off, it will be much easier to switch to it if we use only WebApi, which is not tied to IIS, unlike MVC. <br><br>  So let's go.  We launch Visual Studio 2013 of any edition and create a new empty ASP.NET project.  We go into NuGet and install the following packages and their dependencies: <a href="https://www.nuget.org/packages/EntityFramework/">EntityFramework</a> , <a href="https://www.nuget.org/packages/Breeze.WebApi2.EF6/">Breeze Client and Server - Javascript client with ASP.NET Web API 2 and Entity Framework 6</a> (this is a package assembled from several we need + it will pull WebAPI), <a href="">: Breeze Angular Service</a> , <a href="">Angular JS</a> , so where can it be without <a href="">Bootstrap</a> , and you can add <a href="">angular-loading-bar</a> for beauty?  Next, go to the Updates tab and click Update All.  So we got all the latest versions of the packages we need.  Here we have installed everything you need from NuGet, but for my taste, it‚Äôs much more convenient to install all frontend libraries with <a href="http://bower.io/">Bower</a> , if you are interested in learning more about how to use Npm, Bower, Gulp and Grunt in Visual Studio, <a href="http://habrahabr.ru/post/235447/">here we are translation of an</a> article on this topic. <br><br><h3>  Model </h3><br>  Our app will be a shopping list, where all products will be categorized to consider working with links.  To begin with, let's create data model classes using the <a href="http://msdn.microsoft.com/ru-ru/data/jj193542.aspx">Code First</a> approach and put them in the Models folder (this name is used by agreement, but in practice you can put it anywhere): <br><br>  The ListItem class will represent an item in our list. <br><pre><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">ListItem</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> Id { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> String Name { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Boolean IsBought { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> CategoryId { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Category Category { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } }</code> </pre> <br>  Category Category is the category the item belongs to. <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Category</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> Id { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> String Name { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> List&lt;ListItem&gt; ListItems { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } }</code> </pre><br>  Create DbContext <br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">ShoppingListDbContext</span></span>: <span class="hljs-title"><span class="hljs-title">DbContext</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> DbSet&lt;ListItem&gt; ListItems { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> DbSet&lt;Category&gt; Categories { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } }</code> </pre><br>  We enable automatic migrations so that the Entity Framework creates a database for us, and then adjusts its structure to the model when it changes.  To do this, go to Tools -&gt; NuGet Package Manager -&gt; Package Manager Console and enter the command: <br> <code>Enable-Migrations -EnableAutomaticMigrations</code> <br> <br>  We have a project folder Migrations, and in it the class Configuration. <br><img src="https://habrastorage.org/files/282/c50/708/282c50708afd422baa65c3dba0e27708.png"><br><br>  To apply this configuration to our context, you can create a static constructor for it. <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> BreezeJsDemo.Migrations; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections.Generic; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Data.Entity; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Linq; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Web; <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">BreezeJsDemo.Model</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">ShoppingListDbContext</span></span>: <span class="hljs-title"><span class="hljs-title">DbContext</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ShoppingListDbContext</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Database.SetInitializer&lt;ShoppingListDbContext&gt;(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MigrateDatabaseToLatestVersion&lt;ShoppingListDbContext, Configuration&gt;()); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> DbSet&lt;ListItem&gt; ListItems { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> DbSet&lt;Category&gt; Categories { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } } }</code> </pre><br>  Now when you first use the context, the Entity Framework will take care of creating the database, if it does not exist, or adding the missing tables, columns, relationships, if required.  There are no connection strings in our application, so Entity will create the SQL Server Compact database in the App_Data folder, or if you have SQL Express installed on your machine, the database will be created on it. <br><br><h3>  Breeze Controller </h3><br>  Next, create a WebApi controller that will give and save our data.  To do this, create the Controllers folder (by agreement, or to any other), click on it with the right button Add -&gt; Controller and select Web API Controller - Empty, call it, for example, DbController. <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Breeze.ContextProvider; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Breeze.ContextProvider.EF6; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Breeze.WebApi2; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> BreezeJsDemo.Model; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Newtonsoft.Json.Linq; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections.Generic; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Linq; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Net; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Net.Http; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Web.Http; <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">BreezeJsDemo.Controllers</span></span> { [BreezeController] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">DbController</span></span> : <span class="hljs-title"><span class="hljs-title">ApiController</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> EFContextProvider&lt;ShoppingListDbContext&gt; _contextProvider = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> EFContextProvider&lt;ShoppingListDbContext&gt;(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Metadata</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _contextProvider.Metadata(); } [HttpGet] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> IQueryable&lt;ListItem&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ListItems</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _contextProvider.Context.ListItems; } [HttpGet] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> IQueryable&lt;Category&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Categories</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _contextProvider.Context.Categories; } [HttpPost] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> SaveResult </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SaveChanges</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">JObject saveBundle</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _contextProvider.SaveChanges(saveBundle); } } }</code> </pre><br>  Let's sort this code in more detail.  To work with Breeze, its developers advise to create only one controller per database, as they say: <blockquote>  "One controller to rule them all ..." </blockquote><br>  This is the usual ApiController with the BreezeControllerAttribute attribute, which performs a number of settings for us. <br><br>  At the very beginning, we created an instance of EFContextProvider, with us it performs three tasks: <br><ul><li>  Creates an instance of DbContext </li><li>  Helps us get metadata in the required format for the client. </li><li>  Handles a data save request </li></ul><br>  We return the metadata using the Metadata method; this is the path that the client will look for.  All the entities with which we want to work are returned, as IQueryable &lt;&gt;, in the corresponding methods, one for each.  You can restrict operations with one or another entity using the BreezeQueryableAttribute attribute: <br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">BreezeQueryable(AllowedQueryOptions= AllowedQueryOptions.Skip | AllowedQueryOptions.Top)</span></span>]</code> </pre><br>  It is inherited from <a href="http.queryableattribute(v%3Dvs.111).aspx">QueryableAttribute</a> , and to use and it is possible absolutely similarly. <br><br>  Let's also pay attention to the only SaveChanges method, it accepts, perhaps, a familiar <a href="http://james.newtonking.com/json/help/index.html%3Ftopic%3Dhtml/T_Newtonsoft_Json_Linq_JObject.htm">JObject</a> that contains all current changes, and EFContextProvider performs validation and saves all changes to the database using our DbContext. <br><br><h3>  Customer </h3><br>  Before working with javascript, html, css, less in Visual Studio 2013, I highly recommend (if you have not done so already) to install Update 4, and after updating go to Tools -&gt; Extensions and Updates -&gt; Online Extension <a href="http://visualstudiogallery.msdn.microsoft.com/56633663-6799-41d7-9df7-0f2a504ca361">Web Essentials 2013 for Update</a> will be available <a href="http://visualstudiogallery.msdn.microsoft.com/56633663-6799-41d7-9df7-0f2a504ca361">4</a> , including the Express version.  Update 4 and this wonderful plugin adds a huge amount of convenient tools for the web developer, really must-have, more information about all the functions can be found on the <a href="http://vswebessentials.com/">Official Website of</a> developers.  Visual Studio also supports intellisense for javascript, for this you just need to add the _references.js file to the scripts folder and add links to your .js files in it so that the studio can index them.  So Web Essentials can do it for you, it will create a file with the autosync parameter, and then the studio will keep it up to date, for this you just need to right-click on the folder Scripts -&gt; Add -&gt; _references.js Intellisense file, in my look, autocompletion is much more convenient <br><img src="https://habrastorage.org/files/ba6/ca9/c21/ba6ca9c21e4341cbaa073a678ecbe6e1.png"><br><br>  Let's start creating the client part.  We will store the scripts and markup of the application in the app folder.  Create a file with the application module app.module.js, <br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-string"><span class="hljs-string">'use strict'</span></span>; angular.module(<span class="hljs-string"><span class="hljs-string">'app'</span></span>, [<span class="hljs-string"><span class="hljs-string">'ngRoute'</span></span>, <span class="hljs-string"><span class="hljs-string">'breeze.angular'</span></span>, <span class="hljs-string"><span class="hljs-string">'angular-loading-bar'</span></span>]); })();</code> </pre><br>  We declared the <a href="https://docs.angularjs.org/guide/module">module of</a> our application, the first parameter is the name of the module, the second is the enumeration of dependencies of other modules that are used in ours.  Here we indicate the dependence on the breeze.angular module, it has the <a href="http://www.getbreezenow.com/documentation/breeze-angular-service">breeze service</a> .  In principle, you can do without it, and then access the window.breeze object, it works in exactly the same way, except for one thing: the breeze service uses $ q and $ http angular.js, and can initiate a digest, and is therefore preferable.  angular-loading-bar is a cute loading indicator that works out of the box without any settings, you just need to add a dependency, it will clearly show us when breeze loads data from the server.  <a href="https://docs.angularjs.org/api/ngRoute">ngRoute</a> is a standard module angular.js, responsible for routing, create a file with the path settings app.config.routes.js. <br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-string"><span class="hljs-string">'use strict'</span></span>; angular.module(<span class="hljs-string"><span class="hljs-string">'app'</span></span>).config(config); config.$inject = [<span class="hljs-string"><span class="hljs-string">'$routeProvider'</span></span>]; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">config</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">$routeProvider</span></span></span><span class="hljs-function">) </span></span>{ $routeProvider. when(<span class="hljs-string"><span class="hljs-string">'/'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">templateUrl</span></span>: <span class="hljs-string"><span class="hljs-string">'/app/shoppingList/shoppingList.html'</span></span> }). otherwise({ <span class="hljs-attr"><span class="hljs-attr">redirectTo</span></span>: <span class="hljs-string"><span class="hljs-string">'/'</span></span> }); } })();</code> </pre><br>  We will analyze in detail.  Here in the appeal to angular.module there is no second parameter, it means that we are not creating a new module, but taking a link to an existing one.  Then we call its config method, to which we pass the configuration function.  The config functions add the $ inject property, assign it an array with a list of dependencies that angular will pass to the function in the input parameters.  Here we have requested the $ routeProvider provider, it is used to configure the application paths.  The when method sets the correspondence between the address and the markup file on the server.  That is, for our only address "/", the markup from the file '/app/shoppingList/shoppingList.html' will be loaded inside the tag with the ng-view directive.  The otherwise method allows you to customize the behavior, if the address does not match any of the routes specified with when, in our case, a redirect will occur to the address "/". <br><br>  For view with our shopping list, create in the / app / shoppingList folder the shoppingList.controller.js controller. <br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-string"><span class="hljs-string">'use strict'</span></span>; angular.module(<span class="hljs-string"><span class="hljs-string">'app'</span></span>).controller(<span class="hljs-string"><span class="hljs-string">'ShoppingListController'</span></span>, ShoppingListController); ShoppingListController.$inject = [<span class="hljs-string"><span class="hljs-string">'$scope'</span></span>, <span class="hljs-string"><span class="hljs-string">'breeze'</span></span>]; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ShoppingListController</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">$scope, breeze</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> vm = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; vm.newItem = {}; vm.refreshData = refreshData; vm.isItemExists = isItemExists; vm.saveChanges = saveChanges; vm.rejectChanges = rejectChanges; vm.hasChanges = hasChanges; vm.addNewItem = addNewItem; vm.deleteItem = deleteItem; vm.filterByCategory = filterByCategory; breeze.NamingConvention.camelCase.setAsDefault(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> manager = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> breeze.EntityManager(<span class="hljs-string"><span class="hljs-string">"breeze/db"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> categoriesQuery = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> breeze.EntityQuery(<span class="hljs-string"><span class="hljs-string">"Categories"</span></span>).using(manager).expand(<span class="hljs-string"><span class="hljs-string">"listItems"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> listItemsQuery = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> breeze.EntityQuery(<span class="hljs-string"><span class="hljs-string">"ListItems"</span></span>).using(manager); activate(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">activate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ refreshData(); $scope.$watch(<span class="hljs-string"><span class="hljs-string">'vm.filterCategory'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">a, b</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (a !== b) { refreshData(); } }); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">refreshData</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> query = listItemsQuery; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (vm.filterCategory) { query = query.where(<span class="hljs-string"><span class="hljs-string">'category.id'</span></span>, breeze.FilterQueryOp.Equals, vm.filterCategory.id); } categoriesQuery.execute() .then( <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">data</span></span></span><span class="hljs-function">) </span></span>{ vm.categories = data.results; }) .then( <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ vm.listItems = query.executeLocally(); } ); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">filterByCategory</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">cat</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (vm.filterCategory &amp;&amp; vm.filterCategory.name === cat.name) { vm.filterCategory = <span class="hljs-literal"><span class="hljs-literal">undefined</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { vm.filterCategory = cat; } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">saveChanges</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ manager.saveChanges(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rejectChanges</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ manager.rejectChanges(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">hasChanges</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> manager.hasChanges(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addNewItem</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> category = vm.categories.filter(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> x.name === vm.newItem.category; }); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (category.length === <span class="hljs-number"><span class="hljs-number">0</span></span>) { category = manager.createEntity(<span class="hljs-string"><span class="hljs-string">'Category'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: vm.newItem.category }); vm.categories.push(category); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { category = category[<span class="hljs-number"><span class="hljs-number">0</span></span>]; } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> item = manager.createEntity(<span class="hljs-string"><span class="hljs-string">'ListItem'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: vm.newItem.name, <span class="hljs-attr"><span class="hljs-attr">category</span></span>: category, <span class="hljs-attr"><span class="hljs-attr">isBought</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span> }); vm.listItems.push(item); vm.newItem = {}; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">deleteItem</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">item</span></span></span><span class="hljs-function">) </span></span>{ item.entityAspect.setDeleted(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isItemExists</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> x.entityAspect.entityState.name !== <span class="hljs-string"><span class="hljs-string">'Deleted'</span></span> &amp;&amp; x.entityAspect.entityState.name !== <span class="hljs-string"><span class="hljs-string">'Detached'</span></span>; } } })();</code> </pre><br>  Here we have indicated a dependency on the breeze service, which I mentioned above, and will work with it.  First of all, I‚Äôll draw your attention to the line breeze.NamingConvention.camelCase.setAsDefault () - this is how we make breeze re-name all the properties of objects in camelCase, because it is much more familiar to work in JavaScript.  Next, create an <a href="http://www.breezejs.com/sites/all/apidocs/classes/EntityManager.html">EntityManager</a> object ‚Äî it allows us to query, create, delete entities, monitor their changes and send them to the server.  In the constructor, we pass the address of our DbController controller.  For addresses of controllers with the BreezeController attribute, the default prefix is ‚Äã‚Äã"/ breeze /".  Then we create EntityQuery queries, transfer the name of the controller's method to the constructor, which returns the required entity.  Then, using the using method, we specify the request for its EntityManager (instead, we could use the EntityManager's <a href="http://www.breezejs.com/sites/all/apidocs/classes/EntityManager.html">executeQuery</a> method when querying).  Following we used the expand method, it tells the server that we want to load more and all ListItem of each category, access to them can be obtained through the listItems navigation property. <br><br>  The refreshData function uses the EntityQuery <a href="http://www.breezejs.com/sites/all/apidocs/classes/EntityQuery.html">where</a> method to add filter criteria for the listItemsQuery query if the category vm.filterCategory is selected.  We get all the ListItem for which 'Category.Id' is vm.filterCategory.id (the filterByCategory function sets it).  The second where parameter is passed one of the <a href="http://www.breezejs.com/sites/all/apidocs/classes/FilterQueryOp.html">breeze.FilterQueryOp</a> values ‚Äã‚Äãis an enumeration that contains all valid filtering operators.  For more complex filtering conditions, the where method accepts an object of the <a href="http://www.breezejs.com/sites/all/apidocs/classes/Predicate.html">Predicate</a> class, which can contain several conditions.  Next, the EntityQuery <a href="http://www.breezejs.com/sites/all/apidocs/classes/EntityQuery.html">execute</a> method is used to load the data. It executes a request to the controller method and returns promise.  When the request is completed, we write the result in the controller's categories property to display it in the markup.  With the help of expand, we loaded not only categories but all the elements of the list, respectively, there is no need to query them again over the network, so we followed the <a href="http://www.breezejs.com/sites/all/apidocs/classes/EntityQuery.html">executeLocally</a> method to query the cached data, assigning the result to the vm.listItems property. <br><br>  EntityQuery contains <a href="http://www.breezejs.com/sites/all/apidocs/classes/EntityQuery.html">many</a> more <a href="http://www.breezejs.com/sites/all/apidocs/classes/EntityQuery.html">useful methods</a> besides where, for example: <br>  orderBy / orderByDesc (n) - sets the sorting by the property n <br>  select ('a, b, c, ... n') - allows you to choose not an entity as a whole, but a projection containing only the properties a, b and c ... n <br>  take / top - selects the first n records, very convenient for pagination <br>  skip (n) - skip n records, great in combination with take <br>  inlineCount - when using skip / take (top) it also returns the total number of records <br>  executeLocally - makes a query in the cache, without using the network <br>  noTracking - forces breeze to return the result as simple javascript objects, not entities (EntityManager will not track changes) <br>  and a few others ... <br><br>  As mentioned above, EntityManager tracks all changes, deletions, and additions of entities.  Then, all changes can be sent to the server to be saved in the database.  The <a href="http://www.breezejs.com/sites/all/apidocs/classes/EntityManager.html">saveChanges</a> method is used for <a href="http://www.breezejs.com/sites/all/apidocs/classes/EntityManager.html">this</a> , it is called asynchronously and returns a promise.  You can find out if any changes were made using the <a href="http://www.breezejs.com/sites/all/apidocs/classes/EntityManager.html">hasChanges</a> method.  In general, each entity has the _backingStore property, which contains data, and <a href="http://www.breezejs.com/sites/all/apidocs/classes/EntityAspect.html">entityAspect</a> contains properties and methods that represent an object, like a Breeze entity (object status, validation, original values, etc.).  In the entityAspect.originalValues ‚Äã‚Äãproperty, we will see a list of the initial values ‚Äã‚Äãof all the changed properties.  And the <a href="http://www.breezejs.com/sites/all/apidocs/classes/EntityState.html">entityAspect.entityState</a> property contains the current status.  Entities that have changes in entityAspect.entityState will have the status ‚ÄúModified‚Äù, and those that have not changed will have the status ‚ÄúUnchanged‚Äù.  There are also statuses: Deleted (object removed), Added (new object) and Detached (object ‚Äúdetached‚Äù from EntityManager, no change tracking occurs, such an object can then be ‚Äúattached‚Äù to any manager using the <a href="http://www.breezejs.com/sites/all/apidocs/classes/EntityManager.html">attachEntity</a> method).  EntityManager also allows you to undo all changes that have occurred using the rejectChanges method. <br><br>  Now let's look at the addNewItem function, with which we add a new list item.  First, we search by name for the category of a new list item in vm.categories, and if we don‚Äôt have such a category, create it with the EntityManager method, <a href="http://www.breezejs.com/sites/all/apidocs/classes/EntityManager.html">createEntity</a> , pass the type name of the created entity (or EntityType object) as the first parameter, which contains the property values ‚Äã‚Äãof the object being created.  You can also specify two more parameters: EntityState - sets the status of the created object and <a href="http://www.breezejs.com/sites/all/apidocs/classes/MergeStrategy.html">MergeStrategy</a> - conflict resolution strategy, in cases where an entity with such a key already exists.  Then add the new ListItem in the same way. <br><br>  When you click on the delete button of the list item, the deleteItem function will be called.  In it, we use the <a href="http://www.breezejs.com/sites/all/apidocs/classes/EntityAspect.html">entityAspect.setDeleted ()</a> entity method, it sets its status to 'Deleted', and then, when saveChanges is called, the record in the database will be deleted. <br><br>  We also have the isItemExists function, it will be used to filter the list, so as not to show items that have already been deleted. <br><br>  Let's go to the markup, add the index.html file to the project root, it will look like this: <br><pre> <code class="html hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/1999/xhtml"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Content/bootstrap.css"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"stylesheet"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Content/loading-bar.min.css"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"stylesheet"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-app</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"app"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-view</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Scripts/jquery-2.1.1.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Scripts/bootstrap.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Scripts/angular.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Scripts/angular-route.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Scripts/loading-bar.min.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Scripts/breeze.debug.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Scripts/breeze.angular.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"app/app.module.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"app/app.config.routes.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"app/shoppingList/shoppingList.controller.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--  , ,       ,   ,    GET    ,         bundle,     RequireJS.--&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Here you should pay attention to the <a href="https://docs.angularjs.org/api/ng/directive/ngApp">ng-app</a> attribute - it is used to specify the Angular root element for our application, often using the html and body elements for this.  The <a href="https://docs.angularjs.org/api/ngRoute/directive/ngView">ng-view</a> attribute specifies the element into which the markup will be loaded from the file located along the templateUrl path of the current route. <br><br>  For our only route, '/' this will be the file '/app/shoppingList/shoppingList.html' <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"container"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-controller</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ShoppingListController as vm"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">nav</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"navbar navbar-default"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"navbar-nav nav"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-if</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"vm.hasChanges()"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-click</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"vm.saveChanges()"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"glyphicon glyphicon-thumbs-up"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>  <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-if</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"vm.hasChanges()"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-click</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"vm.rejectChanges()"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"glyphicon glyphicon-thumbs-down"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>  <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-click</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"vm.refreshData()"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"glyphicon glyphicon-refresh"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">nav</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-if</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"vm.categories.length&gt;0"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h4</span></span></span><span class="hljs-tag">&gt;</span></span>  <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h4</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"nav nav-pills"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-repeat</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"cat in vm.categories"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{active:vm.filterCategory===cat}"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-if</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"cat.listItems.length&gt;0"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-click</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"vm.filterByCategory(cat)"</span></span></span><span class="hljs-tag">&gt;</span></span>{{cat.name}} ({{cat.listItems.length}})<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">table</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"table table-striped"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tbody</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"form-control"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-model</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"vm.newItem.category"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">placeholder</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> /&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"form-control"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-model</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"vm.newItem.name"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">placeholder</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> /&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"btn btn-success btn-sm"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"button"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-click</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"vm.addNewItem()"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"glyphicon glyphicon-plus"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-repeat</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"item in vm.listItems | filter: vm.isItemExists | orderBy:'isBought'"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"checkbox"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-model</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"item.isBought"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span>{{item.category.name}}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span>{{item.name}}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"btn btn-danger"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"button"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-click</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"vm.deleteItem(item)"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"glyphicon glyphicon-trash"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tbody</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">table</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  The <a href="https://docs.angularjs.org/api/ng/directive/ngController">ng-controller</a> attribute ‚Äúattaches‚Äù the controller to the markup element.  Here we used the syntax " <a href="http://www.johnpapa.net/angularjss-controller-as-and-the-vm-variable/">controller as</a> ", that is, specifying "ShoppingListController as vm" we assigned the controller alias vm, and then in the markup we can access the controller properties through a period, for example vm.listItems (in the controller code we wrote var vm = in the first line this; - this was done for convenience, in the code of the controller to access the properties as well).  Many tutorials on Angular.js use a slightly different approach, values ‚Äã‚Äãare assigned to properties of the $ scope object, and only the controller name is written to ng-controller, and then in the markup these properties can be accessed simply by name, for example: {{newItem.name }}, but once a moment comes when you need to use a controller inside another controller, and they both have properties with the same name, then to access the property of the parent controller you have to write constructions like "$ parent. $ parent.property", instead of turn to him  s nickname, so it makes sense to take it a rule to use the syntax ¬´controller as¬ª. <br><br>  Next comes the top menu with the buttons ‚ÄúSave Changes‚Äù, ‚ÄúUndo Changes‚Äù, ‚ÄúRefresh‚Äù, we hide the first two with ng-if if there are no changes, and with the help of ng-click we assign buttons to the corresponding functions. <br><br>  Then we draw a list of categories using ng-repeat, the directive ng-class = "{active: vm.filterCategory === cat}" sets the element to the class active if the condition vm.filterCategory === cat is met, that is, tint the selected category.  Next we will display a table with our shopping list, the first line will be the input fields of the name and category with the Add button, and then the list will go directly ng-repeat = ‚Äúitem in vm.listItems |  filter: vm.isItemExists |  orderBy: 'isBought' ‚Äù, here we used the filter filter, which was given the vm.isItemExists function to display only existing items, the orderBy filter sorts the list by the values ‚Äã‚Äãof the isBought property so that all purchased items are moved down. <br><br><h3>  Conclusion </h3><br>  Perhaps this and all that I wanted to tell for the first time (even a little more).  I started writing the article in the summer, but due to lack of time I finished it just now.  And during this half year, we have not stopped using breeze.js.  It is especially fast and convenient to implement applications on it, where you need a grid with sorting, searching and pagination.  Also, editing is done in two accounts, especially if validation does not go beyond the validation attributes on EntityFramework models. <br><br>  Of the pitfalls, so far, we only noticed that breeze does not support the connection of <a href="http://www.entityframeworktutorial.net/code-first/configure-many-to-many-relationship-in-code-first.aspx">many-to-many</a> models without an intermediate class (when EntityFramework ‚Äúthinks out‚Äù the intermediate table for us), with the intermediate class, of course, everything is fine. <br><br>  For those who do not have time to create a new project, but there is a desire to experiment with the breeze - a <a href="https://1drv.ms/u/s!AsrtdLXc2hes6XKGpFQtkIR_INci">link to a ready-made solution</a> . <br><br>  PS I am writing for the first time, so I ask the reader to take a minute and comment in the comments on the content / design / style of presentation and, if there is, suggestions for future articles. <br><br>  PPS The following article - <a href="http://habrahabr.ru/post/249417/">Breeze Server - we delimit access to objects using attributes</a> </div><p>Source: <a href="https://habr.com/ru/post/246441/">https://habr.com/ru/post/246441/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../246431/index.html">Using Google Analytics with CocoonJS</a></li>
<li><a href="../246433/index.html">PCI DSS Virtualization Guide. Part 2</a></li>
<li><a href="../246435/index.html">Typical fixes after upgrading Windows Store applications from version 8 to 8.1</a></li>
<li><a href="../246437/index.html">Solving the traveling salesman problem using the branch and bound method</a></li>
<li><a href="../246439/index.html">Printing machines. The power and support of typography</a></li>
<li><a href="../246443/index.html">Attempt to make logical editing form behavior in asp mvc</a></li>
<li><a href="../246445/index.html">Qt + MVP + QThread. Build your bike</a></li>
<li><a href="../246447/index.html">A little about how not to protect accounts in Active Directory</a></li>
<li><a href="../246449/index.html">Vulnerabilities of public terminals: how to hack a bike rental and a polyclinic</a></li>
<li><a href="../246451/index.html">Sensomotor coordination (SMK). Professional research / pilot training</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>