<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Vertical padding between columns using Sass using the bootstrap grid example</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Virtually any site can not do without blocks of streaming elements, such as: a list of news, products, gallery photos. Such elements are mainly output...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Vertical padding between columns using Sass using the bootstrap grid example</h1><div class="post__text post__text-html js-mediator-article">  Virtually any site can not do without blocks of streaming elements, such as: a list of news, products, gallery photos.  Such elements are mainly output by the template engine in a loop; they occupy an equal number of columns and an unexpected number of rows.  If such elements move to the second line, then between them it is necessary to provide vertical indents so that they do not shrink.  Even if on the model the designer for beauty brought out only one row, on the layout it is necessary to provide an increase in the number of such elements. <a name="habracut"></a><br><img src="https://habrastorage.org/files/eae/378/d4b/eae378d4b02f456d919ea047bad8c2dd.png" alt="Vertical padding between columns"><br>  The task seems to be easy, what is there to talk about at all.  But let's analyze all the same ways to solve this problem, as there are pitfalls. <br><br><h4>  Indent for each item </h4><br>  Imagine that our markup is: <br><pre><code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"gallery"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"gallery__image"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  But the problem here is that the parent block itself will recede from the lower ones by 20px, it will not be isolated from the external environment, it will affect the geometry of the neighboring blocks.  It will be difficult to transfer to other places of the site or to other projects.  In short, the gallery block will not be independent. <br><br>  As a result, we need to get something similar to the internal indents of the table, where they are applied only inside the table and do not go outside. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Negative indent for block </h4><br>  For each element, we make the vertical indent for the parent and the negative vertical indent of the same size. <br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.gallery</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">margin-top</span></span>: -<span class="hljs-number"><span class="hljs-number">20px</span></span> } <span class="hljs-selector-class"><span class="hljs-selector-class">.gallery__image</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">margin-top</span></span>: <span class="hljs-number"><span class="hljs-number">20px</span></span> }</code> </pre><br>  Everything seems to be fine, but if the block is in the area that the block covers the interactive element, for example, a link, then the block will block it.  These links will not work on the screen. <br><img src="https://habrastorage.org/files/3b2/574/9cf/3b25749cfb154175939971f213a500e5.png" alt="Negative indent for block"><br>  You can get out of this situation.  It is necessary to wrap the gallery block in another block, which is set to overflow: hidden and it will cut off all the overflow. <br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.gallery</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">overflow</span></span>: hidden; } <span class="hljs-selector-class"><span class="hljs-selector-class">.gallery__inner</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">margin-top</span></span>: -<span class="hljs-number"><span class="hljs-number">20px</span></span> } <span class="hljs-selector-class"><span class="hljs-selector-class">.gallery__image</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">margin-top</span></span>: <span class="hljs-number"><span class="hljs-number">20px</span></span> }</code> </pre><br>  But there is another problem.  All overflow is clipped, and this limits many design decisions.  For example, a block shadow when hovering on a photo, labels that can be added to an item, for example, the ‚ÄúSales hit‚Äù label for a product.  Also, when you hover on an element, a drop-down block may appear with detailed information and so on. <br><br><h4>  Indent for each item except n first </h4><br>  Ideally, you should specify the top indent for all elements except the first row.  This can be done using the nth-child pseudo-class. <br><br>  But if you specify statically, then the solution will not be flexible and with a change in the number of columns you will need to change the rules, and this is not just not convenient, but completely unsuitable given the changes in columns during media queries. <br><br>  But when using preprocessors, this solution can be made flexible, which is what I want to demonstrate to you.  I took the Bootstrap grid as a basis, that is, each photo gallery from us is placed in the grid column.  I used Sass as a preprocessor.  But this approach can be safely applied to other grids and preprocessors. <br><br>  Let me remind you that the columns in the bootstrap grid are recorded by the following classes: <br>  col-xs- * <br>  col-sm- * <br>  col-md- * <br>  col-lg- * <br><br>  Let's imagine that our gallery is enclosed in 3 columns on a medium sized screen, that is, col-md-4.  For universality, we will indent the columns of the grid with the row-vertical-indent modifier assigned. <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚Äùrow</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">row--vertical-indent</span></span></span><span class="hljs-tag">‚Äù&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">clas</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚Äùcol-md-4‚Äù</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚Äùgallery-item‚Äù</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img...</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Now we write Sass styles. <br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.row-vertical-indent</span></span>{ &amp; &gt; [class~="col-md-4"]:nth-child(n+4){ <span class="hljs-attribute"><span class="hljs-attribute">padding-top</span></span>: <span class="hljs-number"><span class="hljs-number">20px</span></span>; } }</code> </pre><br>  As a result, all elements starting from the 4th will be indented from above.  The first 3 will be indented. <br><br>  Let us now expand the possibilities and consider any number of columns on medium-sized screens. <br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.row-vertical-indent</span></span>{ @for $i from 1 through $grid-columns{ $<span class="hljs-attribute"><span class="hljs-attribute">nth-element</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">floor</span></span>(($grid-columns / $i) + <span class="hljs-number"><span class="hljs-number">1</span></span>); &amp; &gt; [class~="col-md-#{$i}"]<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:nth-child(n+</span></span>#{$nth-element}) { <span class="hljs-attribute"><span class="hljs-attribute">padding-top</span></span>: <span class="hljs-number"><span class="hljs-number">20px</span></span>; } } }</code> </pre><br>  The variable $ grid-columns is an internal variable of bootstrap, which is assigned the number of grid columns.  The default is 12. <br><br>  We run over the cycle in all possible numbers of columns and assign indents for those elements that do not fit in 12 columns, respectively, go to the second row. <br><br>  But we also do not know how many columns will be for other break-points, so you need to go through all the options for media queries. <br><br>  Create an object (I can not get used to the terminology of ‚Äúmap‚Äù) of media queries. <br>  The key is the break-point symbol in the class name, that is, col-xs .., col-sm .., col-md ... <br>  Meaning - this is the media turns themselves for each break-point. <br><pre> <code class="css hljs">$<span class="hljs-selector-tag"><span class="hljs-selector-tag">break-points</span></span>: ( '<span class="hljs-selector-tag"><span class="hljs-selector-tag">xs</span></span>': '(<span class="hljs-selector-tag"><span class="hljs-selector-tag">max-width</span></span>: #{$screen-xs-max})', '<span class="hljs-selector-tag"><span class="hljs-selector-tag">sm</span></span>': '(<span class="hljs-selector-tag"><span class="hljs-selector-tag">min-width</span></span>: #{$screen-sm-min}) <span class="hljs-selector-tag"><span class="hljs-selector-tag">and</span></span> (<span class="hljs-selector-tag"><span class="hljs-selector-tag">max-width</span></span>: #{$screen-sm-max})', '<span class="hljs-selector-tag"><span class="hljs-selector-tag">md</span></span>': '(<span class="hljs-selector-tag"><span class="hljs-selector-tag">min-width</span></span>: #{$screen-md-min}) <span class="hljs-selector-tag"><span class="hljs-selector-tag">and</span></span> (<span class="hljs-selector-tag"><span class="hljs-selector-tag">max-width</span></span>: #{$screen-md-max})', '<span class="hljs-selector-tag"><span class="hljs-selector-tag">lg</span></span>': '(<span class="hljs-selector-tag"><span class="hljs-selector-tag">min-width</span></span>: #{$screen-lg-min})' );</code> </pre><br>  Then we go over this object and for each iteration we apply the previous construction, but for a specific media turn. <br><pre> <code class="css hljs">@<span class="hljs-keyword"><span class="hljs-keyword">each</span></span> $key, $val in $break-points{ @<span class="hljs-keyword"><span class="hljs-keyword">media</span></span> #{$<span class="hljs-selector-tag"><span class="hljs-selector-tag">val</span></span>}{ @for $i from 1 through $grid-columns{ $<span class="hljs-attribute"><span class="hljs-attribute">nth-element</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">floor</span></span>(($grid-columns / $i) + <span class="hljs-number"><span class="hljs-number">1</span></span>); &amp; &gt; [class~="col-#{$key}<span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span>#{$i}"]<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:nth-child(n+</span></span>#{$nth-element}){ <span class="hljs-attribute"><span class="hljs-attribute">padding-top</span></span>: $gutter; } } } }</code> </pre><br>  Do not forget in the name of the selectors instead of md to prescribe the value of the key object.  # {$ key} <br><br>  Then I propose to wrap all this in an admixture and set the amount of indent dynamically through an argument. <br><br>  As a result, we have such an admixture, which can expand the capabilities of the bootstrap mesh. <br><pre> <code class="css hljs">@<span class="hljs-keyword"><span class="hljs-keyword">mixin</span></span> grid-vetical-gutter($gutter){ $<span class="hljs-selector-tag"><span class="hljs-selector-tag">break-points</span></span>: ( '<span class="hljs-selector-tag"><span class="hljs-selector-tag">xs</span></span>': '(<span class="hljs-selector-tag"><span class="hljs-selector-tag">max-width</span></span>: #{$screen-xs-max}) ', '<span class="hljs-selector-tag"><span class="hljs-selector-tag">sm</span></span>': '(<span class="hljs-selector-tag"><span class="hljs-selector-tag">min-width</span></span>: #{$screen-sm-min}) <span class="hljs-selector-tag"><span class="hljs-selector-tag">and</span></span> (<span class="hljs-selector-tag"><span class="hljs-selector-tag">max-width</span></span>: #{$screen-sm-max})', '<span class="hljs-selector-tag"><span class="hljs-selector-tag">md</span></span>': '(<span class="hljs-selector-tag"><span class="hljs-selector-tag">min-width</span></span>: #{$screen-md-min}) <span class="hljs-selector-tag"><span class="hljs-selector-tag">and</span></span> (<span class="hljs-selector-tag"><span class="hljs-selector-tag">max-width</span></span>: #{$screen-md-max})', '<span class="hljs-selector-tag"><span class="hljs-selector-tag">lg</span></span>': '(<span class="hljs-selector-tag"><span class="hljs-selector-tag">min-width</span></span>: #{$screen-lg-min})' ); @<span class="hljs-keyword"><span class="hljs-keyword">each</span></span> $key, $val in $break-points{ @<span class="hljs-keyword"><span class="hljs-keyword">media</span></span> #{$<span class="hljs-selector-tag"><span class="hljs-selector-tag">val</span></span>}{ @for $i from 1 through $grid-columns{ $<span class="hljs-attribute"><span class="hljs-attribute">nth-element</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">floor</span></span>(($grid-columns / $i) + <span class="hljs-number"><span class="hljs-number">1</span></span>); &amp; &gt; [class~="col-#{$key}<span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span>#{$i}"]<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:nth-child(n+</span></span>#{$nth-element}){ <span class="hljs-attribute"><span class="hljs-attribute">padding-top</span></span>: $gutter; } } } } }</code> </pre><br>  Now, for the desired class, we simply call the admixture by passing indentation. <br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.row-vertical-indent</span></span>{ @include grid-vetical-gutter(20px) }</code> </pre><br><h5>  Limitations and limitations of this approach: </h5><br>  <b>1 - It works correctly only for the same number of columns in a row.</b> <br>  That is, for a dynamic stream of columns that are displayed in a cycle (product catalog, news, gallery, etc.). <br><br>  For a static number of columns, for example, for marking the page itself, such a solution may not work correctly and in principle is not necessary so as not to clutter up the compiled CSS code.  In this case, it is even more convenient for individual classes to add indentation where necessary. <br><br>  <b>2 - It is necessary to specify all break points for the column.</b> <br>  My solution does not provide for a mobile first approach and the styles will not be applied on a screen for which the number of columns is not indicated. <br><br>  In bootstrap, such a record means that there will be 3 columns for all sizes starting with sm. <br>  But when using vertical indents, the number of columns must be specified for all sizes, that is, the record will look like this <br>  &lt;div class == ‚Äùcol-xs-12 col-sm-4 col-md-4 col-lg-4‚Äù&gt; <br><br>  I tried to provide a mobile first approach, but I ran into a terrible haemorrhoid associated with the redefinition of styles that scored as a result.  If anyone succeeds, let me know, I will be very grateful. <br><br>  <b>3 - Tin in compiled CSS.</b> <br>  If someone has to edit the compiled css-file, then there will be a lot of garbage.  I personally do not matter, but you never know. </div><p>Source: <a href="https://habr.com/ru/post/266113/">https://habr.com/ru/post/266113/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../266103/index.html">Akka, actors and reactive programming</a></li>
<li><a href="../266105/index.html">Autumn Rambler.iOS Meeting</a></li>
<li><a href="../266107/index.html">3CX API - what are they and what to do with them? Third Party Plugins (Part 2)</a></li>
<li><a href="../266109/index.html">GPS service ViaLatM - scripting language</a></li>
<li><a href="../266111/index.html">Large-scale migration of records in the database: how it does Stripe</a></li>
<li><a href="../266115/index.html">Development of trading robots: search for market inefficiencies. Part 2</a></li>
<li><a href="../266117/index.html">Playing pure Java from beginner, for beginners</a></li>
<li><a href="../266119/index.html">Security Week 36: jailbreak-robbery, farewell to RC4, porosity of routers</a></li>
<li><a href="../266121/index.html">Setting the overall balance of games three in a row</a></li>
<li><a href="../266125/index.html">New HP Hyper Convergence Systems</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>