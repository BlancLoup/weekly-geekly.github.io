<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Examples of using a real-time machine (MATLAB, Simulink, Software and hardware simulator)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good afternoon, dear audience! 
 In my practice, I often encounter a situation when, when I mention in conversation, a certain ‚Äúreal-time machine‚Äù in ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Examples of using a real-time machine (MATLAB, Simulink, Software and hardware simulator)</h1><div class="post__text post__text-html js-mediator-article">  Good afternoon, dear audience! <br>  In my practice, I often encounter a situation when, when I mention in conversation, a certain ‚Äúreal-time machine‚Äù in the eyes of my interlocutor, a million associations, unfortunately, are not related to the topic of conversation. <br>  In the first article I want to shed some light on this topic with a name that is so unusual for a Russian-speaking engineering audience. <br><br><img src="https://habrastorage.org/files/8f1/cff/ea0/8f1cffea09c8424c9d5b5828e8fe62d3.png"><br><br>  All interested in the launch of control algorithms and physical models in the form of <b>Simulink</b> models in hard real-time mode with minimal effort - please under the cat! <br>  Attention, many images! <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/d1e/ad1/9f7/d1ead19f7a424af28101021954afa0b3.jpg"><br><br>  So, a brief definition: <br><br><ul><li>  <i>A real-time machine is a computer that is designed to perform a wide range of tasks in <a href="https://ru.wikipedia.org/wiki/%25D0%259E%25D0%25BF%25D0%25B5%25D1%2580%25D0%25B0%25D1%2586%25D0%25B8%25D0%25BE%25D0%25BD%25D0%25BD%25D0%25B0%25D1%258F_%25D1%2581%25D0%25B8%25D1%2581%25D1%2582%25D0%25B5%25D0%25BC%25D0%25B0_%25D1%2580%25D0%25B5%25D0%25B0%25D0%25BB%25D1%258C%25D0%25BD%25D0%25BE%25D0%25B3%25D0%25BE_%25D0%25B2%25D1%2580%25D0%25B5%25D0%25BC%25D0%25B5%25D0%25BD%25D0%25B8">real time</a> .</i> </li></ul><br>  Explanatory notes to the brief definition: <br><br><ul><li>  A wide range of tasks entails some versatility and redundancy in the software and hardware components.  For the most part, such PCs (industrial computer, not to be confused with personal computers) have a rich set of input-output means in the form of interface cards and drivers for them. </li><li>  The requirement for real-time operation translates into the fact that this PC must be running a real-time operating system.  There are exceptions to this rule, nobody canceled the free account mode. </li></ul><br>  There are exceptions - there are composite simulators from several machines, and without input-output boards, and not of industrial design, and in soft real time.  But, again, most often - this is an <a href="https://ru.wikipedia.org/wiki/IBM_PC-%25D1%2581%25D0%25BE%25D0%25B2%25D0%25BC%25D0%25B5%25D1%2581%25D1%2582%25D0%25B8%25D0%25BC%25D1%258B%25D0%25B9_%25D0%25BA%25D0%25BE%25D0%25BC%25D0%25BF%25D1%258C%25D1%258E%25D1%2582%25D0%25B5%25D1%2580">IBM compatible computer</a> with hardware and software components that allow it to work with real-time hard. <br><br>  In the Russian-language literature and everyday life, the terms <b>hardware-software simulator</b> and <b>semi-natural modeling</b> are often found.  From my point of view, they are not complete.  Because ‚Äúmodel simulation‚Äù is not a single function of this device. <br><br>  The list of manufacturers of such solutions is quite extensive.  I will consider the products from <a href="http://matlab.ru/partner-products/speedgoat"><b>Speedgoat</b></a> , with whom I was lucky enough to work quite closely. <br><br>  Below, on the basis of examples, I will try to reveal the essence of the use of such machines. <br><br><h6>  <b>Example ‚Ññ1</b> </h6><br>  A team of engineers is developing an electric drive.  There is a <b>model in Simulink</b> , in which the <b>Controller</b> subsystem (control system) was developed by the control systems engineer, and the <b>Plant</b> subsystem (engine model) was developed by the physical modeling department engineer. <br><br>  <b>Task:</b> There is no hardware prototype of the controller yet, and it is not clear when it will be.  There is no prototype of the engine either, or it is terrible to connect it to a still crude control system. <br><br>  <b>Solution:</b> Use a real-time machine for rapid prototyping of the control system.  And one more machine, but more productive, for launching a physical engine model in real time.  The interfaces between such machines can and should be the same as between the real engine and the controller.  This bundle is called <b>HIL - Hardware-In-The-Loop</b> .  For a simple - <b>software and hardware simulation</b> .  It allows at early stages to integrate and test control algorithms in conjunction with the control object model in real time, taking into account the influence of the data transmission medium between devices. <br><br>  The illustration below shows a diagram of such a process.  The real-time machine for the control system may be protected for subsequent deployment in the field.  The machine for the physical model requires more productive - shown on the right.  The transfer of the algorithm and model to the real world is done in one click with the mouse and can be performed by an engineer without the help of a programmer and without deep understanding of the nuances of the RTOS. <br><br><img src="https://habrastorage.org/files/139/743/de3/139743de39aa45c6a42f21de80872d47.png"><br><br><h6>  <b>Example 2</b> </h6><br>  All the same team.  There was a prototype of the engine, the prototype of the controller is still in development. <br><br>  <b>Task:</b> It is necessary to test the control system on a real control object. <br><br>  <b>Solution:</b> The control system has already been tested on the engine model when working on a PC.  Then even more fully in HIL mode.  Now, when the real prototype appeared, it is not so scary to launch it.  Because most of the errors have already been caught and it is only necessary to validate the operation of the system. <br><br>  It is also possible that the control object was from the very beginning.  Then, a quick transition from a control system model to a working piece of hardware can be called <b>Rapid Prototyping</b> or <b>Rapid Prototyping</b> . <br><br><img src="https://habrastorage.org/files/258/c37/ee9/258c37ee9421406d955ef74f7bc7b0f4.png"><br><br><h6>  <b>Example number 3</b> </h6><br>  Again, the familiar team.  Came out the first sample controller. <br><br>  <b>Task:</b> It is necessary to connect the first sample to a possibly multi-kilowatted engine. <br><br>  <b>Solution:</b> For security reasons, do not get hot, and first run a couple of tests using the engine model on a real-time machine.  This will be pure <b>Plant Simulation</b> or <b>Object Management Simulation</b> . <br><br>  It is possible to launch the whole model of the aircraft on a real-time machine.  In aviation, such a simulator is often affectionately called the <b>"electronic bird"</b> . <br><br>  By the way, the controller firmware must be generated necessarily from the same model that was launched on the real-time machine in the previous examples.  Only in this way will we provide end-to-end traceability.  Rewriting the firmware again is fraught with the introduction of new errors and reduces the previous steps to the smarco. <br><br>  Below is an illustration describing the essence of solving the problem and video of the workflow with Siemens PLC as a controller, and a real-time machine as a control object. <br><br><img src="https://habrastorage.org/files/ffa/875/ef8/ffa875ef83184eaeb030deeef659e752.png"><br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/tx2LVDxPOkk%3Ffeature%3Doembed&amp;xid=25657,15700021,15700186,15700191,15700253&amp;usg=ALkJrhh2MsbcotCSUJ3StbQKd8nbXwkAhA" frameborder="0" allowfullscreen=""></iframe><br>  <i>Siemens PLC + Speedgoat real-time machine</i> <br><br><h6>  <b>Example 4</b> </h6><br>  The final stage of development. <br><br>  <b>Task:</b> It is necessary to conduct 100,500 tests on a real drive and document the results as soon as possible. <br><br>  <b>Solution:</b> A real-time machine can be the heart of a test bench ‚Äî generate test scripts and keep a log of the required parameters.  In MATLAB, you can create a non-linear test script that can be automatically rebuilt depending on the results obtained.  The documentation generator will help to generate a report in the required format automatically. <br><br><img src="https://habrastorage.org/files/f14/881/370/f148813704184d358fef7562f496b92f.png"><br><br>  As you can see from the examples, the same machine can be reused in different use cases.  But nevertheless it is impossible to completely unify these devices - there is some distribution according to functionality.  The Speedgoat line, for example, has the <a href="http://goo.gl/ehXQjh">following form</a> : <br><br><img src="https://habrastorage.org/files/d65/7a6/62b/d657a662bdf541a88edacfb4507c8a02.png"><br><br>  The educational version is an immeasurable joy for any laboratory at a technical university. <br>  Having such in the laboratory, it is possible for a fixed certification period, for example, to have time to make a much more advanced project. <br><br>  The real-time machine from Speedgoat <a href="https://cnre.mit.edu/sites/default/files/documents/Summer_report_Zak_Ahmad.pdf">inside has a robot Cheetah from MIT</a> : <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/XMKQbqnXXhQ%3Ffeature%3Doembed&amp;xid=25657,15700021,15700186,15700191,15700253&amp;usg=ALkJrhiPf4xm-GABDV3Ha7T0taixYBvN0g" frameborder="0" allowfullscreen=""></iframe><br><br>  And I took two of the same to Naberezhnye Chelny to the department of control systems of the KFU branch. <br><br>  I have another idea to highlight the following questions in more detail. <br>  Namely: <br><ul><li>  C / C ++ / Verilog / VHDL code generation </li><li>  Hardware, I / O boards </li><li>  Software Environment, RTOS, BIOS </li><li>  Real-time debugging (External mode) </li></ul><br>  This should be reflected in the following article.  I really want to hear questions and possible suggestions in the comments. <br>  In August, I plan to hold a technical webinar on this topic.  The invitation will be posted on the website <a href="http://matlab.ru/webinars/">matlab.ru</a> .  I would be very happy if the participants will have habrousers with interesting questions! <br><br>  Thanks for reading! </div><p>Source: <a href="https://habr.com/ru/post/247907/">https://habr.com/ru/post/247907/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../247893/index.html">List of YouTube channels for web development training</a></li>
<li><a href="../247897/index.html">Conditional indexing. Optimizing the full-text search process</a></li>
<li><a href="../247901/index.html">Study under the MASA program in Israel</a></li>
<li><a href="../247903/index.html">Docker: interesting features of basic images</a></li>
<li><a href="../247905/index.html">DWDM lines between data centers: how does the approach change, if we are talking about banks and responsible objects</a></li>
<li><a href="../247911/index.html">We construct a local cryptographic TLS proxy with an electronic signature HTTP API</a></li>
<li><a href="../247915/index.html">Student schools in education</a></li>
<li><a href="../247919/index.html">Weekly play: annual report</a></li>
<li><a href="../247923/index.html">How to sell to large companies: 16 tips. Part 2</a></li>
<li><a href="../247925/index.html">Herringbone, light up! Part 2: C software, work with GPIO and software PWM</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>