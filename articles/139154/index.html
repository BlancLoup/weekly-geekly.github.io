<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Running PHP code in javascript files</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In most web applications, static JavaScript files suit the developer 100%. However, sometimes it is the best solution to connect PHP and generate the ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Running PHP code in javascript files</h1><div class="post__text post__text-html js-mediator-article">  In most web applications, static JavaScript files suit the developer 100%.  However, sometimes it is the best solution to connect PHP and generate the contents of the JS file on the fly (for example, get the actual prices for products from the database and pass them on to the JavaScript program to validate the order form).  How to do it? <br><br><h5>  <b>Method one: simple</b> </h5><br>  Of course, the simplest solution is to include PHP code inside the section of your HTML template, because there are chances that it will have the extension .php. <br><br><pre> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> var jsVar = "</span><span class="php"><span class="hljs-meta"><span class="xml"><span class="php"><span class="hljs-meta">&lt;?php</span></span></span></span><span class="xml"><span class="php"> </span></span><span class="hljs-keyword"><span class="xml"><span class="php"><span class="hljs-keyword">echo</span></span></span></span><span class="xml"><span class="php"> $phpVar </span></span><span class="hljs-meta"><span class="xml"><span class="php"><span class="hljs-meta">?&gt;</span></span></span></span></span><span class="xml">"; </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Even if the extension of the .htm or .html template, in most cases the web server is configured to understand the inclusion of PHP code (if not, then at the end of the note there is a simple example of how to solve this problem).  But as for beauty, this option is not the most elegant.  It would be nice to keep the flies and cutlets apart. <br><a name="habracut"></a><br><h5>  <b>Method Two: beautiful</b> </h5><br>  The second solution is to configure the web server so that it parses the JavaScript files to execute the PHP code.  It is enough to create a .htaccess file in the desired folder or open an existing one and add the following lines to it: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs xml">AddType application/x-httpd-php .js AddHandler x-httpd-php5 .js <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">FilesMatch</span></span></span><span class="hljs-tag"> "\</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">.</span></span></span><span class="hljs-tag">(</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">js</span></span></span><span class="hljs-tag">|</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">php</span></span></span><span class="hljs-tag">)$"&gt;</span></span> SetHandler application/x-httpd-php <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">FilesMatch</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h5>  <b>Pro et Contra: what does it give us?</b> </h5><br>  <b>Pro</b> <br><ul><li>  You can include PHP code in files with the .js extension and it will be automatically executed when the client accesses the JavaScript file. </li><li>  You can keep such ‚Äúhybrid‚Äù scripts in a separate folder - just place the .htaccess file described above in this folder. </li><li>  If you want to keep all JavaScript files in one place (static and hybrid), then you can register a file handler with an arbitrary extension, for example, .js2 - just modify the .htaccess text a little. </li><li>  You can separate static HTML pages, templates, and JavaScript files. </li></ul><br>  <b>Contra</b> <br><ul><li>  Theoretically, this will cause a minimal additional load on the server, but, taking into account variations with individual folders or file extensions, the benefits seem to be superior. </li></ul><br><h5>  Addition </h5><br>  To parse the web server .htm and .html files and execute the PHP code included in them, you need to add the following lines to .htaccess: <br><br><pre> <code class="hljs xml">AddType application/x-httpd-php .htm .html AddHandler x-httpd-php5 .htm .html <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">FilesMatch</span></span></span><span class="hljs-tag"> "\</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">.</span></span></span><span class="hljs-tag">(</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">htm</span></span></span><span class="hljs-tag">|</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">html</span></span></span><span class="hljs-tag">|</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">php</span></span></span><span class="hljs-tag">)$"&gt;</span></span> SetHandler application/x-httpd-php <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">FilesMatch</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Comments, additions and exchange of experience are welcome. <br><br><h4>  <b>FINDINGS</b> </h4><br>  <i>It is rather strange that a small note, which in fact offers only a snippet for the quick realization of a concrete practical task, caused such a heated discussion, mostly similar to attempts to show off theory.</i>  <i>The famous habr-community in this case selflessly lynched those ideas that were not mentioned in principle in the note.</i>  <i>Although we must pay tribute - there are still some healthy thoughts.</i>  <i>And besides - there is ‚Äúno other luxury but the luxury of human communication‚Äù (according to Exup√©ry))))</i> . </div><p>Source: <a href="https://habr.com/ru/post/139154/">https://habr.com/ru/post/139154/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../139143/index.html">Game Survivor (Commodore 64) on html, css and javascript</a></li>
<li><a href="../139146/index.html">We develop iOS application on flash</a></li>
<li><a href="../139150/index.html">Three devices in one - look at Asus PadFone</a></li>
<li><a href="../139151/index.html">Motivation from the evil one</a></li>
<li><a href="../139152/index.html">Organizing partitions on a system disk in a selector cloud</a></li>
<li><a href="../139156/index.html">The Startup Sauna program from Finland is returning to St. Petersburg!</a></li>
<li><a href="../139157/index.html">Dell is changing the direction of the company</a></li>
<li><a href="../139158/index.html">3 minutes per month on Google+</a></li>
<li><a href="../139159/index.html">Sort text field as numbers and as strings simultaneously in MySQL</a></li>
<li><a href="../139163/index.html">Windows 8 Consumer Preview Review</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>