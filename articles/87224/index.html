<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Little about py2exe</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="There is such an application. Called py2exe. It allows you to pack, convert a python program to an exe file (well, more precisely, exe and a handful o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Little about py2exe</h1><div class="post__text post__text-html js-mediator-article">  There is such an application.  Called py2exe.  It allows you to pack, convert a python program to an exe file (well, more precisely, exe and a handful of others).  Why is it necessary?  Well, not all windows users have a python interpreter installed with the right libraries.  But the packaged program should ideally run on any windows-machine. <br><a name="habracut"></a><br><br><h4>  Installation </h4><br>  Unfortunately, py2exe does not support the third version of python. <br>  Download py2exe at <a href="http://sourceforge.net/projects/py2exe/files/" title="download">SourceForge</a> . <br>  If you have python (and you probably should), installation problems should not arise.  Put in the python directory. <br><br><h4>  Conversion </h4><br>  Now the fun begins.  In the directory where your python program is located, you need to create a file setup.py with the following content <br><blockquote><code><a href="http://s-c.me/5948/s"></a> <a href="http://s-c.me/5948/h"></a> <font color="black">Copy Source | Copy HTML <font color="#0000ff">from</font> <b>distutils</b> .core <font color="#0000ff">import</font> setup <font color="#0000ff">import</font> py2exe setup( windows=[{ <font color="#008000">"script"</font> : <font color="#008000">"main.py"</font> }], options={ <font color="#008000">"py2exe"</font> : { <font color="#008000">"includes"</font> :[ <font color="#008000">"sip"</font> ]}} )</font></code> <ol> <li> <code><font color="black"><a href="http://s-c.me/5948/s"></a> <a href="http://s-c.me/5948/h"></a> Copy Source | Copy HTML <font color="#0000ff">from</font> <b>distutils</b> .core <font color="#0000ff">import</font> setup <font color="#0000ff">import</font> py2exe setup( windows=[{ <font color="#008000">"script"</font> : <font color="#008000">"main.py"</font> }], options={ <font color="#008000">"py2exe"</font> : { <font color="#008000">"includes"</font> :[ <font color="#008000">"sip"</font> ]}} )</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/5948/s"></a> <a href="http://s-c.me/5948/h"></a> Copy Source | Copy HTML <font color="#0000ff">from</font> <b>distutils</b> .core <font color="#0000ff">import</font> setup <font color="#0000ff">import</font> py2exe setup( windows=[{ <font color="#008000">"script"</font> : <font color="#008000">"main.py"</font> }], options={ <font color="#008000">"py2exe"</font> : { <font color="#008000">"includes"</font> :[ <font color="#008000">"sip"</font> ]}} )</font></code> </li> <li></li><li> <code><font color="black"><a href="http://s-c.me/5948/s"></a> <a href="http://s-c.me/5948/h"></a> Copy Source | Copy HTML <font color="#0000ff">from</font> <b>distutils</b> .core <font color="#0000ff">import</font> setup <font color="#0000ff">import</font> py2exe setup( windows=[{ <font color="#008000">"script"</font> : <font color="#008000">"main.py"</font> }], options={ <font color="#008000">"py2exe"</font> : { <font color="#008000">"includes"</font> :[ <font color="#008000">"sip"</font> ]}} )</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/5948/s"></a> <a href="http://s-c.me/5948/h"></a> Copy Source | Copy HTML <font color="#0000ff">from</font> <b>distutils</b> .core <font color="#0000ff">import</font> setup <font color="#0000ff">import</font> py2exe setup( windows=[{ <font color="#008000">"script"</font> : <font color="#008000">"main.py"</font> }], options={ <font color="#008000">"py2exe"</font> : { <font color="#008000">"includes"</font> :[ <font color="#008000">"sip"</font> ]}} )</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/5948/s"></a> <a href="http://s-c.me/5948/h"></a> Copy Source | Copy HTML <font color="#0000ff">from</font> <b>distutils</b> .core <font color="#0000ff">import</font> setup <font color="#0000ff">import</font> py2exe setup( windows=[{ <font color="#008000">"script"</font> : <font color="#008000">"main.py"</font> }], options={ <font color="#008000">"py2exe"</font> : { <font color="#008000">"includes"</font> :[ <font color="#008000">"sip"</font> ]}} )</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/5948/s"></a> <a href="http://s-c.me/5948/h"></a> Copy Source | Copy HTML <font color="#0000ff">from</font> <b>distutils</b> .core <font color="#0000ff">import</font> setup <font color="#0000ff">import</font> py2exe setup( windows=[{ <font color="#008000">"script"</font> : <font color="#008000">"main.py"</font> }], options={ <font color="#008000">"py2exe"</font> : { <font color="#008000">"includes"</font> :[ <font color="#008000">"sip"</font> ]}} )</font></code> </li> </ol></blockquote>  Where main.py is the name of your script. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Next, run the package with the command: <br><blockquote>  setup.py py2exe </blockquote><br>  Yes Yes exactly. <br><br>  We look that we did.  Two folders. <br>  build - service, you can immediately demolish. <br>  dist - in fact, it is our program. <br><br>  As mentioned above, this is not one file: <br><ul><li>  main.exe - program </li><li>  pythonXX.dll - python interpreter </li><li>  library.zip - archive with compiled sources (of all, except for the actual program, as I understand it) </li><li>  .pyd - python modules that the program imports </li><li>  .dll - libraries that appeared necessary </li><li>  and more files on the little things below will be said more </li></ul><br>  Is it really that simple?  Not true;) <br><br><h4>  Difficulties </h4><br>  Most likely there will be some problems. <br><br>  For example, file paths.  Do not use relative paths.  They do not know where.  It is better to use absolute ones. <br>  How to recognize him?  On the Internet, there is a solution, the module_path function. <br><blockquote> <code><a href="http://s-c.me/5949/s"></a> <a href="http://s-c.me/5949/h"></a> <font color="black">Copy Source | Copy HTML</font></code> <ol> <li>  <font color="#0000ff">import</font> os, sys </li><li></li><li>  <font color="#0000ff">def</font> <font color="#cc6633">module_path</font> (): </li><li>  <font color="#0000ff">if</font> <b>hasattr</b> (sys, <font color="#008000">"frozen"</font> ): </li><li>  <font color="#0000ff">return</font> <b>os</b> .path.dirname ( </li><li>  <b>unicode</b> ( <b>sys</b> .executable, <b>sys</b> .getfilesystemencoding ()) </li><li>  ) </li><li>  <font color="#0000ff">return</font> <b>os</b> .path.dirname ( <b>unicode</b> (__file__, <b>sys</b> .getfilesystemencoding ())) </li></ol></blockquote><br>  Or the application flatly refuses to start (perhaps not from you, but from someone else).  Due to the lack of libraries <a href="http://www.microsoft.com/downloads/details.aspx%3FFamilyID%3D9b2da534-3e03-4391-8a4d-074b9f2bc1bf%26displaylang%3Den">Visual Studio</a> . <br>  As a solution to the problem, you can install them on the computer (but this is not our method) or throw the dll and the manifest file into the program folder. <br>  msvcr90.dll and Microsoft.VC90.CRT.manifest <strike>(I do not know how it is licensed and I will not post it)</strike> <br>  Where to get them?  For me, the easiest thing was to reinstall python (everything else was left in place) in the ‚Äúonly for me‚Äù mode.  And the required files were in the folder with python. <br><br>  The purpose of the topic was not to reveal all the features of py2exe.  <a href="http://www.py2exe.org/index.cgi/Tutorial">Here</a> is the tutorial, and <a href="http://www.py2exe.org/index.cgi/GeneralTipsAndTricks">here are</a> some tips and tricks. <br><br><h4>  The size </h4><br>  Due to some features, the application can get a terrifying size.  But this can and must be fought.  Ideas prompted <a href="https://habrahabr.ru/users/kaist/" class="user_link">kAIST</a> (well, except for upx'a = p) <br><br><ol><li>  The most effective.  Compress libraries <a href="http://upx.sourceforge.net/" title="project website">upx'om</a> .  Console application.  It works elementary.  The file is transferred to the input, it compresses it.  For my <a href="http://habrahabr.ru/blogs/python/87009/">game Reversi</a> size decreased by ~ 3 times. </li><li>  Remove unicodedata.pyd, bz2.pyd, select.pyd, w9xpopen.exe.  Weights are few, but at least there will be fewer files in the project. </li><li>  If you specify the optimize: 2 option in setup.py, then the modules will be compiled into .pyo (python optimized code), and not in .pyc (python compiler script).  It does not give much effect, but who knows, maybe you are lucky) </li><li>  And finally, you can clean up the library.zip from unused modules and encodings.  Just tidy. </li></ol><br><h4>  Conclusion </h4><br>  Well, it seems that's all.  We achieved what we wanted.  Yes, the application turned out to be a solid size (this is not C ++ for you, for example), but on our favorite Python :) </div><p>Source: <a href="https://habr.com/ru/post/87224/">https://habr.com/ru/post/87224/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../87211/index.html">From Internet Tablet to N900. Summary table of Maemo devices from Nokia</a></li>
<li><a href="../87213/index.html">CCFL monitor backlight</a></li>
<li><a href="../87217/index.html">Hi, Trojan-Spy.Win32.Zbot !!! part two ... about shells, rootkits, eskploity and chat in txt file</a></li>
<li><a href="../87218/index.html">Jetpack launched in production</a></li>
<li><a href="../87220/index.html">How I collected ru-domains from one registrar</a></li>
<li><a href="../87226/index.html">Project 903: Lun</a></li>
<li><a href="../87233/index.html">Video cassette - USB Hub (translation)</a></li>
<li><a href="../87234/index.html">If your shoulders hurt when working at a computer</a></li>
<li><a href="../87236/index.html">Pending MIX'10: your predictions</a></li>
<li><a href="../87238/index.html">JQuery Animated Sprites - Spritely</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>