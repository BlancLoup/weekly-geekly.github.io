<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Expanding short links in Firefox</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="At some moment I was bored that the link shortening services were sending me where it was not known. Not so long ago, I wrote about a pdf exploit , an...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Expanding short links in Firefox</h1><div class="post__text post__text-html js-mediator-article">  At some moment I was bored that the link shortening services were sending me where it was not known.  Not so long ago, I wrote about a <a href="http://habrahabr.ru/blogs/infosecurity/65927/">pdf exploit</a> , and the risk of stumbling upon such a miracle, clicking on a short link on someone else‚Äôs twitter did not please me at all. <br><br>  I found two ways to deal with this: link deployment and transition control (HTTP codes 3xx). <br><a name="habracut"></a><br>  So, it is given: Firewall is a browser, bit.ly is an object of study, Twitter is a medium.  Where to go to solve the problem?  On the official website of the <a href="https://addons.mozilla.org/">modules for Firefox</a> !  One of the first to find its own browser extension from the bit.ly service, which, when you hover over the link, showed where it leads.  But besides this convenience, the add-in added a sentence to shorten it to the <i>context menu of each link</i> .  Without the possibility of this offer <i>off</i> in the settings.  Brand addition was scornfully thrown out. <br><br>  The time has come for more effective means. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  Long URL Please </h3><br>  If a short link leads somewhere, it means that someone needs it.  And we need to know where it leads.  The website with the clear name <a href="http://www.longurlplease.com/">Long URL Please</a> (‚ÄúLong link, please‚Äù) offers to install its <a href="https://addons.mozilla.org/en-US/firefox/addon/9549">add-on for Firefox</a> , but also agrees to work from the bookmarklet. <br><br>  The service does exactly what the title says: it unfolds short links in the code of the page into long links.  Here's how it looks before and after: <br><img src="https://habrastorage.org/getpro/habr/post_images/715/01d/ff9/71501dff9166b26ff1d2ad595266291d.gif" title="detailed links"><br>  Both in the first and in the second case I hover the mouse over the first link in the record.  The difference is obvious.  And the overall look of the page has not changed! <br><br><h3>  NoRedirect </h3><br>  <a href="https://addons.mozilla.org/en-US/firefox/addon/11787">NoRedirect</a> is a plugin comparable to heavy artillery. <br><br>  To begin, I will quote the official description and comments of the author: <br><blockquote>  NoRedirect gives the user control over HTTP redirects.  It can be used to prohibit a provider‚Äôs DNS query, preview abbreviated links (for example, TinyURL), stop annoying redirection of smart error pages, etc. <br><br>  <i>Kai Liu:</i> <blockquote>  The initial incentive to create NoRedirect was disappointment in the search service provider Verizon, which could not always be turned off.  Every time you encounter a DNS error ‚Äî typing a non-existent address, clicking the link with a typo, missing the letters when copying the address ‚Äî I was redirected to the ‚Äúuseful‚Äù Verizon search page, which meant one thing: I had to type the address again to correct the typo. <br><br>  Such user-hostile services are implemented by many Internet service providers and some domain registrars.  Many users were surprised by the redirection by typing ".cm" instead of ".com".  In addition to stopping such redirects, NoRedirect restores the natural behavior of the browser: showing the built-in error when trying to access a non-existing domain, and, if enabled, activating the built-in keyword search system, they will be protected from interception of erroneous DNS queries. </blockquote></blockquote><br>  All add-on settings are extremely simple.  You specify: <br><ol><li>  regexp reference handler pattern (regexp) </li><li>  respond to redirects when addressing <i><b>from</b></i> or <i><b>to the</b></i> monitored domain </li><li>  allow or block redirection </li><li>  whether the browser should issue a standard DNS error </li></ol><img src="https://habrastorage.org/getpro/habr/post_images/375/d7d/293/375d7d293e967fd26e766633bdb43843.png" title="NoRedirect settings"><br>  The default settings will protect US users from DNS hijackings (providers Rogers, Verizon, Cox, and even the OpenDNS service lit up in the list), and we will add our own rules. <br><br>  To unconditionally block all redirections, create a new rule and move it to the top of the list: <code><font color="#0040b0">^http://.*</font></code> ; don‚Äôt put a single check mark. <br><br>  Now, if you go to any redirect link, you will see a warning strip, with a real address to which you can click.  With an example from the review of the previous plugin, it will look like this: <br><img src="https://habrastorage.org/getpro/habr/post_images/4b0/c37/b9b/4b0c37b9b41779e7a4ab547119e5446c.png" title="redirect blocking with NoRedirect"><br><br><blockquote>  Lyrical digression: some redirection services have built-in controls for clicking on links.  So, <b><a href="http://tinyurl.com/">TinyURL</a></b> allows <a href="http://tinyurl.com/preview.php">you</a> to <a href="http://tinyurl.com/preview.php">add cookies to your browser</a> that determines whether to follow links directly, or via the TinyURL website with a preview of the address.  And now the link <a href="http://tinyurl.com/hhabr">http://tinyurl.com/hhabr</a> will not take you anywhere;) Another, even better example - the <i>link maker</i> <b><a href="http://b23.ru/">B23,</a></b> when added to any of its link-abbreviations, the question mark shows all the information about it <a href="http://b23.ru/ssdv%3F">http://b23.ru / ssdv?</a>  .  The statistics of the abbreviation bit.ly can not be obtained by adding a <a href="http://bit.ly/vanM5%2B">plus sign</a> to the link: <a href="http://bit.ly/vanM5%2B">bit.ly/vanM5+</a> .  The list can certainly continue ... </blockquote><br>  If you are paranoid, you can calm down.  However, suppose suspicion of everyone and everything in you is not sitting.  Then you can quite flexibly customize the plugin, here are some examples: <ul><li>  allow all redirects <i><b>from</b></i> b23.ru: <code><font color="#067000">^http://b23\.ru</font> <font color="black">[V] [V] [_]</font></code> </li><li>  allow all redirects <i><b>to</b></i> LJ: <code><font color="#067000">^http://[\w\-]+\.livejournal\.com</font> <font color="black">[_] [V] [_]</font></code> </li><li>  control all transitions <i><b>from the</b></i> bit.ly service: <code><font color="#700000">^http://bit\.ly</font> <font color="black">[V] [_] [_]</font></code> </li></ul>  Then everything is limited only by your imagination.  And do not forget to put out the <i>RIGHT ORDER of</i> following the rules: first allow, then prohibit! <br><br><h3>  Unexpected </h3><br>  I started with the rule to control all redirects.  Most likely, I will later add a number of rules that allow redirects on trusted sites, however, during the plug-in run-in, a number of interesting interiors of websites emerged. <br><br>  For example, advertising may look more fun than usual: <br><img src="https://habrastorage.org/getpro/habr/post_images/0f2/978/185/0f2978185295e8b9596b6fb9686c9c3c.png" title="NoRedirect advertising times"><br><img src="https://habrastorage.org/getpro/habr/post_images/c97/069/f2c/c97069f2c96248b7381e63cbb3e08674.png" title="NoRedirect advertising two"><br><br>  A competing, in terms of corporate blogs, the site livehh.ru chases its users through a certain of his own hhid.ru: <br><img src="https://habrastorage.org/getpro/habr/post_images/560/b79/eff/560b79eff401bb906f355b4c3b73f2ea.png" title="Wheels in a wheel from HH with NoRedirect"><br>  And if by default the recording of cookies is enabled, then the good hhid.ru also feeds the user's browser cookies. <br><br>  If you have such funny examples - feel free to post in the comments! <br><br><h3>  But that is not all! </h3><br>  No matter how good the 'Long URL Please' and 'NoRedirect' are, I still advise you to use the <a href="https://addons.mozilla.org/en-US/firefox/addon/722">NoScript</a> plugin for more security ( <a href="http://habrahabr.ru/search/%3Fq%3Dnoscript%26target_type%3Dposts">about it in Habr√©</a> ). </div><p>Source: <a href="https://habr.com/ru/post/66748/">https://habr.com/ru/post/66748/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../66740/index.html">Cuckoo-clock. Probably</a></li>
<li><a href="../66743/index.html">Steve V., Happy Birthday</a></li>
<li><a href="../66745/index.html">How many posts per day do you have time to read on Habr√©?</a></li>
<li><a href="../66746/index.html">Another way to protect against spam</a></li>
<li><a href="../66747/index.html">SSD for serious people</a></li>
<li><a href="../66749/index.html">Hourly work now on RentACoder!</a></li>
<li><a href="../66751/index.html">Overview of the natural input mechanism in RAD Studio 2010</a></li>
<li><a href="../66753/index.html">Nikita Filippov - 100% agile</a></li>
<li><a href="../66758/index.html">VMware buys SpringSource</a></li>
<li><a href="../66762/index.html">ASP.NET MVC: unit testing routes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>