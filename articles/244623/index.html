<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>non-FlexPod DC: Direct-Attached Storage, One-stop support</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In one of my articles I explained what the FlexPod DC architecture is and what it consists of, the physical components of the FlexPod DC include: NetA...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>non-FlexPod DC: Direct-Attached Storage, One-stop support</h1><div class="post__text post__text-html js-mediator-article">  In one of my articles I explained <a href="http://habrahabr.ru/company/netapp/blog/181744/">what the FlexPod DC architecture is</a> and what it consists of, the physical components of the FlexPod DC include: NetApp FAS series storage systems, Cisco UCS server and Nexus switches.  There is a wide variety of supported FlexPod DC designs consisting of these three main components.  In order to take advantage of co-operative support from one source, an appropriate support service is needed for all these components. <br><br>  What if you have Cisco SnartNet and NetApp Support Edge services, and there are no Nexus switches in the architecture, while storage is directly included in UCS Fabric Interconnect? <br><br>  This is the ‚Äúnon-FlexPod DC‚Äù architecture that will be discussed; it can also be supported from a ‚Äúsingle source‚Äù by the Cisco Solution Support for Critical Infrastructure (SSCI) program. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/570/889/0dc/5708890dc2814a9293cd4c9555bd84bf.png"><br>  <i>The overall design of the SAN network with direct connection</i> <br><a name="habracut"></a><br>  To use the FC protocol on <abbr title="Fabric interconnect">FI</abbr> devices, you will need to enable <i>FC Switching mode</i> and <i>FC zoning</i> function, the ports connected to the <abbr title="Storage System">storage system</abbr> will need to be switched to the <i>Storage Port</i> mode and create a <abbr title="Cisco Virtual Storage Area Networks">VSAN</abbr> (not to be confused with VMware vSAN) in the <i>Storage Cloud</i> section: <br><br><div class="spoiler">  <b class="spoiler_title">Configure as FC Storage Port</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/bb6/93e/653/bb693e6539c847f98ff9104978ebfa06.png"></div></div><br><div class="spoiler">  <b class="spoiler_title">Configure as FCoE Storage Port</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/95f/247/d32/95f247d32e9846ce9b82e4c45a268185.png"></div></div><br>  For <abbr title="Fabric interconnect">FI, it is</abbr> now possible to receive simultaneously ‚Äúregular‚Äù Ethernet traffic (for example, <abbr title="Common Internet File System">CIFS</abbr> , <abbr title="iSCSI">iSCSI</abbr> , <abbr title="Network file system">NFS</abbr> ) and <abbr title="Fiber channel over ethernet">FCoE</abbr> over the same port.  If your storage has <abbr title="Converged Network Adapter">CNA</abbr> or <abbr title="Unified Target Adapter v2">UTA2</abbr> ports (all <abbr title="Fabric attached storage">FAS</abbr> 255x and <abbr title="Fabric attached storage">FAS</abbr> 8000 series are on board) and supports, as well as <abbr title="Fabric interconnect">FI</abbr> , the ability to run Ethernet and <abbr title="Fiber channel over ethernet">FCoE</abbr> through a single link (all NetApp <abbr title="Fabric attached storage">FAS</abbr> with <abbr title="Converged Network Adapter">CNA</abbr> / <abbr title="Unified Target Adapter v2">UTA2</abbr> support), you can switch the ports such devices directly, without a switch. <br><br><div class="spoiler">  <b class="spoiler_title">Configuring Unified Ports</b> <div class="spoiler_text"><ul><li>  First, you need a firmware version not lower than Cisco <abbr title="Unified Computing System">UCS</abbr> firmware 2.1 </li><li>  Secondly, you need storage with 10GB <abbr title="Converged Network Adapter">CNA</abbr> ports </li></ul><br>  From the NetApp storage side, you need to switch the ports to the <abbr title="Converged Network Adapter">CNA</abbr> state (you need to have <abbr title="Converged Network Adapter">CNA</abbr> ports, regular Ethernet 1 / 10Gbs ports do not support this), using the <i>ucadmin command</i> on the <abbr title="Storage System">storage system</abbr> (you will need to restart the <abbr title="Storage System">storage system</abbr> ).  The system will display independently ‚Äúvirtual‚Äù Ethernet ports and ‚Äúvirtual‚Äù <abbr title="Fiber channel">FC</abbr> ports, separately (although the physical port will be used for one such ‚Äúvirtual‚Äù Ethernet and one ‚Äúvirtual‚Äù <abbr title="Fiber channel">FC</abbr> ).  These ports are configured separately, like normal physical ports. <br><br>  On <abbr title="Fabric interconnect">FI,</abbr> you need to enable the <abbr title="Fiber channel">FC</abbr> mode in the ‚ÄúSwitching mode‚Äù state, in the Fabric A / B settings on the ‚ÄúEquipment‚Äù tab.  This setting will require a restart of <abbr title="Fabric interconnect">FI</abbr> . <br><br>  After restarting <abbr title="Fabric interconnect">FI</abbr> on the Equipment tab, converged ports will need to be switched to Appliance port mode, after a few seconds the port will go online.  Then reconfigure the port in the ‚ÄúFCoE Storage Port‚Äù mode, in the right pane you will see the port type ‚Äú <a href="http://www.cisco.com/c/en/us/td/docs/unified_computing/ucs/sw/gui/config/guide/2-1/b_UCSM_GUI_Configuration_Guide_2_1/b_UCSM_GUI_Configuration_Guide_2_1_chapter_0110.html">Unified Storage</a> ‚Äù.  Now it will be possible to choose <abbr title="Cisco Virtual Storage Area Networks">VSAN</abbr> and <abbr title="Virtual Local Area Networks">VLAN</abbr> for such a port.  And an important point, created earlier by <abbr title="Cisco Virtual Storage Area Networks">VSAN</abbr> , must have included ‚ÄúFC zoning‚Äù on <abbr title="Fabric interconnect">FI in</abbr> order to perform zoning. <br></div></div><br>  The downside of the direct-on configuration is poor scalability and the ability to configure fault tolerance and load balancing across network links for all types of network traffic. <br>  For Ethernet traffic both in conjunction with <a href="https://community.brocade.com/dtscp75322/attachments/dtscp75322/fibre/21648/2/UCS%2520Connectivity%2520Best%2520Practice.pdf">direct power and iSCSI protocol, direct power and FCoE protocol, as well as for the FC protocol with direct connection</a> , load balancing on network links and fault tolerance is achieved by using multi-paging built into these protocols. <br><br>  In the design of the FlexPod DataCenter, the <i>Nexus</i> series <i>switches are still an essential</i> component of the architecture: <br><ul><li>  firstly, because FlexPod must somehow be integrated into the existing infrastructure and provide access to clients </li><li>  secondly, switching on Nexus switches will allow the architecture to scale in the future </li><li>  thirdly, in contrast to the direct connection with the <abbr title="Storage Area Network">SAN</abbr> ( <abbr title="Fiber channel">FC</abbr> / <abbr title="Fiber channel over ethernet">FCoE</abbr> / <abbr title="iSCSI">iSCSI</abbr> ), the Ethernet network design for the <abbr title="Network-attached storage">NAS</abbr> requires an intermediate link between the <abbr title="Storage System">storage system</abbr> and the <abbr title="Unified Computing System">UCS</abbr> domain to perform load balancing on the network links, and mainly fault tolerance functions. </li><li>  fourth, external client access via Ethernet to the FlexPod should be fault tolerant </li><li>  <a href="http://habrahabr.ru/post/272511/">Benefits of FlexPod</a> configurations </li></ul><br><br>  <b>I ask to send messages on errors in the text to the <abbr title="Private message">LAN</abbr> .</b> <br>  <b>Comments, additions and questions on the article on the contrary, please in the comments</b> . </div><p>Source: <a href="https://habr.com/ru/post/244623/">https://habr.com/ru/post/244623/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../244609/index.html">.NEXT 2014 Moscow: Final schedule, sponsors, stands and a pair of spoilers</a></li>
<li><a href="../244611/index.html">How PayPal Mafia Affects Silicon Valley Success</a></li>
<li><a href="../244615/index.html">ABAP: Sampling reference values ‚Äã‚Äãby their keys from database tables</a></li>
<li><a href="../244619/index.html">Joker 2014 Java conference through the eyes of a speaker from Siberia</a></li>
<li><a href="../244621/index.html">Using the AdDuplex Service for Universal Applications</a></li>
<li><a href="../244625/index.html">Probabilistic programming</a></li>
<li><a href="../244627/index.html">Ethernet bandwidth measurement</a></li>
<li><a href="../244631/index.html">Horizontal scroll becomes fashionable. We will understand this</a></li>
<li><a href="../244633/index.html">Joy Inc. Dream job and business processes based on joy</a></li>
<li><a href="../244635/index.html">New free courses virtual academy Microsoft Virtual Academy, December 2014</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>