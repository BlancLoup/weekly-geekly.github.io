<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>1.5 MB network file system Habr</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Maybe not everyone knows, but Habr is not far behind the market leaders in providing data storage on their servers to all registered users. It is not ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>1.5 MB network file system Habr</h1><div class="post__text post__text-html js-mediator-article">  Maybe not everyone knows, but Habr is not far behind the market leaders in providing data storage on their servers to all registered users.  It is not as big as Google‚Äôs or Yandex‚Äôs, only megabytes, but it will allow you to store a dozen draft articles and other data tied to the site to use with site materials without cross-domain access in scripts.  We assume that for all our needs, 1 MB of Unicode characters is enough.  What does the system offer? <br><br>  Available types and volumes: <br><br>  1) In the form of draft articles (visible only to the author).  Each draft stores at least 100 thousand characters.  Drafts - conditionally unlimited. <br><a name="habracut"></a><br>  2) In the form of notes to users (visible only to the author, but no one guarantees vulnerabilities, leaks and deletes when the user closes the account).  One note stores up to 65535 characters.  There are as many notes as there are authors (but the limit number of system notes was not checked).  You can not write a note to yourself. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      3) In personal messages to the interlocutors.  (You can not write to yourself). <br><br>  4) In a public message on a personal page, up to 65 K (except that it is public, it is also on another adjacent domain of the 3rd level). <br><br>  5) (a bit publicly (c)), in habrastorage files, if you don‚Äôt tell their names to anyone, then you can store a lot of data rather compactly and almost imperceptibly.  But they do not know when will be removed, so all versions will be open for all to read indefinitely. <br><br>  It‚Äôs up to these rich features to write drivers to access something like the browser‚Äôs localStorage API.  Optimization pragmas (indications about the future usage format) will be needed to make data distribution efficient. <br><br>  These methods will not lead to the inconvenience of other readers, unless you consider the cases of erroneous publications of drafts and personal messages to others without warning.  Even publishing a public post on a personal page can be hidden by an HTML tag and will not be visible to readers. <br><br><h3>  How to use? </h3><br>  In total, to store 1 MB of characters, you need to have 16 notes or 10 (and less) drafts.  The most error-proof way is to create notes.  Therefore, we will not consider other methods, although a draft can store a block of information of a larger size. <br><br>  On the contrary, large blocks of information are not always needed.  Most often - small, and here the notes also win, because they are shown with a limited sidebar, and drafts - with a full (in reading mode).  In sum, it turns out less load design, unnecessary traffic. <br><br>  It is not very convenient that the list of notes is displayed in full, and not the first N characters.  This can be convenient for dumping notes or another reason for a complete reading.  But inconvenient for viewing indexing information that could be stored at the beginning of each note.  But since there is no such thing, we will select 1-2 notes under the index (two - for duplicating the index, as in real disk systems) and we will almost always read only individual notes, knowing in advance the user names for them. <br><br>  Then we need to choose 16 user names, and, perhaps, to get a personal read-only account, to be sure of its non-deletion, for the content of the index file.  Since the package needs to read small, but current volumes, several accounts in our file system need to be allocated to files of small size.  Not all accounts will contain large volume notes.  It is more profitable to have several times more account names than to write in one long line and be forced to read unchanging data in a line.  Therefore, for the file system, you need to prepare several times more account names than 16. For example, 100. <br><br>  In a pair of duplicate indexes we will contain a table of the distribution of files by account names. <br><br>  It should be noted that the use of someone else's name does not "burden" the account holders.  For them, the notes do not exist, it is - the personal information of the user.  Formally - about them, but in fact - arbitrary.  Users may damage files by deleting their account.  The administration can do the same by deleting a user account or by posting notes. <br><br>  For reliability, as well as, to maintain the same system for users without accounts, you need to have a backup server for storing notes.  Maintaining a system of 20-100 text files will greatly simplify the work with this megabyte of information.  In fact, it will be highly structured information like the browser's local storage, but available on the web.  It will be possible to work with him on the same principles - through reference to a single-level structure (hash, dictionary).  The lines in it can be serialized structures. <br><br>  The entire file system will work on JS and via Ajax requests. <br><br>  To be continued, but for now we will formulate suggestions for the owners of this free hosting - maybe they will have time to finalize something by the time of release. <br>  <b>1. The</b> list of notes is very desirable to compile from the beginning of the texts in order to use them as indices (100-300 characters); <br>  <b>2.</b> Have a list of 100 guaranteed non-removable users with calculated names like aa00..aa99. <br>  <b>3.</b> Have a mode of reading the list and notes without design - save 18K Bytes on each request! <br>  <b>4.</b> Make the removal of pictures from the author by the author so that it can be used as public data - for example, write articles in the format of pictures and publish corrections and comments to them.  Then it will be enough to have a script for expanding the texts of articles and corrections from the binary data of the pictures.  Since only script users will be able to read, this format will become popular among developers, the share of phone reviews will decrease in pictures. <br>  <b>5.</b> Do not duplicate data in input hidden, so as not to make the page of a note heavier. <br><br>  While negotiations and approvals take place, we will have time to write drivers for the file system using at least the described existing capabilities of the site.  Since they will be cross-domain, even non-use of the site‚Äôs capacity will not interfere with the storage operation on another domain in a similar format. <br><br>  The project is a crownsourcing project ( <a href="http://habrahabr.ru/post/189950/" title="Crowdsourcing design: we are doing a browser extension to quickly publish pictures on œá ¬∑ e">like this one</a> ), the codes will be laid out on Github.  As practical tasks, readers will be asked questions: <br>  1. What is the maximum amount of a single message in a drug system? <br>  2. What is the maximum amount of article supported in the draft?  (I checked that 100K is stored.) <br>  3. What is the maximum amount of private data you can store in total? </div><p>Source: <a href="https://habr.com/ru/post/194560/">https://habr.com/ru/post/194560/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../194542/index.html">Blizzard decided to close in-game auctions in Diablo 3</a></li>
<li><a href="../194546/index.html">Photoshop in Ubuntu</a></li>
<li><a href="../194548/index.html">Convenience and ease of AirDroid</a></li>
<li><a href="../194550/index.html">Data in MarkLogic Server [Part1]</a></li>
<li><a href="../194552/index.html">Rideye BlackBox Recorder</a></li>
<li><a href="../194562/index.html">Bananas are sources of antimatter!</a></li>
<li><a href="../194566/index.html">Weather forecast</a></li>
<li><a href="../194568/index.html">Roskomnadzor blocked SquareSpace.com platform</a></li>
<li><a href="../194574/index.html">Backing up from the cloud: instructions for use</a></li>
<li><a href="../194576/index.html">About how the government hears society, or public discussion of the "Anti-piracy law"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>