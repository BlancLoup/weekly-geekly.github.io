<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Conducting Containers: How Kubernetes and Istio Work</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Our conference on DevOps tools and approaches is already tomorrow, which means that the time has come for the last interview! This time we asked a few...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Conducting Containers: How Kubernetes and Istio Work</h1><div class="post__text post__text-html js-mediator-article">  Our conference on DevOps tools and approaches is already tomorrow, which means that the time has come for the last interview!  This time we asked a few questions to one of Google‚Äôs development team leaders about the work of the Kubernetes and Istio bundles, which are scheduled to be released early next year. <br><br>  Craig will tell you why it is worth deploying in containers even for one machine, when to connect the orchestration system, what alternatives Kubernetes has and what will happen in the future.  Details - under the cut. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/232/c9a/269/232c9a269b24ba44071b6b04c477d3d8.jpg"><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/179/14b/90f/17914b90f098a12a4816f06b8b3fdd3a.jpg" align="left">  Craig Box is an expert and head of one of the divisions on Google Cloud.  His responsibilities include working with platforms, collecting user feedback and interacting with engineers.  I started with a system administrator, then switched to development, deployment, DevOps, consulting and management. <br><br>  <b>Please tell us a little about your report.</b>  <b>Is that bundle you‚Äôre talking about already used by someone in production or is it a concept?</b>  <b>How lstio is a mature product?</b> <br><br>  <b>Craig Boxing:</b> Istio is an open source service network that separates workflow from development.  You can think of it as a network of services, not bytes or packets. <br><br>  When people transfer their applications from a monolithic process to microservices, they implement a network that does not always work reliably, like many distributed endpoints.  Some companies, in particular Netflix, solved the microservice network problems with the help of the library, which must be enabled by each microservice.  Since microservices allow you to develop each component in any language, libraries need to be supported in several languages, and this soon became an additional problem. <br><br>  Istio allows you to manage existing and new services in any language in a single way.  It helps to manage, control and protect microservices in any language and deployed anywhere. <br><br>  The administrator determines the rules (for example, ‚Äúsend 10% of backend traffic to my service‚Äù or ‚Äúmake sure that all traffic between A and B is carried out using TLS mutual encryption‚Äù).  Istio implements a proxy server in front of each service that is programmed to enforce these rules.  And even without defining anything, you immediately get a rich arsenal for monitoring traffic and ensuring distributed tracing between your endpoints after installing Istio on the Kubernetes cluster. <br><br>  The proxy server used by Istio is called Envoy.  It was written by a team from Lyft under the direction of Matt Klein.  Lyft has been using Envoy for a long time in their projects and during that time they tested its work in systems of different scales. <br><br>  The Istio community originally included Google, IBM, and Lyft, but after joining many other members, version 0.2 was released.  We regard it as a ‚Äúbeta version‚Äù and plan limited industrial use to version 0.3 at the end of this year, and release 1.0 is scheduled for 2018, it will support even more environments. <br><br>  Initially, Istio was designed with Kubernetes in mind, and Kubernetes is, of course, a mature, ready-to-use product.  Research firm Redmonk claims that Kubernetes is used by 54% of Fortune 100 companies, accounting for 75% of the total number of companies using containers. <br><br>  <b>- Unlike most DevOps practices, the need to use orchestration systems is not always obvious, especially for relatively small teams and projects.</b>  <b>Are they always needed for everyone, or do such systems appear and benefit only where there are microservices and a large number of machines?</b> <br><br>  <b>Craig Boxing:</b> Even if you have only one service on one machine, there are still advantages in using containers: you can deploy your application with all its dependencies in a single atomic unit, be sure that it will not take more resources than is allowed, This at any time, you can easily undo all changes. <br><br>  Even if you have only one container, Kubernetes is an excellent API for managing the life cycle of this container running on any machine;  it handles abstractions below your application level, such as memory and network, and provides an API server that can be easily configured using your deployment tools. <br><br>  You now have a portable application that you can move between environments.  When your application is configured, you can go to scaling. <br><br>  <b>- By what signs can one understand that now it is already necessary if the project initially began without a similar orchestration system?</b> <br><br>  <b>Craig Boxing:</b> A system similar to Kubernetes is managed through the API from start to finish.  You can automate everything from creating clusters using a service such as Google Container Engine to deploying and updating applications on this cluster. <br><br>  One of the most common reasons why people do this is to increase the rate of change.  It goes something like this: by moving containers, orchestration and microservices to the cloud, you reduce the risk of a single deployment.  This allows you to ensure continuous operation.  Now you are confident in your process, which is activated using templates such as canary deployment (where at first 1% of traffic goes to a new service, then 5%, then 20%, etc.).  You can also go back if something goes wrong. <br><br>  Our customers told us that they can go from one deployment per month to dozens per day.  This means that the new code runs faster, and ultimately leads to more flexible management of business processes. <br><br>  <b>- Are there any serious alternatives to Kubernetes?</b>  <b>Or is his model so good and versatile that in principle they are not needed, and in the end there will be only one?</b> <br><br>  <b>Craig Boxing:</b> Kubernetes is an evolution of the clustering model created by Google.  We published documents about our work that influenced other systems in this space, for example, Mesos. <br><br>  At about the same time that Kubernetes appeared, other similar systems appeared.  Many of them soon switched to Kubernetes (for example, OpenShift, Deis Workflow, and recently Rancher). <br><br>  One of the reasons Google decided to create Kubernetes and release it under an open source license is because everyone needed a standard API that can be used for all suppliers. <br><br>  Kubernetes is called "Linux for the cloud."  While Linux is in some way a de facto choice when you need Unix, there is still an ecosystem of other open source operating systems for different situations - not to mention a closed source world and Windows. <br><br>  Similarly, we created a fantastic set of APIs in Kubernetes that allows you to manage all kinds of applications: from stateful web services to batch workloads for ML models with big data and GPUs.  We also spent a lot of time building extensible functions in Kubernetes, which allow you to define the types of objects that we didn‚Äôt even think about.  We see Kubernetes as the core of an ecosystem and something that you can expand. <br><br>  <b>- How difficult is it to maintain existing orchestration solutions?</b>  <b>Is it possible to quickly enter, run them and forget?</b>  <b>Or do you have to constant tuning, the collapse of the cluster and other problems?</b> <br><br>  <b>Craig Boxing:</b> Each user will have their own reasons for using clusters.  Some will share them for maximum utilization of power and may want them to work for a long time.  Others will want to include them only when they need them, and give their own clusters to different business units.  People working with a fixed number of machines have a different perspective on their use than people working in the cloud, when they can automatically add machines as needed. <br><br>  We designed Kubernetes to work well in all situations, and our product, Google Container Engine, will allow you to deploy a cluster in less than three minutes. <br><br>  <b>- What problems can not or difficult to solve with existing systems orchestration?</b>  <b>Where is their development going?</b> <br><br>  <b>Craig Boxing:</b> Container orchestration systems are well suited for general dynamic workloads in scalable systems.  If you want to run one commercial database on one machine and it uses all the resources of this machine, we would recommend that you do not change anything.  If this server fails, the effort and cost of moving it may be greater than the effort and cost of repair.  Given this, our recommendation is to simply connect to an external service within your cluster. <br><br>  Similarly, when you have a managed service, such as Google BigQuery, you do not need to run the data store in your cluster. <br><br>  Istio knows that not all applications will work on Kubernetes.  In version 0.2, you can add services running on both virtual and real machines. <br><br>  Oracle published scripts to put the Oracle Database in a container, and Microsoft took another step and posted the SQL Server images on the Docker Hub.  If you want to move such workloads, it is more than possible! <br><br>  <b>- What about stateful services?</b>  <b>Expect the appearance of a universal mechanism?</b> <br><br>  <b>Craig Boxing:</b> MVP for Kubernetes hosted stateless web services, but we always thought about what we needed to do to be able to run stateful workloads. <br><br>  We worked on the concept of StatefulSet, which gives each member an ordinal (numbered) identifier and a separate repository.  In addition, you can create "operators" for applications that know what needs to happen in order to attach or remove an item from a cluster. <br><br>  The Kubernetes community has developed a number of templates for regular open source applications such as Cassandra and MongoDB, and, as I said, many companies are moving traditional enterprise applications to containers.  We hope that over time, all communities will use Kubernetes as a first-class supported deployment platform. <br><br><hr><br>  If you are <a href="https://devoops.ru/2017/spb/talks/2ua9mgbox2ggisyumaokyk/">concerned with</a> microservice management issues, we invite you to listen to the report of Craig Box <a href="https://devoops.ru/2017/spb/talks/2ua9mgbox2ggisyumaokyk/">Managing your microservices with Kubernetes and Istio</a> at <a href="https://devoops.ru/">DevOops 2017</a> . <br><br>  Also, you probably will be interested in other presentations at the conference, including: <br><br><ul><li>  <a href="https://devoops.ru/2017/spb/talks/1ede7h4xzuk6yieu68gyeg/">Expanding k8s</a> (Nikolai Ryzhikov, Health Samurai) <br></li><li>  <a href="https://devoops.ru/2017/spb/talks/3cwl3mfticgaqquum2icg/">Troubleshooting &amp; debugging production applications in Kubernetes aka The Failing Demo Talk</a> (Ray Tsang, Google and Baruch Sadogursky, JFrog) <br></li><li>  <a href="https://devoops.ru/2017/spb/talks/7spirpymqkwc6aqmgwyime/">SmartMonitoring - monitoring business logic in Odnoklassniki</a> (Sergey Sharapov, Odnoklassniki) <br></li></ul></div><p>Source: <a href="https://habr.com/ru/post/340442/">https://habr.com/ru/post/340442/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../340432/index.html">25 materials on ITSM, incident handling and business process development</a></li>
<li><a href="../340434/index.html">About the benefits of brevity</a></li>
<li><a href="../340436/index.html">Seminar "Clouds for Critical Systems", October 26, Moscow</a></li>
<li><a href="../340438/index.html">Why a smart antenna is the best solution for wireless networks with a high density of client devices</a></li>
<li><a href="../340440/index.html">Spotify front-end life</a></li>
<li><a href="../340444/index.html">We are at Highload ++ this November: ask a question to Badoo engineers</a></li>
<li><a href="../340446/index.html">OpenShift.IO: all-in-one development platform and CI / CD</a></li>
<li><a href="../340448/index.html">Arduino brain: pulse position sensor</a></li>
<li><a href="../340454/index.html">Start of the competition MERC-2017 from the Neurodata Lab</a></li>
<li><a href="../340456/index.html">Empowered pull requests</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>