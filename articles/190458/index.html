<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>I love graphics programming</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I love graphics programming! We all make mistakes in the process of designing and writing code. Sometimes these are errors of logic (when the algorith...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>I love graphics programming</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/8fa/f7c/b50/8faf7cb504da0f78aec4e65a5d314591.jpg" alt="cover"><br><br>  I love graphics programming!  We all make mistakes in the process of designing and writing code.  Sometimes these are errors of logic (when the algorithm is thought out inaccurately or not to the end), sometimes errors arising out of inattention, and many, many more options.  And what happens in the normal workflow?  - The lists do not have the necessary entries, some numbers are considered incorrect, error messages are falling out, and so on.  In graphics programming, everything is a bit more fun, because often we get a result that simply does not match what was expected.  In my small project, I decided to keep such ‚Äúresults‚Äù throughout the development process and would like to share them with you. <br><br>  Anyone who does not like Android, Live Wallpaper, Minecraft, bicycles, a stream of consciousness that is loosely attached to the topic and everything, I want to immediately warn you that they can be upset by the content of this post, so keep reading at your own risk.  I'll leave here also a warning for users of the mobile or just the limitless Internet: <b>a lot of pictures will follow</b> . <br><a name="habracut"></a><br><h5>  Hello! </h5><br>  I am a software developer with years of experience.  This is not to say that my work is monotonous and boring.  I solve problems of different levels, sometimes I invent solutions, sometimes I myself implement them, sometimes I search for vulnerabilities in the systems, and sometimes I just tell why the monitor is not a computer.  Perhaps the fact that I am not busy just coding, brings a share of diversity and creativity in the workflow. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      It also happens that due to various problems (the budget or development time is limited, or just someone from the upstream rooster pecked not where it was needed), you have to look for ready-made solutions for many things, which turns my work into a children's dice game where it is necessary to ‚Äúput a cube on a cube‚Äù and watch how the managers clap their hands.  Perhaps this is the thing that turns my work into a routine (although yes, even in moments of ‚Äúplaying with cubes,‚Äù I usually keep telling that the monitor is not a computer).  In order to somehow avoid the routine and not forget what it is to implement simple things, I like to program ‚Äúeverything in a row‚Äù in my free time.  And I noticed that I love programming graphics ... <br><br><h5>  What are we talking about? </h5><br>  I will start from the beginning, without any special digressions about who I am and why.  Having bought a new phone (here the tendency of my articles on the habr is already emerging ...), I wanted to put myself a ‚Äúlive wallpaper‚Äù, because  I really don't know why, but I like it when something moves on the screen.  Probably all because then I feel that I bought a phone with a quad-core processor for good reason.  I walked around the store, thought that I would like to see on the screen and decided that I wanted something in the style of minecraft, but unfortunately I did not find anything that would properly delight me.  Then I had the imprudence to decide to do everything myself ... <br><br><h5>  The first doubts on this subject ... </h5><br>  It should be a little distracted from the main story and explain why I had doubts about the idea of ‚Äã‚Äã‚Äúbut I will write - I'll give myself something.‚Äù  In school years, a game was installed on computers (as I learned quite recently, the game was called ‚ÄúTreasure‚Äù for BK-0010), where the white man (for whom it was necessary to play) collected something (in my memory it was just the keys, although as it turned out later, these were supposed to be chests), and the black man for something very much hated the white man and killed him with a touch.  I don‚Äôt know why, but the thoughts about the game made me feel nostalgic, and so I decided ‚ÄúI‚Äôll write it myself.‚Äù <br><br>  In order not to bore you with a story about the development process and other details (my story is not about that), I will simply describe the meaning: I <b>wrote, it worked exactly as I remembered, I played once, I left it, because</b>  <b>already ‚Äúplayed up‚Äù in the process of debugging</b> . <br><br>  For those who are interested, the result is this: <br><img src="https://habrastorage.org/getpro/habr/post_images/651/417/0f5/6514170f5f345202cfaa0be565050f4d.gif" alt="image"><br><br>  The inner voice told me that I would not use the result of my work, because  I see too much of it during the development, but, as usual, I decided that <u>‚Äúthis time it will not be exactly like this‚Äù</u> (the power of self-conviction, yeah).  I will run ahead and say that the inner voice was right ... <br><br><h5>  And where is the programming graphics? </h5><br>  I will try to return to the main story.  I immediately decided that I would not use either OpenGL or anything else that would help me accomplish the task - only hardcore.  Moreover, I have always been interested in the interaction of Java code with native code for Android, and now I have a good opportunity to try my hand at solving this problem. <br>  Immediately I decided to check if I could even implement a drawing with a sufficient frame rate, with a constant call to the native library.  For verification, I implemented the following task - filling the screen with pictures with some arbitrary coefficient of ‚Äúshading‚Äù (in fact, simply with a brightness parameter, where the original picture is considered as bright as possible).  Wrote a variant in Java and C ++.  I drove both variants with a rough test of time counting and saw that, on average, the C ++ version worked a little faster, even though the output of the finished image ‚Äúon the screen‚Äù was still made by Java.  As pictures I immediately took one of the cutest, in my opinion, textures for minecraft, the result was something like this: <br><img src="https://habrastorage.org/getpro/habr/post_images/f62/739/751/f62739751847aee46233b5024e38f863.jpg" alt="image"><br><br>  Since I decided from the very beginning that I would begin to implement everything myself and would not pry into literature or look for help on the Internet, then at the edges of my image they looked like this: <br><img src="https://habrastorage.org/getpro/habr/post_images/04e/227/701/04e2277011f496dcf3a3fa77a614da2a.png" alt="image"><br><br>  Obviously, the images from which only a part should have been drawn are incorrectly processed, correct ... <br>  So, the problem is solved, which means you can get down to business and start looking for a solution and an optimal implementation. <br><br>  Since I chose a solution using JNI for implementation, as a result, the development was conducted in mixed mode.  I wrote and tested the main logic under Windows, immediately generating an image for 10 screens (these are the wide images that follow in the article), and from time to time I checked the solution on the phone. <br><br><h5>  "Results" </h5><br><br>  So, the horizon line (for the time being, I don‚Äôt even know why I made random ones - I am writing an article and am surprised at myself): <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/a50/ba6/0b6/a50ba60b6c5a612e153ebe31cbe0994c.jpg"></a> <br>  Large images are clickable, but habrastorage slightly reduced their size (the original was 7200 x 1280) <br><br>  Now, from random debris, go to meaningful content.  The horizon line is ‚Äúmeaningful‚Äù: <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/5ad/f36/4df/5adf364df13cd0b177dd7a60bc3bcac1.jpg"></a> <br><br>  Next, it was necessary to create a ‚Äúcave‚Äù (depressions in the surface) so that the relief did not look so primitive.  Since  by the time the implementation was still raw, the test of the cave creation algorithm was a drawing of the ‚Äúcaves‚Äù with a different texture: <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/ea1/6bf/ea0/ea16bfea0c7b52a404101e99a39789b1.jpg"></a> <br><br>  The next step was to divide everything into foreground and background, and the background should have a darker texture: <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/2f9/31e/e9d/2f931ee9d8051f2ab8bce9fe7b255948.jpg"></a> <br>  This already looks like something, but still very far from the result. <br><br>  I changed the textures, decided to add a light source at the bottom - lava, but was mistaken with the texture, so the bottom was ‚Äúfilled with torches‚Äù: <br><img src="https://habrastorage.org/getpro/habr/post_images/d59/96a/ffd/d5996affdaf0ef56a859a5c63fd64c7e.jpg"><br><br>  Correct and add another source of light - torches: <br><img src="https://habrastorage.org/getpro/habr/post_images/ba0/625/ebb/ba0625ebbfdaf7171b5a734043239eb1.jpg"><br><br>  I realized that the ratio of the foreground and background blocks does not suit me and changed the coefficients: <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/d19/dfb/e63/d19dfbe63bbbe3ca843b26ec3557c534.jpg"></a> <br>  Looking ahead, it should be noted that this is the part that I changed many times in order to achieve such a result, to calm down and not touch it again. <br><br>  The purpose of adding light sources was more adequate lighting - lighting from light sources.  Light sources were divided into three groups: <br><ol><li>  <b>Illumination from the sky.</b>  The brightest light source, but the change of the time of day was originally conceived, and therefore the lighting from the sky depends on time. </li><li>  <b>Lighting from the lava.</b>  A less bright light source than the sky during the day, but the brightness does not change with time. </li><li>  <b>Lighting from the torches.</b>  The least bright light source.  Brightness is also constant. </li></ol><br>  As a result, two parameters began to influence the lighting of the block - the distance to the sky and the distance from the static light source: <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/54c/ba9/685/54cba9685dd3af013828bb598631d3a8.jpg"></a> <br>  On the left, the light propagates from the sources, and on the right, just the ‚Äúbackground is darker than the front.‚Äù <br><br>  Here transparency began to ask, because you can not leave the torches with a white background.  To avoid the questions ‚Äúand what is the problem?‚Äù, I remind you that I have an array of some tsiferok (pixels) and other tsiferok (also pixels) and all the transfer and drawing rules needed to be written.  We wanted transparency - here's your transparency (a little bit more transparent and it would be necessary to draw a picture from the phone‚Äôs camera so that it is quite ‚Äútransparent‚Äù): <br><img src="https://habrastorage.org/getpro/habr/post_images/632/f94/154/632f94154eb8613b86973e2339458340.jpg"><br>  Correcting ... <br><br>  Correcting the background, accidentally ‚Äúpainted over‚Äù and caves with earth: <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/6d9/13f/b8e/6d913fb8e3155e6ebda4f164f5e866a2.jpg"></a> <br>  I know that it may seem that some of this was done intentionally, but I assure you that all the results were obtained by chance.  In truth, I even find it difficult to say how I did it, but the result is as it is.  Correct this too ... <br><br>  The illumination of the block behind the torch is not calculated correctly (the block after the torch is darker than the neighboring blocks): <br><img src="https://habrastorage.org/getpro/habr/post_images/432/bdd/29e/432bdd29e3e3321c30d24af3570a5733.png"><br>  The error is rather stupid, but at once I somehow did not think that the torch could be in a well-lit place and considered the illumination of the block as the maximum brightness value of the torch.  There could be at least two solutions - fix lighting or remove torches from lighted areas.  I decided to fix the lighting. <br><br>  Now I decided that it was necessary to make it possible to specify a string (seed) that sets a unique ‚Äúmap‚Äù, which means that I also needed my own implementation of random number generation (in fact, it wasn‚Äôt needed, because the usual rand would suffice, but begged the bike): <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/2d2/050/136/2d2050136f831cd27545c2def61545bf.jpg"></a> <br>  and <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/565/fe5/de2/565fe5de213e6319efea08ae9f2567c4.jpg"></a> <br><br>  It turned out quite "accidentally", if not more. <br><br>  The next step, additional blocks were added (I‚Äôm missing this step, excuse me, and there are so many pictures) in order to diversify the appearance of the relief, and here came the turn of the trees. <br><br>  I want to say a few words about trees separately ... By the middle of the development process, I already had a comment in the code, several entries on paper and one note to the screenshots, something like this: ‚Äúi h8 3s‚Äù.  And for good reason.  The trees immediately went somehow difficult.  Every little thing, every editing code necessarily affected the trees.  In general, no matter how ridiculous this may sound, but it was the trees that were the biggest splinter. <br><br>  So, the first iteration of torment with trees: <br><img src="https://habrastorage.org/getpro/habr/post_images/bf8/138/494/bf81384940d4ec507a25bc7dfec1e648.jpg"><br>  To begin with, it was decided to make a tree trunk and leaves above the trunk (so far without leaves on the sides), but even here I mixed up the blocks and got an inverted result. <br><br>  Corrected the error and added leaves on the sides, and again not the same block: <br><img src="https://habrastorage.org/getpro/habr/post_images/c6f/f15/b88/c6ff15b8879cda3d24701e94a8b0828c.jpg"><br><br>  As a result, after a change in the number of trees, the result was: <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/8a4/95f/da6/8a495fda63d273664e19b16b120c5d4d.jpg"></a> <br><br>  Then I decided that the algorithm for generating the horizon line upset me and that it would be nice to fix it, which I did.  The result was quite predictable - no good: <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/719/ff4/6c1/719ff46c14d93fb7bae44d2eaa4ade16.jpg"></a> <br><br>  Then quick-fix, usual for many developers, followed, without much understanding of the essence of the problem (after all, I had just written this code, it is obvious that I can fix it without thinking!) That, as could be expected, to a positive result did not lead: <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/ef4/8e5/c03/ef48e5c03df80940db990d56b4ade872.jpg"></a> <br>  Curiously enough, the horizon is not completely flat, but has a slight distortion at the beginning. <br><br>  As a result, I experimented with different parameters and after a lot of results I calmed down and stopped thinking about corrections for the horizon line.  Here are some results for the horizon line: <br><img src="https://habrastorage.org/getpro/habr/post_images/383/7f0/b58/3837f0b58deef97dada0be291f97ad41.gif"><br><br>  After I got a working prototype, it's time to debug it, clean the code and do the optimization.  I started by getting rid of the magic numbers, which were about 10 and which bound most of the parameters to the size of the screen and blocks at the time of the tests. <br><br>  And the trees continued to grieve - it was necessary to ensure that they were generated only on the ground, added shading to some blocks of leaves for the volume (which, by the way, also didn‚Äôt work the way we would like): <br><img src="https://habrastorage.org/getpro/habr/post_images/bc5/37b/16c/bc537b16c5113c7d37538179b4e72e60.png"><br><br>  It became clear that you need to debug the function of drawing shaded blocks, and at the same time to optimize something in it.  Again, a quick fix for the ‚Äúbugs‚Äù, again a pretty funny result: <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/bb3/7de/4be/bb37de4bede66b06b1d8ae81f4f5dbb3.jpg"></a> <br><br>  Here, it almost instantly dawned on me, what did I do wrong, and the new fix did not take long to wait: <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/9a1/211/38c/9a121138cab12f81d063a4f80f148c63.jpg"></a> <br><br>  There should immediately make a reservation that I usually do not write code in this style (ie, in the style of ‚Äúfirst write, then think‚Äù).  But in this project I found it very funny.  After all, my every mistake, every nonsense, necessarily led to a result, and very rarely I could predict this result or immediately explain ‚Äúwhy so‚Äù. <br><br>  By this moment, the texture of the leaves and grass (earth with grass) was of a certain green color.  I asked for the implementation that would allow to change the color, allowing a little blood to change the time of year.  Yes, I know perfectly well that this could have been easily done in Java and did not invent anything, but sports interest was too strong.  For this, the texture has been changed and a function for ‚Äútexture painting‚Äù has been written: <br><img src="https://habrastorage.org/getpro/habr/post_images/615/371/936/6153719365ea919f49de892b82065580.png"><br><br>  The function itself had to be corrected several times, since  it created the effect of a variegated whale (two images in the middle), but did not do what was necessary (the right image).  Here are some results of the algorithm: <br><img src="https://habrastorage.org/getpro/habr/post_images/4ce/524/b74/4ce524b74ba91a53a19faddf0cc8bb6c.gif"><br><br>  From time to time, I ruled certain methods in order to tidy up the code and from time to time I got very different results.  Another example: <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/b33/2ac/892/b332ac89277b4fbe825a820af4a060b4.jpg"></a> <br><br>  Quite funny situations from the world of debugging came up from time to time.  For example, an error in the drawing of the gradient (another generator of colorful stripes): <br><img src="https://habrastorage.org/getpro/habr/post_images/a62/41f/0f6/a6241f0f63a518ea6294cc0144cd791b.png"><br><br>  During the debugging of this error, when I already began to run out of ideas, the debugger issued the following color value: <br><img src="https://habrastorage.org/getpro/habr/post_images/79e/879/6ec/79e8796ec00e23e91aae290f0d65b271.png"><br>  On that day, I left the debugging and decided to rest so that the debugger would stop telling me about the poor quality of the food. <br><br>  At this point, I decided to start testing the result in parallel on the phone.  In the phone, the order of the colors turned out to be slightly different, so the red and blue components of the colors were reversed: <br><img src="https://habrastorage.org/getpro/habr/post_images/31d/2ed/1c1/31d2ed1c172a0de775db892d5520491c.jpg"><br><br>  By the way, I forgot to remind once again that I hate trees ... The trees at night behaved strangely: <br><img src="https://habrastorage.org/getpro/habr/post_images/8e5/01d/74d/8e501d74d9627b8d839da8e40d6238f3.jpg"><br><br>  At this time, the phone generally had its own view on how to draw a picture after shifting (scrolling with your finger): <br><img src="https://habrastorage.org/getpro/habr/post_images/19e/5ce/ed2/19e5ceed2171e1fc2d8ef4c9af4556de.jpg">  and <img src="https://habrastorage.org/getpro/habr/post_images/bfa/c03/726/bfac037262fd99fba105b526391ccbb8.jpg"><br><br>  Okay, the color in the picture on the left is this, because I forgot about the position of the blue and red component, but the trendy motion blur effect is already ‚Äúthank you‚Äù android for drawing my image quite correctly, which I did not think about alpha channel (in the alpha channel by that time there could be anything). <br><br>  By the way!  For a long time I did not show you my trees!  Here is: <br><img src="https://habrastorage.org/getpro/habr/post_images/1a7/1c8/465/1a71c84650fb35b88243342d45abb1ee.jpg"><br>  There are quite a few problems here - and the wrong lighting of some blocks of leaves, and the incorrect drawing of ‚Äútransparent pixels‚Äù. <br><br>  In parallel, I began work on a waypoint system or, in simple terms, a pathfinding algorithm.  The path was needed so that there was an opportunity to add zombies and other characters and at the same time would not have to calculate their behavior a few steps forward each time (so that they do not tupili on the spot).  For myself, I began to mark the path visually to assess the quality of the algorithm: <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/d3f/82a/7e7/d3f82a7e76664f728947cc6933163e86.jpg"></a> <br><br>  A more advanced version of visualization looked like this: <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/567/71a/c0f/56771ac0fdb5345b1732ddf5accdf668.jpg"></a> <br><br>  By the way, as a result, I did not add zombies (I didn‚Äôt get a hand), but debugged the waypoints system.  Pay attention to the trees in these two pictures.  The trees still looked beautiful ... <br><br>  At some point, when I tried to correct the appearance of the trees, I received another ‚Äúpositive‚Äù: <br><img src="https://habrastorage.org/getpro/habr/post_images/27f/29a/441/27f29a4416c971a9c18a7b7c9733a0e0.png"><br><br>  Here are some more interesting bugs from the phone that are directly related to transparency (alpha channel): <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/179/378/a94/179378a94373090da2d885c5cac93fc7.jpg"></a>  and <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/85d/c99/ecf/85dc99ecf4de439d883da2b210a0f7b7.jpg"></a> <br><br>  Then there were errors due to the addition of additional textures (and therefore the change of texture indices): <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/92b/40d/868/92b40d868cbd7bc74f96d84632ba27e3.jpg"></a> <br><br>  Then I ‚Äúcorrected‚Äù something in the drawing algorithm and got a rather strange effect (most likely I messed up with the size and position of the textures): <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/b73/080/ecd/b73080ecd27ec58c900b79c80a3b38fd.jpg"></a> <br><br>  As a result of the recent optimization of the drawing algorithm, I received two errors at once (again variegates of different-sized): <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/11d/fbd/a7d/11dfbda7da05eb06bf169f1a7c4bb870.jpg"></a>  and <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/88d/b52/2b7/88db522b7966d1b43be965bd12e1ca11.jpg"></a> <br><br>  The process of drawing this miracle looks like this (obviously, this is the best option): <br><img src="https://habrastorage.org/getpro/habr/post_images/730/8a1/ca1/7308a1ca1be7ba7ee0581a8abce5165a.gif"><br><br>  The last thing that needed to be realized was the volume effect (the edges of the blocks) so that the picture was not so flat and simple.  For the faces, it was necessary to write two algorithms - an algorithm for changing the size of the image and an algorithm for tilting the image. <br><br>  I'll start with the image size reduction algorithm: <br><img src="https://habrastorage.org/getpro/habr/post_images/5a3/e26/d68/5a3e26d68349404cf4c0b57d18f2f36a.jpg"><br><br>  Top down - the results of the algorithm.  At the very bottom - the desired result (the test was conducted on a large picture, for clarity). <br><br>  The rotation algorithm is more distinguished: <br><img src="https://habrastorage.org/getpro/habr/post_images/969/c27/a84/969c27a8489a91eca69588dafe05b792.jpg"><br><br>  At the left above - the initial image, and at the right below - the desired result, and in the middle all that was obtained along the way to the result. <br><br>  When the algorithms were ready, making the volume was already quite simple.  The block consisted of 3 faces (a view from one side, a pseudo-3D or the so-called 2.5d).  For beauty, a linear gradient was applied on the verge, which also had to be debugged in order to obtain the desired result: <br><img src="https://habrastorage.org/getpro/habr/post_images/f32/749/643/f32749643e83a1189aeb6a1b11a4dbcd.gif"><br><br>  Since I could not decide on the size of the faces of the block, I made it possible to change this parameter: <br><img src="https://habrastorage.org/getpro/habr/post_images/8aa/d8e/92e/8aad8e92e12e0ba7302673444d595c2e.gif"><br><br>  After all the changes, it was necessary to optimize the drawing process so as not to draw anything that is not necessary to draw.  The result of this optimization was again a problem with the transparency channel that surfaced during tests on the phone.  I must admit that the result obtained looked rather curious: <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/0d7/125/d05/0d7125d057bce92a2173fffa72052044.jpg"></a>  and <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/ae6/28b/46e/ae628b46edde68a1a4fc5930e29e3deb.jpg"></a> <br><br>  The result of correcting this error was not so interesting effect: <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/afd/0c9/541/afd0c9541410826ff43f855a1b63c29d.jpg"></a> <br><br><h5>  Results </h5><br>  In the end, all critical errors were debugged, added textures and buns in the form of effects.  Two versions for the store were made - free (very simplified) and paid (with all the buns). <br><br>  I decided not to raise the technical side in this article, because  and so not sure that someone will finish reading it to the end.  If it will be interesting for people who have mastered this article to learn about the technical side of this story, then write in the comments or in a personal, and I will definitely tell you about the difficulties encountered, the implementation features and other details. <br><br>  I hope that this will encourage someone else to create something with their own hands, and not just using ready-made frameworks and libraries. <br><br>  <b>Thanks to those who even reached the end of the article!</b> </div><p>Source: <a href="https://habr.com/ru/post/190458/">https://habr.com/ru/post/190458/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../190442/index.html">Programming imperatively in Haskell using lenses</a></li>
<li><a href="../190444/index.html">10 myths about home 3D printing</a></li>
<li><a href="../190450/index.html">Google fell by two minutes - the volume of world traffic has decreased by 40%</a></li>
<li><a href="../190454/index.html">An overview of the open Adobe Brackets IDE</a></li>
<li><a href="../190456/index.html">Interstellar travel: from point A to point B</a></li>
<li><a href="../190460/index.html">Google Research: Fast, accurate identification of 100,000 categories of objects on a single machine.</a></li>
<li><a href="../190462/index.html">YouTube for the sake of experiment offers to disable advertising on the site</a></li>
<li><a href="../190464/index.html">The srcset WebKit attribute guide in img tag</a></li>
<li><a href="../190466/index.html">Florida, are going to use drones to fight mosquitoes</a></li>
<li><a href="../190468/index.html">Crossed the border - lost e-books</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>