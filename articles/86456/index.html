<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Unity3D + C #, or how to translate scripts</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I came across Unity3D relatively recently, before that I had worked with my own handwriting engines for Java2ME mobile phones, the rest of the time I‚Äô...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Unity3D + C #, or how to translate scripts</h1><div class="post__text post__text-html js-mediator-article"><img src="http://img220.imageshack.us/img220/2804/img3gm.png" alt="image"><br><br>  I came across <a href="http://unity3d.com/">Unity3D</a> relatively recently, before that I had worked with my own handwriting engines for Java2ME mobile phones, the rest of the time I‚Äôm a dotnetchik. <br><br>  When switching to a new platform, I first of all looked for a ready-made technology platform for myself, and the main criteria for me were the price (affordable / reasonable) and, if possible, multiplatform, so that once written code could be used again and again without conversion.  Almost immediately, I stumbled upon Unity. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I have already written about Unity as a whole here, so I won‚Äôt repeat, the main thing is that you can (and in my opinion, develop the game) the script in C # (thanks to <a href="http://www.mono-project.com/Main_Page">Mono</a> ).  The only restriction is to write within the .NET Framework 1.1 - only it is supported on the iPhone.  [upd: while I was writing this post, a new version of Unity3D for iPhone was released that supports .NET 2.1] <br><br>  So, key advantages for me from using Unity in general and C # in particular: <br><ul><li>  Using the .NET Framework and C # (for me personally, this is very convenient) </li><li>  The ability to do the assembly immediately on the iPhone and for the web player (standalone builds do not deceive me for several reasons beyond the scope of the post) </li><li>  Already ready scripts of behavior on C # can be reused, for example, when creating a port of a game on XBox using XNA (with changes, but still) </li><li>  Convenient interface and not too voracious editors </li><li>  Reasonable price </li></ul><br>  Of course, there are also disadvantages, but it is not for them, because the advantages ultimately outweighed. <br><br>  Scripting is based on the UniSciTE based <a href="http://www.scintilla.org/">Scintilla</a> editor, which I personally didn‚Äôt like, and therefore I immediately wanted to use the good old Visual Studio.  Here's how to script in C # will be discussed below: <br><br>  [upd: transferred to Game Development] <br><br><a name="habracut"></a><br><br>  The current version of Unity is 2.6.1, and there are no problems with it with integration with Visual Studio - just right-click in the project browser window and select the appropriate menu item.  After that, Unity will create a solution, and if it has already been created, it will update it.  The project will already contain links to the used UnityEditor and UnityEngine libraries, and all files with scripts (regardless of language) will be added to the project. <br><img src="http://img715.imageshack.us/img715/1381/img1vj.png" alt="VisualStudio"><br><br>  What to keep in mind: <br><br><ul><li>  Each separate script is a class that describes the behavior of the game entity.  For example, the fact that the entity ‚Äúwet‚Äù when touched increases the level of humidity by 3. Then in the game editor we screw this essence to a specific pool - and when it enters it, the level of humidity will increase.  Each such class must be inherited from the UnityEngine.MonoBehaviour class, and if this is implied in js scripts, then it must be explicitly specified in C #. </li><li>  Unity does not digest namespaces.  In the future they promise to fix it, but for now. </li><li>  The class name and script file name must match.  If you create a class through Visual Studio, do not forget to take the namespace And inherit the class from MonoBehaviour (do not forget using it too).  If you create a class through Unity, then by default it will be called NewBehaviourScript, do not forget to rename both the script file and the class name. </li></ul><br>  To describe other subtleties, I‚Äôll come with an example of a simple script that comes with the engine and allows you to move as in FPS, that is, wasd + space for a jump + mouse.  To prevent the user's avatar from falling below the floor, it must be wrapped into a simple collider, the CharacterController, which should stick to the game object automatically when the FPSWalker entity is applied to it. <br><br><blockquote> <code><font color="#006600">//  </font> &lt;br/&gt; <br> <font color="#003366">var</font> speed <font color="#339933">=</font> <font color="#CC0000">6.0</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#003366">var</font> jumpSpeed <font color="#339933">=</font> <font color="#CC0000">8.0</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#003366">var</font> gravity <font color="#339933">=</font> <font color="#CC0000">20.0</font> <font color="#339933">;</font> &lt;br/&gt; <br> &lt;br/&gt; <br> <font color="#006600">// </font> &lt;br/&gt; <br> <font color="#003366">private</font> <font color="#003366">var</font> moveDirection <font color="#339933">=</font> Vector3. <font color="#660066">zero</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#003366">private</font> <font color="#003366">var</font> grounded <font color="#339933">:</font> boolean <font color="#339933">=</font> <font color="#003366">false</font> <font color="#339933">;</font> &lt;br/&gt; <br> &lt;br/&gt; <br> <font color="#006600">//  </font> &lt;br/&gt; <br> <font color="#003366">function</font> FixedUpdate <font color="#009900">(</font> <font color="#009900">)</font> <font color="#009900">{</font> &lt;br/&gt; <br> <font color="#006600">//  </font> &lt;br/&gt; <br> <font color="#000066">if</font> <font color="#009900">(</font> grounded <font color="#009900">)</font> <font color="#009900">{</font> &lt;br/&gt; <br> <font color="#006600">//  </font> &lt;br/&gt; <br> moveDirection <font color="#339933">=</font> <font color="#003366">new</font> Vector3 <font color="#009900">(</font> Input. <font color="#660066">GetAxis</font> <font color="#009900">(</font> <font color="#3366CC">"Horizontal"</font> <font color="#009900">)</font> <font color="#339933">,</font> <font color="#CC0000">0</font> <font color="#339933">,</font> Input. <font color="#660066">GetAxis</font> <font color="#009900">(</font> <font color="#3366CC">"Vertical"</font> <font color="#009900">)</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#006600">//   </font> &lt;br/&gt; <br> moveDirection <font color="#339933">=</font> transform. <font color="#660066">TransformDirection</font> <font color="#009900">(</font> moveDirection <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#006600">//  </font> &lt;br/&gt; <br> moveDirection <font color="#339933">*=</font> speed <font color="#339933">;</font> &lt;br/&gt; <br> &lt;br/&gt; <br> <font color="#006600">//   - </font> &lt;br/&gt; <br> <font color="#000066">if</font> <font color="#009900">(</font> Input. <font color="#660066">GetButton</font> <font color="#009900">(</font> <font color="#3366CC">"Jump"</font> <font color="#009900">)</font> <font color="#009900">)</font> <font color="#009900">{</font> &lt;br/&gt; <br> moveDirection. <font color="#660066">y</font> <font color="#339933">=</font> jumpSpeed <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#009900">}</font> &lt;br/&gt; <br> <font color="#009900">}</font> &lt;br/&gt; <br> &lt;br/&gt; <br> <font color="#006600">// </font> &lt;br/&gt; <br> moveDirection. <font color="#660066">y</font> <font color="#339933">-=</font> gravity <font color="#339933">*</font> Time. <font color="#660066">deltaTime</font> <font color="#339933">;</font> &lt;br/&gt; <br> &lt;br/&gt; <br> <font color="#006600">// </font> &lt;br/&gt; <br> <font color="#003366">var</font> controller <font color="#339933">:</font> CharacterController <font color="#339933">=</font> GetComponent <font color="#009900">(</font> CharacterController <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#006600">//</font> &lt;br/&gt; <br> <font color="#003366">var</font> flags <font color="#339933">=</font> controller. <font color="#660066">Move</font> <font color="#009900">(</font> moveDirection <font color="#339933">*</font> Time. <font color="#660066">deltaTime</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#006600">// ,    </font> &lt;br/&gt; <br> grounded <font color="#339933">=</font> <font color="#009900">(</font> flags <font color="#339933">&amp;</font> CollisionFlags. <font color="#660066">CollidedBelow</font> <font color="#009900">)</font> <font color="#339933">!= 0</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#009900">}</font> &lt;br/&gt; <br> <font color="#006600">// ,       ,       CharacterController</font> &lt;br/&gt; <br> <font color="#339933">@</font> script RequireComponent <font color="#009900">(</font> CharacterController <font color="#009900">)</font> <br></code> </blockquote> <code><font color="#006600">//  </font> &lt;br/&gt; <br> <font color="#003366">var</font> speed <font color="#339933">=</font> <font color="#CC0000">6.0</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#003366">var</font> jumpSpeed <font color="#339933">=</font> <font color="#CC0000">8.0</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#003366">var</font> gravity <font color="#339933">=</font> <font color="#CC0000">20.0</font> <font color="#339933">;</font> &lt;br/&gt; <br> &lt;br/&gt; <br> <font color="#006600">// </font> &lt;br/&gt; <br> <font color="#003366">private</font> <font color="#003366">var</font> moveDirection <font color="#339933">=</font> Vector3. <font color="#660066">zero</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#003366">private</font> <font color="#003366">var</font> grounded <font color="#339933">:</font> boolean <font color="#339933">=</font> <font color="#003366">false</font> <font color="#339933">;</font> &lt;br/&gt; <br> &lt;br/&gt; <br> <font color="#006600">//  </font> &lt;br/&gt; <br> <font color="#003366">function</font> FixedUpdate <font color="#009900">(</font> <font color="#009900">)</font> <font color="#009900">{</font> &lt;br/&gt; <br> <font color="#006600">//  </font> &lt;br/&gt; <br> <font color="#000066">if</font> <font color="#009900">(</font> grounded <font color="#009900">)</font> <font color="#009900">{</font> &lt;br/&gt; <br> <font color="#006600">//  </font> &lt;br/&gt; <br> moveDirection <font color="#339933">=</font> <font color="#003366">new</font> Vector3 <font color="#009900">(</font> Input. <font color="#660066">GetAxis</font> <font color="#009900">(</font> <font color="#3366CC">"Horizontal"</font> <font color="#009900">)</font> <font color="#339933">,</font> <font color="#CC0000">0</font> <font color="#339933">,</font> Input. <font color="#660066">GetAxis</font> <font color="#009900">(</font> <font color="#3366CC">"Vertical"</font> <font color="#009900">)</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#006600">//   </font> &lt;br/&gt; <br> moveDirection <font color="#339933">=</font> transform. <font color="#660066">TransformDirection</font> <font color="#009900">(</font> moveDirection <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#006600">//  </font> &lt;br/&gt; <br> moveDirection <font color="#339933">*=</font> speed <font color="#339933">;</font> &lt;br/&gt; <br> &lt;br/&gt; <br> <font color="#006600">//   - </font> &lt;br/&gt; <br> <font color="#000066">if</font> <font color="#009900">(</font> Input. <font color="#660066">GetButton</font> <font color="#009900">(</font> <font color="#3366CC">"Jump"</font> <font color="#009900">)</font> <font color="#009900">)</font> <font color="#009900">{</font> &lt;br/&gt; <br> moveDirection. <font color="#660066">y</font> <font color="#339933">=</font> jumpSpeed <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#009900">}</font> &lt;br/&gt; <br> <font color="#009900">}</font> &lt;br/&gt; <br> &lt;br/&gt; <br> <font color="#006600">// </font> &lt;br/&gt; <br> moveDirection. <font color="#660066">y</font> <font color="#339933">-=</font> gravity <font color="#339933">*</font> Time. <font color="#660066">deltaTime</font> <font color="#339933">;</font> &lt;br/&gt; <br> &lt;br/&gt; <br> <font color="#006600">// </font> &lt;br/&gt; <br> <font color="#003366">var</font> controller <font color="#339933">:</font> CharacterController <font color="#339933">=</font> GetComponent <font color="#009900">(</font> CharacterController <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#006600">//</font> &lt;br/&gt; <br> <font color="#003366">var</font> flags <font color="#339933">=</font> controller. <font color="#660066">Move</font> <font color="#009900">(</font> moveDirection <font color="#339933">*</font> Time. <font color="#660066">deltaTime</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#006600">// ,    </font> &lt;br/&gt; <br> grounded <font color="#339933">=</font> <font color="#009900">(</font> flags <font color="#339933">&amp;</font> CollisionFlags. <font color="#660066">CollidedBelow</font> <font color="#009900">)</font> <font color="#339933">!= 0</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#009900">}</font> &lt;br/&gt; <br> <font color="#006600">// ,       ,       CharacterController</font> &lt;br/&gt; <br> <font color="#339933">@</font> script RequireComponent <font color="#009900">(</font> CharacterController <font color="#009900">)</font> <br></code> <br>  So, when translating this script into C #, in addition to the above, you should consider: <br><ul><li>  Do you want the parameter values ‚Äã‚Äãto be changed in the game editor?  Then make them public. <br><img src="http://img514.imageshack.us/img514/5527/img2v.png" alt="editor"></li><li>  Do not confuse the CharacterController class and its typeof type (CharacterController) </li><li>  instructions like "@script RequireComponent (CharacterController)" are converted to class attributes - [RequireComponent (typeof (CharacterController))] </li><li>  Floating comma is represented by float, even the vector cannot be doubled =) </li><li>  In js, it was not necessary to explicitly cast types.  C # is <b>not like that!</b> </li><li>  And if you need to initialize something complicated, use the ready-made functions Awake () and Start (), overloading the MonoBehaviour constructor is not recommended </li></ul><br>  After applying all these simple rules, our class looks like this: <br><br><blockquote> <code><font color="#0600FF">using</font> <font color="#008080">UnityEngine</font> <font color="#008000">;</font> &lt;br/&gt; <br> &lt;br/&gt; <br> <font color="#008080">//   </font> &lt;br/&gt; <br> <font color="#000000">[</font> RequireComponent <font color="#000000">(</font> <font color="#008000">typeof</font> <font color="#000000">(</font> CharacterController <font color="#000000">)</font> <font color="#000000">)</font> <font color="#000000">]</font> &lt;br/&gt; <br> <font color="#008080">//        </font> &lt;br/&gt; <br> <font color="#0600FF">public</font> <font color="#FF0000">class</font> FPSWalkerInCS <font color="#008000">:</font> MonoBehaviour <font color="#000000">{</font> &lt;br/&gt; <br> <font color="#008080">//    ,    float</font> &lt;br/&gt; <br> <font color="#0600FF">public</font> <font color="#FF0000">float</font> speed <font color="#008000">=</font> 6.0f <font color="#008000">;</font> &lt;br/&gt; <br> <font color="#0600FF">public</font> <font color="#FF0000">float</font> jumpSpeed <font color="#008000">=</font> 8.0f <font color="#008000">;</font> &lt;br/&gt; <br> <font color="#0600FF">public</font> <font color="#FF0000">float</font> gravity <font color="#008000">=</font> 20.0f <font color="#008000">;</font> &lt;br/&gt; <br> <font color="#008080">//  -  </font> &lt;br/&gt; <br> <font color="#0600FF">private</font> Vector3 moveDirection <font color="#008000">=</font> Vector3. <font color="#0000FF">zero</font> <font color="#008000">;</font> &lt;br/&gt; <br> <font color="#0600FF">private</font> <font color="#FF0000">bool</font> grounded <font color="#008000">=</font> false <font color="#008000">;</font> &lt;br/&gt; <br> &lt;br/&gt; <br> <font color="#008080">//  </font> &lt;br/&gt; <br> <font color="#0600FF">void</font> Start <font color="#000000">(</font> <font color="#000000">)</font> <font color="#000000">{</font> &lt;br/&gt; <br> &lt;br/&gt; <br> <font color="#000000">}</font> &lt;br/&gt; <br> &lt;br/&gt; <br> <font color="#0600FF">void</font> FixedUpdate <font color="#000000">(</font> <font color="#000000">)</font> <font color="#000000">{</font> &lt;br/&gt; <br> <font color="#0600FF">if</font> <font color="#000000">(</font> grounded <font color="#000000">)</font> <font color="#000000">{</font> &lt;br/&gt; <br> moveDirection <font color="#008000">=</font> <font color="#008000">new</font> Vector3 <font color="#000000">(</font> Input. <font color="#0000FF">GetAxis</font> <font color="#000000">(</font> <font color="#666666">"Horizontal"</font> <font color="#000000">)</font> , <font color="#FF0000">0</font> , Input. <font color="#0000FF">GetAxis</font> <font color="#000000">(</font> <font color="#666666">"Vertical"</font> <font color="#000000">)</font> <font color="#000000">)</font> <font color="#008000">;</font> &lt;br/&gt; <br> moveDirection <font color="#008000">=</font> transform. <font color="#0000FF">TransformDirection</font> <font color="#000000">(</font> moveDirection <font color="#000000">)</font> <font color="#008000">;</font> &lt;br/&gt; <br> moveDirection <font color="#008000">*=</font> speed <font color="#008000">;</font> &lt;br/&gt; <br> &lt;br/&gt; <br> <font color="#0600FF">if</font> <font color="#000000">(</font> Input. <font color="#0000FF">GetButton</font> <font color="#000000">(</font> <font color="#666666">"Jump"</font> <font color="#000000">)</font> <font color="#000000">)</font> <font color="#000000">{</font> &lt;br/&gt; <br> moveDirection. <font color="#0000FF">y</font> <font color="#008000">=</font> jumpSpeed <font color="#008000">;</font> &lt;br/&gt; <br> <font color="#000000">}</font> &lt;br/&gt; <br> <font color="#000000">}</font> &lt;br/&gt; <br> &lt;br/&gt; <br> moveDirection. <font color="#0000FF">y</font> <font color="#008000">-=</font> gravity <font color="#008000">*</font> Time. <font color="#0000FF">deltaTime</font> <font color="#008000">;</font> &lt;br/&gt; <br> <font color="#008080">//   </font> &lt;br/&gt; <br> CharacterController controller <font color="#008000">=</font> <font color="#000000">(</font> CharacterController <font color="#000000">)</font> GetComponent <font color="#000000">(</font> <font color="#008000">typeof</font> <font color="#000000">(</font> CharacterController <font color="#000000">)</font> <font color="#000000">)</font> <font color="#008000">;</font> &lt;br/&gt; <br> CollisionFlags flags <font color="#008000">=</font> controller. <font color="#0000FF">Move</font> <font color="#000000">(</font> moveDirection <font color="#008000">*</font> Time. <font color="#0000FF">deltaTime</font> <font color="#000000">)</font> <font color="#008000">;</font> &lt;br/&gt; <br> grounded <font color="#008000">=</font> <font color="#000000">(</font> flags <font color="#008000">&amp;</font> CollisionFlags. <font color="#0000FF">CollidedBelow</font> <font color="#000000">)</font> <font color="#008000">!= 0</font> <font color="#008000">;</font> &lt;br/&gt; <br> <font color="#000000">}</font> &lt;br/&gt; <br> <font color="#000000">}</font> <br></code> </blockquote> <code><font color="#0600FF">using</font> <font color="#008080">UnityEngine</font> <font color="#008000">;</font> &lt;br/&gt; <br> &lt;br/&gt; <br> <font color="#008080">//   </font> &lt;br/&gt; <br> <font color="#000000">[</font> RequireComponent <font color="#000000">(</font> <font color="#008000">typeof</font> <font color="#000000">(</font> CharacterController <font color="#000000">)</font> <font color="#000000">)</font> <font color="#000000">]</font> &lt;br/&gt; <br> <font color="#008080">//        </font> &lt;br/&gt; <br> <font color="#0600FF">public</font> <font color="#FF0000">class</font> FPSWalkerInCS <font color="#008000">:</font> MonoBehaviour <font color="#000000">{</font> &lt;br/&gt; <br> <font color="#008080">//    ,    float</font> &lt;br/&gt; <br> <font color="#0600FF">public</font> <font color="#FF0000">float</font> speed <font color="#008000">=</font> 6.0f <font color="#008000">;</font> &lt;br/&gt; <br> <font color="#0600FF">public</font> <font color="#FF0000">float</font> jumpSpeed <font color="#008000">=</font> 8.0f <font color="#008000">;</font> &lt;br/&gt; <br> <font color="#0600FF">public</font> <font color="#FF0000">float</font> gravity <font color="#008000">=</font> 20.0f <font color="#008000">;</font> &lt;br/&gt; <br> <font color="#008080">//  -  </font> &lt;br/&gt; <br> <font color="#0600FF">private</font> Vector3 moveDirection <font color="#008000">=</font> Vector3. <font color="#0000FF">zero</font> <font color="#008000">;</font> &lt;br/&gt; <br> <font color="#0600FF">private</font> <font color="#FF0000">bool</font> grounded <font color="#008000">=</font> false <font color="#008000">;</font> &lt;br/&gt; <br> &lt;br/&gt; <br> <font color="#008080">//  </font> &lt;br/&gt; <br> <font color="#0600FF">void</font> Start <font color="#000000">(</font> <font color="#000000">)</font> <font color="#000000">{</font> &lt;br/&gt; <br> &lt;br/&gt; <br> <font color="#000000">}</font> &lt;br/&gt; <br> &lt;br/&gt; <br> <font color="#0600FF">void</font> FixedUpdate <font color="#000000">(</font> <font color="#000000">)</font> <font color="#000000">{</font> &lt;br/&gt; <br> <font color="#0600FF">if</font> <font color="#000000">(</font> grounded <font color="#000000">)</font> <font color="#000000">{</font> &lt;br/&gt; <br> moveDirection <font color="#008000">=</font> <font color="#008000">new</font> Vector3 <font color="#000000">(</font> Input. <font color="#0000FF">GetAxis</font> <font color="#000000">(</font> <font color="#666666">"Horizontal"</font> <font color="#000000">)</font> , <font color="#FF0000">0</font> , Input. <font color="#0000FF">GetAxis</font> <font color="#000000">(</font> <font color="#666666">"Vertical"</font> <font color="#000000">)</font> <font color="#000000">)</font> <font color="#008000">;</font> &lt;br/&gt; <br> moveDirection <font color="#008000">=</font> transform. <font color="#0000FF">TransformDirection</font> <font color="#000000">(</font> moveDirection <font color="#000000">)</font> <font color="#008000">;</font> &lt;br/&gt; <br> moveDirection <font color="#008000">*=</font> speed <font color="#008000">;</font> &lt;br/&gt; <br> &lt;br/&gt; <br> <font color="#0600FF">if</font> <font color="#000000">(</font> Input. <font color="#0000FF">GetButton</font> <font color="#000000">(</font> <font color="#666666">"Jump"</font> <font color="#000000">)</font> <font color="#000000">)</font> <font color="#000000">{</font> &lt;br/&gt; <br> moveDirection. <font color="#0000FF">y</font> <font color="#008000">=</font> jumpSpeed <font color="#008000">;</font> &lt;br/&gt; <br> <font color="#000000">}</font> &lt;br/&gt; <br> <font color="#000000">}</font> &lt;br/&gt; <br> &lt;br/&gt; <br> moveDirection. <font color="#0000FF">y</font> <font color="#008000">-=</font> gravity <font color="#008000">*</font> Time. <font color="#0000FF">deltaTime</font> <font color="#008000">;</font> &lt;br/&gt; <br> <font color="#008080">//   </font> &lt;br/&gt; <br> CharacterController controller <font color="#008000">=</font> <font color="#000000">(</font> CharacterController <font color="#000000">)</font> GetComponent <font color="#000000">(</font> <font color="#008000">typeof</font> <font color="#000000">(</font> CharacterController <font color="#000000">)</font> <font color="#000000">)</font> <font color="#008000">;</font> &lt;br/&gt; <br> CollisionFlags flags <font color="#008000">=</font> controller. <font color="#0000FF">Move</font> <font color="#000000">(</font> moveDirection <font color="#008000">*</font> Time. <font color="#0000FF">deltaTime</font> <font color="#000000">)</font> <font color="#008000">;</font> &lt;br/&gt; <br> grounded <font color="#008000">=</font> <font color="#000000">(</font> flags <font color="#008000">&amp;</font> CollisionFlags. <font color="#0000FF">CollidedBelow</font> <font color="#000000">)</font> <font color="#008000">!= 0</font> <font color="#008000">;</font> &lt;br/&gt; <br> <font color="#000000">}</font> &lt;br/&gt; <br> <font color="#000000">}</font> <br></code> <br>  All class is ready. </div><p>Source: <a href="https://habr.com/ru/post/86456/">https://habr.com/ru/post/86456/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../86449/index.html">SmsPod.ru - mobile groups</a></li>
<li><a href="../86450/index.html">Where to get electronic components</a></li>
<li><a href="../86451/index.html">Caliber program. Library management and universal e-book converter</a></li>
<li><a href="../86452/index.html">"\" at the end of a line in C / C ++</a></li>
<li><a href="../86453/index.html">Create a theme for Drupal 6. Part 1</a></li>
<li><a href="../86457/index.html">German scientists have learned to speak in silence</a></li>
<li><a href="../86459/index.html">I learned a lot about myself and us! Now what to do with it? !!!</a></li>
<li><a href="../86460/index.html">Create a theme for Drupal. Part 2</a></li>
<li><a href="../86462/index.html">Nexuiz on XBox and PS3 game consoles</a></li>
<li><a href="../86463/index.html">Create a theme for Drupal. Part 3</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>