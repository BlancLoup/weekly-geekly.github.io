<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Step-by-step algorithm for creating a PHP site architecture</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Disclaimer : this text made me write the almost complete lack of imputed materials on this topic in Russian. This is badly taught in universities, the...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Step-by-step algorithm for creating a PHP site architecture</h1><div class="post__text post__text-html js-mediator-article">  <i><b>Disclaimer</b> : this text made me write the almost complete lack of imputed materials on this topic in Russian.</i>  <i>This is badly taught in universities, the PHP tutorials and the official manual are silent about this, although this is the most important point in developing a program - the creation of an architecture.</i>  <i>Bad architecture can kill your project, so it will never see the light.</i>  <i>Good architecture, even with bad code, and which of the newbies writes good code, can work wonders.</i> <br><br>  The development of the architecture should begin at the moment when the idea ‚ÄúI want a site of such and such‚Äù or someone has put in the idea of ‚Äã‚Äã‚Äúwe need a site of such and such‚Äù has occurred to you.  Unfortunately, most developers immediately begin writing code, and not even the one that is needed. <br><br>  Before writing the code, arm yourself with a piece of paper with a pen, wordpad, Word, writer or even your code editor and follow a couple of steps. <br><a name="habracut"></a><br><h4>  Step 1. Setting the main task </h4><br>  The architecture is developed from top to bottom.  What does it mean?  This means that you first think through the most important subsystems before proceeding with servicing them or more technical ones. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Many programmers start developing websites from routers, connecting to the database, and handling errors, which leads to the need to rewrite their code in the future or a rich insertion into the code of crutches as soon as they stumble upon what they could not foresee. <br><br>  It is impossible to foresee everything, and for this it is necessary to develop a system from top to bottom.  The presence of working high-level classes almost automatically determines all the necessary requirements for the service staff. <br><br>  This is not the only method, but I know from experience that the most optimal for those who do not feel like fish in water among design patterns or even do not know about them at all. <br><br>  So, you need a blog, an online store, a dental clinic website. <br><br>  <b>Decide that your site is the most important thing for which everything is started.</b> <br><br>  For a blog, these are obviously posts.  For the store - the goods.  For the site clinics - services. <br><br>  We can already write some code from which the development of the site will begin: <br><br><pre><code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">  </span></span>{ }</code> </pre> <br>  or class goods {}, or class services {} <br><br>  This is your main subsystem.  Immediately you can write exactly what it will manage. <br><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">  </span></span>{ }</code> </pre><br>  or class goods {}, or class service {} <br><br><h4>  Step 2. Determine what your system can do </h4><br>  We have created the main subsystem "records".  The next step: determine what it will be able to do, what we want to teach our site. <br><br>  Obviously, she should be able to create entries, delete entries and get entries. <br><br>  Forget that you write the code of the site, forget about the users, url-addresses, page layout.  Work with bare data: strings, numbers, arrays, objects. <br><br>  Write the code: <br><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">  </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_</span></span></span><span class="hljs-function"></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{} punlic <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_</span></span></span><span class="hljs-function"></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{} <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_</span></span></span><span class="hljs-function"></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{} }</code> </pre><br><br><h4>  Step 3. Understand what we are dealing with. </h4><br>  What is a record?  What is a service?  What is a product?  For you, as a programmer, this is just a collection of data.  In the third step, determine what kind of aggregate. <br><br>  Do not seek to foresee everything that will be needed sometime in the future.  Take the most minimal set.  To do this, we are building the architecture of the application so that it can be easily extended in the future. <br><br>  Obviously, the record is the title and text of the record.  Service and product - the name, description and price. <br><br>  A computer is not a very clever creation, compared to a person, you cannot tell him: ‚Äúbut show me the record, the one where it‚Äôs written about the green kitten‚Äù, so he always needs some kind of unique code so that he is among the many records learned exactly the one you want. <br><br>  This is either a sequence number (id), unique for each entry, or some unique string value. <br><br>  So our entry is the entry identifier (id), title, text. <br><br>  We don't need anything else. <br><br><h4>  Step 4. Determining the required knowledge </h4><br>  Now for each action of the system we need to understand what the system needs to know in order to perform this action. <br><br>  For the action "create-record" you need to know the title and text of the record.  The internal identifier is needed only by the computer, so let him invent it himself. <br><br>  For the actions ‚Äúdelete-record‚Äù and ‚Äúget-record‚Äù, you only need to know the record identifier that was assigned to it by the computer when it was created. <br><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">  </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_</span></span></span><span class="hljs-function"></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($, $)</span></span></span><span class="hljs-function"> </span></span>{} punlic <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_</span></span></span><span class="hljs-function"></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($)</span></span></span><span class="hljs-function"> </span></span>{} <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_</span></span></span><span class="hljs-function"></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($)</span></span></span><span class="hljs-function"> </span></span>{} }</code> </pre><br>  What happened is called the interface of your class / module / subsystem. <br><br><h4>  Step 5. Determination of results </h4><br>  Also, as we learned the necessary knowledge to perform a particular action, we need to understand how these actions will end. <br><br>  If the computer has succeeded, then <br><ul><li>  create_write: a new record will be created, and we will get its identifier. </li><li>  delete_record: the specific record will be deleted, and we will get the message 'ready' </li><li>  get_record: get the desired record </li></ul><br><br>  If the computer does not work, then <br><ul><li>  create_log: an exception will be thrown. </li><li>  delete_record: exception will be thrown </li><li>  get_record: exception will be thrown </li></ul><br><br>  For all situations when something doesn‚Äôt work, the behavior of the program should be the same in all modules / classes / subsystems of your system.  PHP provides only two options: trigger_error and throw new Exception.  You can come up with your own, but do not reinvent the bikes until you have learned how to ride existing ones.  throw new Exception is the best option. <br><br>  Read the section " <a href="http://docs.php.net/manual/ru/language.exceptions.php">exceptions</a> " in the official manual. <br><br><h4>  Step 6. From the beginning again </h4><br>  In the first step, in addition to creating a records management system, we also created a class for the record itself: class record {} <br><br>  For it you need to do the same thing as for the main one, the same steps from 1 to 5. <br><br>  If you did everything right, then you should have something similar. <br><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">  </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_</span></span></span><span class="hljs-function"></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{} <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_</span></span></span><span class="hljs-function"></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{} punlic <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_</span></span></span><span class="hljs-function"></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{} <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_</span></span></span><span class="hljs-function"></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($_)</span></span></span><span class="hljs-function"> </span></span>{} <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_</span></span></span><span class="hljs-function"></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($_)</span></span></span><span class="hljs-function"> </span></span>{} }</code> </pre><br><br><h4>  Step 7. Write the code </h4><br>  Now, when everything is created, you can start coding.  If you are familiar with PHP no problems you will not have. <br><br>  How much time was spent?  Just a little bit, and still feel in the future all the benefits of what happened. <br><br>  What you will end up hiding under the letter M in the terrible abbreviation MVC. <br><br><h4>  Conclusion </h4><br>  I did not take into account many nuances, they will be enough for ten of the same articles, but the basis for your development is already there.  These are the very basics and in any case it is better than interfering with PHP and HTML in one file or generating a bunch of functions as you write code. <br><br>  CM sorted out.  As for V and C. This is a topic for other articles.  Therefore, in brief.  If you are smart enough, then you will not need other articles. <br><br>  C is the place where the system responds to user actions.  That's where you need to think what the user will do.  The user wanted to create a blog entry, filled out the creation form, and you have everything ready to execute his command.  Wanted to read the record and again you fulfill his request in one line.  There the main task (step 1) is to understand what the user wants. <br><br>  V - learn any template maker: Smarty or Twig.  There is a lot of controversy about whether to use template engines or not, many convincing arguments on both sides.  The truth is that it‚Äôs unforgivable for a web developer not to be able to work with template engines.  Therefore, master them, and then refuse, if you do not like it. <br><br>  As noted above, in Russian there is almost no decent literature on this topic. <br>  The only book that I can advise to read: Steve McConnell "Perfect Code". <br><br>  If someone knows other materials, throw a link at me.  I am pleased to read and will recommend to beginners. </div><p>Source: <a href="https://habr.com/ru/post/247495/">https://habr.com/ru/post/247495/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../247483/index.html">Dnipropetrovsk Discussion Meetup: CQRS Problem / Solution</a></li>
<li><a href="../247487/index.html">Why vi-ax programmer 21st century</a></li>
<li><a href="../247489/index.html">The first experience of developing iOS applications and thinking about marketing and advertising</a></li>
<li><a href="../247491/index.html">We make shipped assemblies: we interact between domains without marshalling</a></li>
<li><a href="../247493/index.html">01 Links for UX-specialists</a></li>
<li><a href="../247501/index.html">The first screenshots of the new Spartan web browser from Microsoft</a></li>
<li><a href="../247505/index.html">Correct polyhedra. Part 2. Foursome</a></li>
<li><a href="../247507/index.html">Command line interpreter on the microcontroller with your own hands</a></li>
<li><a href="../247509/index.html">Lightweight library for Warning messages from javac via annotation</a></li>
<li><a href="../247511/index.html">Crowdfunding campaign OpenMandriva on IndieGoGo</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>