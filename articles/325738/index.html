<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Why a lot of JOIN in the query is bad or do not interfere with the optimizer</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recently faced with one application that generated queries to the database. I understand that this will not surprise anyone, but when the application ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Why a lot of JOIN in the query is bad or do not interfere with the optimizer</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="http://i0.wp.com/www.fmct.ca/wp/wp-content/uploads/2014/04/joinus.png" alt="image"></div><br>  Recently faced with one application that generated queries to the database.  I understand that this will not surprise anyone, but when the application began to slow down and I was asked to understand what was the reason, I was very surprised to find these requests.  This is what SQL Server sometimes has to deal with: <br><a name="habracut"></a><br><pre><code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">COUNT</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">DISTINCT</span></span> <span class="hljs-string"><span class="hljs-string">"pr"</span></span>.<span class="hljs-string"><span class="hljs-string">"id"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> (((((((((((((((((<span class="hljs-string"><span class="hljs-string">"SomeTable"</span></span> <span class="hljs-string"><span class="hljs-string">"pr"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">LEFT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OUTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> <span class="hljs-string"><span class="hljs-string">"SomeTable1698"</span></span> <span class="hljs-string"><span class="hljs-string">"uf_pr_id_698"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> <span class="hljs-string"><span class="hljs-string">"uf_pr_id_698"</span></span>.<span class="hljs-string"><span class="hljs-string">"request"</span></span> = <span class="hljs-string"><span class="hljs-string">"pr"</span></span>.<span class="hljs-string"><span class="hljs-string">"id"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">LEFT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OUTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> <span class="hljs-string"><span class="hljs-string">"SomeTable1700"</span></span> <span class="hljs-string"><span class="hljs-string">"ufref3737_i2"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> <span class="hljs-string"><span class="hljs-string">"ufref3737_i2"</span></span>.<span class="hljs-string"><span class="hljs-string">"request"</span></span> = <span class="hljs-string"><span class="hljs-string">"pr"</span></span>.<span class="hljs-string"><span class="hljs-string">"id"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">LEFT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OUTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> <span class="hljs-string"><span class="hljs-string">"SomeTable1666"</span></span> <span class="hljs-string"><span class="hljs-string">"x0"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> <span class="hljs-string"><span class="hljs-string">"x0"</span></span>.<span class="hljs-string"><span class="hljs-string">"request"</span></span> = <span class="hljs-string"><span class="hljs-string">"ufref3737_i2"</span></span>.<span class="hljs-string"><span class="hljs-string">"f6_callerper"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">LEFT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OUTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> <span class="hljs-string"><span class="hljs-string">"SomeTable1666"</span></span> <span class="hljs-string"><span class="hljs-string">"uf_ufref4646_i3_f58__666"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> <span class="hljs-string"><span class="hljs-string">"uf_ufref4646_i3_f58__666"</span></span>.<span class="hljs-string"><span class="hljs-string">"request"</span></span> = <span class="hljs-string"><span class="hljs-string">"ufref3737_i2"</span></span>.<span class="hljs-string"><span class="hljs-string">"f58_"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">LEFT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OUTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> <span class="hljs-string"><span class="hljs-string">"SomeTable1694"</span></span> <span class="hljs-string"><span class="hljs-string">"x1"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> <span class="hljs-string"><span class="hljs-string">"x1"</span></span>.<span class="hljs-string"><span class="hljs-string">"request"</span></span> = <span class="hljs-string"><span class="hljs-string">"ufref3737_i2"</span></span>.<span class="hljs-string"><span class="hljs-string">"f38_servicep"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">LEFT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OUTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> <span class="hljs-string"><span class="hljs-string">"SomeTable3754"</span></span> <span class="hljs-string"><span class="hljs-string">"ufref3754_i12"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> <span class="hljs-string"><span class="hljs-string">"pr"</span></span>.<span class="hljs-string"><span class="hljs-string">"id"</span></span> = <span class="hljs-string"><span class="hljs-string">"ufref3754_i12"</span></span>.<span class="hljs-string"><span class="hljs-string">"request"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">LEFT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OUTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> <span class="hljs-string"><span class="hljs-string">"SomeTable1698"</span></span> <span class="hljs-string"><span class="hljs-string">"uf_ufref3754_i12_reference_698"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> <span class="hljs-string"><span class="hljs-string">"uf_ufref3754_i12_reference_698"</span></span>.<span class="hljs-string"><span class="hljs-string">"request"</span></span> = <span class="hljs-string"><span class="hljs-string">"ufref3754_i12"</span></span>.<span class="hljs-string"><span class="hljs-string">"reference"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">LEFT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OUTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> <span class="hljs-string"><span class="hljs-string">"SomeTable1698"</span></span> <span class="hljs-string"><span class="hljs-string">"x2"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> <span class="hljs-string"><span class="hljs-string">"x2"</span></span>.<span class="hljs-string"><span class="hljs-string">"request"</span></span> = <span class="hljs-string"><span class="hljs-string">"ufref3737_i2"</span></span>.<span class="hljs-string"><span class="hljs-string">"f34_parentse"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">LEFT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OUTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> <span class="hljs-string"><span class="hljs-string">"SomeTable4128"</span></span> <span class="hljs-string"><span class="hljs-string">"ufref3779_4128_i14"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> <span class="hljs-string"><span class="hljs-string">"ufref3737_i2"</span></span>.<span class="hljs-string"><span class="hljs-string">"f34_parentse"</span></span> = <span class="hljs-string"><span class="hljs-string">"ufref3779_4128_i14"</span></span>.<span class="hljs-string"><span class="hljs-string">"request"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">LEFT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OUTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> <span class="hljs-string"><span class="hljs-string">"SomeTable1859"</span></span> <span class="hljs-string"><span class="hljs-string">"x3"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> <span class="hljs-string"><span class="hljs-string">"x3"</span></span>.<span class="hljs-string"><span class="hljs-string">"request"</span></span> = <span class="hljs-string"><span class="hljs-string">"ufref3779_4128_i14"</span></span>.<span class="hljs-string"><span class="hljs-string">"reference"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">LEFT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OUTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> <span class="hljs-string"><span class="hljs-string">"SomeTable3758"</span></span> <span class="hljs-string"><span class="hljs-string">"ufref3758_i15"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> <span class="hljs-string"><span class="hljs-string">"pr"</span></span>.<span class="hljs-string"><span class="hljs-string">"id"</span></span> = <span class="hljs-string"><span class="hljs-string">"ufref3758_i15"</span></span>.<span class="hljs-string"><span class="hljs-string">"request"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">LEFT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OUTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> <span class="hljs-string"><span class="hljs-string">"SomeTable1698"</span></span> <span class="hljs-string"><span class="hljs-string">"uf_ufref3758_i15_reference_698"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> <span class="hljs-string"><span class="hljs-string">"uf_ufref3758_i15_reference_698"</span></span>.<span class="hljs-string"><span class="hljs-string">"request"</span></span> = <span class="hljs-string"><span class="hljs-string">"ufref3758_i15"</span></span>.<span class="hljs-string"><span class="hljs-string">"reference"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">LEFT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OUTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> <span class="hljs-string"><span class="hljs-string">"SomeTable3758"</span></span> <span class="hljs-string"><span class="hljs-string">"ufref3758_i16"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> <span class="hljs-string"><span class="hljs-string">"pr"</span></span>.<span class="hljs-string"><span class="hljs-string">"id"</span></span> = <span class="hljs-string"><span class="hljs-string">"ufref3758_i16"</span></span>.<span class="hljs-string"><span class="hljs-string">"request"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">LEFT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OUTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> <span class="hljs-string"><span class="hljs-string">"SomeTable4128"</span></span> <span class="hljs-string"><span class="hljs-string">"ufref3758_4128_i16"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> <span class="hljs-string"><span class="hljs-string">"ufref3758_i16"</span></span>.<span class="hljs-string"><span class="hljs-string">"reference"</span></span> = <span class="hljs-string"><span class="hljs-string">"ufref3758_4128_i16"</span></span>.<span class="hljs-string"><span class="hljs-string">"request"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">LEFT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OUTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> <span class="hljs-string"><span class="hljs-string">"SomeTable1859"</span></span> <span class="hljs-string"><span class="hljs-string">"x4"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> <span class="hljs-string"><span class="hljs-string">"x4"</span></span>.<span class="hljs-string"><span class="hljs-string">"request"</span></span> = <span class="hljs-string"><span class="hljs-string">"ufref3758_4128_i16"</span></span>.<span class="hljs-string"><span class="hljs-string">"reference"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">LEFT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OUTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> <span class="hljs-string"><span class="hljs-string">"SomeTable4128"</span></span> <span class="hljs-string"><span class="hljs-string">"ufref4128_i17"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> <span class="hljs-string"><span class="hljs-string">"pr"</span></span>.<span class="hljs-string"><span class="hljs-string">"id"</span></span> = <span class="hljs-string"><span class="hljs-string">"ufref4128_i17"</span></span>.<span class="hljs-string"><span class="hljs-string">"request"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">LEFT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OUTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> <span class="hljs-string"><span class="hljs-string">"SomeTable1859"</span></span> <span class="hljs-string"><span class="hljs-string">"uf_ufref4128_i17_reference_859"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> <span class="hljs-string"><span class="hljs-string">"uf_ufref4128_i17_reference_859"</span></span>.<span class="hljs-string"><span class="hljs-string">"request"</span></span> = <span class="hljs-string"><span class="hljs-string">"ufref4128_i17"</span></span>.<span class="hljs-string"><span class="hljs-string">"reference"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">LEFT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OUTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> <span class="hljs-string"><span class="hljs-string">"SomeTable1666"</span></span> <span class="hljs-string"><span class="hljs-string">"uf_ufref4667_i25_f69__666"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> <span class="hljs-string"><span class="hljs-string">"uf_ufref4667_i25_f69__666"</span></span>.<span class="hljs-string"><span class="hljs-string">"request"</span></span> = <span class="hljs-string"><span class="hljs-string">"uf_pr_id_698"</span></span>.<span class="hljs-string"><span class="hljs-string">"f69_"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> (<span class="hljs-string"><span class="hljs-string">"uf_pr_id_698"</span></span>.<span class="hljs-string"><span class="hljs-string">"f1_applicant"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> (<span class="hljs-number"><span class="hljs-number">248</span></span>,<span class="hljs-number"><span class="hljs-number">169</span></span>,<span class="hljs-number"><span class="hljs-number">180</span></span>,<span class="hljs-number"><span class="hljs-number">201</span></span>,<span class="hljs-number"><span class="hljs-number">203</span></span>,<span class="hljs-number"><span class="hljs-number">205</span></span>,<span class="hljs-number"><span class="hljs-number">209</span></span>,<span class="hljs-number"><span class="hljs-number">215</span></span>,<span class="hljs-number"><span class="hljs-number">223</span></span>,<span class="hljs-number"><span class="hljs-number">357</span></span>,<span class="hljs-number"><span class="hljs-number">371</span></span>,<span class="hljs-number"><span class="hljs-number">379</span></span>,<span class="hljs-number"><span class="hljs-number">3502</span></span>,<span class="hljs-number"><span class="hljs-number">3503</span></span>,<span class="hljs-number"><span class="hljs-number">3506</span></span>,<span class="hljs-number"><span class="hljs-number">3514</span></span>,<span class="hljs-number"><span class="hljs-number">3517</span></span>,<span class="hljs-number"><span class="hljs-number">3531</span></span>,<span class="hljs-number"><span class="hljs-number">3740</span></span>,<span class="hljs-number"><span class="hljs-number">3741</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> <span class="hljs-string"><span class="hljs-string">"x0"</span></span>.<span class="hljs-string"><span class="hljs-string">"f24_useracco"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> (<span class="hljs-number"><span class="hljs-number">578872</span></span>,<span class="hljs-number"><span class="hljs-number">564618</span></span>,<span class="hljs-number"><span class="hljs-number">565084</span></span>,<span class="hljs-number"><span class="hljs-number">566420</span></span>,<span class="hljs-number"><span class="hljs-number">566422</span></span>,<span class="hljs-number"><span class="hljs-number">566936</span></span>,<span class="hljs-number"><span class="hljs-number">567032</span></span>,<span class="hljs-number"><span class="hljs-number">567260</span></span>,<span class="hljs-number"><span class="hljs-number">567689</span></span>,<span class="hljs-number"><span class="hljs-number">579571</span></span>,<span class="hljs-number"><span class="hljs-number">580813</span></span>,<span class="hljs-number"><span class="hljs-number">594452</span></span>,<span class="hljs-number"><span class="hljs-number">611522</span></span>,<span class="hljs-number"><span class="hljs-number">611523</span></span>,<span class="hljs-number"><span class="hljs-number">615836</span></span>,<span class="hljs-number"><span class="hljs-number">621430</span></span>,<span class="hljs-number"><span class="hljs-number">628371</span></span>,<span class="hljs-number"><span class="hljs-number">633044</span></span>,<span class="hljs-number"><span class="hljs-number">634132</span></span>,<span class="hljs-number"><span class="hljs-number">634136</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> <span class="hljs-string"><span class="hljs-string">"uf_ufref4646_i3_f58__666"</span></span>.<span class="hljs-string"><span class="hljs-string">"f24_useracco"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> (<span class="hljs-number"><span class="hljs-number">578872</span></span>,<span class="hljs-number"><span class="hljs-number">564618</span></span>,<span class="hljs-number"><span class="hljs-number">565084</span></span>,<span class="hljs-number"><span class="hljs-number">566420</span></span>,<span class="hljs-number"><span class="hljs-number">566422</span></span>,<span class="hljs-number"><span class="hljs-number">566936</span></span>,<span class="hljs-number"><span class="hljs-number">567032</span></span>,<span class="hljs-number"><span class="hljs-number">567260</span></span>,<span class="hljs-number"><span class="hljs-number">567689</span></span>,<span class="hljs-number"><span class="hljs-number">579571</span></span>,<span class="hljs-number"><span class="hljs-number">580813</span></span>,<span class="hljs-number"><span class="hljs-number">594452</span></span>,<span class="hljs-number"><span class="hljs-number">611522</span></span>,<span class="hljs-number"><span class="hljs-number">611523</span></span>,<span class="hljs-number"><span class="hljs-number">615836</span></span>,<span class="hljs-number"><span class="hljs-number">621430</span></span>,<span class="hljs-number"><span class="hljs-number">628371</span></span>,<span class="hljs-number"><span class="hljs-number">633044</span></span>,<span class="hljs-number"><span class="hljs-number">634132</span></span>,<span class="hljs-number"><span class="hljs-number">634136</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> <span class="hljs-string"><span class="hljs-string">"uf_ufref4667_i25_f69__666"</span></span>.<span class="hljs-string"><span class="hljs-string">"f24_useracco"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> (<span class="hljs-number"><span class="hljs-number">578872</span></span>,<span class="hljs-number"><span class="hljs-number">564618</span></span>,<span class="hljs-number"><span class="hljs-number">565084</span></span>,<span class="hljs-number"><span class="hljs-number">566420</span></span>,<span class="hljs-number"><span class="hljs-number">566422</span></span>,<span class="hljs-number"><span class="hljs-number">566936</span></span>,<span class="hljs-number"><span class="hljs-number">567032</span></span>,<span class="hljs-number"><span class="hljs-number">567260</span></span>,<span class="hljs-number"><span class="hljs-number">567689</span></span>,<span class="hljs-number"><span class="hljs-number">579571</span></span>,<span class="hljs-number"><span class="hljs-number">580813</span></span>,<span class="hljs-number"><span class="hljs-number">594452</span></span>,<span class="hljs-number"><span class="hljs-number">611522</span></span>,<span class="hljs-number"><span class="hljs-number">611523</span></span>,<span class="hljs-number"><span class="hljs-number">615836</span></span>,<span class="hljs-number"><span class="hljs-number">621430</span></span>,<span class="hljs-number"><span class="hljs-number">628371</span></span>,<span class="hljs-number"><span class="hljs-number">633044</span></span>,<span class="hljs-number"><span class="hljs-number">634132</span></span>,<span class="hljs-number"><span class="hljs-number">634136</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> (<span class="hljs-string"><span class="hljs-string">"uf_pr_id_698"</span></span>.<span class="hljs-string"><span class="hljs-string">"f10_status"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Is</span></span> <span class="hljs-literal"><span class="hljs-literal">Null</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> <span class="hljs-string"><span class="hljs-string">"uf_pr_id_698"</span></span>.<span class="hljs-string"><span class="hljs-string">"f10_status"</span></span> &lt;&gt; <span class="hljs-number"><span class="hljs-number">111</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> <span class="hljs-string"><span class="hljs-string">"ufref3737_i2"</span></span>.<span class="hljs-string"><span class="hljs-string">"f96_"</span></span> = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> ((<span class="hljs-string"><span class="hljs-string">"ufref3737_i2"</span></span>.<span class="hljs-string"><span class="hljs-string">"f17_source"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Is</span></span> <span class="hljs-literal"><span class="hljs-literal">Null</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> <span class="hljs-string"><span class="hljs-string">"ufref3737_i2"</span></span>.<span class="hljs-string"><span class="hljs-string">"f17_source"</span></span> &lt;&gt; <span class="hljs-number"><span class="hljs-number">566425</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> (<span class="hljs-string"><span class="hljs-string">"ufref3737_i2"</span></span>.<span class="hljs-string"><span class="hljs-string">"f17_source"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Is</span></span> <span class="hljs-literal"><span class="hljs-literal">Null</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> <span class="hljs-string"><span class="hljs-string">"ufref3737_i2"</span></span>.<span class="hljs-string"><span class="hljs-string">"f17_source"</span></span> &lt;&gt; <span class="hljs-number"><span class="hljs-number">566424</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> (<span class="hljs-string"><span class="hljs-string">"uf_pr_id_698"</span></span>.<span class="hljs-string"><span class="hljs-string">"f10_status"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Is</span></span> <span class="hljs-literal"><span class="hljs-literal">Null</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> <span class="hljs-string"><span class="hljs-string">"uf_pr_id_698"</span></span>.<span class="hljs-string"><span class="hljs-string">"f10_status"</span></span> &lt;&gt; <span class="hljs-number"><span class="hljs-number">56</span></span>) ) <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> (<span class="hljs-string"><span class="hljs-string">"uf_pr_id_698"</span></span>.<span class="hljs-string"><span class="hljs-string">"f12_responsi"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> (<span class="hljs-number"><span class="hljs-number">578872</span></span>,<span class="hljs-number"><span class="hljs-number">564618</span></span>,<span class="hljs-number"><span class="hljs-number">565084</span></span>,<span class="hljs-number"><span class="hljs-number">566420</span></span>,<span class="hljs-number"><span class="hljs-number">566422</span></span>,<span class="hljs-number"><span class="hljs-number">566936</span></span>,<span class="hljs-number"><span class="hljs-number">567032</span></span>,<span class="hljs-number"><span class="hljs-number">567260</span></span>,<span class="hljs-number"><span class="hljs-number">567689</span></span>,<span class="hljs-number"><span class="hljs-number">579571</span></span>,<span class="hljs-number"><span class="hljs-number">580813</span></span>,<span class="hljs-number"><span class="hljs-number">594452</span></span>,<span class="hljs-number"><span class="hljs-number">611522</span></span>,<span class="hljs-number"><span class="hljs-number">611523</span></span>,<span class="hljs-number"><span class="hljs-number">615836</span></span>,<span class="hljs-number"><span class="hljs-number">621430</span></span>,<span class="hljs-number"><span class="hljs-number">628371</span></span>,<span class="hljs-number"><span class="hljs-number">633044</span></span>,<span class="hljs-number"><span class="hljs-number">634132</span></span>,<span class="hljs-number"><span class="hljs-number">634136</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> <span class="hljs-string"><span class="hljs-string">"x1"</span></span>.<span class="hljs-string"><span class="hljs-string">"f19_restrict"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> (<span class="hljs-number"><span class="hljs-number">578872</span></span>,<span class="hljs-number"><span class="hljs-number">564618</span></span>,<span class="hljs-number"><span class="hljs-number">565084</span></span>,<span class="hljs-number"><span class="hljs-number">566420</span></span>,<span class="hljs-number"><span class="hljs-number">566422</span></span>,<span class="hljs-number"><span class="hljs-number">566936</span></span>,<span class="hljs-number"><span class="hljs-number">567032</span></span>,<span class="hljs-number"><span class="hljs-number">567260</span></span>,<span class="hljs-number"><span class="hljs-number">567689</span></span>,<span class="hljs-number"><span class="hljs-number">579571</span></span>,<span class="hljs-number"><span class="hljs-number">580813</span></span>,<span class="hljs-number"><span class="hljs-number">594452</span></span>,<span class="hljs-number"><span class="hljs-number">611522</span></span>,<span class="hljs-number"><span class="hljs-number">611523</span></span>,<span class="hljs-number"><span class="hljs-number">615836</span></span>,<span class="hljs-number"><span class="hljs-number">621430</span></span>,<span class="hljs-number"><span class="hljs-number">628371</span></span>,<span class="hljs-number"><span class="hljs-number">633044</span></span>,<span class="hljs-number"><span class="hljs-number">634132</span></span>,<span class="hljs-number"><span class="hljs-number">634136</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> <span class="hljs-string"><span class="hljs-string">"uf_ufref3754_i12_reference_698"</span></span>.<span class="hljs-string"><span class="hljs-string">"f12_responsi"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> (<span class="hljs-number"><span class="hljs-number">578872</span></span>,<span class="hljs-number"><span class="hljs-number">564618</span></span>,<span class="hljs-number"><span class="hljs-number">565084</span></span>,<span class="hljs-number"><span class="hljs-number">566420</span></span>,<span class="hljs-number"><span class="hljs-number">566422</span></span>,<span class="hljs-number"><span class="hljs-number">566936</span></span>,<span class="hljs-number"><span class="hljs-number">567032</span></span>,<span class="hljs-number"><span class="hljs-number">567260</span></span>,<span class="hljs-number"><span class="hljs-number">567689</span></span>,<span class="hljs-number"><span class="hljs-number">579571</span></span>,<span class="hljs-number"><span class="hljs-number">580813</span></span>,<span class="hljs-number"><span class="hljs-number">594452</span></span>,<span class="hljs-number"><span class="hljs-number">611522</span></span>,<span class="hljs-number"><span class="hljs-number">611523</span></span>,<span class="hljs-number"><span class="hljs-number">615836</span></span>,<span class="hljs-number"><span class="hljs-number">621430</span></span>,<span class="hljs-number"><span class="hljs-number">628371</span></span>,<span class="hljs-number"><span class="hljs-number">633044</span></span>,<span class="hljs-number"><span class="hljs-number">634132</span></span>,<span class="hljs-number"><span class="hljs-number">634136</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> <span class="hljs-string"><span class="hljs-string">"x2"</span></span>.<span class="hljs-string"><span class="hljs-string">"f12_responsi"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> (<span class="hljs-number"><span class="hljs-number">578872</span></span>,<span class="hljs-number"><span class="hljs-number">564618</span></span>,<span class="hljs-number"><span class="hljs-number">565084</span></span>,<span class="hljs-number"><span class="hljs-number">566420</span></span>,<span class="hljs-number"><span class="hljs-number">566422</span></span>,<span class="hljs-number"><span class="hljs-number">566936</span></span>,<span class="hljs-number"><span class="hljs-number">567032</span></span>,<span class="hljs-number"><span class="hljs-number">567260</span></span>,<span class="hljs-number"><span class="hljs-number">567689</span></span>,<span class="hljs-number"><span class="hljs-number">579571</span></span>,<span class="hljs-number"><span class="hljs-number">580813</span></span>,<span class="hljs-number"><span class="hljs-number">594452</span></span>,<span class="hljs-number"><span class="hljs-number">611522</span></span>,<span class="hljs-number"><span class="hljs-number">611523</span></span>,<span class="hljs-number"><span class="hljs-number">615836</span></span>,<span class="hljs-number"><span class="hljs-number">621430</span></span>,<span class="hljs-number"><span class="hljs-number">628371</span></span>,<span class="hljs-number"><span class="hljs-number">633044</span></span>,<span class="hljs-number"><span class="hljs-number">634132</span></span>,<span class="hljs-number"><span class="hljs-number">634136</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> <span class="hljs-string"><span class="hljs-string">"x3"</span></span>.<span class="hljs-string"><span class="hljs-string">"f5_responsib"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> (<span class="hljs-number"><span class="hljs-number">578872</span></span>,<span class="hljs-number"><span class="hljs-number">564618</span></span>,<span class="hljs-number"><span class="hljs-number">565084</span></span>,<span class="hljs-number"><span class="hljs-number">566420</span></span>,<span class="hljs-number"><span class="hljs-number">566422</span></span>,<span class="hljs-number"><span class="hljs-number">566936</span></span>,<span class="hljs-number"><span class="hljs-number">567032</span></span>,<span class="hljs-number"><span class="hljs-number">567260</span></span>,<span class="hljs-number"><span class="hljs-number">567689</span></span>,<span class="hljs-number"><span class="hljs-number">579571</span></span>,<span class="hljs-number"><span class="hljs-number">580813</span></span>,<span class="hljs-number"><span class="hljs-number">594452</span></span>,<span class="hljs-number"><span class="hljs-number">611522</span></span>,<span class="hljs-number"><span class="hljs-number">611523</span></span>,<span class="hljs-number"><span class="hljs-number">615836</span></span>,<span class="hljs-number"><span class="hljs-number">621430</span></span>,<span class="hljs-number"><span class="hljs-number">628371</span></span>,<span class="hljs-number"><span class="hljs-number">633044</span></span>,<span class="hljs-number"><span class="hljs-number">634132</span></span>,<span class="hljs-number"><span class="hljs-number">634136</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> <span class="hljs-string"><span class="hljs-string">"uf_ufref3758_i15_reference_698"</span></span>.<span class="hljs-string"><span class="hljs-string">"f12_responsi"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> (<span class="hljs-number"><span class="hljs-number">578872</span></span>,<span class="hljs-number"><span class="hljs-number">564618</span></span>,<span class="hljs-number"><span class="hljs-number">565084</span></span>,<span class="hljs-number"><span class="hljs-number">566420</span></span>,<span class="hljs-number"><span class="hljs-number">566422</span></span>,<span class="hljs-number"><span class="hljs-number">566936</span></span>,<span class="hljs-number"><span class="hljs-number">567032</span></span>,<span class="hljs-number"><span class="hljs-number">567260</span></span>,<span class="hljs-number"><span class="hljs-number">567689</span></span>,<span class="hljs-number"><span class="hljs-number">579571</span></span>,<span class="hljs-number"><span class="hljs-number">580813</span></span>,<span class="hljs-number"><span class="hljs-number">594452</span></span>,<span class="hljs-number"><span class="hljs-number">611522</span></span>,<span class="hljs-number"><span class="hljs-number">611523</span></span>,<span class="hljs-number"><span class="hljs-number">615836</span></span>,<span class="hljs-number"><span class="hljs-number">621430</span></span>,<span class="hljs-number"><span class="hljs-number">628371</span></span>,<span class="hljs-number"><span class="hljs-number">633044</span></span>,<span class="hljs-number"><span class="hljs-number">634132</span></span>,<span class="hljs-number"><span class="hljs-number">634136</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> <span class="hljs-string"><span class="hljs-string">"x4"</span></span>.<span class="hljs-string"><span class="hljs-string">"f5_responsib"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> (<span class="hljs-number"><span class="hljs-number">578872</span></span>,<span class="hljs-number"><span class="hljs-number">564618</span></span>,<span class="hljs-number"><span class="hljs-number">565084</span></span>,<span class="hljs-number"><span class="hljs-number">566420</span></span>,<span class="hljs-number"><span class="hljs-number">566422</span></span>,<span class="hljs-number"><span class="hljs-number">566936</span></span>,<span class="hljs-number"><span class="hljs-number">567032</span></span>,<span class="hljs-number"><span class="hljs-number">567260</span></span>,<span class="hljs-number"><span class="hljs-number">567689</span></span>,<span class="hljs-number"><span class="hljs-number">579571</span></span>,<span class="hljs-number"><span class="hljs-number">580813</span></span>,<span class="hljs-number"><span class="hljs-number">594452</span></span>,<span class="hljs-number"><span class="hljs-number">611522</span></span>,<span class="hljs-number"><span class="hljs-number">611523</span></span>,<span class="hljs-number"><span class="hljs-number">615836</span></span>,<span class="hljs-number"><span class="hljs-number">621430</span></span>,<span class="hljs-number"><span class="hljs-number">628371</span></span>,<span class="hljs-number"><span class="hljs-number">633044</span></span>,<span class="hljs-number"><span class="hljs-number">634132</span></span>,<span class="hljs-number"><span class="hljs-number">634136</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> <span class="hljs-string"><span class="hljs-string">"uf_ufref4128_i17_reference_859"</span></span>.<span class="hljs-string"><span class="hljs-string">"f5_responsib"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> (<span class="hljs-number"><span class="hljs-number">578872</span></span>,<span class="hljs-number"><span class="hljs-number">564618</span></span>,<span class="hljs-number"><span class="hljs-number">565084</span></span>,<span class="hljs-number"><span class="hljs-number">566420</span></span>,<span class="hljs-number"><span class="hljs-number">566422</span></span>,<span class="hljs-number"><span class="hljs-number">566936</span></span>,<span class="hljs-number"><span class="hljs-number">567032</span></span>,<span class="hljs-number"><span class="hljs-number">567260</span></span>,<span class="hljs-number"><span class="hljs-number">567689</span></span>,<span class="hljs-number"><span class="hljs-number">579571</span></span>,<span class="hljs-number"><span class="hljs-number">580813</span></span>,<span class="hljs-number"><span class="hljs-number">594452</span></span>,<span class="hljs-number"><span class="hljs-number">611522</span></span>,<span class="hljs-number"><span class="hljs-number">611523</span></span>,<span class="hljs-number"><span class="hljs-number">615836</span></span>,<span class="hljs-number"><span class="hljs-number">621430</span></span>,<span class="hljs-number"><span class="hljs-number">628371</span></span>,<span class="hljs-number"><span class="hljs-number">633044</span></span>,<span class="hljs-number"><span class="hljs-number">634132</span></span>,<span class="hljs-number"><span class="hljs-number">634136</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> (<span class="hljs-string"><span class="hljs-string">"uf_pr_id_698"</span></span>.<span class="hljs-string"><span class="hljs-string">"f12_responsi"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Is</span></span> <span class="hljs-literal"><span class="hljs-literal">Null</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> <span class="hljs-string"><span class="hljs-string">"uf_pr_id_698"</span></span>.<span class="hljs-string"><span class="hljs-string">"f12_responsi"</span></span> &lt;&gt; <span class="hljs-number"><span class="hljs-number">579420</span></span>) ) <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> <span class="hljs-string"><span class="hljs-string">"pr"</span></span>.<span class="hljs-string"><span class="hljs-string">"area"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> (<span class="hljs-number"><span class="hljs-number">700</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> <span class="hljs-string"><span class="hljs-string">"pr"</span></span>.<span class="hljs-string"><span class="hljs-string">"area"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> (<span class="hljs-number"><span class="hljs-number">700</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> <span class="hljs-string"><span class="hljs-string">"pr"</span></span>.<span class="hljs-string"><span class="hljs-string">"deleted_by_user"</span></span>=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> <span class="hljs-string"><span class="hljs-string">"pr"</span></span>.<span class="hljs-string"><span class="hljs-string">"temporary"</span></span> = <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre> <br>  The name of the objects has been changed. <br><br>  Most striking is that the same table is used many times, and the number of brackets is crazy.  But not only did I not like this code, SQL Server is also not thrilled and spends a lot of resources on creating a plan for it.  The request can be performed from 50 to 150 ms, and the construction of the plan can take up to 2.5 seconds.  Today I will not consider options for correcting the situation, I will just say that in my case it was impossible to correct the generation of the request in the application. <br><br>  I would like to consider why SQL Server has been building a query plan for so long.  In any DBMS, SQL Server is not an exception, the main issue of optimization is the way of connecting tables with each other.  Besides the very method of joining, the order of joining tables is very important. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Let's talk about the order of joining tables in more detail.  In this question, it is very important to understand that the <i>possible number of table joints grows exponentially rather than linearly</i> .  For example, for 2 tables the number of possible connection options is only 2, for 3 this number can go up to 12.  A different join order may have a different query cost and the SQL Server optimizer must choose the ‚Äúbest‚Äù method, but with more tables, this becomes a resource-intensive task.  If SQL Server starts to sort through all possible options, such a query can never be executed, for this reason SQL Server never does this and always looks for a ‚Äúgood enough plan‚Äù rather than the ‚Äúbest‚Äù one.  SQL Server is always trying to find a compromise between the execution time and the quality of the plan. <br><br>  Here is a vivid example of the growth in the number of connection options exponentially.  SQL Server can choose different join methods (left-deep, right-deep, bushy trees). <br><br>  Visually, it looks like this: <br><br><div style="text-align:center;"><img src="http://sqlcom.ru/wp-content/uploads/2017/04/left-deep_bushy-trees.png" alt="image"></div><br>  The table shows the possible number of connection options when increasing the number of tables: <br><br><div style="text-align:center;"><img src="http://sqlcom.ru/wp-content/uploads/2017/04/table_trees.png" alt="image"></div><br>  You can get these values ‚Äã‚Äãyourself: <br><br>  For <b>left-deep:</b> 5!  = 5 x 4 x 3 x 2 x 1 = 120 <br><br>  For <b>bushy tree:</b> (2n ‚Äì 2)! / (N ‚Äì 1)! <br><br>  <b>Conclusion:</b> Be more careful with the number of JOINs in the query and do not interfere with the optimizer.  If you fail to achieve the desired result in the query, where there is a lot of JOIN, break it into several smaller queries and you will be surprised how much better the result can be. <br><br>  <b>PS</b> Of course, we must understand that in addition to determining the order of joining tables, the query optimizer must also choose which type of connection to use, choose the method of accessing data (Scan, Seek), and so on. </div><p>Source: <a href="https://habr.com/ru/post/325738/">https://habr.com/ru/post/325738/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../325728/index.html">How to love machine learning and stop suffering</a></li>
<li><a href="../325730/index.html">The problem of using CompletableFuture in multiple threads and its solution</a></li>
<li><a href="../325732/index.html">From developers - to Solution Architects: the story of one transformation</a></li>
<li><a href="../325734/index.html">Setting up backup of information in the cloud Microsoft Azure Backup</a></li>
<li><a href="../325736/index.html">9th MSK.NET Community Meeting</a></li>
<li><a href="../325740/index.html">IT Events Calendar for April '17</a></li>
<li><a href="../325744/index.html">Rethinking markup. First steps with Gantry 5</a></li>
<li><a href="../325746/index.html">Repair remote server after removing part of OS</a></li>
<li><a href="../325748/index.html">Games and the cloud. Myths and reality. We expect a heated discussion on April 12. Come virtually</a></li>
<li><a href="../325752/index.html">A bug in Telegram VoIP, which allows you to find out the address of the interlocutor</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>