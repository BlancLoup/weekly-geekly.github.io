<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Quad search</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The ternary (or ternary) search is an algorithm for finding the minimum (or maximum) of a convex function on a segment. You can search for the minimum...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Quad search</h1><div class="post__text post__text-html js-mediator-article"> <b>The ternary (or ternary) search</b> is an algorithm for finding the minimum (or maximum) of a <b>convex</b> function on a segment.  You can search for the minimum (maximum) of the function of the real argument, you can at least (the maximum) on the array.  For definiteness, we will look for the minimum of the function f (x). <br><br>  He is familiar to many, but for those who do not know, I will tell in brief. <br><br>  Ternary search is as follows.  Let there be a recursive function search (L, R), which by the two ends of the segment L, R determines the minimum on the cut [L, R].  If R - L &lt;eps, then we have already calculated the point where the minimum is reached, with an accuracy of eps.  Otherwise, divide the segment [L, R] into three equal lengths of the segment [L, A], [A, B] and [B, R].  Compare the value at points A and B. Recalling that the function f is convex, we can conclude that if f (A)&gt; f (B), then the minimum lies on the segment [A, R].  Otherwise, on the segment [L, B].  In accordance with this, one can start recursively from one of the segments [L, B] or [A, R].  Each time, the length of the search area is reduced by one and a half, which means that the minimum on the segment of length X with an accuracy of eps will be found during O (log (X / eps)). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      And here I want to talk about <b>quadratic (or fourfold) search</b> . <br><br><a name="habracut"></a>  In fact, this is some optimization of ternary search.  As in it, we will recursively calculate the minimum of the function on the interval L, R. Only now we will calculate the value of the function not at two, but at three points: at A = (3L + R) / 4, B = (L + R ) / 2 and C = (L + 3R) / 4.  Let's see which of these values ‚Äã‚Äãin these three points is the smallest.  If the left - then we run recursively on the segment [L, B], if the right - on the segment [B, R], and if the average - then on the segment [A, C].  The length of the segment is always reduced by half.  In this case, it should be noted that if f (A) &lt;= f (B), then this already means that the left value is the smallest, if f (C) &lt;= f (B) then the right one;  in other cases, the average.  Therefore, it is not necessary to do a lot of checks: we do one, and if it did not work, then another. <br><br>  Now notice one thing.  When we start from one of the three segments, we will need to know three values ‚Äã‚Äãon this segment.  But one of them is the average - we already calculated at the previous step: if we started from the left segment, then it is f (A), if from the right segment, then f (C), and if from the middle one - f (B).  Therefore, it is not necessary to calculate it again: you can simply transfer it.  It means that at each step we calculate not 3, but 2 values. <br>  Now notice one more thing.  After all, in order to know that we need to go to the left segment, we need to find out only the values ‚Äã‚Äãat points A and B. Therefore, the value at point C can not be calculated yet: it may not be useful. <br><br>  Thus, the number of required iterations in log <sub>1.5 is</sub> 2 times less, and the number of calculated values ‚Äã‚Äãper iteration is on average less (it is difficult to estimate how many times, perhaps approximately one and a half), but certainly not more than in the ternary search.  What looks tempting, especially when calculating the value takes a long time. <br><br>  And for completeness, the code, a total of ten lines: <br><br><pre> <code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">double</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">quadSearch</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> L, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> R, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> midVal</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (R - L &lt; eps) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (R + L)/<span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> leftVal = f((<span class="hljs-number"><span class="hljs-number">3</span></span>*L + R)/<span class="hljs-number"><span class="hljs-number">4</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (leftVal &lt; midVal) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> quadSearch(L, (L + R)/<span class="hljs-number"><span class="hljs-number">2</span></span>, leftVal); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> rightVal = f((L + <span class="hljs-number"><span class="hljs-number">3</span></span>*R)/<span class="hljs-number"><span class="hljs-number">4</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (rightVal &lt; midVal) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> quadSearch((L + R)/<span class="hljs-number"><span class="hljs-number">2</span></span>, R, rightVal); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> quadSearch((<span class="hljs-number"><span class="hljs-number">3</span></span>*L + R)/<span class="hljs-number"><span class="hljs-number">4</span></span>, (L + <span class="hljs-number"><span class="hljs-number">3</span></span>*R)/<span class="hljs-number"><span class="hljs-number">4</span></span>, midVal); } } <br></code> </pre> <code>double quadSearch(double L, double R, double midVal) { if (R - L &lt; eps) return (R + L)/2; double leftVal = f((3*L + R)/4); if (leftVal &lt; midVal) return quadSearch(L, (L + R)/2, leftVal); else { double rightVal = f((L + 3*R)/4); if (rightVal &lt; midVal) return quadSearch((L + R)/2, R, rightVal); else return quadSearch((3*L + R)/4, (L + 3*R)/4, midVal); } } <br></code> <br><br>  PS Transferred to the "Algorithms" from a personal blog. </div><p>Source: <a href="https://habr.com/ru/post/92591/">https://habr.com/ru/post/92591/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../92581/index.html">Entertaining BitTorrent Infographics</a></li>
<li><a href="../92583/index.html">Android 2.1 on HTC Hero - personal experience</a></li>
<li><a href="../92586/index.html">Asus EEE PC 1005 PE Netbook Review</a></li>
<li><a href="../92589/index.html">H.264 High Profile Level 5.1 Support in ATI Catalyst 10.4</a></li>
<li><a href="../92590/index.html">Theory of Correct Scripts</a></li>
<li><a href="../92592/index.html">Full Root</a></li>
<li><a href="../92593/index.html">With a flick of the wrist, the UITabBarController turns into a UISplitViewController</a></li>
<li><a href="../92595/index.html">LinCut is an easy and convenient way to save your favorite websites.</a></li>
<li><a href="../92596/index.html">Easy way to get a lot of valid email addresses</a></li>
<li><a href="../92597/index.html">The time paradox in multi-core AMD processors</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>