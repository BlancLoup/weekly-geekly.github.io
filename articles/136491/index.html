<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Google+ user activity visualization</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It has long been fond of visualization of various statistics in the program code_swarm and gource. 
 Recently, I decided to master Google api for Goog...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Google+ user activity visualization</h1><div class="post__text post__text-html js-mediator-article">  It has long been fond of visualization of various statistics in the program code_swarm and gource. <br>  Recently, I decided to master <a href="https://developers.google.com/%2B">Google api for Google Plus</a> , and decided that the most convenient and interesting would be to come up with an algorithm for collecting statistics on user activity and then visualize this information using the above mentioned tools.  This article will discuss the results of the work done. <br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/hkhGErmPhpQ%3Ffeature%3Doembed&amp;xid=17259,1500002,15700022,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhiVAGtLa-c8HA3bPBktwMPaaPvixA" frameborder="0" allowfullscreen=""></iframe><br><br><h1>  What i used </h1><br><ul><li>  <a href="https://developers.google.com/%2B/api/">Google+ Platform</a> - Developer Guide </li><li>  <a href="https://code.google.com/p/google-api-javascript-client/">Google APIs Client Library for JavaScript</a> - library for js </li><li>  <a href="http://code.google.com/p/google-api-dotnet-client/wiki/Downloads">Google APIs Client Library for .NET</a> - library for C # </li><li>  <a href="http://code.google.com/p/google-api-dotnet-client/source/browse/%3Frepo%3Dsamples">Library of examples using Google APIs in C #</a> </li><li>  <a href="https://github.com/artzub/code_swarm-gource-my-conf">Package for visualization with my settings</a> .  <i>It is launched from the data / my folder by the run.bat file, you must first put the generated logs in the data / my / data folder.</i>  <i>More information from the <a href="http://habrahabr.ru/blogs/development_tools/114630/">Config</a> header <a href="http://habrahabr.ru/blogs/development_tools/114630/">for code_swarm</a></i> </li></ul><br>  The source code of the application is on <a href="https://github.com/artzub/LoggenCSG">github</a> ( <a href="http://code.google.com/p/loggencsg/downloads/list" title="LoggenCSG">Installer</a> ). <br>  I will not go deep into implementation, I will describe only highlights. <br><br><a name="habracut"></a><br><h1>  Javascript first </h1><br>  First of all, I decided to try to get the data through js.  For this, I made a page on the <a href="http://artzub.narod.ru/gapi/first.html">people</a> .  Get the data was very simple: <br><blockquote>  <font color="#003366">var</font> request <font color="#339933">=</font> gapi.  <font color="#660066">client</font> .  <font color="#660066">plus</font> .  <font color="#660066">activities</font> .  <font color="#660066">list</font> <font color="#009900">(</font> <font color="#009900">{</font> <br>  <font color="#3366CC">'userId'</font> <font color="#339933">:</font> profileID <font color="#339933">,</font> <br>  <font color="#3366CC">'collection'</font> <font color="#339933">:</font> <font color="#3366CC">'public'</font> <font color="#339933">,</font> <br>  <font color="#3366CC">'maxResults'</font> <font color="#339933">:</font> nextCount <font color="#339933">,</font> <br>  <font color="#3366CC">'pageToken'</font> <font color="#339933">:</font> nextPage <br>  <font color="#009900">}</font> <font color="#009900">)</font> .  <font color="#660066">execute</font> <font color="#009900">(</font> createLog <font color="#009900">)</font> <font color="#339933">;</font> </blockquote>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Then the task was to come up with an algorithm for generating file names to demonstrate activity.  The task was solved using templates. <br><img src="http://img213.imageshack.us/img213/701/4eb511b379214cada81c9f0.png" alt="rules for the formation of file names."><br>  A piece of code that translates this: <br><blockquote><ol><li>  fnc <font color="#008000">=</font> filePattern <font color="#000000">[</font> o <font color="#000000">]</font> .  <font color="#0000FF">comment</font> .  <font color="#0000FF">trim</font> <font color="#000000">(</font> <font color="#000000">)</font> <font color="#008000">;</font> </li><li>  fnc <font color="#008000">=</font> fnc.  <font color="#0000FF">replace</font> <font color="#000000">(</font> <font color="#008000">/</font> type <font color="#008000">/</font> gi, <font color="#666666">"comment"</font> <font color="#000000">)</font> </li><li>  .  <font color="#0000FF">replace</font> <font color="#000000">(</font> <font color="#008000">/</font> postId <font color="#008000">/</font> gi, post. <font color="#0000FF">id</font> <font color="#000000">)</font> </li><li>  .  <font color="#0000FF">replace</font> <font color="#000000">(</font> <font color="#008000">/</font> id <font color="#008000">/</font> gi, comment. <font color="#0000FF">id</font> <font color="#000000">)</font> </li><li>  .  <font color="#0000FF">replace</font> <font color="#000000">(</font> <font color="#008000">/</font> postactor <font color="#008000">/</font> gi, post. <font color="#0000FF">actorId</font> <font color="#000000">)</font> </li><li>  .  <font color="#0000FF">replace</font> <font color="#000000">(</font> <font color="#008000">/</font> actor <font color="#008000">/</font> gi, comment. <font color="#0000FF">actor</font> . <font color="#0000FF">id</font> <font color="#000000">)</font> </li><li>  .  <font color="#0000FF">replace</font> <font color="#000000">(</font> <font color="#008000">/</font> postdate <font color="#008000">/</font> gi, post. <font color="#0000FF">date</font> <font color="#000000">)</font> </li><li>  .  <font color="#0000FF">replace</font> <font color="#000000">(</font> <font color="#008000">/</font> date <font color="#008000">/</font> gi, date <font color="#000000">)</font> </li><li>  .  <font color="#0000FF">replace</font> <font color="#000000">(</font> <font color="#008000">/</font> sharepath <font color="#008000">/</font> gi, fns <font color="#000000">)</font> </li><li>  .  <font color="#0000FF">replace</font> <font color="#000000">(</font> <font color="#008000">/</font> postfilename <font color="#008000">/</font> gi, fn <font color="#000000">)</font> </li><li>  .  <font color="#0000FF">replace</font> <font color="#000000">(</font> <font color="#008080">//// gi, '/');</font> </li></ol></blockquote><br><br>  Any user can create their own file names.  The file here refers to any user activity, the creation of: posts, comments, reshar, setting pros.  Each log line is formed on behalf of the one who carried out this activity. <br>  The result of the visualization of the log obtained using this page: <br><h2>  Gource </h2><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/qFnu6vjYi_A%3Ffeature%3Doembed&amp;xid=17259,1500002,15700022,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhh7jSCOWWlQam6ipe5jcCsQYd177A" frameborder="0" allowfullscreen=""></iframe><br><blockquote><ul><li>  General concepts <ul><li>  Google plus users are bees. </li><li>  Points (posts, comments, etc.) are elements of honeycombs, points of different colors. </li></ul></li><li>  Types of points <ul><li>  Emerald - post </li><li>  Green - comments </li><li>  Blue - plus </li><li>  Light green - repost </li><li>  etc </li></ul><br></li><li>  Types of rays <ul><li>  Green - create item </li><li>  Orange - commenting, plus, repost </li></ul></li><li>  Bees are honeycomb (well, or molecule). </li><li>  In this video, below and then left, these are the user's main posts for whose profile the activity was generated. </li><li>  On the right, these are reposts made by this user to others, they have their comments and advantages. </li></ul></blockquote><br><h2>  Code_swarm </h2><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/gBksxWyROeI%3Ffeature%3Doembed&amp;xid=17259,1500002,15700022,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhihwe_K4_fAAq1zNcVp2HrwjBjlOA" frameborder="0" allowfullscreen=""></iframe><br><blockquote><ul><li>  General concepts <ul><li>  Circles - google plus users </li><li>  Lights - user activity (creating posts, comments, pluses and more) </li></ul></li><li>  Users are repelled by users </li><li>  Lights are repelled by the lights </li><li>  Lights are attracted to the user who performs an action on him. </li><li>  Users are attracted to each other through a general event, that is, if users comment on the same post. </li><li>  Everything flies to the user from whose id the log was generated.  But there are also clusters of users and lights in other places.  These are reposts of other users made by this profile, all new events are associated with it.  This can be changed in the file name generation rules. </li></ul></blockquote><br><br>  But naturally this kind of tasks are not solved in the browser and I decided to write an application in C #. <br><br><br><h1>  Now C # </h1><br>  In fact, everything is done on a simple example that is shown <a href="">here</a> .  Here is a piece: <br><blockquote><ol><li>  <font color="#000000">[</font> STAThread <font color="#000000">]</font> </li><li>  <font color="#0600FF">static</font> <font color="#0600FF">void</font> Main <font color="#000000">(</font> <font color="#FF0000">string</font> <font color="#000000">[</font> <font color="#000000">]</font> args <font color="#000000">)</font> </li><li>  <font color="#000000">{</font> </li><li>  <font color="#008080">// Display the header and initialize the sample.</font> </li><li>  CommandLine.  <font color="#0000FF">EnableExceptionHandling</font> <font color="#000000">(</font> <font color="#000000">)</font> <font color="#008000">;</font> </li><li>  CommandLine.  <font color="#0000FF">DisplayGoogleSampleHeader</font> <font color="#000000">(</font> <font color="#666666">"Plus user activity"</font> <font color="#000000">)</font> <font color="#008000">;</font> </li><li></li><li>  <font color="#008080">// Create the service.</font> </li><li>  var service <font color="#008000">=</font> <font color="#008000">new</font> PlusService <font color="#000000">(</font> <font color="#000000">)</font> <font color="#008000">;</font> </li><li>  RunSample <font color="#000000">(</font> service <font color="#000000">)</font> <font color="#008000">;</font> </li><li>  CommandLine.  <font color="#0000FF">PressAnyKeyToExit</font> <font color="#000000">(</font> <font color="#000000">)</font> <font color="#008000">;</font> </li><li>  <font color="#000000">}</font> </li><li></li><li>  <font color="#0600FF">private</font> <font color="#0600FF">static</font> <font color="#0600FF">void</font> RunSample <font color="#000000">(</font> PlusService service <font color="#000000">)</font> </li><li>  <font color="#000000">{</font> </li><li>  <font color="#008080">// Run the request.</font> </li><li>  CommandLine.  <font color="#0000FF">WriteAction</font> <font color="#000000">(</font> <font color="#666666">"Executing List-request ..."</font> <font color="#000000">)</font> <font color="#008000">;</font> </li><li>  var result <font color="#008000">=</font> service.  <font color="#0000FF">Activities</font> .  <font color="#0000FF">List</font> <font color="#000000">(</font> <font color="#666666">"MY PROFILE ID"</font> , Google. <font color="#0000FF">Apis</font> . <font color="#0000FF">Plus</font> . <font color="#0000FF">V1</font> . <font color="#0000FF">ActivitiesResource</font> . <font color="#0000FF">Collection</font> . <font color="#0600FF">Public</font> <font color="#000000">)</font> .  <font color="#0000FF">Fetch</font> <font color="#000000">(</font> <font color="#000000">)</font> <font color="#008000">;</font> </li><li></li><li>  <font color="#008080">// Display the results.</font> </li><li>  <font color="#0600FF">if</font> <font color="#000000">(</font> result. <font color="#0000FF">Items</font> <font color="#008000">! =</font> <font color="#0600FF">null</font> <font color="#000000">)</font> </li><li>  <font color="#000000">{</font> </li><li>  <font color="#0600FF">foreach</font> <font color="#000000">(</font> var item <font color="#0600FF">in</font> result. <font color="#0000FF">Items</font> <font color="#000000">)</font> </li><li>  <font color="#000000">{</font> </li><li>  CommandLine.  <font color="#0000FF">WriteResult</font> <font color="#000000">(</font> item. <font color="#0000FF">Id</font> , itme. <font color="#0000FF">Actor</font> . <font color="#0000FF">DisplayName</font> <font color="#000000">)</font> <font color="#008000">;</font> </li><li>  <font color="#000000">}</font> </li><li>  <font color="#000000">}</font> </li><li>  <font color="#000000">}</font> </li></ol></blockquote><br>  Naturally, you need to connect to a project or a project with a wrapper for Google Plus Apis or an assembled library. <br>  But in fact, everything will become clear from <a href="http://code.google.com/p/google-api-dotnet-client/wiki/GettingStarted">this guide</a> . <br><br>  Application sources on <a href="https://github.com/artzub/LoggenCSG">github</a> .  <a href="http://code.google.com/p/loggencsg/downloads/list">Exe here</a> <br><br><h2>  Change log generation for code_swarm </h2><br>  Since mass-subscribers have a lot of subscribers, then for the code_swarm scheme, user-activity we get a very large amount of users and a bunch of points for which nothing can be understood.  That's why I decided that the post (his id) will act as the user, and all the activity (file names) will be generated by the user id.  We‚Äôll get that users with different colors will fly to the post depending on their activity (comments, reshara, plus, etc.), and then it will be clearly seen who and how is active.  Yes, file names are also formed using the template: <br><img src="http://img15.imageshack.us/img15/2938/d7f400f073704669a105b96.png" alt="program for generating activity logs"><br><br><h2>  The results of visualization of logs received by the program </h2><br><h3>  Code_swarm </h3><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/XIsOnU_jAKE%3Ffeature%3Doembed&amp;xid=17259,1500002,15700022,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhhSJroLGLIL2rmVBwPxs6BtuzjCzA" frameborder="0" allowfullscreen=""></iframe><br><blockquote><ul><li>  The central point in the circle (or the center of the circle) is a post. </li><li>  Highlighted points are comments, pros, reshars. </li></ul><br>  Each point has a unique name corresponding to the user who left it, so some of the points are the largest and fly from post to post - this active user. </blockquote><br><br><h3>  Gource </h3><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/3vhXOQIP7Mo%3Ffeature%3Doembed&amp;xid=17259,1500002,15700022,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhgSezO8CkQuZFeG-myQbc6ZeEIl-w" frameborder="0" allowfullscreen=""></iframe><br><blockquote><ul><li>  Lilac points - Reshar. </li><li>  Lettuce points - comments. </li><li>  Turquoise dots - pluses. </li><li>  Point between the three branches - post. </li></ul></blockquote><br><br><br><h1>  Result </h1><br>  I was once again convinced that in order to study any technology, it is necessary to motivate yourself, in this case, the motivation is a visual representation of the analyzed data, which in my case is very stimulating.  I am planning to study <a href="http://code.google.com/apis/analytics/">Google Analytics</a> and also plan to do a visualization of the statistics obtained, if you have any ideas on this issue you can share, api last.fm is also interesting. <br><br>  Your questions, comments are waiting in the comments. <br><br>  <b>UPD:</b> As promised in the comments, added log generation for <a href="http://clck.yandex.ru/redir/AiuY0DBWFJ4ePaEse6rgeAjgs2pI3DW99KUdgowt9XvqxGyo_rnZJjm8yb_44X6dr_Rb0DmaPGWa_TWEj3iF5ZvzPuSMABBEckoSQCSsvBYgd6evHylTDDLh02mywr3A69q4_WNszsfr2jisd3_gshdedt1iqoFu1I2RQ28fLZ6g19k0-h_7wQ%3Fdata%3DUlNrNmk5WktYejR0eWJFYk1Ldmtxc3E1cHZRaXk3em54Q3dSdzRaWHJvZWpTeDJWY3dYWkRHWWthOXBqYjVsRTROQzNuLXctWVd2VTRMTDZ6dndNQTF4Qk1XbVY5dklDYXpwS081TUZlRHE2YWxLRXFBWUhmdw%26b64e%3D2%26sign%3D19c105ce2a16f6ac391e7529db0ac6a5%26keyno%3D8%26l10n%3Dru%26mc%3D2750%26i%3D9">logstalgia</a> .  Here are the visualization results: <br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/zEf3Va7Fd7I%3Ffeature%3Doembed&amp;xid=17259,1500002,15700022,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhgv9zcRtYKSYaMIl4zQoWQ4F-KkDA" frameborder="0" allowfullscreen=""></iframe></div><p>Source: <a href="https://habr.com/ru/post/136491/">https://habr.com/ru/post/136491/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../136480/index.html">As you stumble with "dead souls" registered but not using the site</a></li>
<li><a href="../136481/index.html">Simple monitoring of SQL Server activity. Who is active?</a></li>
<li><a href="../136482/index.html">Implementation of ECM-solutions: what to talk with the client, part 2</a></li>
<li><a href="../136483/index.html">Face recognition by the human brain: 19 facts that computer vision researchers should be aware of</a></li>
<li><a href="../136484/index.html">Workreactor: Freelance vs Business</a></li>
<li><a href="../136492/index.html">Search on a site is not only search on a site</a></li>
<li><a href="../136493/index.html">One step closer to Star Trek, OLED panels at CES</a></li>
<li><a href="../136494/index.html">New service Payoneer: First of all cards, and partners only then ...</a></li>
<li><a href="../136495/index.html">Withdrawal of funds from freelance exchanges</a></li>
<li><a href="../136499/index.html">Jerry Yang permanently left Yahoo</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>