<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Processing text objects in ERP-systems</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The need for complex processing of text data stored in ERP-systems (and not only) occurs quite often. As an introduction to the following examples: 

...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Processing text objects in ERP-systems</h1><div class="post__text post__text-html js-mediator-article">  The need for complex processing of text data stored in ERP-systems (and not only) occurs quite often.  As an introduction to the following examples: <br><ul><li>  Unification of the names of the commodity nomenclature </li><li>  Automatic placement of formal attributes of goods based on their names or descriptions </li><li>  Conversion of postal addresses both for the purpose of unification and for formal structuring </li><li>  Determining the gender of a person by his name </li><li>  Extraction of information from notes to documents (for example, for automatic linking of a record from an extract with shipping documents) </li><li>  etc.  (you can still fantasize for a long time) </li></ul><br><a name="habracut"></a><br><br><h4>  Find out what we want </h4><br>  Over the years, having created many situational solutions for the listed and similar problems, we have come to the need to somehow universalize the approach to the entire listed set and with a margin for the future. <br><br>  Since we will work with texts that are entered with the most minimal observance of the rules, and more often and without them at all, the use of regular expressions, perl or awk languages ‚Äã‚Äãis not possible.  Quite accessible it is described on the same <a href="http://habrahabr.ru/post/192518">article</a> in the <a href="http://habrahabr.ru/post/192518">article devoted to a similar problem</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Our desires are as follows: <br><ul><li>  We want to convert the texts in the database so that they are as unified as possible. <br>  For example, there are two items ‚ÄúSoap Fluid.  PALMOL aromatherapy 300 ml "and" Palmolive liquid soap Vita-oil 300ml deep food ". <br>  We would like to see instead of these two names, say, such: <br>  "Liquid soap Palmolive aromatherapy 300ml" and "Liquid soap Palmolive Vita-oil 300ml deep nutrition". <br></li><li>  We really want to write fewer rules (especially since the syntax as will be seen below for objective and subjective reasons is not a gift).  Therefore, we will need some grouping options to replace several options with one at a stroke. <br>  Suppose: palmolive &lt;&lt; palmoliv | palmolv | palmmol. <br></li><li>  Many of our customers require marketers to have a good classification of products according to 20 attributes, and fitness clubs that we automate complain that an employee of a Peter Ivanovich visitor has determined that they belong to the female sex. <br>  Consequently, it is very important for us that the program automatically place brands, group membership, strength and capacity of alcoholic beverages among products - after all, the employees have already indicated everything or much in the names. <br>  In other words, a mechanism is needed to extract features from text objects and transform these features into formal attributes of entities. <br></li><li>  Sometimes it would be desirable, when replacing the text or extracting formal features from it, to limit the context of the application of the rule. <br>  The point is this: for example, the word ‚Äúpowder‚Äù can mean either sugar powder or cosmetic powder for the face (for English texts, everything can be even more significant).  If we limit the context, we can interpret this word differently.  Say, by limiting the context to the list of beauty brands, we can accurately classify the occurrences of the word ‚Äúpowder‚Äù in the product name as powder for a face. <br></li></ul><br><br><h4>  Let's start the decision </h4><br>  In fact, the task rests on the definition of language constructs, and actions on them.  It is a pity to create the 1001st language, but I had to, thankfully, it is not so complicated. <br><br>  Before talking about the language, I will define the concepts that it should implement: <br><ul><li>  Token - the literal definition of a word or separator character </li><li>  The token class is a grouping definition of a set of tokens that satisfy the built-in set of characteristics. <br>  Examples of classes of tokens: <br><ul><li>  a word is a sequence of characters without separators (a single separator is also a subset of this class) </li><li>  digital word - a sequence of decimal digits without delimiters </li><li>  digital word of a given length - a sequence of decimal digits without fixed-length delimiters </li><li>  ANY is not an empty sequence of words </li></ul></li><li>  Operation - an action that must be performed on any part of the text <br>  There are not many operations: <br><ul><li>  Replace - replace part of text with target expression </li><li>  Case change is a simple operation that ensures that the register of letters in words is set to one of three options: <br><ul><li>  All lower case </li><li>  All caps </li><li>  Capital (first capital, followed by lowercase) </li></ul></li><li>  Signal - the formation of a special well-structured string that is returned to the calling module in order to inform it that the text contains the appropriate construction and provide the ability to effectively perform some (at the discretion of the calling module) task </li></ul></li><li>  The source expression is the part of the source text on which it is necessary to perform any operation. </li><li>  The target expression is a construct that replaces the original expression or is an object of the signal. </li><li>  A group is part of the source expression that can be referenced in the target expression.  This concept is identical to the same concept in regular wounds. </li><li>  A cluster is a set of source expressions for which a common operation is defined. </li><li>  Option - in simple terms, the operator OR.  Used in source expressions for listing various constructions to which the same operation should be applied.  Strictly speaking, variant and cluster are almost synonymous.  The differences between them are syntactic. </li><li>  A tuple is a named cluster.  That is, a set of source expressions clothed with a name, due to which it can be repeatedly used in different constructions.  Naturally, tuples allow recursiveness ‚Äî that is, a symbol of another tuple can be an element or sub-element of a tuple. </li><li>  Context is a set of conditions that a text must satisfy in order for a rule to be applied.  We have not yet implemented this concept, but we imagine how it should work, then we‚Äôll do it soon. </li></ul><br><br>  In general, the text processing process consists of the following steps: <br><ul><li>  Parsing a set of rules </li><li>  For each text to be processed by this set of rules: <br><ul><li>  Converting text to a string of tokens: all letters of the text are converted to a lowercase register and the text is divided into tokens (words and delimiters), each token is dumped into a common pool (hash table), and the text to be processed turns into a chain of integer identifiers with which we will work. <br>  Important: processing rules go through a similar process of "digestion", as a result of which the identification of a simple match of tokens will be performed by an integer comparison. </li><li>  Indexing text.  I will describe the details of the indexation below. </li><li>  Each rule is applied alternately to the resulting text image.  If, as a result of applying the rule, the text has been transformed, the image is converted back into text and again into a digital chain.  Such a somersault can seem wasteful in terms of performance, however, (for now) it is needed because of the incomplete reversibility of the transformation (in particular, because of the operation of changing the register of characters), as well as because of the need to index the text. <br>  If the rule defines a signal operation, then a callback function is called with the resulting signal object. </li><li>  After the last rule has been processed, the final text is collected and used at the discretion of the calling module (the simplest is displayed in the log, but more often it replaces the original text) </li></ul></li></ul><br><br><h5>  Features of dividing text into lexemes </h5><br>  When splitting the original text into lexemes, in addition to the obvious separation by spaces and other delimiters, there is an implicit separation.  Now it is carried out between digital and non-digital characters. <br>  Let me give an example: the text ‚Äúmodel 900-a product‚Äù will be divided into the following lexemes: ‚Äúmodel‚Äù, ‚Äú900‚Äù, ‚Äú-‚Äù, ‚Äúa‚Äù, ‚Äú‚Äù, ‚Äúproduct‚Äù. <br><br><h4>  Tongue </h4><br>  Now you can proceed to the description of the language.  The description is not strict, I will concentrate more efforts on examples.  Now this technology works on the server Universe-HTT nightly processing more than 1.3 million items of goods on an updated set of rules.  In order not to be unfounded, I will give examples from this set. <br><br>  So. <br><h5>  General rules </h5><br>  The main part of the description language is lexemes themselves, so almost all the characters (spaces, tabs, and especially letters and numbers) are significant.  End of line - the end of the rule (or part of a cluster).  There is no transfer of a line (analogue of '\' in C macros). <br>  Only tail and leading spaces are not significant. <br>  The main prefix of service structures is%.  For the literal representation of the percent symbol, the "double" %% is used. <br><br><h5>  Comments </h5><br>  The characters% - followed by them to the end of the line are ignored as comments. <br><br><h5>  Source expression </h5><br>  To represent the original expression, literal lexemes are used with the use of service structures: <br><ul><li>  % s one or more space or tab characters </li><li>  % z zero or more space or tab characters </li><li>  % _ clear space.  Can be used at the end of a line (for trailing spaces are ignored) </li><li>  % t tab </li><li>  %  optional point  Abbreviations can be written with or without a dot.  In order not to produce extra rules, such a metacharacter is added. </li><li>  % - optional hyphen.  The controversial metacharacter.  Introduced because of frequent differences in the spelling of the same with and without a hyphen, but by itself it works poorly.  That's why: let's say it is necessary to unify the ‚Äúchupa chups‚Äù and ‚Äúchupa chups‚Äù.  The design of the ‚ÄúChupa% Chups‚Äù recognizes only the ‚ÄúChupa Chups‚Äù, but the ‚ÄúChupachops‚Äù is already a single lexeme that will not be recognized, the ‚ÄúChupa Chups‚Äù contains a space that we did not take into account.  Thus, to solve our problem, we will have to write a ‚Äúchupa% z% -% zpups‚Äù - the whole idea of ‚Äã‚Äãbrevity went to pieces.  However, there are cases when the optional hyphen works well.  This is a docking of numeric and alphabetic lexemes. </li><li>  % ^ Start text.  Important: not the line, namely the entire text. </li><li>  % $ End of text. </li><li>  % w Any single token. </li><li>  % d Digital token of any length.  This refers to a continuous sequence of decimal digits. </li><li>  % D [0-9] [0-9] A digital token of a specified length.  The length is strictly two digits.  For example: "% D08" - eight decimal digits following each other. </li><li>  % f Number with optional decimal point.  That is, both continuous sequences of decimal digits and two such sequences separated by dots fall under this pattern.  Leading minus is not considered.  If there are no numeric characters after a dot, only digits to the dot (without it) are taken into consideration. <br>  Examples: <br>  "100" - "100" <br>  "3.1415926" - "3.1415926" <br>  "-3.R" - "3" <br>  ‚Äú2.  5 ‚Äù-‚Äú 2 ‚Äù </li><li>  % (and%) denote the beginning and end of the group, respectively.  The most unpleasant from the point of view of use of syntax a construction. <br>  I will give an example of use: <br>  "% (% d%),% (% d%)%&gt;% 1.% 2" is the rule that turns two numeric comma-separated numbers into a number with a decimal point.  When I talked about the troubles of the pair,% (%) meant that the readability of the rule makes this pair very noticeable.  Alas, just the brackets can not be used (PMSM) due to the fact that they are too often found in live texts. </li><li>  % * Arbitrary, but not empty, sequence of tokens.  A very useful metacharacter for rearranging expressions in a text and as a palliative of contexts that have not yet been implemented. <br>  Examples: <br>  ‚ÄúPaint% (% *%) for hair%&gt; hair dye% 1‚Äù - we unify the names of the range of hair dyes. <br>  "Bag% (% *%) elk%&gt; bag% 1 elkay plastics" - elk is an abbreviation for elkay plastics, but not everywhere.  In the context of packages (bag) - yes. </li><li>  % @ cortegename.  Appeal to a tuple named cortegename (the dot after ‚Äúcortegename‚Äù is significant - it separates the symbol of the tuple from the subsequent text).  Examples of using tuples are given below. </li><li>  % |  Option.  Separates two variants of the original expression to apply the same operator to each of them. <br>  Examples: <br>  gift bag% &lt;gift bags% | gft bg% | gft bgs% | gft / bg - ‚Äúgift bags‚Äù, ‚Äúgft bg‚Äù, ‚Äúgft bgs‚Äù, ‚Äúgft / bg‚Äù will be replaced with ‚Äúgift bags‚Äù. <br>  for modeling% &lt;for modeler%.% | for modelers%.  - abbreviations ‚Äúfor modeler‚Äù and ‚Äúfor modellers‚Äù (with optional points) will be expanded to the full version ‚Äúfor modeling‚Äù. </li></ul><br><br><h5>  Target expression </h5><br>  As already mentioned, the target expression is used either to replace the source expression, or to signal the encountered source expression. <br>  The target expression, like the source expression, contains lexemes and service structures.  Here the range of metacharacters is poorer: <br><br><ul><li>  % [1-9] - Reference to the ordinal number of the group in the original expression for the substitution. <br>  Example: <br>  ‚ÄúMr%.% S% (% w%)%&gt; mr.% 1‚Äù - remove the spaces in the combinations ‚ÄúMr. x‚Äù between ‚Äúmr.‚Äù And the last name and add a period after ‚Äúmr‚Äù (if not). </li><li>  % _ - Just a clear space. </li><li>  % E - Empty line.  Due to the fact that the syntax of the rule does not allow the omission of the target expression, where it is provided for, this metacharacter saves the need to remove the found source expression. <br>  Example: <br>  "% ^ _%&gt;% E" - remove the leading space in the text. </li></ul><br><br><h5>  Operators </h5><br>  In the examples above, I have already demonstrated the use of the%&gt; (TO) and% &lt;(FROM) replacement operators. <br>  Here I will list all possible operators and give the necessary explanations: <br><ul><li>  %&gt; Transformation operator "B" ("TO").  Instructs to convert the left expression (which is treated as a source) to the right (target). <br>  Example: <br>  "% (% d%)% zcm3%&gt;% 1ml" - replace the unit of measurement "cube cm" to "ml". </li><li>  % &lt;Mirror to ‚ÄúTO‚Äù operator of conversion ‚ÄúFROM‚Äù (‚ÄúFROM‚Äù).  Prescribes to replace the right expression (treated as source) with the left (target) expression. <br>  Example: <br>  "20th% &lt;20 th" unify the writing of the 20th in English, removing the space. </li><li>  % A The operator converts all letters of the original expression to uppercase. </li><li>  % a operator converting all letters of the source expression to lowercase. </li><li>  % K The operator for converting all letter tokens of the original expression in such a way that the first letter of the word becomes uppercase, and the rest - lowercase (capital). </li><li>  %!  Signal operator  Instructs the target to signal that a given source has been encountered. <br>  Example: <br>  ‚ÄúDel monte%! Brand = del monte‚Äù - if the text contains a combination of ‚Äúdel monte‚Äù, the calling module will receive a signal of the type ‚Äúbrand = del monte‚Äù (for the Papyrus system, this means that the corresponding product should have the attribute ‚Äú trademark "meaning" del monte "). <br>  Below I will give a more complex example of the use of signals. </li><li>  % = Tuple naming operator.  Usually follows a cluster for assigning it a name for later use. <br>  I will discuss the clusters below, here I will just give a simple introductory example of a tuple: <br><pre><code class="hljs scala">%{ l<span class="hljs-symbol"><span class="hljs-symbol">'oreal</span></span> garnier revlon %}%=brandbeauty</code> </pre> </li></ul><br><br><h5>  Clusters </h5><br>  Clusters are needed to simplify the rule set. <br>  Syntactically, the cluster is made up with the% {and%} metacharacters at the beginning of lines, and the contents of the cluster are placed in the lines between these. <br>  After the cluster is defined, an operator should follow. <br>  An example of a clustered case-change operator: <br><pre> <code class="hljs mel">%{ edt edp edc bic lg cd usa e%_ qvs vs vsop xo       %}%A</code> </pre><br><br><h5>  Tuples </h5><br>  I have already walked through the tuples in some detail.  Here is an example of defining and using a tuple: <br><pre> <code class="hljs mel">%{ %dml %dl %d %d %}%=volume PET %1%&lt;pet%z%(%@volume.%)%|(pet%.)%.%z%(%@volume.%)%|pet%.%z%(%@volume.%)%|(pet)%.%z%(%@volume.%)</code> </pre><br>  In this example, the designation of plastic containers is unified before determining the capacity of the bottle.  In order not to list all possible units of capacity with a numerical value, we have combined them into a tuple named volume.  I note that we cannot simply formulate the replacement rule ‚ÄúPET% &lt;pet% | (pet%.)% | Pet%.% | (Pet)%.‚Äù Because the original expressions may have a completely different meaning outside the context of container capacity. <br><br><h5>  Promised complex example of using signals </h5><br>  An enterprise that sells automobile tires, from its corporate system, exports to its own online store the names of goods with balances and prices.  In their office, everyone is satisfied with the names and other classifications of goods.  At the same time, on the Internet site, a potential client should be able to choose tires by size, group, brand. <br>  The following example demonstrates the process of reformatting items of goods that came from an office system on a server that manages an online store with the subsequent placement of numerical parameters for tire sizes.  I will make a reservation that the example, although real, but reduced, here is only formalizing the sizes contained in the name in the format ‚Äúw / h Rd‚Äù. <br><br><pre> <code class="hljs mel">%{    %}%=tiretitle %(%@tiretitle.%) %(%f/%d%)x%(%f%)%&gt;%1 %2 R%3 %(%@tiretitle.%) %(%f%)x%(%f%)%&gt;%1 %2 R%3 %(%@tiretitle.%) %(%f/%d%)%(R%f%)%&gt;%1 %2 %3 %(%@tiretitle.%) %(%f/%d%)%(R%f%)%&gt;%1 %2 %3 %(%@tiretitle.%) %(%f%)%(R%f%)%&gt;%1 %2 %3 %(%@tiretitle.%) %(%f%)%(R%f%)%&gt;%1 %2 %3 %(%@tiretitle.%) %(%f/%d R%f%) %&gt;%1 %2c %(%@tiretitle.%) %(%f/%d R%f%) c%&gt;%1 %2c %(%@tiretitle.%) %(%f R%f%) %&gt;%1 %2c %(%@tiretitle.%) %(%f R%f%) c%&gt;%1 %2c %@tiretitle. %(%d%)/%(%d%)%sr%(%f%)%!class=tire; gcdimx=%1; gcdimz=%2; gcdimy=%3</code> </pre><br><br>  At the beginning of the determined tuple, allowing to distinguish tires from other products stored in the database. <br>  Next come the strings, (partially) formatting the names in a uniform view.  Finally, the last signal directive, instructs the system to set the goods that fall under a given format, class and numeric classifiers. <br><br><h4>  Performance </h4><br>  Given the huge number of text objects that have to be processed and the considerable number of rules applied to each of these objects (thousands and tens of thousands), the performance issue of the algorithms involved in the processing under consideration is not idle. <br><h5>  What we have taken to optimize the speed of execution </h5><br><ul><li>  First of all, as mentioned above, the comparison process is carried out at the level of integer identifiers of tokens.  In itself, this greatly facilitates the task, translating its dimension from the terms of the symbolic lengths of the text and rules to the terms of quantifying the chains of tokens. </li><li>  In order to shorten the constant execution time of the iteration of matching the source expression of the rule with the text, we had to get rid (as far as possible) of the operations of allocation and freeing memory.  All buffers, once distributed, are reused in subsequent iterations. </li><li>  Finally, the most significant acceleration (reducing the dimension of the task) is achieved by indexing the text to be processed.  Indexation, in general, does not constitute anything new: an index is compiled for each lexeme in the text and compares to it the position numbers in the text where it is found.  Since we use generalized classes defined by metacharacters, the occurrences of many of them in the text are also indexed (up to the numeric sequences of each of the 99 possible lengths). <br>  Obviously, acceleration is achieved here by quickly identifying the fact that there is no lexeme in the text or by quickly moving to the desired position of the text. <br>  We did not derive a theoretical estimate of the complexity of the resultant algorithm, but the absolute time of work on a test that performs a total of more than 4E9 matching operations improved by a third. <br>  I repent, I do not remember what it is called, but there is a classic algorithm for simply comparing a set of samples with text, with similar indexing. </li></ul><br>  In general, the previously mentioned processing of the directory of goods on the Universe-HTT, containing more than 1,300,000 items on a set of several thousand rules, is 3 and a half hours.  If someone can tell with what to compare it - I will be grateful. <br><br><h4>  What's next? </h4><br>  All that is not forgotten, told.  It remains to inform the public about what is missing. <br>  There are several important features that should be added to the described technology: <br><ul><li>  Contexts (I wrote about them a little higher).  In general terms, the idea is to specify a set of expressions that must occur in the text so that some rules can be applied. </li><li>  Stemming.  It is necessary to introduce into the language a construct that would allow to compare lexemes with regard to stemming. </li><li>  The include directive to include files, for example, with prepared tuples (a list of cities, brands, etc.). </li><li>  Simplified syntax directive.  The percent characters look very hard - in some cases, it would be possible to include a simplified syntax and use just the characters () {} &lt;&gt;!  as official.  If there is a possibility of confusion, disable the simplified syntax. </li></ul></div><p>Source: <a href="https://habr.com/ru/post/202502/">https://habr.com/ru/post/202502/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../202488/index.html">On content filtering in schools. Problems</a></li>
<li><a href="../202490/index.html">How I went to World Usability Day</a></li>
<li><a href="../202496/index.html">2GIS: yesterday, today, tomorrow</a></li>
<li><a href="../202498/index.html">What happens to the phone when driving - mobility procedures in cellular networks</a></li>
<li><a href="../202500/index.html">Acronis True Image: backup strategies</a></li>
<li><a href="../202506/index.html">The number of dangerous domains increased by 67%</a></li>
<li><a href="../202508/index.html">Modem 1200KN-01. Made in USSR</a></li>
<li><a href="../202514/index.html">Sold two million Raspberry Pi</a></li>
<li><a href="../202524/index.html">How to invest $ 100,000 in your own karma (part 2)</a></li>
<li><a href="../202526/index.html">How does Forex work and is it needed?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>