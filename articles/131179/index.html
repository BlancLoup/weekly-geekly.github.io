<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Roundcube + hMailServer or own mail in a small organization</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Not every organization can afford to purchase an expensive mail server like Microsoft Exchange Server, and because of its “tricky”, not every organiza...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">🔎</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">📜</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">⬆️</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">⬇️</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Roundcube + hMailServer or own mail in a small organization</h1><div class="post__text post__text-html js-mediator-article"><img src="http://games.16mb.com/image/cover.jpg" alt="image"><br><a name="habracut"></a>  Not every organization can afford to purchase an expensive mail server like Microsoft Exchange Server, and because of its “tricky”, not every organization needs it.  Some time ago, I was faced with the task of launching mail within an organization to exchange documents between departments. <habracut>  At once I will make a reservation that the organization in which I work is small, has 1 server and about 50 client machines.  The experience of working with mail servers is not.  After a brief search across the expanses of the network, it was decided to use the RoundCube + hMailServer combination.  This article <b>will not</b> review and describe all the strengths and weaknesses of such a bundle, but simply describe how to make it all work, but I will say that the main advantages of this solution are free and easy to set up. <br><br><h4>  A bit of theory </h4><br>  What are we dealing with ... <br>  <b>Mail server</b> - in the e-mail forwarding system, the so-called message transfer agent is usually called.  This is a computer program that transmits messages from one computer to another.  Typically, the mail server works behind the scenes, and users deal with another program — the email client. <br>  <b>hMailServer</b> is a free mail server for the Windows platform.  Runs as a Windows service and includes administration and backup tools.  Supports IMAP, POP3 and SMTP mail protocols.  To store settings and indexes, it uses databases like MySQL, MS SQL or PostgreSQL, and the email messages themselves are stored on the hard disk in MIME format. <br>  <b>RoundCube Webmail</b> is a web-based e-mail client written in PHP using CSS and XHTML and AJAX technology.  RoundCube Webmail is installed on almost any server with PHP and MySQL support and provides the ability to work with mailboxes using IMAP and SMTP protocols.  It has many extensions. <br>  To get started, you need to download the following components: <br>  1) <a href="http://www.hmailserver.com/index.php%3Fpage%3Ddownload">hMailServer</a> <br>  2) <a href="http://roundcube.net/">RoundCube Webmail</a> <br>  3) <a href="http://vertrigo.sourceforge.net/">VertrigoServ</a> web server (you can use any other) <br>  And so, having downloaded everything you need or having made sure that it is available, you can safely proceed to the beginning of the installation. <br><br><h4>  Practice </h4><br>  <b>Stage Zero:</b> Set the network card with a static IP address.  This article will use IP <code>192.168.0.45</code> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>Step One:</b> Install VertrigoServ. <br>  I don’t think it’s worthwhile to detail the installation of this web server, since  There is nothing intricate in this process. <br><br>  <b>Step Two:</b> Install hMailServer. <br>  I will not describe the entire installation process, we will consider only the main points.  At the “Select Components” stage, we select “Full Installation”, then at the “Database type” stage we select “Use external database engine (MSSQL, MySQL or PostgreSQL) and installation will start a couple more times by clicking“ Next ”.  Toward the end of the installation, run the hMailServer Database Setup application, in which you need to specify the type of database and set the connection details. <br><br><img src="http://games.16mb.com/image/3.jpg" alt="image"><br><br>  Consider setting up the connection step by step: <br>  Step 1 of 7 - just click “Next” <br>  Step 2 of 7 - select "Create a new hMailServer database" <br>  Step 3 of 7 - select “MySQL” and in order to avoid any problems at step 6, copy the libmysql.dll file located in the folder with the installed VertrigoServ to the <code>\hMailServer\Bin\</code> folder <br>  Step 4 of 7 - enter the following data: <br>  Database server address - <code>127.0.0.1</code> (or <code>localhost</code> ) <br>  Port - 3306 <br>  Database name - hmail (as an example) <br>  Username - root <br>  Password - vertrigo <br>  Step 5 of 7 - skip <br>  Step 6 of 7 - just click “Next” (provided that the data in step 4 is correct, a database is created) <br>  Step 7 of 7 - “Close” <br>  The final step in installing hMailServer is the “Specify main password”, which sets the “master” password to access the program.  After the password is set, the installation is considered complete. <br><br>  Now let's do the Russification of the program, if you think that your knowledge of English is enough to work with the program, feel free to skip this item.  For Russification, it is necessary to temporarily stop the hMailServer service, for this we go to “Start - Control Panel - Administration - Services”.  In the list we find hMailServer, right-click the drop-down menu in which we select the “Stop” command. <br><br><img src="http://games.16mb.com/image/4.jpg" alt="image"><br><br>  Everything, the service is stopped.  Now <a href="">download the</a> file with Russification and place it in the <code>\hMailServer\Languages\</code> folder.  It remains only to enter the name of the localization file in the hMailServer configuration file. To do this, open the <code>\hMailServer\Bin\hMailServer.ini</code> file and add <code>«ValidLanguages=english,swedish,russian»</code> .  Save and close the file.  We start the hMailServer service (right-click the drop-down menu in which we select the “Start” command). <br><br>  <b>Step Three:</b> Initial configuration of hMailServer. <br>  Run the hMailServer Administrator utility.  The “Connect” window appears, in which, selecting the single entry, click on the “Connect” button <br><br><img src="http://games.16mb.com/image/5.jpg" alt="image"><br><br>  The program asks you to enter a password, which was set at the final stage of the hMailServer installation.  Entering the password, we get to the main window of the administrative part of hMail.  In the menu "File - Select language ..." choose "russian" and click "OK", the program will automatically restart, after which it will "speak" in Russian. <br>  The setting is intuitive, first you need to click on the "Add domain" button, select " <b>test.loc</b> " as the domain name, and click the "Save" button (more detailed setting of the mail domain in this article will not be considered). <br><br><img src="http://games.16mb.com/image/6.jpg" alt="image"><br><br>  Create an account, to do this, go to the “Accounts” folder in the left part of the program, and click the “Add ...” button in the right part of the program.  Enter any username (for example, test), specify the password and click the “Save” button (more detailed user settings in this article will not be considered).  And so, the first user <b>test@test.loc</b> appears on our mail server. <br><br><img src="http://games.16mb.com/image/7.jpg" alt="image"><br><br>  Actually, on this hMailServer pre-configuration can be considered complete, go on. <br><br>  <b>Stage Four:</b> Installing RoundCube. <br>  First you need to transfer the contents of the roundcubemail archive to the <code>\VertrigoServ\www\</code> folder (you can remove all the “stuffing” beforehand).  Now in the phpMyAdmin web application we create a MySQL database for RoundCubeMail, to do this, open a browser and enter “ <code><a href="http://127.0.0.1/phpmyadmin/"></a> 127.0.0.1/phpmyadmin</code>  <code><a href="http://127.0.0.1/phpmyadmin/"></a> 127.0.0.1/phpmyadmin</code> ”as a login, enter: root, password: vertrigo (standard credentials for VertrigoServ).  In the “New Database” field, enter a name, for example, “roundcube” and press the “Create” button. <br><br><img src="http://games.16mb.com/image/8.jpg" alt="image"><br><br>  The database is created, go directly to the installation of the RoundCubeMail script.  In the address bar of the browser, enter " <code><a href="http://127.0.0.1/installer/index.php"></a> 127.0.0.1/installer/index.php</code>  <code><a href="http://127.0.0.1/installer/index.php"></a> 127.0.0.1/installer/index.php</code> ”and click“ Enter ”.  Once on the “Roundcube Webmail Installer” page, click the “Start installation” button.  Installation takes place in three stages. <br>  <i>1. Check environment</i> .  There is a check whether your system meets the requirements of the script.  Click the button “Next” if it is not available, carefully read the information on the page and correct the shortcomings. <br><br><img src="http://games.16mb.com/image/9.jpg" alt="image"><br><br>  <i>2. Create config</i> .  Consider the points to set / change. <br>  General configuration block: <br> <code>product_name –   </code> <br> <br>  Database setup block: <br> <code>Database type – MySQL <br> Database server – localhost <br> Database name – roundcube <br> Database user name – root <br> Database password – vertrigo</code> <br> <br>  IMAP Settings block: <br> <code>default_host – 192.168.0.45 <br> username_domain – test.loc</code> <br> <br>  SMTP Settings block: <br> <code>smtp_server – localhost</code> <br> <br>  Display settings &amp; user prefs block: <br> <code>language – ru_RU</code> <br> <br>  After you have made all the necessary changes, click on the “Create config” button to redirect us to the page where you are invited to download the created configuration files. <br><br><img src="http://games.16mb.com/image/10.jpg" alt="image"><br><br>  Download the generated configuration files and copy them to the <code>\VertrigoServ\www\config\</code> folder.  Go back to the browser and click the button "Continue". <br>  <i>3. Test config</i> .  This is the final stage of installation, you can check the correctness of the configuration.  To do this, the hMailServer service must be running. <br>  In the “Test SMTP config” block, in the “Sender” and “Recipient” fields we enter the address of our only user test@test.loc, click on the “Send test mail” button, if the message “SMTP send: <font color="green">OK</font> ” <font color="green">appears</font> - this part means configured correctly, otherwise check in the configuration file main.inc.php parameter <code>$rcmail_config['smtp_server'] = 'localhost';</code>  . <br>  Now we check if IMAP is working, in the “Test IMAP config” block we select 192.168.0.45 as the server, Username: test@test.loc, Password: the password that was entered when creating the user.  Click the “Check login” button if as a result we get the message “IMAP connect: <font color="green">OK</font> ” then everything is configured correctly, otherwise check the parameter <code>$rcmail_config['default_host'] = '192.168.0.45';</code> in the configuration file main.inc.php <code>$rcmail_config['default_host'] = '192.168.0.45';</code>  . <br>  Making sure that everything works, go to the <code>\VertrigoServ\www\</code> directory and delete the “Installer” folder. <br>  This completes the RoundCube Webmail installation. <br><br>  <b>Step Five:</b> Log in to Roundcube. <br>  This stage is final, here we will log in under the login details of the user that was created in the third stage, test@test.loc.  To begin, open the browser and enter in the address bar <code><a href="http://192.168.0.45/"></a> 192.168.0.45</code>  <code><a href="http://192.168.0.45/"></a> 192.168.0.45</code> , clicking "Enter" we get to the authorization page Roundcube.  In the “Username” field, enter <b>test@test.loc</b> or just test.  We enter the password that was entered when creating the user.  Click on the "Login" button and find yourself inside your first mailbox! <br><br><img src="http://games.16mb.com/image/11.jpg" alt="image"><br><br>  That's all.  This article describes the basic settings bundles RoundCube + hMailServer.  Thank you for reading to the end! </habracut></div><p>Source: <a href="https://habr.com/ru/post/131179/">https://habr.com/ru/post/131179/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../131171/index.html">Fixed point calculations. Basic Principles (Part 1)</a></li>
<li><a href="../131172/index.html">The head of RIM in Russia answered the questions Nomobile.ru and habraludey</a></li>
<li><a href="../131174/index.html">Ciklum Java Subbotnik in Minsk - as it were</a></li>
<li><a href="../131175/index.html">What to do if you are at risk of 38 billion (or less) for copyright infringement</a></li>
<li><a href="../131177/index.html">Dynamic cards, SMS driver and resource monetization</a></li>
<li><a href="../131180/index.html">Benefit from the Donate button</a></li>
<li><a href="../131184/index.html">TechCrunch Moscow 2011</a></li>
<li><a href="../131185/index.html">Cyber ​​Illusionist Marcus Tempest Tricks</a></li>
<li><a href="../131189/index.html">New Chrome Webstore Design</a></li>
<li><a href="../131190/index.html">Automate the preparation of blank tests</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>