<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Self-Service with Cisco UCS Director: How to enable users to independently create virtual servers</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Have you heard about Cisco UCS Director ? 
 Ready to start exploring this product? 
 Then I will show you how to make the end users to create a reques...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Self-Service with Cisco UCS Director: How to enable users to independently create virtual servers</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/03c/66b/fe9/03c66bfe9e999e713e7aeab97bd9b66b.jpg" alt="   yourself online" title="Create a virtual machine yourself online"><br><br>  Have you heard about <b><a href="http://habrahabr.ru/company/it-grad/blog/226925/">Cisco UCS Director</a></b> ? <br>  Ready to start exploring this product? <br>  Then I will show you how to make the end users to create a request on the Cisco UCS Director self-service portal and automatically get a ready-made virtual machine. <br><a name="habracut"></a><br>  To do this, we will learn how to create sets of policies and merge several policies into a group within the vDC framework, as well as create a directory (template) based on these policies, to provide users with access to this directory through the self-service portal. <br><br>  Let's start with the infrastructure.  The infrastructure, on the basis of which we will perform all the settings, consists of: <br><ul><li>  NetApp Clustered DataONTAP 8.2 Simulator as a disk array; </li><li>  virtual infrastructure deployed on the base: </li><li>  ESXi appliance 5.5.0; </li><li>  vCenter appliance 5.5.0a. </li></ul><br>  It looks like this: <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/d1d/b01/0a8/d1db010a8fe5228edd85e8a30b958ed5.png" alt="    " title="Infrastructure for virtual machine deployment"></a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Immediately, I note that all the settings of policies and parameters for the template (s) of virtual machines in our post will be related to the VMWare vSphere infrastructure. <br><br><h1>  Creating a template (directory) based on policies </h1>  In this section, I will describe the process of preparing a template for a virtual machine based on the CentOS 6.4 distribution, publishing this template on the Self-service portal and providing access for the end user to this template (directory). <br><br><h1>  Policies </h1>  First of all, we will create a set of policies that allow us to manage the virtual machine template, limit the set of resources (CPU, Memory, Disk usage) and allow the user to select a certain amount of resources when creating the machine (within the limits allowed, of course). <br>  First, let's understand what ‚ÄúPolicy‚Äù is in UCSD terminology.  Almost literal translation of the documentation is: <br>  Policies are a set of rules that determine where and how a virtual machine will be deployed, taking into account the existing infrastructure and the availability of system resources. <br>  In general, this is a comprehensive explanation.  It remains to add that policies can (and should) be defined not only for virtual machines, but also for hardware servers, disk arrays and even network devices.  A description of such policies is beyond the scope of my post. <br>  Policies for virtual machines in UCSD are divided into four groups: <br><br><ul><li>  Computing; </li><li>  Storage; </li><li>  Network; </li><li>  System. </li></ul><br><h4>  Computing policy </h4><br>  This type of policy: <br><br><ul><li>  Allows you to explicitly select the desired ESX server (s), cluster and resource pool to host the virtual machine; </li><li>  Automate the selection of an ESX server using the task conditions (Minimum conditions) for hosting a virtual machine (in other words, it allows you to specify the criteria for selecting an ESX server); </li><li>  Change the deployment options of the machine; </li><li>  Provide the user with the ability to independently select the required amount of resources (the amount of vCPU and memory) from the range specified by the administrator. </li></ul><br>  To create a policy in the UCSD interface, go to the Policies -&gt; Computing -&gt; VMWare Computing Policy tab. <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/21c/7cc/b0f/21c7ccb0fffb3e7966cab85e6bf1de62.png" alt="Computing policy   UCSD" title="Creating Computing policy in UCSD interface"></a> <br><br>  And we add a new policy by clicking on the Add button: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e5c/d98/f24/e5cd98f2476bd0029165075f35e37b83.png" alt="  Computing policy" title="Setting the parameters Computing policy"><br><br>  In our case, we will set the following parameters: <br><table><tbody><tr><th>  Policy name </th><th>  CentOS_vm_computing </th></tr><tr><td>  Cloud name </td><td>  IT-GRAD-TEST </td></tr><tr><td>  Resizing options </td><td>  Allow resizing of VM (checkbox enable) </td></tr><tr><td>  Permitting value for vCPUs </td><td>  1,2,4 </td></tr><tr><td>  Permitting value for Memory in Mb </td><td>  1024.2048,4192 </td></tr></tbody></table><br>  Save the policy in the directory. <br><br><h4>  Storage policy </h4><br>  This type of policy: <br><br><ul><li>  Defines a set of datastores on which a virtual machine can be placed, and also provides the choice of the required datastore for the user </li><li>  Allows you to specify the type of datastore allowed for use; </li><li>  Allows you to specify a set of conditions (Minimum condition) for selecting a datastor (Capacity, latency, etc); </li><li>  Allows you to set additional policies for disks - choosing the type of disk: data, database, log, swap (do not ask me how these policies affect the distribution of disk space and performance, I don‚Äôt have an answer to this question;)). </li></ul><br><br>  To create a policy in the UCSD interface, go to the Policies -&gt; Storage -&gt; VMWare Storage Policy tab. <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/9a2/356/9f5/9a23569f5d2c7a42892be971a214bc78.png" alt=" Storage policy   UCSD" title="Creating Storage policy in UCSD interface"></a> <br><br>  Set the parameters: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8ec/963/ee6/8ec963ee6f047024cda0e42f07e69333.png" alt="   Storage policy" title="Setting parameters for storage policy"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/8e0/5ff/14f/8e05ff14ff44a09f143c422b37ae024f.png" alt="   Storage policy" title="Setting parameters for storage policy"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/053/dd4/12c/053dd412c3d84597ebc846e1fef811a6.png" alt="   Storage policy" title="Setting parameters for storage policy"><br><br>  Click Next, go to the very mysterious page with the settings Additional Disk Policy, leave it all unchanged. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/186/2c9/cf3/1862c9cf35ab46e5c1b5a481bc8b8d6f.png" alt="   Storage policy" title="Setting parameters for storage policy"><br><br>  Total we got a new entity - VMWare Storage Policy with the following settings: <br><table><tbody><tr><th>  Policy name </th><th>  CentOS_vm_computing </th></tr><tr><td>  Cloud name </td><td>  IT-GRAD-TEST </td></tr><tr><td>  Datastore scope </td><td>  Include selected </td></tr><tr><td>  Selected datastore </td><td>  vs1_nfs1 (in our case) </td></tr><tr><td>  Use shared datastore </td><td>  checkbox uncheck </td></tr><tr><td>  Use local storage </td><td>  checkbox uncheck </td></tr><tr><td>  Use NFS </td><td>  checkbox enable </td></tr><tr><td>  Use SAN </td><td>  checkbox enable </td></tr><tr><td>  Allow resizing of disk </td><td>  checkbox enable </td></tr><tr><td>  Permitted values ‚Äã‚Äãof disk in Gb </td><td>  16.40 </td></tr></tbody></table><br><h4>  Network policy </h4><br>  At once I will specify that the described policy has no relation to the network equipment and is responsible only for the configuration of the network subsystem of the virtual machine being created. <br>  This type of policy: <br><ul><li>  Allows you to configure ip address selection parameters (DHCP, IP Pool or Static IP); </li><li>  Allow adding additional network adapters when creating a virtual machine; </li><li>  Allows you to specify the required PortGroup to host the virtual machine; </li><li>  Allows you to determine the type of network adapter. </li></ul><br>  To create a policy in the UCSD interface, go to the Policies -&gt; Network -&gt; VMWare Network Policy tab. <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/1f8/c62/284/1f8c6228408b8d862a03066fbbbd89cc.png" alt=" Network policy   UCSD" title="Creating a network policy in the UCSD interface"></a> <br><br>  Set the parameters: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/216/254/3e5/2162543e5eb9ef2c4cdc9d9e625ac6ce.png" alt="   Network policy" title="Setting parameters for network policy"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/9c2/a0f/939/9c2a0f939daf29c24dda5219e9b4f808.png" alt="   Network policy" title="Setting parameters for network policy"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/ddd/c9b/3dc/dddc9b3dcaa6bcc9aa1f4aadaec3a56c.png" alt="   Network policy" title="Setting parameters for network policy"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/6d3/4ed/b17/6d34edb1721182b8c710d0b465697e40.png" alt="   Network policy" title="Setting parameters for network policy"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/9a8/9cc/f3e/9a89ccf3e60b7dea81a856bdf3ed7dff.png" alt="   Network policy" title="Setting parameters for network policy"><br><br>  Next, click Submit to win.  As a result, we received a policy in which the number of adapters, the type of adapter, the PortGroup on the virtual switch, the pool of static addresses from which the address for the virtual machine can be taken is determined. <br><table><tbody><tr><th>  Policy name </th><th>  CentOS_vm_computing </th></tr><tr><td>  Cloud name </td><td>  IT-GRAD-TEST </td></tr><tr><td>  VM Network </td><td></td></tr><tr><td>  Nic alias </td><td>  vNIC1 </td></tr><tr><td>  Adapter type </td><td>  VMXNET3 </td></tr><tr><td>  Port group </td><td>  VM Network </td></tr><tr><td>  IPv4 configuration </td><td></td></tr><tr><td>  Select IP address type </td><td>  Static </td></tr><tr><td>  Select IP address source </td><td>  Inline IP Pool </td></tr><tr><td>  Static IP Pool </td><td>  192.168.1.2-192.168.1.10 </td></tr><tr><td>  Netmask </td><td>  255.255.255.0 </td></tr><tr><td>  Gateway ip address </td><td>  192.168.1.1 </td></tr></tbody></table><br><h4>  System policy </h4><br>  The final type of policy that we will look at in this post is the system policy. <br>  This type of policy: <br><br><ul><li>  Defines the system parameters of a virtual machine, such as the VM name pattern and the host name pattern (the hostname at the OS level); </li><li>  DNS settings, such as name servers and domain suffix; </li><li>  Timezone settings for Linux OS; </li><li>  The choice of the operating system to be installed, and many others (see Cisco UCS Director Administration Guide, Release 4.1). </li></ul><br>  To create a policy in the UCSD interface, go to the Policies -&gt; Service Delivery -&gt; VMWare System Policy tab. <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/0f9/5c6/182/0f95c618237a68071d85229d9c72286c.png" alt=" System policy   USCD" title="Creating a System policy in the UCSD interface"></a> <br><br>  There are few settings in this section: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/95b/c94/e65/95bc94e65ea7e1c6d132634f09b27e3e.png" alt=" System policy" title="System policy setting"><br><table><tbody><tr><th>  Policy name </th><th>  CentOS_vm_computing </th></tr><tr><td>  VM name template </td><td>  vm - $ {USER_NAME} </td></tr><tr><td>  Power on after deploy </td><td>  Checkbox enable </td></tr><tr><td>  Host name template </td><td>  testvm1 </td></tr><tr><td>  DNS domain </td><td>  Test.local </td></tr><tr><td>  Linux time zone </td><td>  Europe / Moscow </td></tr><tr><td>  VM Image Type </td><td>  Linux only </td></tr></tbody></table><br>  At this policy settings are finished, all the necessary policies are created.  Next, we must combine all our policies into a group and publish our template (application) on the self-service portal. <br><br><h4>  VDC creation </h4><br>  In terminology, UCSD vDC is an object within which a certain set of virtual resources, virtual machine images (templates) and policies are grouped together.  vDC provides the ability to provide management of a strictly defined set of resources at the level of user groups or organizations created in UCSD. <br><br>  Using vDC, we can: <br><br><ul><li>  Provide the ability to manage resource sets to organizations or groups; </li><li> Set resource quotas for organizations or groups; </li><li>  Determine the set of actions allowed to the end user with respect to the virtual machines associated with the vDC; </li><li>  Determine the policy that will perform the set of actions described using WorkFlow, after the end user creates a virtual machine; </li><li>  Define a set of predefined actions (based on regular workflows) that a user can perform with a virtual machine in a given vDC; </li><li>  Specify requirements for up-to-date resource allocation requests and identify users responsible for aprvuv requests at the vDC level. </li></ul><br><br>  To create a policy in the UCSD interface, go to the Policies -&gt; Virtual Data Centers -&gt; vDC tab: <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/255/cff/7ca/255cff7cabe6f14119de632ef12ebe16.png" alt=" Virtual DataCenters (vDC)" title="Create Virtual DataCenters (vDC)"></a> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/41e/aca/a72/41eacaa7284682d27ca4943d9ece9993.png" alt=" Virtual DataCenter (vDC)" title="Configuring Virtual DataCenter (vDC)"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/078/1fe/6d6/0781fe6d6c3c89fa20b2af3590d6e397.png" alt=" Virtual DataCenter (vDC)" title="Configuring Virtual DataCenter (vDC)"><br><br>  In our case, we have defined the following settings: <br><table><tbody><tr><th>  vDC Name </th><th>  vDC_cust1 </th></tr><tr><td>  Group </td><td>  Cust1 </td></tr><tr><td>  Cloud name </td><td>  IT-GRAD-TEST </td></tr><tr><td>  Policies </td><td></td></tr><tr><td>  System policy </td><td>  CentOS_vm_system </td></tr><tr><td>  Computing policy </td><td>  CentOS_vm_computing </td></tr><tr><td>  Network policy </td><td>  CentOS_vm_network </td></tr><tr><td>  Storage policy </td><td>  CentOS_vm_storage </td></tr><tr><td>  End User self-service options </td><td></td></tr><tr><td>  Vm power management </td><td>  checkbox enable </td></tr><tr><td>  VM snapshot management </td><td>  checkbox enable </td></tr><tr><td>  VM Network management </td><td>  checkbox enable </td></tr></tbody></table><br>  So, we have configured the vDC.  Setting a group in the settings of our vDC means that users of the specified group get access to the resources grouped for our vDC. <br><br>  We also gave our users the ability to manage the state (on / off), manage snapshots and network settings for virtual machines associated with vDC. <br><br><h4>  Catalog creation </h4><br>  We are gradually approaching the finale of our work and at the final stage we need to create a catalog.  What is it? <br><br>  Catalog is an object on the basis of which the user on the self-service portal will be able to form a request to create a virtual machine (and not only that, of course, but we also make out a special case).  In other words, it is an interface for providing a certain service or set of services for the end user. <br><br>  There are four types of directories in UCSD (for details, see the Cisco UCS Director Administration Guide, Release 4.1).  In our case, we will use the Standard type directory, which is intended just for storing virtual machine templates for creating ready-made VMs at the user's request. <br><br>  To create a policy in the UCSD interface, go to the Policies -&gt; Catalog tab: <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/217/95a/f70/21795af70137e85e33f289dd9d90a5d1.png" alt="  (Catalog)" title="Catalog creation"></a> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d39/7a6/d0c/d397a6d0cb369e2b32c0fca885ec9b18.png" alt="  (Catalog)" title="Catalog creation"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/ed1/cf9/8a7/ed1cf98a7edf0a1d3dcd261fe31c429a.png" alt="  (Catalog)" title="Catalog Settings (Catalog)"><br><table><tbody><tr><th>  Catalog name </th><th>  CentOS_vm_Cust1 </th></tr><tr><td>  Catalog type </td><td>  Standard </td></tr><tr><td>  Catalog Icon </td><td>  VM: CentOS Linux </td></tr><tr><td>  Selected groups </td><td>  Cust1 </td></tr><tr><td>  Cloud Name </td><td>  IT-GRAD-TEST </td></tr><tr><td>  VM Images </td><td>  CentOS </td></tr><tr><td>  Category </td><td>  Generic vm </td></tr><tr><td>  Specify OS </td><td>  Linux - CentOS </td></tr></tbody></table><br>  Actually, we set all the necessary settings for us on the first two pages of the catalog creation form: Basic Information and Application Details.  I will leave the rest of the settings unchanged, if someone wants to know more about these settings - more, we‚Äôve repeatedly mentioned the UCSD administrator‚Äôs manual. <br><br>  After creating the catalog, it is automatically published on the self-service portal and is available to the members of the group that we have chosen. <br><br>  So, we have finished the basic part of our settings, having received as a result vDC with a set of policies and a directory with a given operating system template.  What's next? <br><br><h1>  Work with Self-Service Portal </h1><h4>  Users and groups in UCSD </h4><br>  First of all, I will describe the procedure for creating a group (I hope everyone understands that our group Cust1 was created before the creation of the vDC and the directory).  To do this, go to the tab Administration -&gt; Users and Groups -&gt; User Groups: <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/611/fd4/70d/611fd470dfa4eb4fa5b924db5e6c243c.png" alt="   UCSD" title="Creating a group in UCSD"></a> <br><br>  And run the form to create a new group: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/87c/7bd/a84/87c7bda84d8d1781bccd6e0fd46501b2.png" alt="  " title="Group settings"><br><br>  Actually creating a group should not cause any difficulties.  The most interesting thing we will do after the creation of the group - we will set a set of restrictions on the resources that can be used by users belonging to our group.  We can set limits for: <br><br><ul><li>  Virtual resources; </li><li>  Operating system resources; </li><li>  Physical resources. </li></ul><br><br>  In order to set the limits, we need to select the group we need from the list of already created ones and run the ‚ÄúEdit resource limits‚Äù form <br><br><img src="https://habrastorage.org/getpro/habr/post_images/27f/2ac/3a1/27f2ac3a12cdbae29c0e581b9ead5c16.png" alt="     " title="Creating resource limits for a specific group"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/f2a/19d/a33/f2a19da335c5c1a9e4edef121e83c464.png" alt="     " title="Creating resource limits for a specific group"><br><br>  Do not forget to enable the checkbox "Enable resource limits".  A detailed description of all the form settings is in the document "Cisco UCS Director Administration Guide, Release 4.1". <br><br>  Now let's create our user who will be given access to the self-service portal.  To do this, go to the tab Administration -&gt; Users and Groups -&gt; Login Users <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/1bd/825/ea6/1bd825ea64111195ee17c78d17ddcff5.png" alt="       " title="Creating a user with access rights to the self-service portal"></a> <br><br>  And add a new user <br><br><img src="https://habrastorage.org/getpro/habr/post_images/add/6da/18f/add6da18fdd75099f7b7a33d5f2d105f.png" alt="  " title="Add new user"><br><br>  A few comments: <br><ol><li>  The type of user Service End-User defines the ability for a user to log in and use the self-service portal.  In other words, this is a built-in role that defines the user's access rights to the set of resources of the service portal. </li><li>  Pay attention to the group that we set for the user.  This is the group we specified when creating the vDC and directory.  Actually due to the binding of our user to the desired group, we give him the opportunity to use the directory created by us (in other words, receive the service). </li></ol><br><br><h4>  Self-Service portal </h4><br>  And finally, for the sake of which we did all the previous settings - the self-service portal.  Access to the portal is very easy to get; all you need to do is to access the standard link under the enduser user we created. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d28/679/9f9/d286799f906152a9c0f6a32581267652.png" alt="  " title="Self-Service Portal Interface"><br><br>  On the portal interface, the CentOS-vm_Cust1 directory created earlier will automatically be available to us.  Let's try to create a virtual machine deployment request.  To do this, you can either select an available directory and click on ‚ÄúCreate Request‚Äù <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c01/956/491/c01956491374c5b326957d0364364e1c.png" alt="     " title="Create a request to create a virtual machine"><br><br>  Or simply double-click on the desired directory.  In both cases, a request creation form will appear: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f32/522/840/f3252284088343713a462e69d724d5ed.png" alt="     " title="Create a request to create a virtual machine"><br><br>  Click Next <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9a3/8bc/3dc/9a38bc3dcae7196039d4a12c1ce4defc.png" alt="  vDC     " title="Choosing an available vDC and virtual machine deployment time"><br><br>  Here we can choose the vDC available to us and the deployment time of the virtual machine (we can schedule the time we need).  We say that we want to deploy the machine right now and click Next. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/631/d57/88c/631d5788cec1c4e2f130ea6e977b684a.png" alt="    " title="Setting the required virtual machine resources"><br><br>  I want to get a virtual machine with 2 vCPUs, 4 gigs of RAM and 16 GB of vHDD.  I set the necessary parameters, as shown in the figure above.  And shake Next. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1b0/0e5/08f/1b00e508fa526514955bef4dbfed6a8c.png" alt=" workflow" title="Custom workflow"><br><br>  Custom workflow we have not yet tied to our template, so just click Next. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6c4/b5e/9ff/6c4b5e9fff2b5a527fbb74f77f636d4d.png" alt="    " title="Create Virtual Machine Summary"><br><br>  This completes the creation of the request, you can view the summary and click Submit. <br><br><h4>  Service Request Status </h4><br>  Of course, it will be interesting for us to follow the progress of our application.  UCSD self-service portal has a convenient interface for viewing the status and logs of the request execution. <br><br>  We need to go to the portal page called ‚ÄúServices‚Äù and select the request we need from the list: <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/5f0/816/d38/5f0816d382762de8d6c0cd5f8aa4c09b.png" alt="     " title="View the status and logs of requests"></a> <br><br>  To view the details, either double-click on the necessary request, or click ‚ÄúView Details‚Äù <br><br><img src="https://habrastorage.org/getpro/habr/post_images/752/6c5/2f7/7526c52f7b1936698027747aa564aef4.png" alt="  " title="View request details"><br><br>  We see the stages of the request and their current status.  What is done, what is performed, what results. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4df/e26/a21/4dfe26a218427b10b9945a61240125d6.png" alt="     " title="Query execution stages and current status"><br><br>  All stages of our request completed successfully.  The result is a new virtual machine. <br><br>  And now a few words about setting up confirmation of user actions on the UCSD self-service portal. <br><br><h4>  Configuring user confirmation in the UCSD self-service portal </h4><br>  To do this, go to the menu Policies -&gt; Virtual Data Centers.  We select vDC vDC_Cust1, the creation of which was described in the post ‚ÄúSelf-Service with Cisco UCS Director: How to enable users to independently create virtual servers‚Äù and edit it. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/152/b9a/70e/152b9a70e0957c5b3631eb7c296f9533.png" alt="   " title="Configuring user confirmation"><br><br>  We are interested in the section "Approvers and Contacts".  In the field ‚ÄúFirst Approver Username‚Äù we can specify the name of the user to whom a confirmation request will be sent.  Let's set the username as admin and save the settings. <br><br>  A user in the self-service portal generates a request to create a VM.  Let's look at the query execution log: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b03/efa/44e/b03efa44e353f482f2246d48bdf9c918.png" alt="      " title="Log of the request to create a virtual machine"><br><br>  Administrator to confirm the execution of the request, go to the menu Organizations -&gt; My approvals, select the desired request in the status of Pending <br><br><img src="https://habrastorage.org/getpro/habr/post_images/668/bd0/16a/668bd016a7c0a6deddde5e9f890058ad.png" alt="     " title="Confirming a request to create a virtual machine"><br><br>  And choose Approve or Reject <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a0c/048/d34/a0c048d34c73f328d22561f35a501cd5.png" alt="     " title="Confirming a request to create a virtual machine"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/6ac/3b0/625/6ac3b0625791c34ae0537885b8b38f3c.png" alt="     " title="Confirming a request to create a virtual machine"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/9e1/bbc/df5/9e1bbcdf54591ce0abe91b425c7cac7e.png" alt="image"><br><br>  With this, I‚Äôll finish the story about the functionality of UCSD in the field of provisioning virtual machines and the self-service portal.  Thanks to those who read to the end, I hope the post will be useful for those who are starting to get acquainted with the product. </div><p>Source: <a href="https://habr.com/ru/post/226473/">https://habr.com/ru/post/226473/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../226461/index.html">How to become a good programmer?</a></li>
<li><a href="../226465/index.html">10 main conclusions that I made during the Year of Productivity Studies</a></li>
<li><a href="../226467/index.html">Stories that taught you a lot - habra competition</a></li>
<li><a href="../226469/index.html">Making multiplayer games on Go and WebSocket</a></li>
<li><a href="../226471/index.html">How to reduce critical system downtime</a></li>
<li><a href="../226477/index.html">The price of 3D printing, and how to independently calculate the cost of 3D printing</a></li>
<li><a href="../226479/index.html">Blackphone, protected from listening to the smartphone, will go on sale in July</a></li>
<li><a href="../226481/index.html">Restoring a PostgreSQL database from a WAL backup with skipping part of records</a></li>
<li><a href="../226483/index.html">Startup step by step: the future of online education</a></li>
<li><a href="../226487/index.html">Kdump - diagnosis and analysis of the causes of kernel failures</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>