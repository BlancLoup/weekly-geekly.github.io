<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Job Schneiders, NTT: ‚ÄúLarge BGP Communities ‚Äî A Solution to the Routing Problem between AS Operators‚Äù</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In August of this year, a discussion appeared on the IETF archives about how to solve the problem of sharing meta-information between autonomous syste...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Job Schneiders, NTT: ‚ÄúLarge BGP Communities ‚Äî A Solution to the Routing Problem between AS Operators‚Äù</h1><div class="post__text post__text-html js-mediator-article">  In August of this year, a <a href="https://www.ietf.org/mail-archive/web/idr/current/msg16009.html">discussion</a> appeared <a href="https://www.ietf.org/mail-archive/web/idr/current/msg16009.html">on the</a> <a href="https://ru.wikipedia.org/wiki/%25D0%2598%25D0%25BD%25D0%25B6%25D0%25B5%25D0%25BD%25D0%25B5%25D1%2580%25D0%25BD%25D1%258B%25D0%25B9_%25D1%2581%25D0%25BE%25D0%25B2%25D0%25B5%25D1%2582_%25D0%2598%25D0%25BD%25D1%2582%25D0%25B5%25D1%2580%25D0%25BD%25D0%25B5%25D1%2582%25D0%25B0">IETF</a> archives <a href="https://www.ietf.org/mail-archive/web/idr/current/msg16009.html">about</a> how to solve the problem of sharing meta-information between autonomous systems (AS) using the RFC1997 BGP communities method. <br><br>  The fact is that the Internet again threatens to ‚Äúend‚Äù, and in a most unexpected way - because of the ‚Äúskeleton in the closet‚Äù or a particular, but widespread case, illustrating how serious the problem of technical debt, known to any developer, can be.  First, we observed the problem of exhaustion of the pool of IPv4 addresses, as a solution to which the non-100% functioning IPv6 standard was put into operation.  Now, before our eyes, another tumor is brewing, connected, however, with all the same network routing. <br><br>  The open letter to the IETF, written by Job Schneiders of <a href="https://ru.wikipedia.org/wiki/Nippon_Telegraph_and_Telephone">NTT,</a> serves as the start of a public discussion of a problem that threatens to become critical soon.  The fact is that the main convenience of RFC1997 is 32-bit recording.  The first 16 bits belong to the ASN, the last 16 bits carry some meaning.  However, now one of the five autonomous system operators in the network has a 4-byte ASN (RFC4893) (4 bytes = 32 bits), which makes it impossible to use 16-bit writing (the 32-bit value simply does not hold). <br><blockquote><h4>  An example of a Large BGP Community is: <font color="red">2914: 1299: 40</font> . </h4></blockquote>  We contacted Yob Schneiders directly to comment on this issue. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/b31/766/c9c/b31766c9cfcd40498c2f92bd4596fd38.jpg"><br>  <em><a href="http://instituut.net/~job/">Job Schneiders</a> , IP Development Engineer at NTT Communications, founder of <a href="https://ring.nlnog.net/">NLNOG RING</a> , vice president of PeeringDB.</em> <br><a name="habracut"></a><br>  <b>Yob, in a nutshell, can you explain why the larger BGP community is the solution to this problem?</b> <br><br>  It's simple: RFC 1997 BGP Communities is what all ISP (Internet Service Providers) use to exchange meta-information between autonomous systems.  RFC 1997 style offers you 2 bytes, new Large Communities - 8 bytes, which meets the requirements of many operators. <br><br>  <b>Why is the problem aggravated with each new ASN placed?</b> <br><br>  IANA has exhausted 2-byte ASNs, so by default you will be assigned a 4-byte ASN, unless you ask otherwise.  This means that using best practices such as communities for internal markup and routing will not be available to you.  At least in standard ways, as other operators and networks do.  You cannot simply increase the complexity of network policies using existing documents ‚Äî this increases the likelihood of errors. <br><br>  <b>How does this problem affect Internet providers and regular users?</b> <br><br>  Ordinary end users, such as our parents, are unlikely to ever encounter this problem, but its direct consequence is imperfect routing, sending traffic across the ocean when it could be localized.  Most people will not feel the difference, but for workers of the ‚ÄúInternet sewage‚Äù any network distances above 50 ms are usually noticeable and require avoidance. <br><br>  <b>How can you understand or test the problem?</b> <br><br>  If you have a BGP session with a 4-byte ASN or you have been assigned a 4-byte ASN by the RIPE NCC, this is your concern.  This limits the options that you can provide to consumers, as it is necessary to use either a private number or capture someone else's. <br><br>  <b>Is there any way to avoid or solve the problem?</b> <br><br>  To date, there is no good way to avoid problems.  RFC 1997 BGP communities is some <a href="https://ru.wikipedia.org/wiki/%25D0%259B%25D0%25B8%25D0%25BD%25D0%25B3%25D0%25B2%25D0%25B0_%25D1%2584%25D1%2580%25D0%25B0%25D0%25BD%25D0%25BA%25D0%25B0">‚ÄúLingua Franca‚Äù</a> (a term that unites one language of different ethnic groups) between network operators, but there is no international agreement.  Some network operators use private 2-byte ASNs in the first two bytes of RFC 1997 communities, and other operators use Extended BGP Communities for other purposes.  The result is ‚Äúnot the best‚Äù methods that harm the operator community. <br><br>  <b>Finally, why is this an emergency?</b> <br><br>  It is because of the exhaustion of the IANA numbers for AS.  Your local RIR, ARIN, APNIC, Afrinic, LACNIC and RIPE will no longer have resources to exchange.  Previously, they allowed networks with problems to return 32-bit ASN instead of 16-bit, but this option will close for them soon. <br><br>  Anyone who wants to be part of the process should join the <a href="https://www.ietf.org/mail-archive/web/idr/current/msg16009.html">IDR mailing list</a> and read the archive.  The IETF will vote on this issue until September 20. <br><br>  ¬ªLarge BGP Communities IETF <a href="http://tools.ietf.org/html/draft-heitz-idr-large-community">Specification</a> . <br>  ¬ª <a href="http://largebgpcommunities.net/">Large BGP Communities</a> webpage. <br><br>  For support of Large BGP communities, contact your vendor. </div><p>Source: <a href="https://habr.com/ru/post/309864/">https://habr.com/ru/post/309864/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../309852/index.html">DevFest season 2016 in 10 cities of Russia</a></li>
<li><a href="../309854/index.html">Five kinds of game crafting systems</a></li>
<li><a href="../309856/index.html">We are recruiting a technical support team: instructions for use</a></li>
<li><a href="../309858/index.html">PHP 7.1: Overview of New Features</a></li>
<li><a href="../309860/index.html">MaterialViewPager - an example of creating a unique application</a></li>
<li><a href="../309866/index.html">5 ideas on game analytics</a></li>
<li><a href="../309870/index.html">Google Tango: control the robot in augmented reality mode</a></li>
<li><a href="../309872/index.html">Eddystone beacons to control power consumption</a></li>
<li><a href="../309874/index.html">Business Development for SaaS Services: Strategy Design Design</a></li>
<li><a href="../309876/index.html">Google Device Lab Winners: Explore Project Tango</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>