<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Manage Windows Server over SSH in the Azure Pack Infrastructure Cloud</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article, we will look at how to quickly and simply configure SSH connectivity to a Windows Server and manage heterogeneous infrastructures on ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Manage Windows Server over SSH in the Azure Pack Infrastructure Cloud</h1><div class="post__text post__text-html js-mediator-article">  In this article, we will look at how to quickly and simply configure SSH connectivity to a Windows Server and manage heterogeneous infrastructures on Windows and Linux through a terminal, connecting in a single way. <br><br>  This method will especially help macOS and Linux users in managing heterogeneous infrastructures through the terminal, as there is still no full-fledged RSRP provider for Powershell Core (but <a href="https://github.com/PowerShell/psl-omi-provider">Microsoft is working on it</a> ), so simply connecting to the Windows Server from cross-platform Powershell Core is not will succeed.  We will be helped by <a href="https://github.com/PowerShell/Win32-OpenSSH/releases">OpenSSH for Windows</a> , which is actively developing, and Microsoft <a href="http://www.zdnet.com/article/microsoft-becomes-openbsds-first-gold-contributor/">supports</a> this development <a href="http://www.zdnet.com/article/microsoft-becomes-openbsds-first-gold-contributor/">financially</a> . <br><br>  In the <a href="https://infoboxcloud.ru/community/">Azure Pack Infrastructure</a> cloud <a href="https://infoboxcloud.ru/community/">from InfoboxCloud,</a> we have already pre-created an image with <a href="https://infoboxcloud.ru/community/blog/azurepack/460.html">Windows Server, version 1709</a> <strong>for modern web applications and services requiring the Microsoft stack</strong> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The image is preinstalled and configured: <br><br><ul><li>  <strong>Openssh</strong> .  Just create a virtual machine, forward port 22 and you can connect via SSH. </li><li>  <strong>chocolatey package manager</strong> , allowing you to upgrade everything pre-configured with <em>choco upgrade all</em> and quickly install additional software. </li><li>  <strong>Windows Subsystem for Linux</strong> .  You can simply install the appropriate Linux distribution in Windows and have a familiar environment, well suited for administrative tasks. </li><li>  <strong>Support for Windows containers and Docker</strong> (docker, docker-compose, docker-machine and consul are pre-installed, the ability to quickly install kubernetes if necessary). </li></ul><br>  The article also describes how to add support for SSH on Windows on your own server or virtual machine. <br> <a href="https://infoboxcloud.ru/"><img src="https://habrastorage.org/getpro/habr/post_images/2b3/ced/567/2b3ced5670a2b930c3c86470547e2e14.png" width="800"></a> <br>  <strong>At the end of the article a discount on the cloud</strong> . <br><a name="habracut"></a><br><h4>  Why do I need to connect to the Windows Server via SSH </h4><br>  Modern heterogeneous IT infrastructures are more convenient to maintain using a single connection method, both to Windows and to Linux, with the ability to connect servers to each other, run automation scripts, collect data, and so on.  Also, a modern administrator's computer can work not only on Windows, but also on Linux or macOS and the ability to use the usual method of connection through the console will help users use Windows Server effectively.  In <a href="https://infoboxcloud.ru/services/azurepack/">our cloud, the</a> cost of Windows and Linux virtual machines is the same, and you can choose the best OS for your task without compromising. <br><br><h4>  How to connect to Windows Server over SSH? </h4><br><h5>  Ready image for modern web applications and services </h5><br>  <a href="https://infoboxcloud.ru/request">Fill out the form</a> to access the cloud. <br>  We will pre-create all the required infrastructure for you and you can immediately start working. <br><br>  To connect via SSH as a login, use Administrator, the password specified when creating servers (will be sent in a letter with access). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/22f/759/a42/22f759a42a42dace419b92094f5617d7.jpg" width="800"><br><br>  The connection is successful; you can work with both the CMD and Powershell from your familiar environment with the most modern Windows Server version 1709. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a27/c57/1ab/a27c571abfeef274fb4ddea6c3ea1136.jpg" width="800"></div><br>  If you want to create servers yourself - use the image "WS1709 DC Core EN SSH Docker". <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/819/d26/6ad/819d266ad42dfd8e60da849f2b49ed5e.jpg" width="800"></div><br>  To update the OS, use the command <br><br><pre><code class="hljs">sconfig</code> </pre> <br>  To update the preinstalled software, the command: <br><br><pre> <code class="hljs pgsql">choco upgrade <span class="hljs-keyword"><span class="hljs-keyword">all</span></span></code> </pre> <br>  Need a GUI to manage your OS without it?  Read the last article about <a href="https://infoboxcloud.ru/community/blog/azurepack/456.html">Project Honolulu</a> - a web-based management interface for modern Windows Server. <br><br><h5>  Self-installing OpenSSH on a Windows Server </h5><br>  If you are already using Windows Server ( <a href="https://infoboxcloud.ru/">come</a> and we will migrate to the cloud and put everything to you :)), below we will tell you how to install OpenSSH yourself in the simplest way. <br><br>  We will do this on the example of the usual Windows Server 2016. Connect to the server via RDP (port 3389). <br>  Run Powershell as administrator. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bad/4bc/a91/bad4bca91bab21fcb03a19bb821288f4.jpg" width="400"></div><br><br>  Install the Chocolatey package manager with the command: <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">Set</span></span>-ExecutionPolicy Bypass -Scope Process -Force; iex ((<span class="hljs-built_in"><span class="hljs-built_in">New</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">Object</span></span> <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.Net.WebClient).DownloadString(<span class="hljs-string"><span class="hljs-string">'https://chocolatey.org/install.ps1'</span></span>))</code> </pre> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/86a/9e1/f40/86a9e1f40506823744b15eaf69ccfe0b.jpg" width="800"></div><br><br>  Now run the command: <br><br><pre> <code class="hljs cs">choco install openssh -<span class="hljs-keyword"><span class="hljs-keyword">params</span></span> <span class="hljs-string"><span class="hljs-string">'"/SSHServerFeature"'</span></span></code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1d1/be9/6c2/1d1be96c2951776daf71efbf4935b6f1.jpg" width="800"></div><br><br>  To update the environment variables of an already running terminal, run the following command: <br><br><pre> <code class="hljs">refreshenv</code> </pre> <br>  Check the connection to the Windows Server over SSH. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8bf/007/131/8bf00713131e5dea4ce739dd37d86ec4.jpg" width="600"></div><br><br>  To enable the ability to execute remote commands, run Powershell and enter: <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">Enable</span></span>-PSRemoting</code> </pre> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/069/ea5/0cc/069ea50ccfc0e1d131f49738345f5aaa.jpg" width="800"></div><br><br>  Now you can fully manage Windows Server over SSH and from the Windows Server console connect to other Linux ‚Äì servers even without installing Linux on Windows Subsystem for Linux (WSL). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1da/548/de0/1da548de0e7eb0b70e2e4453a20ebb0b.jpg" width="800"></div><br><br><h4>  25% off on cloud for article readers </h4><br>  In the following articles we will look at other technologies from the image for modern web applications and services on Windows, but we can not wait for a new article.  To all new users who submitted an application before December 15, 2017, we give a <strong>25% discount on Azure Pack Infrastructure cloud resources by</strong> March 1, 2018. <br><br>  To get the discount, fill out the form <a href="https://infoboxcloud.ru/request">https://infoboxcloud.ru/request</a> and in the comment field enter the secret code: ‚ÄúDiscount 25% from habr for innovation‚Äù.  It will also be useful if you specify the required number of servers, for each number of processor cores, RAM, disk, and the desired OS.  If you need to transfer the current IT infrastructure to the cloud - we will help with this. <br><br>  If you have comments or suggestions in a new way, how to make it even more convenient - <a href="">write to us</a> . <br><br>  Have a great day and successful work! </div><p>Source: <a href="https://habr.com/ru/post/342870/">https://habr.com/ru/post/342870/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../342852/index.html">LiveXAML is a useful tool for Xamarin developer</a></li>
<li><a href="../342860/index.html">Startup history ROI4CIO: Is it possible to automate the sale of IT solutions in the B2B sector and not only?</a></li>
<li><a href="../342862/index.html">Should I use the tabular model SSAS?</a></li>
<li><a href="../342864/index.html">The second wave cnPilot</a></li>
<li><a href="../342868/index.html">Indexing is global and not very</a></li>
<li><a href="../342872/index.html">How to make a simple three-dimensional toy on Unity in two days</a></li>
<li><a href="../342876/index.html">Impression of the 3rd Innovate or Die Conference</a></li>
<li><a href="../342880/index.html">Why you have no future without a strategy?</a></li>
<li><a href="../342882/index.html">Digital Friday 2017</a></li>
<li><a href="../342884/index.html">The story of the creation of the second game on Unity (or how I found strength after the first failure)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>