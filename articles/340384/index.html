<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Creating a component library using Storybook</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 


 Nowadays, the development of the interface is quite a costly process that requires efforts from many people, developers, designers, p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Creating a component library using Storybook</h1><div class="post__text post__text-html js-mediator-article"><h3>  Introduction </h3><br><img src="https://habrastorage.org/webt/59/eb/02/59eb02d7b7b9a154360010.gif" alt="image"><br><br>  Nowadays, the development of the interface is quite a costly process that requires efforts from many people, developers, designers, product testers, managers and so on. <br><br>  Companies are increasingly resorting to writing an interface consisting of many independent components that can be reused.  Many designers create a design project that describes every detail of the design.  They use a number of tools for documenting interfaces, the first ones that come to mind are axshare.com and zeplin.com.  The same photoshop, in which they have everything laid out strictly according to daddy.  This allows them to easily work on the design of the project, update and add new pages, simply by copying the existing developments. <br><a name="habracut"></a><br>  And what about the developers?  Yes, we have Angular, React, Vue, Ember, Polymer.  All these tools in one way or another allow us to create components with their further reuse.  But tell me how, can you look at the project in the same way as a designer does?  Where can I see all the components that are used in the project, find out their properties or just try it?  How can I find out if the component I need is implemented?  Such questions are already beginning to arise in medium-sized projects.  Of course, I can go and ask a colleague, but these are unnecessary communications, which are ineffective due to a variety of reasons.  A colleague may simply not understand the essence of your problem and point you to a similar component that you will finish for a long time. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      A typical situation is when you are at the stage of evaluating new functionality, going through the documentation of a new page that you have to develop, all components look familiar, all of them are already used somewhere, and you estimate a new task relying on the fact that some components are already implemented.  Agreeing on the timing and starting a new sprint, a little digging in the code, you realize with horror that reuse the component does not work, that it depends entirely on other components, and in general this is all conceptually incorrect. <br><br>  You have only two choices. <br><br><ul><li>  Copy-paste and create another similar component. </li><li>  Development of a new component, a multifunctional component </li></ul><br>  Of course, there is also a third option, to improve / expand the old component.  But as experience tells me, it is even more expensive than writing a new one.  The effort to correct errors grows with each new stage of development of the project.  The more fundamental the shortage is, the more expensive it is to correct it. <br><br>  A good choice is to develop a new component.  But here you pass the baton of that unfair developer.  Given that the deadlines are on, you may have time to develop a new component, but you will not have time to make it common. <br><br>  The question why it happened so can be answered as follows: <br><br><ul><li>  The developer who developed the component is selfish and did not think about the future fate of the component. </li><li>  Previously, it was not planned to reuse this component elsewhere. </li><li>  You did not know that this component cannot be reused. </li><li>  You did not know about the existence of a more suitable component. </li></ul><br>  With the growing trend for distributed development and reusable components, there is a need for additional tools.  There are a huge number of different tools for different tasks and need front-end developers. <br>  In this article, I would like to highlight React Storybook for components written using React.js and Vue.js or even React Native.  With its use in the project, you can easily avoid the situations described above. <br><br><blockquote>  Storybook is the environment for developing UI components.  Storybook allows you to browse the library of components, see the various states of the components and interactively develop and test components. </blockquote><blockquote>  Storybook runs separately from your application.  This allows components to be developed in isolation, which improves the ability to reuse components, testability and speed of their development.  You can create new components quickly and without any dependencies of the main project. <br>  Here you can see examples of using Storybook <a href="https://storybook.js.org/examples">https://storybook.js.org/examples</a> / <br>  Storybook has many extensions and a rich API to extend its functionality, as well as support for React Native. </blockquote>  Let's look at the use of Storybook from the perspective of the various participants in the creation process and the secondary processes supporting the application interface. <br><br><h4>  As a UI \ UX Designer </h4><br>  You will have the opportunity to try live and check the component implemented by the developer.  See all possible component states and provide full feedback. <br><br><h4>  As a developer </h4><br>  You will have a library of components, you will no longer be guessing whether you have such a component or not, you can try, play with the component and find out the possibilities of using it as part of your current task.  It is very important both for the developer, to be able to see all the components that are used in the project and to know all their features.  Of course, you can spend a lot of time studying the source code, but it will be much easier to find the necessary component with the necessary properties visually, and then go into details. <br>  You can develop components in an isolated environment that does not require raising the entire project locally.  The isolated environment implicitly stimulates you to develop components with a more thoughtful API and with the idea of ‚Äã‚Äãthe possibility of its reuse in any part of the project.  You are thinking about the incoming parameters, from the user's point of view, and you understand which parameters would be convenient for the potential user.  Also you are thinking about isolating styles.  Among other things, you get a real workbench for developing components.  You can customize the Storybook environment as you like and use things like HMR from the box. <br><br><h4>  As a tester </h4><br>  You will have the opportunity to test each component separately and independently of others.  No need to launch the whole project.  You can simply open your Storybook with the components you are interested in and conduct absolutely any E2E tests. <br><br><h4>  As product manager </h4><br>  The product manager often works together with the designer, because it is he who speaks, whatever functionality he would like to see.  As a product to the manager, working on a new page it will be useful for you to know already existing elements and to be able to try them interactively.  And as if the designer to sketch a new sketch from already existing pieces. <br><br><h3>  Installation </h3><br>  The way Storybook finds it in a node / npm ecosystem is very simple.  You can install the main cli tool using one of your favorite package managers Yarn or NPM. <br><br><pre><code class="bash hljs">yarn global add @storybook/cli</code> </pre> <br>  Now you can use this tool to initialize a Stroybook in your project. <br>  For experiments, we need a project.  As an example, take a stub from create-react-app.  I will omit the description and features of create-react-app, this is a very useful and easy-to-understand tool, you can read more <a href="https://github.com/facebookincubator/create-react-app">here</a> . <br><br>  Install and create a new project using create-react-app <br><br><pre> <code class="bash hljs">yarn global add create-react-appi</code> </pre> <br>  Create a project <br><br><pre> <code class="bash hljs">create-react-app my-app</code> </pre> <br>  Go to the project directory <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> my-app</code> </pre> <br>  And run it <br><br><pre> <code class="bash hljs">yarn start</code> </pre> <br>  A fresh project created using create-react-app will open in the browser. <br>  Now we have an app for experimenting with a Storybook, so let's get started. <br><br>  To initialize Storybook run the following command from the root of the project. <br><br><pre> <code class="bash hljs">getstorybook</code> </pre> <br>  This command determines the type of project, does the necessary checks and establishes dependencies. <br><br><img src="https://habrastorage.org/webt/59/eb/05/59eb051cb543e220860574.png" alt="image"><br><br>  After that, the project will appear newly created folder <b>.storybook</b> and <b>stories</b> <br><br><img src="https://habrastorage.org/webt/59/eb/05/59eb05cfb229e582851728.png" alt="image"><br><br>  The <b>.storybook</b> folder contains all sorts of configuration files.  We will deal with them later.  At the moment, we are interested in the <b>stories</b> folder. <br>  It contains a library of components.  After the Storybook is initialized in the project, a file with one example is created by default.  Let's run the Storybook and take a look at it. <br><br><pre> <code class="bash hljs">yarn storybook</code> </pre> <br>  The storybook will be available at <a href="http://localhost:6006/">http: // localhost: 6006 /</a> <br><br><img src="https://habrastorage.org/webt/59/eb/06/59eb066d87fcf286816550.png" alt="image"><br><br>  The page has a simple interface.  On the left we see a panel with hierarchical folders of components with the ability to search.  On the right is a fairly large work area in which your components and other information will be displayed. <br><br>  And the bottom panel which is used as an interactive tool to which you can display various information and component controls.  The arrangement of these panels is configurable. <br><br>  And so, let's take some component as a basis in order not to waste time and not write your own. <br><br>  I chose react-select <br><br><pre> <code class="bash hljs">yarn add react-select</code> </pre> <br>  Create a Select folder with the index.js file in src as follows <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React, { Component } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Select <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react-select'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'react-select/dist/react-select.css'</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SelectWrapper</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ state = { <span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> } onChange = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">value</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({ value, }) <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.onChange(value) } render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> &lt;Select { ...</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-function"><span class="hljs-params">.props } value={</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-function"><span class="hljs-params">.state.value} onChange={</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-function"><span class="hljs-params">.onChange} </span></span><span class="hljs-regexp"><span class="hljs-function"><span class="hljs-params"><span class="hljs-regexp">/&gt; ) } } SelectWrapper.defaultProps = { onChange: () =&gt; {} } export default SelectWrapper;</span></span></span></span></span></span></code> </pre><br>  This is just a small wrapper for state storage. <br><br>  Now let's add our component to the Storybook. <br><br>  This is done very simply: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Select <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../Select'</span></span></code> </pre> <br><pre> <code class="javascript hljs">storiesOf(<span class="hljs-string"><span class="hljs-string">"React select"</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>) .add(<span class="hljs-string"><span class="hljs-string">'General'</span></span>, () =&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Select</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">options</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{options}</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">)</span></span></code> </pre> <br>  The code is intuitive.  <b>storiesOf</b> creates a category in which you can add various components. <br>  Let's add react-select to our Storybook with the option of multiple selections. <br><br><pre> <code class="javascript hljs"> storiesOf(<span class="hljs-string"><span class="hljs-string">"React select"</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>) .add(<span class="hljs-string"><span class="hljs-string">'General'</span></span>, () =&gt; &lt;Select options={options} /&gt;) .add('With multi prop', () =&gt; &lt;Select options={options} multi /&gt;) // </code> </pre> <br><img src="https://habrastorage.org/webt/59/eb/22/59eb22b1261ee654213583.png" alt="image"><br><br><h3>  Storybook build </h3><br>  Not unimportant feature is the ability to collect Storybook in static files, which can be for example to publish on any site or use within the company as documentation. <br><br>  Just run <br><br><pre> <code class="bash hljs">yarn build-storybook</code> </pre> <br>  By default, files are stacked in a <b>storybook-static</b> .  You can open them in any browser. <br><br><h3>  Webpack and other configuration </h3><br>  By default, Storybook tries to understand your environment and use a number of settings that allow you to build and display a Storybook.  But there are cases when you can not do without additional configuration. <br><br>  You can add webpack.config.js to your .storybook directory. <br><br>  Often this config will be very simple. <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// you can use this file to add your custom webpack plugins, loaders and anything you like. // This is just the basic way to add additional webpack configurations. // For more information refer the docs: https://storybook.js.org/configurations/custom-webpack-config // IMPORTANT // When you add this file, we won't add the default configurations which is similar // to "React Create App". This only has babel loader to load JavaScript. const mainConfig = require('../webpack.config') module.exports = { plugins: [ // your custom plugins ], module: mainConfig.module };</span></span></code> </pre><br>  As you can see, this is just the import of the config from the main project.  In our experiments, you do not need this config. <br><br><h3>  Using Add-ons </h3><br>  Storybook has a number of recommended add-ons. <br><br><ul><li>  <a href="https://github.com/storybooks/storybook/blob/master/addons/storyshots">storyshots</a> - snapshot testing </li><li>  <a href="https://github.com/storybooks/storybook/blob/master/addons/actions">actions</a> - Logging of actions </li><li>  <a href="https://github.com/storybooks/storybook/blob/master/addons/links">links</a> - Creating links between pages Storybook </li><li>  <a href="https://github.com/storybooks/storybook/blob/master/addons/comments">comments</a> - Commenting </li><li>  <a href="https://github.com/storybooks/storybook/blob/master/addons/info">info</a> - Component Abstract </li><li>  <a href="https://github.com/storybooks/storybook/blob/master/addons/knobs">knobs</a> - Editing component parts </li><li>  <a href="https://github.com/storybooks/storybook/blob/master/addons/options">options</a> - Customizing a UI Storybook </li></ul><br>  Let's go back and look at the default examples. <br><br><pre> <code class="javascript hljs">storiesOf(<span class="hljs-string"><span class="hljs-string">'Welcome'</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>).add(<span class="hljs-string"><span class="hljs-string">'to Storybook'</span></span>, () =&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Welcome</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">showApp</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{linkTo(</span></span></span></span><span class="xml"><span class="hljs-tag">'</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">Button</span></span></span></span><span class="xml"><span class="hljs-tag">')} /&gt;</span></span></span><span class="xml">); storiesOf('Button', module) .add('with text', () =&gt; </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">onClick</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{action(</span></span></span></span><span class="xml"><span class="hljs-tag">'</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">clicked</span></span></span></span><span class="xml"><span class="hljs-tag">')}&gt;</span></span></span><span class="xml">Hello Button</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">) .add('with some emoji', () =&gt; </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">onClick</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{action(</span></span></span></span><span class="xml"><span class="hljs-tag">'</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">clicked</span></span></span></span><span class="xml"><span class="hljs-tag">')}&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">)</span></span></code> </pre> <br>  addition <b>action</b> , creates some kind of function, the result of which you see in Action Logger.  This can be useful for logging parameters by type onApply or onClick. <br><br><img src="https://habrastorage.org/webt/59/eb/29/59eb29a5c4d39396322507.png" alt="image"><br><br>  Quite useful are the so-called <b>knobs</b> .  They allow you to edit the parameters passed to the component. <br><br><pre> <code class="bash hljs">yarn add @storybook/addon-knobs</code> </pre> <br>  You must import the installed module into <b>addons.js</b> in the <b>.storybook</b> directory <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'@storybook/addon-knobs/register'</span></span></code> </pre> <br>  And in <b>stories / index.js</b> import the <b>knobs</b> we <b>need</b> <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { withKnobs, text, boolean, number } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@storybook/addon-knobs'</span></span>;</code> </pre> <br>  Let's add the ability to interactively manipulate a button. <br><br><pre> <code class="javascript hljs">storiesOf(<span class="hljs-string"><span class="hljs-string">'Button'</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>) .addDecorator(withKnobs) .add(<span class="hljs-string"><span class="hljs-string">'with text'</span></span>, () =&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">onClick</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{action(</span></span></span></span><span class="xml"><span class="hljs-tag">'</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">clicked</span></span></span></span><span class="xml"><span class="hljs-tag">')}&gt;</span></span></span><span class="xml">Hello Button</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span>) .add(<span class="hljs-string"><span class="hljs-string">'with some emoji'</span></span>, () =&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">onClick</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{action(</span></span></span></span><span class="xml"><span class="hljs-tag">'</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">clicked</span></span></span></span><span class="xml"><span class="hljs-tag">')}&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span>) .add(<span class="hljs-string"><span class="hljs-string">'Interactive demo'</span></span>, () =&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">disabled</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{boolean(</span></span></span></span><span class="xml"><span class="hljs-tag">'</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">Disabled</span></span></span></span><span class="xml"><span class="hljs-tag">', </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">false</span></span></span></span><span class="xml"><span class="hljs-tag">)}&gt;</span></span></span><span class="xml">{text('Button text', 'Default')}</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span>)</code> </pre> <br><img src="https://habrastorage.org/webt/59/eb/80/59eb8025b10eb609537817.png" alt="image"><br><br>  Now we can change the text of the button and use the <b>boolean</b> to set the state of the button. <br><br>  Another very useful add-on is Info, this add-on automatically documents the component's external API. <br><br><pre> <code class="bash hljs">yarn add @storybook/addon-info</code> </pre> <br>  Import module <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { withInfo } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@storybook/addon-info'</span></span>;</code> </pre><br>  And let's change our button code a little bit. <br><br><pre> <code class="javascript hljs">.add(<span class="hljs-string"><span class="hljs-string">'Interactive demo 2'</span></span>, withInfo(<span class="hljs-string"><span class="hljs-string">'doc string about my button component'</span></span>)(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> &lt;Button disabled={boolean(<span class="hljs-string"><span class="hljs-string">'Disabled'</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>)}&gt;{text(<span class="hljs-string"><span class="hljs-string">'Button text'</span></span>, <span class="hljs-string"><span class="hljs-string">'Default'</span></span>)}&lt;<span class="hljs-regexp"><span class="hljs-regexp">/Button&gt; )</span></span></code> </pre> <br>  A button will appear on the right, with which you can open detailed information about the component. <br><br><img src="https://habrastorage.org/webt/59/eb/81/59eb81328941f742063811.png" alt="image"><br><br>  You can also display this information without having to open it, right on the workspace with the component. <br><br><pre> <code class="javascript hljs">.add(<span class="hljs-string"><span class="hljs-string">'Interactive demo 3'</span></span>, withInfo({ <span class="hljs-attr"><span class="hljs-attr">text</span></span>: <span class="hljs-string"><span class="hljs-string">'doc string about my button component'</span></span>, <span class="hljs-attr"><span class="hljs-attr">inline</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, })(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> &lt;Button disabled={boolean(<span class="hljs-string"><span class="hljs-string">'Disabled'</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>)}&gt;{text(<span class="hljs-string"><span class="hljs-string">'Button text'</span></span>, <span class="hljs-string"><span class="hljs-string">'Default'</span></span>)}&lt;<span class="hljs-regexp"><span class="hljs-regexp">/Button&gt; ))</span></span></code> </pre> <br><h3>  Conclusion </h3><br>  React Storybook as you see, is very easy to use, has many different settings, add-ons and allows you to solve problems with the support of the component library.  The rest of the team members can see and try the component before it is bolted to the page, which allows you to get feedback from designers much earlier.  Newcomers to the team will no longer guess if you have one or another component and whether it can be used in the framework of the current task. </div><p>Source: <a href="https://habr.com/ru/post/340384/">https://habr.com/ru/post/340384/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../340372/index.html">Why SQL prevails over NoSQL, and where it will lead in the future</a></li>
<li><a href="../340374/index.html">Avoiding unnecessary meetings or for the hundredth time about meetings</a></li>
<li><a href="../340376/index.html">Killerphic in vim - these are the modes? Seriously?</a></li>
<li><a href="../340378/index.html">Mathematical Foundations of Bitcoin Blockchain</a></li>
<li><a href="../340382/index.html">Russian Design Cup 2017</a></li>
<li><a href="../340386/index.html">SOC for beginners. SOC objectives: monitoring</a></li>
<li><a href="../340388/index.html">ATMii worm allows you to steal money from ATMs</a></li>
<li><a href="../340390/index.html">On the issue of strangeness and the impossible</a></li>
<li><a href="../340394/index.html">C / C ++ code profiling on * nix-systems</a></li>
<li><a href="../340396/index.html">Writing Arcsight FlexConnector. Log file</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>