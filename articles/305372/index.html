<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Ubuntu Unity desktop shell launched in Windows 10 environment</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It's easy to do, look through the short instructions and try to do the same. 
 



 Canonical, which is responsible for the development of Ubuntu and ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Ubuntu Unity desktop shell launched in Windows 10 environment</h1><div class="post__text post__text-html js-mediator-article">  <strong>It's easy to do, look through the short instructions and try to do the same.</strong> <strong><br></strong> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/513/836/723/5138367238b620c035601c12040e9066.jpg" height="460" width="830"><br><br>  Canonical, which is responsible for the development of Ubuntu and Microsoft <a href="https://habrahabr.ru/post/280560/">,</a> announced the inclusion of bash and the main Ubuntu toolkit in Windows 10 <a href="https://habrahabr.ru/post/280560/">earlier this year</a> . You could start <a href="https://blogs.windows.com/windowsexperience/2016/04/06/announcing-windows-10-insider-preview-build-14316/">exploring</a> new features of Windows 10 with Ubuntu elements back in April, starting with update <a href="https://blogs.windows.com/windowsexperience/2016/04/06/announcing-windows-10-insider-preview-build-14316/">14316</a> .  In this update, a WSL layer was added to Windows 10 that translates Linux system calls into Windows system calls.  As a result, in a Windows environment, it became possible to deploy a full-fledged Ubuntu Linux toolkit without emulation and virtualization.  The final integration will be completed with the release of the Anniversary Update in August. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In April of this year, experts learned how to run Ubuntu desktop applications with a graphical interface in the Windows 10 environment. Reddit user w2qw <a href="https://geektimes.ru/post/274256/">found a way to</a> install VIM and Firefox.  Now the user Github with the nickname Guerra24 <a href="https://github.com/Microsoft/BashOnWindows/issues/637">was able to launch the</a> Ubunu Unity desktop shell in the Windows environment. <br><a name="habracut"></a><br>  A successful launch requires several steps.  The fact is that X servers like <a href="https://sourceforge.net/projects/vcxsrv/" rel="nofollow">vcxsrv</a> or <a href="https://sourceforge.net/projects/xming/" rel="nofollow">Xming</a> on Windows 10 run without any problems.  But most applications need dbus service, which by default does not work.  Because of this, desktop applications like Firefox or virt-manager running on the Linux subsystem ‚Äúcrash‚Äù already at startup or shortly after launch.  Unity does not work directly either - dbus is also required for the shell. <br><br>  The user ShaRose with Reddit managed to ‚Äúget‚Äù dbus.  Initially, he (or she) wanted to try to install the virt-manager in order to be able to administer the qemu-server in the Windows environment without the need to work from a virtual machine.  And the dbus server, which is required for virt-manager to work, managed to ‚Äústart‚Äù. <br><br>  To install, you need a ‚Äúclean‚Äù Windows 10 with integrated Ubuntu tools.  If all this is already available, you need to complete just three steps: <br><br>  1. Install the X server.  Both vcxsrv and Xming work fine. <br><br>  2. Add DISPLAY =: 0.0 to bashrc: This can be done as follows: <br><br>  <em>echo "export DISPLAY =: 0.0" &gt;&gt; ~ / .bashrc</em> <br><br>  After checking, it turns out that desktop programs that require ‚ÄúX's‚Äù to work, function normally. <br><br>  3. Now we repair dbus.  The problem with dbus is that it requires unix sockets, which bash for Windows does not yet support, to work here.  Therefore, all that is needed is to ‚Äúexplain‚Äù dbus how to work with tcp. <br><br>  It's pretty easy to do this.  In /etc/dbus-1/session.conf, we replace unix: tmpdir = / tmp with the string <em>tcp: host = localhost, port = 0</em> .  That's all. <br><br>  To do this, run the following command: <br><br>  <em>sudo sed -i 's /.*/ tcp: host = localhost, port = 0 /' /etc/dbus-1/session.conf</em> <em><br></em> <br>  Firefox and virt-manager work fine.  Chrome, unfortunately not.  But the most important thing is that you can now start installing Unity in WSL. <br><br>  Unity <a href="https://github.com/Microsoft/BashOnWindows/issues/637">will not work</a> right away, you need to install ccsm (CompizConfig Settings Manager), and then run VcXsrv using XLaunch (now it‚Äôs the only X server running Unity).  After launching in the appeared window, we replace the display number by 0. All other settings are left as default. <br><br>  Now we start ccsm where we activate Unity plug-in.  When displaying the menu, the user will see several options, you need to select Copy to Texture plugin.  After that, at the bottom of the Window Management settings, we activate all but one of the plug-ins - the Grid.  This plugin must be inactive. <br><br>  Now we exit ccsm, and we start compiz in bash.  Several error messages will be displayed, but Unity should boot normally. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/990/ff9/832/990ff9832d3e15d0666a84783c516e86.jpg" width="850"><br>  <i>Is it still Windows or already Ubuntu?</i> <br><br>  In this environment, you can run only programs whose icons are on the panel.  You cannot start the command line in Unity, so we open bash again in Windows, repeat the display operation and start gnome-terminal.  Now there is a command line icon, and you can use it. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6b1/cf7/45a/6b1cf745a5ee52ebdc6724a6250b7eaa.png" width="850"><br><br>  In addition to Unity, you can run xfce4.  In this case, you only need to perform the first step in ‚Äúrepairing‚Äù dbus, the second step only applies to Unity, here it is not needed.  Once the dbus starts up in the Windows environment, you can run xfce4, although the shell is not very stable. </div><p>Source: <a href="https://habr.com/ru/post/305372/">https://habr.com/ru/post/305372/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../305356/index.html">The digest of interesting materials for the mobile # 161 developer (July 3-10)</a></li>
<li><a href="../305360/index.html">Reasonable AOP for IOC container fans</a></li>
<li><a href="../305364/index.html">Running cron inside the Docker container</a></li>
<li><a href="../305366/index.html">Amazing story document.write</a></li>
<li><a href="../305368/index.html">QNX 2 per virtual machine</a></li>
<li><a href="../305374/index.html">UX design in the mobile application: a request to evaluate the application</a></li>
<li><a href="../305376/index.html">The digest of fresh materials from the world of the frontend for the last week No. 219 (July 4 - 10, 2016)</a></li>
<li><a href="../305378/index.html">We generate a beautiful Google spreadsheet from our program (using the Google Sheets API v4)</a></li>
<li><a href="../305380/index.html">MongoDB Replica Set and OpLog on the same server</a></li>
<li><a href="../305382/index.html">Bitrix - UrlRewrite (feat. Juggernaut)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>