<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>JsonWriterSax - a library for creating JSON</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Some time ago I wrote an application in c ++ / Qt, which sent large amounts of data over the network in JSON format . A standard QJsonDocument was use...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>JsonWriterSax - a library for creating JSON</h1><div class="post__text post__text-html js-mediator-article"><p>  Some time ago I wrote an application in c ++ / Qt, which sent large amounts of data over the network in <a href="https://www.json.org/">JSON format</a> .  A standard <a href="http://doc.qt.io/qt-5/qjsondocument.html">QJsonDocument was used</a> .  When implemented, I ran into poor performance, as well as an awkward class design, which did not allow for the normal detection of errors during operation.  The result was the <a href="https://github.com/dmitriym09/JsonWriterSax">JsonWriterSax</a> library, which allows writing JSON documents in SAX style at high speed, which I publish on <a href="https://github.com/">github.com</a> under the MIT license.  Who cares - I ask under the cat. </p><a name="habracut"></a><br><h2 id="nemnogo-teorii">  Some theory </h2><br><p>  <a href="https://www.json.org/">JSON (JavaScript Object Notation)</a> is a structured text data format developed by Douglas Crockford and is a subset of the ECMAScript language (it is based on JavaScript, JScript, etc.).  JSON replaces XML by expanding nesting and adding data types.  It is currently being actively used on the Internet. </p><br><p>  But there are drawbacks to JSON.  In my opinion, among the standard types, the DateTime type is clearly not enough - you have to pass the value as a number or a string, and when parsing, you have to make a decision depending on the context.  But It is worth noting that in ECMAScript, the Date type was created a long time ago, it was not thought out, and in the js world, third-party libraries are used to work with dates. </p><br><p>  There are 2 basic approaches for parsing and creating structured documents - SAX and DOM.  They appeared more for XML, but can be used as patterns and for creating handlers of other formats. </p><br><h3 id="sax-simple-api-for-xml">  SAX (Simple API for XML) </h3><br><p>  Used for sequential processing of data and allows you to process large documents in the stream.  When reading, returns to the application information about the element or error found, but the preservation of information and control of nesting lies with the application itself.  When recording, steps are usually indicated in the style: start an element, start a sub-element, write a number, write a line, close a sub-element, close an element.  The disadvantages include the fact that the programmer is required to write code more thoroughly, to better understand the structure of the document and the absence or extreme limitation of editing an existing document. </p><br><h3 id="dom-document-object-model">  DOM (Document Object Model) </h3><br><p>  With this method, a document tree is built in memory, which can be serialized, deserialized and changed.  The main disadvantage is high memory consumption and an increase in processing time.  Under the hood is usually used SAX handler. </p><br><h2 id="problemy-qjsondocument">  QJsonDocument problems </h2><br><p>  A standard QJsonDocument uses the DOM approach.  When creating a document, the speed is low - you can see the benchmarks at the end of the article.  But the biggest problem for me was the ill-conceived error return design. </p><br><pre><code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> max = <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::numeric_limits&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;::max(); QJsonArray ja; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; max; ++i) { ja.append(i); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(ja.size() - <span class="hljs-number"><span class="hljs-number">1</span></span> != i) { <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } }</code> </pre> <br><p>  In this example, when there is a shortage of memory, the message is written to the error stream. </p><br><p> <code>QJson: Document too large to store in data structure</code> <br>  and the data will stop being added.  In the case of an array, you can check the condition </p><br><pre> <code class="cpp hljs">ja.size() - <span class="hljs-number"><span class="hljs-number">1</span></span> != i</code> </pre> <br><p>  But what to do when working with an object?  Constantly check that a new key is added?  Parse a log in search of an error? </p><br><h2 id="biblioteka">  Library </h2><br><p>  The <a href="https://github.com/dmitriym09/JsonWriterSax">JsonWriterSax</a> library allows <a href="https://github.com/dmitriym09/JsonWriterSax">you</a> to write a JSON document in a <a href="http://doc.qt.io/qt-5/qtextstream.html">QTextStream</a> in SAX style and is available on github under the MIT license.  Control of memory is assigned to the application.  The library controls the integrity of JSON - if an element is added incorrectly, the recording function will return an error.  For control is used KS grammar.  <a href="https://github.com/dmitriym09/JsonWriterSax/tree/master/test">Tests</a> were written, but perhaps some case was left without attention.  If someone fixes the incorrect operation of the check and reports to correct the error, I will be very grateful. </p><br><p>  I believe that the best description of the library for a programmer is a sample code =) </p><br><h2 id="primery">  Examples </h2><br><h3 id="sozdanie-massiva">  Array creation </h3><br><pre> <code class="cpp hljs">QByteArray ba; <span class="hljs-function"><span class="hljs-function">QTextStream </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">stream</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(&amp;ba)</span></span></span></span>; stream.setCodec(<span class="hljs-string"><span class="hljs-string">"utf-8"</span></span>); <span class="hljs-function"><span class="hljs-function">JsonWriterSax </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">writer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(stream)</span></span></span></span>; writer.writeStartArray(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">10</span></span>; ++i) { writer.write(i); } writer.writeEndArray(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(writer.end()) { stream.flush(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { qWarning() &lt;&lt; <span class="hljs-string"><span class="hljs-string">"Error json"</span></span>; }</code> </pre> <br><p>  As a result, we get </p><br><pre> <code class="hljs json">[<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>,<span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">9</span></span>]</code> </pre> <br><h3 id="sozdanie-obekta">  Object creation </h3><br><pre> <code class="cpp hljs">QByteArray ba; <span class="hljs-function"><span class="hljs-function">QTextStream </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">stream</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(&amp;ba)</span></span></span></span>; stream.setCodec(<span class="hljs-string"><span class="hljs-string">"utf-8"</span></span>); <span class="hljs-function"><span class="hljs-function">JsonWriterSax </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">writer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(stream)</span></span></span></span>; writer.writeStartObject(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">5</span></span>; ++i) { writer.write(QString::number(i), i); } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> i = <span class="hljs-number"><span class="hljs-number">5</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">10</span></span>; ++i) { writer.write(QString::number(i), QString::number(i)); } writer.writeKey(<span class="hljs-string"><span class="hljs-string">"arr"</span></span>); writer.writeStartArray(); writer.writeEndArray(); writer.writeKey(<span class="hljs-string"><span class="hljs-string">"o"</span></span>); writer.writeStartObject(); writer.writeEndObject(); writer.writeKey(<span class="hljs-string"><span class="hljs-string">"n"</span></span>); writer.writeNull(); writer.write(QString::number(<span class="hljs-number"><span class="hljs-number">11</span></span>), QVariant(<span class="hljs-number"><span class="hljs-number">11</span></span>)); writer.write(<span class="hljs-string"><span class="hljs-string">"dt"</span></span>, QVariant(QDateTime::fromMSecsSinceEpoch(<span class="hljs-number"><span class="hljs-number">10</span></span>))); writer.writeEndObject(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(writer.end()) { stream.flush(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { qWarning() &lt;&lt; <span class="hljs-string"><span class="hljs-string">"Error json"</span></span>; }</code> </pre> <br><p>  As a result, we get </p><br><pre> <code class="hljs json">{<span class="hljs-attr"><span class="hljs-attr">"0"</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-attr"><span class="hljs-attr">"1"</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-attr"><span class="hljs-attr">"2"</span></span>:<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-attr"><span class="hljs-attr">"3"</span></span>:<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-attr"><span class="hljs-attr">"4"</span></span>:<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-attr"><span class="hljs-attr">"5"</span></span>:<span class="hljs-string"><span class="hljs-string">"5"</span></span>,<span class="hljs-attr"><span class="hljs-attr">"6"</span></span>:<span class="hljs-string"><span class="hljs-string">"6"</span></span>,<span class="hljs-attr"><span class="hljs-attr">"7"</span></span>:<span class="hljs-string"><span class="hljs-string">"7"</span></span>,<span class="hljs-attr"><span class="hljs-attr">"8"</span></span>:<span class="hljs-string"><span class="hljs-string">"8"</span></span>,<span class="hljs-attr"><span class="hljs-attr">"9"</span></span>:<span class="hljs-string"><span class="hljs-string">"9"</span></span>,<span class="hljs-attr"><span class="hljs-attr">"arr"</span></span>:[],<span class="hljs-attr"><span class="hljs-attr">"o"</span></span>:{},<span class="hljs-attr"><span class="hljs-attr">"n"</span></span>:<span class="hljs-literal"><span class="hljs-literal">null</span></span>,<span class="hljs-attr"><span class="hljs-attr">"11"</span></span>:<span class="hljs-number"><span class="hljs-number">11</span></span>,<span class="hljs-attr"><span class="hljs-attr">"dt"</span></span>:<span class="hljs-string"><span class="hljs-string">"1970-01-01T03:00:00.010"</span></span>}</code> </pre> <br><h3 id="sozdanie-dokumenta-s-vlozhennostyu-i-raznymi-tipami">  Creating a document with nesting and different types </h3><br><pre> <code class="cpp hljs">QByteArray ba; <span class="hljs-function"><span class="hljs-function">QTextStream </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">stream</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(&amp;ba)</span></span></span></span>; stream.setCodec(<span class="hljs-string"><span class="hljs-string">"utf-8"</span></span>); <span class="hljs-function"><span class="hljs-function">JsonWriterSax </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">writer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(stream)</span></span></span></span>; writer.writeStartArray(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">1000</span></span>; ++i) { writer.writeStartObject(); writer.writeKey(<span class="hljs-string"><span class="hljs-string">"key"</span></span>); writer.writeStartObject(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> j = <span class="hljs-number"><span class="hljs-number">0</span></span>; j &lt; <span class="hljs-number"><span class="hljs-number">1000</span></span>; ++j) { writer.write(QString::number(j), j); } writer.writeEndObject(); writer.writeEndObject(); } writer.writeEndArray(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(writer.end()) { stream.flush(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { qWarning() &lt;&lt; <span class="hljs-string"><span class="hljs-string">"Error json"</span></span>; }</code> </pre> <br><h2 id="benchmarks">  Benchmarks </h2><br><p>  QBENCHMARK was used in the release build.  The functionality is implemented in the <a href="">JsonWriterSaxTest</a> class. </p><br><h3 id="elementary-os-50-juno-kernel-4150-38-generic-cpu-intelr-coretm2-quad-cpu-9550--283ghz-4g-ram-qt-5112-gcc-531">  elementary OS 5.0 Juno, kernel 4.15.0-38-generic, cpu Intel¬Æ Core (TM) 2 Quad CPU 9550 @ 2.83GHz, 4G RAM, Qt 5.11.2 GCC 5.3.1 </h3><br><h4 id="long-number-array">  Long number array </h4><br><ul><li>  QJsonDocument: 42 msecs per iteration (total: 85, iterations: 2) </li><li>  JsonWriterSax: 23 msecs per iteration (total: 93, iterations: 4) </li></ul><br><h4 id="big-one-level-object">  Big one-level object </h4><br><ul><li>  QJsonDocument: 1,170 msecs per iteration (total: 1,170, iterations: 1) </li><li>  JsonWriterSax: 53 msecs per iteration (total: 53, iterations: 1) </li></ul><br><h4 id="big-complex-document">  Big complex document </h4><br><ul><li>  QJsonDocument: 1,369 msecs per iteration (total: 1,369, iterations: 1) </li><li>  JsonWriterSax: 463 msecs per iteration (total: 463, iterations: 1) </li></ul><br><h3 id="elementary-os-50-juno-kernel-4150-38-generic-cpu-intelr-coretm-i7-7500u-cpu--270ghz-8g-ram-qt-5112-gcc-531">  elementary OS 5.0 Juno, kernel 4.15.0-38-generic, cpu Intel¬Æ Core (TM) i7-7500U CPU @ 2.70GHz, 8G RAM, Qt 5.11.2 GCC 5.3.1 </h3><br><h4 id="long-number-array-1">  Long number array </h4><br><ul><li>  QJsonDocument: 29.5 msecs per iteration (total: 118, iterations: 4) </li><li>  JsonWriterSax: 13 msecs per iteration (total: 52, iterations: 4) </li></ul><br><h4 id="big-one-level-object-1">  Big one-level object </h4><br><ul><li>  QJsonDocument: 485 msecs per iteration (total: 485, iterations: 1) </li><li>  JsonWriterSax: 31 msecs per iteration (total: 62, iterations: 2) </li></ul><br><h4 id="big-complex-document-1">  Big complex document </h4><br><ul><li>  QJsonDocument: 734 msecs per iteration (total: 734, iterations: 1) </li><li>  JsonWriterSax: 271 msecs per iteration (total: 271, iterations: 1) </li></ul><br><h3 id="ms-windows-7-sp1-cpu-intelr-coretm-i7-4770-cpu--340ghz-8g-ram-qt-5110-gcc-530">  MS Windows 7 SP1, Intel¬Æ Core CPU (TM) i7-4770 CPU @ 3.40GHz, 8G RAM, Qt 5.11.0 GCC 5.3.0 </h3><br><h4 id="long-number-array-2">  Long number array </h4><br><ul><li>  QJsonDocument: 669 msecs per iteration (total: 669, iterations: 1) </li><li>  JsonWriterSax: 20 msecs per iteration (total: 81, iterations: 4) </li></ul><br><h4 id="big-one-level-object-2">  Big one-level object </h4><br><ul><li>  QJsonDocument: 1,568 msecs per iteration (total: 1,568, iterations: 1) </li><li>  JsonWriterSax: 44 msecs per iteration (total: 88, iterations: 2) </li></ul><br><h4 id="big-complex-document-2">  Big complex document </h4><br><ul><li>  QJsonDocument: 1,167 msecs per iteration (total: 1,167, iterations: 1) </li><li>  JsonWriterSax: 375 msecs per iteration (total: 375, iterations: 1) </li></ul><br><h3 id="ms-windows-7-sp1-cpu-intelr-coretm-i3-3220-cpu--330ghz-8g-ram-qt-5110-gcc-530">  MS Windows 7 SP1, Intel¬Æ Core CPU (TM) i3-3220 CPU @ 3.30GHz, 8G RAM, Qt 5.11.0 GCC 5.3.0 </h3><br><h4 id="long-number-array-3">  Long number array </h4><br><ul><li>  QJsonDocument: 772 msecs per iteration (total: 772, iterations: 1) </li><li>  JsonWriterSax: 26 msecs per iteration (total: 52, iterations: 2) </li></ul><br><h4 id="big-one-level-object-3">  Big one-level object </h4><br><ul><li>  QJsonDocument: 2.029 msecs per iteration (total: 2.029, iterations: 1) </li><li>  JsonWriterSax: 59 msecs per iteration (total: 59, iterations: 1) </li></ul><br><h4 id="big-complex-document-3">  Big complex document </h4><br><ul><li>  QJsonDocument: 1,530 msecs per iteration (total: 1,530, iterations: 1) </li><li>  JsonWriterSax: 495 msecs per iteration (total: 495, iterations: 1) </li></ul><br><h2 id="perspektivy">  Perspectives </h2><br><p>  In future versions I plan to add the ability to describe the format of user data via lambda functions with QVariant, add the ability to use delimiters to format a document (pretty document) and maybe, if the community is interested, I will add a SAX parser. </p><br><p>  By the way, my library helped me to find an overflow error, allowing for qInfo (), qDebug (), qWarning () to set the format and output in the style of the Python <a href="https://docs.python.org/3/library/logging.html">logging</a> module.  I also plan to put this library in opensource - if anyone is interested, write in the comments. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/427899/">https://habr.com/ru/post/427899/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../427883/index.html">Understanding Virtualization, Containers, and Kubernetes: 18 Cloud Work Stuff</a></li>
<li><a href="../427889/index.html">Wrong, wrong, WRONG! methods of DDoS mitigation</a></li>
<li><a href="../427891/index.html">Millions of people can be attacked through a vulnerability in the Cisco WebEx conferencing platform.</a></li>
<li><a href="../427893/index.html">Bloody Lola on Omega 2 or stifle a python on Halloween</a></li>
<li><a href="../427895/index.html">Deleting data from the shardirovanny base</a></li>
<li><a href="../427901/index.html">How not to use the Node.js Stream API</a></li>
<li><a href="../427905/index.html">Mining food or "Crossroads" through the eyes of a hacker</a></li>
<li><a href="../427907/index.html">Drone shooting, ‚Äúrakes‚Äù, life hacking, self-development and a photographer / videographer career: a new podcast ‚ÄúGLPH‚Äù</a></li>
<li><a href="../427909/index.html">Python: how to reduce memory consumption by half by adding just one line of code?</a></li>
<li><a href="../427911/index.html">Office passions</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>