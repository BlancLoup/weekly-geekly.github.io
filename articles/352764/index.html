<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>EGAIS 3.0 or how not to answer for the mistakes of others</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The introduction in our country of various marking and accounting systems divides all market participants into two large groups - those who implement ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>EGAIS 3.0 or how not to answer for the mistakes of others</h1><div class="post__text post__text-html js-mediator-article">  The introduction in our country of various marking and accounting systems divides all market participants into two large groups - those who implement these systems and try to live honestly, and those who finally go into the shadows.  It is not very easy to live honestly, and if you are constantly being watched and caught in your mistakes, then it is quite difficult.  Such systems operate on the principle of a network, the size of the cell in which is constantly decreasing.  At first, they catch only "big fish" with serious violations.  Then, when a large fish ends, they move to a medium one, and then to a smaller one, compensating for its size with a huge amount. <br><br>  Let us take an example of the introduction of a unified state automated information system (EGAIS) for alcohol accounting and consider the gradual tightening of the rules for its work and the opportunities it gives to regulatory bodies.  Because it is according to such a scheme that labeling of tobacco, drugs, shoes and clothing will be introduced.  What to prepare for? <br><a name="habracut"></a><br>  In the retail segment, namely, we will talk about it today, EGAIS came relatively recently, namely from January 1, 2016.  At the first stage, all that was needed from retail was to connect to an automated system (register and receive electronic keys) and begin to confirm purchases of alcohol products from suppliers.  Thus, the state forced retail to log the production segment, fixing the volumes of alcohol coming to them from there.  Now, the products that were produced or imported "over gray" could no longer be sold through the "white" retail, and this greatly reduced the opportunities for the implementation of illegal schemes.  At this stage, revenues to the budget from excise taxes on alcohol rose sharply, and its production, according to official data on certain types of products, has almost doubled.  After all, it is clear that this is not due to the growth of production?  The size of the violations found at this time was measured in billions of rubles.  Those who were not caught, or left the market or became legal manufacturers.  Nobody touched small and medium retail, with its small turnover it was simply not interesting against wholesalers and manufacturers. <br><br>  This first ‚Äúlarge-mesh filter‚Äù worked on the principle of a trigger - ‚Äúthere is an invoice‚Äù / ‚Äúno invoice‚Äù; the number of bottles coincided with the number in the Unified State Automated Information System or did not coincide.  In addition, the retail itself could still quietly trade in ‚Äúgray‚Äù alcohol, because outwardly it was impossible to understand whether it bought it through EGAIS or not - on the shelf and at the checkout all the bottles looked the same.  With this, the next stage was to help - from July 1, 2016, it became possible to sell alcohol at the store‚Äôs cash desk only with the simultaneous registration of a sale to the EGAIS.  Now every buyer could personally control whether the seller works in the dark or legally.  On the check there was information about the registration of sales in the Unified State Automated Information System, the cashiers began, quietly mumming, to scan each bottle.  Conscious citizens now began to actively complain ‚Äúwhere they should,‚Äù because it became immediately clear which store was officially working with alcohol, and which without USIS, licenses and conscience. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/webt/qs/z4/ix/qsz4ixqb-iml4sybvjaaq07gmts.jpeg"><br><br>  But the second filter was in essence a trigger - despite the fact that at the checkout the cashier scanned the excise stamp of each bottle and passed its unique identifier to USAIS, the accounting in the system was built in such a way that it was almost impossible to track this identifier.  This is due to the fact that the Unified State Automated Information System of the second version operated with stamp ranges, in fact, only the number of bottles in this range was stored in the system at intervals of codes.  The number of brands in the range depended on the volume of the lot that the factory issued or the manufacturer imported.  And which brands should now be on the shelf or in the warehouse was not known. <br><br>  The choice of such a complex architecture was determined by a typical mistake in re-profiling a complex project - EGAIS was originally created as a system for manufacturers and wholesalers who operated with lots, containers, alcohol wagons.  The fate of each bottle did not interest them at all - no one in this task moved, imported or filled one bottle, but only a batch of bottles.  So, they ordered to connect the retail to this system or, in other words, reduce the size of the filtering cell and begin to control the path of each bottle from the factory to the consumer.  And how to do it, if the system architecture is not designed for this, millions of users are constantly working in it, and the volume of data is measured in billions of records?  Only evolutionarily, keeping simultaneous records in different dimensions and gradually replacing the old data format with a new one.  It is according to this scheme that the transition to the third stage of accounting in the EGAIS is now taking place - the metering record of each bottle. <br><br><img src="https://habrastorage.org/webt/0t/eb/wo/0tebwosm7dmjkhucnpjm0crrvz0.jpeg"><br><br>  The introduction of this very fine-mesh filter also begins with a segment of manufacturers, importers and wholesalers.  Now they are already voluntarily beginning to fill the system with data in the third format, indicating the list of excise stamps of products.  And from 01.07.2018, the voluntary principle of such work will replace the mandatory one and the Unified State Automated Information System will completely cease to accept new data in the context of batches, having switched to blot accounting. <br>  It is expected that from this point on, the party balances of products will only decrease due to natural loss - they will be sold and deducted from the system.  It is clear to everyone that it is difficult and expensive to maintain such parallel accounting in two dimensions for a long time, and sooner or later the FSRAP will still force unsold remnants of batch production to recalculate and convert to blot.  But when this happens - in six months, a year or two, nobody knows. <br><br>  The retail segment will again act as a kind of controller, filtering the mistakes that wholesalers and manufacturers will bring down on it.  Because physically both those and others will still move wagons, wagons and containers among themselves, and it will simply be physically impossible for them at every stage to scan and verify the data in the USAIS with real marks pasted on real bottles to make sure that no one I made a mistake and put the right box and the right pallet in the correct truck.  And all this essentially ‚Äúblack box‚Äù will arrive at the store, it will be opened and put on the shelf in the sales area.  And if earlier it was not very important, if the transfer by brand occurred within the same batch, then now this version of the Unified State Automated Information System at the box office will not be missed. <br><br>  And here the most interesting begins, because the identification of such an error by the system is a confirmation of the fact of illegal circulation of alcoholic beverages.  Guilty of such an operation by law will be the owner of alcoholic beverages.  And the owner of alcoholic beverages at this point is the store.  It turns out that if the store accepted alcoholic beverages at its warehouses and did not verify that the data in the USAIS for this delivery clearly coincide with the real brands pasted on the bottles, then if errors are detected in such a delivery regardless of the reason for their occurrence, it will be to blame. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/mq/px/xg/mqpxxg8g5dxelps0ebqxo1ahyzs.png"></div> <br>  Responsibility for violation of licensing requirements for the circulation of alcoholic beverages is provided for under 14.17.1 of the Administrative Code of the Russian Federation in the form of a fine from 100 to 150 thousand rubles.  Also, such a discrepancy between data and the Unified State Automated Information System is a violation of the licensing requirements for the retail sale of alcoholic beverages, which may lead to the revocation of such a license from the store. <br><br>  So it turns out that those who want to work honestly with the Unified State Automated Information System should do it very well, very carefully.  Because all the problems described above did not at all touch those who work without a license and without connecting to the Unified State Automated Information System - they are still not visible to the FVARR.  Only local authorities can reveal them during direct inspections, namely, they are, as a rule, the hidden beneficiaries of such illegal points of sale of alcohol.  And the number of such illegal points over the last year has only grown.  Indirectly, this is evidenced by the fact that the production of alcohol in Russia in 2017 increased according to all data, and retail sales fell.  At the same time, the export of alcohol from Russia did not grow significantly and cannot block production growth amid falling sales.  It turns out that over the past year the segment of illegal alcohol retail only grew. <br><br>  What can be done by those who work honestly? <br><br>  Prepare for the total admission control of the alcohol entering the store, so that at the goods acceptance stage we can ‚Äúscreen out‚Äù the suppliers' mistakes and not accept them on their leftovers. <br><br>  Examine what to do when checking the FSRAR control service, how to competently respond to their requests to minimize the risks of administrative prosecution.  According to part 2 of article 2.1 of the Code on Administrative Offenses of the Russian Federation <i>‚Äúa legal entity is found guilty of an administrative offense if it is established that he had the opportunity to comply with the rules and regulations for the violation of which administrative code is provided for by this Code or laws of a constituent entity of the Russian Federation all possible measures to comply with them were taken. ‚Äù</i> <br><br>  This means that if you can somehow prove that you have taken all measures to comply with the requirements of the law, or you have not had the opportunity to execute it at all, then you cannot be found guilty.  In the case of the Unified State Automated Information System, the easiest way to demonstrate the physical impossibility at one time or another is to reflect real balances in the system - lack of access to the Internet, computer malfunction, access key failure, etc.  But all these reasons must be documented and must also be documented that you have done everything possible to fix the breakdown - an application to the service center, contacting the provider, a call to the service engineer, etc. <br><br>  It is important to understand that penalties under the Administrative Code 14.17.1 do not depend on the extent of the violation.  The court will not care how much your real alcohol residues differ from the data in USAIS, by 1-2 or by 1-2 thousand bottles.  Perfectionism in working with USAIS in retail is unlikely to be able to guarantee you complete confidence that there are no errors in accounting.  So the backup option in case of claims from the FTRAR is better to work out in advance.  After all, control over your work by the state will only increase. </div><p>Source: <a href="https://habr.com/ru/post/352764/">https://habr.com/ru/post/352764/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../352752/index.html">Procedural worlds from simple tiles</a></li>
<li><a href="../352754/index.html">Introducing Google's S2 Geo-Library and Case Studies</a></li>
<li><a href="../352758/index.html">What is behind the cleanliness in your apartment, or Qlean preparation</a></li>
<li><a href="../352760/index.html">Compare Tarantool with Redis and Memcached</a></li>
<li><a href="../352762/index.html">Code Conventions: how we maintain the fast pace of developing a PHP project</a></li>
<li><a href="../352766/index.html">Intelligence networks</a></li>
<li><a href="../352770/index.html">Kubernetes meetup - presentation and webcast</a></li>
<li><a href="../352772/index.html">Announcement of Moscow Spark # 4</a></li>
<li><a href="../352774/index.html">Is there any powder in the old dog? Hackathon Radio Canada 2018 (Part One, We Make a Team)</a></li>
<li><a href="../352776/index.html">What's new in LLVM</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>