<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Migrating a Virtual Companion Service on WebRTC</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This is the story of a video streaming project. 



 Interesting customer 
 I sat in front of the monitor for an hour, and maybe two. It all started w...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Migrating a Virtual Companion Service on WebRTC</h1><div class="post__text post__text-html js-mediator-article">  This is the story of a video streaming project. <br><br><img src="http://storage3.static.itmages.ru/i/16/0606/h_1465232270_8812933_8668fe449c.jpg" alt="image"><br><br><h3>  Interesting customer </h3><br>  I sat in front of the monitor for an hour, and maybe two.  It all started with a link to someone's twitter, which a colleague kindly threw me in Skype.  Then he accidentally opened a news site, then Facebook, during which time a couple more news had appeared ... In general, the back was already sore and it was time to go warm up.  The office was cool, the air conditioning was quiet.  I didn‚Äôt want to go out into the heat of the street and, unbending, I walked to the nearest vending machine.  Somewhere at the reception bell rang. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      A couple of minutes later I saw Olga accompanying an Asian-looking gentleman.  He looked about fifty.  On a slightly wrinkled head sat a gray hat with short brim.  They obviously came to me.  Having come up with the coffee machine, which was already splashing into my cappuccino cup, the gentleman said in broken Russian: <i>Hello, I‚Äôm a relative of the WebRTC project.</i>  <i>My name is Sukonako</i> , and held out my hand.  What brought this Japanese here, I thought, responding to a handshake, and invited the guest to his office.  Then we had to switch to English, which both of us were more understandable. <br><br><h3>  We collect requirements </h3><br>  I: <i>So, how can I be useful?</i> <br><br>  S: <i>We have been working since 2000 in streaming and Flex for a large number of users.</i>  <i>We use Adobe Flash Media Server (FMS) and now we would like to use WebRTC.</i> <br><br>  Me: <i>Can you elaborate on what you would like to achieve using a WebRTC server?</i> <br><br>  S: <i>We need a regular media server that can receive video streams from one user and transfer them to other users.</i>  <i>We want a video chat.</i> <br><br>  Me: <i>No problem, we can make a solution based on one of the WebRTC servers.</i> <br><br>  S: <i>Adobe FMS suits us completely.</i>  <i>We would like to expand the range of our users on WebRTC without removing the FMS.</i>  <i>It works well.</i> <a name="habracut"></a><br><br>  A tablet appeared in Sukonako‚Äôs hands, he pushed it to me and pointed his finger at the following diagram: <br><br><img src="http://storage5.static.itmages.ru/i/16/0606/h_1465232345_6208421_d590a68fd8.jpg" alt="image"><br><br>  C: The <i>Flex App is a doctor, Flex Apps are patients, the doctor uses a webcam and consults several patients at once.</i>  <i>One of the patients can request a private consultation from the doctor, and then the doctor is left alone for private consultation with the patient.</i>  <i>At this point, the rest of the patients cannot communicate with the doctor and do not see him.</i> <br><br><img src="http://storage6.static.itmages.ru/i/16/0606/h_1465232456_5536804_5504d3b8bd.jpg" alt="image"><br><br>  Strange, I thought.  What the doctor can simultaneously advise patients.  One complains that the ear hurts, the second complains about the tonsils, then the one that presses the button with the glands and goes into private consultation.  However, the principle is clear.  Focus on the technical side of the issue. <br><br><img src="http://storage1.static.itmages.ru/i/16/0606/h_1465234845_3796683_d41d8cd98f.jpg" alt="image"><br><br>  Me: <i>Ie</i>  <i>as a result, is installed two-way video of the doctor and patient</i> <br><br>  S: <i>Not really.</i>  <i>The patient always sees the doctor, but the doctor may not see the patient.</i>  <i>By default, patient video is disabled.</i> <br><br>  Me: <i>So the video is one-sided - from doctor to patient?</i> <br><br>  S: <i>In most cases, yes.</i>  <i>But sometimes patients want to show their video to the doctor.</i>  <i>This happens infrequently.</i> <br><br>  I: <i>Everything is clear.</i>  <i>It means that both the doctor and the patient can use the WebRTC browser, such as Firefox or Google Chrome, as well as IE, which will work through the FMS.</i>  <i>Right?</i> <br><br>  S: <i>Almost like that.</i>  <i>All doctors use our Flex streaming application.</i>  <i>Patients should use either our application or WebRTC.</i> <br><br>  Me: <i>Ie</i>  <i>ideally, should your application look like this?</i> <br><br>  And sketched a scheme. <br><br><img src="http://storage1.static.itmages.ru/i/16/0606/h_1465232490_5347218_cac9ef71f7.jpg" alt="image"><br><br>  S: <i>Yes, that's right.</i>  <i>That should work that way.</i>  <i>On the one hand, native Flex-application, and on the other WebRTC-browser.</i>  <i>We are primarily interested in browsers on Android-smartphones and iOS-devices.</i>  <i>You probably know that Flash is somehow present on all desktop browsers: IE, Chrome, Firefox, Safari, but it is not on Android and iOS.</i>  <i>We would like to make our service available on mobile browsers and keep what works well on desktops, i.e.</i>  <i>FMS.</i> <br><br>  Me: <i>WebRTC will work on Android browsers, and on iOS, the problem is that WebRTC in iOS browsers does not work due to platform limitations.</i>  <i>Those.</i>  <i>we cannot deliver WebRTC video stream to iOS and cannot stream video from the webcam of the iOS browser.</i> <br><br>  C: <i>Wait, I know that Safari does not support WebRTC, but its support is in Google Chrome.</i> <br><br>  Me: <i>Yes, but not in the case of iOS.</i>  <i>There, Chrome stumbles upon the technical limitations of the platform and does not have the same features for working with WebRTC video as on the desktop.</i>  <i>Those.</i>  <i>iOS browser in this case is not suitable.</i>  <i>Why don't you upload your own app to the Apple App Store?</i>  <i>Then iOS users will only need to install the application and use the pure WebRTC, which is used in Google Chrome?</i> <br><br>  S: <i>Unfortunately, we cannot upload the app to the App Store for internal reasons.</i>  <i>In addition, we would like to give our users (patients) the opportunity not to install additional applications on their iPhone or iPad, but to work directly from the browser.</i>  <i>What options do we have?</i> <br><br>  At this point, I thought about the "internal causes" that do not allow to publish the application in the App Store.  Perhaps the area of ‚Äã‚Äãmedical consultation is regulated by law, and it is really not so easy to roll out this kind of application in the App Store. <br><br>  In reality, there were not many options, and the best of them was a native application with WebRTC support.  iOS Safari, as you know, supports HLS (Apple HTTP Live Streaming), but this option was discarded because  in communicating with the patient a certain real-time and live communication was assumed, for which HLS is absolutely not suitable for a delay of about 20 seconds. <br><br>  There was a last option: webkets.  Websockets is now supported in almost all browsers - this is actually a TCP channel through which you can deliver video with a delay comparable to RTMP, that is, 3 seconds, not 20. With delivery, it is clear.  I‚Äôd still play this stream in the &lt;video /&gt; HTML5 element and everything would be great. <br><br>  Me: <i>Option, it seems, only one - web sockets.</i>  <i>And in this case, patients will not be able to send their video to the server.</i>  <i>Only one-way delivery from doctor to patient is possible.</i>  <i>You can try HLS, but there is a delay of more than 20 seconds and probably it will not work for you.</i> <br><br>  S: <i>Good.</i>  <i>Did I understand correctly that we will be able to play live streams with FMS directly on the iOS Safari browser?</i>  <i>Let it be without WebRTC, but with a slight delay, comparable to RTMP?</i> <br><br>  Me: <i>Yes, absolutely true.</i>  <i>But we need some time to check it out.</i>  <i>Let's agree, let's say on Monday, and I'll show you a demo.</i> <br><br>  S: <i>I would like to see the ability to integrate FMS simultaneously with WebRTC and with Websockets, to be sure that this will work on iOS and on Android.</i>  <i>Is it possible to do so?</i> <br><br>  Me: <i>Yes, I think everything will work out.</i> <br><br>  C: <i>Thanks for the consultation.</i>  <i>On Monday I‚Äôll come in at 10 if you don‚Äôt mind and discuss all the issues already having a demo.</i> <br><br>  Me: <i>Yes, of course, by this time everything will be ready.</i> <br><br><h3>  We are looking for a solution </h3><br>  As you can see from the conversation, the requirements have changed a bit and now it was necessary to fasten two delivery methods to Adobe AMS: WebRTC for browsers on Android and Websockets for Safari browser under iOS.  It remains to find the missing element that will allow you to build this demo and link all the technologies and protocols involved in it. <br><br><img src="http://storage3.static.itmages.ru/i/16/0606/h_1465232510_3266345_76531b94d3.jpg" alt="image"><br><br>  After seeing the Japanese guest, I first went to look at the Adobe AMS specification.  I found a lot of interesting things in it, except for the words WebRTC and Websocket. <br><br>  Further, without hesitation, I scored three useful keywords in Google: rtmp, webrtc and websockets.  Google spat out several relevant sites.  As it turned out, only two were suitable: the proprietary project <a href="http://flashphoner.com/">Flashphoner</a> and the description of the open-source prototype from the <a href="http://phoboslab.org/log/2013/09/html5-live-video-streaming-via-websockets">Phoboslab</a> website <br><br><img src="http://storage7.static.itmages.ru/i/16/0606/h_1465232546_1091251_ac7731d403.jpg" alt="image"><br><br><h3>  First candidate </h3><br>  I decided to start with Phoboslab, where all the colors described the problem of stream playback in iOS Safari and offered a solution that is very similar to open source. <br><br>  The solution is built on ffmpeg, node.js and client javascript for decoding and playback of the video stream.  All the components were really open-source and the scheme looked promising. <br><br>  I raised the virtual server to DO, compiled ffmpeg and installed node.js.  All this took about two hours. <br><br><img src="http://storage9.static.itmages.ru/i/16/0606/h_1465232569_9768850_dba5255fb8.jpg" alt="image"><br><br>  Video in iOS Safari really played, and played not bad.  My iPhone5 was warming up a bit, but JavaScript steadily patched the video traffic from Websocket and showed it on the web page. <br><br>  Actually, the decoding of the stream was performed on JavaScript and then rendered in the page element of the iOS Safari browser.  The following questions remained open: <br><br>  - How to pick up stream from FMS <br>  - How to add sound to the stream <br>  - What about WebRTC <br><br>  And here I was waiting for some disappointment.  It turned out that the JavaScript player plays (renders) only the video.  For audio, you would have to allow an additional stream, after which they need to somehow be synchronized.  But this decision did not provide for this.  Thus, this solution was not suitable for transmitting video from the doctor due to the lack of sound. <br><br><h3>  Second candidate </h3><br>  The next test subject was a Web Call Server with the promised support for RTMP, WebRTC, Websocket protocols.  It remains to check whether the support for these protocols is applicable in my particular case and how it works. <br><br>  First of all, I decided to check the conversion of the RTMP video stream into Websocket, by analogy with the previous test.  After all, if this can be done, then you can redirect the RTMP stream from the FMS to the Web Call Server and thus solve one of the tasks. <br><br><img src="http://storage1.static.itmages.ru/i/16/0606/h_1465232595_6109029_fc73d99ffc.jpg" alt="image"><br><br>  I armed myself with an iPhone and opened one of the demo pages, where it was suggested to try to do it from a demo server.  According to technical support, Web Call Server can be quickly installed on your Linux system, but it would take some time, and the demo would give you the opportunity to immediately understand whether it works or not. <br><br>  The demo interface was a regular Flash application with a nondescript design and simple functionality called Flash Streaming. <br><br><img src="http://storage6.static.itmages.ru/i/16/0606/h_1465232617_7781488_7d47f8d0a6.jpg" alt="image"><br><br>  From this Flash application, you can connect to the server via RTMP protocol and publish a stream from a webcam.  Publish means to capture a video stream from a browser‚Äôs webcam using Flash Player and send data to the server in real time via RTMP. <br><br>  Judging by the statuses of 'Connected' and 'Publishing', the connection was successfully established and the stream from the webcam was sent to the server.  In order not to shine my face in the stream, I used a virtual camera and a series from the fifth (?) Season of Game of Thrones. <br><br>  Then it remains to see and hear this video on the iPhone in the Safari browser.  For this, it was recommended to use a separate player called WS Player Minimal. <br><br><img src="http://storage8.static.itmages.ru/i/16/0606/h_1465232649_8498775_06764ea502.jpg" alt="image"><br><br>  The player managed to get a decent picture and sound without distortion or rassinhrona. <br><br>  Perhaps I have made some progress in my research: <br><br><ul><li>  Managed to test the delivery of stream RTMP-Websocket </li><li>  Stream was with sound and video and correctly displayed on Safari browser </li></ul><br>  It remains to check whether the stream plays in WebRTC and it was possible to proceed to integration with Adobe FMS.  To test the same stream with WebRTC, I opened the Streamer And Player Minimal demo in the Chrome browser and performed the same simple procedure, inserting the stream name and clicking on the playback. <br><br><img src="http://storage9.static.itmages.ru/i/16/0606/h_1465232675_3975818_0a6186c242.jpg" alt="image"><br><br>  Kakaova was my joy, Khalisi! <br><br>  Now in my arsenal was the delivery of the RTMP stream to Chrome, which means to Android via WebRTC, and to iOS Safari via web socket.  Both in that and in the other case the picture was quite smooth, with sound and theoretically suitable for the deployment of a consulting service. <br><br>  The next question was working with FMS.  It is clear that the RTMP protocol should be the same for all implementations, but it was necessary to find out a) Can the FMS redirect the RTMP stream to Flashphoner and b) whether Flashphoner will accept this stream as it received from Flash in the tests above. <br><br><h3>  Integration with Adobe Media Server </h3><br>  FMS had to tinker.  His installation and tests took me a couple of hours.  The first thing I did was test the FMS using FMLE and make sure that I installed and configured the FMS correctly, and the RTMP video streams run on it without any obstacles. <br><br><img src="http://storage3.static.itmages.ru/i/16/0606/h_1465232706_8070535_29122064a9.jpg" alt="image"><br><br>  The next step was to configure the redirection of the RTMP stream to Flashphoner.  Here I had to strain my brain a little, arm myself with Adobe's Action Script documentation and implement such a script: main.asc. <br><br><pre><code class="actionscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> wcsServer = <span class="hljs-string"><span class="hljs-string">"wcs5-eu.flashphoner.com"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> netConnections = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Object(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> streams = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Object(); application.onConnect = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(client)</span></span></span></span>{ trace(<span class="hljs-string"><span class="hljs-string">"onConnect "</span></span>+client.id); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> nc = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> NetConnection(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> obj = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Object(); obj.login = <span class="hljs-string"><span class="hljs-string">"Alice"</span></span>; obj.appKey = <span class="hljs-string"><span class="hljs-string">"flashChatApp"</span></span>; nc.connect(<span class="hljs-string"><span class="hljs-string">"rtmp://"</span></span>+wcsServer+<span class="hljs-string"><span class="hljs-string">":1935"</span></span>,obj); nc.onStatus = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(info)</span></span></span></span>{ trace(<span class="hljs-string"><span class="hljs-string">"onStatus info.code: "</span></span>+info.code); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (info.code==<span class="hljs-string"><span class="hljs-string">"NetConnection.Connect.Success"</span></span>){ trace(<span class="hljs-string"><span class="hljs-string">"connection opened "</span></span>+wcsServer); } } netConnections[client.id]=nc; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } application.onDisconnect = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(client)</span></span></span></span>{ trace(<span class="hljs-string"><span class="hljs-string">"onDisconnect "</span></span>+client.id); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> nc = netConnections[client.id]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (nc){ nc.close(); trace(<span class="hljs-string"><span class="hljs-string">"disconnected "</span></span>+client.id); } } application.onPublish = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(client, myStream)</span></span></span></span>{ trace(<span class="hljs-string"><span class="hljs-string">"onPublish "</span></span>+myStream.name); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> nc = netConnections[client.id]; ns = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> NetStream(nc); ns.onStatus = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(info)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (info.code == <span class="hljs-string"><span class="hljs-string">"NetStream.Publish.Start"</span></span>){ trace(<span class="hljs-string"><span class="hljs-string">"It is now publishing "</span></span>+myStream.name); } } ns.attach(myStream); ns.publish(myStream.name); streams[myStream.name]=ns; trace(<span class="hljs-string"><span class="hljs-string">"publish stream "</span></span>+myStream.name+<span class="hljs-string"><span class="hljs-string">" to: "</span></span>+wcsServer); } application.onUnpublish = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(client, myStream)</span></span></span></span>{ trace(<span class="hljs-string"><span class="hljs-string">"onUnpublish "</span></span>+myStream.name); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ns = streams[myStream.name]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ns){ ns.publish(<span class="hljs-literal"><span class="hljs-literal">false</span></span>); trace(<span class="hljs-string"><span class="hljs-string">"unpublished "</span></span>+ns.name); } }</code> </pre> <br>  The script is quite simple and is committed to delegating incoming connections and video streams to the FMS to the Flashphoner server.  For example, when a connection is received from an application in the onConnect method, a connection to the Flashphoner server via RTMP is created. <br><br>  When receiving the onPublish video stream, the same video stream is published on Flashphoner. <br><br>  When disconnecting and stopping the streams, the corresponding calls are delegated to release resources.  This is how I got a bridge over which traffic between FMS and Flashphoner will be propagated for further distribution via WebRTC and Websockets. <br><br><img src="http://storage5.static.itmages.ru/i/16/0606/h_1465232740_2729048_c29e8d4a2c.jpg" alt="image"><br><br>  To test this composition, I took the already familiar Flash-interface Flash Streaming.  The only difference was that it was necessary to specify the RTMP address of the FMS server and then rely on the main.asc script, which delegates this video stream to Flashphoner.  In my case, this address was rtmp: // my-fms: 1935 <br><br><img src="http://storage7.static.itmages.ru/i/16/0606/h_1465232770_8323037_adb0722cdf.jpg" alt="image"><br><br>  When testing, I had to pretty much gobble up the server-side script main.asc from ignorance of Action Script and server programming under FMS, but this is all in the past, and the current version of this script is available in the listing above.  FMS did not let down and handed over the RTMP stream to its destination, which made it possible to successfully play it in Chrome and later in Safari. <br><br><img src="http://storage9.static.itmages.ru/i/16/0606/h_1465232799_3595890_2e876b9f77.jpg" alt="image"><br><br><h3>  Installing Web Call Server </h3><br>  As a result, the demo was ready.  It remained to put the Web Call Server on its system to avoid failures at the time of the presentation.  You never know what they can wind up there until Monday. <br><br>  The site developer found the installation instructions, consisting of five points.  I omitted the fifth paragraph with the installation of SSL certificates, since  I have not planned to use WebRTC streaming from the camera and microphone. <br><br><ol><li>  Download Web Call Server 5 </li><li>  Install using the 'install.sh' script </li><li>  Launch using 'service webcallserver start' </li><li>  Open the web-interface <a href="http://host:9091/">http: // host: 9091</a> and activate your license </li></ol><br>  Installation went fine.  I prudently disabled Firewall on the test server (service iptables stop) to eliminate problems with non-traffic. <br><br>  A minute after the server started, it turned out to open the web interface with the <a href="http://host:9091/">http: // host: 9091 admin panel</a> , activate the test license and get a demo server similar to this one on Ubuntu: <br><br><img src="http://storage3.static.itmages.ru/i/16/0606/h_1465232843_5166598_4bdd8cf557.jpg" alt="image"><br><br>  An additional test run allowed to make sure that the circuit works in my environment.  With a sense of accomplishment, I finished the work day and set a reminder - once again check the tests on Monday at 9:00 am before the arrival of Sukonako. <br><br>  How was the migration and how the matter ended, I can write in the second part, if it will be interesting. <br><br>  Links to tools used: <br><br><ol><li>  FMS ( <a href="http://www.adobe.com/products/adobe-media-server-professional.html">Flash Media Server</a> ) aka AMS (Adobe Media Server) - RTMP media server. </li><li>  DO ( <a href="http://digitalocean.com/">Digital Ocean</a> ) - hosting of virtual servers. </li><li>  WCS ( <a href="http://flashphoner.com/">Flashphoner Web Call Server</a> ) - WebRTC, Websocket media server. </li><li>  FMLE ( <a href="http://www.adobe.com/ru/products/flash-media-encoder.html">Adobe Flash Media Live Encoder</a> ) is a client for checking RTMP connections to the server. </li><li>  <a href="http://phoboslab.org/log/2013/09/html5-live-video-streaming-via-websockets">Phoboslab</a> is an open source prototype of Websocket streaming on Safari in iOS. </li></ol></div><p>Source: <a href="https://habr.com/ru/post/302814/">https://habr.com/ru/post/302814/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../302802/index.html">How game statistics differ from these playtests</a></li>
<li><a href="../302804/index.html">A minor feature of CHAR and VARCHAR</a></li>
<li><a href="../302806/index.html">Static time analysis demystified. Part 2</a></li>
<li><a href="../302808/index.html">Servers under control</a></li>
<li><a href="../302812/index.html">Not all hyper-convergent solutions are equally useful, or what about the muddy marketing stream ‚Äúwe also have HCI‚Äù</a></li>
<li><a href="../302816/index.html">Localization of the game Vikings: War of Clans</a></li>
<li><a href="../302820/index.html">How to manage giants Vol.2: tools for planning the development of Internet projects</a></li>
<li><a href="../302822/index.html">QA MeetUp June 17 in Nizhny Novgorod</a></li>
<li><a href="../302824/index.html">Gateways in IoT development: when, why and why</a></li>
<li><a href="../302826/index.html">OOXML parser (docx, xlsx, pptx) on Ruby: our errors and findings</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>