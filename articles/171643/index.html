<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Customization of Intel Android emulator</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It all started with the need to fix the hosts on an emulator from Intel . Only here all the found instructions did not lead to a positive result, as i...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Customization of Intel Android emulator</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/4ac/d4c/03b/4acd4c03b713d9a147598adb7ab388bd.png" align="left">  It all started with the need to fix the hosts on an emulator from <a href="http://software.intel.com/en-us/android">Intel</a> .  Only here all the found instructions did not lead to a positive result, as it turned out, because of the read-only system image.  Since the task of editing hosts described by me is not so popular, it was decided to replace it with a more relevant and interesting one. <br><br>  As a result, you will get an emulator with an open file system and access to Google Play. <br><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <br clear="left"><br clear="left">  Well, we will enrich our emulator with various Google services! <br><br>  All actions are described for <a href="http://software.intel.com/en-us/articles/android-4-2-jelly-bean-x86-emulator-system-image">Android 4.2 Intel Emulator</a> and performed under OS X. In the course of the article I will provide direct links to the files, just in case, I will indicate the pages where they can be downloaded. <br>  The steps for Linux users will be almost identical, Windows users will need to find the binaries themselves. <br><br><h4>  To begin, we will return the package manager to our OS. <br></h4>  Homebrew is ideal as a solution: <a href="http://mxcl.github.com/homebrew/">how to install and <s>refuse l</s> to start using brew in OS X.</a> <br><div class="spoiler">  <b class="spoiler_title">Warning: additional installation of Command Line Tools may be required.</b> <div class="spoiler_text">  a) simply via Xcode: <br><img src="https://habrastorage.org/storage2/d84/a4f/9cb/d84a4f9cb93743c4757bb04037b421b1.png"><br>  b) difficult via the Apple Developer site (but there is no need for Xcode): <br>  <a href="https://developer.apple.com/downloads">developer.apple.com/downloads</a> <br></div></div><br><h4>  Set unyaffs <br></h4>  For his sake, the package manager was installed, and unyaffs are needed to extract the <a href="http://ru.wikipedia.org/wiki/YAFFS">insides of the</a> system image of the emulator. <br>  In the terminal: <br><pre><code class="bash hljs">brew install --HEAD unyaffs</code> </pre> <br><h4>  In advance we will worry about the inverse operation of packaging in the image <br></h4>  a) download the source code ( <a href="">yaffs2-source.tar</a> ) from this page <a href="http://code.google.com/p/fatplus/downloads/list">code.google.com/p/fatplus/downloads/list</a> <br>  b) extract <br>  c) add 2 lines at the end of the devextras.h file before the last #endif <br><pre> <code class="hljs cpp"><span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> <span class="hljs-keyword"><span class="hljs-keyword">__kernel_loff_t</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> <span class="hljs-keyword"><span class="hljs-keyword">__kernel_loff_t</span></span> <span class="hljs-keyword"><span class="hljs-keyword">loff_t</span></span>;</code> </pre>  d) run the make command in the utils directory <br>  e) copy the mkyaffs2image file to the / usr / local / bin folder (for UI lovers. Finder: cmd + shift + G) <br>  <i>Source: <a href="http://nookdevs.com/Yaffs2OSX">nookdevs.com/Yaffs2OSX</a></i> <br><br><h4>  By giblets <br></h4>  In the terminal: <br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> ~/android-sdk-macosx/system-images/android-17/x86/ mkdir image <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> image/ unyaffs ../system.img</code> </pre>  <i>Note: we change the path to the SDK according to your location.</i> <br><div class="spoiler">  <b class="spoiler_title">Result:</b> <div class="spoiler_text"><img src="https://habrastorage.org/storage2/deb/c64/cb2/debc64cb23d38af3258141016176325b.png"></div></div><br><h4>  We start <br></h4>  a) download <a href="">gapps.ics.20120703-2-aroma.zip</a> from this page <a href="http://code.google.com/p/android-google-apps/downloads/list">code.google.com/p/android-google-apps/downloads/list</a> <br>  b) unpack <br>  c) just copy 4 apk'shki and delete one.  In the terminal, go to the unpacked folder, then execute: <br><pre> <code class="bash hljs">cp system/app/GoogleLoginService.apk ~/android-sdk-macosx/system-images/android-17/x86/image/app/ cp system/app/GoogleServicesFramework.apk ~/android-sdk-macosx/system-images/android-17/x86/image/app/ cp custom/market/Vending.apk ~/android-sdk-macosx/system-images/android-17/x86/image/app/ cp custom/market/MarketUpdater.apk ~/android-sdk-macosx/system-images/android-17/x86/image/app/ rm ~/android-sdk-macosx/system-images/android-17/x86/image/app/SdkSetup.apk</code> </pre>  <i>Note: we change the path to the SDK according to your location.</i> <br><br><h4>  We sew <br></h4>  In the terminal: <br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> ~/android-sdk-macosx/system-images/android-17/x86/ mv system.img system_original.img mkyaffs2image image system.img</code> </pre>  <i>Note: we change the path to the SDK according to your location.</i> <br><br><h4>  And so, it remains only to test the performance of our Frankenstein <br></h4>  In the terminal: <pre> <code class="bash hljs">emulator @4.2.x86 &amp;&gt; /dev/null &amp;</code> </pre>  or more familiar way <br><pre> <code class="bash hljs">android avd</code> </pre>  <i>Note: change the name of the emulator to your</i> <br><br><img src="https://habrastorage.org/storage2/d5a/628/86c/d5a62886c8a6f429993ea8b26552fd4f.png"><br><div class="spoiler">  <b class="spoiler_title">More pictures</b> <div class="spoiler_text"><img src="https://habrastorage.org/storage2/616/3fb/3ab/6163fb3ab6cf4dbc4827c4e7609e4334.png"><br><img src="https://habrastorage.org/storage2/ab7/8ed/b66/ab78edb6618c9dd9a1a44382d8392a90.png"><br></div></div><br>  As you can see, the range on Google Play is a bit lame.  But it does not matter: <a href="http://www.howtogeek.com/116456/how-to-install-incompatible-android-apps-from-google-play/">edit as you like the build.prop file</a> , which is in the root of the system image, should help! <br>  UPD: still need to <a href="http://habrahabr.ru/post/146277/">add the necessary permissions</a> .  Thanks <a href="https://habrahabr.ru/users/sergeyotro/" class="user_link">sergeyotro</a> ! <br><br>  PS All the manipulations are adequate not only for the Intel emulator with the latest version of Android, but also for the previous ones, starting with ICS.  Just do not forget to fix the path to the folder with the system image inside the SDK in the commands. </div><p>Source: <a href="https://habr.com/ru/post/171643/">https://habr.com/ru/post/171643/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../171633/index.html">Cyber ‚Äã‚Äãinvitation to a wedding or how to effectively destroy patterns</a></li>
<li><a href="../171635/index.html">We invite you to a large IT conference Superjob</a></li>
<li><a href="../171637/index.html">How to make money on IT conferences: our findings and mistakes</a></li>
<li><a href="../171639/index.html">Installing Nexus 1000V on vSphere 5.1 (Part Two)</a></li>
<li><a href="../171641/index.html">Ten things you need to know the game localization editor</a></li>
<li><a href="../171645/index.html">Web begging or sales experience in a web studio</a></li>
<li><a href="../171647/index.html">Version of ‚ÄúSimple Business‚Äù 1.7.9.0 ‚ÄúHyde Park‚Äù: simplified work with contacts, access to CRM, call recording and much more</a></li>
<li><a href="../171649/index.html">CoffeeScript 1.6.1 released with Source Maps support</a></li>
<li><a href="../171653/index.html">We are looking for beta testers mobile application Payoneer</a></li>
<li><a href="../171655/index.html">CRM for work with clients and information partners to replace the current AMO CRM</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>