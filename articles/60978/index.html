<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Manage Flash Object in Javascript</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="JavaScript features in 95% of cases allow you to solve any problem for Web 2.0 . But sometimes you want a little more, a little prettier, perhaps a li...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Manage Flash Object in Javascript</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/bc8/f7a/e5c/bc8f7ae5c6edc6a530a4f0b5e798489b.jpg" alt="Manage Flash Object in JavaScript" width="500" height="173"><br><br>  <b>JavaScript</b> features in <b>95% of</b> cases allow you to solve any problem for <b>Web 2.0</b> .  But sometimes you want a little more, a little prettier, perhaps a little faster.  In this article, using examples, I want to show how to fill these <b>5% of the</b> missing functionality with <b>Flash</b> . <br>  This article will be useful to developers who write mostly in <b>JavaScript</b> and have minimal knowledge of <b>ActionScript 3</b> . <br><br><h2>  For inspiration </h2><br>  I was inspired to write this article by <a href="http://digitarald.de/project/fancyupload/3-0/showcase/attach-a-file/">an example</a> from the <a href="http://digitarald.de/project/fancyupload/">FancyUpload</a> package that implements simultaneous uploading of several files to a server with a nice progress bar in the <b>gmail</b> style <i>(note: you can select several files at once)</i> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      This example is interesting because design and management is controlled by <b>CSS</b> and <b>JavaScript</b> .  <b>JavaScript,</b> if necessary, uses the necessary functionality from <b>Flash</b> . <br><br>  If you like it, go ahead: we will look at how this works on a simpler example. <br><a name="habracut"></a><br><br><h2>  Sound notification </h2><br><br><h3>  Consider the following example: </h3><br>  When working with our page can be a very important event.  It is so important that you need to somehow be notified about it, even if the user is in another window or another program.  One option is to give a beep.  A possible solution is a non-standard <b>BGSOUND</b> tag, but we will focus on Flash.  Implement the following functionality: in the JavaScript code, you can specify the name of the mp3 file to play (let's call it a <b>ringtone</b> ), the number of repetitions for the ringtone being played, the sound level in percent, and, in the extended version, the level is incrementing ‚Äúfrom‚Äù and ‚Äúto‚Äù and the time in seconds for which the sound level should increase. <br><br><h3>  Sit down for flash </h3><br>  In order to ‚Äúshare‚Äù any of the methods for accessing it from the base class of the Flash movie, you need to connect an <b>ExternalInterface</b> from <b>JavaScript</b> : <br><br><blockquote><code>package <br> { <br> import flash.external.ExternalInterface; <br> ... <br></code> </blockquote><br><br>  and also describe the method for accessing with ExternalInterface.addCallback directive: <br><blockquote> <code>ExternalInterface.addCallback("setRingtone", setRingtone); <br></code> </blockquote><br><br>  I sketched the base class for our example, the functionality that implements the ringtone playback was brought into a separate class <b>com.ria.media.Ringtone</b> , its implementation is not particularly important for our example. <br><br><h3>  Features of flash object loading </h3><br>  There is one more detail that needs to be considered when designing a Flash movie: Flash object loading is not instantaneous, that is, between the moment when the JavaScript object uses the flash object to embed the code and the moment when the ‚Äúadvanced‚Äù methods of our object become available. passes some time. <br><br>  It is possible to unequivocally establish the fact of availability of methods by executing the JavaScript function that we specified, after all the <b>ExternalInterface.addCallback</b> directives.  This is implemented, for example, by the directive <b>ExternalInterface.call</b> <br><br>  If the flash-movie is inserted not by means of JavaScript, then it is possible that the flash was loaded before the JavaScript-code and the call to the function specified by us would lead to an error.  How to solve this situation can be found <a href="http://livedocs.adobe.com/flash/9.0/ActionScriptLangRefV3/flash/external/ExternalInterface.html">here.</a> <br><br><h3>  Just a little JavaScript left </h3><br>  I apologize in advance for the inconvenience, but I am used to writing on MooTools and do not want to back down from this habit.  I‚Äôll download the Flash movie as a convenient MooTools 1.2 <b>Swiff</b> plugin, there is a <b>similar</b> <a href="http://jquery.lukelutman.com/plugins/flash/">module for jQuery</a> , and a universal <a href="http://blog.deconcept.com/swfobject/">SWFObject</a> solution (about <a href="http://habrahabr.ru/blogs/webdev/31615/">SWFObject in Habr√©</a> ) <br><br>  After a flash object is loaded, its ‚Äúshared‚Äù methods can be accessed approximately like this in pure JavaScript: <br><blockquote> <code>document.getElementById('myFlashObjectId').myMethod(param1,...)</code> </blockquote>  , on MooTools get a little shorter <blockquote> <code>$('myFlashObjectId').myMethod(param1,...)</code> </blockquote> <br><br>  Actually, that's all that can come in handy when writing your own JavaScript code. <br><br>  <a href="http://linux.ria.ua/JsFlash/simple.html">Do not forget to turn on the sound and see what happened</a> . <br><br>  <a href="http://linux.ria.ua/JsFlash/sources.html">The source code of the sample can be found here</a> .  Code highlighted by <a href="http://linux.ria.ua/SourceTabs/">Ria SourceTabs</a> </div><p>Source: <a href="https://habr.com/ru/post/60978/">https://habr.com/ru/post/60978/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../60969/index.html">A couple of differences between the data object field and the Java Bean property</a></li>
<li><a href="../60972/index.html">Applications for Windows7. Gmail Notifier Plus 1.2</a></li>
<li><a href="../60974/index.html">HA cluster, file systems replicated over the network</a></li>
<li><a href="../60976/index.html">Yandex now shows bad sites!</a></li>
<li><a href="../60977/index.html">Synthesis of Russian speech in Linux</a></li>
<li><a href="../60979/index.html">Weblogic 10.3 + Mysql</a></li>
<li><a href="../60980/index.html">We are looking for the cause of BSOD in automatic mode.</a></li>
<li><a href="../60981/index.html">Another hack for IE6</a></li>
<li><a href="../60982/index.html">Timer "Self" with a new design</a></li>
<li><a href="../60984/index.html">Promo link on lynda.com</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>