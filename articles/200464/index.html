<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Comparison of SATA, SAS, SSD and RAID media with them</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Everyone knows the performance parameters of disk subsystems in theory. But what in practice? Many ask this question, some build their hypotheses. I d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Comparison of SATA, SAS, SSD and RAID media with them</h1><div class="post__text post__text-html js-mediator-article">  Everyone knows the performance parameters of disk subsystems in theory.  But what in practice?  Many ask this question, some build their hypotheses.  I decided to conduct a series of tests and define ‚ÄúWho is who.‚Äù  I started testing with all known dd utilities, hdparm, then moved to fio, sysbench.  A number of tests were also performed using UnixBench and several other analogues.  A number of graphs were built, but with further testing it was discovered that the majority of this software is unsuitable for adequate comparison of different disks. <br>  With the help of fio, it was possible to create a comparative table or graph for SAS, SATA, but when testing SSD it turned out that the results obtained were completely unsuitable.  Of course, I respect the developers of this whole software, but at that moment it was decided to create a series of not synthetic tests, but closer to the real situation. <br><br>  At once I will say that the test parameters and the machines themselves were selected in such a way that the test results were not distorted by the type of processor, its frequency or other parameters. <br><a name="habracut"></a><br><h5>  Test 1 </h5><br><h6>  Creating files </h6><br>  For eight cycles, the creation of small files with chaotic content and with a gradual increase in the number of files per cycle was generated.  For each cycle, the execution time was measured. <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/216/74e/dcd/21674edcd4c5660cad003f61eec0fe90.png"></a> <br>  From the graph it is clear that SSD KINGSTON SV300S3 have a high speed of creating files and almost do not depend on their number.  It is also worth noting that these particular disks have a more straightforward scale. <br>  On SAS disks in Hardware RAID it is clear that the speed depends on the type of raid, but does not depend on the number of disks. <br>  But more time is spent not on creating files, as it turned out, but on overwriting them.  So let's move on to the second test. <br><br><h5>  Test 2 </h5><br><h6>  File overwriting </h6><br>  Those that operations were repeated in the first test, but the files were not created new each time, but the same file was used, in which new information was recorded each time. <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/054/6be/c1e/0546bec1e8293fb9d59957155db29802.png"></a> <br>  Immediately struck a terrible picture on SATA 7,200 rpm MB2000GCVBR.  Slow recording and 2x 300GB SAS SEAGATE.  For this, I decided to throw them out of the graph for clarity on the rest. <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/61e/339/9ba/61e3399ba28264ef83d590a436a3ad58.png"></a> <br>  The fastest subsystem was a single SSD KINGSTON.  The second and third place was taken by 8x SEAGATE ST3300657SS and 4x SEAGATE ST3300657SS.  We also see that with an increase in the number of SSDs in the array, the speed drops slightly. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  Test 3 </h5><br><h6>  MySQL  Combining sql queries INSERT, SELECT, UPDATE, DELETE </h6><br>  An InnoDB table was created with the following structure: <br> <code>CREATE TABLE `table` ( <br> `id` int(10) unsigned NOT NULL AUTO_INCREMENT, <br> `time` int(11) NOT NULL, <br> `uid` int(11) NOT NULL, <br> `status` varchar(32) NOT NULL, <br> PRIMARY KEY (`id`), <br> FULLTEXT KEY `status` (`status`) <br> ) ENGINE=InnoDB DEFAULT CHARSET=cp1251;</code> <br> <br>  Several requests were generated simultaneously: <br>  - INSERT; <br>  - UPDATE sampled by PRIMARY KEY; <br>  - UPDATE with a selection of FULLTEXT (search on 4 characters from 24): WHERE `status` LIKE '% (string)%'; <br>  - DELETE FROM with a selection of PRIMARY KEY; <br>  - DELETE FROM with selection without using the key: WHERE `time`&gt; (int); <br>  - SELECT with selection without using the key: WHERE `time`&gt; (int); <br>  - SELECT sampled by PRIMARY KEY; <br>  - SELECT with selection by FULLTEXT (search by 4 characters from 24): WHERE `status` LIKE '% (string)%'; <br>  - SELECT with selection without using the key: WHERE `uid`&gt; (int). <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/b85/efd/6e1/b85efd6e1de25b354db662a68983a6fa.png"></a> <br>  And again we see the same picture as in the second test. <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/e18/e22/bc7/e18e22bc7b57e43816671e5b64be33c0.png"></a> <br><br>  In the following tests, I use the sysbench utility, which generates large files: <br>  128 files, with a total size of 10 GB, 30 GB and 50 GB. <br>  The block size is 4 Kb. <br>  Just want to note that on some graphs, for some servers there is no data for 10 GB.  This is due to the fact that there is more than 10 GB of RAM on these machines and data caching is performed.  The lack of some results on 50 GB is due to the lack of disk space in the case of SSD KINGSTON SV300S3. <br><br><h5>  Test 4 </h5><br><h6>  Line recording (file creation) </h6><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/585/c25/a60/585c25a606bc1605b63b410f83f47f0a.png"></a> <br>  It can be seen that the best performance is available for all variations with SSD KINGSTON SV300S3, as well as for 8x SEAGATE ST3300657SS in RAID10.  Very well seen growth rate with an increase in the number of SAS disks. <br>  Here is the very moment where you can clearly see that SSDs are completely different.  The difference is 4 times! <br><br><h5>  Test 5 </h5><br><h6>  Line recording (file overwriting) </h6><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/07e/fdb/fbe/07efdbfbec5f2095b3d6755edf7dbf1d.png"></a> <br>  The leaders are the same.  If we compare 2x SSD from INTEL and 2x SAS, there is practically no difference. <br><br><h5>  Test 6 </h5><br><h6>  Linear reading </h6><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/f05/dee/b60/f05deeb6056de14193a7ab4fa69447a7.png"></a> <br>  Here we see a slightly different picture.  The leaders are 4x SSD KINGSTON RAID10, with minimal changes in results with increasing file size, and 8x SEAGATE in RAID10, with a gradual decrease in speed, at speeds of 700 Mbps and 600 Mbps. <br>  Lines of 1x SSD KINGSTON and 2x SSD KINGSTON RAID1 matched.  Simply put, linear reading is better to take either a RAID10 or a single disk.  Using RAID1 is not justified. <br>  You can clearly see that showed 2x SAS RAID1 and 4x SAS RAID10 are very similar.  But with the increase in the number of disks twice seen a huge increase in speed. <br>  Intel RAID1 2x SSD has not a small drop in speed over a span of 10 GB - 30 GB, and then they go at the same speed with SATA RAID1. <br><br><h5>  Test 7 </h5><br><h6>  Random read </h6><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/df2/950/5a2/df29505a23c6ec0161cc2929d7f19576.png"></a> <br>  The leaders are all SSD: <br>  - 4x KINGSTON RAID10; <br>  - 2x KINGSTON RAID1,2x INTEL RAID1; <br>  - 1 KINGSTON. <br><br>  All others copied to the next graph for clarity. <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/cb3/2f9/297/cb32f9297627c216f801203ab347164f.png"></a> <br>  The highest speed among these has naturally 8x SAS RAID10, but the speed drops sharply.  But based on data from 2x SAS and 4x SAS, I would assume that with further growth in volume the speed stabilizes. <br><br><h5>  Test 8 </h5><br><h6>  Random record </h6><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/c76/27f/47e/c7627f47e4ab397c406923c8c7d744a0.png"></a> <br>  Excellent performance has 2x 120GB SSD INTEL SSDSC2CT12 Hardware RAID1 SAS1068E with a stable speed of 30 Mbps.  According to KINGSTON, with an increase in the number of disks, the speed, oddly enough, decreases.  In fourth place is 8x SAS SEAGATE. <br><br><h5>  Test 9 </h5><br><h6>  Combined random read and write operations </h6><br>  We all know that no server has only reads or records.  Both operations are always performed.  And in most cases these are just random operations, not linear ones.  And so, let's see what we did. <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/932/1bb/dfe/9321bbdfe2bbbd1cf595c4f17472d38a.png"></a> <br>  Due to the excellent recording speed with a large margin is 2x SSD INTEL, followed by SSD KINGSTON.  Third place was shared by 2x SSD KINGSTON and 8x SAS SEAGATE. <br><br><h5>  Test 10 </h5><br>  After conducting all these tests, I decided that it would be convenient to derive the dependence of speed on the ratio of random read and random write operations. <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/11b/1fe/36b/11b1fe36bbaa607c246cca419c27391c.png"></a> <br>  Who has a speed increase, who has a fall, and 8x SAS RAID10 has a straight line. <br><br><h5>  Test 11 </h5><br>  He also made a comparison of large arrays from SAS disks, by which it can be seen that the speed of the disk depends more than on their number. <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/39a/f68/bcb/39af68bcbf8d0270d3ef6cc351daa0c5.png"></a> <br><br>  <u>It's time to take stock.</u> <br>  There were many cars, but not enough.  Unfortunately, I was not able to determine whether the indicators for SSD INTEL SSDSC2CT12 are their peculiarity or raid controller peculiarity.  But I suppose that controller. <br><ol><li>  With the increase in the number of SAS disks in the array, all indicators only improve. </li><li>  For MySQL, slow subsystems are SATA RAID1 and SAS RAID1.  For the rest there are differences, but they are not so significant. </li><li>  For linear recording, both large arrays from SAS disks in RAID10 and SSD are good.  It makes no sense to use arrays from SSD.  Cost is rising, and productivity is in place. </li><li>  For linear reading, any large arrays are good.  But in practice, lin.  reading without writing is almost never met. </li><li>  Random read for SSD single or Software RAID. </li><li>  For random recording, it is better to use Hardware RAID from the SSD, although single SSDs are not very strong. </li><li>  Random read / write, that is one of the most important indicators, have the best results on Hardware RAID from SSD. </li><li>  Summarizing all the above, for most tasks it is better to use large arrays (&gt; = 8) from SAS or Hardware RAID from SSD.  But for some tasks it would be more correct to use single SSDs. </li><li>  Based on the volumes of SSD, which are mainly offered in our market, for VDS nodes it is worth using the maximum performance of processors paired with large SAS arrays or mediocre processors and single SSDs.  I think that using hw raid for two SSDs will be a little expensive. </li><li>  If you need a fast system and there is no need for a large 2x SSD disk space in Hardware RAID is the best choice.  If you want to save a little at the expense of performance, then you can take a single SSD or two SSDs in the soft-raid. </li></ol><br><br>  <u>Questions that were left unanswered:</u> <br><ol><li>  What happens when SSDs increase in Hardware RAID? </li><li>  What is cheaper for virtual servers: expensive cars and one large array of SAS or several mediocre servers with single SSD?  In this issue, you should also consider the reliability / durability of SAS and SSD, as the latter are rumored by different. </li></ol><br><br>  In addition to the listed tests and servers, there were still many, but they were not included in the results, as they were ‚Äúcalibrated‚Äù tests and many of them were considered incorrect. <br>  RAMDisk testing was also performed.  The indicators were pretty good, but not the best.  Probably due to the fact that it was a virtual machine. <br><br>  All tests, except the last, were made only on dedicated servers. <br><br>  <b>Thanks:</b> <br><ol><li>  <a href="http://vds4you.ru/">vds4you</a> for providing a large number of virtual machines on the basis of which tests were calibrated; </li><li>  <a href="http://www.plusserver.de/">PlusServer</a> for providing the first four tested machines on SSD / SAS, which have been tested for quite a long time.  Unfortunately, they got into these graphics.  As well as two SATA from current tests; </li><li>  <a href="http://fastvps.ru/">FastVPS</a> for providing all servers with KINGSTON SSD; </li><li>  <a href="https://serverclub.com/">ServerClub</a> for providing machines with SSD INTEL Hardware RAID, as well as all machines with SAS disks; </li><li>  everyone who participated in the discussion of the initial tests, in particular on the forum <a href="http://forum.searchengines.ru/">searchengines</a> </li></ol></div><p>Source: <a href="https://habr.com/ru/post/200464/">https://habr.com/ru/post/200464/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../200454/index.html">Evolution and Genetic Algorithms</a></li>
<li><a href="../200456/index.html">DiemCms development team is recruited (OpenSource)</a></li>
<li><a href="../200458/index.html">Open data of Moscow and API Challenge competition based on them</a></li>
<li><a href="../200460/index.html">FOSS Sea technical conference: back-end based on free and open technologies</a></li>
<li><a href="../200462/index.html">5 reasons to teach children programming</a></li>
<li><a href="../200466/index.html">iSCSI storage for the poor</a></li>
<li><a href="../200468/index.html">A simple solution for administering phones and tablets + an invitation to tests</a></li>
<li><a href="../200472/index.html">We write instagram-robot, put likes by tags</a></li>
<li><a href="../200474/index.html">How to build Qt 5.1.1 using Visual Studio 2012 under XP</a></li>
<li><a href="../200476/index.html">Inventory servers without disgust</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>