<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Game in 30 teams of the Assembler</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Last year, topics like writing a program in 30 lines of code were popular. All examples were made in JavaScript. To launch such programs, you need not...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Game in 30 teams of the Assembler</h1><div class="post__text post__text-html js-mediator-article">  Last year, topics like writing a program in 30 lines of code were popular.  All examples were made in JavaScript.  To launch such programs, you need not only a web page, but also a browser, different libraries, the OS kernel.  In fact, it is not the 30 lines of code that are working, but tens, hundreds of megabytes of program code, which are in the computer‚Äôs memory. <br>  Is it possible to write a program that is not completely useless for 30 assembly lines, without unnecessary libraries and megabytes of the OS? <br>  In this article I will describe how you can make tic-tac-toe in 30 assembly lines.  <b>UPD</b> Now for just 20 lines.  <b>UPD2</b> And 18 or 16 lines <b>without a single</b> conditional branch. <br><a name="habracut"></a><br>  Task: make a working tic-tac-toe game. <br>  Rules of the game": <br><ul><li>  up to 30 lines of pure assembler commands.  No scam as a machine code entry in one line db ...... </li><li>  There is no limit to the size of the data.  <a href="http://habrahabr.ru/post/203048/">Playing 0 lines of JS</a> had a lot of data in the form of HTML and CSS </li><li>  do not use third-party libraries, better without OS interruptions, only BIOS </li><li>  the program should work </li></ul><br>  The complexity of the implementation of 30 lines of assembler lies in the fact that the assembler simple cycle takes several lines (commands).  Each operation is a separate command, which means a new line. <br><div class="spoiler">  <b class="spoiler_title">An example showing how many lines are needed for loops, for those who don't know assembly language well</b> <div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//  C++ for ( int i=0; i&lt;100; i++)...; _asm { //   mov ecx,0 ; int i=0 labelForI: ... inc ecx ;i++ cmp ecx,100 ;i&lt;100 jl labelForI //       127  ,     jmp,      ecx,      ... mov ecx,0 ; int i=0 labelForI: push ecx ... pop ecx inc ecx ;i++ cmp ecx,99 ;i&lt;100 ja labelEndFor jmp labelForI labelEndFor: //         . mov ecx,100 ; int i=100 labelForI: ... dec ecx ;i-- jnz labelForI //   mov ecx,100 ; int i=100 labelForI: nop ; nop - ,     loop labelForI // ,   ,     . DB B9h,00,01,00,00,90h,E2h,F8h ;  99   nop (90h), .  }</span></span></code> </pre> <br></div></div><br>  The simplest implementation of tic-tacs is a matrix with the values ‚Äã‚Äãof the cells that need to be compared in cycles to determine victory, displayed in cycles.  Therefore, to make a game in 30 lines of code seems unreal at first glance <br><br><h4>  The first attempt is to reduce arrays and optimize </h4><br>  Since if you store the playing field as an array, and even more so the matrix, it will take several cycles to determine the victory.  You can accommodate the entire playing field, the size of 3 by 3 (enough for 4 * 4) in 4 bytes, or 2 machine words, two bytes per player.  Thus, one can reduce the victory check by searching for eight variants of victory, represented in the form of eight numbers (comparing coincidence of bits with int map_x, int map_0). <br>  To test the ideas made the implementation of C. <br>  The game displays the playing field on the screen as follows: <br><img src="https://habrastorage.org/getpro/habr/post_images/f50/106/5b4/f501065b411516e808739c301816d594.png"><br>  The user presses on the numeric keypad the numbers at the position corresponding to the cell.  For example, the number 5 is the center, 1 is the left-bottom cell. <br><div class="spoiler">  <b class="spoiler_title">Option 1, C</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/* * File: main.c * Author: godAlex * *           . *  . * * Created on 29  2014 ., 11:51 */</span></span> <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;stdio.h&gt; #include &lt;stdlib.h&gt; #define win_x 1 #define win_0 2 #define win_tie 3 #define win_not 0 unsigned short KEYBOARD_BYTE_OFFSET[] = {0x40,0x80,0x100,0x8,0x10,0x20,0x1,0x2,0x4 }; //{0b001000000,0b010000000,0b100000000,0b000001000,0b000010000,0b000100000,0b000000001,0b000000010,0b000000100 }; unsigned short BOT_POSITION_PRIORITY[] = { 0x10, 0x40, 0x4, 0x100, 0x1, 0x80, 0x2, 0x8, 0x20}; // center bounds other //{0b000010000, 0b001000000,0b000000100,0b100000000,0b000000001,0b010000000,0b000000010,0b000001000,0b000100000 }; unsigned short WIN_MATRIX[] = { 0x1C0, 0x38, 0x7, 0x124, 0x92, 0x49, 0x111, 0x54 }; //{ 0b111000000, 0b000111000, 0b000000111, 0b100100100, 0b010010010, 0b001001001, 0b100010001, 0b001010100 }; //    unsigned short MAP_X = 0; unsigned short MAP_0 = 0; unsigned short WIN_MATRIX_NOT_WIN = 0x1FF; //0b111111111; // ,   xor unsigned short STRING_ENTER_POS = 0x124;//0b100100100; //    void specialPrintChar(char *c) { printf(c); // TODO ASM } unsigned short specialReadNumber() { char outC; scanf("%c",&amp;outC); // TODO ASM return outC-'0'; } short testWon() { char i; for (i=0; i&lt;8; i++) { if ( (MAP_X &amp; WIN_MATRIX[i]) == WIN_MATRIX[i] ) return win_x; if ( (MAP_0 &amp; WIN_MATRIX[i]) == WIN_MATRIX[i] ) return win_0; } if ( (MAP_X | MAP_0) == WIN_MATRIX_NOT_WIN ) return win_tie; //  return win_not; } void printField() { unsigned short bOfs; for (bOfs=1; bOfs&lt;WIN_MATRIX_NOT_WIN; bOfs=bOfs&lt;&lt;1) { // shl if ( MAP_X &amp; bOfs ) specialPrintChar("X"); else { if ( MAP_0 &amp; bOfs ) specialPrintChar("0"); else specialPrintChar("."); } if ( bOfs &amp; STRING_ENTER_POS ) specialPrintChar("\n"); //   } } // - - - - - - - - - - - - - - - - int main(int argc, char** argv) { specialPrintChar("Test XO game!\n"); printField(); //  //  ... int whoIsWon=win_not; while (whoIsWon==win_not) { short cKey; unsigned short full_map; unsigned short p; //    do { do { specialPrintChar("Enter cell position (1-9):\n"); cKey = specialReadNumber(); } while ( cKey&lt;1 || cKey&gt;9 ); p=KEYBOARD_BYTE_OFFSET[cKey-1]; //    full_map = MAP_X | MAP_0; //   } while ( (full_map &amp; p) !=0); //    . MAP_X = MAP_X | p; //   printField(); //  // test Win whoIsWon=testWon(); if (whoIsWon!=win_not) break; //  full_map = MAP_X | MAP_0; for (p=0 ; (full_map &amp; BOT_POSITION_PRIORITY[p]) != 0 ; p++); MAP_0 = MAP_0 | BOT_POSITION_PRIORITY[p]; //   specialPrintChar(" the BOT:\n"); printField(); //  whoIsWon=testWon(); // test Win }; switch (whoIsWon) { //   GoTo label  testWon (asm) case win_x: specialPrintChar("Won X!\n"); return 1; case win_0: specialPrintChar("Won 0!\n"); return 2; case win_tie: specialPrintChar("Win nothing!\n"); return 3; } return (EXIT_SUCCESS); }</span></span></span></span></code> </pre><br></div></div><br>  Too much code.  Decompiling the resulting program, I saw that there were more than a hundred commands, not counting the printf and scanf calls.  Can try to translate most into assembler? <br><div class="spoiler">  <b class="spoiler_title">Option 1, function testWon (), rewritten to assembler</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">testWon</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> winResult=<span class="hljs-number"><span class="hljs-number">-1</span></span>; <span class="hljs-comment"><span class="hljs-comment">// todo to asm _asm { mov ecx,0 ;xor ecx,ecx  mov edx, offset WIN_MATRIX lForI: //mov bx,WIN_MATRIX[ecx] mov bx, word ptr [edx] ; !!!  add edx,2 ; [edx][ecx] mov ax,MAP_X and ax,bx cmp ax,bx ; TODO    test,      JE lblWonX mov ax,MAP_0 and ax,bx cmp ax,bx JE lblWon0 inc ecx cmp ecx,8 jne lForI mov ax,MAP_X ;    or ax,MAP_0 cmp ax,WIN_MATRIX_NOT_WIN jne lblRet ;  mov winResult,win_no ;   jmp lblRet ;RET lblWonX: mov winResult,win_x jmp lblRet ;RET lblWon0: mov winResult,win_0 jmp lblRet ;RET lblRet: ;RET } return winResult; }</span></span></code> </pre><br></div></div><br>  Only the win check function takes about 30 teams.  And there are still functions of displaying the result on the screen, reading the position from the keyboard. <br>  This option is not suitable.  But such an implementation can fit in <a href="http://ru.wikipedia.org/wiki/MBR">BNZ</a> , the size of which is 512 bytes of the first sector of the disk. <br><br><h4>  The second way is how to do the same in HTML for 0 JS lines? </h4><br>  And if you think about how this can be solved on HTML in 0 lines of JavaScript? <br>  Write each game variant as a finished line of output to the screen, and add the addresses of the following entries to each variant, which should be shown when pressing the corresponding buttons. <br>  In HTML, this is realized with the help of anchors and a long "party girl".  On the assembler, or C, you need to make a program that simply displays text on the screen, depending on the button press. <br>  The program itself will turn out to be small, but the data needed for its work is huge. <br>  An example of an algorithm implemented in C: <br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;stdio.h&gt; #include &lt;stdlib.h&gt; unsigned short data_addres[374][9] = {{1, 71, 113, 190, 214, 262, 300, 327, 353}, {1, 1, 2, 16, 24, 31, 45, 52, 65}, ...}; char text[374][13] = {"...\n...\n...\n\0", "...\n...\nX0.\n\0", "...\n..0\nX0X\n\0", ...}; int main(int argc, char** argv) { unsigned int data_pos = 0; while (1) //  data_pos !=    { printf(text[data_pos]); int i; do scanf("%i",&amp;i); while ( i&lt;1 || i&gt;9 ); data_pos=data_addres[data_pos][i-1]; } return (EXIT_SUCCESS); }</span></span></span></span></code> </pre><br>  And what will be on the assembler? <br><div class="spoiler">  <b class="spoiler_title">Option 2, in assembler for 29 commands, working on BIOS interrupts!</b> <div class="spoiler_text"><pre> <code class="cpp hljs">SECTION .text org <span class="hljs-number"><span class="hljs-number">0x100</span></span> ;  .com .   ,     . lblShowVariant: mov ax,<span class="hljs-number"><span class="hljs-number">0x0001</span></span> ; clear screen, <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> graphic mode <span class="hljs-number"><span class="hljs-number">40</span></span>x25, color <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>h mov ax, [data_pos] mov bx, [TEXT_BLOCK_SIZE] mul bx mov bp, text_data add bp,ax ; offset   mov cx,[TEXT_BLOCK_SIZE] mov ax,<span class="hljs-number"><span class="hljs-number">1300</span></span>h mov bx,<span class="hljs-number"><span class="hljs-number">0</span></span>eh ; color mov dx,<span class="hljs-number"><span class="hljs-number">0500</span></span>h ; <span class="hljs-number"><span class="hljs-number">5</span></span>  <span class="hljs-number"><span class="hljs-number">0</span></span>    <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>h lReadKey: xor ax,ax <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> <span class="hljs-number"><span class="hljs-number">16</span></span>h ; BIOS read key xor ah,ah sub al,<span class="hljs-string"><span class="hljs-string">'1'</span></span> ;  al  ,    cmp ax,<span class="hljs-number"><span class="hljs-number">8</span></span> ja lReadKey shl ax,<span class="hljs-number"><span class="hljs-number">1</span></span> ; ax=ax*<span class="hljs-number"><span class="hljs-number">2</span></span> mov bx, data_addres add bx,ax ; bx = data_addres[key] mov ax, [data_pos] mov cx, [CASE_BLOCK_SIZE] mul cx ; cx = [data_pos] add bx,ax ; bx = data_addres[data_pos][key] mov ax,[bx] mov [data_pos],ax ;    . jmp lblShowVariant SECTION .data ; Out data on assembler data format data_pos DW <span class="hljs-number"><span class="hljs-number">0</span></span> ; max=<span class="hljs-number"><span class="hljs-number">394</span></span> CASE_BLOCK_SIZE DW <span class="hljs-number"><span class="hljs-number">18</span></span> ;bytes (<span class="hljs-number"><span class="hljs-number">2</span></span> byte per <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">case</span></span>) TEXT_BLOCK_SIZE DW <span class="hljs-number"><span class="hljs-number">16</span></span> data_addres: DW <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">42</span></span>, <span class="hljs-number"><span class="hljs-number">72</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-number"><span class="hljs-number">139</span></span>, <span class="hljs-number"><span class="hljs-number">167</span></span>, <span class="hljs-number"><span class="hljs-number">198</span></span>, <span class="hljs-number"><span class="hljs-number">272</span></span>, <span class="hljs-number"><span class="hljs-number">341</span></span> DW <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>, <span class="hljs-number"><span class="hljs-number">14</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">17</span></span>, <span class="hljs-number"><span class="hljs-number">33</span></span> ... text_data: DB <span class="hljs-string"><span class="hljs-string">"..."</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-string"><span class="hljs-string">"..."</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-string"><span class="hljs-string">"..."</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-string"><span class="hljs-string">" "</span></span> DB <span class="hljs-string"><span class="hljs-string">"0.."</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-string"><span class="hljs-string">"..."</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-string"><span class="hljs-string">"X.."</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-string"><span class="hljs-string">" "</span></span> DB <span class="hljs-string"><span class="hljs-string">"00."</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-string"><span class="hljs-string">"..."</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-string"><span class="hljs-string">"XX."</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-string"><span class="hljs-string">" "</span></span> DB <span class="hljs-string"><span class="hljs-string">"You are won!"</span></span>, <span class="hljs-string"><span class="hljs-string">" "</span></span> ...</code> </pre><br></div></div><br>  The program works, only BIOS functions are required, it can start without an operating system, you only need to correct the registers at the beginning of the program (add mov ax, cs; mov ds, ax; mov es, ax ..., remove org 0x100 at the beginning of the program) register it in the loader.  It turned out to decorate the output of the program by changing the color of the text.  You can insert sound by adding characters with code 7 in the text of the victory lines (PC speaker). <br><img src="https://habrastorage.org/getpro/habr/post_images/1ee/681/44a/1ee68144a0eae066b2e0863ba8994f4d.png"><br>  Half the deed is done.  It now remains to write arrays of data consisting of several thousand addresses and variants of the game. <br>  Approximate data size calculations: <br><ul><li>  9 cells (buttons), addressing word =&gt; 18 bytes for each variant of the playing field </li><li>  13-16 byte text field </li></ul><br>  Total about 31-34 bytes for each option.  Total game options can be 9!  (9 * 8 * 7 * 6 * 5 * 4 * 3 * 2 * 1).  This is a lot, but we need to store only a set of options for the player, since the options for the computer are determined at the stage of data generation.  For this option there will be no more than 9 * 7 * 5 * 3 * 1 = 945. If we consider that some options can be completed before filling the last cell (wins, defeats), then there will be even fewer options.  The total memory required for storing all variants and addresses will require no more than 32,130 bytes (34 * 945) that fit on one memory page (65535 bytes). <br>  To get this data, a C ++ program was written that generates all the variants and outputs them as an array for C / C ++ and data for the assembler.  Then the ability to display the full source code in C, assembler, then HTML with 0 JS lines was added. <br><div class="spoiler">  <b class="spoiler_title">Source C ++ data generator for games in 30 lines of assembler code (UPD or 20 lines using DOS interrupts, but without colors), 12 lines C, and 0 lines JS (HTML)</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/* * Author: godAlex (C) 2014 * version 1.2 * License GNU GPL v 3 * param: -h -a -c -sa -sc -sh * data optimization: -pvp, -pve, -findequal * optimization: -o0, -o1, -o2, -o3 (unstable), -dosint */</span></span> <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;cstdlib&gt; #include "iostream" #include "string.h" using namespace std; //------------------------------------------- //#define show_debug 1 #define win_x 1 #define win_0 2 #define win_end 3 #define win_gameNext 0 #define CASE_BLOCK_SIZE 9 #define TEXT_BLOCK_SIZE 16 int Text_Block_Size=13; // 13,    13,  13,10  16.    asm. char End_Of_String=0; bool useDOSInt=false; //    BIOS bool mode_pve=true; //     pvp (     ) bool optimizeDataFind=true; //          bool casheWinVar=true; //     char *winText[4]; // ,   . unsigned short KEYBOARD_BYTE_OFFSET[] = {0x40,0x80,0x100,0x8,0x10,0x20,0x1,0x2,0x4 }; //{0b001000000,0b010000000,0b100000000,0b000001000,0b000010000,0b000100000,0b000000001,0b000000010,0b000000100 }; //unsigned short BOT_POSITION_PRIORITY[] = //{ 0x10, 0x40, 0x4, 0x100, 0x1, 0x80, 0x2, 0x8, 0x20}; // center bounds other //{0b000010000, 0b001000000,0b000000100,0b100000000,0b000000001,0b010000000,0b000000010,0b000001000,0b000100000 }; unsigned short WIN_MATRIX[] = { 0x1C0, 0x38, 0x7, 0x124, 0x92, 0x49, 0x111, 0x54 }; //{ 0b111000000, 0b000111000, 0b000000111, 0b100100100, 0b010010010, 0b001001001, 0b100010001, 0b001010100 }; unsigned short MATRIX_FULL = 0x1FF; //0b111111111; unsigned short STRING_ENTER_POS = 0x124;//0b100100100; // mode_pve==false &amp;&amp; optimizeDataFind==false, max = 294781 #define MAX_DATA_SIZE 550000 int data_addres[MAX_DATA_SIZE][CASE_BLOCK_SIZE]; char text[MAX_DATA_SIZE][TEXT_BLOCK_SIZE]; int data_pos = 0; // FIXME          unsigned short data_hashcashe[MAX_DATA_SIZE][2]; //    findGameVar    optimizeDataFind //---- int testWon(unsigned short MAP_X,unsigned short MAP_0) { for (int i=0; i&lt;8; i++) { if ( (MAP_X &amp; WIN_MATRIX[i]) == WIN_MATRIX[i] ) return win_x; if ( (MAP_0 &amp; WIN_MATRIX[i]) == WIN_MATRIX[i] ) return win_0; } if ( (MAP_X | MAP_0) == MATRIX_FULL ) return win_end; return win_gameNext; } void printField(unsigned short MAP_X,unsigned short MAP_0, char* result) { //char result[TEXT_BLOCK_SIZE]="...\n...\n...\n"; int p=0; for (unsigned int bOfs=1; bOfs&lt;MATRIX_FULL; bOfs=bOfs&lt;&lt;1) { // shl TODO test owerflow! if ( MAP_X &amp; bOfs ) result[p]='X'; else { if ( MAP_0 &amp; bOfs ) result[p]='0'; else result[p]='.'; } if ( bOfs &amp; STRING_ENTER_POS ) { p++; result[p]='\n'; } p++; } result[p]=End_Of_String; return result; } // ---- int setVariant(int varID, int variants[CASE_BLOCK_SIZE], char* txt) { int i; for (i=0;i&lt;CASE_BLOCK_SIZE;i++) data_addres[varID][i]=variants[i]; // TODO memcopy for (i=0; i&lt;Text_Block_Size &amp;&amp; ( txt[i]!=End_Of_String &amp;&amp; txt[i]!=0 ) ; i++) text[varID][i]=txt[i]; text[varID][Text_Block_Size-1]=End_Of_String; //      . #ifdef show_debug cout&lt;&lt;" set ‚Ññ"&lt;&lt;varID&lt;&lt;" as "&lt;&lt;text[varID]&lt;&lt;endl; #endif return varID; } void addToCasheVar(int i,unsigned short MAP_X,unsigned short MAP_0) // if optimizeDataFind { data_hashcashe[i][0]=MAP_X; data_hashcashe[i][1]=MAP_0; } int getFreeVar() { int p=data_pos; if (p&gt;=MAX_DATA_SIZE-1) { cout&lt;&lt;"Owerflow data pos! " &lt;&lt; p &lt;&lt;endl; return -1; } data_pos++; #ifdef show_debug cout&lt;&lt;"New variant ‚Ññ"&lt;&lt;p&lt;&lt;endl; #endif return p; } int itrGameHod_traceAll(unsigned short MAP_X,unsigned short MAP_0, bool playOn_X); /** *           -. *    (0) *    - int [0,8],   . */ int getBestBotHod(unsigned short MAP_X,unsigned short MAP_0) { // TODO  bot  . unsigned short lastMAP_X=MAP_X; unsigned short lastMAP_0=MAP_0; unsigned short full_map = MAP_X | MAP_0; int winLevel=-1; //    int winPos=-1; //* //if (winLevel&lt;1) for (int i=0; i&lt;9; i++) { //     unsigned short p = 1&lt;&lt;i; if ( (full_map &amp; p) == 0 ) { //     MAP_0 |= p; // if (playOn_X) MAP_X |= p; else MAP_0 |= p; int tmpWLvl=0; int w=testWon(MAP_X,MAP_0); if ( w!=win_gameNext ) { if (w==win_0) tmpWLvl=40; } else { w=itrGameHod_traceAll(MAP_X,MAP_0, true); if (w &amp; win_0) tmpWLvl+=4; if (w &amp; win_end) tmpWLvl+=2; if (w &amp; win_x) tmpWLvl+=0; } if (tmpWLvl&gt;winLevel) { //|| (tmpWLvl==winLevel &amp;&amp; (rand() % 3 == 1))) { winLevel=tmpWLvl; winPos=i; } MAP_X=lastMAP_X; MAP_0=lastMAP_0; } } //*/ return winPos; } int winWariantCashe[4]={0,0,0,0}; //     ,   ,  . int winWariantVer[4]={0,0,0,0}; //    ,   int setEndGameVariant(unsigned short MAP_X,unsigned short MAP_0, char* txt) { int currentRecordID; if (casheWinVar) { int wonIs = testWon(MAP_X,MAP_0); winWariantVer[wonIs]++; if (winWariantCashe[wonIs]==0) { int addres[CASE_BLOCK_SIZE]={0,0,0,0,0,0,0,0,0}; //  (  ) currentRecordID=getFreeVar(); //    setVariant(currentRecordID,addres, txt); winWariantCashe[wonIs]=currentRecordID; } else currentRecordID=winWariantCashe[wonIs]; } else { int addres[CASE_BLOCK_SIZE]={0,0,0,0,0,0,0,0,0}; //  (  ) //currentText= printField (MAP_X,MAP_0); //        ,  2    . int currentRecordID=getFreeVar(); setVariant(currentRecordID,addres, txt); } return currentRecordID; } /*     * bot   0,  mode_pve==true *     * playOn_X - 0= ,    *         */ int itrGameHod_traceAll(unsigned short MAP_X,unsigned short MAP_0, bool playOn_X) { unsigned short lastMAP_X=MAP_X; unsigned short lastMAP_0=MAP_0; unsigned short full_map = MAP_X | MAP_0; int winResult=0; int allWinVariant=win_x | win_0 | win_end; if (playOn_X || !mode_pve) { // user,   for (int i=0; i&lt;CASE_BLOCK_SIZE; i++) { unsigned short p = 1&lt;&lt;i; if ( (full_map &amp; p) == 0 ) { //     //MAP_X |= p; // if (playOn_X) MAP_X |= p; else MAP_0 |= p; int w=testWon(MAP_X,MAP_0); if (w!=win_gameNext) { winResult |= w; if (winResult==allWinVariant) return winResult; //  ,   =   } else w=itrGameHod_traceAll(MAP_X,MAP_0, !playOn_X); // iteration MAP_X=lastMAP_X; MAP_0=lastMAP_0; } } } else { // ,     ( mode_pve ) int i=getBestBotHod(MAP_X,MAP_0); unsigned short p = 1&lt;&lt;i; if ( (full_map &amp; p) == 0 ) { //     MAP_0 |= p; int w=testWon(MAP_X,MAP_0); if (w!=win_gameNext) { winResult |= w; if (winResult==allWinVariant) return winResult; } else w=itrGameHod_traceAll(MAP_X,MAP_0, !playOn_X); // iteration MAP_0=lastMAP_0; } } return winResult; } /** *     * -1    */ int findGameVar(unsigned short MAP_X,unsigned short MAP_0) { for ( int i=0; i&lt;data_pos ; i++ ) if ( data_hashcashe[i][0]==MAP_X &amp;&amp; data_hashcashe[i][1]==MAP_0 ) return i; return -1; } /* * bot   0 *     * playOn_X - 0= ,    *   addNewWariant.    . */ int itrGameHod_recordAll(unsigned short MAP_X,unsigned short MAP_0, bool playOn_X) { unsigned short lastMAP_X=MAP_X; unsigned short lastMAP_0=MAP_0; unsigned short full_map = MAP_X | MAP_0; int addres[CASE_BLOCK_SIZE]; //  (  ) char currentText[Text_Block_Size]; //      printField (MAP_X,MAP_0,currentText); if (optimizeDataFind) { int gVar = findGameVar(MAP_X, MAP_0); if ( gVar &gt;=0 ) return gVar; } int currentRecordID=getFreeVar(); if (currentRecordID==-1) { return -1; } if (optimizeDataFind) addToCasheVar(currentRecordID, MAP_X, MAP_0); if (playOn_X || !mode_pve) { //   for (int i=0; i&lt;CASE_BLOCK_SIZE; i++) { unsigned short p = KEYBOARD_BYTE_OFFSET[i]; //1&lt;&lt;i; if ( (full_map &amp; p) == 0 ) { //     if (playOn_X) MAP_X |= p; else MAP_0 |= p; int w=testWon(MAP_X,MAP_0); if (w!=win_gameNext) { // out who is won addres[i]=setEndGameVariant(MAP_X,MAP_0, winText[w]); // FIXME TEST!  winText[win_x] } else { if (mode_pve) { // BOT, PVE int p2Int=getBestBotHod(MAP_X,MAP_0); //  0,    !playOn_X if (p2Int == -1) cout&lt;&lt;"Wrong bot variant!"&lt;&lt;endl; unsigned short p2Bit=1&lt;&lt;p2Int; MAP_0 |= p2Bit; int w=testWon(MAP_X,MAP_0); if (w!=win_gameNext) { // out who is won addres[i]=setEndGameVariant(MAP_X,MAP_0, winText[win_0]); } else { // add new wariant int nextDataAddr=itrGameHod_recordAll(MAP_X,MAP_0, playOn_X); // iteration addres[i] = nextDataAddr; } } else { // PVP int nextDataAddr=itrGameHod_recordAll(MAP_X,MAP_0, !playOn_X); // iteration addres[i] = nextDataAddr; // TODO if == -1 } } MAP_X=lastMAP_X; MAP_0=lastMAP_0; } else { addres[i]=currentRecordID; } } currentRecordID=setVariant(currentRecordID, addres,currentText); return currentRecordID; } else { cout&lt;&lt;"Error!     ."&lt;&lt;endl; return -1; } } // -------------- void outDataFormatC() { int minimalCaseSize=1; if (data_pos&gt;0xff) minimalCaseSize=2; if (data_pos&gt;0xffff) minimalCaseSize=4; cout&lt;&lt; "// Out data on C array:"&lt;&lt;endl; cout&lt;&lt;"int data_pos = 0; // max="&lt;&lt;data_pos&lt;&lt;endl; cout&lt;&lt;"int CASE_BLOCK_SIZE = "&lt;&lt;CASE_BLOCK_SIZE&lt;&lt;";"&lt;&lt;endl; cout&lt;&lt;"int TEXT_BLOCK_SIZE = "&lt;&lt;Text_Block_Size&lt;&lt;";"&lt;&lt;endl; cout&lt;&lt;"unsigned "; //data_addres if (minimalCaseSize==1) cout&lt;&lt;"char"; if (minimalCaseSize==2) cout&lt;&lt;"short"; if (minimalCaseSize==4) cout&lt;&lt;"int"; cout&lt;&lt;" data_addres["&lt;&lt;data_pos&lt;&lt;"]["&lt;&lt;CASE_BLOCK_SIZE&lt;&lt;"] = {"; for ( int i=0; i&lt;data_pos; i++) { if (i!=0) cout&lt;&lt;", "; cout&lt;&lt;"{"; for ( int j=0; j&lt;CASE_BLOCK_SIZE; j++) { if (j!=0) cout&lt;&lt;", "; cout&lt;&lt;data_addres[i][j]; } cout&lt;&lt;"}"; } cout&lt;&lt;"};"&lt;&lt;endl; //text cout&lt;&lt;"char text["&lt;&lt;data_pos&lt;&lt;"]["&lt;&lt;Text_Block_Size&lt;&lt;"] = {"; for ( int i=0; i&lt;data_pos; i++) { if (i!=0) cout&lt;&lt;", "; //   //cout&lt;&lt;"{"; //for ( int j=0; j&lt;TEXT_BLOCK_SIZE; j++) { // if (j!=0) cout&lt;&lt;", "; // cout&lt;&lt; (int)text[i][j]; //} //cout&lt;&lt;"}"; //cout&lt;&lt; "\""&lt;&lt;text[i]&lt;&lt;"\""&lt;&lt;endl; //      cout&lt;&lt;"\""; for ( int j=0; j&lt;Text_Block_Size; j++) { if (text[i][j]&gt;=30) cout&lt;&lt; text[i][j]; else { if (text[i][j]=='\n') cout&lt;&lt;"\\n"; else if (text[i][j]==0) cout&lt;&lt;"\\0"; else cout&lt;&lt; "\\("&lt;&lt;(int)text[i][j]&lt;&lt;")"; } } cout&lt;&lt;"\""; } cout&lt;&lt;"};"&lt;&lt;endl; cout&lt;&lt;"// ---- end of data ----"&lt;&lt;endl; } /** *       * @param premul  ,       (  ) */ void outDataFormatAsm(int optLevel) { int minimalCaseSize=2; //if (data_pos&gt;0xff) minimalCaseSize=2; //if (data_pos&gt;0xffff) minimalCaseSize=4; cout&lt;&lt;"; Out data on assembler data format"&lt;&lt;endl; if (optLevel==0) { cout&lt;&lt;"data_pos DW 0 ; max="&lt;&lt;data_pos&lt;&lt;"-1"&lt;&lt;endl; cout&lt;&lt;"CASE_BLOCK_SIZE DW "&lt;&lt;CASE_BLOCK_SIZE*minimalCaseSize&lt;&lt;" ;bytes ("&lt;&lt;minimalCaseSize&lt;&lt;" byte per 1 case)"&lt;&lt;endl; cout&lt;&lt;"TEXT_BLOCK_SIZE DW "&lt;&lt;Text_Block_Size&lt;&lt;endl; cout&lt;&lt;"data_addres:"&lt;&lt;endl; for ( int i=0; i&lt;data_pos; i++) { //if (minimalCaseSize==1) cout&lt;&lt;"DB "; //if (minimalCaseSize==2) cout&lt;&lt;"DW "; //if (minimalCaseSize==4) cout&lt;&lt;"QW "; // data_pos     16- DW cout&lt;&lt;"DW "; for ( int j=0; j&lt;CASE_BLOCK_SIZE; j++) { if (j!=0) cout&lt;&lt;", "; cout&lt;&lt;data_addres[i][j]; } cout&lt;&lt;endl; } cout&lt;&lt;endl; //text cout&lt;&lt;"text_data: \n"; bool textMarker=false; for ( int i=0; i&lt;data_pos; i++) { cout&lt;&lt;"DB "; int maxOutBytes=Text_Block_Size; for ( int j=0; j&lt;maxOutBytes; j++) { if (text[i][j]&gt;=30) { if (!textMarker) { if (j!=0) cout&lt;&lt;", "; cout&lt;&lt;"\""; textMarker=true; } cout&lt;&lt; text[i][j]; } else { if (textMarker) { cout&lt;&lt;"\""; textMarker=false; } if (text[i][j]=='\n') { cout&lt;&lt;", 13,10"; maxOutBytes--; } else if (text[i][j]==0 &amp;&amp; End_Of_String!=0) cout&lt;&lt;", \""&lt;&lt;End_Of_String&lt;&lt;"\""; //   DOS int 21h. else if (text[i][j]==0) cout&lt;&lt;", \" \""; // FIXME  ? else cout&lt;&lt; ", "&lt;&lt;(int)text[i][j]; } } if (textMarker) { cout&lt;&lt;"\""; textMarker=false; } cout&lt;&lt;endl; } } if (optLevel==1) { cout&lt;&lt;"data_pos DW 0 ; max="&lt;&lt;data_pos&lt;&lt;"-1"&lt;&lt;endl; //cout&lt;&lt;"CASE_BLOCK_SIZE DW "&lt;&lt;CASE_BLOCK_SIZE*minimalCaseSize&lt;&lt;" ;bytes ("&lt;&lt;minimalCaseSize&lt;&lt;" byte per 1 case)"&lt;&lt;endl; //cout&lt;&lt;"TEXT_BLOCK_SIZE DW "&lt;&lt;Text_Block_Size&lt;&lt;endl; cout&lt;&lt;"data_addres:"&lt;&lt;endl; //data_addres for ( int i=0; i&lt;data_pos; i++) { cout&lt;&lt;"DW "; for ( int j=0; j&lt;CASE_BLOCK_SIZE; j++) { if (j!=0) cout&lt;&lt;", "; cout&lt;&lt; (data_addres[i][j] * (CASE_BLOCK_SIZE*minimalCaseSize+Text_Block_Size)); //       . } cout&lt;&lt;endl; //text cout&lt;&lt;"DB "; bool textMarker=false; int maxOutBytes=Text_Block_Size; for ( int j=0; j&lt;maxOutBytes; j++) { if (text[i][j]&gt;=30) { if (!textMarker) { if (j!=0) cout&lt;&lt;", "; cout&lt;&lt;"\""; textMarker=true; } cout&lt;&lt; text[i][j]; } else { if (textMarker) { cout&lt;&lt;"\""; textMarker=false; } if (text[i][j]=='\n') { // "" cout&lt;&lt;", 13,10"; maxOutBytes--; } else if (text[i][j]==0 &amp;&amp; End_Of_String!=0) cout&lt;&lt;", \""&lt;&lt;End_Of_String&lt;&lt;"\""; //   DOS int 21h. else if (text[i][j]==0) cout&lt;&lt;", \" \""; //  ,  ? else cout&lt;&lt; ", "&lt;&lt;(int)text[i][j]; } } if (textMarker) { cout&lt;&lt;"\""; textMarker=false; } cout&lt;&lt;endl; } } if (optLevel&gt;=2) { cout&lt;&lt;"data_pos DW d_0"&lt;&lt;endl; for ( int i=0; i&lt;data_pos; i++) { cout&lt;&lt;"d_"&lt;&lt; i &lt;&lt;" "; //data_addres cout&lt;&lt;"DW "; for ( int j=0; j&lt;CASE_BLOCK_SIZE; j++) { if (j!=0) cout&lt;&lt;", "; cout&lt;&lt; "d_"&lt;&lt;data_addres[i][j]; //       . } cout&lt;&lt;endl; //text cout&lt;&lt;"DB "; bool textMarker=false; int maxOutBytes=Text_Block_Size; for ( int j=0; j&lt;maxOutBytes; j++) { if (text[i][j]&gt;=30) { if (!textMarker) { if (j!=0) cout&lt;&lt;", "; cout&lt;&lt;"\""; textMarker=true; } cout&lt;&lt; text[i][j]; } else { if (textMarker) { cout&lt;&lt;"\""; textMarker=false; } if (text[i][j]=='\n') { // "" cout&lt;&lt;", 13,10"; maxOutBytes--; } else if (text[i][j]==0 &amp;&amp; End_Of_String!=0) cout&lt;&lt;", \""&lt;&lt;End_Of_String&lt;&lt;"\""; //  DOS int 21h. else if (text[i][j]==0) cout&lt;&lt;", \" \""; // FIXME   ? else cout&lt;&lt; ", "&lt;&lt;(int)text[i][j]; } } if (textMarker) { cout&lt;&lt;"\""; textMarker=false; } cout&lt;&lt;endl; } } cout&lt;&lt;"; ---- end of data ----"&lt;&lt;endl; return; } /** * @param showInfo      */ void generator_game_data(bool showInfo) { if (showInfo) cout&lt;&lt;"Start generation."&lt;&lt;endl; for ( int i=0; i&lt;MAX_DATA_SIZE; i++) for ( int j=0; j&lt;Text_Block_Size; j++) text[i][j]=End_Of_String; int startP = itrGameHod_recordAll(0,0, true); if (showInfo) { cout&lt;&lt; "Finish generation. Start game position="&lt;&lt;startP&lt;&lt;endl; cout&lt;&lt; "Data length = "&lt;&lt;data_pos&lt;&lt;endl; int minimalCaseSize=1; if (data_pos&gt;0xff) minimalCaseSize=2; if (data_pos&gt;0xffff) minimalCaseSize=4; cout&lt;&lt; " key array size is "&lt;&lt;(data_pos*CASE_BLOCK_SIZE*minimalCaseSize)&lt;&lt;" byte ("&lt;&lt;minimalCaseSize&lt;&lt;" byte per case)"&lt;&lt;endl; cout&lt;&lt; " text array size is "&lt;&lt;(data_pos*Text_Block_Size*sizeof(char))&lt;&lt;" byte"&lt;&lt;endl; cout&lt;&lt; "  :  "&lt;&lt;winWariantVer[win_end]&lt;&lt;",  0 "&lt;&lt;winWariantVer[win_0]&lt;&lt;", X "&lt;&lt;winWariantVer[win_x] &lt;&lt;endl; cout&lt;&lt; "Use --help for help." &lt;&lt;endl; } } //------------------------------------------- void outListingC() { cout&lt;&lt;"/*"&lt;&lt;endl; cout&lt;&lt;"* example short command tic-tac-toe. By godAlex generator."&lt;&lt;endl; cout&lt;&lt;"*/"&lt;&lt;endl; cout&lt;&lt;"#include &lt;stdio.h&gt;"&lt;&lt;endl; cout&lt;&lt;"#include &lt;stdlib.h&gt;"&lt;&lt;endl; outDataFormatC(); cout&lt;&lt;"int main(int argc, char** argv) {"&lt;&lt;endl; cout&lt;&lt;" while (1) {"&lt;&lt;endl; cout&lt;&lt;" printf(text[data_pos]);"&lt;&lt;endl; cout&lt;&lt;" int i;"&lt;&lt;endl; cout&lt;&lt;" do scanf(\"%i\",&amp;i); while ( i&lt;1 || i&gt;9 );"&lt;&lt;endl; cout&lt;&lt;" data_pos=data_addres[data_pos][i-1];"&lt;&lt;endl; cout&lt;&lt;" }"&lt;&lt;endl; cout&lt;&lt;" return (EXIT_SUCCESS);"&lt;&lt;endl; cout&lt;&lt;"}"&lt;&lt;endl; } void outListingAsm(int optLevel) { cout&lt;&lt;"SECTION .text"&lt;&lt;endl; cout&lt;&lt;"org 0x100 ; .com "&lt;&lt;endl; // cout&lt;&lt;"push cs"&lt;&lt;endl; // cout&lt;&lt;"pop ds ;    "&lt;&lt;endl; cout&lt;&lt;"lblShowVariant: "&lt;&lt;endl; cout&lt;&lt;" mov ax,0x0001 ; clear screen, set graphic mode 40x25, color"&lt;&lt;endl; cout&lt;&lt;" int 10h"&lt;&lt;endl; if (!useDOSInt) { // BIOS if (optLevel==0) { cout&lt;&lt;" mov ax, [data_pos]"&lt;&lt;endl; cout&lt;&lt;" mov bx, [TEXT_BLOCK_SIZE]"&lt;&lt;endl; cout&lt;&lt;" mul bx"&lt;&lt;endl; cout&lt;&lt;" mov bp, text_data"&lt;&lt;endl; cout&lt;&lt;" add bp,ax ; offset  "&lt;&lt;endl; } if (optLevel==1) { // -3  cout&lt;&lt;" mov bp, data_addres+"&lt;&lt;(CASE_BLOCK_SIZE*2)&lt;&lt;endl; cout&lt;&lt;" add bp, [data_pos]"&lt;&lt;endl; } if (optLevel&gt;=2) { // -1/-3  cout&lt;&lt;" mov bp, "&lt;&lt;(CASE_BLOCK_SIZE*2)&lt;&lt;endl; cout&lt;&lt;" add bp, [data_pos]"&lt;&lt;endl; } cout&lt;&lt;" mov cx, "&lt;&lt;Text_Block_Size&lt;&lt;" ; [TEXT_BLOCK_SIZE]"&lt;&lt;endl; // [TEXT_BLOCK_SIZE] cout&lt;&lt;" mov ax,1300h"&lt;&lt;endl; cout&lt;&lt;" mov bx,0eh ; color"&lt;&lt;endl; cout&lt;&lt;" mov dx,0500h ; 5  0   "&lt;&lt;endl; cout&lt;&lt;" int 10h"&lt;&lt;endl; } else { // DOS if (optLevel==0) { cout&lt;&lt;" mov ax, [data_pos]"&lt;&lt;endl; cout&lt;&lt;" mov bx, [TEXT_BLOCK_SIZE]"&lt;&lt;endl; cout&lt;&lt;" mul bx"&lt;&lt;endl; cout&lt;&lt;" mov dx, text_data"&lt;&lt;endl; cout&lt;&lt;" add dx,ax ; offset  "&lt;&lt;endl; } if (optLevel==1) { // -3  cout&lt;&lt;" mov dx, data_addres+"&lt;&lt;(CASE_BLOCK_SIZE*2)&lt;&lt;endl; cout&lt;&lt;" add dx, [data_pos]"&lt;&lt;endl; } if (optLevel&gt;=2) {// -1 -3  cout&lt;&lt;" mov dx, "&lt;&lt;(CASE_BLOCK_SIZE*2)&lt;&lt;endl; cout&lt;&lt;" add dx, [data_pos]"&lt;&lt;endl; } cout&lt;&lt;" mov ah, 0x9 ; print [ds][dx]"&lt;&lt;endl; cout&lt;&lt;" int 21h ; dos,  $"&lt;&lt;endl; } if (optLevel&lt;3) cout&lt;&lt;"lReadKey: "&lt;&lt;endl; //cout&lt;&lt;" rep nop ;        ,    "&lt;&lt;endl; cout&lt;&lt;" xor ax,ax"&lt;&lt;endl; cout&lt;&lt;" int 16h ; BIOS read key"&lt;&lt;endl; cout&lt;&lt;" xor ah,ah"&lt;&lt;endl; cout&lt;&lt;" sub al,'1' ;  al  ,   "&lt;&lt;endl; if (optLevel&lt;3) cout&lt;&lt;" cmp ax,8"&lt;&lt;endl; // O3   -  ,  ,          if (optLevel&lt;3) cout&lt;&lt;" ja lReadKey"&lt;&lt;endl; cout&lt;&lt;" shl ax,1 ; ax=ax*2"&lt;&lt;endl; if (optLevel==0) { cout&lt;&lt;" mov bx, data_addres"&lt;&lt;endl; cout&lt;&lt;" add bx,ax ; bx = data_addres[key]"&lt;&lt;endl; cout&lt;&lt;" mov ax, [data_pos]"&lt;&lt;endl; cout&lt;&lt;" mov cx, [CASE_BLOCK_SIZE]"&lt;&lt;endl; cout&lt;&lt;" mul cx ; cx = [data_pos]"&lt;&lt;endl; cout&lt;&lt;" add bx,ax ; bx = data_addres[data_pos][key]"&lt;&lt;endl; } if (optLevel==1) { // -3 cout&lt;&lt;" add ax, data_addres ; bx = data_addres[key]"&lt;&lt;endl; cout&lt;&lt;" add ax, [data_pos]"&lt;&lt;endl; cout&lt;&lt;" mov bx,ax"&lt;&lt;endl; } if (optLevel&gt;=2) { // -1 ; optLevel&gt;2 -1-3 cout&lt;&lt;" add ax, [data_pos]"&lt;&lt;endl; cout&lt;&lt;" mov bx,ax ; TODO    ,  xlat,    ?"&lt;&lt;endl; } cout&lt;&lt;" mov ax,[bx]"&lt;&lt;endl; cout&lt;&lt;" mov [data_pos],ax ;    ."&lt;&lt;endl; cout&lt;&lt;" jmp lblShowVariant"&lt;&lt;endl; // ;mov ax, 0x4c00; DOS EXIT,       )) // ;int 0x21 cout&lt;&lt;"SECTION .data"&lt;&lt;endl; outDataFormatAsm(optLevel); } void outListingHTML() { cout&lt;&lt;"&lt;html&gt;"&lt;&lt;endl; cout&lt;&lt;"&lt;head&gt;"&lt;&lt;endl; cout&lt;&lt;"&lt;!-- 0  JS --&gt;"&lt;&lt;endl; cout&lt;&lt;"&lt;script type=\"text-javascript\"&gt;"&lt;&lt;endl; cout&lt;&lt;"&lt;/script&gt;"&lt;&lt;endl; cout&lt;&lt;"&lt;style&gt;"&lt;&lt;endl; cout&lt;&lt;" div {"&lt;&lt;endl; cout&lt;&lt;" height: 100%"&lt;&lt;endl; cout&lt;&lt;" }"&lt;&lt;endl; cout&lt;&lt;" td {"&lt;&lt;endl; cout&lt;&lt;" width:1em;"&lt;&lt;endl; cout&lt;&lt;" height:1em;"&lt;&lt;endl; cout&lt;&lt;" }"&lt;&lt;endl; cout&lt;&lt;"&lt;/style&gt;"&lt;&lt;endl; cout&lt;&lt;"&lt;/head&gt;"&lt;&lt;endl; cout&lt;&lt;"&lt;body&gt;"&lt;&lt;endl; for ( int i=0; i&lt;data_pos; i++) { cout&lt;&lt;"&lt;div id=\"p"&lt;&lt;i&lt;&lt;"\"&gt;"&lt;&lt;endl; if (text[i][0]=='X' || text[i][0]=='0' || text[i][0]=='.') { cout&lt;&lt;"&lt;table border=\"border\"&gt;"&lt;&lt;endl; cout&lt;&lt;"&lt;tr&gt;"&lt;&lt;endl; cout&lt;&lt;" &lt;td&gt;&lt;a href=\"#p"&lt;&lt;data_addres[i][0]&lt;&lt;"\"&gt;"&lt;&lt;text[i][6+2]&lt;&lt;"&lt;/a&gt;&lt;/td&gt;"&lt;&lt;endl; cout&lt;&lt;" &lt;td&gt;&lt;a href=\"#p"&lt;&lt;data_addres[i][1]&lt;&lt;"\"&gt;"&lt;&lt;text[i][7+2]&lt;&lt;"&lt;/a&gt;&lt;/td&gt;"&lt;&lt;endl; cout&lt;&lt;" &lt;td&gt;&lt;a href=\"#p"&lt;&lt;data_addres[i][2]&lt;&lt;"\"&gt;"&lt;&lt;text[i][8+2]&lt;&lt;"&lt;/a&gt;&lt;/td&gt;"&lt;&lt;endl; cout&lt;&lt;"&lt;/tr&gt;&lt;tr&gt;"&lt;&lt;endl; cout&lt;&lt;" &lt;td&gt;&lt;a href=\"#p"&lt;&lt;data_addres[i][3]&lt;&lt;"\"&gt;"&lt;&lt;text[i][3+1]&lt;&lt;"&lt;/a&gt;&lt;/td&gt;"&lt;&lt;endl; cout&lt;&lt;" &lt;td&gt;&lt;a href=\"#p"&lt;&lt;data_addres[i][4]&lt;&lt;"\"&gt;"&lt;&lt;text[i][4+1]&lt;&lt;"&lt;/a&gt;&lt;/td&gt;"&lt;&lt;endl; cout&lt;&lt;" &lt;td&gt;&lt;a href=\"#p"&lt;&lt;data_addres[i][5]&lt;&lt;"\"&gt;"&lt;&lt;text[i][5+1]&lt;&lt;"&lt;/a&gt;&lt;/td&gt;"&lt;&lt;endl; cout&lt;&lt;"&lt;/tr&gt;&lt;tr&gt;"&lt;&lt;endl; cout&lt;&lt;" &lt;td&gt;&lt;a href=\"#p"&lt;&lt;data_addres[i][6]&lt;&lt;"\"&gt;"&lt;&lt;text[i][0]&lt;&lt;"&lt;/a&gt;&lt;/td&gt;"&lt;&lt;endl; cout&lt;&lt;" &lt;td&gt;&lt;a href=\"#p"&lt;&lt;data_addres[i][7]&lt;&lt;"\"&gt;"&lt;&lt;text[i][1]&lt;&lt;"&lt;/a&gt;&lt;/td&gt;"&lt;&lt;endl; cout&lt;&lt;" &lt;td&gt;&lt;a href=\"#p"&lt;&lt;data_addres[i][8]&lt;&lt;"\"&gt;"&lt;&lt;text[i][2]&lt;&lt;"&lt;/a&gt;&lt;/td&gt;"&lt;&lt;endl; cout&lt;&lt;"&lt;/tr&gt;"&lt;&lt;endl; cout&lt;&lt;"&lt;/table&gt;"&lt;&lt;endl; } else cout&lt;&lt;"&lt;a href=\"#p"&lt;&lt;data_addres[i][0]&lt;&lt;"\"&gt;"&lt;&lt;text[i]&lt;&lt;"&lt;/a&gt;"&lt;&lt;endl; cout&lt;&lt;"&lt;/div&gt;"&lt;&lt;endl; } cout&lt;&lt;"&lt;/body&gt;"&lt;&lt;endl; cout&lt;&lt;"&lt;/html&gt;"&lt;&lt;endl; } // ---- int main(int argc, char** argv) { int outFormat=-1; // 0 - assembler data, 1 - C array, -1 -   . int optLevel=0; // 0 -  , 1 -    (   ), 2 -    (), 3 -    ()) for (int i=1; i&lt;argc; i++) { if ( strcmp(argv[i],"--help")==0 || strcmp(argv[i],"-h")==0 ) { cout&lt;&lt;"  .   --help  ."&lt;&lt;endl; cout&lt;&lt;" --help  -h   ."&lt;&lt;endl; cout&lt;&lt;" -a       ( )"&lt;&lt;endl; cout&lt;&lt;" -      "&lt;&lt;endl; cout&lt;&lt;" -sa     "&lt;&lt;endl; cout&lt;&lt;" -s     C"&lt;&lt;endl; cout&lt;&lt;" -sh   HTML"&lt;&lt;endl; cout&lt;&lt;" -pvp    ( )"&lt;&lt;endl; cout&lt;&lt;" -nodataopt    ,   "&lt;&lt;endl; cout&lt;&lt;" -nowinopt    ,   "&lt;&lt;endl; cout&lt;&lt;"      (??)    -nowinopt -nodataopt"&lt;&lt;endl; // TODO check text cout&lt;&lt;"       :"&lt;&lt;endl; cout&lt;&lt;" -dosint (-3 )    DOS"&lt;&lt;endl; cout&lt;&lt;" -o0 (28 /25   dosint)        .   ."&lt;&lt;endl; cout&lt;&lt;" -o1 (-6 22 /19   dosint)      .          ."&lt;&lt;endl; cout&lt;&lt;" -o2 (-1 21/18 )         .      ,       ()."&lt;&lt;endl; cout&lt;&lt;" -o3 (-2 19/16 )  o2   range check -  if   .       !"&lt;&lt;endl; return 0; } else if ( strcmp(argv[i],"-a")==0 ) outFormat=0; else if ( strcmp(argv[i],"-c")==0 ) outFormat=1; else if ( strcmp(argv[i],"-sa")==0 ) outFormat=2; else if ( strcmp(argv[i],"-sc")==0 ) outFormat=3; else if ( strcmp(argv[i],"-sh")==0 ) outFormat=4; else if ( strcmp(argv[i],"-o0")==0 ) optLevel=0; else if ( strcmp(argv[i],"-o1")==0 ) optLevel=1; // -mul else if ( strcmp(argv[i],"-o2")==0 ) optLevel=2; // o1 + -add else if ( strcmp(argv[i],"-o3")==0 ) optLevel=3; // o2 + -range check else if ( strcmp(argv[i],"-dosint")==0 ) useDOSInt=true; else if ( strcmp(argv[i],"-pvp")==0 ) mode_pve=false; else if ( strcmp(argv[i],"-pve")==0 ) mode_pve=true; else if ( strcmp(argv[i],"-nodataopt")==0 ) optimizeDataFind=false; else if ( strcmp(argv[i],"-nowinopt")==0 ) casheWinVar=false; else { cout&lt;&lt;"  \""&lt;&lt;argv[i]&lt;&lt;"\".   --help  ."&lt;&lt;endl; return 1; } } bool usePCSpeaker=false; if ( outFormat==0 || outFormat==2 ) { if (useDOSInt) End_Of_String = '$'; //     DOS Text_Block_Size=13+3; usePCSpeaker=true; //   } // init win text messages if (mode_pve) { if (usePCSpeaker) { //   winText[win_x] = "You are won!\7\n"; winText[win_end]= "Not win. End\n"; winText[win_0] = "Bot won. 0\7\n"; } else { winText[win_x] = "You are won!"; winText[win_end]= "Not win. End"; winText[win_0] = "Bot won."; } } else { // PVP if (usePCSpeaker) { //   winText[win_x] = "X are won!\7\n"; winText[win_end]= "Not win. End\n"; winText[win_0] = "0 won.\7\n"; } else { winText[win_x] = "X are won!"; winText[win_end]= "Not win. End"; winText[win_0] = "0 won."; } } generator_game_data( outFormat&lt;2 ); if (outFormat==0) outDataFormatAsm(optLevel); if (outFormat==1) outDataFormatC(); if (outFormat==2) outListingAsm(optLevel); if (outFormat==3) outListingC(); if (outFormat==4) outListingHTML(); return 0; }</span></span></span></span></code> </pre><br></div></div><br> ,    "--help"   ,    : <br><ul><li> <b></b>  30 : ¬´generator.exe -sa &gt; name.asm¬ª,  .   nasm,     ¬´nasm -f bin name.asm -o asm30TTG.com¬ª,   ¬´asm30TTG.com¬ª  .     ,     . <br></li><li> <b>UPD: </b>  <b>20</b> : ¬´generator.exe -sa -o1 -dosint &gt; name.asm¬ª,  .   DOS    ,    . </li><li> <b>UPD2: </b>  <b>18</b> : ¬´generator.exe -sa -o2 -dosint &gt; name.asm¬ª,  .     -o3,     16     ( if),    ! </li><li> <b></b> : ¬´generator.exe -sc &gt; name.c¬ª   . </li><li> <b>HTML</b> : ¬´generator.exe -sh &gt; name.html¬ª </li></ul><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UPD:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> found a more compact solution in terms of the number of teams (19-20 teams). </font><font style="vertical-align: inherit;">If data is presented not in the form of two separate arrays, but in the form of an array of structures, then fewer multiplications will be required to obtain the address. </font><font style="vertical-align: inherit;">And since you only need to multiply one number per record, you can perform all multiplications in advance. </font><font style="vertical-align: inherit;">To make it even shorter, I used DOS interrupts; fewer commands are spent on their call, but the color adjustment was lost.</font></font><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Example for 20 assembler commands</font></font></b> <div class="spoiler_text"><pre> <code class="cpp hljs">SECTION .text org <span class="hljs-number"><span class="hljs-number">0x100</span></span> ; .com  lblShowVariant: mov ax,<span class="hljs-number"><span class="hljs-number">0x0001</span></span> ; clear screen, <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> graphic mode <span class="hljs-number"><span class="hljs-number">40</span></span>x25, color <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>h mov dx, data_addres+<span class="hljs-number"><span class="hljs-number">18</span></span> add dx, [data_pos] mov ah, <span class="hljs-number"><span class="hljs-number">0x9</span></span> ; print [ds][dx] <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> <span class="hljs-number"><span class="hljs-number">21</span></span>h ; dos,  $ lReadKey: xor ax,ax <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> <span class="hljs-number"><span class="hljs-number">16</span></span>h ; BIOS read key xor ah,ah sub al,<span class="hljs-string"><span class="hljs-string">'1'</span></span> ;  al  ,    cmp ax,<span class="hljs-number"><span class="hljs-number">8</span></span> ja lReadKey shl ax,<span class="hljs-number"><span class="hljs-number">1</span></span> ; ax=ax*<span class="hljs-number"><span class="hljs-number">2</span></span> add ax, data_addres ; bx = data_addres[key] add ax, [data_pos] mov bx,ax ;     mov ax,[ax] ?  ,    mov ax,[bx] mov [data_pos],ax ;    . jmp lblShowVariant SECTION .data ; Out data on assembler data format data_pos DW <span class="hljs-number"><span class="hljs-number">0</span></span> ; max=<span class="hljs-number"><span class="hljs-number">394</span></span><span class="hljs-number"><span class="hljs-number">-1</span></span> ;CASE_BLOCK_SIZE DW <span class="hljs-number"><span class="hljs-number">18</span></span> ;bytes (<span class="hljs-number"><span class="hljs-number">2</span></span> byte per <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">case</span></span>) ;TEXT_BLOCK_SIZE DW <span class="hljs-number"><span class="hljs-number">16</span></span> data_addres: DW <span class="hljs-number"><span class="hljs-number">34</span></span>, <span class="hljs-number"><span class="hljs-number">1428</span></span>, <span class="hljs-number"><span class="hljs-number">2448</span></span>, <span class="hljs-number"><span class="hljs-number">3400</span></span>, <span class="hljs-number"><span class="hljs-number">4726</span></span>, <span class="hljs-number"><span class="hljs-number">5678</span></span>, <span class="hljs-number"><span class="hljs-number">6732</span></span>, <span class="hljs-number"><span class="hljs-number">9248</span></span>, <span class="hljs-number"><span class="hljs-number">11594</span></span> DB <span class="hljs-string"><span class="hljs-string">"..."</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-string"><span class="hljs-string">"..."</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-string"><span class="hljs-string">"..."</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-string"><span class="hljs-string">"$"</span></span> DW <span class="hljs-number"><span class="hljs-number">34</span></span>, <span class="hljs-number"><span class="hljs-number">68</span></span>, <span class="hljs-number"><span class="hljs-number">238</span></span>, <span class="hljs-number"><span class="hljs-number">306</span></span>, <span class="hljs-number"><span class="hljs-number">442</span></span>, <span class="hljs-number"><span class="hljs-number">476</span></span>, <span class="hljs-number"><span class="hljs-number">34</span></span>, <span class="hljs-number"><span class="hljs-number">578</span></span>, <span class="hljs-number"><span class="hljs-number">1122</span></span> DB <span class="hljs-string"><span class="hljs-string">"0.."</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-string"><span class="hljs-string">"..."</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-string"><span class="hljs-string">"X.."</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-string"><span class="hljs-string">"$"</span></span> DW <span class="hljs-number"><span class="hljs-number">68</span></span>, <span class="hljs-number"><span class="hljs-number">68</span></span>, <span class="hljs-number"><span class="hljs-number">102</span></span>, <span class="hljs-number"><span class="hljs-number">136</span></span>, <span class="hljs-number"><span class="hljs-number">136</span></span>, <span class="hljs-number"><span class="hljs-number">136</span></span>, <span class="hljs-number"><span class="hljs-number">68</span></span>, <span class="hljs-number"><span class="hljs-number">68</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span> DB <span class="hljs-string"><span class="hljs-string">"00."</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-string"><span class="hljs-string">"..."</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-string"><span class="hljs-string">"XX."</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-string"><span class="hljs-string">"$"</span></span> DW <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span> DB <span class="hljs-string"><span class="hljs-string">"You are won!"</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-string"><span class="hljs-string">"$"</span></span> DW <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span> ...</code> </pre><br></div></div><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UPD2:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> for 16 teams, without conditional branches.</font></font><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Example of 16 assembler commands</font></font></b> <div class="spoiler_text"><pre> <code class="cpp hljs">SECTION .text org <span class="hljs-number"><span class="hljs-number">0x100</span></span> ; .com  lblShowVariant: mov ax,<span class="hljs-number"><span class="hljs-number">0x0001</span></span> ; clear screen, <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> graphic mode <span class="hljs-number"><span class="hljs-number">40</span></span>x25, color <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>h mov dx, <span class="hljs-number"><span class="hljs-number">18</span></span> add dx, [data_pos] mov ah, <span class="hljs-number"><span class="hljs-number">0x9</span></span> ; print [ds][dx] <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> <span class="hljs-number"><span class="hljs-number">21</span></span>h ; dos,  $ xor ax,ax <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> <span class="hljs-number"><span class="hljs-number">16</span></span>h ; BIOS read key xor ah,ah sub al,<span class="hljs-string"><span class="hljs-string">'1'</span></span> ;  al  ,    shl ax,<span class="hljs-number"><span class="hljs-number">1</span></span> ; ax=ax*<span class="hljs-number"><span class="hljs-number">2</span></span> add ax, [data_pos] mov bx,ax ; TODO    ,  xlat,    ? mov ax,[bx] mov [data_pos],ax ;    . jmp lblShowVariant SECTION .data ; Out data on assembler format data_pos DW d_0 d_0 DW d_1, d_29, d_45, d_56, d_68, d_74, d_77, d_112, d_115 DB <span class="hljs-string"><span class="hljs-string">"..."</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-string"><span class="hljs-string">"..."</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-string"><span class="hljs-string">"..."</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-string"><span class="hljs-string">"$"</span></span> d_1 DW d_1, d_2, d_7, d_9, d_13, d_14, d_1, d_16, d_28 DB <span class="hljs-string"><span class="hljs-string">"0.."</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-string"><span class="hljs-string">"..."</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-string"><span class="hljs-string">"X.."</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-string"><span class="hljs-string">"$"</span></span> ...</code> </pre><br></div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  Finally </h5><br>    30       Java Script,     ,   .         ,   .           ,     . <br> <b>UPD2:</b>  ,    30   ,     20 (),   16  ( -      ).    ‚Äî     <b>  </b> ( ¬´if¬ª). <br>         -   3x3. <br><table><tbody><tr><th>   </th><th>   </th></tr><tr><td> PVP,  * </td><td> 294781 </td></tr><tr><td> PVP,   </td><td> 7382 </td></tr><tr><td> PVE,   </td><td>  1036 </td></tr><tr><td> PVE,   </td><td>  306 </td></tr><tr><td> PVE,      </td><td>  113 </td></tr></tbody></table><br> <i>*   ,    255168.       (PVE)  ,    .</i> </div><p>Source: <a href="https://habr.com/ru/post/207964/">https://habr.com/ru/post/207964/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../207948/index.html">Fourth annual new year at the computer</a></li>
<li><a href="../207954/index.html">Increasing the brightness of the ceiling lamp (50W LED)</a></li>
<li><a href="../207956/index.html">Do we need to update the date in the basement of the site with the advent of the New Year?</a></li>
<li><a href="../207960/index.html">The results of the December contest and Happy New Year</a></li>
<li><a href="../207962/index.html">You calendar 2014</a></li>
<li><a href="../207968/index.html">Django + Select2 = select autocomplete</a></li>
<li><a href="../207970/index.html">A gift to all front-end developers. grunt (Jade + Stylus + Watch)</a></li>
<li><a href="../207978/index.html">On the merits of spaghetti methodology</a></li>
<li><a href="../207982/index.html">Metaclasses in Smalltalk</a></li>
<li><a href="../207984/index.html">4.6 million data messenger users have a data leak</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>