<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>BlueZ bracelet control</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In a research project, I needed a prototype of a medical bracelet. The device had to periodically measure the pulse, alerting the patient, and send th...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>BlueZ bracelet control</h1><div class="post__text post__text-html js-mediator-article">  In a research project, I needed a prototype of a medical bracelet.  The device had to periodically measure the pulse, alerting the patient, and send the results along with the battery level to the cloud service.  Such a device could well be a fitness bracelet with a stationary repeater instead of a smartphone.  Therefore, before trying to build a prototype with my own hands, I decided to experiment with something ready.  So I got a new Xiaomi mi band 1S Pulse ( <a href="https://geektimes.ru/company/madrobots/blog/265886/">review</a> on Geektimes) with an optical heart rate monitor. <br><a name="habracut"></a><br>  The choice of bracelet was associated with its relatively low price, good battery and the fact that the pulse measurement is initiated from the smartphone, and not started by pressing a button. <br><br>  I began the experiments with a study of the set of services and features available via Bluetooth 4.0 (or Bluetooth Low Energy, hereinafter - BLE).  It was not difficult to find something on the <a href="http://allmydroids.blogspot.ru/2014/12/xiaomi-mi-band-ble-protocol-reverse.html">network</a> , and this information helped me a lot, but it related to the previous version, without the sensor I needed.  Therefore, I started with a BLE scanner. <br><br>  It turned out that Nordic Semiconductor has a suitable and very convenient tool.  This is the Master Control Panel or <a href="https://www.nordicsemi.com/eng/Products/Nordic-mobile-Apps/nRF-Master-Control-Panel-application">nRF MCP</a> for Android 4.3+.  Having installed the application on the tablet and running ‚ÄúSCAN‚Äù, I easily found the mi band and recorded its physical address - C8: 0F: 10: 11: 1B: 6E: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/a9c/cf5/e90/a9ccf5e90e4e454780fb3c17f04e41ad.jpg"><br><br>  By clicking on ‚ÄúOPEN TAB‚Äù and then on ‚ÄúCONNECT‚Äù, I received a set of services: <br><br><img src="https://habrastorage.org/files/318/05c/55d/31805c55d2744086a370c5f20784c299.jpg"><br><br>  The pulse meter identifier turned out to be standard for such devices - <a href="https://developer.bluetooth.org/gatt/services/Pages/ServicesHome.aspx">0x180D</a> .  Looking ahead, I will say that I was glad early. <br><br>  As a repeater, I used the <a href="https://en.wikipedia.org/wiki/Raspberry_Pi">Raspberry Pi</a> (model B) and the BT400 BLE-usb adapter from ASUS.  It also took <a href="http://www.bluez.org/">BlueZ</a> - a real Swiss knife for working with Bluetooth under Linux and a couple of additional modules for Python. <br><br><div class="spoiler">  <b class="spoiler_title">Preparing Raspberry Pi</b> <div class="spoiler_text">  For Raspberry Pi, the <a href="https://www.raspberrypi.org/downloads">Raspbian</a> image was <a href="https://www.raspberrypi.org/downloads">used</a> .  After apt-get update and apt-get upgrade checked the adapter: <br><pre><code class="bash hljs">pi@raspberrypi:~ $ lsusb Bus 001 Device 006: ID 0b05:17cb ASUSTek Computer, Inc. Bus 001 Device 005: ID 046d:c077 Logitech, Inc. Bus 001 Device 004: ID 04d9:1602 Holtek Semiconductor, Inc.</code> </pre> <br>  Great, my adapter is in the first line.  Installed BlueZ.  It is recommended to download the latest code archive, at the time of preparing the article it was BlueZ 5.37, unpack and compile.  I was satisfied with version 5.23, which is installed via apt-get.  The correctness of the installation can be checked by executing the gatttool ‚Äìhelp command. <br>  Gatttool is a BlueZ tool for working with <a href="https://developer.bluetooth.org/TechnologyOverview/Pages/GATT.aspx">GATT</a> , a common BLE device attribute profile.  In older versions, gatttool was not installed by default, it was necessary to ‚Äúscrew‚Äù with my hands, but here help was available and it means I have almost everything I need to work with the bracelet.  Through pip I installed <a href="https://pexpect.readthedocs.org/en/stable/">Pexpect</a> to work with BlueZ from Python.  Reloaded Raspberry and turned on the adapter.  Adapter status checked with hciconfig: <br><pre> <code class="bash hljs">pi@raspberrypi:~ $ hciconfig hci0: Type: BR/EDR Bus: USB BD Address: 5C:F3:70:71:7E:F5 ACL MTU: 1021:8 SCO MTU: 64:1 DOWN RX bytes:616 acl:0 sco:0 events:34 errors:0 TX bytes:380 acl:0 sco:0 commands:34 errors:0</code> </pre><br>  The DOWN flag showed that the adapter is turned off, turned on by the command: <br>  sudo hciconfig hci0 up <br></div></div><br>  Before writing the code for Raspberry, I needed to make sure that all the services I needed (heart rate, battery level and vibrating alert) are available in the terminal mode from BlueZ. <br>  I scanned the BLE environment and easily found a bracelet: <br><br><pre> <code class="bash hljs">pi@raspberrypi:~ $ sudo hcitool -i hci0 lescan LE Scan ... C8:0F:10:11:1B:6E (unknown) C8:0F:10:11:1B:6E MI1S</code> </pre><br>  Connect to the bracelet with the connect command by running gatttool in interactive mode (I key): <br><br><pre> <code class="bash hljs">pi@raspberrypi:~ $ sudo gatttool -i hci0 -b C8:0F:10:11:1B:6E -I [C8:0F:10:11:1B:6E][LE]&gt; connect Attempting to connect to C8:0F:10:11:1B:6E Connection successful [C8:0F:10:11:1B:6E][LE]&gt;</code> </pre><br><br>  An online connection without pairing usually lasts 20 seconds. This is the so-called low level of secrecy, it is used by default.  The list of available services is displayed by the primary command: <br><br><pre> <code class="bash hljs">[C8:0F:10:11:1B:6E][LE]&gt; primary attr handle: 0x0001, end grp handle: 0x0009 uuid: 00001800-0000-1000-8000-00805f9b34fb attr handle: 0x000c, end grp handle: 0x000f uuid: 00001801-0000-1000-8000-00805f9b34fb attr handle: 0x0010, end grp handle: 0x0039 uuid: 0000fee0-0000-1000-8000-00805f9b34fb attr handle: 0x003a, end grp handle: 0x0048 uuid: 0000fee1-0000-1000-8000-00805f9b34fb attr handle: 0x0049, end grp handle: 0x004e uuid: 0000180d-0000-1000-8000-00805f9b34fb attr handle: 0x004f, end grp handle: 0x0051 uuid: 00001802-0000-1000-8000-00805f9b34fb</code> </pre><br>  Determine that the service can be four digits after uuid.  It turned out two common services (generic), two services specified by the manufacturer (fee0 and fee1), HRM service (180d) and alert (1802). <br>  The list of characteristics of the bracelet is displayed by the char-desc command in ascending order of pointers (handles).  Found a characteristic with the identifier ff0c in the list: <br>  handle: 0x002c, uuid: 0000ff0c-0000-1000-8000-00805f9b34fb, <br>  The pointer 0x002c for the battery charge level has already been defined for the previous version of the bracelet.  I tried to read the data with the char-read-hnd command (read the data on the pointer): <br><br><img src="https://habrastorage.org/files/b16/daf/c3a/b16dafc3a3324adf96aa02cd0d63fc8b.png"><br><br>  The battery "surrendered" first.  In response, not only the charge level, this is the first byte in hex (the smartphone on the eve showed 70%), but also full information about charging: the number of cycles, the date of the last charge, the battery status.  Under the terms of the problem, I needed only a level. <br><br>  The second was "subdued" vibrating alert.  According to the data from the MCP, I assumed that this is Immediate Alert, and the Alert Level is the command to be sent to the identifier 0x2A06: <br><br><img src="https://habrastorage.org/files/542/b2a/8b1/542b2a8b1ce044dea41ab0bd2250c6fe.jpg"><br><br>  In the list of characteristics, this identifier corresponds to the line: <br>  handle: 0x0051, uuid: 00002a06-0000-1000-8000-00805f9b34fb <br>  I sent a command to pointer 0x0051 with the value 01: <br><br><pre> <code class="bash hljs">[C8:0F:10:11:1B:6E][LE]&gt; char-write-cmd 0x0051 01</code> </pre><br><br>  The bracelet responded with two weak buzzes, the value 02 is two times for 01, i.e.  four signals, and 03 - two, but stronger.  With the pulse rate, everything turned out to be much more complicated.  The MCP showed the following: <br><br><img src="https://habrastorage.org/files/8be/1a3/628/8be1a3628f6b4f1d8e84e73e25232869.jpg"><br><br>  The characteristics associated with this service are: <br><br><pre> <code class="bash hljs">handle: 0x004b, uuid: 00002a37-0000-1000-8000-00805f9b34fb handle: 0x004c, uuid: 00002902-0000-1000-8000-00805f9b34fb handle: 0x004d, uuid: 00002803-0000-1000-8000-00805f9b34fb handle: 0x004e, uuid: 00002a39-0000-1000-8000-00805f9b34fb</code> </pre><br>  The pulse rate is transmitted to the smartphone in the notification or push-notification mode, it can not be considered as the battery charge level.  It is necessary to enable the notification by writing to CCC (Client Characteristic Configuration) with pointer 0x004 (the CCC always identifies 2902) value 0100 and waiting for notification. <br><br>  Nothing happened, the value was successfully recorded, but there were no notifications, the bracelet simply turned off after a few seconds.  Running gatttool in console mode with the ‚Äìlisten key didn‚Äôt produce any results either, gatttool just hung on, waiting.  Riddle, in one word. <br><br>  To clarify the situation, I had to use a BLE sniffer (on a laptop with Windows 8).  At the heart of it was a flashed BLE-usb-dongle on the CC2540 chip from Texas Instruments and the <a href="http://processors.wiki.ti.com/index.php/BLE_sniffer_guide">Smart Packet Sniffer</a> program from the same manufacturer.  Everything you need, including the programmer, can be easily found as a set for the developer, and I freely downloaded the program and firmware from the <a href="http://www.ti.com/tool/packet-sniffer">TI</a> website. <br><br>  Important!  The sniffer should be launched when the bracelet is in the presentation mode (advertising mode), i.e.  before connecting to a smartphone.  Otherwise it will be invisible.  It is also a good idea to remove all unnecessary BLE devices away from the sniffer, and even better to escape, this is very helpful then to understand the log. <br><br>  This is how packages look in a sniffer in presentation mode: <br><br><img src="https://habrastorage.org/files/0a8/1af/2f5/0a81af2f5bc74ea6ad6deb68c668e805.png"><br><br>  I determined that this is my bracelet across the AdvA (Advertising Address) field.  After establishing a connection with a smartphone, in the GATT-connection mode, the picture has changed: <br><br><img src="https://habrastorage.org/files/57b/ea2/3fb/57bea23fbc644a6b9581465c0f713733.png"><br><br>  Here you can see how the value 0100 is recorded in the CCC with the pointer 0x004C, allowing notifications of the pulse rate. <br><br>  One of the researchers of the previous version of the bracelet in his blog <a href="http://0110.be/posts/Access_Mi_Band_from_Android_-_Notes_on_the_Bluetooth_LE_Protocol">wrote</a> that not all services can be accessed by an anonymous device.  As far as I could figure out, in some cases, a device that interacts with a bracelet should transfer to the bracelet the correct information about the user, which is partially hashed when pairing with a smartphone. <br><br>  This data with a length of 20 bytes, as in the previous version, is recorded in the characteristic with the pointer 0x0019 and does not change with each new connection.  The first four bytes are the uid of the smartphone, then, in the clear, the bytes of gender, age, height, weight, rewriting resolution bytes (must be 00) and 10 bytes of a sequence similar to a hash.  I could not read user info from the bracelet. <br><br>  When analyzing the packages, we managed to find out the following: <br><ol><li>  Every time you connect, all notification permissions are sent to the bracelet (CCC ID 2902) </li><li>  Next comes the transfer of user information. </li><li>  Then, according to the 0x0028 pointer, the date and time are recorded. </li><li>  After that, the data on the battery level and the number of steps per day are read. </li><li>  Before you receive a pulse rate notification on the pointer 0x004E, the corresponding characteristic "pulse control point" is written the sequence 0x15 0x00 0x00 (I assume that this is a reset) </li><li>  Then 0x15 0x02 0x01 is also written there, which in my case corresponds to the left hand </li><li>  After that, after 15-20 seconds, a notification arrives with a pulse rate of two bytes, for example, 06 40. The second byte is the heart rate in hex. </li></ol><br>  In theory, in order to get the pulse rate, it was necessary to repeat all these transactions, possibly eliminating the 3rd and 4th points.  As it turned out, you can do without a reset.  It is impossible to do this manually, the bracelet would be disconnected before I could enter all the commands.  Therefore, I prepared a Python script: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sys, pexpect <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> time <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sleep gatt=pexpect.spawn(<span class="hljs-string"><span class="hljs-string">'gatttool -I'</span></span>) gatt.logfile = open(<span class="hljs-string"><span class="hljs-string">"pylog.txt"</span></span>, <span class="hljs-string"><span class="hljs-string">"w"</span></span>) gatt.sendline(<span class="hljs-string"><span class="hljs-string">'connect C8:0F:10:11:1B:6E'</span></span>) gatt.expect(<span class="hljs-string"><span class="hljs-string">'Connection successful'</span></span>) <span class="hljs-comment"><span class="hljs-comment"># Check battery level gatt.sendline('char-read-hnd 0x002c') gatt.expect('Characteristic value.*') batt = gatt.after batt = int(batt.split()[2],16) print 'Battery level:', batt, '%' # Send alert gatt.sendline('char-write-cmd 0x0051 01') sleep(5) # Allow notification gatt.sendline('char-write-req 0x004c 0100') gatt.expect('Characteristic value.*') # Send user data gatt.sendline('char-write-req 0x0019 F8663A5F0126B45500040049676F7200000000DC') gatt.expect('Characteristic value.*') # Set control point gatt.sendline('char-write-req 0x004e 150201') # Waiting for notification try: gatt.expect('Notification handle.*') hrm = gatt.after hrm = int(hrm.split()[6], 16) print 'HRM:', hrm except: print 'Bad control point or timeout' sys.exit(0)</span></span></code> </pre><br>  By the way, the number of completed steps can be read anonymously, it is available for reading at the pointer 0x001D.  The answer is four bytes, you need to read from left to right. <br><br>  The script displays the battery level, sends a notification, waits and prints the pulse rate.  The riddle is solved, it remains to learn how to send data to the cloud service, as which I decided to use <a href="https://thingspeak.com/">Thingspeak</a> .  This is a free service with a simple API and ready-made visualization. <br><br>  Setting up Thingspeak took no more than five minutes.  You must register and enter your personal space.  Next, create a new channel, specify the name, number and field labels in the channel settings.  Save settings and go to the tab Keys API.  There, copy the API Key for Write (Write API Key): <br><br><img src="https://habrastorage.org/files/178/cb8/fe6/178cb8fe65854ea9884c21f5b67b715f.png"><br><br>  After that, switch to the Private View tab (if ‚ÄúMake Public‚Äù was not specified when setting up the channel). <br><br>  The following Python construction is responsible for sending data to Thingspeak: <br><br><pre> <code class="python hljs">baseURL = <span class="hljs-string"><span class="hljs-string">'https://api.thingspeak.com/update?api_key=%s'</span></span>%YOUR_API_KEY f = urllib2.urlopen(baseURL + <span class="hljs-string"><span class="hljs-string">"&amp;field1=%s&amp;field2=%s"</span></span> % (batt, hrm)) <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> f.read() f.close()</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Full code</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sys, pexpect <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> time <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sleep <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> urllib2 sample_interval = <span class="hljs-number"><span class="hljs-number">180</span></span> <span class="hljs-comment"><span class="hljs-comment">#sec sample_qty = 8 api_key = 'YOUR_API_KEY' baseURL = 'https://api.thingspeak.com/update?api_key=%s'%api_key def getData(): try: gatt=pexpect.spawn('gatttool -I') # gatt.logfile = open("pylog.txt", "w") # for debug only gatt.sendline('connect C8:0F:10:11:1B:6E') gatt.expect('Connection successful', timeout=60) # Get battery level gatt.sendline('char-read-hnd 0x002c') gatt.expect('Characteristic value.*') batt = gatt.after batt = int(batt.split()[2],16) # Send alert gatt.sendline('char-write-cmd 0x0051 01') sleep(5) # Allow notification gatt.sendline('char-write-req 0x004c 0100') gatt.expect('Characteristic value.*') # Send user data gatt.sendline('char-write-req 0x0019 F8663A5F0126B45500040049676F7200000000DC') gatt.expect('Characteristic value.*') # Set control point gatt.sendline('char-write-req 0x004e 150201') # Waiting for notification gatt.expect('Notification handle.*', timeout=60) hrm = gatt.after hrm = int(hrm.split()[6], 16) except: hrm = 0 batt = 0 return (str(batt), str(hrm)) def main(): sample_count = 0 while True: try: batt, hrm = getData() f = urllib2.urlopen(baseURL + "&amp;field1=%s&amp;field2=%s" % (batt, hrm)) print f.read() f.close() sample_count = sample_count + 1 if (sample_count &gt;= sample_qty): break sleep(sample_interval) except: print 'Connection error' break if __name__ == '__main__': main() sys.exit(0)</span></span></code> </pre><br></div></div><br>  In the normal mode of operation, the sending number is displayed in the console, starting with one.  The range of the repeater is 3-4 meters in direct line of sight, which is normal for the medical chamber.  However, the bracelet at this distance is easily shielded by the palm. <br><br>  Tested the resulting system in the process of training on a stationary bike, 20 minutes.  The interval between measurements is 3 minutes, the number of measurements is 8. The bracelet tends to overestimate the pulse rate when it is not in contact with the skin, for greater accuracy it placed the sensor on the back of the wrist.  Thingspeak result: <br><br><img src="https://habrastorage.org/files/0db/bd4/198/0dbbd419847e4f4a8eaa165bb87e6ba9.png"><br>  As can be seen from the graph, 8 measurements had no effect on the battery charge.  I think the experiment can be considered quite successful and the experience gained can be used to design your own device or, for example, search for an OEM. <br><br><h4>  Useful links: </h4><br><ul><li>  <a href="http://processors.wiki.ti.com/index.php/BLE_sniffer_guide">Guide</a> to setting up the CC2540 and using the BLE sniffer </li><li>  <a href="http://www.jaredwolff.com/blog/get-started-with-bluetooth-low-energy/">Get started</a> with Bluetooth Low Energy </li><li>  <a href="https://learn.adafruit.com/reverse-engineering-a-bluetooth-low-energy-light-bulb/overview">Reverse Engineering</a> a Bluetooth Low Energy Light Bulb </li><li>  <a href="https://habrahabr.ru/company/intel/blog/267763/">Using</a> GATT in Bluetooth LE on Intel Edison </li></ul></div><p>Source: <a href="https://habr.com/ru/post/276343/">https://habr.com/ru/post/276343/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../276331/index.html">Add range operator in PHP</a></li>
<li><a href="../276333/index.html">Using or Using?</a></li>
<li><a href="../276335/index.html">HPE Aruba - Corporate-grade Wi-Fi</a></li>
<li><a href="../276339/index.html">Taming of the Shrew</a></li>
<li><a href="../276341/index.html">Microsoft Azure Stack TP1</a></li>
<li><a href="../276345/index.html">Firmware security using the example of industrial switches Hirschmann and Phoenix Contact</a></li>
<li><a href="../276347/index.html">Does your antivirus catch password-protected archives?</a></li>
<li><a href="../276349/index.html">Foreign hackers hacked the database of the largest US police union</a></li>
<li><a href="../276353/index.html">DevConf 2015: video of PHP section reports</a></li>
<li><a href="../276355/index.html">Bayesian neural network - because why not, damn it (part 1)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>