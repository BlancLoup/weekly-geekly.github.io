<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ECFG: put ~ / .emacs on a diet</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Friends, today I want to share with you the realization of the idea of ‚Äã‚Äãcreating a modular, portable and scalable configuration for your favorite tex...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>ECFG: put ~ / .emacs on a diet</h1><div class="post__text post__text-html js-mediator-article">  Friends, today I want to share with you the realization of the idea of ‚Äã‚Äãcreating a modular, portable and scalable configuration for your favorite text editor, tested in practice for many months on various combinations of hardware and software: <a href="https://github.com/maslennikov/emacs-config">Emacs Config</a> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/89a/0b6/40a/89a0b640a77fc6a35e6770ff6062da2f.png" alt="image"><br><a name="habracut"></a><br><h2>  Again something to configure? </h2><br>  Without panic, if everything is already working fine for you, you do not need to change anything.  If something from the list below has long languished in the dusty tudu-list, but there is not enough time to roll up your sleeves as usual, then it will be interesting to see.  So what <i>ECFG</i> offers you: <br><br><ul><li>  Storage of the entire configuration in the git repository. </li><li>  Automatic download of fresh versions of all third-party packages on the network during the first run. </li><li>  Optimized download speed editor: connected modules are automatically loaded only at the time of use. </li><li>  The lightweight framework practically does not interfere with the configuration code, allowing you to include snippets found on the network and still taking advantage of all the advantages listed above. </li><li>  It is easy and intuitive to add or change the configuration - even when you managed to forget all elisp-kung-fu (the author was convinced several times) </li></ul><br>  The source code is publicly available on the github: <a href="https://github.com/maslennikov/emacs-config">github.com/maslennikov/emacs-config</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Emacs Config.  Start </h2><br>  I started using the Emacs text editor about seven years ago.  In the beginning <s>there was a word that</s> all configuration recipes found on the network were heaped up in <i>~ / .emacs</i> . <br><br>  As they accumulate experience and various applications, more and more voluminous plugins began to move to <i>~ / .emacs.d /</i> .  All this, however, required more and more gluing logic and dependency management, and one <i>~ / .emacs was</i> obviously not enough. <br><br>  Over time, the initialization code was divided into separate modules, and for quite a long time <i>~ / .emacs.d /</i> with these modules and manually assembled from the Internet spaces the plugins were synchronized via Dropbox with all my workstations. <br><br>  During this period, I began to feel acutely the problem of controlling the plug-in versions.  Around the same time, <i>package.el</i> began to gain popularity, and the idea of ‚Äã‚Äãautomatically controlling the installation of packages no longer seemed utopian.  Another reason for automating the installation of plug-ins was the desire to move from simple synchronization via Dropbox to a full-fledged repository on the githaba: there was already too much configuration code to allow yourself not to use the version control system, and the firewall at the new workplace also blocked my dropbox  To keep the downloaded and unmanaged source files and binary files of plug-ins on the github did not want to be stored. <br><br>  The turning point came when I discovered the <i>Oh My Emacs</i> configuration framework, which was almost an ideal solution for all my needs.  Except for one thing: it was slow.  Highly.  This was the impetus for the creation of the <i>ECFG</i> project. <br><br><h2>  Installation </h2><br>  <i>ECFG</i> does not currently use <i>~ / .emacs</i> nor <i>~ / .emacs.d /</i> .  This is done intentionally in order to exclude the possibility of automatic modification of the library by the editor or the connected plug-ins.  On the other hand, all artifacts of various modules (for example, recentf history files) will find their originally intended place in <i>~ / .emacs.d</i> , and settings that are unique to each user (for example, custom-set-variables, etc.) can be freely placed in <i>~ / .emacs</i> . <br><br>  Information for more subtle control over this process can be found in the help for the <i>user-emacs-directory</i> and <i>custom-file</i> variables. <br><br>  To install <i>ECFG,</i> save a copy of the repository to your workstation in any directory: <br><pre><code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://github.com/maslennikov/emacs-config.git ~/.emacs.config</code> </pre> <br>  To teach Emacs to download <i>ECFG</i> , just place the following lines in your <i>~ / .emacs</i> <br><pre> <code class="lisp hljs"><span class="hljs-comment"><span class="hljs-comment">;; in case you use windows, teach it the utf8 (prefer-coding-system 'utf-8) (load-file "~/.emacs.config/init.el")</span></span></code> </pre><br>  And it's all.  During the first launch, it may take some time to download from the network and configure all the plug-ins used in the configuration. <br><br><h2>  How it works </h2><br>  As stated in your <i>~ / .emacs</i> , the entry point for <i>ECFG</i> is the <i>init.el</i> file, which controls the boot sequence of all other modules. <br><br>  Configuration files (just for the sake of what it was all started) are grouped in two directories: <br><ul><li>  <i>init.d:</i> contains the basic configuration of the editor, independent of the file type or mode in the current buffer; </li><li>  <i>modules:</i> contains the configuration applicable to files or modes of a particular type. </li></ul><br><br>  The basic configuration from the <i>init.d /</i> directory is loaded synchronously during the launch of the editor, which is why special attention was paid to optimizing the speed of execution of this code (for more information on optimizing plug-ins, you can get <a href="https://github.com/maslennikov/emacs-config">here</a> ). <br><br>  The configuration of the main modes from the <i>modules</i> directory prepares the lazy loading of modules using the autoloads mechanism.  To do this, it is enough to define an initialization function in the module file with the name <i>ecfg-NAME-module-init</i> and register it with the <i>ecfg-auto-module</i> macro.  For example, the connection of a new module for <i>cmake</i> mode configuration is as follows: <br><pre> <code class="lisp hljs"><span class="hljs-comment"><span class="hljs-comment">;;;###autoload (ecfg-auto-module "CMakeLists\\.txt$" cmake)</span></span></code> </pre><br>  In this case, the module will be loaded and initialized only during the opening of a file with the name <i>CMakeLists</i> , in other cases the code of this file will not be loaded. <br><br><br>  You will find more detailed and always up-to-date information on <a href="https://github.com/maslennikov/emacs-config">the project repository</a> page, and I will gladly provide answers to your questions in the comments. </div><p>Source: <a href="https://habr.com/ru/post/268271/">https://habr.com/ru/post/268271/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../268259/index.html">The problem of cheats in online games</a></li>
<li><a href="../268261/index.html">Three-Way Bitwise Quick Sort</a></li>
<li><a href="../268265/index.html">AngularJS: Migration from 1.2 to 1.4, Part 1</a></li>
<li><a href="../268267/index.html">Sometimes less is better - why only Google authorization? + channel Rusbase</a></li>
<li><a href="../268269/index.html">Why I chose Yii2</a></li>
<li><a href="../268273/index.html">Compalex: comparing schemas of two databases</a></li>
<li><a href="../268275/index.html">Why the Internet needs IPFS before it's too late</a></li>
<li><a href="../268277/index.html">Big Data from A to Z. Part 2: Hadoop</a></li>
<li><a href="../268279/index.html">DroidSon Moscow 2015: how it was</a></li>
<li><a href="../268281/index.html">Paul Graham: "Design and Research"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>