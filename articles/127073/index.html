<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Pokki Development: Hello World</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Not so long ago, the Pokki platform was launched in beta mode, which allows developing desktop applications using HTML5 and JavaScript (a review here ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Pokki Development: Hello World</h1><div class="post__text post__text-html js-mediator-article">  Not so long ago, the Pokki platform was launched in beta mode, which allows developing desktop applications using HTML5 and JavaScript (a review <a href="http://habrahabr.ru/blogs/webdev/122918/">here</a> ).  At the moment, it is available only to users of Windows 7, in the near future - to users of Vista and XP, also in the plans of Mac OS.  In this article, we will develop our first application. <a name="habracut"></a>  If you do not have Pokki, then you can install it <a href="http://www.pokki.com/">here</a> by selecting any application from the list of ‚ÄúFeatured Pokkies‚Äù (for example, Gmail or Tweeki). <br><br><h4>  Application structure </h4><br>  The structure of the application is similar to the structure of extensions for Google Chrome, so those who have already faced with their development, it will be easy to start.  Any application should consist of: <br><ul><li>  File manifest.json, which stores information about the application (name, description, icon, etc.) </li><li>  The popup.html file that defines the view (in fact, you will see its contents when you open the application) </li><li>  Icons (should be presented in three sizes - 42x42, 29x29 and 19x19 pixels, static). </li></ul><br><h4>  The first steps </h4><br>  To start development, you need to <a href="http://www.pokki.com/r/%3Fget-sdk">download</a> and install PokkiSDK. <br>  For educational purposes, the developers have provided for free download the skeleton of the application - Pokki Atom, you can download it <a href="">here</a> , we will need it.  Unpack the archive in any directory. <br>  Having opened <i>manifest.json</i> , we will see the following: <br><br><pre><code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"Pokki Atom"</span></span>, <span class="hljs-string"><span class="hljs-string">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"icon-19x19"</span></span>: <span class="hljs-string"><span class="hljs-string">"img/icon-19x19.png"</span></span>, <span class="hljs-string"><span class="hljs-string">"icon-29x29"</span></span>: <span class="hljs-string"><span class="hljs-string">"img/icon-29x29.png"</span></span>, <span class="hljs-string"><span class="hljs-string">"icon-42x42"</span></span>: <span class="hljs-string"><span class="hljs-string">"img/icon-42x42.png"</span></span>, <span class="hljs-string"><span class="hljs-string">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"A basic foundation for which to build a Pokki."</span></span>, <span class="hljs-string"><span class="hljs-string">"popup"</span></span>: <span class="hljs-string"><span class="hljs-string">"popup.html"</span></span>, <span class="hljs-string"><span class="hljs-string">"background_page"</span></span>: <span class="hljs-string"><span class="hljs-string">"background.html"</span></span> }</code> </pre> <br>  The <i>name</i> and <i>description</i> properties specify the name and description of our application, <i>icon-19x19 / 29x29 / 42x42</i> - icons of corresponding sizes, <br>  <i>popup</i> is the name of the popup content file; <i>background_page</i> is the name of the background page file, which will be discussed later.  Change the content as follows: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"Hello Pokki!"</span></span>, <span class="hljs-string"><span class="hljs-string">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"A simple Hello World! style Pokki."</span></span>, <span class="hljs-string"><span class="hljs-string">"icon-19x19"</span></span>: <span class="hljs-string"><span class="hljs-string">"img/icon-19x19.png"</span></span>, <span class="hljs-string"><span class="hljs-string">"icon-29x29"</span></span>: <span class="hljs-string"><span class="hljs-string">"img/icon-29x29.png"</span></span>, <span class="hljs-string"><span class="hljs-string">"icon-42x42"</span></span>: <span class="hljs-string"><span class="hljs-string">"img/icon-42x42.png"</span></span>, <span class="hljs-string"><span class="hljs-string">"popup"</span></span>: <span class="hljs-string"><span class="hljs-string">"popup.html"</span></span>, <span class="hljs-string"><span class="hljs-string">"background_page"</span></span>: <span class="hljs-string"><span class="hljs-string">"background.html"</span></span> }</code> </pre> <br>  and save the changes. <br><br><h4>  Test run </h4><br>  First of all, we‚Äôll launch Pokki‚Äôs built-in development environment for developers by finding a shortcut in Start: <br><br><img src="http://dl.dropbox.com/u/15702065/habr/start_menu_item.png" alt="image"><br><br>  After starting the environment, a notification will be displayed: <br><br><img src="http://dl.dropbox.com/u/15702065/habr/devtools_load_notification.png" alt="image"><br><br>  By right clicking on the walnut icon in the taskbar, we will add our newly created application, indicating the path to the directory: <br><br><img src="http://dl.dropbox.com/u/15702065/habr/add_pokki.png" alt="image"><br><br>  After adding an application, its icon will appear in the Pokki panel: <br><br><img src="http://dl.dropbox.com/u/15702065/habr/pokki_added.png" alt="image"><br><br>  Open the application by clicking on the icon on the panel: <br><br><img src="http://dl.dropbox.com/u/15702065/habr/pokki_first_launch.png" alt="image"><br><br><h4>  Styling the popup window </h4><br>  Since the popup window is actually an HTML page, it is styled with CSS (CSS3 is also supported).  Pokki is based on Chromium, so you can use webkit-properties.  Set the gradient as the background of the pop-up window.  To do this, open the styles file <i>css / default.css</i> and modify <i>body</i> as follows: <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">body</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">200px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">200px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">background-image</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">-webkit-gradient</span></span>( linear, left bottom, left top, from(#2c2c2c), <span class="hljs-built_in"><span class="hljs-built_in">to</span></span>(#444444) ); }</code> </pre> <br>  For the changes to take effect, you need to restart our application.  This can be done by right-clicking on the icon and selecting the ‚ÄúRelaunch‚Äù item: <br><br><img src="http://dl.dropbox.com/u/15702065/habr/pokki_relaunch.png" alt="image"><br><br>  Now our application looks like this: <br><br><img src="http://dl.dropbox.com/u/15702065/habr/pokki_styled.png" alt="image"><br><br><h4>  Add content </h4><br>  Let's try to add content to the popup.  Open the js / popup.js file.  It contains event handlers: <br><ul><li>  <b>popup_unload</b> - unload the application.  It works when the application is uninstalled or the OS shuts down. </li><li>  <b>load</b> - load the application.  It works when the pop-up window is first opened. </li><li>  <b>popup_shown</b> - opens a popup window.  It works when opening a popup window.  (your KO) </li><li>  <b>popup_hidden</b> - close the popup window.  Also does not require an explanation. </li></ul><br>  Now we need an application load event.  Add the following code to the onLoad () function, which adds the string ‚ÄúHello, Pokki!‚Äù To the pop-up window: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onLoad</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Pop-up page is loaded.'</span></span>); <span class="hljs-comment"><span class="hljs-comment">// Perform pop-up page initiation and configuration // Create a string "Hello Pokki!" var textNode = document.createTextNode("Hello Pokki!"); // Create a DIV for the string, and add it var div = document.createElement("div"); div.setAttribute("id", "hello"); div.appendChild(textNode); // Add the new div to the DOM document.body.appendChild(div); // Time to restore any state }</span></span></code> </pre> <br>  Then we add styles for this caption (to default.css already mentioned above): <br><br><pre> <code class="css hljs"><span class="hljs-selector-id"><span class="hljs-selector-id">#hello</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">padding-top</span></span>: <span class="hljs-number"><span class="hljs-number">20px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">text-align</span></span>: center; <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>: <span class="hljs-number"><span class="hljs-number">#222</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">text-shadow</span></span>: <span class="hljs-number"><span class="hljs-number">0px</span></span> <span class="hljs-number"><span class="hljs-number">2px</span></span> <span class="hljs-number"><span class="hljs-number">3px</span></span> <span class="hljs-number"><span class="hljs-number">#555</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">font</span></span>: <span class="hljs-number"><span class="hljs-number">24px</span></span> Tahoma, Helvetica, Arial, Sans-Serif; }</code> </pre> <br>  After saving the changes and restarting the application, we will see the following: <br><br><img src="http://dl.dropbox.com/u/15702065/habr/pokki_with_content.png" alt="image"><br><br><h4>  Work in the background </h4><br>  In the file <i>manifest.json,</i> in addition to the pop-up window, we also indicated a background page.  It is intended for background data update, is loaded immediately after downloading the application and is not visible to the user during the work.  We need it, in particular, to manage the update counter (Pokki badge).  It is designed to notify the user that the information in the application has been updated.  The counter can take values ‚Äã‚Äãfrom 1 to 999. Open the <i>js / background.js</i> file and add the following code there: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> endBadge = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; pokki.addEventListener(<span class="hljs-string"><span class="hljs-string">'popup_shown'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// Show the badge! updateBadge(); }); pokki.addEventListener('popup_hidden', function() { // Clear the badge endBadge = true; }); var num = 1; var numMin = 1; var numMax = 999; function updateBadge() { // Stop showing the badge? if (endBadge) { pokki.removeIconBadge(); endBadge = false; num = numMin; } else { // Reset back to min if the number is too large if (num &gt; numMax) { num = numMin; } // Set the badge pokki.setIconBadge(num); num++; // Loop setTimeout(updateBadge, 100); } }</span></span></code> </pre> <br>  After saving the changes and restarting the application, we will see that when the pop-up window opens, the notification icon appears on the application icon: <br><br><img src="http://dl.dropbox.com/u/15702065/habr/pokki_with_badge.png" alt="image"><br><br>  That's all, you have comprehended the basics of developing under Pokki! <br>  The finished application can be downloaded <a href="">here</a> . <br><br>  References: <br><ul><li>  <a href="http://pokki.com/">Pokki</a> </li><li>  <a href="http://developers.pokki.com/docs">Documentation</a> </li></ul></div><p>Source: <a href="https://habr.com/ru/post/127073/">https://habr.com/ru/post/127073/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../127065/index.html">First shoot and new site</a></li>
<li><a href="../127067/index.html">Information Security Expert Thomas Shinder to visit Moscow and speak at Tech ‚àô Ed Russia 2011</a></li>
<li><a href="../127069/index.html">Customer: self-defense basics</a></li>
<li><a href="../127070/index.html">RIM has released the SDK for BlackBerry TabletOS</a></li>
<li><a href="../127072/index.html">Anonymity versus openness</a></li>
<li><a href="../127075/index.html">We control commits in SVN under Windows</a></li>
<li><a href="../127076/index.html">Functional programming in Java</a></li>
<li><a href="../127079/index.html">Mail.Ru Agent with Odnoklassniki taste</a></li>
<li><a href="../127080/index.html">Technologization of a modern person - the threat of identity</a></li>
<li><a href="../127082/index.html">Free Track DIY</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>