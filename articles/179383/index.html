<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Fast translation of large lists on the example of regions of the world</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It took me to translate the list of regions of the world into Russian. Similar lists with ISO codes are embedded in many CMS and online stores, and th...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Fast translation of large lists on the example of regions of the world</h1><div class="post__text post__text-html js-mediator-article">  It took me to translate the list of regions of the world into Russian.  Similar lists with ISO codes are embedded in many CMS and online stores, and their translation by hand is a very ungrateful task.  I didn‚Äôt find anything like this in Russian, but it wouldn‚Äôt help much, since it is necessary to compare the names in English with the names in Russian.  As a result, a simple idea was born to quickly translate such lists, which I want to share - all of a sudden someone will come in handy too. <br><a name="habracut"></a><br>  I translated the list of regions for OpenCart using Wikipedia and the simplest script: <br><br><pre><code class="php hljs">$db = mysql_connect(<span class="hljs-string"><span class="hljs-string">'localhost'</span></span>, <span class="hljs-string"><span class="hljs-string">'username'</span></span>, <span class="hljs-string"><span class="hljs-string">'password'</span></span>); mysql_select_db(<span class="hljs-string"><span class="hljs-string">'database'</span></span>, $db); mysql_set_charset(<span class="hljs-string"><span class="hljs-string">'utf8'</span></span>, $db); $result = mysql_query(<span class="hljs-string"><span class="hljs-string">"SELECT zone_id, name FROM zone GROUP BY zone_id ASC"</span></span>); <span class="hljs-comment"><span class="hljs-comment">//    . while ($row = mysql_fetch_assoc($result)) { $page = @file_get_contents('http://en.wikipedia.org/wiki/'.str_replace(" ", "_", $row['name'])); //    . preg_match("/&lt;a href=\"\/\/ru\.wikipedia\.org\/wiki\/(.*)\" title/", $page, $matches); //         . if (!empty($matches)) { mysql_query("UPDATE zone SET name = '".$row['name']."::".urldecode(str_replace("_", " ", $matches[1]))."' WHERE zone_id = '".$row['zone_id']."'"); //  ,     . } else { mysql_query("UPDATE zone SET name = '".$row['name']."' WHERE zone_id = '".$row['zone_id']."'"); //   ,  . } }</span></span></code> </pre> <br>  The script simply asks for Wikipedia, substituting the English name in the link, parses the page for the presence of a link to the Russian version and takes the translation from it.  The trick is that on Wikipedia, almost all links contain the same name as in the text.  Even <a href="http://ru.wikipedia.org/wiki/%25D0%2590%25D0%25B2%25D1%2582%25D0%25BE%25D0%25BD%25D0%25BE%25D0%25BC%25D0%25BD%25D0%25BE%25D0%25B5_%25D1%2582%25D0%25B5%25D1%2580%25D1%2580%25D0%25B8%25D1%2582%25D0%25BE%25D1%2580%25D0%25B8%25D0%25B0%25D0%25BB%25D1%258C%25D0%25BD%25D0%25BE%25D0%25B5_%25D0%25BE%25D0%25B1%25D1%2580%25D0%25B0%25D0%25B7%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5_%25D1%2581_%25D0%25BE%25D1%2581%25D0%25BE%25D0%25B1%25D1%258B%25D0%25BC_%25D0%25BF%25D1%2580%25D0%25B0%25D0%25B2%25D0%25BE%25D0%25B2%25D1%258B%25D0%25BC_%25D1%2581%25D1%2582%25D0%25B0%25D1%2582%25D1%2583%25D1%2581%25D0%25BE%25D0%25BC_%25D0%259F%25D1%2580%25D0%25B8%25D0%25B4%25D0%25BD%25D0%25B5%25D1%2581%25D1%2582%25D1%2580%25D0%25BE%25D0%25B2%25D1%258C%25D0%25B5">such a</a> horror. <br><br><h4>  Nuances: </h4><br><ul><li>  Somewhere one third of the list remained untranslated, but it strongly depends on how much the English names coincide with those listed on Wikipedia. </li><li>  The translated list will have to be cleaned up a little by hand.  For example, in my case, it was necessary to remove the names of countries in brackets or all there "(values)", "(city)", "(province)", etc. </li><li>  Wikipedia replaces spaces with underscores, so you need to transfer them back and forth (available in the script).  But I‚Äôm not sure that there are any other substitutions happening - it‚Äôs worth considering this moment. </li><li>  The captain reminds that the larger the list, the longer it will be processed.  For example, I had a list of 4000+ zones, and I ran it through the browser, restricting the query to 1000 lines.  But it is better in such cases not to run through the browser. </li></ul><br>  Once again, this is just an example.  Theoretically, this solution can be used to translate any lists via Wikipedia from any language to any.  Perhaps this task has other options for searching and parsing the data, but I did not invent anything simpler. </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/179383/">https://habr.com/ru/post/179383/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../179373/index.html">Mnemonic: you can remember everything</a></li>
<li><a href="../179375/index.html">Little Computer People: the progenitor of Tamagotchi and Sims</a></li>
<li><a href="../179377/index.html">Crowdfunding for someone who releases something on a regular basis.</a></li>
<li><a href="../179379/index.html">NetApp and Cisco: Enhanced Collaboration, New FlexPod Configurations</a></li>
<li><a href="../179381/index.html">We use C # 5 features (async and await) in .NET 2.0</a></li>
<li><a href="../179391/index.html">On-the-Knee Monitoring - Using Cacti to Control Java Applications</a></li>
<li><a href="../179393/index.html">Lomogram Windows Phone Statistics</a></li>
<li><a href="../179395/index.html">Studying Rails (well, Ruby)</a></li>
<li><a href="../179397/index.html">Mnemonic: you can remember even numbers</a></li>
<li><a href="../179399/index.html">PHP is created to die</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>