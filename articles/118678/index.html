<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We write the Firefox extension for integration with the Unity panel</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="With the release of Ubuntu 11.04, the Unity shell rather unexpectedly took the place of the default shell. The appearance of Unity in Ubuntu Netbook E...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We write the Firefox extension for integration with the Unity panel</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage/habraeffect/42/32/42329e443b367233a78cd00e4e9a2bf8.png" alt="Narwhals, Narwhals, swimming in the ocean, causing a commotion coz they are so awesome!" align="right">  With the release of Ubuntu 11.04, the Unity shell rather unexpectedly took the place of the default shell.  The appearance of Unity in Ubuntu Netbook Edition, despite the slow speed of work, was quite reasonable: it allowed the effective use of small screens of netbooks, thanks to, for example, a vertical panel for switching between running programs.  Why did it become necessary to transfer Unity to desktops?  It would be possible to answer this question now.  However, such an incomplete, without ready-made examples, a subjective response would hardly satisfy the user, who at the moment had to face the inconvenience of the transition.  Therefore, we will talk about how to improve, and not about how and why to survive. <br><br>  The article is aimed at software developers for Linux, as well as for those who want to start developing extensions for Firefox.  Users are invited <a href="https://addons.mozilla.org/ru/firefox/addon/unityfox/">to follow the link</a> for a ready extension. <br><br>  So, what we need: <a name="habracut"></a><ol><li>  Extension <a href="https://addons.mozilla.org/ru/firefox/addon/restartless-restart/">Restartless Restart</a> .  During the development process, you will need to frequently restart the browser to test the extension </li><li>  Archiver that allows you to edit files directly in the archive, without manual repacking.  The standard archiver in Ubuntu File-Roller does it. </li><li>  Text editor </li></ol><br>  Actually, for such a simple extension is enough.  You may also need the <a href="https://addons.mozilla.org/ru/firefox/addon/extension-developer/">Extension Developer Extension</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Now we need to create the structure of our extension: <br><blockquote><pre> unityfox
 - chrome  
 ---- content
 ------ main.xul
 - chrome.manifest 
 - install.rdf
</pre></blockquote><br><br>  Our extension does not use localization or settings, so the standard locale and preferences directories will not be useful to us. <br><br>  It all starts with the file <i>install.rdf</i> .  It is customary to describe brief information about the extension: name, description, version, authors, unique identifier of the extension and a set of supported applications (the same extension can work, for example, in Seamonkey and Firefox): <br><blockquote>  <font color="#009900"><font color="#000000">&lt;? xml</font> <font color="#000066">version</font> = <font color="#ff0000">"1.0"</font> <font color="#000000">?&gt;</font></font> <br><br>  <font color="#009900"><font color="#000000">&lt;RDF</font> <font color="#000066">xmlns</font> = <font color="#ff0000">"http://www.w3.org/1999/02/22-rdf-syntax-ns#"</font></font> <br>  <font color="#009900"><font color="#000066">xmlns: em</font> = <font color="#ff0000">"http://www.mozilla.org/2004/em-rdf#"</font> <font color="#000000">&gt;</font></font> <br><br>  <font color="#009900"><font color="#000000">&lt;Description</font> <font color="#000066">about</font> = <font color="#ff0000">"urn: mozilla: install-manifest"</font> <font color="#000000">&gt;</font></font> <br>  <font color="#009900"><font color="#000000">&lt;em: id <font color="#000000">&gt;</font></font></font> unityfox@mozilla.org <font color="#009900"><font color="#000000">&lt;/ em: id <font color="#000000">&gt;</font></font></font> <br>  <font color="#009900"><font color="#000000">&lt;em: version <font color="#000000">&gt;</font></font></font> 0.1.3 <font color="#009900"><font color="#000000">&lt;/ em: version <font color="#000000">&gt;</font></font></font> <br>  <font color="#009900"><font color="#000000">&lt;em: type <font color="#000000">&gt;</font></font></font> 2 <font color="#009900"><font color="#000000">&lt;/ em: type <font color="#000000">&gt;</font></font></font> <br><br>  <font color="#009900"><font color="#000000">&lt;em: targetApplication <font color="#000000">&gt;</font></font></font> <br>  <font color="#009900"><font color="#000000">&lt;Description <font color="#000000">&gt;</font></font></font> <br>  <font color="#009900"><font color="#000000">&lt;em: id <font color="#000000">&gt;</font></font></font> {ec8030f7-c20a-464f-9b0e-13a3a9e97384} <font color="#009900"><font color="#000000">&lt;/ em: id <font color="#000000">&gt;</font></font></font> <br>  <font color="#009900"><font color="#000000">&lt;em: minVersion <font color="#000000">&gt;</font></font></font> 4.0 <font color="#009900"><font color="#000000">&lt;/ em: minVersion <font color="#000000">&gt;</font></font></font> <br>  <font color="#009900"><font color="#000000">&lt;em: maxVersion <font color="#000000">&gt;</font></font></font> 6.0a1 <font color="#009900"><font color="#000000">&lt;/ em: maxVersion <font color="#000000">&gt;</font></font></font> <br>  <font color="#009900"><font color="#000000">&lt;/ Description <font color="#000000">&gt;</font></font></font> <br>  <font color="#009900"><font color="#000000">&lt;/ em: targetApplication <font color="#000000">&gt;</font></font></font> <br><br>  <font color="#009900"><font color="#000000">&lt;em: name <font color="#000000">&gt;</font></font></font> unityfox <font color="#009900"><font color="#000000">&lt;/ em: name <font color="#000000">&gt;</font></font></font> <br>  <font color="#009900"><font color="#000000">&lt;em: description <font color="#000000">&gt;</font></font></font> Integration with the Ubuntu Unity panel <font color="#009900"><font color="#000000">&lt;/ em: description <font color="#000000">&gt;</font></font></font> <br>  <font color="#009900"><font color="#000000">&lt;em: creator <font color="#000000">&gt;</font></font></font> Lockal <font color="#009900"><font color="#000000">&lt;/ em: creator <font color="#000000">&gt;</font></font></font> <br>  <font color="#009900"><font color="#000000">&lt;/ Description <font color="#000000">&gt;</font></font></font> <br>  <font color="#009900"><font color="#000000">&lt;/ Rdf <font color="#000000">&gt;</font></font></font> </blockquote><br><br>  The file structure should be clear without explanation.  A small clarification: &lt;em: type&gt; 2 &lt;/ em: type&gt; indicates that this file is an extension, not a theme, for example.  {ec8030f7-c20a-464f-9b0e-13a3a9e97384} - code of the Firefox browser.  The lower limit of version 4.0 is due to the fact that we will use <a href="https://developer.mozilla.org/en/js-ctypes/Using_js-ctypes">js-ctypes functions</a> to exchange messages with the Unity library. <br><br>  Having finished writing <i>install.rdf</i> , you can proceed directly to creating working code.  To create our javascript code from the <i>main.xul</i> file when creating the window, you need to describe the <i>overlay</i> procedure in the <i>chrome.manifest</i> file: <br><blockquote><pre> content unityfox chrome / content /
 overlay chrome: //browser/content/browser.xul chrome: //unityfox/content/main.xul
</pre></blockquote>  This tells the browser to download our <i>main.xul</i> file along with the <i>browser.xul</i> browser interface. <br><br>  Here it is worth stopping and remembering the problem we are solving.  Our goal is to display the download bar and the number of active downloads in the Unity panel.  Fortunately, Unity provides a <a href="https://wiki.ubuntu.com/Unity/LauncherAPI">special API</a> for this.  From this API, we need functions: <ul><li>  UnityLauncherEntry * unity_launcher_entry_get_for_desktop_id (char * id); </li><li>  void unity_launcher_entry_set_count (UnityLauncherEntry * self, gint64 count); </li><li>  void unity_launcher_entry_set_count_visible (UnityLauncherEntry * self, gboolean visible); </li><li>  void unity_launcher_entry_set_progress (UnityLauncherEntry * self, gdouble progress); </li><li>  void unity_launcher_entry_set_progress_visible (UnityLauncherEntry * self, gboolean visible); </li></ul>  gint64 is an analog of long in C, and gboolean is an analog of int.  A pointer to UnityLauncherEntry can be considered a pointer to an anonymous structure and easily lead to a pointer to void.  Further comments will go straight to the <i>main.xul</i> code. <br><blockquote>  &lt;? xml version = "1.0"?&gt; <br>  &lt;overlay id = "unityfox" <br>  xmlns = "http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"&gt; <br><br>  &lt;script type <font color="#339933">=</font> <font color="#3366CC">"text / javascript"</font> &gt; <br><br>  <font color="#006600">// In Firefox extensions, it is customary to be careful about the global area in xul</font> <br>  <font color="#000066">if</font> <font color="#009900">(</font> <font color="#3366CC">"undefined"</font> <font color="#339933">==</font> <font color="#000066">typeof</font> <font color="#009900">(</font> unityProgress <font color="#009900">)</font> <font color="#009900">)</font> <font color="#009900">{</font> <br><br>  <font color="#003366">var</font> unityProgress <font color="#339933">=</font> <font color="#009900">{</font> <br><br>  setup <font color="#339933">:</font> <font color="#003366">function</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#009900">{</font> <br>  <font color="#006600">// Load the ctypes module to access the system libraries</font> <br>  Components.  <font color="#660066">utils</font> .  <font color="#003366">import</font> <font color="#009900">(</font> <font color="#3366CC">"resource: //gre/modules/ctypes.jsm"</font> <font color="#009900">)</font> <font color="#339933">;</font> <br><br>  <font color="#006600">// Execute libunity.so.4 loading</font> <br>  <font color="#006600">// We do not need the extension to generate errors in the absence of libunity</font> <br>  <font color="#000066">try</font> <font color="#009900">{</font> <br>  <font color="#000066">this</font> .  <font color="#660066">libunity</font> <font color="#339933">=</font> ctypes.  <font color="#000066">open</font> <font color="#009900">(</font> <font color="#3366CC">"libunity.so.4"</font> <font color="#009900">)</font> <font color="#339933">;</font> <br>  <font color="#009900">}</font> <font color="#000066">catch</font> <font color="#009900">(</font> err <font color="#009900">)</font> <font color="#009900">{</font> <font color="#000066">return</font> <font color="#339933">;</font>  <font color="#009900">}</font> <br><br>  <font color="#006600">// Describe the necessary functions libunity</font> <br>  <font color="#000066">this</font> .  <font color="#660066">getEntry</font> <font color="#339933">=</font> <font color="#000066">this</font> .  <font color="#660066">libunity</font> .  <font color="#660066">declare</font> <font color="#009900">(</font> <font color="#3366CC">"unity_launcher_entry_get_for_desktop_id"</font> <font color="#339933">,</font> <br>  ctypes.  <font color="#660066">default_abi</font> <font color="#339933">,</font> <br>  ctypes.  <font color="#660066">voidptr_t</font> <font color="#339933">,</font> <br>  ctypes.  <font color="#660066">char</font> .  <font color="#660066">ptr</font> <font color="#009900">)</font> <font color="#339933">;</font> <br><br><br>  <font color="#000066">this</font> .  <font color="#660066">setProgress</font> <font color="#339933">=</font> <font color="#000066">this</font> .  <font color="#660066">libunity</font> .  <font color="#660066">declare</font> <font color="#009900">(</font> <font color="#3366CC">"unity_launcher_entry_set_progress"</font> <font color="#339933">,</font> <br>  ctypes.  <font color="#660066">default_abi</font> <font color="#339933">,</font> <br>  ctypes.  <font color="#660066">void_t</font> <font color="#339933">,</font> <br>  ctypes.  <font color="#660066">voidptr_t</font> <font color="#339933">,</font> <br>  ctypes.  <font color="#660066">double</font> <font color="#009900">)</font> <font color="#339933">;</font> <br><br>  <font color="#000066">this</font> .  <font color="#660066">setVisibilityP</font> <font color="#339933">=</font> <font color="#000066">this</font> .  <font color="#660066">libunity</font> .  <font color="#660066">declare</font> <font color="#009900">(</font> <font color="#3366CC">"unity_launcher_entry_set_progress_visible"</font> <font color="#339933">,</font> <br>  ctypes.  <font color="#660066">default_abi</font> <font color="#339933">,</font> <br>  ctypes.  <font color="#660066">void_t</font> <font color="#339933">,</font> <br>  ctypes.  <font color="#660066">voidptr_t</font> <font color="#339933">,</font> <br>  ctypes.  <font color="#660066">int</font> <font color="#009900">)</font> <font color="#339933">;</font> <br><br>  <font color="#000066">this</font> .  <font color="#660066">setVisibilityN</font> <font color="#339933">=</font> <font color="#000066">this</font> .  <font color="#660066">libunity</font> .  <font color="#660066">declare</font> <font color="#009900">(</font> <font color="#3366CC">"unity_launcher_entry_set_count_visible"</font> <font color="#339933">,</font> <br>  ctypes.  <font color="#660066">default_abi</font> <font color="#339933">,</font> <br>  ctypes.  <font color="#660066">void_t</font> <font color="#339933">,</font> <br>  ctypes.  <font color="#660066">voidptr_t</font> <font color="#339933">,</font> <br>  ctypes.  <font color="#660066">int</font> <font color="#009900">)</font> <font color="#339933">;</font> <br><br>  <font color="#000066">this</font> .  <font color="#660066">setCount</font> <font color="#339933">=</font> <font color="#000066">this</font> .  <font color="#660066">libunity</font> .  <font color="#660066">declare</font> <font color="#009900">(</font> <font color="#3366CC">"unity_launcher_entry_set_count"</font> <font color="#339933">,</font> <br>  ctypes.  <font color="#660066">default_abi</font> <font color="#339933">,</font> <br>  ctypes.  <font color="#660066">void_t</font> <font color="#339933">,</font> <br>  ctypes.  <font color="#660066">voidptr_t</font> <font color="#339933">,</font> <br>  ctypes.  <font color="#660066">long</font> <font color="#009900">)</font> <font color="#339933">;</font> <br><br>  <font color="#006600">// all main functions of libunity library work with UnityLauncherEntry *</font> <br>  <font color="#000066">this</font> .  <font color="#660066">entry</font> <font color="#339933">=</font> <font color="#000066">this</font> .  <font color="#660066">getEntry</font> <font color="#009900">(</font> <font color="#3366CC">"firefox.desktop"</font> <font color="#009900">)</font> <font color="#339933">;</font> <br><br>  <font color="#000066">this</font> .  <font color="#660066">Cc</font> <font color="#339933">=</font> Components.  <font color="#660066">classes</font> <font color="#339933">;</font> <br>  <font color="#000066">this</font> .  <font color="#660066">Ci</font> <font color="#339933">=</font> Components.  <font color="#660066">interfaces</font> <font color="#339933">;</font> <br>  <font color="#000066">this</font> .  <font color="#660066">IDLM</font> <font color="#339933">=</font> <font color="#000066">this</font> .  <font color="#660066">Ci</font> .  <font color="#660066">nsIDownloadManager</font> <font color="#339933">;</font> <br><br>  <font color="#006600">// The panel will be updated using the download-manager service</font> <br>  <font color="#006600">// Interfaces of all embedded services are described at https://developer.mozilla.org</font> <br>  <font color="#000066">this</font> .  <font color="#660066">dlMgr</font> <font color="#339933">=</font> <font color="#000066">this</font> .  <font color="#660066">Cc</font> <font color="#009900">[</font> <font color="#3366CC">"@ mozilla.org / download-manager; 1"</font> <font color="#009900">]</font> .  <font color="#660066">getService</font> <font color="#009900">(</font> <font color="#000066">this</font> . <font color="#660066">IDLM</font> <font color="#009900">)</font> <font color="#339933">;</font> <br>  <font color="#000066">this</font> .  <font color="#660066">dlMgr</font> .  <font color="#660066">addListener</font> <font color="#009900">(</font> <font color="#000066">this</font> <font color="#009900">)</font> <font color="#339933">;</font> <br>  <font color="#009900">}</font> <font color="#339933">,</font> <br><br>  <font color="#006600">// The update function is called on each event from download-manager</font> <br>  update <font color="#339933">:</font> <font color="#003366">function</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#009900">{</font> <br>  <font color="#003366">var</font> total <font color="#339933">=</font> <font color="#CC0000">0</font> <font color="#339933">,</font> cur <font color="#339933">=</font> <font color="#CC0000">0</font> <font color="#339933">,</font> count <font color="#339933">=</font> <font color="#CC0000">0</font> <font color="#339933">;</font> <br>  <font color="#003366">var</font> dls <font color="#339933">=</font> <font color="#000066">this</font> .  <font color="#660066">dlMgr</font> .  <font color="#660066">activeDownloads</font> <font color="#339933">;</font> <br>  <font color="#000066">while</font> <font color="#009900">(</font> dls. <font color="#660066">hasMoreElements</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#009900">)</font> <font color="#009900">{</font> <br>  <font color="#003366">var</font> dl <font color="#339933">=</font> dls.  <font color="#660066">getNext</font> <font color="#009900">(</font> <font color="#009900">)</font> .  <font color="#660066">QueryInterface</font> <font color="#009900">(</font> <font color="#000066">this</font> . <font color="#660066">Ci</font> . <font color="#660066">NsIDownload</font> <font color="#009900">)</font> <font color="#339933">;</font> <br>  <font color="#006600">// Skip inactive downloads and downloads, the end time of which is unknown</font> <br>  <font color="#000066">if</font> <font color="#009900">(</font> dl. <font color="#660066">state</font> <font color="#339933">! =</font> <font color="#000066">this</font> . <font color="#660066">IDLM</font> . <font color="#660066">DOWNLOAD_DOWNLOADING</font> <font color="#339933">||</font> dl. <font color="#660066">percentComplete</font> <font color="#339933">==</font> <font color="#339933">-</font> <font color="#CC0000">1</font> <font color="#009900">)</font> <br>  <font color="#000066">continue</font> <font color="#339933">;</font> <br><br>  <font color="#006600">// Consider the total size, the loaded size and the number of downloads</font> <br>  total <font color="#339933">+ =</font> dl.  <font color="#660066">size</font> <font color="#339933">;</font> <br>  cur <font color="#339933">+ =</font> dl.  <font color="#660066">amountTransferred</font> <font color="#339933">;</font> <br>  count <font color="#339933">++;</font> <br>  <font color="#009900">}</font> <br><br>  <font color="#000066">if</font> <font color="#009900">(</font> total <font color="#339933">==</font> <font color="#CC0000">0</font> <font color="#009900">)</font> <font color="#009900">{</font> <br>  <font color="#006600">// If there are no downloads, hide the counter and the bar on the panel</font> <br>  <font color="#000066">this</font> .  <font color="#660066">setVisibilityP</font> <font color="#009900">(</font> <font color="#000066">this</font> . <font color="#660066">entry</font> <font color="#339933">,</font> <font color="#CC0000">0</font> <font color="#009900">)</font> <font color="#339933">;</font> <br>  <font color="#000066">this</font> .  <font color="#660066">setVisibilityN</font> <font color="#009900">(</font> <font color="#000066">this</font> . <font color="#660066">entry</font> <font color="#339933">,</font> <font color="#CC0000">0</font> <font color="#009900">)</font> <font color="#339933">;</font> <br>  <font color="#009900">}</font> <font color="#000066">else</font> <font color="#009900">{</font> <br>  <font color="#006600">// Show the download progress (from 0 to 1) and the number of downloads</font> <br>  <font color="#000066">this</font> .  <font color="#660066">setProgress</font> <font color="#009900">(</font> <font color="#000066">this</font> . <font color="#660066">entry</font> <font color="#339933">,</font> cur <font color="#339933">/</font> total <font color="#009900">)</font> <font color="#339933">;</font> <br>  <font color="#000066">this</font> .  <font color="#660066">setCount</font> <font color="#009900">(</font> <font color="#000066">this</font> . <font color="#660066">entry</font> <font color="#339933">,</font> count <font color="#009900">)</font> <font color="#339933">;</font> <br>  <font color="#000066">this</font> .  <font color="#660066">setVisibilityP</font> <font color="#009900">(</font> <font color="#000066">this</font> . <font color="#660066">entry</font> <font color="#339933">,</font> <font color="#CC0000">1</font> <font color="#009900">)</font> <font color="#339933">;</font> <br>  <font color="#000066">this</font> .  <font color="#660066">setVisibilityN</font> <font color="#009900">(</font> <font color="#000066">this</font> . <font color="#660066">entry</font> <font color="#339933">,</font> <font color="#CC0000">1</font> <font color="#009900">)</font> <font color="#339933">;</font> <br>  <font color="#009900">}</font> <br>  <font color="#009900">}</font> <font color="#339933">,</font> <br><br>  <font color="#006600">// This object is nsIDownloadProgressListener in combination.</font> <br>  <font color="#006600">// nsIDownloadManager will send messages to the functions described below.</font> <br>  onDownloadStateChange <font color="#339933">:</font> <font color="#003366">function</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#009900">{</font> <font color="#000066">this</font> .  <font color="#660066">update</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#009900">}</font> <font color="#339933">,</font> <br>  onStateChange <font color="#339933">:</font> <font color="#003366">function</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#009900">{</font> <font color="#000066">this</font> .  <font color="#660066">update</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#009900">}</font> <font color="#339933">,</font> <br>  onProgressChange <font color="#339933">:</font> <font color="#003366">function</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#009900">{</font> <font color="#000066">this</font> .  <font color="#660066">update</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#009900">}</font> <font color="#339933">,</font> <br>  onSecurityChange <font color="#339933">:</font> <font color="#003366">function</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#009900">{</font> <font color="#000066">this</font> .  <font color="#660066">update</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#009900">}</font> <br>  <font color="#009900">}</font> <font color="#339933">;</font> <br>  <font color="#009900">}</font> <br><br>  <font color="#006600">// Finally, initialize unityProgress via the so-called.</font>  <font color="#006600">anonymous namespace</font> <br>  <font color="#009900">(</font> <font color="#003366">function</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#009900">{</font> <font color="#000066">this</font> . <font color="#660066">setup</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">;</font> <font color="#009900">}</font> <font color="#009900">)</font> .  <font color="#660066">apply</font> <font color="#009900">(</font> unityProgress <font color="#009900">)</font> <font color="#339933">;</font> <br>  &lt;/ script&gt; <br>  &lt;/ overlay&gt; </blockquote><br><br>  Expansion is ready.  Now files from the unityfox directory can be packed into a zip-archive, change the file extension to .xpi and set by dragging on the browser window. <br><br>  The finished extension and list of ingredients can be found at <a href="https://addons.mozilla.org/ru/firefox/addon/unityfox/">addons.mozilla.org/ru/firefox/addon/unityfox</a> .  Enjoy your meal! <br><br>  <sub>The text of this article is distributed under the terms of the license <a href="http://creativecommons.org/licenses/by-sa/3.0/">CC BY-SA 3.0</a></sub> </div><p>Source: <a href="https://habr.com/ru/post/118678/">https://habr.com/ru/post/118678/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../118672/index.html">VoiceCards.ru: happy Victory Day for free!</a></li>
<li><a href="../118673/index.html">ADD 2011 in the fight for efficiency</a></li>
<li><a href="../118674/index.html">Qt 4.7.3, Qt Mobility 1.1.1, Qt VS Addin 1.1.9</a></li>
<li><a href="../118675/index.html">SMP ON-Bank: We have created a financial conscience!</a></li>
<li><a href="../118676/index.html">Instructions for setting up Ejabberd with J2J / ICQ transport (with correct encoding) on ‚Äã‚ÄãUbuntu Server</a></li>
<li><a href="../118679/index.html">Qt SDK 1.1 release</a></li>
<li><a href="../118680/index.html">To change is to survive! Integration with Vkontakte</a></li>
<li><a href="../118681/index.html">YAPC :: Russia May 13‚Äì15 in Moscow</a></li>
<li><a href="../118683/index.html">The first set in the Computer Science Center (St. Petersburg)</a></li>
<li><a href="../118684/index.html">Video recording of the section "Performance Management in Internet Marketing. Cases only ‚Äù(RIF + KIB 2011)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>