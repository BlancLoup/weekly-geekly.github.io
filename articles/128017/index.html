<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Data structures in pictures. Hashmap</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Greetings to you! 

 I keep trying to visualize data structures in Java. In previous episodes, we‚Äôve already reviewed ArrayList and LinkedList , but t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Data structures in pictures. Hashmap</h1><div class="post__text post__text-html js-mediator-article">  Greetings to you! <br><br>  I keep trying to visualize data structures in Java.  In previous episodes, we‚Äôve already reviewed <a href="http://habrahabr.ru/blogs/java/128269/">ArrayList</a> and <a href="http://habrahabr.ru/blogs/java/127864/">LinkedList</a> , but today we‚Äôll look at HashMap. <br><br><img src="https://habrastorage.org/storage1/4e3e57f4/aaa0b3fd/c697a3d8/5108f778.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <i>HashMap - is based on hash tables, implements the Map interface (which means storing data in the form of key / value pairs).</i>  <i>Keys and values ‚Äã‚Äãcan be of any type, including null.</i>  <i>This implementation does not guarantee the order of the elements over time.</i>  <i>Collision resolution is performed using <a href="http://ru.wikipedia.org/wiki/%25D0%25A5%25D0%25B5%25D1%2588-%25D1%2582%25D0%25B0%25D0%25B1%25D0%25BB%25D0%25B8%25D1%2586%25D0%25B0">the chaining method</a> .</i> <br><br><a name="habracut"></a><br><br><h3>  Object creation </h3><br><pre><code class="java hljs">Map&lt;String, String&gt; hashmap = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> HashMap&lt;String, String&gt;();</code> </pre> <br> <code>Footprint{Objects=2, References=20, Primitives=[int x 3, float]} <br> Object size: 120 bytes</code> <br> <br>  The newly appeared hashmap object contains a number of properties: <br><ul><li>  <b>table</b> - An array of type <b>Entry []</b> , which is a repository of references to lists (chains) of values; </li><li>  <b>loadFactor</b> - load factor.  The default value of 0.75 is a good compromise between the access time and the amount of stored data; </li><li>  <b>threshold</b> - The limit on the number of elements that, when reached, will double the size of the hash table.  Calculated by the formula <b>(capacity * loadFactor)</b> ; </li><li>  <b>size</b> - The number of HashMap elements; </li></ul>  In the constructor, the validity of the passed parameters is checked and the values ‚Äã‚Äãare set to the appropriate class properties.  In short, nothing unusual. <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//     // capacity -     16 table = new Entry[capacity];</span></span></code> </pre><br> <a href=""><img src="https://habrastorage.org/storage1/f5998744/554eeee7/3d597647/2f404c04.png"><br></a> <br>  You can specify your capacity and load factor using the <b>HashMap (capacity)</b> and <b>HashMap (capacity, loadFactor) constructors</b> .  The maximum capacity you can set is half the maximum <b>int</b> value (1073741824). <br><br><br><h3>  Adding items </h3><br><pre> <code class="java hljs">hashmap.put(<span class="hljs-string"><span class="hljs-string">"0"</span></span>, <span class="hljs-string"><span class="hljs-string">"zero"</span></span>);</code> </pre> <br> <code>Footprint{Objects=7, References=25, Primitives=[int x 10, char x 5, float]} <br> Object size: 232 bytes</code> <br> <br>  When adding an item, the sequence of steps is as follows: <br><ol><li>  First, the key is checked for null equality.  If this check <b>returns</b> true, the <b>putForNullKey (value)</b> method will be called <b>(</b> we will consider the option with adding a null key a little <a href="https://habr.com/ru/post/128017/">later</a> ). <br><br></li><li>  Next, a hash is generated based on the key.  For generation, the <b>hash (hashCode)</b> method is used, to which <b>key.hashCode ()</b> is <b>passed</b> . <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">hash</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> h)</span></span></span><span class="hljs-function"> </span></span>{ h ^= (h &gt;&gt;&gt; <span class="hljs-number"><span class="hljs-number">20</span></span>) ^ (h &gt;&gt;&gt; <span class="hljs-number"><span class="hljs-number">12</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> h ^ (h &gt;&gt;&gt; <span class="hljs-number"><span class="hljs-number">7</span></span>) ^ (h &gt;&gt;&gt; <span class="hljs-number"><span class="hljs-number">4</span></span>); }</code> </pre><br>  A comment from the source explains which results to expect - <i>the <b>hash (key)</b> method ensures that the resulting hash codes will have only a limited number of collisions (approximately 8, with the default load factor).</i> <br><br>  In my case, for the key with the value <b>‚Äú0‚Äù</b> the <b>hashCode ()</b> method returned the value 48, as a result: <br><br><pre> <code class="java hljs">h ^ (h &gt;&gt;&gt; <span class="hljs-number"><span class="hljs-number">20</span></span>) ^ (h &gt;&gt;&gt; <span class="hljs-number"><span class="hljs-number">12</span></span>) = <span class="hljs-number"><span class="hljs-number">48</span></span> h ^ (h &gt;&gt;&gt; <span class="hljs-number"><span class="hljs-number">7</span></span>) ^ (h &gt;&gt;&gt; <span class="hljs-number"><span class="hljs-number">4</span></span>) = <span class="hljs-number"><span class="hljs-number">51</span></span></code> </pre><br><br></li><li>  Using the <b>indexFor (hash, tableLength) method</b> , the position in the array where the element will be placed is determined. <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">indexFor</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> h, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> length)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> h &amp; (length - <span class="hljs-number"><span class="hljs-number">1</span></span>); }</code> </pre><br>  With the hash value of <b>51</b> and the size of table <b>16</b> , we get the index in the array: <br><br><pre> <code class="java hljs">h &amp; (length - <span class="hljs-number"><span class="hljs-number">1</span></span>) = <span class="hljs-number"><span class="hljs-number">3</span></span></code> </pre><br><br></li><li>  Now, knowing the index in the array, we get a list (chain) of elements attached to this cell.  The hash and key of the new item are compared in turn with the hashes and keys of the items from the list and, if these parameters match, the value of the item is overwritten. <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (e.hash == hash &amp;&amp; (e.key == key || key.equals(e.key))) { V oldValue = e.value; e.value = value; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> oldValue; }</code> </pre><br><br></li><li>  If the previous step did not reveal matches, the <b>addEntry</b> method <b>(hash, key, value, index)</b> will be called to add a new item. <br><a name="addEntry"></a><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addEntry</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> hash, K key, V value, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> index)</span></span></span><span class="hljs-function"> </span></span>{ Entry&lt;K, V&gt; e = table[index]; table[index] = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Entry&lt;K, V&gt;(hash, key, value, e); ... }</code> </pre><br> <a href=""><img src="https://habrastorage.org/storage1/25a37cf3/19b73e6b/efade65a/7981f807.png"><br></a> <br></li></ol><br>  To demonstrate how the HashMap is populated, let's add some more elements. <br><br><hr><pre> <code class="java hljs">hashmap.put(<span class="hljs-string"><span class="hljs-string">"key"</span></span>, <span class="hljs-string"><span class="hljs-string">"one"</span></span>);</code> </pre> <br> <code>Footprint{Objects=12, References=30, Primitives=[int x 17, char x 11, float]} <br> Object size: 352 bytes</code> <br> <br><ol><li>  Skipped, key is not null <br><br></li><li>  <b>'' key ''. hashCode ()</b> = 106079 <br><br><pre> <code class="java hljs">h ^ (h &gt;&gt;&gt; <span class="hljs-number"><span class="hljs-number">20</span></span>) ^ (h &gt;&gt;&gt; <span class="hljs-number"><span class="hljs-number">12</span></span>) = <span class="hljs-number"><span class="hljs-number">106054</span></span> h ^ (h &gt;&gt;&gt; <span class="hljs-number"><span class="hljs-number">7</span></span>) ^ (h &gt;&gt;&gt; <span class="hljs-number"><span class="hljs-number">4</span></span>) = <span class="hljs-number"><span class="hljs-number">99486</span></span></code> </pre><br></li><li>  Determining the position in the array <br><br><pre> <code class="java hljs">h &amp; (length - <span class="hljs-number"><span class="hljs-number">1</span></span>) = <span class="hljs-number"><span class="hljs-number">14</span></span></code> </pre><br></li><li>  No items found <br><br></li><li>  Add item <br><br> <a href=""><img src="https://habrastorage.org/storage1/2fb17b1a/a4c8f213/30790598/521dfb0b.png"><br></a> <br></li></ol><br><hr><a name="putForNullKey"></a><pre> <code class="java hljs">hashmap.put(<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>);</code> </pre> <br> <code>Footprint{Objects=13, References=33, Primitives=[int x 18, char x 11, float]} <br> Object size: 376 bytes</code> <br> <br>  As mentioned above, if you added null as a key when adding an item, the actions will be different.  The <b>putForNullKey (value)</b> method will be called, inside which there is no call to the <b>hash ()</b> and <b>indexFor ()</b> methods (because all items with null keys are always placed in <b>table [0]</b> ), but there are such actions: <br><ol><li>  All chaining elements bound to <b>table [0]</b> are alternately scanned for the element with the null key.  If such an element in the chain exists, its value is overwritten. <br><br></li><li>  If the element with the null key was not found, the already familiar <b>addEntry ()</b> method will be called. <br><br><pre> <code class="java hljs">addEntry(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, value, <span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre> <br> <a href=""><img src="https://habrastorage.org/storage1/c102f8f3/d014c0f3/4ce1e631/a2ae3de9.png"><br></a> <br></li></ol><br><hr><pre> <code class="java hljs">hashmap.put(<span class="hljs-string"><span class="hljs-string">"idx"</span></span>, <span class="hljs-string"><span class="hljs-string">"two"</span></span>);</code> </pre> <br> <code>Footprint{Objects=18, References=38, Primitives=[int x 25, char x 17, float]} <br> Object size: 496 bytes</code> <br> <br>  Now consider the case when a collision occurs when adding an element. <br><ol><li>  Skipped, key is not null <br><br></li><li>  <b>'' idx ''. hashCode ()</b> = 104125 <br><br><pre> <code class="java hljs">h ^ (h &gt;&gt;&gt; <span class="hljs-number"><span class="hljs-number">20</span></span>) ^ (h &gt;&gt;&gt; <span class="hljs-number"><span class="hljs-number">12</span></span>) = <span class="hljs-number"><span class="hljs-number">104100</span></span> h ^ (h &gt;&gt;&gt; <span class="hljs-number"><span class="hljs-number">7</span></span>) ^ (h &gt;&gt;&gt; <span class="hljs-number"><span class="hljs-number">4</span></span>) = <span class="hljs-number"><span class="hljs-number">101603</span></span></code> </pre><br></li><li>  Determining the position in the array <br><br><pre> <code class="java hljs">h &amp; (length - <span class="hljs-number"><span class="hljs-number">1</span></span>) = <span class="hljs-number"><span class="hljs-number">3</span></span></code> </pre><br></li><li>  No items found <br><br></li><li>  Add item <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//  table[3]       ["0", "zero"] Entry&lt;K, V&gt; e = table[index]; //       table[index] = new Entry&lt;K, V&gt;(hash, key, value, e);</span></span></code> </pre><br> <a href=""><img src="https://habrastorage.org/storage1/a86b100b/9d20ef80/354bc241/3f0fcc9a.png"><br></a> <br></li></ol><br><h3>  Resize and Transfer </h3><br>  When the <b>table []</b> array is filled to the limit value, its size is doubled and the elements are redistributed.  As you can see for yourself, there is nothing difficult in the <b>resize (capacity)</b> and <b>transfer (newTable) methods</b> . <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">resize</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> newCapacity)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (table.length == MAXIMUM_CAPACITY) { threshold = Integer.MAX_VALUE; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } Entry[] newTable = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Entry[newCapacity]; transfer(newTable); table = newTable; threshold = (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)(newCapacity * loadFactor); }</code> </pre><br>  The <b>transfer ()</b> method <b>enumerates</b> all elements of the current storage, recalculates their indices (taking into account the new size) and redistributes the elements over the new array. <br><br>  If <b>we</b> add, say, 15 more elements to the original <b>hashmap</b> , then the size will be increased and the distribution of elements will change. <br><br> <a href=""><img src="https://habrastorage.org/storage1/9ea180c2/d42cb773/8923313a/2d16023b.png"><br></a> <br><br><br><h3>  Deleting items </h3><br>  HashMap has the same ‚Äúproblem‚Äù as ArrayList - when deleting elements, the size of the array <b>table []</b> does not decrease.  And if the <b>trimToSize ()</b> method is provided in the ArrayList, then there are no such methods in the HashMap (although, as one colleague said, ‚Äú <i>Or maybe it is not necessary?</i> ‚Äù). <br><br>  A small test to demonstrate what is written above.  The source object is 496 bytes.  Add, for example, 150 elements. <br><br> <code>Footprint{Objects=768, References=1028, Primitives=[int x 1075, char x 2201, float]} <br> Object size: 21064 bytes</code> <br> <br>  Now remove the same 150 items, and measure again. <br><br> <code>Footprint{Objects=18, References=278, Primitives=[int x 25, char x 17, float]} <br> Object size: 1456 bytes</code> <br> <br>  As you can see, the size did not even come close to the original.  If there is a desire / need to correct the situation, you can, for example, use the <b>HashMap (Map)</b> designer. <br><br><pre> <code class="java hljs">hashmap = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> HashMap&lt;String, String&gt;(hashmap);</code> </pre><br> <code>Footprint{Objects=18, References=38, Primitives=[int x 25, char x 17, float]} <br> Object size: 496 bytes</code> <br> <br><br><h3>  Iterators </h3><br>  HashMap has built-in iterators such that you can get a list of all <b>keySet ()</b> keys, all <b>values ‚Äã‚Äã() values,</b> or all key / value <b>entrySet ()</b> pairs.  Below are some options for iterating over elements: <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// 1. for (Map.Entry&lt;String, String&gt; entry: hashmap.entrySet()) System.out.println(entry.getKey() + " = " + entry.getValue()); // 2. for (String key: hashmap.keySet()) System.out.println(hashmap.get(key)); // 3. Iterator&lt;Map.Entry&lt;String, String&gt;&gt; itr = hashmap.entrySet().iterator(); while (itr.hasNext()) System.out.println(itr.next());</span></span></code> </pre><br>  It is worth remembering that if during the work of the HashMap iterator was changed (without using the iterator‚Äôs own methods), then the result of iterating over the elements will be unpredictable. <br><br><br><h3>  Results </h3><br>  - Adding an element is performed in O (1) time, because new elements are inserted at the beginning of the chain; <br>  - The operations of obtaining and deleting an element can be performed in O (1) time, if the hash function evenly distributes the elements and there are no collisions.  The mean running time will be Œò (1 + Œ±), where Œ± is the load factor.  In the worst case, the execution time can be Œò (n) (all elements in one chain); <br>  - Keys and values ‚Äã‚Äãcan be of any type, including null.  For storage of primitive types, the corresponding wrapper classes are used; <br>  - Not synchronized. <br><br><br><h3>  Links </h3><br>  <a href="">HashMap source</a> <br>  <a href="">HashMap</a> source from JDK7 <br>  Sources JDK <a href="http://download.java.net/openjdk/jdk6/">OpenJDK &amp; trade 6 Source Release - Build b23</a> <br><br>  <a href="http://code.google.com/p/memory-measurer/">Measurement</a> tools - <a href="http://code.google.com/p/memory-measurer/">memory-measurer</a> and <a href="http://code.google.com/p/guava-libraries/">Guava</a> (Google Core Libraries). <br></div><p>Source: <a href="https://habr.com/ru/post/128017/">https://habr.com/ru/post/128017/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../128011/index.html">Ciklum Supported the 11th Meeting of the Kiev ALT.NET Community</a></li>
<li><a href="../128012/index.html">DroidKungFu-debriefing malware on Android</a></li>
<li><a href="../128013/index.html">Free fall iOS developer courses in St. Petersburg</a></li>
<li><a href="../128015/index.html">Hi, Habr!</a></li>
<li><a href="../128016/index.html">The surprising reaction of the Russian Post at Habrapost</a></li>
<li><a href="../128018/index.html">Getting things done? Don't lie to yourself</a></li>
<li><a href="../128019/index.html">Oda to the bug!</a></li>
<li><a href="../128020/index.html">Simple zen-wiki engine</a></li>
<li><a href="../128021/index.html">Why Intel loves contests</a></li>
<li><a href="../128023/index.html">Add your tips to the code in Adobe Dreamweaver CS5</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>