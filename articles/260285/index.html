<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Analysis of the tasks of the qualifying round of RCC 2015</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="On Sunday, June 14, the qualifying round of RCC 2015 was held. 604 programmers who had qualified in the previous three rounds fought for the title of ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Analysis of the tasks of the qualifying round of RCC 2015</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/33f/946/42f/33f94642fb7c48c2baecc90c2ceb3328.png"><br><br>  On Sunday, June 14, the qualifying round of RCC 2015 was held. 604 programmers who had qualified in the previous three rounds fought for the title of RCC 2015 finalist.  At least one correct decision was sent by 324 participants.  And now the heroes of the round!  Peter Mitrichev took the first line of the tournament table, first solving problems B (Split into teams) and F (Stage lighting) for 20:32 and 1:31:41.  Gennady Korotkevich comes second - he was the first in 2 minutes and 30 seconds to solve task A (playing with strings) and was the first to cope with task D (Cartesian trees) in 14:16.  Makoto Soejima from Japan is the third, apparently before the decision, he translated the conditions of the tasks through an online translator.  Mikhail Pyaderkin first solved Problem C (Map) in 51 minutes and 4 seconds.  Egor Kulikov was the first to solve problem E (Alley) in 1 hour 5 minutes and 49 seconds.  According to the results of the qualifying round, 50 participants reached the final.  September 19 in the Final will be determined the strongest programmer of the year!  All participants in the qualifying round will receive online certificates, and the 200 best ones will receive RCC 2015 T-shirts. <br><a name="habracut"></a><br><h1>  <a href="http://www.russiancodecup.ru/championship/round/39/problem/A/">Task A. Playing with strings</a> </h1><br>  <b>Idea:</b> Gregory Shovkoplyas <br>  <b>Realization:</b> Gregory Shovkoplyas <br>  <b>Analysis:</b> Gregory Shovkoplyas <br><br>  The task is given a string with which you can do the following operations: <br><ul><li>  remove three consecutive units; </li><li>  remove two consecutive zeros; </li><li> replace the substring " <code>01</code> " with the substring " <code>10</code> "; </li><li>  replace the substring " <code>10</code> " with the substring " <code>01</code> ". </li></ul><br>  It is necessary to calculate how many ways there are to get a string of a certain length from a given one using these operations. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      To begin with, we will look at the replacements operations and understand that this is nothing but a swap.  Thus, we can get any from this string, which contains the same number of zeros and ones.  Now, using these operations, we obtain from the source line, where all zeros are at the beginning, and ones at the end.  From the resulting string, we can get a string of new length, without rearranging anything, since all ones and zeros are already grouped.  A string of length <i>k</i> can be obtained from a string of length <i>n</i> by removing <i>3x</i> ones and <i>2y</i> zeros, where <i>k = n - (3x + 2y)</i> .  The <i>x</i> and <i>y</i> values ‚Äã‚Äãcan be iterated.  And finally, for each obtained string of the required length, we need to take into account all permutations.  They can be calculated, for example, as the number of combinations of the length of a line by the number of units in it.  The answer will be equal to the sum of these combinations for all the lines of the desired length, which can be obtained from this one. <br><br><h1>  <a href="http://www.russiancodecup.ru/championship/round/39/problem/B/">Problem B. Splitting into teams</a> </h1><br>  <b>Idea</b> : Gregory Shovkoplyas <br>  <b>Implementation</b> : Dmitry Filippov <br>  <b>Analysis</b> : Dmitry Filippov <br><br>  The problem is given a graph, on each edge of which numbers 0 or 1 are written, meaning that the ends of the edges are the same color or different, respectively.  Also, some of the vertices of the graph are painted white or black.  The question is, is it possible to somehow paint the remaining vertices in black and white so that the information written on the ribs is correct and the number of vertices in black and white is the same? <br><br>  We partition our graph into connected components.  Note that, knowing the color of one vertex in the component, we can restore the color of all the others.  From this it follows that if at least one vertex is already colored in the component, the coloring of the entire component is unique (except for the case when some of the required conditions are violated in the resulting coloring, then the answer to the problem is ‚Äú <code>NO</code> ‚Äù).  If no vertex is colored yet, there are two variants of coloring - you can paint any vertex of the component white, restore the colors of the other vertices, and after that, if they are inverted, we get the second coloring. <br><br>  It is easy to see that we have reduced our original task to the backpack problem: we can take some white vertices from each component, and all we have to do is type <i>n 2</i> (if <i>n is</i> odd, the answer to the problem is ‚Äú <code>NO</code> ‚Äù).  And this can already be solved with the help of dynamic programming for <i>O (n <sup>2</sup> )</i> . <br><br><h1>  <a href="http://www.russiancodecup.ru/championship/round/39/problem/C/">Task C. Map</a> </h1><br>  <b>Idea</b> : George Korneev, Vitaly Aksyonov <br>  <b>Realization</b> : Vitaly Aksyonov <br>  <b>Analysis</b> : Vitaly Aksyonov <br><br>  The problem is given a checkered convex polygon on the checkered plane.  You need to fold it once along the vertical grid line so that the area occupied by the polygon after addition is minimal. <br><br>  Consider first the simplest version of the problem.  Given a rectangle, and you need to fold it, getting the minimum area.  Obviously, it should be folded along the grid line closest to the middle (if there are two of them, then it can be folded on any).  Consider the area function of the fold position.  For a rectangle with corners ( <i>x <sub>1</sub> , y <sub>1</sub></i> ) and ( <i>x <sub>2</sub> , y <sub>2</sub></i> ), this function has the following form: <br><ul><li>  on segments ( <i>-‚àû; x <sub>1</sub></i> ] and [ <i>x <sub>2</sub> ; + ‚àû</i> ) the function is equal to the area of ‚Äã‚Äãthe rectangle; </li><li>  on the segment [ <i>x <sub>1</sub> ;</i>  <i>(x <sub>1</sub> + x <sub>2</sub> ) / 2</i> ] the function decreases linearly with the coefficient <i>y <sub>2</sub> - y <sub>1</sub></i> ; </li><li>  on the segment [ <i>(x <sub>1</sub> + x <sub>2</sub> ) / 2;</i>  <i>x <sub>2</sub></i> ] the function increases linearly with the coefficient <i>y <sub>2</sub> - y <sub>1</sub></i> . </li></ul><br>  Total: the function changes its state only at three points.  Between two points in a row, the function is linear. <br><br>  Note that, since our task is discrete, in the case when ( <i>x <sub>1</sub> + x <sub>2</sub></i> ) is not divisible by two, it is better to beat the function into five sections between the points <i>x <sub>1</sub> , (x <sub>1</sub> + x <sub>2</sub> ) / 2‚åã, (x <sub>1</sub> + x <sub>2</sub> ) / 2‚åâ</i> and <i>x <sub>2</sub></i> . <br><br>  Let our polygon be given by <i>n</i> vertices.  Then it is easy to see that a convex checkered polygon can be cut into at most <i>n</i> rectangles by horizontal lines.  Then the function of the area depending on the place of addition will be the sum of the functions for the rectangles.  Again, it is easy to make sure that if we take all the change points for each function and sort them, then the global function between two adjacent points will be linear.  Then the answer is to take a minimum of the values ‚Äã‚Äãat these points. <br><br>  To realize this, you need to take advantage of the idea of ‚Äã‚Äãevents.  Each event will correspond to the point of change of the function for some rectangle.  Then, processing the events from left to right and recalculating the coefficient of a linear function, it is easy to calculate the function at the selected points. <br><br><h1>  <a href="http://www.russiancodecup.ru/championship/round/39/problem/d/">Problem D. Cartesian trees</a> </h1><br>  <b>Idea:</b> Artem Vasilyev <br>  <b>Realization:</b> Ilya Zban <br>  <b>Analysis:</b> Ilya Zban <br><br>  In the problem given <i>n</i> numbers <i>y <sub>i</sub></i> , it was necessary to calculate how many Cartesian trees can be built on the set ( <i>i, y <sub>i</sub></i> ).  To begin with, we note that if all <i>n</i> numbers <i>y</i> i are equal to the same number, then the answer is <i>C <sub>n</sub></i> , <i>n is</i> the Catalan number.  You can understand this, for example, on the basis of the recurrent formula: if <i>k</i> vertices are defined in the left subtree, then <i>nk-1</i> vertices will be in the right subtree, that is, <i>C <sub>n</sub> = Œ£ <sub>k = 0</sub> <sup>n</sup> C <sub>k</sub> ¬∑ C <sub>nk-1</sub></i> .  Consider all occurrences of the maximum number in the array.  Any vertex with such a priority can be either a root, or be a child of another vertex with the same priority.  Let the occurrences of a maximum have indices <i>a <sub>1</sub> , a <sub>2</sub> , ..., a <sub>k</sub></i> .  Then we have to build some Cartesian tree on the vertices <i>a <sub>1</sub> , a <sub>2</sub> , ..., a <sub>k</sub></i> , and hang some Cartesian trees built on the vertices <i>(1, ..., a <sub>1</sub> -1), (a <sub>1</sub> +1, ..., a <sub>2</sub> -1), ..., (a <sub>k</sub> +1, ..., n)</i> .  Note that for neighboring <i>a <sub>i</sub></i> and <i>a <sub>i + 1</sub></i> in any Cartesian tree built only on maximal vertices, one of these vertices will be the ancestor of the other, therefore the subtree constructed on the vertices ( <i>a <sub>i</sub> +1, ..., a <sub>i + 1</sub> -1</i> ), we can uniquely hang for one of these two vertices. <br><br>  Thus, the number of ways to build a Cartesian tree on vertices from <i>l</i> to <i>r</i> is equal to <i>cnt (l, r) = C <sub>k</sub> ¬∑ cnt (l, a <sub>1</sub> -1) ¬∑ ... ¬∑ cnt (a <sub>k</sub> +1, r)</i> .  The answer will be <i>cnt (1, n)</i> . <br><br><h1>  <a href="http://www.russiancodecup.ru/championship/round/39/problem/e/">Task E. Alley</a> </h1><br>  <b>Idea</b> : Boris Minaev <br>  <b>Realization</b> : Boris Minaev <br>  <b>Analysis</b> : Boris Minaev <br><br>  From a mathematical point of view, the problem contains segments of integer length.  It is necessary to break some of them into smaller ones so that the length of the largest segment is as short as possible, and the number of partitions does not exceed the specified number.  The task is somewhat complicated by the fact that the total length of all segments can reach 10 <sup>9</sup> , and the number of queries that need to be answered can reach 10 <sup>6</sup> . <br><br>  Consider how many breaks need to be done so that the answer is no more than <i>Ans</i> .  For each segment of length <i>Len</i> it is necessary to make <i>(Len - 1) / Ans</i> partitions (the result of division is rounded down).  We construct the function of the number of necessary splits of the answer for each segment.  Add these functions for all segments.  In order to find the minimum value of <i>Ans</i> that can be achieved by making no more than <i>K</i> partitions, we use the binary search. <br><br>  We will store the functions in a compressed form, namely, we will save the value of the function for <i>Ans</i> only if <i>f (Ans) ‚â† f (Ans-1)</i> .  It can be proved that for the length segment <i>Len the</i> <i>O (sqrt (Len))</i> memory is required to save its function.  Positions in which the value of the function changes can be determined in time proportional to their number.  The maximum total number of change positions will be achieved on a test in which all segments have the same length.  In the case of restrictions, which are given in the statement of the problem, their number cannot exceed <i>10 <sup>6</sup> ¬∑ sqrt (10 <sup>3</sup> ) = 10 <sup>7.5</sup></i> . <br><br>  To combine several functions that are saved in a compressed format, you need to sort out all the moments of changing functions.  To do this, we divide all positions in which the functions change into two classes.  In the first class, we put all positions that are less than 10 <sup>6</sup> .  They can be sorted by counting in time proportional to their number.  The rest of the positions will be few, and for their sorting you can use the built-in functions of the language.  To make sure that the number of positions that are more than 10 <sup>6</sup> is small, we will do the following.  To ensure that a segment of maximum length does not exceed 10 <sup>6</sup> , it is sufficient to make no more than <i>Len / 10 <sup>6</sup></i> partitions of segments.  Since in the condition of the problem the total length of the segments does not exceed 10 <sup>9</sup> , the number of changes in the function whose positions exceed 10 <sup>6</sup> will be less than 1000. <br><br><h1>  <a href="http://www.russiancodecup.ru/championship/round/39/problem/f/">Problem F. Stage Lighting</a> </h1><br>  <b>Idea</b> : Artem Vasilyev <br>  <b>Realization</b> : Artem Vasilyev <br>  <b>Analysis</b> : Artem Vasilyev <br><br>  In this problem, an array of pairs (power, set of outputs) is given with a rather confusing condition, and for each left boundary in the array, we need to find a minimal right boundary so that there is a subset of pairs with the following conditions on this sub-array: <br><ol><li>  The amount of power must be at least <i>Z.</i> </li><li>  The sets of outputs of the selected spotlights do not overlap in pairs. </li></ol><br>  A subarray with such properties will be called good.  First, we solve the problem for one fixed left border.  This problem can be solved with the help of dynamic binary <i><sub>mask</sub></i> programming: <i>dp <sub>mask</sub></i> is the maximum cost of spotlights, for which the union of output sets is a subset of <i>mask</i> .  The recalculation formula for adding one element <i>(p, m)</i> looks like this: <i>dp ' <sub>mask</sub> = max (dp <sub>mask</sub> , dp <sub>mask - m</sub> + p)</i> , if <i>m</i> is a sub- <i>mask of mask</i> , and <i>dp <sub>mask</sub></i> - otherwise.  Adding one element can be realized in <i>O (2 <sup>k</sup> )</i> .  When <i>dp <sub>2 <sup>k</sup> - 1</sub></i> becomes greater than or equal to <i>Z</i> , an answer must be given. <br><br>  It is easy to prove that as the left boundary increases, the corresponding right boundary does not decrease.  This allows you to use the technique of two pointers to find the answer.  To implement the technique of two pointers, it is necessary to implement a data structure that supports the following operations: <br><ol><li>  Add item to end. </li><li>  Remove item from start. </li><li>  Answer the query: ‚ÄúIs the current set of spotlights good?‚Äù. </li></ol><br>  The solution to this problem uses the implementation of a queue on two stacks with ideas from the method of implementing a queue with a minimum.  Similarly, the queue with a minimum, we will store in the stacks not just elements, but pairs (element; array <i>dp <sub>i</sub></i> , which contains values ‚Äã‚Äãof DP for elements from the current and below).  Adding one element to such a stack can be done in <i>O (2 <sup>k</sup> )</i> , deletion in <i>O (1)</i> .  Finally, using this modification of the stack in the queue, you can respond to a type 3 request with <i>O (2 <sup>k</sup> )</i> : the answer is positive if and only if <i>max <sub>i = 0..2 <sup>k</sup> - 1</sub> dp <sup>1</sup> <sub>i</sub> + dp <sup>2</sup> <sub>2 <sup>k</sup> - 1 - i</sub> ‚â• Z</i> , where <i>dp <sup>1</sup> , dp <sup>2</sup></i> - arrays of values ‚Äã‚Äãof DP at the top of the first and second stack, respectively. <br><br>  In conclusion, remembering that each element moves <i>O (1)</i> times to the results of a queue implemented on two stacks, we find that the solution works in <i>O (n2 <sup>k</sup> )</i> time and uses <i>O (n2 <sup>k</sup> )</i> memory. </div><p>Source: <a href="https://habr.com/ru/post/260285/">https://habr.com/ru/post/260285/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../260271/index.html">Salad "Microsoft Guide for SymbolTable with a delicate aftertaste Antlr4"</a></li>
<li><a href="../260273/index.html">Challenge the tradition of hi-fi. Digital potentiometers in detail. Part two</a></li>
<li><a href="../260275/index.html">How we made the best release tracker tracker</a></li>
<li><a href="../260277/index.html">That the site did not fall: an economical method</a></li>
<li><a href="../260279/index.html">Do we really need start-ups for large corporations</a></li>
<li><a href="../260287/index.html">Are you ready to complain?</a></li>
<li><a href="../260289/index.html">LabVIEW Programming Contest. The decision of the winning team</a></li>
<li><a href="../260291/index.html">Examples of using MongoDB in e-commerce (part 2)</a></li>
<li><a href="../260295/index.html">Jii: Full Query Builder for Node.js with API from Yii 2</a></li>
<li><a href="../260297/index.html">Accelerate MySQL insert / update 5-10 times</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>