<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Research of speed of a DBMS MS SQL Server Developer 2016 and PostgreSQL 10.5 for 1C</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Objectives and requirements for testing "1C Accounting" 
 The main goal of the testing is to compare the behavior of the 1C system on two different DB...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Research of speed of a DBMS MS SQL Server Developer 2016 and PostgreSQL 10.5 for 1C</h1><div class="post__text post__text-html js-mediator-article"><h3>  Objectives and requirements for testing "1C Accounting" </h3><br>  The main goal of the testing is to compare the behavior of the 1C system on two different DBMS, all other conditions being the same.  Those.  The configuration of the 1C database and the initial data filling should be the same for each test. <br><br>  The main parameters that must be obtained when testing: <br><br><ul><li>  Time to complete each test (removed by 1C Development Department) </li><li>  The load on the DBMS and the server environment during the test is removed by the DBMS administrators, as well as by the system administrators in the server environment </li></ul><br>  Testing of the 1C system should be performed taking into account the client-server architecture, therefore it is necessary to produce a full-fledged emulation of the user or several users in the system with the development of input information in the interface and storing this information in the database.  At the same time, it is necessary that a large amount of periodic information be distributed over a large period of time to create totals in accumulation registers. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      To perform the testing, an algorithm was developed in the form of a scenario testing script for the 1C Accounting 3.0 configuration, in which sequential input of test data to the 1C system is performed.  The script allows you to specify various settings for the actions performed and the amount of test data.  Detailed description below. <br><br><h3>  Description of the settings and characteristics of the tested media </h3><br>  At Fortis, we decided to double-check the results, including using the well-known <a href="http://www.gilev.ru/">Gilev test</a> . <br><br>  Also, we were encouraged to test, including some publications on the results of performance changes during the transition from MS SQL Server to PostgreSQL.  Such as: <a href="https://infostart.ru/public/962876/">1C Battle: PostgreSQL 9.10 vs MS SQL 2016</a> . <br><a name="habracut"></a><br>  So, here is the infrastructure for testing: <br><div class="scrollable-table"><table><tbody><tr><th></th><th>  1C </th><th>  <nobr>MS SQL</nobr> </th><th>  PostgreSQL </th></tr><tr><td>  <nobr>Number of CPU cores</nobr> </td><td>  eight </td><td>  eight </td><td>  eight </td></tr><tr><td>  <nobr>RAM capacity</nobr> </td><td>  sixteen </td><td>  32 </td><td>  32 </td></tr><tr><td>  OS </td><td>  <nobr>MS Windows Server 2012R2 Standard</nobr> </td><td>  <nobr>MS Windows Server 2012R2 Standard</nobr> </td><td>  <nobr>CentOS 7.6.1810</nobr> </td></tr><tr><td>  Digit </td><td>  x64 </td><td>  x64 </td><td>  x64 </td></tr><tr><td>  <nobr>1C platform</nobr> </td><td>  8.3.13.1865 </td><td>  - </td><td>  - </td></tr><tr><td>  DBMS Version </td><td>  - </td><td>  13.0.5264.1 </td><td>  10.5 (4.8.5.20150623) </td></tr></tbody></table></div><br>  Servers for MS SQL and PostgreSQL were virtual and started alternately for the required test.  1C stood on a separate server. <br><br><div class="spoiler">  <b class="spoiler_title">Details</b> <div class="spoiler_text">  <b>Hypervisor Specification:</b> <br>  Model: Supermicro SYS-6028R-TRT <br>  CPU: Intel¬Æ Xeon¬Æ CPU E5-2630 v3 @ 2.40GHz (2 sockes * 16 CPU HT = 32CPU) <br>  RAM: 212 GB <br>  OS: VMWare ESXi 6.5 <br>  PowerProfile: Performance <br><br>  <b>Hypervisor Disk Subsystem:</b> <br>  Controller: Adaptec 6805, Cache size: 512MB <br>  Volume: RAID 10, 5.7 TB <br>  Stripe-size: 1024 KB <br>  Write-cache: on <br>  Read-cache: off <br>  Wheels: 6 pcs.  HGST HUS726T6TAL, <br>  Sector-Size: 512 Bytes <br>  Write Cache: on <br><br>  <b>PostgreSQL has been configured as follows:</b> <br><br><ol><li>  postgresql.conf: <br>  The basic setting was made on the calculator - <a href="http://pgconfigurator.cybertec.at/">pgconfigurator.cybertec.at</a> , the parameters huge_pages, checkpoint_timeout, max_wal_size, min_wal_size, random_page_cost were changed based on information obtained from the sources mentioned at the end of the publication.  The temp_buffers parameter value increased, based on the suggestion that 1C actively uses temporary tables: <br><br><pre><code class="bash hljs">listen_addresses = <span class="hljs-string"><span class="hljs-string">'*'</span></span> max_connections = 1000 <span class="hljs-comment"><span class="hljs-comment">#     .          .    32     25%    . shared_buffers = 9GB #   (  Linux - vm.nr_hugepages). huge_pages = on #      . temp_buffers = 256MB #      ORDER BY, DISTINCT, merge joins, join, hash-based aggregation, hash-based processing of IN subqueries. #  ,  1     ( "Mostly complicated real-time SQL queries"  ).     64MB. work_mem = 128MB #    . VACUUM,  , etc. maintenance_work_mem = 512MB #    (vm.dirty_background_bytes, vm.dirty_bytes),        IO   CHECKPOINT. checkpoint_timeout = 30min max_wal_size = 3GB min_wal_size = 512MB checkpoint_completion_target = 0.9 seq_page_cost = 1 #   .  - - 4.  RAID10  . random_page_cost = 2.5 #       postgres ,    PageCache. effective_cache_size = 22GB</span></span></code> </pre> <br></li><li>  Kernel OS settings: <br><br>  Settings are specified in the profile file format for the tuned daemon: <br><br><pre> <code class="bash hljs">[sysctl] <span class="hljs-comment"><span class="hljs-comment">#     (PageCache),       /     . #-    (10,30)               /. #    CHECKPOINT     I/O. #       RAID-  write-back cache  512MB. vm.dirty_background_bytes = 67108864 vm.dirty_bytes = 536870912 # SWAP -.    ,    OOM. vm.swappiness = 1 # ,        CPU. #         CPU  . #    . kernel.sched_migration_cost_ns = 5000000 #    CPU   . #       0.    . kernel.sched_autogroup_enabled = 0 #    .     . #     - https://www.postgresql.org/docs/11/kernel-resources.html#LINUX-HUGE-PAGES vm.nr_hugepages = 5000 [vm] #   .         ,    .  ,     . transparent_hugepages=never #  CPU.       ,      . [cpu] force_latency=1 governor=performance energy_perf_bias=performance min_perf_pct=100</span></span></code> </pre><br></li><li>  File system: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># : #stride  stripe_width    RAID 10  6-    stripe  1024kb mkfs.ext4 -E stride=256,stripe_width=768 /dev/sdb # : /dev/sdb /var/lib/pgsql ext4 noatime,nodiratime,data=ordered,barrier=0,errors=remount-ro 0 2 #noatime,nodiratime -         #data=ordered -     .     #barrier=0 -       .  RAID-     .</span></span></code> </pre></li></ol><br>  The entire contents of the postgresql.conf file: <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># ----------------------------- # PostgreSQL configuration file # ----------------------------- # # This file consists of lines of the form: # # name = value # # (The "=" is optional.) Whitespace may be used. Comments are introduced with # "#" anywhere on a line. The complete list of parameter names and allowed # values can be found in the PostgreSQL documentation. # # The commented-out settings shown in this file represent the default values. # Re-commenting a setting is NOT sufficient to revert it to the default value; # you need to reload the server. # # This file is read on server startup and when the server receives a SIGHUP # signal. If you edit the file on a running system, you have to SIGHUP the # server for the changes to take effect, run "pg_ctl reload", or execute # "SELECT pg_reload_conf()". Some parameters, which are marked below, # require a server shutdown and restart to take effect. # # Any parameter can also be given as a command-line option to the server, eg, # "postgres -c log_connections=on". Some parameters can be changed at run time # with the "SET" SQL command. # # Memory units: kB = kilobytes Time units: ms = milliseconds # MB = megabytes s = seconds # GB = gigabytes min = minutes # TB = terabytes h = hours # d = days #------------------------------------------------------------------------------ # FILE LOCATIONS #------------------------------------------------------------------------------ # The default values of these variables are driven from the -D command-line # option or PGDATA environment variable, represented here as ConfigDir. #data_directory = 'ConfigDir' # use data in another directory # (change requires restart) #hba_file = 'ConfigDir/pg_hba.conf' # host-based authentication file # (change requires restart) #ident_file = 'ConfigDir/pg_ident.conf' # ident configuration file # (change requires restart) # If external_pid_file is not explicitly set, no extra PID file is written. #external_pid_file = '' # write an extra PID file # (change requires restart) #------------------------------------------------------------------------------ # CONNECTIONS AND AUTHENTICATION #------------------------------------------------------------------------------ # - Connection Settings - listen_addresses = '*' # what IP address(es) to listen on; # comma-separated list of addresses; # defaults to 'localhost'; use '*' for all # (change requires restart) #port = 5432 # (change requires restart) max_connections = 1000 # (change requires restart) #superuser_reserved_connections = 3 # (change requires restart) #unix_socket_directories = '/var/run/postgresql, /tmp' # comma-separated list of directories # (change requires restart) #unix_socket_group = '' # (change requires restart) #unix_socket_permissions = 0777 # begin with 0 to use octal notation # (change requires restart) #bonjour = off # advertise server via Bonjour # (change requires restart) #bonjour_name = '' # defaults to the computer name # (change requires restart) # - Security and Authentication - #authentication_timeout = 1min # 1s-600s ssl = off #ssl_ciphers = 'HIGH:MEDIUM:+3DES:!aNULL' # allowed SSL ciphers #ssl_prefer_server_ciphers = on #ssl_ecdh_curve = 'prime256v1' #ssl_dh_params_file = '' #ssl_cert_file = 'server.crt' #ssl_key_file = 'server.key' #ssl_ca_file = '' #ssl_crl_file = '' #test #password_encryption = md5 # md5 or scram-sha-256 #db_user_namespace = off row_security = off # GSSAPI using Kerberos #krb_server_keyfile = '' #krb_caseins_users = off # - TCP Keepalives - # see "man 7 tcp" for details #tcp_keepalives_idle = 0 # TCP_KEEPIDLE, in seconds; # 0 selects the system default #tcp_keepalives_interval = 0 # TCP_KEEPINTVL, in seconds; # 0 selects the system default #tcp_keepalives_count = 0 # TCP_KEEPCNT; # 0 selects the system default #------------------------------------------------------------------------------ # RESOURCE USAGE (except WAL) #------------------------------------------------------------------------------ # - Memory - shared_buffers = 9GB # min 128kB # (change requires restart) huge_pages = on # on, off, or try # (change requires restart) temp_buffers = 256MB # min 800kB #max_prepared_transactions = 0 # zero disables the feature # (change requires restart) # Caution: it is not advisable to set max_prepared_transactions nonzero unless # you actively intend to use prepared transactions. # work_mem = 128MB # min 64kB maintenance_work_mem = 512MB # min 1MB #replacement_sort_tuples = 150000 # limits use of replacement selection sort #autovacuum_work_mem = -1 # min 1MB, or -1 to use maintenance_work_mem #max_stack_depth = 2MB # min 100kB dynamic_shared_memory_type = posix # the default is the first option # supported by the operating system: # posix # sysv # windows # mmap # use none to disable dynamic shared memory # (change requires restart) # - Disk - #temp_file_limit = -1 # limits per-process temp file space # in kB, or -1 for no limit # - Kernel Resource Usage - max_files_per_process = 10000 # min 25 # (change requires restart) shared_preload_libraries = 'online_analyze, plantuner' # (change requires restart) # - Cost-Based Vacuum Delay - #vacuum_cost_delay = 0 # 0-100 milliseconds #vacuum_cost_page_hit = 1 # 0-10000 credits #vacuum_cost_page_miss = 10 # 0-10000 credits #vacuum_cost_page_dirty = 20 # 0-10000 credits #vacuum_cost_limit = 200 # 1-10000 credits # - Background Writer - bgwriter_delay = 20ms # 10-10000ms between rounds bgwriter_lru_maxpages = 400 # 0-1000 max buffers written/round bgwriter_lru_multiplier = 4.0 # 0-10.0 multiplier on buffers scanned/round bgwriter_flush_after = 0 # measured in pages, 0 disables # - Asynchronous Behavior - effective_io_concurrency = 3 # 1-1000; 0 disables prefetching max_worker_processes = 8 # (change requires restart) max_parallel_workers_per_gather = 4 # taken from max_parallel_workers max_parallel_workers = 8 # maximum number of max_worker_processes that # can be used in parallel queries #old_snapshot_threshold = -1 # 1min-60d; -1 disables; 0 is immediate # (change requires restart) #backend_flush_after = 0 # measured in pages, 0 disables #------------------------------------------------------------------------------ # WRITE AHEAD LOG #------------------------------------------------------------------------------ # - Settings - wal_level = minimal # minimal, replica, or logical # (change requires restart) #fsync = on # flush data to disk for crash safety # (turning this off can cause # unrecoverable data corruption) #synchronous_commit = on # synchronization level; # off, local, remote_write, remote_apply, or on wal_sync_method = fdatasync # the default is the first option # supported by the operating system: # open_datasync # fdatasync (default on Linux) # fsync # fsync_writethrough # open_sync #wal_sync_method = open_datasync #full_page_writes = on # recover from partial page writes wal_compression = on # enable compression of full-page writes #wal_log_hints = off # also do full page writes of non-critical updates # (change requires restart) wal_buffers = -1 # min 32kB, -1 sets based on shared_buffers # (change requires restart) wal_writer_delay = 200ms # 1-10000 milliseconds wal_writer_flush_after = 1MB # measured in pages, 0 disables commit_delay = 1000 # range 0-100000, in microseconds #commit_siblings = 5 # range 1-1000 # - Checkpoints - checkpoint_timeout = 30min # range 30s-1d max_wal_size = 3GB min_wal_size = 512MB checkpoint_completion_target = 0.9 # checkpoint target duration, 0.0 - 1.0 #checkpoint_flush_after = 256kB # measured in pages, 0 disables #checkpoint_warning = 30s # 0 disables # - Archiving - #archive_mode = off # enables archiving; off, on, or always # (change requires restart) #archive_command = '' # command to use to archive a logfile segment # placeholders: %p = path of file to archive # %f = file name only # eg 'test ! -f /mnt/server/archivedir/%f &amp;&amp; cp %p /mnt/server/archivedir/%f' #archive_timeout = 0 # force a logfile segment switch after this # number of seconds; 0 disables #------------------------------------------------------------------------------ # REPLICATION #------------------------------------------------------------------------------ # - Sending Server(s) - # Set these on the master and on any standby that will send replication data. max_wal_senders = 0 # max number of walsender processes # (change requires restart) #wal_keep_segments = 130 # in logfile segments, 16MB each; 0 disables #wal_sender_timeout = 60s # in milliseconds; 0 disables #max_replication_slots = 10 # max number of replication slots # (change requires restart) #track_commit_timestamp = off # collect timestamp of transaction commit # (change requires restart) # - Master Server - # These settings are ignored on a standby server. #synchronous_standby_names = '' # standby servers that provide sync rep # method to choose sync standbys, number of sync standbys, # and comma-separated list of application_name # from standby(s); '*' = all #vacuum_defer_cleanup_age = 0 # number of xacts by which cleanup is delayed # - Standby Servers - # These settings are ignored on a master server. #hot_standby = on # "off" disallows queries during recovery # (change requires restart) #max_standby_archive_delay = 30s # max delay before canceling queries # when reading WAL from archive; # -1 allows indefinite delay #max_standby_streaming_delay = 30s # max delay before canceling queries # when reading streaming WAL; # -1 allows indefinite delay #wal_receiver_status_interval = 10s # send replies at least this often # 0 disables #hot_standby_feedback = off # send info from standby to prevent # query conflicts #wal_receiver_timeout = 60s # time that receiver waits for # communication from master # in milliseconds; 0 disables #wal_retrieve_retry_interval = 5s # time to wait before retrying to # retrieve WAL after a failed attempt # - Subscribers - # These settings are ignored on a publisher. #max_logical_replication_workers = 4 # taken from max_worker_processes # (change requires restart) #max_sync_workers_per_subscription = 2 # taken from max_logical_replication_workers #------------------------------------------------------------------------------ # QUERY TUNING #------------------------------------------------------------------------------ # - Planner Method Configuration - #enable_bitmapscan = on #enable_hashagg = on #enable_hashjoin = on #enable_indexscan = on #enable_indexonlyscan = on #enable_material = on #enable_mergejoin = on #enable_nestloop = on #enable_seqscan = on #enable_sort = on #enable_tidscan = on # - Planner Cost Constants - seq_page_cost = 1 # measured on an arbitrary scale random_page_cost = 2.5 # same scale as above #cpu_tuple_cost = 0.01 # same scale as above #cpu_index_tuple_cost = 0.005 # same scale as above #cpu_operator_cost = 0.0025 # same scale as above #parallel_tuple_cost = 0.1 # same scale as above #parallel_setup_cost = 1000.0 # same scale as above #min_parallel_table_scan_size = 8MB #min_parallel_index_scan_size = 512kB effective_cache_size = 22GB # - Genetic Query Optimizer - #geqo = on #geqo_threshold = 12 #geqo_effort = 5 # range 1-10 #geqo_pool_size = 0 # selects default based on effort #geqo_generations = 0 # selects default based on effort #geqo_selection_bias = 2.0 # range 1.5-2.0 #geqo_seed = 0.0 # range 0.0-1.0 # - Other Planner Options - #default_statistics_target = 100 # range 1-10000 #constraint_exclusion = partition # on, off, or partition #cursor_tuple_fraction = 0.1 # range 0.0-1.0 from_collapse_limit = 20 join_collapse_limit = 20 # 1 disables collapsing of explicit # JOIN clauses #force_parallel_mode = off #------------------------------------------------------------------------------ # ERROR REPORTING AND LOGGING #------------------------------------------------------------------------------ # - Where to Log - log_destination = 'stderr' # Valid values are combinations of # stderr, csvlog, syslog, and eventlog, # depending on platform. csvlog # requires logging_collector to be on. # This is used when logging to stderr: logging_collector = on # Enable capturing of stderr and csvlog # into log files. Required to be on for # csvlogs. # (change requires restart) # These are only used if logging_collector is on: log_directory = 'pg_log' # directory where log files are written, # can be absolute or relative to PGDATA log_filename = 'postgresql-%a.log' # log file name pattern, # can include strftime() escapes #log_file_mode = 0600 # creation mode for log files, # begin with 0 to use octal notation log_truncate_on_rotation = on # If on, an existing log file with the # same name as the new log file will be # truncated rather than appended to. # But such truncation only occurs on # time-driven rotation, not on restarts # or size-driven rotation. Default is # off, meaning append to existing files # in all cases. log_rotation_age = 1d # Automatic rotation of logfiles will # happen after that time. 0 disables. log_rotation_size = 0 # Automatic rotation of logfiles will # happen after that much log output. # 0 disables. # These are relevant when logging to syslog: #syslog_facility = 'LOCAL0' #syslog_ident = 'postgres' #syslog_sequence_numbers = on #syslog_split_messages = on # This is only relevant when logging to eventlog (win32): # (change requires restart) #event_source = 'PostgreSQL' # - When to Log - #client_min_messages = notice # values in order of decreasing detail: # debug5 # debug4 # debug3 # debug2 # debug1 # log # notice # warning # error #log_min_messages = warning # values in order of decreasing detail: # debug5 # debug4 # debug3 # debug2 # debug1 # info # notice # warning # error # log # fatal # panic #log_min_error_statement = error # values in order of decreasing detail: # debug5 # debug4 # debug3 # debug2 # debug1 # info # notice # warning # error # log # fatal # panic (effectively off) #log_min_duration_statement = -1 # -1 is disabled, 0 logs all statements # and their durations, &gt; 0 logs only # statements running at least this number # of milliseconds # - What to Log - #debug_print_parse = off #debug_print_rewritten = off #debug_print_plan = off #debug_pretty_print = on log_checkpoints = on log_connections = on log_disconnections = on log_duration = on #log_error_verbosity = default # terse, default, or verbose messages #log_hostname = off log_line_prefix = '&lt; %m &gt;' # special values: # %a = application name # %u = user name # %d = database name # %r = remote host and port # %h = remote host # %p = process ID # %t = timestamp without milliseconds # %m = timestamp with milliseconds # %n = timestamp with milliseconds (as a Unix epoch) # %i = command tag # %e = SQL state # %c = session ID # %l = session line number # %s = session start timestamp # %v = virtual transaction ID # %x = transaction ID (0 if none) # %q = stop here in non-session # processes # %% = '%' # eg '&lt;%u%%%d&gt; ' log_lock_waits = on # log lock waits &gt;= deadlock_timeout log_statement = 'all' # none, ddl, mod, all #log_replication_commands = off log_temp_files = 0 # log temporary files equal or larger # than the specified size in kilobytes; # -1 disables, 0 logs all temp files log_timezone = 'W-SU' # - Process Title - #cluster_name = '' # added to process titles if nonempty # (change requires restart) #update_process_title = on #------------------------------------------------------------------------------ # RUNTIME STATISTICS #------------------------------------------------------------------------------ # - Query/Index Statistics Collector - #track_activities = on #track_counts = on #track_io_timing = on #track_functions = none # none, pl, all #track_activity_query_size = 1024 # (change requires restart) #stats_temp_directory = 'pg_stat_tmp' # - Statistics Monitoring - #log_parser_stats = off #log_planner_stats = off #log_executor_stats = off #log_statement_stats = off #------------------------------------------------------------------------------ # AUTOVACUUM PARAMETERS #------------------------------------------------------------------------------ autovacuum = on # Enable autovacuum subprocess? 'on' # requires track_counts to also be on. log_autovacuum_min_duration = 0 # -1 disables, 0 logs all actions and # their durations, &gt; 0 logs only # actions running at least this number # of milliseconds. autovacuum_max_workers = 4 # max number of autovacuum subprocesses # (change requires restart) #autovacuum_naptime = 20s # time between autovacuum runs #autovacuum_vacuum_threshold = 50 # min number of row updates before # vacuum #autovacuum_analyze_threshold = 50 # min number of row updates before # analyze #autovacuum_vacuum_scale_factor = 0.2 # fraction of table size before vacuum #autovacuum_analyze_scale_factor = 0.1 # fraction of table size before analyze #autovacuum_freeze_max_age = 200000000 # maximum XID age before forced vacuum # (change requires restart) #autovacuum_multixact_freeze_max_age = 400000000 # maximum multixact age # before forced vacuum # (change requires restart) #autovacuum_vacuum_cost_delay = 20ms # default vacuum cost delay for # autovacuum, in milliseconds; # -1 means use vacuum_cost_delay #autovacuum_vacuum_cost_limit = -1 # default vacuum cost limit for # autovacuum, -1 means use # vacuum_cost_limit #------------------------------------------------------------------------------ # CLIENT CONNECTION DEFAULTS #------------------------------------------------------------------------------ # - Statement Behavior - #search_path = '"$user", public' # schema names #default_tablespace = '' # a tablespace name, '' uses the default #temp_tablespaces = '' # a list of tablespace names, '' uses # only default tablespace #check_function_bodies = on #default_transaction_isolation = 'read committed' #default_transaction_read_only = off #default_transaction_deferrable = off #session_replication_role = 'origin' #statement_timeout = 0 # in milliseconds, 0 is disabled #lock_timeout = 0 # in milliseconds, 0 is disabled #idle_in_transaction_session_timeout = 0 # in milliseconds, 0 is disabled #vacuum_freeze_min_age = 50000000 #vacuum_freeze_table_age = 150000000 #vacuum_multixact_freeze_min_age = 5000000 #vacuum_multixact_freeze_table_age = 150000000 #bytea_output = 'hex' # hex, escape #xmlbinary = 'base64' #xmloption = 'content' #gin_fuzzy_search_limit = 0 #gin_pending_list_limit = 4MB # - Locale and Formatting - datestyle = 'iso, dmy' #intervalstyle = 'postgres' timezone = 'W-SU' #timezone_abbreviations = 'Default' # Select the set of available time zone # abbreviations. Currently, there are # Default # Australia (historical usage) # India # You can create your own file in # share/timezonesets/. #extra_float_digits = 0 # min -15, max 3 #client_encoding = sql_ascii # actually, defaults to database # encoding # These settings are initialized by initdb, but they can be changed. lc_messages = 'ru_RU.UTF-8' # locale for system error message # strings lc_monetary = 'ru_RU.UTF-8' # locale for monetary formatting lc_numeric = 'ru_RU.UTF-8' # locale for number formatting lc_time = 'ru_RU.UTF-8' # locale for time formatting # default configuration for text search default_text_search_config = 'pg_catalog.russian' # - Other Defaults - #dynamic_library_path = '$libdir' #local_preload_libraries = '' #session_preload_libraries = '' #------------------------------------------------------------------------------ # LOCK MANAGEMENT #------------------------------------------------------------------------------ #deadlock_timeout = 1s max_locks_per_transaction = 256 # min 10 # (change requires restart) #max_pred_locks_per_transaction = 64 # min 10 # (change requires restart) #max_pred_locks_per_relation = -2 # negative values mean # (max_pred_locks_per_transaction # / -max_pred_locks_per_relation) - 1 #max_pred_locks_per_page = 2 # min 0 #------------------------------------------------------------------------------ # VERSION/PLATFORM COMPATIBILITY #------------------------------------------------------------------------------ # - Previous PostgreSQL Versions - #array_nulls = on #backslash_quote = safe_encoding # on, off, or safe_encoding #default_with_oids = off escape_string_warning = off #lo_compat_privileges = off #operator_precedence_warning = off #quote_all_identifiers = off standard_conforming_strings = off #synchronize_seqscans = on # - Other Platforms and Clients - #transform_null_equals = off #------------------------------------------------------------------------------ # ERROR HANDLING #------------------------------------------------------------------------------ #exit_on_error = off # terminate session on any error? #restart_after_crash = on # reinitialize after backend crash? #------------------------------------------------------------------------------ # CONFIG FILE INCLUDES #------------------------------------------------------------------------------ # These options allow settings to be loaded from files other than the # default postgresql.conf. #include_dir = 'conf.d' # include files ending in '.conf' from # directory 'conf.d' #include_if_exists = 'exists.conf' # include file only if it exists #include = 'special.conf' # include file #------------------------------------------------------------------------------ # CUSTOMIZED OPTIONS #------------------------------------------------------------------------------ online_analyze.threshold = 50 online_analyze.scale_factor = 0.1 online_analyze.enable = on online_analyze.verbose = off online_analyze.local_tracking = on online_analyze.min_interval = 10000 online_analyze.table_type = 'temporary' online_analyze.verbose='off' plantuner.fix_empty_table='on'</span></span></code> </pre><br>  <b>MS SQL was configured as follows:</b> <br><br> <a href=""><img src="https://habrastorage.org/webt/0r/cl/ug/0rcluggssfopswzldgedbkeuejw.jpeg"></a> <br><br>  and <br><br> <a href=""><img src="https://habrastorage.org/webt/ix/ze/fn/ixzefnuosfvqvs0d46ehaxcgsco.jpeg"></a> <br><br>  Cluster 1C settings were left standard: <br><br> <a href=""><img src="https://habrastorage.org/webt/t-/si/cq/t-sicqekab9xtoezdqy2zdrsu7q.jpeg"></a> <br><br>  and <br><br> <a href=""><img src="https://habrastorage.org/webt/ih/zr/zr/ihzrzrczwqh6h7lhmtko_kcttxw.jpeg"></a> <br></div></div><br>  The servers did not have an antivirus program and nothing else was installed. <br><br>  For MS SQL, the tempdb database was moved to a separate logical disk.  However, the data files and transaction log files for the databases were located on the same logical drive (that is, no separation of the data files and transaction logs into separate logical drives was done). <br><br>  Disk indexing in Windows, where MS SQL Server was located, was disabled on all logical drives (as is commonly done in most cases on prodovskikh environments). <br><br><div class="spoiler">  <b class="spoiler_title">Description of the basic algorithm of the automated testing script</b> <div class="spoiler_text">  The main estimated testing period is 1 year, during which documents and background information are generated for each day using the specified parameters. <br><br>  For each day of execution, the input and output information blocks are started: <br><br><ol><li>  Block 1 "SPR_PTU" - "The receipt of goods and services" <br><ul><li>  The "Counterparts" directory opens. </li><li>  A new element of the "Counterparts" directory is created with the "Supplier" type </li><li>  A new element of the ‚ÄúContracts‚Äù directory is created with the ‚ÄúSupplier‚Äù type for a new counterparty </li><li>  The ‚ÄúNomenclature‚Äù directory opens. </li><li>  A set of elements of the ‚ÄúNomenclature‚Äù directory is created with the ‚ÄúProduct‚Äù type. </li><li>  A set of elements of the ‚ÄúNomenclature‚Äù directory is created with the ‚ÄúService‚Äù view. </li><li>  A list of documents "Income of goods and services" </li><li>  A new document ‚ÄúReceipt of goods and services‚Äù is created in which the tabular parts ‚ÄúGoods‚Äù and ‚ÄúServices‚Äù are filled with the created data sets </li><li>  The report "Account Card 41" for the current month is formed (if the interval of additional formation is indicated) </li></ul><br></li><li>  Block 2 "SPR_RTU" - "Sales of goods and services" <br><br><ul><li>  The "Counterparts" directory opens. </li><li>  A new element of the "Counterparts" directory is created with the "Buyer" view. </li><li>  A new element of the ‚ÄúContracts‚Äù directory is created with the view ‚ÄúWith the buyer‚Äù for a new counterparty </li><li>  A list of documents "Sales of goods and services" </li><li>  A new document ‚ÄúSales of goods and services‚Äù is being created in which the tabular parts ‚ÄúGoods‚Äù and ‚ÄúServices‚Äù are filled in according to the specified parameters from previously created data </li><li>  The report "Account Card 41" for the current month is formed (if the interval of additional formation is indicated) </li></ul></li><li>  The report ‚ÄúAccount Card 41‚Äù for the current month is formed. </li></ol><br>  At the end of each month, in which the creation of documents was performed, the input and output information blocks are executed: <br><br><ol><li>  The report ‚ÄúAccount Card 41‚Äù is formed from the beginning of the year at the end of the month. </li><li>  Formed report "turnover balance sheet" from the beginning of the year at the end of the month </li><li>  Regular procedure ‚ÄúClosing of the month‚Äù is carried out. </li></ol><br>  As a result of the test, information about the test time is given in hours, minutes, seconds and milliseconds. <br><br>  <b>Key features of the test script:</b> <br><br><ol><li>  The ability to disable / enable individual blocks </li><li>  Ability to specify the total number of documents for each of the blocks </li><li>  Ability to specify the number of documents for each of the blocks per day </li><li>  The ability to specify the number of goods and services within the documents </li><li>  Ability to set lists of quantitative and price indicators for the record.  Used to create different sets of values ‚Äã‚Äãin documents. </li></ol><br>  <b>Basic test plan for each database:</b> <br><br><ol><li>  "First Test".<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> A small number of documents with simple tables are created under one user, ‚Äúclosing months‚Äù are formed </font></font><br><ul><li>    ‚Äî 20 .   1 . : 50  ¬´¬ª, 50  ¬´¬ª, 100  ¬´¬ª, 50  ¬´¬ª + ¬´¬ª, 50  ¬´¬ª + ¬´¬ª, 2  ¬´ ¬ª.   1   1  </li></ul><br></li><li> ¬´ ¬ª.          ,    <br><br><ul><li>    ‚Äî 50-60 .   3 . : 90  ¬´¬ª, 90  ¬´¬ª, 540  ¬´¬ª, 90  ¬´¬ª + ¬´¬ª, 90  ¬´¬ª + ¬´¬ª, 3  ¬´ ¬ª.   3   3  </li></ul><br></li><li> ¬´ ¬ª.       .       .       <br><ul><li>    ‚Äî 40-60 .   2 . : 50  ¬´¬ª, 50  ¬´¬ª, 300  ¬´¬ª, 50  ¬´¬ª + ¬´¬ª, 50  ¬´¬ª + ¬´¬ª.   3   3  </li></ul><br></li></ol><br> <b>      :</b> <br><br><ol><li>    ,      : <br><br><ul><li>    </li><li>    </li><li>   ¬´   ¬ª </li></ul></li><li>   ¬´   ¬ª  ¬´   ¬ª    </li><li>       1 "*.dt"      </li><li>    ¬´ ¬ª      </li></ol><br></div></div><br><h3>  results </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> And now the most interesting is the results on MS SQL Server DBMS: </font></font><br><br><div class="spoiler">  <b class="spoiler_title">Details</b> <div class="spoiler_text">  : <br><br> <a href=""><img src="https://habrastorage.org/webt/ku/2w/gm/ku2wgmb85djlfld1ncm-kyxc_b0.jpeg"></a> <br><br>  : <br><br> <a href=""><img src="https://habrastorage.org/webt/sh/ce/8e/shce8esw2a8b9ptcit1z8ib1l2k.jpeg"></a> <br><br>  : <br><br> <a href=""><img src="https://habrastorage.org/webt/ou/ws/cu/ouwscundf5meokqwuzss8ykertc.jpeg"></a> <br><br>    PostgreSQL,  <a href="https://postgrespro.ru/docs/postgrespro/11/config-one-c"></a>  <a href="http://pgconfigurator.cybertec.at/"></a> ,            ,    ,   : <br><br>  : <br><br> <a href=""><img src="https://habrastorage.org/webt/kh/pn/xr/khpnxrfch558vv6d2mymiflwmus.jpeg"></a> <br><br>  : <br><br> <a href=""><img src="https://habrastorage.org/webt/os/b9/sd/osb9sdkhlb_vlvnbkdhcir4iz-a.jpeg"></a> <br><br>  : <br><br> <a href=""><img src="https://habrastorage.org/webt/yb/je/ws/ybjewsijlam2h5btjesqjjfcniw.jpeg"></a> <br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Gilev test: </font></font><br><div class="scrollable-table"><table><tbody><tr><th>  Indicator </th><th> <nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MS SQL</font></font></nobr> </th><th>  PostgreSQL </th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> % difference (improvement) in PostgreSQL DBMS relative to MS SQL DBMS </font></font></th></tr><tr><td> <nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Synthetic test Gilev (average)</font></font></nobr> </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 14.41 </font></font></td><td>  12.55 </td><td> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-14,82</font></font></b> </td></tr><tr><td>  <nobr>Max.</nobr> <nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">speed 1 flow (average)</font></font></nobr> </td><td> <nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">32,404.67 KB / s</font></font></nobr> </td><td> <nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">33 472.67 KB / s</font></font></nobr> </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> +3.3 </font></font></td></tr><tr><td>  <nobr>Max.</nobr> <nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">speed (average)</font></font></nobr> </td><td> <nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">51,744 KB / s</font></font></nobr> </td><td> <nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">86 323.67 KB / s</font></font></nobr> </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> +66.83 </font></font></td></tr><tr><td> <nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recommended number of users (average)</font></font></nobr> </td><td>  42 </td><td>  70 </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> +66.67 </font></font></td></tr></tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As can be seen from the results, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in the general synthetic benchmark, the PostgreSQL DBMS lost an average of 14.82% in performance to the MS SQL DBMS</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">However, according to the last two indicators, PostgreSQL showed a much better result than MS SQL. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Specialized tests for 1C Accounting:</font></font><br><div class="scrollable-table"><table><tbody><tr><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Test description </font></font></th><th> <nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MS SQL, sec</font></font></nobr> </th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> PostgreSQL, sec </font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> % difference (improvement) in PostgreSQL DBMS relative to MS SQL DBMS </font></font></th></tr><tr><td> <nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Script - "First Test"</font></font></nobr> </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 1056.45 </font></font></td><td>  1064 </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -0.7 </font></font></td></tr><tr><td> <nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Script - ‚ÄúSecond Test‚Äù</font></font></nobr> </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 3230,8 </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 3236.6 </font></font></td><td> -0,2 </td></tr><tr><td> <nobr> ‚Äî ¬´ ¬ª</nobr> </td><td> 1707,45 </td><td> 1738,8 </td><td> -1,8 </td></tr><tr><td> <nobr> ‚Äî ¬´ ¬ª (4 )</nobr> </td><td> 1859,1 </td><td> 1864,9 </td><td>  -0,3 </td></tr><tr><td>       </td><td>  thirty </td><td>  22 </td><td> +26,7 </td></tr><tr><td>         01.01.2018  31.12.2018 </td><td> 138,5 </td><td> 164,5 </td><td> -15,8 </td></tr><tr><td>         </td><td>  316 </td><td>  397 </td><td> -20,4 </td></tr><tr><td>       *.dt </td><td>  87 </td><td>  87 </td><td>  0 </td></tr><tr><td>       *.dt </td><td>  201 </td><td>  207 </td><td> -2,9 </td></tr><tr><td>   ¬´    2018 . </td><td>  78 </td><td> 64,5 </td><td> +17,3 </td></tr></tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As can be seen from the results, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1C Accounting works approximately equally on both MS SQL and PostgreSQL</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> with the above settings. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In both cases, the DBMS worked stably. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Of course, you may need more fine tuning from both the DBMS and the OS side and the file system. Everything was done the way the publications were broadcast, which said that there would be a significant performance increase or approximately the same when switching from MS SQL to PostgreSQL. Moreover, in this testing a number of measures were taken to optimize the OS itself and the file system for CentOS, which are described above.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It is worth noting that the Gilev test was run repeatedly for PostgreSQL ‚Äî the best results are given. According to MS SQL, the Gilev test was launched 3 times, that is, they were not further optimized for MS SQL. All subsequent attempts were to bring the elephant to MS SQL. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">After achieving the optimal difference in the Gilev synthetic test between MS SQL and PostgreSQL, specialized tests were conducted for 1C Accounting, as described above. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The general conclusion is that, despite a significant drawdown in performance on the Gilev synthetic test, PostgreSQL DBMS relative to MS SQL, with proper settings given above, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1C Accounting can be installed on both MS SQL DBMS and PostgreSQL DBMS</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><h3>  Remarks </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Immediately it should be noted that this analysis was done only to compare the performance of 1C in different DBMS. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">This analysis and conclusion is correct only for 1C Accounting under the conditions and software versions described above. Based on the analysis obtained, it is impossible to conclude exactly what will happen with other settings and software versions, as well as with a different 1C configuration. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">However, the result of the Gilev test suggests that in all configurations of 1C version 8.3 and newer with proper settings, the maximum performance drawdown is likely to be no more than 15% for PostgreSQL DBMS relative to MS SQL DBMS. It is also worth considering that any detailed testing for accurate comparison takes considerable time and resources. Based on this, it is possible to make a more likely assumption that</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1C version 8.3 and newer can be transferred from MS SQL to PostgreSQL</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> with a maximum performance loss of up to 15%. Objective barriers to the transition were not identified, t to these 15% may not appear, and in the event of their manifestation, it is enough just to buy a little more powerful equipment if necessary. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It is also important to note that the tested databases were small, that is, significantly less than 100 GB of data size, and the maximum number of simultaneously running threads was 4. This means that for large databases that are significantly larger than 100 GB (for example, about 1 TB) , as well as for databases with intensive calls (tens and hundreds of simultaneous active threads), these results may be incorrect.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For a more objective analysis, it will be useful in the future to compare the released MS SQL Server 2019 Developer and PostgreSQL 12 installed on the same CentOS OS, and also when MS SQL is on the latest version of the Windows Server OS. Now, no one puts PostgreSQL on Windows OS, and the PostgreSQL DBMS performance will be very significant.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Of course, the Gilev test speaks in general about performance and not only for 1C. However, at the moment it is time to say that MS SQL DBMS will always be much better than PostgreSQL DBMS early, because there are not enough facts. To confirm or refute this statement, you must do a number of other tests. For example, for .NET you need to write both atomic actions and complex tests, run them repeatedly and under different conditions, fix the execution time and take the average value. After that, compare these values. This will be an objective analysis. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">At the moment we are not ready to conduct such an analysis, but in the future it is quite possible that we will conduct it. Then we will write in more detail at what operations PostgreSQL is better than MS SQL and how much in percents, and where MS SQL is better than PostgreSQL and how many in percents.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Also, in our test, optimization methods for MS SQL, which are described </font></font><a href="https://blogs.msdn.microsoft.com/blogdoezequiel/2011/02/11/best-practices-on-filestream-implementations/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> were not applied </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Perhaps in </font></font><a href="http://infostart.ru/public/962876"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">this article</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> just forgot to turn off the indexing of Windows disks. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">When comparing two DBMS, one more weighty moment must be remembered: PostgreSQL DBMS is free and open, while MS SQL DBMS is paid and has a closed source code.</font></font><br><br><h3>  Acknowledgments </h3><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> set up 1C and run the Gilev tests, and also made a significant contribution to the creation of this publication: </font></font><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Roman Buts - team leader 1C </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Alexander Gryaznov - 1C programmer </font></font></li></ul></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Fortis colleagues who have made significant contributions to optimizing CentOS, PostgreSQL, and more, but have chosen to remain incognito </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Also a special thank you to </font></font><a href="https://habr.com/ru/users/uaggster/" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uaggster</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and </font></font><a href="https://habr.com/ru/users/bp1988/" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BP1988</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> for consultation in some points on MS SQL and Windows.</font></font><br><br><h3>  Afterword </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Also an interesting analysis was done in this </font></font><a href="https://kuharbogdan.com/stati-po-1s/postgresql-vs-ms-sql-dlya-1s/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">article</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">What were your results and how did you do the testing?</font></font><br><br><h3>  Sources </h3><br><ul><li> <a href="https://www.postgresql.org/docs/10/index.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PostgreSQL 10.9 Documentation</font></font></a> </li><li> <a href="https://postgrespro.ru/docs/postgrespro/10/index"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Postgres Pro Standard 10.7.1 Documentation</font></font></a> </li><li> <a href="http://infostart.ru/public/962876"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1C Battle: PostgreSQL 9.10 vs MS SQL 2016</font></font></a> </li><li> <a href="http://www.gilev.ru/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gilev test</font></font></a> </li><li> <a href="https://postgrespro.ru/docs/postgrespro/11/config-one-c"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Appendix I. Configuring Postgres Pro for 1C Solutions</font></font></a> </li><li> <a href="http://pgconfigurator.cybertec.at/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cybertec PostgreSQL Configurator</font></font></a> </li><li> <a href="https://kuharbogdan.com/stati-po-1s/postgresql-vs-ms-sql-dlya-1s/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PostgreSQL vs MS SQL for 1C</font></font></a> </li><li> <a href="https://www.2ndquadrant.com/en/blog/basics-of-tuning-checkpoints/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Basics of Tuning Checkpoints</font></font></a> </li><li> <a href="https://pgday.ru/files/pgmaster14/ilya.kosmodemiansky.linux.postgresql.tuning.pdf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PostgreSQL tuning for high performance</font></font></a> </li><li> <a href="https://www.youtube.com/watch%3Fv%3DV0M6YwWmMYM"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ilya Kosmodemyansky: ‚ÄûLinux tuning to improve PostgreSQL performance‚Äú</font></font></a> </li><li> <a href="https://www.youtube.com/watch%3Fv%3DZP-w0iu-yJw"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">How PostgreSQL works with disk / Ilya Kosmodemyansky (PostgreSQL Consulting)</font></font></a> </li><li> <a href="https://efsol.ru/articles/performance-1s-postgre-ms-sql.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1C performance comparison when using PostgreSQL and MS SQL DBMS</font></font></a> </li><li> <a href="https://its.1c.ru/db/metod8dev"> PostgreSQL    1: .</a>  <a href="https://its.1c.ru/db/metod8dev">Part 2</a> </li></ul></div><p>Source: <a href="https://habr.com/ru/post/457602/">https://habr.com/ru/post/457602/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../457592/index.html">This is all that remains after you: the forensic artifacts of the Troldesh cipher clerk (Shade)</a></li>
<li><a href="../457596/index.html">OSDay 19 or why is the C language still alive?</a></li>
<li><a href="../4576/index.html">Firefox 2: Safer, Faster, Better</a></li>
<li><a href="../45760/index.html">IT outsourcing for the segment of small and medium enterprises - why is it needed?</a></li>
<li><a href="../457600/index.html">Snom A150, Snom A100M and D Headset Overview</a></li>
<li><a href="../457608/index.html">How to visualize data in a compelling story</a></li>
<li><a href="../457614/index.html">Secrets of finding a job abroad from a practicing headhunter</a></li>
<li><a href="../457616/index.html">My ‚ÄúWow, I didn't know that!‚Äù Moments with Jest</a></li>
<li><a href="../457618/index.html">Being a contemporary full-developer</a></li>
<li><a href="../45762/index.html">The golden era of Linux?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>