<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>From STUPID code to SOLID code</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Last week, I gave a talk on object-oriented programming in Michelin, in the company where I work. I talked about writing more efficient code, from STU...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>From STUPID code to SOLID code</h1><div class="post__text post__text-html js-mediator-article">  Last week, I gave a talk on <a href="https://en.wikipedia.org/wiki/Object-oriented_programming">object-oriented programming</a> in Michelin, in the company where I work.  I talked about writing more efficient code, <a href="http://williamdurand.fr/from-stupid-to-solid-code-slides/">from STUPID code to SOLID code</a> !  STUPID, as well as <a href="http://en.wikipedia.org/wiki/SOLID_(object-oriented_design)">SOLID</a> are acronyms, and have been considered quite a lot for a long time.  However, these mnemonics are not always known, so it makes sense to spread this information. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c95/d04/8e2/c95d048e2b2e8d8dd59362f06bed2fa7.png" alt="image"><br><br>  Next, I will introduce you to the principles of STUPID and SOLID.  <i>It should be borne in mind that these are principles, not laws.</i>  However, considering them as laws would be good for those who want to improve in writing code. <br><a name="habracut"></a><br><h3>  STUPID code, seriously? </h3><br>  This may hurt your feelings, but you probably already wrote a lot of STUPID code.  So do I.  But what does it mean? 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  Singleton </li><li>  Strong Coupling </li><li>  Impossibility of testing </li><li>  Premature optimization </li><li>  Non-descriptive naming </li><li>  Code duplication </li></ul><br>  Below in the text I will focus on each item in more detail.  This can be said, the transcripts of my story in general terms. <br><br><h3>  Singleton </h3><br>  The loner template is probably the most well-known design pattern, as well as the most underrated.  Do you know about loner syndrome?  This is when you think that the ‚Äúsingleton‚Äù template is the most suitable template for the current use case that you have.  In other words, you use it everywhere.  This is definitely not cool. <br><br>  Single elements are contradictory, and they are often considered erroneous patterns.  You should avoid them.  In fact, using singleton is not a problem, but a sign of a problem.  Here are two reasons why: <br><br><ul><li>  Programs that use the global state are very difficult to test; </li><li>  Programs that depend on the global state hide their dependencies. </li></ul><br><br>  But should you really avoid them all the time?  I would say yes, because it is often possible to replace the use of a singleton with something better.  Avoiding everything static is very important to prevent strong cohesion. <br><br><h3>  Strong connectivity </h3><br>  <a href="https://ru.wikipedia.org/wiki/%25D0%2597%25D0%25B0%25D1%2586%25D0%25B5%25D0%25BF%25D0%25BB%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5_(%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5)">Strong connectedness</a> is a generalization of the singleton problem.  In short, you should reduce the connection between your modules.  Connectivity is a measure of how subroutines or modules are related. <br><br>  If making a change in one module in your application requires that you change another module, then there is a connection.  For example, you instantiate objects in your constructor class instead of passing instances as parameters.  This is bad because it does not allow further changes, such as replacing an instance with an instance of a subclass, with a mock object or whatever. <br><br>  Strongly connected modules are difficult to reuse, and also difficult to test. <br><br><h3>  Impossibility of testing </h3><br>  In my opinion, testing should not be difficult!  No, really.  Every time you do not write unit tests, because you don‚Äôt have time, the real problem is that your code is not that efficient, but this is another story. <br><br>  In most cases, the impossibility of testing is caused by strong coupling. <br><br><h3>  Premature optimization </h3><br>  Donald Erwin Knuth said: ‚ÄúPremature optimization is the root of all evil.  Only costs alone, no good. ‚Äù  In fact, optimized systems are much more complicated than simply writing a cycle or using a pre-increment instead of post-increment.  Ultimately, you will be left with an unreadable code.  That is why <i>Premature Optimization is</i> often considered erroneous. <br><br>  My friend often says that there are two rules for optimizing an application: <br><br><ul><li>  Do not do this; </li><li>  (for professionals only!) Don't do it yet. </li></ul><br><br><h3>  Non-descriptive naming </h3><br>  It should be obvious, but you still have to say it: name your classes, methods, attributes, and variables properly.  Oh, and do not cut them!  And yes, you write code for people, not machines.  They don't understand what you are writing, anyway.  Computers understand only 0 and 1. Programming languages ‚Äã‚Äãare meant for people. <br><br><h3>  Code duplication </h3><br>  Duplicate code is inefficient, so do not repeat, and also make it shorter and easier.  Write the code only once! <br><br>  Now that I have explained what the STUPID code is, you might think that your code is STUPID.  It does not matter (yet).  Do not be discouraged, keep calm and write the SOLID code instead! <br><br><h3>  SOLID to the rescue </h3><br>  SOLID is a term that describes a set of design principles for efficient code, which was invented by Robert C. Martin, also known as Uncle Bob. <br><br>  SOLID means: <br><br><ul><li>  Principle of sole duty </li><li>  Principle of openness / closeness </li><li>  Barbara Liskov substitution principle </li><li>  Interface separation principle </li><li>  Dependency Inversion Principle </li></ul><br><br><h3>  Principle of sole duty </h3><br>  The principle of a single duty (Single-Responsibility Principle, SRP) states that a single duty must be assigned to each class.  A class should have only one reason to change. <br><br>  Just because you can add whatever you want to your class does not mean that you have to do it.  Responsibilities will help you develop the application better.  Ask yourself if the logic you represent should be in this class or not.  Using levels in the app helps a lot.  Divide the large classes into smaller ones and avoid the ‚Äú <i>divine</i> ‚Äù classes.  Last but not least, write simple comments.  If you start writing comments such as <b>in this case, but if, except when, or,</b> then you do it wrong. <br><br><h3>  Principle of openness / closeness </h3><br>  The principle of openness / closeness (Open / Closed Principle, OCP): Entities (classes, modules, functions, etc.) must be open for expansion, but closed for modification. <br><br>  You must make all <b>private</b> instance variables by default.  Write get and set methods only when you really need them.  I have already answered this question in a previous article, since the ninth rule of <a href="http://williamdurand.fr/2013/06/03/object-calisthenics/">Object Gymnastics is associated with this principle.</a> <br><br><h3>  Barbara Liskov substitution principle </h3><br>  Liskov Substitution Principle (LSP): It should be possible to substitute any subtype instead of the base type. <br>  Let's take an example.  A rectangle is a flat figure with four right angles.  It has width (width) and height (height). <br><br>  Now, take a look at the following pseudo-code: <br><pre><code class="objectivec hljs">rect = new Rectangle(); rect.width = <span class="hljs-number"><span class="hljs-number">10</span></span>; rect.height = <span class="hljs-number"><span class="hljs-number">20</span></span>; assert <span class="hljs-number"><span class="hljs-number">10</span></span> == rect.width assert <span class="hljs-number"><span class="hljs-number">20</span></span> == rect.height</code> </pre> <br>  We simply set the <i>width</i> and height to the <i>height of</i> the <b>Rectangle</b> instance, and then we confirm that both properties are correct.  So far, so good. <br><br>  Now we can improve our definition by saying that a rectangle with four sides of the same length is called a square.  The square is a rectangle, so we can create the Square class, which extends the Rectangle class, and replace the first line above with the bottom: <br><pre> <code class="objectivec hljs">rect = new Square();</code> </pre><br>  According to the definition of a square, its width is equal to its height.  Can you identify the problem?  The first statement will stop working because we had to change the behavior of the set methods in the Square class to fit the definition.  This is a violation of the Barbara Liskov principle of substitution. <br><br><h3>  Interface separation principle </h3><br>  Interface Segregation Principle or ISP: many specialized interfaces are better than one universal.  In other words, you don‚Äôt have to implement methods that you don‚Äôt use.  Implementing the ISP gives weak connectivity and strong connectivity. <br><br>  When it comes to connectedness, connectivity is also often mentioned.  Strong connectivity means keeping similar and related elements together.  The union of connectivity and connectedness is an orthogonal structure. <br><br>  The idea is to keep the components oriented, and try to minimize the dependencies between them. <br><br>  Please note that this is similar to the principle of the only duty.  Interface - a contract that meets the needs.  It is normal to have a class that implements different interfaces, but be careful not to break SRP. <br><br><h3>  Dependency Inversion Principle </h3><br>  Dependency Inversion Principle (DIP) has two main principles: <br><br><ul><li>  Abstractions should not depend on the details. </li><li>  Details must depend on abstractions. </li></ul><br><br>  This principle can be rephrased as using the same level of abstraction at a given level.  Interfaces must depend on other interfaces.  Do not add specific classes to interface method signatures.  However, use interfaces in your class methods. <br><br>  Note that the principle of dependency inversion does not coincide with dependency injection.  Dependency injection is when one object knows about another dependent object.  In other words, it‚Äôs about how one object gets addicted.  On the other hand, the principle of dependency injection is in the level of abstraction.  In addition, a dependency injection container is a way to automatically join classes.  This does not mean that you are doing dependency injection though.  For example, take a look at the <a href="http://en.wikipedia.org/wiki/Service_locator_pattern">Service Locator</a> . <br><br>  Also, instead of working with classes that are tightly coupled, use interfaces.  This is called <a href="http://www.fatagnus.com/program-to-an-interface-not-an-implementation/">interface programming</a> .  It reduces the dependence on implementation features and allows code reuse.  It also ensures that you can replace the implementation without violating the expectations of that interface, according to the Barbara Liskov Substitution Principle. <br><br><h3>  Conclusion </h3><br>  As you may have noticed, avoiding strong connectivity here is a key element.  There is a large amount of code here, and if you start by focusing on fixing it alone, then you will immediately start writing the best code. <br><br>  Here's a tip for you.  There are many principles in software development.  Even if you do not understand all these principles, always think before writing code.  Take your time, and try to understand what you do not understand. <br><br>  Honestly, writing a <b>SOLID</b> code is not that difficult. <br><br>  TL; DR <br><br>  <b>STUPID</b> is an acronym that describes a bad experience in Oriented Object Programming: <br><br><ul><li>  Singleton </li><li>  Strong bonding </li><li>  Impossibility of testing </li><li>  Premature optimization </li><li>  Non-descriptive naming </li><li>  Code duplication </li></ul><br><br>  <b>SOLID</b> is an acronym for five basic principles of object-oriented programming and design and engineering to correct <b>STUPID</b> code: <br><br><ul><li>  Principle of sole duty </li><li>  Principle of openness / closeness </li><li>  Barbara Liskov substitution principle </li><li>  Interface separation principle </li><li>  Dependency Inversion Principle </li></ul><br><br>  <b>Golden Rule: Turn on your brains!</b> </div><p>Source: <a href="https://habr.com/ru/post/273843/">https://habr.com/ru/post/273843/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../273827/index.html">Let's Encrypt in a Plesk Panel</a></li>
<li><a href="../273835/index.html">IBM Watson will help treat children with rare diseases</a></li>
<li><a href="../273837/index.html">Development on the Yii2 framework on the IBM Bluemix platform</a></li>
<li><a href="../273839/index.html">Optimization killers</a></li>
<li><a href="../273841/index.html">Thread support in Mail.Ru Mail Android application: we are achieving complete sync</a></li>
<li><a href="../273845/index.html">Welcome to Tarantool meetup January 28</a></li>
<li><a href="../273847/index.html">The digest of news from the world of development on Unity</a></li>
<li><a href="../273849/index.html">Static time analysis demystified</a></li>
<li><a href="../273851/index.html">The phase shift signal on VHDL</a></li>
<li><a href="../273859/index.html">Alljoyn: embedded view of the developer. Part 1: Introduction</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>