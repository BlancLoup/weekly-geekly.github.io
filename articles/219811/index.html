<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The advantage of the new configuration DELL PE R920 with SSDs on NVME EXPRESS FLASH PCIE</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Performance is the most important quality for companies working with programs on an Oracle database, which requires low latency from the storage subsy...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The advantage of the new configuration DELL PE R920 with SSDs on NVME EXPRESS FLASH PCIE</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c3a/bd9/f6e/c3abd9f6e0a252d59350e0aaaf2a24e0.jpg"></div><br><br>  Performance is the most important quality for companies working with programs on an Oracle database, which requires low latency from the storage subsystems and the maximum number of I / O operations per second.  Thus, <a href="http://www.saronit.ru/catalog/servers">it is important to choose a server</a> not only with the latest processor technology and a large amount of RAM, but also with the possibility of upgrades to ensure a high level of service.  The new Dell PowerEdge R920 server with the Intel¬Æ Xeon processor E7 v2 family delivers the performance you need for mission-critical applications.  With the help of NVMe Express Flash PCIe solid-state drives, you can raise server performance to a new level. <br><br>  In our test lab, we tested two Dell PowerEdge R920 servers with an Oracle Database 12c database with OLTP TPC-C workloads, the first in a configuration with standard serial SCSI (SAS) hard drives, the second with NVMe Express Flash PCIe solid-state drives.  The updated configuration with PCIe solid-state drives has increased database performance by 14.9 times compared to hard drives.  While the basic configuration provides good server performance, NVMe Express Flash PCIe solid-state drives can significantly improve it, becoming a profitable investment for businesses seeking to meet the requirements of Oracle database users. <br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  UPDATED, DATABASE PRODUCTIVITY drastically increases </h2><br><br>  Dell PowerEdge R920 with an Intel Xeon processor family E7 v2 is the fastest 4-socket Dell server with a 4U form factor.  Dell has designed it for mission-critical workloads, such as enterprise resource planning (ERP), e-commerce, full-scale virtualization, and large databases.  The standard configuration includes 24 2.5-inch drive bays and supports up to 24 SAS hard drives.  Configuration with NVMe Express Flash PCIe solid-state drives supports up to eight PCIe solid-state drives and up to 16 SAS hard drives in the remaining bays.  This provides a maximum speed of eight high-performance disks and a large storage capacity on 16 SAS disks. <br><br>  Although the <a href="http://www.saronit.ru/catalog/dell-servers">Dell PowerEdge</a> R920 server in its standard configuration supports the Oracle database well, we wanted to know how to change performance when using NVMe Express Flash PCIe solid-state drives.  To do this, we used a performance evaluation program testing the effectiveness of many leading databases.  As shown in Fig.  1 in the second configuration, the performance of the Oracle database increases dramatically, the Dell PowerEdge R920 server with NVMe Express Flash PCIe solid-state drives works almost 15 times more efficiently than in the first configuration with SAS hard drives.  It should be noted that in the updated configuration, high efficiency was achieved using only one-third of the disks (eight solid-state drives versus 24 SAS disks in the base configuration). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/25c/f47/d6a/25cf47d6ac70f65c354d15739df3d980.png"></div><br>  <b>Fig.1</b> A significant performance difference was found between the two server configurations. <br><br>  We have given only comparative results, because Oracle does not allow publishing specific results of comparative testing.  However, even in the basic configuration, the server showed good results. <br><br>  In <b>fig.</b>  Figure <b>2</b> shows the performance improvements captured with HammerDB for various I / O workloads.  To demonstrate the performance under different I / O workloads, we changed the fast_start_mttr_target parameter in Oracle to use three different parameter options ‚Äî 60 seconds, 120 seconds, and 180 seconds, and then conducted a comparative test with each parameter.  The settings of the fast_start_mttr_target parameter allow you to set the number of seconds that the database will spend on recovery after a crash.  The sooner this happens, the sooner the database is restored and becomes available to users.  With a shorter recovery time, for example, 60 seconds, the database instance should more often flush the contents of the buffer to disk, creating a high load on I / O operations on the storage subsystem.  With a longer recovery time, for example, 180 seconds, the I / O load is less on the storage subsystem. <br><br>  As shown in <b>Figure 2, the</b> Dell PowerEdge R920 server in a PCIe solid-state drive configuration is better at handling I / O loads in all three cases.  With reduced recovery time, the performance advantage of NVMe Express Flash PCIe SSDs over SAS hard drives increases.  While the <a href="http://www.saronit.ru/catalog/dell-servers">PowerEdge</a> R920 <a href="http://www.saronit.ru/catalog/dell-servers">server</a> in the basic configuration with SAS hard drives showed good results, higher performance is fixed in the configuration with NVMe Express Flash PCIe solid-state drives. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9b2/00d/58f/9b200d58fda26c9658fc5dcebd393e00.png"></div><br>  <b>Fig.</b>  <b>2</b> Relative results of the advantages of configuration with PCIe solid-state drives over the base configuration, recorded with the help of HammerDB <br><br>  In both of the tested configurations, we used the Oracle-recommended Automatic Storage Management (ASM) storage management approach.  On each server, we configured primary storage for redundancy, which would be required in almost any environment.  Oracle ASM provides three levels of redundancy: Normal with two-channel copying, High with three-channel copying and External without copying, but providing redundancy with hardware RAID controllers.  In the base configuration with the Dell PowerEdge RAID Controller (PERC) H730P, we used RAID 1 disk groups and External redundancy levels.  In the configuration with PCIe solid-state drives in the absence of a RAID controller, we used the normal redundancy level of Oracle ASM with two-channel copying. <br><br><h4>  I / O Acceleration Value </h4><br>  Improved storage performance after upgrading an Oracle database with NVMe Express PCIe solid-state drives can benefit the company in some cases: <br><ul><li>  Improved terms of service agreement by reducing database response time and / or supporting more users. </li><li>  Reduced recovery time in case of failure </li><li>  Reduced database maintenance time </li><li>  Increased user satisfaction </li><li>  Reduced cost by getting rid of poor performance hardware </li></ul><br><br><h2>  PERFORMANCE OF INPUT AND OUTPUT OPERATIONS ALSO GROWN STRONGLY </h2><br>  In addition to database performance, we analyzed the I / O performance of NVMe Express Flash PCIe solid-state drives versus SAS drives.  To measure I / O operations in two server configurations, we used the Flexible I / O program, also known as Fio.  Figure 3 shows the results: in both tests, the <a href="http://www.saronit.ru/catalog/dell-servers">Dell</a> PowerEdge R920 server with NVMe Express Flash PCIe solid-state drives was significantly superior in performance to the basic configuration with SAS hard drives. <br>  Note that a random write in the amount of 313,687 I / O operations per second approximately represents the copied configuration.  The cumulative number of output operations of the combined devices was doubled, then we divided it into two to reflect the ASM configuration at the normal level of two-channel copying that we used in testing.  We ran Fio tests in a non-copy configuration, since the PCIe bus does not have RAID capabilities.  We divided the results, 627,374 I / O operations per second, into two, to get approximate results of copying entries in a RAID 1 array. See <b>Appendix B for a</b> detailed description of the configuration. <br><br>  <i>Unlike database performance, including the load generated by applications, queues, and software, I / O performance shows the ability of the storage subsystem to process data, and often it is many times greater than database performance.</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ea7/b5c/eac/ea7b5ceacf45f42726d504b0053f1a9e.png"></div><br>  <b>Fig.3.</b>  Fio benchmarking results  A large number of I / O operations per second is preferred.  The number of write operations for NVMe was 627,374, we divided the result by two, to mathematically bring it closer to the result of copying. <br><br><h2>  ABOUT TESTED COMPONENTS </h2><br><br><h4>  About Dell PowerEdge R920 </h4><br>  The Dell PowerEdge R920 server is the fastest 4-socket Dell socket server with 4U form factor. <br>  The server is designed with the possibility of increasing productivity for large enterprises, it supports: <br><ul><li>  Up to 96 DIMMs </li><li>  24 internal drives </li><li>  8 NVMe Express Flash drives (with optional PCIe backplane) </li><li>  10 PCIe Gen3 / Gen2 slots </li><li>  SAS disks 12GB / s </li></ul><br>  The server configuration also offers dual controller Dual PERC option, PERC9 (H730P), Fluid Cache for the SAN environment, and many RAS functions (reliability, availability, ease of use) such as Fault Resilient Memory and Intel Run Sure technology. <br><br><h4>  Using the Intel Xeon processor family E7 v2 </h4><br>  The PowerEdge R920 server uses the new Intel Xeon processor E7 v2 family, designed by Intel to maintain high performance critical missions by adding 50% more cores / threads and 25% more cache memory, which provides a significant performance boost over previous models .  The Intel Xeon processor family E7 v2 supports up to 6TB of DDR3 memory, up to 24 DDR3 DIMM memory modules per slot and speeds up to 1,600 MHz for improved performance and increased scalability. <br><br>  The Intel Xeon processor family E7 v2 supports all the features of reliability, performance and ease of use present in previous models to support mission-critical workloads.  With Intel Run Sure technology, this processor has gained new features including eMCA Gen 1, MCA Recovery Execution Path, MCA I / O and PCIe Live Error Recovery. <br><br><h4>  Maintenance of labor intensive workloads </h4><br>  The PowerEdge R920 server can handle time-consuming, mission-critical workloads, enterprise resource planning (ERP), e-commerce, full-scale virtualization, and very large databases.  It is particularly suitable for the following workloads and environments: <br><ul><li>  Acceleration of large corporate-wide programs ((ERP, CRM, Business Intelligence) </li><li>  The introduction of large traditional databases or databases located in memory </li><li>  Combine enterprise workloads with full-scale virtualization </li><li> Switching from expensive and outdated RISC hardware to a promising data center </li></ul><br>  <i>For more information on the Dell PowerEdge R920 server, visit <a href="http://www.dell.com/us/business/p/poweredge-r920/pd">www.dell.com/us/business/p/poweredge-r920/pd</a> .</i> <br><br><h4>  About Dell PowerEdge with NVMe Express Flash PCIe Solid State Drives </h4><br>  Dell PowerEdge server with NVMe Express Flash PCIe solid-state drives is the ideal high-performance storage for solutions that require low latency, maximum I / O operations per second, and enterprise-class storage reliability.  A PCIe Gen3-compatible NVMe Express Flash PCIe solid-state drive can be used as a cache memory or main storage device in a labor-intensive corporate environment, such as blade and <a href="http://www.saronit.ru/catalog/servers">rack servers</a> , video-on-demand servers, web accelerators, virtualization devices. <br><br>  NVM Express is an optimized, high-performance, scalable main controller interface with an enhanced register interface and a set of non-volatile memory (NVM) commands.  It is designed for enterprises, data centers, client systems using PCIe solid-state drives. <br><br>  According to the NVMHCI Work Group, a group of more than 90 companies involved in storage, ‚ÄúNVM Express significantly improves random and consistent performance by reducing latency, providing high levels of duplication and command set optimization, maintaining security, continuous data protection and other functions in which needs user.  NVM Express guarantees a standards-based approach, providing ecosystem support and PCIe solid state compatibility. <br><br>  <i>Details about the Dell PowerEdge server with NVMe Express Flash PCIe solid-state drives can be found at <a href="http://www.dell.com/learn/us/en/04/campaigns/poweredge-express-flash">www.dell.com/learn/us/en/04/campaigns/poweredge-express-flash</a> .</i> <i><br></i>  <i>Details on the NVM Express interface can be found at <a href="http://www.nvmexpress.org/">www.nvmexpress.org</a> .</i> <br><br><h2>  CONCLUSION </h2><br>  High server performance is a prerequisite for companies working with Oracle Database.  The new Dell PowerEdge R920 server provides high performance in a basic configuration with 24 SAS hard drives, but its performance increases significantly with the connection of NVMe Express Flash PCIe solid-state drives.  When testing, the updated Dell PowerEdge R920 configuration increased the performance of the basic configuration by 14.9 times.  In addition, when testing I / O performance, the configuration with NVMe Express Flash PCIe solid-state drives surpassed the performance of the basic configuration by 192.8 times.  Considering that the storage subsystem is critical in servers and in particular in database applications, increasing performance using NVMe Express Flash PCIe solid-state drives can be a profitable investment and lead to a significant increase in the level of services. <br><br><h2>  APPENDIX A - SERVER CONFIGURATION INFORMATION </h2><br>  In Fig.  4 provides information on the configuration of the systems under test. <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/202/48c/4b7/20248c4b75a684cc4aacac1beabc7e94.png"></div><br>  In Fig.  4 provides information on the configuration of the systems under test. <br><br><h2>  APPENDIX B - TEST METHODOLOGY </h2><br><h4>  About Testing Tools </h4><br><h5>  Hammer DB </h5><br>  HammerDB is a publicly available program for testing the performance of many leading databases, including Oracle Database, Microsoft¬Æ SL Server¬Æ, PostgreS-L, MyS-L ‚Ñ¢, and others.  The assessment includes two embedded workloads derived from estimates adopted as an industry standard: transactional (TPC-C) workload and (TPCH) data warehouse workload.  For this test, we used transactional workload.  Our tests are not official TPC results and cannot be compared.  For more information about HammerDB, see hammerora.sourceforge.net. <br><br><h5>  Flexible I / O (Fio) 2.1.4 </h5><br>  Fio is a publicly available I / O tool used to load hardware and get results in IOPS (number of I / O operations per second).  We downloaded and used for testing Fio 2.1.4 (pkgs.repoforge.org/fio/fio-2.1.4-1.el6.rf.x86_64.rpm). <br><br><h5>  Configuration overview </h5><br>  We used all eight drives in the SSD configuration for random read and write and 20 SAS drives in 10 dual-drive RAID 1 configurations. Thus, the SAS configuration includes 10 dual-drive groups, while the SSD configuration includes eight single-drive groups.  The reason for this configuration is that SSDs do not have a RAID controller, unlike SAS drives.  For Oracle testing, we set these configurations in Automatic Storage Management, so we ran Fio to reflect the Oracle configuration.  This made it possible to simulate a disk configuration with a database for testing.  For Fio, we used a block size of 8k to simulate an Oracle database configuration. <br><br><h5>  Configuring Red Hat Enterprise Linux and Oracle Database 12c </h5><br>  We installed Red Hat Enterprise Linux on both Dell PowerEdge R920 servers and configured the settings as instructed below.  The data displayed on the screen is displayed on a gray background. <br><br><h5>  Installing Red Hat Enterprise Linux </h5><br>  We installed Red Hat Enterprise Linux on an Intel server, and then configured the settings as instructed below. <br><ul><li>  Insert the Red Hat Enterprise Linux 6.5 DVD into the server and download it. </li><li>  Select Install or upgrade your existing system. </li><li>  When in doubt about the quality of the installation disk, select OK to check the installation media, otherwise select Skip. </li><li>  In the window that opens, click Next. </li><li>  Select the desired language, click Next. </li><li>  Select a keyboard layout, click Next. </li><li>  Select the primary storage devices, click Next. </li><li>  Click Yes, reset any data in the storage alert window. </li><li>  Enter the host name, click Next. </li><li>  Select the nearest city by time zone and click Next. </li><li>  Enter the root password, click Next. </li><li>  Select Create Custom Layout, click Next. </li><li>  Select the installation disk and click Create.  (Create the following arrays: Root = 300GB, Home = 500GB, Boot = 200MB, SWAP = 20GB). </li><li>  Click Next. </li><li>  In the pop-up window, click Write changes to disk. </li><li>  Select the appropriate storage device and directory for the bootloader, click Next. </li><li>  Select the primary server software, click Next.  The Linux installation begins. </li><li>  After the installation is complete, select Reboot to restart the server. </li></ul><br><br><h5>  Setting the initial configuration </h5><br>  Perform the following steps to provide the basic functionality required by the Oracle Database.  We completed all these tasks as root. <br><br><div class="spoiler">  <b class="spoiler_title">Disable SELINUX</b> <div class="spoiler_text">  vi / etc / selinux / config <br>  SELINUX = disabled </div></div><br><div class="spoiler">  <b class="spoiler_title">Set the type of CPU governor</b> <div class="spoiler_text">  vi / etc / sysconfig / cpuspeed <br>  GOVERNOR = performance </div></div><br><div class="spoiler">  <b class="spoiler_title">Disable the firewall for IPv4 and IPv6.</b> <div class="spoiler_text">  chkconfig iptables off <br>  chkconfig ip6tables off </div></div><br><div class="spoiler">  <b class="spoiler_title">To update the operating system packages, enter the following:</b> <div class="spoiler_text">  yum update ‚Äìy </div></div><br><div class="spoiler">  <b class="spoiler_title">To install additional packages, specify the following commands:</b> <div class="spoiler_text">  yum install -y acpid cpuspeed wget vim nfs-utils openssh-clients man <br>  lsscsi unzip smartmontools numactl ipmitool OpenIPMI </div></div><br><div class="spoiler">  <b class="spoiler_title">To install additional packages, specify the following commands:</b> <div class="spoiler_text">  yum install -y acpid cpuspeed wget vim nfs-utils openssh-clients man <br>  lsscsi unzip smartmontools numactl ipmitool OpenIPMI </div></div><br><div class="spoiler">  <b class="spoiler_title">Reboot the server.</b> <div class="spoiler_text">  Reboot </div></div><br><div class="spoiler">  <b class="spoiler_title">Install additional packages with the following commands:</b> <div class="spoiler_text">  yum install -y \ <br>  binutils \ <br>  compat-libcap1 \ <br>  compat-libstdc ++ - 33 \ <br>  compat-libstdc ++ - 33.i686 \ <br>  gcc \ <br>  gcc-c ++ \ <br>  glibc \ <br>  glibc.i686 \ <br>  glibc-devel \ <br>  glibc-devel.i686 \ <br>  ksh \ <br>  libgcc \ <br>  libgcc.i686 \ <br>  libstdc ++ \ <br>  libstdc ++. i686 \ <br>  libstdc ++ - devel \ <br>  libstdc ++ - devel.i686 \ <br>  libaio \ <br>  libaio.i686 \ <br>  libaio-devel \ <br>  libaio-devel.i686 \ <br>  libXext \ <br>  libXext.i686 \ <br>  libXtst \ <br>  libXtst.i686 \ <br>  libX11 \ <br>  libX11.i686 \ <br>  libXau \ <br>  libXau.i686 \ <br>  libxcb \ <br>  libxcb.i686 \ <br>  libXi \ <br>  libXi.i686 \ <br>  make \ <br>  sysstat \ <br>  unixODBC \ <br>  unixODBC-devel \ <br>  xorg-x11-xauth \ <br>  xorg-x11-utils </div></div><br><div class="spoiler">  <b class="spoiler_title">Edit the sysctl file.</b> <div class="spoiler_text">  vim /etc/sysctl.conf <br>  fs.file-max = 6815744 <br>  kernel.sem = 250 32000 100 128 <br>  kernel.shmmni = 4096 <br>  kernel.shmall = 1073741824 <br>  kernel.shmmax = 4398046511104 <br>  net.core.rmem_default = 262144 <br>  net.core.rmem_max = 4194304 <br>  net.core.wmem_default = 262144 <br>  net.core.wmem_max = 1048576 <br>  fs.aio-max-nr = 1048576 <br>  net.ipv4.ip_local_port_range = 9000 65500 <br>  vm.nr_hugepages = 262144 <br>  vm.hugetlb_shm_group = 54321 </div></div><br><div class="spoiler">  <b class="spoiler_title">Apply the changes with the following command:</b> <div class="spoiler_text">  sysctl -p </div></div><br><div class="spoiler">  <b class="spoiler_title">Edit the configuration of security related restrictions:</b> <div class="spoiler_text">  vim /etc/security/limits.conf <br>  oracle soft nofile 1024 <br>  oracle hard nofile 65536 <br>  oracle soft nproc 2047 <br>  oracle hard nproc 16384 <br>  oracle soft stack 10240 <br>  oracle hard stack 32768 <br>  oracle soft memlock 536870912 <br>  oracle hard memlock 536870912 </div></div><br><div class="spoiler">  <b class="spoiler_title">Add the necessary groups and users:</b> <div class="spoiler_text">  groupadd -g 54321 oinstall <br>  groupadd -g 54322 dba <br>  groupadd -g 54323 oper <br>  useradd -u 54321 -g oinstall -G dba, oper oracle </div></div><br><div class="spoiler">  <b class="spoiler_title">Change the password for the Oracle user:</b> <div class="spoiler_text">  passwd oracle <br>  Changing password for user oracle. <br>  New password: <br>  Retype new password: <br>  passwd: all authentication tokens updated successfully. </div></div><br><div class="spoiler">  <b class="spoiler_title">Edit the hosts file:</b> <div class="spoiler_text">  vim / etc / hosts <br>  127.0.0.1 R920 R920.localhost.localdomain localhost <br>  localhost.localdomain localhost4 localhost4.localdomain4 <br>  :: 1 R920 R920.localhost.localdomain localhost <br>  localhost.localdomain localhost6 localhost6.localdomain6 </div></div><br><div class="spoiler">  <b class="spoiler_title">Edit the 90-nproc.conf file:</b> <div class="spoiler_text">  vim /etc/security/limits.d/90-nproc.conf <br>  Change the line: <br>  * soft nproc 1024 <br>  on: <br>  * - nproc 16384 </div></div><br><div class="spoiler">  <b class="spoiler_title">Edit the parameter file to set the environment variables:</b> <div class="spoiler_text">  vim /home/oracle/.bash_profile <br>  # Oracle Settings <br>  export TMP = / tmp <br>  export TMPDIR = TMP <br>  export ORACLE_HOSTNAME = R920.localhost.localdomain <br>  export ORACLE_BASE = / home / oracle / app / oracle <br>  export GRID_HOME = ORACLE_BASE / product / 12.1.0 / grid <br>  export DB_HOME = ORACLE_BASE / product / 12.1.0 / dbhome_1 <br>  export ORACLE_HOME = DB_HOME <br>  export ORACLE_SID = orcl <br>  export ORACLE_TERM = xterm <br>  export BASE_PATH = / usr / sbin: PATH <br>  export PATH = ORACLE_HOME / bin: BASE_PATH <br>  export LD_LIBRARY_PATH = ORACLE_HOME / lib: / lib: / usr / lib <br>  export CLASSPATH = ORACLE_HOME / JRE: ORACLE_HOME / jlib: ORACLE_HOME / rdbms / jlib <br>  alias grid_env = '.  / home / oracle / grid_env ' <br>  alias db_env = '.  / home / oracle / db_env ' </div></div><br><div class="spoiler">  <b class="spoiler_title">Edit the grid_env file and set additional variables:</b> <div class="spoiler_text">  vim / home / oracle / grid_env <br>  export ORACLE_SID = + ASM <br>  export ORACLE_HOME = GRID_HOME <br>  export PATH = ORACLE_HOME / bin: BASE_PATH <br>  export LD_LIBRARY_PATH = ORACLE_HOME / lib: / lib: / usr / lib <br>  export CLASSPATH = ORACLE_HOME / JRE: ORACLE_HOME / jlib: ORACLE_HOME / rdbms / jlib </div></div><br><div class="spoiler">  <b class="spoiler_title">Edit the db_env file and set additional variables:</b> <div class="spoiler_text">  vim / home / oracle / db_env <br>  export ORACLE_SID = orcl <br>  export ORACLE_HOME = DB_HOME <br>  export PATH = ORACLE_HOME / bin: BASE_PATH <br>  export LD_LIBRARY_PATH = ORACLE_HOME / lib: / lib: / usr / lib <br>  export CLASSPATH = ORACLE_HOME / JRE: ORACLE_HOME / jlib: ORACLE_HOME / rdbms / jlib </div></div><br><div class="spoiler">  <b class="spoiler_title">Edit the scsi_id file:</b> <div class="spoiler_text">  echo "options = -g"&gt; /etc/scsi_id.config </div></div><br><br><h5>  Configuring SAS Storage </h5><br>  We completed the following steps to configure the SAS storage before configuring ASM: <br><div class="spoiler">  <b class="spoiler_title">Edit the file 99-oracle-asmdevices rules:</b> <div class="spoiler_text">  vim /etc/udev/rules.d/99-oracle-asmdevices.rules <br>  KERNEL == "sd? 1", ENV {DEVTYPE} == "partition", <br>  ENV {ID_SERIAL} == "36c81f660d8d581001a9a10580658268a", <br>  SYMLINK + = "oracleasm / mirror01", OWNER = "oracle", GROUP = "dba", MODE = "0660" <br>  KERNEL == "sd? 1", ENV {DEVTYPE} == "partition", <br>  ENV {ID_SERIAL} == "36c81f660d8d581001a9a106c07885c76", <br>  SYMLINK + = "oracleasm / mirror02", OWNER = "oracle", GROUP = "dba", MODE = "0660" <br>  KERNEL == "sd? 1", ENV {DEVTYPE} == "partition", <br>  ENV {ID_SERIAL} == "36c81f660d8d581001a9a108f09a3aecc", <br>  SYMLINK + = "oracleasm / mirror03", OWNER = "oracle", GROUP = "dba", MODE = "0660" <br>  KERNEL == "sd? 1", ENV {DEVTYPE} == "partition", <br>  ENV {ID_SERIAL} == "36c81f660d8d581001a9a10ad0b720998", <br>  SYMLINK + = "oracleasm / mirror04", OWNER = "oracle", GROUP = "dba", MODE = "0660" <br>  KERNEL == "sd? 1", ENV {DEVTYPE} == "partition", <br>  ENV {ID_SERIAL} == "36c81f660d8d581001a9a10c00c8d5153", <br>  SYMLINK + = "oracleasm / mirror05", OWNER = "oracle", GROUP = "dba", MODE = "0660" <br>  KERNEL == "sd? 1", ENV {DEVTYPE} == "partition", <br>  ENV {ID_SERIAL} == "36c81f660d8d581001a9a10d20da90647", <br>  SYMLINK + = "oracleasm / mirror06", OWNER = "oracle", GROUP = "dba", MODE = "0660" <br>  KERNEL == "sd? 1", ENV {DEVTYPE} == "partition", <br>  ENV {ID_SERIAL} == "36c81f660d8d581001a9a110c1118728c", <br>  SYMLINK + = "oracleasm / mirror07", OWNER = "oracle", GROUP = "dba", MODE = "0660" <br>  KERNEL == "sd? 1", ENV {DEVTYPE} == "partition", <br>  ENV {ID_SERIAL} == "36c81f660d8d581001a9a111e1229ba5a", <br>  SYMLINK + = "oracleasm / mirror08", OWNER = "oracle", GROUP = "dba", MODE = "0660" <br>  KERNEL == "sd? 1", ENV {DEVTYPE} == "partition", <br>  ENV {ID_SERIAL} == "36c81f660d8d581001a9a113213585878df", <br>  SYMLINK + = "oracleasm / mirror09", OWNER = "oracle", GROUP = "dba", MODE = "0660" <br>  KERNEL == "sd? 1", ENV {DEVTYPE} == "partition", <br>  ENV {ID_SERIAL} == "36c81f660d8d581001a9a114814ac573a", <br>  SYMLINK + = "oracleasm / mirror10", OWNER = "oracle", GROUP = "dba", MODE = "0660" <br>  KERNEL == "sd? 1", ENV {DEVTYPE} == "partition", <br>  ENV {ID_SERIAL} == "36c81f660d8d581001a9a115c15d5b8ce", <br>  SYMLINK + = "oracleasm / mirror11", OWNER = "oracle", GROUP = "dba", MODE = "0660" </div></div><br><div class="spoiler">  <b class="spoiler_title">Run udevadm and run udev:</b> <div class="spoiler_text">  udevadm control --reload-rules <br>  start_udev </div></div><br><div class="spoiler">  <b class="spoiler_title">List the ASM devices:</b> <div class="spoiler_text">  ls -l / dev / oracleasm / <br>  lrwxrwxrwx 1 root root 7 Feb 24 19:17 mirror01 -&gt; ../sdb1 <br>  lrwxrwxrwx 1 root root 7 Feb 24 19:17 mirror02 -&gt; ../sdc1 <br>  lrwxrwxrwx 1 root root 7 Feb 24 19:17 mirror03 -&gt; ../sdd1 <br>  lrwxrwxrwx 1 root root 7 Feb 24 19:17 mirror04 -&gt; ../sde1 <br>  lrwxrwxrwx 1 root root 7 Feb 24 19:17 mirror05 -&gt; ../sdf1 <br>  lrwxrwxrwx 1 root root 7 Feb 24 19:17 mirror06 -&gt; ../sdg1 <br>  lrwxrwxrwx 1 root root 7 Feb 24 19:17 mirror07 -&gt; ../sdh1 <br>  lrwxrwxrwx 1 root root 7 Feb 24 19:17 mirror08 -&gt; ../sdi1 <br>  lrwxrwxrwx 1 root root 7 Feb 24 19:17 mirror09 -&gt; ../sdj1 <br>  lrwxrwxrwx 1 root root 7 Feb 24 19:17 mirror10 -&gt; ../sdk1 <br>  lrwxrwxrwx 1 root root 7 Feb 24 19:17 mirror11 -&gt; ../sdl1 </div></div><br><br><h5>  Configuring PCIe SSD Storage </h5><br>  We completed the following steps to configure a PCIe SSD storage before configuring ASM: <br><div class="spoiler">  <b class="spoiler_title">Run the following command to create SCSI names:</b> <div class="spoiler_text">  for i in `se- 0 7`;  do scsi_id --export -d / dev / nvme {i} n1 |  grep <br>  ID_SCSI_SERIAL;  done <br>  ID_SCSI_SERIAL = S1J0NYADC00150 <br>  ID_SCSI_SERIAL = S1J0NYADC00033 <br>  ID_SCSI_SERIAL = S1J0NYADC00111 <br>  ID_SCSI_SERIAL = S1J0NYADC00146 <br>  ID_SCSI_SERIAL = S1J0NYADC00136 <br>  ID_SCSI_SERIAL = S1J0NYADC00104 <br>  ID_SCSI_SERIAL = S1J0NYADC00076 <br>  ID_SCSI_SERIAL = S1J0NYADC00048 </div></div><br><div class="spoiler">  <b class="spoiler_title">Edit the file 99-oracle-asmdevices rules:</b> <div class="spoiler_text">  vim /etc/udev/rules.d/99-oracle-asmdevices.rules <br>  KERNEL == "nvme? N?", ENV {ID_SCSI_SERIAL} = "? *", IMPORT {program} = "scsi_id - export --whitelisted -d tempnode", ENV {ID_BUS} = "scsi" <br>  KERNEL == "nvme? N? P1", ENV {DEVTYPE} == "partition", <br>  ENV {ID_SCSI_SERIAL} == "S1J0NYADC00150", SYMLINK + = "oracleasm / ssd0", <br>  OWNER = "oracle", GROUP = "dba", MODE = "0660" <br>  KERNEL == "nvme? N? P1", ENV {DEVTYPE} == "partition", <br>  ENV {ID_SCSI_SERIAL} == "S1J0NYADC00033", SYMLINK + = "oracleasm / ssd1", <br>  OWNER = "oracle", GROUP = "dba", MODE = "0660" <br>  KERNEL == "nvme? N? P1", ENV {DEVTYPE} == "partition", <br>  ENV {ID_SCSI_SERIAL} == "S1J0NYADC00111", SYMLINK + = "oracleasm / ssd2", <br>  OWNER = "oracle", GROUP = "dba", MODE = "0660" <br>  KERNEL == "nvme? N? P1", ENV {DEVTYPE} == "partition", <br>  ENV {ID_SCSI_SERIAL} == "S1J0NYADC00146", SYMLINK + = "oracleasm / ssd3", <br>  OWNER = "oracle", GROUP = "dba", MODE = "0660" <br>  KERNEL == "nvme? N? P1", ENV {DEVTYPE} == "partition", <br>  ENV {ID_SCSI_SERIAL} == "S1J0NYADC00136", SYMLINK + = "oracleasm / ssd4", <br>  OWNER = "oracle", GROUP = "dba", MODE = "0660" <br>  KERNEL == "nvme? N? P1", ENV {DEVTYPE} == "partition", <br>  ENV {ID_SCSI_SERIAL} == "S1J0NYADC00104", SYMLINK + = "oracleasm / ssd5", <br>  OWNER = "oracle", GROUP = "dba", MODE = "0660" <br>  KERNEL == "nvme? N? P1", ENV {DEVTYPE} == "partition", <br>  ENV {ID_SCSI_SERIAL} == "S1J0NYADC00076", SYMLINK + = "oracleasm / ssd6", <br>  OWNER = "oracle", GROUP = "dba", MODE = "0660" <br>  KERNEL == "nvme? N? P1", ENV {DEVTYPE} == "partition", <br>  ENV {ID_SCSI_SERIAL} == "S1J0NYADC00048", SYMLINK + = "oracleasm / ssd7", <br>  OWNER = "oracle", GROUP = "dba", MODE = ‚Äú0660" </div></div><br><div class="spoiler">  <b class="spoiler_title">Run udevadm and run udev:</b> <div class="spoiler_text">  udevadm control --reload-rules <br>  start_udev </div></div><br><div class="spoiler">  <b class="spoiler_title">List the ASM devices:</b> <div class="spoiler_text">  ls -l / dev / oracleasm / <br>  lrwxrwxrwx 1 root root 12 Feb 19 16:46 ssd0 -&gt; ../nvme0n1p1 <br>  lrwxrwxrwx 1 root root 12 Feb 19 16:46 ssd1 -&gt; ../nvme1n1p1 <br>  lrwxrwxrwx 1 root root 12 Feb 19 16:46 ssd2 -&gt; ../nvme2n1p1 <br>  lrwxrwxrwx 1 root root 12 Feb 19 16:46 ssd3 -&gt; ../nvme3n1p1 <br>  lrwxrwxrwx 1 root root 12 Feb 19 16:46 ssd4 -&gt; ../nvme4n1p1 <br>  lrwxrwxrwx 1 root root 12 Feb 19 16:46 ssd5 -&gt; ../nvme5n1p1 <br>  lrwxrwxrwx 1 root root 12 Feb 19 16:46 ssd6 -&gt; ../nvme6n1p1 <br>  lrwxrwxrwx 1 root root 12 Feb 19 16:46 ssd7 -&gt; ../nvme7n1p1 </div></div><br><br><h5>  Installing Oracle Grid Infrastructure on a standalone 12c server </h5><br>  Before performing the following steps, we downloaded the Oracle 12 Grid installation file and extracted it to the / home / grid directory. <br>  one. <div class="spoiler">  <b class="spoiler_title">Run the GUI installation file for Oracle Database using the following commands:</b> <div class="spoiler_text">  ssh ‚ÄìY oracle @ R920_IP_address <br>  db_env <br>  cd / home / grid <br>  ./runInstaller </div></div><br>  2. Run the Oracle Grid Infrastructure Installation Wizard. <br>  3. In Software Updates, select Skip software updates and click Next. <br>  4. In the Installation Options, select Install and Configure Oracle Grid Infrastructure for a Standalone Server and click Next. <br>  5. In Product Languages, select English and click on the arrow pointing to the right to add the language to the panel of selected languages.  Click Next. <br>  6. In the Create ASM Disk Group, select Change Discovery Path. <br>  7. Enter / dev / nvme * for Disk Discovery Path and click OK (We left the default value for SAS configuration). <br>  8. Select the ‚Äúcheckbox‚Äù for all drives and click Next (In the SAS configuration, we did not mark the last drive. We configured the last drive for the protocols in the SAS configuration). <br>  9. In ASM Password, select Use same passwords for these accounts.  Enter and confirm the password.  Click Next. <br>  10. In Operating System Groups, set all groups to dba.  Click Next. <br>  11. Click Yes to confirm notifications and continue. <br>  12. At the Installation Location, leave the default values ‚Äã‚Äãand click Next. <br>  13. In Create Inventory, leave the default values ‚Äã‚Äãand click Next. <br>  14. In the Root Script Execution, tick the "Automatically run configuration scripts" checkbox. <br>  15. Select Use ‚Äúroot‚Äù user credential and enter the root password.  Click Next. <br>  16. In Summary, review the information and click Install to begin the installation. <br>  17. Click Yes to confirm use of the privileged user for the installation. <br>  18. In the Finish window, click Close to exit the installer. <br><br><h5>  Installing Oracle Database 12c </h5><br>  one. <div class="spoiler">  <b class="spoiler_title">Run the GUI installation file for Oracle Database using the following commands:</b> <div class="spoiler_text">  ssh ‚ÄìY oracle @ R920_IP_address <br>  db_env <br>  cd / home / database <br>  ./runInstaller </div></div><br>  2. Run the Oracle Database 12c Release 1 installation wizard. <br>  3. In the Configure Security Updates window, uncheck the ‚Äúcheck box‚Äù from I wish to receive security updates.  Click Next. <br>  4. Click Yes to confirm the absence of email and continue. <br>  5. In Software Updates, select Skip software updates and click Next. <br>  6. In the Installation Options, select Install database software only and click Next. <br>  7. In the Grid Installation Options, select Single instance database installation and click Next. <br>  8. In Product Languages, select English and click on the arrow pointing to the right to add the language to the panel of selected languages.  Click Next. <br>  9. In Database Edition, select Enterprise Edition and click Next. <br>  10. At the Installation Location, leave the default values ‚Äã‚Äãand click Next. <br>  11. In the Operating System Groups, leave the default values ‚Äã‚Äãand click Next. <br>  12. In Summary, check the information and click Install to begin the installation. <br>  13. Follow the instructions to run the scripts.  After running the scripts, click OK. <br>  14. In the Finish window, click Close to exit the installer. <br>  15. When a system request is received in the GUI installer, run the root shell script to complete the installation. <br>  /home/oracle/app/oracle/product/12.1.0/dbhome_1/root.sh <br><br><h5>  Creating Oracle Database (using DBCA) </h5><br>  1. Launch Database Configuration Assistant (DBCA) <br>  2. In Database Operations, select Create Database and click Next. <br>  3. In Creation Mode, select Advanced Mode and click Next. <br>  4. In the Database Template, select Template for General Purpose or Transaction Processing and click Next. <br>  5. In Database Identification, type orcl in the Global Database Name field. <br>  6. Enter orcl in the SID field.  Click Next. <br>  7. In the Management Options, select Configure Enterprise Manager (EM) Database Express.  Click Next. <br>  8. In Database Credentials, select Use the Same Administrative Password for All Accounts. <br>  9. Enter and confirm the administrator password and click Next. <br>  10. In the Network Configuration, tick all receivers and click Next. <br>  11. In Storage Locations, select User Common Location for All Database Files.  Enter + DATA in the Database Files Location field. <br>  12. Select Specify Fast Recovery Area.  Enter (ORACLE_BASE) / fast_recovery_area in the Fast Recovery Area field. <br>  13. Set the size of the Fast Recovery Area to 400 GB and click Next. <br>  14. In the Database Options, leave the default values ‚Äã‚Äãand click Next. <br>  15. In Initialization Parameters and under the default settings, set the memory size to 80% and click Next. <br>  16. In Creation Options, select Create Database.  Click Customize Storage Locations. <br>  17. In the Customize Storage panel and under Redo Log Groups, select 1. <br>  18. Set the file size to 51,200 MB.  Click Apply. <br>  19. Under Redo Log Groups, select 2. <br>  20. Set the file size to 51 200 MB.  Click Apply. <br>  21. Under Redo Log Groups, select 3. <br>  22. Click Remove, then click Yes. <br>  23. To exit the Customize Storage panel, click Ok. <br>  24. Click Next. <br>  25. Check out the Summary.  To finish creating the database, click Finish. <br>  26. Check the information on the screen and click Exit. <br>  27. To exit DBCA, click Close. <br><br><h5>  Configuring Oracle Tablespaces and the redo protocol </h5><br><div class="spoiler">  <b class="spoiler_title">Modify the tablespaces of both systems as shown below:</b> <div class="spoiler_text">  ALTER DATABASE ADD LOGFILE GROUP 11 ('/tmp/temp1.log') SIZE 50M; <br>  ALTER DATABASE ADD LOGFILE GROUP 12 ('/tmp/temp2.log') SIZE 50M; <br>  ALTER SYSTEM SWITCH LOGFILE; <br>  ALTER SYSTEM SWITCH LOGFILE; <br>  ALTER SYSTEM CHECKPOINT; <br>  ALTER DATABASE DROP LOGFILE GROUP 1; <br>  ALTER DATABASE DROP LOGFILE GROUP 2; <br>  ALTER DATABASE DROP LOGFILE GROUP 3; <br>  ALTER SYSTEM SWITCH LOGFILE; <br>  ALTER SYSTEM SWITCH LOGFILE; <br>  ALTER SYSTEM CHECKPOINT; <br>  ALTER DATABASE DROP LOGFILE GROUP 1; <br>  ALTER DATABASE DROP LOGFILE GROUP 2; <br>  ALTER DATABASE DROP LOGFILE GROUP 3; <br>  - DELETE OLD REDO LOG FILES IN ASM MANUALLY USING ASMCMD HERE - alter system set "_disk_sector_size_override" = TRUE scope = both; <br>  - BEGIN: SSD REDO LOGS - ALTER DATABASE ADD LOGFILE GROUP 1 ('+ DATA / orcl / redo01.log') SIZE 50G <br>  BLOCKSIZE 4k; <br>  ALTER DATABASE ADD LOGFILE GROUP 2 ('+ DATA / orcl / redo02.log') SIZE 50G <br>  BLOCKSIZE 4k; <br>  - END: SSD REDO LOGS - - BEGIN: SAS REDO LOGS - ALTER DATABASE ADD LOGFILE GROUP 1 ('+ REDO / orcl / redo01.log') SIZE 50G; <br>  ALTER DATABASE ADD LOGFILE GROUP 2 ('+ REDO / orcl / redo02.log') SIZE 50G; <br>  - END: SAS REDO LOGS - ALTER SYSTEM SWITCH LOGFILE; <br>  ALTER SYSTEM SWITCH LOGFILE; <br>  ALTER SYSTEM CHECKPOINT; <br>  ALTER DATABASE DROP LOGFILE GROUP 11; <br>  ALTER DATABASE DROP LOGFILE GROUP 12; <br>  ALTER SYSTEM SWITCH LOGFILE; <br>  ALTER SYSTEM SWITCH LOGFILE; <br>  ALTER SYSTEM CHECKPOINT; <br>  ALTER DATABASE DROP LOGFILE GROUP 11; <br>  ALTER DATABASE DROP LOGFILE GROUP 12; <br>  HOST rm -f /tmp/temp*.log <br>  SET SERVEROUTPUT ON <br>  DECLARE <br>  lat INTEGER; <br>  iops INTEGER; <br>  mbps INTEGER; <br>  BEGIN <br>  - DBMS_RESOURCE_MANAGER.CALIBRATE_IO (, &lt;MAX_LATENCY&gt;, iops, mbps, <br>  lat); <br>  DBMS_RESOURCE_MANAGER.CALIBRATE_IO (2000, 10, iops, mbps, lat); <br>  DBMS_OUTPUT.PUT_LINE ('max_iops =' || iops); <br>  DBMS_OUTPUT.PUT_LINE ('latency =' || lat); <br>  dbms_output.put_line ('max_mbps =' || mbps); <br>  end; <br>  / <br>  CREATE BIGFILE TABLESPACE "TPCC" <br> DATAFILE '+DATA/orcl/tpcc.dbf' SIZE 400G AUTOEXTEND ON NEXT 1G <br> BLOCKSIZE 8K <br> EXTENT MANAGEMENT LOCAL AUTOALLOCATE <br> SEGMENT SPACE MANAGEMENT AUTO; <br> CREATE BIGFILE TABLESPACE ¬´TPCC_OL¬ª <br> DATAFILE '+DATA/orcl/tpcc_ol.dbf' SIZE 150G AUTOEXTEND ON NEXT 1G <br> BLOCKSIZE 16K <br> EXTENT MANAGEMENT LOCAL AUTOALLOCATE <br> SEGMENT SPACE MANAGEMENT AUTO; <br> ALTER DATABASE DATAFILE '+DATA/tpcc1/undotbs01.dbf' RESIZE 32760M; <br></div></div><br><br><h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Oracle pfile setup </font></font></h5><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modify the Oracle pfile of both systems as shown below. </font><font style="vertical-align: inherit;">We changed fast_start_mttr_target in three configurations, changing to 60, 120 and 180.</font></font></b> <div class="spoiler_text"> orcl.__oracle_base='/home/oracle/app/oracle'#ORACLE_BASE set from <br> environment <br> _disk_sector_size_override=TRUE <br> _enable_NUMA_support=TRUE <br> _kgl_hot_object_copies=4 <br> _shared_io_pool_size=512m <br> aq_tm_processes=0 <br> audit_file_dest='/home/oracle/app/oracle/admin/orcl/adump' <br> audit_trail='NONE' <br> compatible='12.1.0.0.0' <br> control_files='+DATA/orcl/control01.ctl','+DATA/orcl/control02.ctl' <br> db_16k_cache_size=32g <br> db_block_size=8192 <br> db_cache_size=128g <br> db_create_file_dest='+DATA' <br> db_domain='' <br> db_name='orcl' <br> db_recovery_file_dest_size=500g <br> db_recovery_file_dest='/home/oracle/app/oracle/fast_recovery_area' <br> db_writer_processes=4 <br> diagnostic_dest='/home/oracle/app/oracle' <br> disk_asynch_io=TRUE <br> dispatchers='(PROTOCOL=TCP) (SERVICE=orclXDB)' <br> dml_locks=500 <br> fast_start_mttr_target=60 <br> java_pool_size=4g <br> job_queue_processes=0 <br> large_pool_size=4g <br> local_listener='LISTENER_ORCL' <br> lock_sga=TRUE <br> log_buffer=402653184 <br> log_checkpoint_interval=0 <br> log_checkpoint_timeout=0 <br> log_checkpoints_to_alert=TRUE <br> open_cursors=2000 <br> parallel_max_servers=0 <br> parallel_min_servers=0 <br> pga_aggregate_target=5g <br> plsql_code_type='NATIVE' <br> plsql_optimize_level=3 <br> processes=1000 <br> recovery_parallelism=30 <br> remote_login_passwordfile='EXCLUSIVE' <br> replication_dependency_tracking=FALSE <br> result_cache_max_size=0 <br> sessions=1500 <br> shared_pool_size=9g <br> statistics_level='BASIC' <br> timed_statistics=FALSE <br> trace_enabled=FALSE <br> transactions=2000 <br> transactions_per_rollback_segment=1 <br> undo_management='AUTO' <br> undo_retention=1 <br> undo_tablespace='UNDOTBS1' <br> use_large_pages='ONLY' <br> +DATA/orcl/spfileorcl.ora <br></div></div><br><br><h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Configuring the HammerDB client </font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We used a dual-processor server with Red Hat Enterprise Linux 6.5 for the HammerDB client. </font><font style="vertical-align: inherit;">We completed the installation procedures at the beginning of this application to install Red Hat Enterprise Linux, but we installed the GUI. </font><font style="vertical-align: inherit;">Then we installed the HammerDB client software.</font></font><br><br><h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Install HammerDB </font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Download and install version 2.16 on the Red Hat client. </font><font style="vertical-align: inherit;">We downloaded HammerDB from hammerora.sourceforge.net/download.html. </font><font style="vertical-align: inherit;">We installed HammerDB in accordance with the installation instructions (hammerora.sourceforge.net/hammerdb_install_guide.pdf).</font></font><br><br><h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Installing the HammerDB Oracle Libraries </font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perform the following steps on both systems. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Run the Oracle Client Installer. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. In the Select Installation Type, select Administrator (1.8 GB) as the installation type and click Next. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. In Software Updates, select Skip software updates and click Next. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. In Product Languages, select English and click on the arrow pointing to the right to add the language to the panel of selected languages. Click Next. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5. In the Specify Installation Location, leave the default values ‚Äã‚Äãand click Next. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6. In Create Inventory, leave the default values ‚Äã‚Äãand click Next. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7. In Summary, verify the information and click Install to begin the installation. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8. In the Install Product, follow the instructions to run the scripts. Click OK after running the scripts.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 9. In the Finish window, click Close to exit the installer. </font></font><br><br><h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Database Setup </font></font></h5><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We used the built-in options for Oracle in HammerDB to create the database. </font><font style="vertical-align: inherit;">In the configuration scheme, we set the following:</font></font></b> <div class="spoiler_text"> Oracle Service Name = R920_IP_addres/orcl <br> System user = system <br> System User Password = Password1 <br> TPC-C User = tpcc <br> TPC-C User Password = tpcc <br> TPC-C Default Tablespace = tpcc <br> Order Line Tablespace = tpcc_ol <br> TPC-C Temporary Tablespace = temp <br> TimesTen Database Commatible = unchecked <br> Partition Order Line Table = checked <br> Number of Warehouses = 5000 <br> Virtual Users to Build Schema = 60 <br> Use PL/SL Server Side Load = unchecked <br> Server Side Log Directory = /tmp <br></div></div><br><br><h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Run HammerDB </font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We launched HammerDB by filling in the appropriate information in the disk options. </font><font style="vertical-align: inherit;">We conducted testing for 5 minutes of gradual increase in load and 5 minutes of testing. </font><font style="vertical-align: inherit;">We used 101 virtual users with a user delay of 500 milliseconds and repeated delays. </font><font style="vertical-align: inherit;">We used rman to restore the database between tests.</font></font></div><p>Source: <a href="https://habr.com/ru/post/219811/">https://habr.com/ru/post/219811/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../219799/index.html">Experience of participation in RobotChallenge 2014</a></li>
<li><a href="../219801/index.html">Creating standalone libraries for android</a></li>
<li><a href="../219803/index.html">Microcontrollers of AVR, MSP430, STM32 families and my subjective impressions</a></li>
<li><a href="../219807/index.html">New SkySat-1 HD Video: Las Vegas in All its Beauty</a></li>
<li><a href="../219809/index.html">Securely using the HTTP IfModifiedSince header in PCL libraries</a></li>
<li><a href="../219813/index.html">Wordpress release 3.9 ‚ÄúSmith‚Äù</a></li>
<li><a href="../219815/index.html">Digital Image Stabilization from Stationary Cameras - Correlation Approach</a></li>
<li><a href="../219819/index.html">Brain Overclock or Internal Consciousness Virtualization</a></li>
<li><a href="../219821/index.html">DevCon 2014: announcement of the second wave of speakers and reports</a></li>
<li><a href="../219823/index.html">Panoramas of the Arctic appeared on Yandex.Maps</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>