<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Small multiplatform 2d tengine engine (android / ios / win32 / nix / kolibrios / web (emscripten))</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Greetings to all who have become interested in learning about my small project, which I do in my free time, about my long-playing project called ‚Äúteng...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Small multiplatform 2d tengine engine (android / ios / win32 / nix / kolibrios / web (emscripten))</h1><div class="post__text post__text-html js-mediator-article">  Greetings to all who have become interested in learning about my small project, which I do in my free time, about my long-playing project called ‚Äútengine‚Äù. <br><br>  What is the purpose of this post?  The answer is simple - I'm looking for odnodumtsev.  I believe that there are still a lot of people who like a nice and kind old school.  That's the whole mission - to write fun for the sake of something small, but quite functional, a platform for "console" toys in the style of 8/16 bits. <br><br>  <a href="http://casualgum.com/test/mun.html">tengine DEMO game (web version)</a> control: arrow keys, ctrl.  Full ending. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The main feature that distinguishes tengine from hundreds of similar crafts is not quite a standard ideology: <br><ul><li>  The architecture of the project focuses on minimizing the use of dynamic memory.  If memory is allocated, it is allocated exclusively on the initialization of subsystems. </li><li>  you need to use dynamic memory as if there is no operating system, constantly remember about fragmentation.  Memory deletion occurs in the strictly inverse order of creation (this is followed by a simple mechanism to control the removal of pointers) </li><li>  use of third-party libraries is minimized and should be reasoned, often a potential source of memory fragmentation </li><li>  the game scene is a ready-to-use memory generated by the level editor. </li><li>  work with objects of the game scene is carried out exclusively through identifiers, it is impossible to create an object dynamically </li><li>  use fixed point instead of float </li><li>  multiplatform </li><li>  official language of the project is C </li></ul><br><a name="habracut"></a><br>  Initially, I wrote all this under nintendo ds, my favorite gaming platform.  But times are changing and I had to move everything to the more popular world of technology.  So there was a branch for android, which later became the main one.  The win32 version plays a more debugging role.  As planned, the game is written and debugged on win32, and then compiled to other platforms (all this is conditional, of course, on win32 all the functionality works fully).  With the advent of one very good enthusiast, the project also gained the NIX platform, for which he thanks a lot.  Although nintendo ds is no longer supported, I deliberately did not remove the platform code under the preprocessor key from the project.  There are also some nintendo-specific architectural features that remain, such as support for multiple screens and logical rendering layers.  All this is described in poor, but all the same documentation. <br><br>  Now tengine is: <br><ul><li>  ready multiplatform functionality for android ndk, ios, win32, nix, kolibriOS, Emscripten (there was also functionality for nitro-sdk (nintendo ds), but I decided not to continue the development of this branch due to lack of time, the likelihood that someone now interesting nitro is very small) </li><li>  browser version of js / html based on Emscripten (https://github.com/kripken/emscripten/wiki), good performance even on ie11 </li><li>  memory usage according to the frame allocator principle (deleting memory in a strictly reverse order of creation) </li><li>  architectural limitation of creating dynamic objects, which made it possible to abandon the use of scripting languages </li><li>  use openGL es 1.x / 2.0 as well as a custom blitter for rendering </li><li>  use openAL (openSL es for android NDK) for sound </li><li>  support multitouch, dpad, keyboard </li><li>  pthread-based multithreading support (streaming animation, file handling, sound) </li><li>  functionality to work with the network at the initial stage </li><li>  (primitive) particle system </li><li>  graphics resource converter (r5g5b5a1 main and r8g8b8a8 auxiliary) </li><li>  simple interface for working with game objects: positions, properties, states </li><li>  events (end of animation, achievement of node, etc.) </li><li>  support for applying basic affine transformations for game object animation frames </li><li>  the possibility of pixel-by-pixel checking of the boundaries of a game object of complex shape </li><li>  tile card support </li><li>  translucency support </li><li>  support mixing image data with specified color </li><li>  support of logic of traveling nodes (on which objects can move) </li><li>  (partially implemented) system of collision-lines, with the help of which it is possible to set boundaries or places of ‚Äúcross-country ability‚Äù at an arbitrary angle </li><li>  emulator for win32 / nix, simplifies application development and debugging </li><li>  basic documentation </li></ul><br>  In addition to all this, there is the gui subsystem, which is a superstructure over tengine.  The basic idea: all the gui elements are normal game objects, which upon initialization acquire the already pre-installed gui elements such as, for example, the ‚Äúbutton‚Äù.  It is enough to register any game object in a gui container and specify what behavior is expected of it.  The rest of the add-on takes over. <br><br>  The level editor (me3) is a utility for creating ‚Äúlevels‚Äù for tengine and includes: <br><ul><li>  graphic resources subsystem </li><li>  subsystem for creating complex frame-by-frame animation, including collision zones, user events, attachment points (for dynamically attaching other game objects, for example, a weapon to a hand) </li><li>  background tile map subsystem </li><li>  Triggers subsystem, with which you can change the properties of objects under certain conditions </li><li>  track node subsystem </li><li>  Collage-line creation subsystem </li><li>  subsystem of creating logical states of objects, setting them on animation </li><li>  subsystem to create properties of objects and work with them </li><li>  object manager </li><li>  debugging the finished map, tracking triggers, user events </li><li>  support for fonts, text fields (text objects), internal text editor </li><li>  support for localization of texts in different languages </li><li>  creation of ready binary data files for tengine, export to xml </li></ul><br>  To deal with the editor a bit difficult at first, I wrote it specifically for my friend game designer.  But there are examples in the samples folder as well as the interface in Russian, which, as for me, is quite intuitive.  The documentation, unfortunately, has not yet mastered writing. <br><br>  Who is still interested, everything is available at <a href="https://bitbucket.org/pascualle/tengine">https://bitbucket.org/pascualle/tengine</a> <br><br>  As a bonus, not so long ago, I sported the <a href="https://github.com/subprotocol/verlet-js">verlet</a> library described in the post <a href="http://habrahabr.ru/post/178135/">habrahabr.ru/post/178135</a> .  While it is a little apart, but already tested for performance (see an example in samples / spider) <br><br>  Read also a small tutorial (attention, it is without pictures!) "Creating a small game using tengine" <a href="http://habrahabr.ru/post/180443">habrahabr.ru/post/180443</a> </div><p>Source: <a href="https://habr.com/ru/post/179839/">https://habr.com/ru/post/179839/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../179829/index.html">Calculating the Nth sign of Pi without calculating the previous ones</a></li>
<li><a href="../179831/index.html">Multi-hosting django applications using nginx + uwsgi + virtualenv</a></li>
<li><a href="../179833/index.html">Fighting spam with standard mailer tools (using Exim for example)</a></li>
<li><a href="../179835/index.html">Household automation. Start</a></li>
<li><a href="../179837/index.html">We continue to delete. [Re: Working with ‚Äúbad‚Äù files on the Linux command line]</a></li>
<li><a href="../179843/index.html">ModeBot</a></li>
<li><a href="../179851/index.html">Clipping magic: an online tool for cutting pictures from the background on the basis of artificial intelligence technology</a></li>
<li><a href="../179853/index.html">Google introduced Hangouts: a unified messenger for Android, iOS, and Chrome</a></li>
<li><a href="../179855/index.html">RuSSIR 2013: VII Summer School on Information Retrieval</a></li>
<li><a href="../179857/index.html">Some ideas for using Google Glass (video)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>