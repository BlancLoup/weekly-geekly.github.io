<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>CPU</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="How much I remember myself, I always dreamed of making a processor. Finally, yesterday I made it. God knows that: 8 bits, RISC, the current operating ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">🔎</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">📜</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">⬆️</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">⬇️</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>CPU</h1><div class="post__text post__text-html js-mediator-article">  How much I remember myself, I always dreamed of making a processor.  Finally, yesterday I made it.  God knows that: 8 bits, RISC, the current operating frequency is 4 kHz, but it works.  So far, in the logic circuit simulation program, but we all know: “today is on the model, tomorrow is in practice!”. <br><br>  There are several animations under the cut, a brief introduction to the binary logic for the smallest ones, a short story about the main microchips of the processor logic and, in fact, a circuit. <br><a name="habracut"></a><br><br><h4>  Binary logic </h4><br>  The binary number system (for those who do not know) is a number system in which there are no numbers greater than one.  This definition confuses many until they remember that there are no more than nine digits in the decimal notation. <br>  The binary system is used in computers because the numbers in it are easy to encode with voltage: if there is voltage, it means unit;  no voltage means zero.  In addition, "zero" and "one" can easily be understood as "false" and "true."  Moreover, most of the devices operating in the binary number system usually refer to numbers as an array of “truths” and “falsities”, that is, it operates with numbers as with logical quantities.  For the smallest and those who do not know, I will tell and show you how the simplest elements of binary logic work. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  Buffer Element </h5><br><img src="https://habrastorage.org/storage1/7e467bf5/c28be57a/3f7e6960/8f81bd65.gif"><br>  Imagine you are sitting in your room, and your friend is in the kitchen.  You shout to him: “Friend, tell me, is there a light in the corridor?”.  A friend replies: "Yes, it burns!" Or "No, it does not burn."  Your friend is the buffer between the signal source (a light bulb in the corridor) and the receiver (you).  Moreover, your friend is not some kind of normal buffer, but a managed buffer.  It would be a regular buffer if it constantly shouted: "The light is on" or "The light is off." <br><br><h5>  Element NOT - NOT </h5><br><img src="https://habrastorage.org/storage1/2fcf37e1/003f6aeb/d70eba65/f7522783.gif"><br>  Now imagine that your friend is a joker who always tells a lie.  And if the light in the corridor glows, then it will tell you "No, the corridor is very, very dark," and if it does not, then "Yes, the light is on in the corridor."  If you really have such a friend, then he is the embodiment of the element "Not." <br><br><h5>  Element "Or" - OR </h5><br><img src="https://habrastorage.org/storage1/5f306eb6/a4afc490/efa40169/6d850703.gif"><br>  To explain the essence of the element "Or" one light bulb and one friend, unfortunately, is not enough.  Need two light bulbs.  So, you have two lights in the corridor - a floor lamp, for example, and a chandelier.  You shout: “Friend, say, at least one light bulb in the corridor shines?”, And your friend answers “Yes” or “No”.  Obviously, to answer "No" all the lights must be turned off. <br><br><h5>  Element "And" - AND </h5><br><img src="https://habrastorage.org/storage1/87f29ad1/e50af003/37a15e00/00815be7.gif"><br>  The same apartment, you, a friend in the kitchen, a floor lamp and a chandelier in the hallway.  To your question “Is there both lights in the corridor?” You get the answer “Yes” or “No”.  Congratulations, now your friend is an “AND” element. <br><br><h5>  Exclusive Or Element - XOR </h5><br><img src="https://habrastorage.org/storage1/212053e2/33ff6e4e/477cf391/dc911055.gif"><br>  We will repeat the experiment for the element “Or” once again, but we will reformulate our question to a friend: “Friend, tell me, is there only one light bulb in the corridor?”.  An honest friend will answer this question “Yes” only if there is really only one light bulb in the corridor. <br><br><h4>  Adders </h4><br><h5>  Quarter summator </h5><br><img src="https://habrastorage.org/storage1/212053e2/33ff6e4e/477cf391/dc911055.gif"><br>  The quarter summator is called “Exclusive Or”.  Why?  Let's see. <br>  Let's make the table of addition for two numbers in binary number system: <br>  0 + 0 = 0 <br>  0 + 1 = 1 <br>  1 + 0 = 1 <br>  1 + 1 = 10 <br><br>  Now we will write down the truth table of the “Exclusive Or” element.  To do this, we denote the luminous light bulb as 1, the extinguished one as 0, and the answers of the friend “Yes” / “No” as 1 and 0, respectively. <br>  0 xor 0 = 0 <br>  0 XOR 1 = 1 <br>  1 xor 0 = 1 <br>  1 XOR 1 = 0 <br><br>  Very similar, right?  The addition table and the truth table of the “Exclusive Or” coincide completely, except for a single case.  And this case is called "Overflow." <br><br><h5>  Semi-adder </h5><br>  In case of overflow, the result of addition no longer fits into the same number of digits as the addends fit.  The terms are two single digits (one significant digit, you understand?), And the sum is already two digits (two significant digits).  Two digits with one light bulb (“Lit” / “Not lit”) cannot be transmitted.  Need two light bulbs.  Need to - do it! <br><img src="https://habrastorage.org/storage1/46fcdcdc/5ab72795/35a96fe4/c7c011a7.gif"><br><br>  In addition to XOR, for the adder, we need the element "AND" (AND). <br>  0 XOR 0 = 0 0 AND 0 = 0 <br>  0 XOR 1 = 1 0 AND 1 = 0 <br>  1 XOR 0 = 1 1 AND 0 = 0 <br>  1 XOR 1 = 0 1 AND 1 = 1 <br><br>  Tadam! <br>  0 + 0 = 00 <br>  0 + 1 = 01 <br>  1 + 0 = 01 <br>  1 + 1 = 10 <br><br>  Our <s>vundervaflya</s> semi-adder works.  It can be considered the simplest specialized processor that adds two numbers.  A half-adder is called a half-adder because with its help the transfer (the result of the operation of another adder) cannot be taken into account, that is, you cannot add three single-digit binary numbers.  In this regard, it is impossible to make one multi-digit one from several one-bit half-adders. <br><br>  I will not go into the details of the work of full and multi-bit adders, just hope that you get the main idea. <br><br><h4>  More complex items </h4><br><h5>  Multiplexer </h5><br><img src="https://habrastorage.org/storage1/ec51d77a/fb1f7c93/b69e6dab/9f6ae5f9.gif"><br>  I propose to turn on the imagination.  So imagine.  You live in a private single-family house, your mailbox is near the door of this house.  Going for a walk, you notice a strange postman, who stands near this very mailbox.  And that's what he does: he takes a bunch of letters from his bag, reads the number on the mailbox, and, depending on the number on the box, throws one or another letter at him.  The postman works as a multiplexer.  He definitely (number on the envelope) determines which signal to send (letter) via the signal line (mailbox). <br><br>  Multiplexers usually consist only of combinations of the elements "And", "Or" and "Not."  In a single-bit multiplexer, one input is called “address selection”, two inputs with the common name “input signal” and one output, which is called: “output signal”. <br>  When the “address selection” is 0, the “output signal” becomes the same as the first “input signal”.  Accordingly, when the “choice” is fed 1, the “output signal” becomes equal to the second “input signal”. <br><br><h5>  Demultiplexer </h5><br><img src="https://habrastorage.org/storage1/42d74d7e/1e64233c/a441af7b/77490357.gif"><br>  But this thing works exactly the opposite.  We give the address to the “choice of address”, we give the data to the “data entry”, at the output with the number “address” we have the data from the input. <br><br><h5>  Counter </h5><br><img src="https://habrastorage.org/storage1/67034755/0eaa138f/a0843b2a/c8f9243f.gif"><br>  To understand the work of the counter, you will again need your friend.  Call him out of the kitchen (I hope he didn’t miss him much, and, most importantly, he didn’t eat all your food), and ask him to do this: let him remember the number 0. Every time you touch him, he should add one to the number that remembers, say the result and remember it.  When the result is equal to (let's say) 3, he should shout out “Abracadabra!” And answer with the next touch that he now remembers the number 0. Is it a bit difficult?  See: <br><br>  You are touching a friend.  A friend says "One." <br>  You are touching a friend.  A friend says "Two." <br>  You are touching a friend.  A friend says "Three."  A friend shouts out “ <i>Habrahabr!</i>  ".  <s>Critical attack!</s>  <s>You are temporarily paralyzed and cannot move.</s> <br>  You are touching a friend.  A friend says "Zero." <br><br>  Well, and so on.  Very simple, right? <br>  Of course, you realized that your friend is now a counter.  Touching a friend can be considered a “clocking signal” or, quite simply, a signal to continue counting.  The cry “Abracadabra” indicates that the memorized value in the counter is maximum, and that with the next clocking signal the counter will be set to zero.  There are two differences between a binary counter and your friend.  First: a real binary counter gives the memorized value in binary form.  Second: he always does only what you tell him, and never descends into silly jokes that can disrupt the work of the entire processor system. <br><br><h4>  Memory </h4><br><h5>  Trigger </h5><br><img src="https://habrastorage.org/storage1/3ef51bc8/02714348/c2025e3d/28b22ffa.gif"><br>  Let's continue to mock your unfortunate (perhaps even imaginary) friend.  Let him now remember the number zero.  When you touch his left hand, he must memorize the number zero, and when the right hand - the number one.  When asking the question “What number do you remember?” A friend should always answer the number that he memorized - zero or one. <br>  The simplest storage cell is the RS trigger (“trigger” means “switch”).  An RS trigger can store one data bit (“zero” / “one”), and has two inputs.  The Set / Setup input (just like your friend’s left hand) records a “one” trigger and the Reset / Reset input (respectively, the right hand) a “zero”. <br><br><h5>  Register </h5><br><img src="https://habrastorage.org/storage1/f5dbf904/54fe2364/d29f015d/e31d0d86.gif"><br>  The register is slightly more complex.  Your friend turns into a register when you ask him to remember something, and then say, “Hey, remind me, what did I tell you to remember?”, And the friend answers correctly. <br><br>  The register can usually store a bit more than one bit.  It must have a data input, data output and write enable input.  From the release of the data you can read at any time what is written in this register.  At the input of the data you can submit the data that you want in this register to write.  You can submit data until you get bored.  Anyway, nothing will be written to the register until you submit one, that is, a “logical unit” to the recording permission input. <br><br><h5>  Shift register </h5><br><img src="https://habrastorage.org/storage1/437ba0d4/3c187d3d/49597d81/74d497c8.gif"><br>  Have you ever stood in line?  Surely they were.  So you imagine what it is to be data in a shift register.  People come and go to the end of the line.  The first person in the queue enters the office at a big shot.  The one who was second in the queue becomes the first, and the one who was third is now the second, and so on.  A queue is such a tricky shift register from which “data” (well, that is, people) can run away on business, after having warned neighbors in turn.  In the present shift register, of course, the “data” from the queue cannot escape. <br><br>  So, the shift register has a data input (through which data enters the “queue”) and a data output (from which the very first entry in the “queue” can be read).  Even the shift register has an input “shift register”.  As soon as a “logical unit” arrives at this input, the entire queue shifts. <br><br>  There is one important difference between a queue and a shift register.  If the shift register is designed for four entries (for example, four bytes), then the first entry in the queue will reach the exit from the register only after four signals to the “shift register” input. <br><br><h5>  RAM </h5><br>  If many-many triggers are combined into registers, and many-many registers are combined in one chip, then you get a memory chip.  A memory chip usually has an address input, bidirectional data input (that is, it can be written to this input and can also be read from it) and a write enable input.  At the input of the address, we submit some number, and this number will select a specific memory cell.  After that, the input / output data, we can read what is written in this very cell. <br>  Now we will simultaneously submit to the input / output of the data that we want to write to this cell, and to the input of the recording resolution - “logical unit”.  The result is a bit predictable, isn't it? <br><br><h4>  CPU </h4><br><h5>  Bitbitjump </h5><br>  Processors are sometimes divided into CISCs - those that can perform many different commands, and RISCs - those that can perform few commands, but perform them well.  One fine evening, I thought: it would be great if you could make a full-fledged processor that can perform only one command.  I soon learned that there is a whole class of single-processor processors - OISC, most often they use the Subleq command (subtract, and if it is less or equal to zero, then go) or Subeq (subtract, and if it is zero, then go).  Studying various variants of OISC-processors, I found Oleg Mazakovka’s website, which developed the simplest single-command language BitBitJump.  The only command of this language is called BitBitJump (copy a bit and go to the address).  This, of course, esoteric, language is Turing complete — that is, any computer algorithm can be implemented on it. <br><br>  A detailed description of BitBitJump and assembler for this language can be found <a href="http://mazonka.com/bbj/index.html">on the developer’s website</a> .  To describe the algorithm of the processor is enough to know the following: <br>  1. When turning on the processor in the registers PC, A and B are written 0 <br>  2. Read the memory cell with the PC address and save the read in register A <br>  3. Increase PC <br>  4. Read the memory cell with the PC address and save the read in register B <br>  5. Increase PC <br>  6. Write to the cell with the address recorded in the register B, the contents of the bit with the address A. <br>  7. Read the memory cell with the address of the PC and save the read in register B <br>  8. Write to the PC register the contents of register B <br>  9. Go to paragraph 2 of our plan. <br>  <s>10. PROFIT !!!</s> <br><br>  Unfortunately, the algorithm is infinite, and therefore PROFIT will not be achieved. <br><br><h5>  Actually, the scheme </h5><br>  The scheme was built spontaneously, so fear, horror and confusion reign in it.  However, it works, and works decently.  To turn on the processor, you need: <br>  1. Enter the program into RAM <br>  2. Press the switch <br>  3. Set the counter to position 4 (this can be done in hardware, but the circuit would become even more cumbersome) <br>  4. Turn on the clock generator <br><br>  As you can see, one register, one shift register, one RAM chip, two binary counters, one demultiplexer (represented by comparators), two multiplexers and some pure logic are used. <br><br><img src="https://habrastorage.org/storage1/6ff85c3b/410a1f1b/0a657002/e39b69f7.png"><br><br>  You can download <a href="http://narod.ru/disk/31367690001/oo.circ.html">the circ format</a> for the <a href="http://ozark.hendrix.edu/~burch/logisim/">Logisim</a> program, and play around. <br><br><h5>  What's next? </h5><br>  First, you can increase the processor's bit depth - by replacing 8-bit elements with 16-bit elements. <br>  Secondly, you can remove the RAM from the processor, and add a simple circuit that will pause the processor, change the RAM and turn on the processor again.  This scheme will perform the functions of a simple I / O controller.  Then it will be possible to make a calculator, controller, or some other funny useless thing based on this processor. <br>  Thirdly, it is possible to embody all this scheme in the gland.  What am I going to do.  As soon as I do, I will definitely tell and show. <br><br>  Thank you all for your attention! <br><br>  PS Links (for those who are too lazy to read): <br>  1. URISC processors - <a href="http://ru.wikipedia.org/wiki/Urisc">en.wikipedia.org/wiki/Urisc</a> <br>  2. BitBitJump language site - <a href="http://mazonka.com/bbj/index.html">mazonka.com/bbj/index.html</a> <br>  3. A program for modeling Logisim logic schemes - <a href="http://ozark.hendrix.edu/~burch/logisim/">http://ozark.hendrix.edu/~burch/logisim/</a> <br>  4. Self-made URISC (ORISC) processor for Logisim - <a href="http://narod.ru/disk/31367690001/oo.circ.html">narod.ru/disk/31367690001/oo.circ.html</a> </div><p>Source: <a href="https://habr.com/ru/post/132486/">https://habr.com/ru/post/132486/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../132474/index.html">How is electronic document management taught in a technical college?</a></li>
<li><a href="../132476/index.html">Tao late</a></li>
<li><a href="../132479/index.html">HTML5 console from Google</a></li>
<li><a href="../132482/index.html">Our nuggets 2</a></li>
<li><a href="../132483/index.html">Making a home radio field “cleaner” on the example of Wi-Fi networks</a></li>
<li><a href="../132487/index.html">Integrating MATLAB into C # .NET</a></li>
<li><a href="../132489/index.html">The experience of creating image loader</a></li>
<li><a href="../132490/index.html">Video player from scrap materials</a></li>
<li><a href="../132491/index.html">Google refused to remove popular MP3 Music Download Pro from Android Market</a></li>
<li><a href="../132492/index.html">Photo and video files in the home collection - processing and storage</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>