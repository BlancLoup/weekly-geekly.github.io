<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Create a fully automatic farm (finished implementation)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We continue to review the activities of our Hackspace Club . 

 In the previous article , the idea of ‚Äã‚Äãcreating a fully automatic autonomous farm nea...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Create a fully automatic farm (finished implementation)</h1><div class="post__text post__text-html js-mediator-article">  We continue to review the activities of our <a href="http://vk.com/club71815206">Hackspace Club</a> . <br><br>  In the previous <a href="http://habrahabr.ru/company/minirobot/blog/253079/">article</a> , the idea of ‚Äã‚Äãcreating a fully automatic autonomous farm near our mini-hotel in the Crimea was voiced.  And we did it.  Ideas were technically implemented. <br><br>  7 experimental images, i.e.  Ordinary chickens (age 4 months, girls), were launched for permanent residence in a cage equipped with everything necessary for life support.  The rooster was decided not to settle with the birds, yet the resort area and its singing in the mornings will not be liked by many. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Chickens 3 weeks without a person.  Grow and look satisfied.  The experiment is proceeding normally. <br>  Here is a video of the life of our birds in conditions without human intervention, offline, i.e.  in the conditions of automated feeding and watering on a schedule, cleaning, heating and light The most interesting moments will be spread in the process <a href="https://www.youtube.com/channel/UCUOzivUxSHWy7HtKZlBogsg">here</a> . <br><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/aOtMB6FfVgk%3Ffeature%3Doembed&amp;xid=17259,15700022,15700043,15700186,15700191,15700248,15700253&amp;usg=ALkJrhi_qxIiU8xregnZ7fePqxnVrPAGHg" frameborder="0" allowfullscreen=""></iframe><br>  There are few words under the cut, a lot of photos and videos. <br><a name="habracut"></a><br>  I described the automatic farm control unit in the previous <a href="http://habrahabr.ru/company/minirobot/blog/253079/">article</a> .  The only thing that changed is that it added a DC-DC conversion chip to power the Raspberry PI.  For it you need 5V and I purchased an uninterruptible power supply for 12V. <br><br><img src="https://habrastorage.org/files/23b/26b/538/23b26b538eb047eab20d7738cf9e9cb0.jpg"><br><br>  Solid-state relays at 220v 25A, to turn on the lighting, although there is a window, it may not be very light on cloudy days.  And also to turn on the fecal pump and infrared lamp for heat.  At night, even in the Crimea, it is cold, especially in winter.  Therefore, the issue of heating the living creatures should be worked out in advance. <br><br><img src="https://habrastorage.org/files/474/8cd/216/4748cd216f5c430b906641612c84e46e.jpg"><br><br>  Controlled sockets that are controlled by a solid-state relay. <br><br><img src="https://habrastorage.org/files/25c/cb8/aac/25ccb8aacd2f4e70ae46be201cc62cdd.jpg"><br><br>  Drinking bowl turned out successful, hens will not be able to climb into it with legs.  When filling the drinker, the valve on time was chosen so that the water would fill the drinker and the water would overflow for several minutes, thereby refreshing the water every day.  At the same time, it turned out to be an interesting attraction for birds, judging by the online video, brave birds are trying to drink streams of spilling water. <br><br><img src="https://habrastorage.org/files/650/74e/c26/65074ec26e9843e28920fffc361a9feb.jpg"><br><br>  Reserve drinker: <br><br><img src="https://habrastorage.org/files/a86/c9c/7e1/a86c9c7e156e4fe8993e01ac5893c8f0.jpg"><br><br>  Water supply valve, controlled by 12V. <br><br><img src="https://habrastorage.org/files/ba7/b26/df7/ba7b26df78034be4b85ff6395b6bb570.jpg"><br><br>  Capacity on 120 liters with the fecal pump. <br><br><img src="https://habrastorage.org/files/238/df5/0ef/238df50ef3464b54bd3e92cb1de9b887.jpg"><br><br>  Feeding trough view outside, the test helped to do, for which he thanks a lot. <br><br><img src="https://habrastorage.org/files/4e1/55e/3b2/4e155e3b2d7145f095665fd574645169.jpg"><br><br>  The trough is inside the view, obviously there is simply no place to catch the stern, so the vibromotor did not begin to do, and there was already no time and energy. <br><br><img src="https://habrastorage.org/files/30e/bce/9e7/30ebce9e70d840f98d9636c4aba48557.jpg"><br><br>  The feeder is full, the feed contains about 40 kg. <br><br><img src="https://habrastorage.org/files/d82/cc5/d95/d82cc5d950864836b1cc63f00f2a716a.jpg"><br><br>  The video camera on which I control the whole process is bad but the other one is not there yet.  The first video in this article is recorded on it. <br><br><img src="https://habrastorage.org/files/d21/03a/0a5/d2103a0a5dd841329f95648e89aba68f.jpg"><br><br>  12V uninterruptible power supply.  It feeds only Raspberry PI, feeder motors and water valve.  The most necessary for the viability of chickens.  I experienced when turning off the light for a day no failure occurred.  Feeders fed drinkers watered. <br><br><img src="https://habrastorage.org/files/9de/d03/b65/9ded03b659e24d13a36462722a97628e.jpg"><br><br>  The router on which I spread on the ports of control of the video camera and Raspberry PI. <br><br><img src="https://habrastorage.org/files/a6f/f3c/a5f/a6ff3ca5fdb74e1d98117c2872a5d8a1.jpg"><br><br>  General view of the chicken coop with three feeders, now there is an infrared lamp for heat. <br><br><img src="https://habrastorage.org/files/c1e/7a3/caa/c1e7a3caa3a5425e9ffd75be3a4b567a.jpg"><br><br>  Well, the most interesting.  For all, judging by the comments of the previous article, this is a video of cleaning the pan with water.  Along the entire cage, pipes are laid in which the bottom is made with an interval of 10 cm. Holes 3 mm in diameter.  When water is supplied from all openings, water flows.  When removing this video, the pressure was very weak, but the quality of the video was good, it was not shot at the remote camera. <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/c6_k7xZWLoQ%3Ffeature%3Doembed&amp;xid=17259,15700022,15700043,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhAt3vf8AM66QZU9RQS16aBm5jcsQ" frameborder="0" allowfullscreen=""></iframe><br><br>  The process of automatically turning on the fecal pump removed from a remote camera recently. <br><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/RzSRWDGBI0g%3Ffeature%3Doembed&amp;xid=17259,15700022,15700043,15700186,15700191,15700248,15700253&amp;usg=ALkJrhiLHZVVXzRSyY9xitss3Tnqy9-FnA" frameborder="0" allowfullscreen=""></iframe><br><br>  I did not use the program described in the <a href="http://habrahabr.ru/company/minirobot/blog/253079/">previous article</a> , I decided to use the standard Linux cron.  Wrote for each remote device, whether it is a feeding trough, a drinking bowl, a light, an infrared lamp or a fecal pump.  Small programs like this: <br><br><div class="spoiler">  <b class="spoiler_title">code</b> <div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;wiringPi.h&gt; #include &lt;wiringSerial.h&gt; #include &lt;stdio.h&gt; #include &lt;time.h&gt; int main (void) { time_t rawtime; struct tm * timeinfo; time ( &amp;rawtime ); timeinfo = localtime ( &amp;rawtime ); printf ( "datetime %s\n", asctime (timeinfo) ); int tt_hour = timeinfo-&gt;tm_hour; int tt_min = timeinfo-&gt;tm_min; int tt_sec = timeinfo-&gt;tm_sec; // printf ( "hour - %d\n", tt_hour); // printf ( "min - %d\n", tt_min); //printf ( "datetime %d\n", tt_hour); printf("kormcrom\n"); // 1 draiver motora int pin0 = 0; //11 noga int pin1 = 1; //12 int pin3 = 3; //15 int pin4 = 4; //16 // 2 draiver motora int pin7 = 7; //7 noga int pin5 = 5; //18 int pin6 = 6; //22 int pin10 = 10; //24 // 3 draiver motora int pin11 = 11; //26 noga int pin12 = 12; //19 int pin13 = 13; //21 int pin14 = 14; //23 int i; if (wiringPiSetup() == -1) return (1); pinMode(pin0, OUTPUT); pinMode(pin1, OUTPUT); pinMode(pin3, OUTPUT); pinMode(pin4, OUTPUT); pinMode(pin7, OUTPUT); pinMode(pin5, OUTPUT); pinMode(pin6, OUTPUT); pinMode(pin10, OUTPUT); pinMode(pin11, OUTPUT); pinMode(pin12, OUTPUT); pinMode(pin13, OUTPUT); pinMode(pin14, OUTPUT); digitalWrite(pin0, 0); digitalWrite(pin1, 1); printf("KORM cron On\n"); delay(25000); digitalWrite(pin0, 0); digitalWrite(pin1, 0); printf("korm cron Off\n"); return 0; }</span></span></span></span></code> </pre> <br></div></div><br>  And in the Linux cron I set the schedule: <br><br>  01 7 * * * root / home / ledon &gt;&gt; /home/log/led.log - turn on the light in the morning <br>  10 7 * * * root / home / korm &gt;&gt; /home/log/korm.log - enable the 1st feeder <br>  01 14 * * * root / home / korm34 &gt;&gt; /home/log/korm34.log - turn on the 2nd feeder <br>  10 14 * * * root / home / water2 &gt;&gt; /home/log/water2.log - supply water to the drinker <br>  01 19 * * * root / home / korm106 &gt;&gt; /home/log/korm106.log - enable the third feeder <br>  01 20 * * * root / home / ledoff &gt;&gt; /home/log/led.log - turn off the light in the evening <br>  30 14 * * 2 root / home / fekal &gt;&gt; /home/log/fekal.log - once a week to pump water from the tank <br><br>  At the same time I write logs for each device separately. <br>  In general, almost everything that was conceived was realized. <br>  I spent the whole vacation for 2 weeks on this, I lost 10 pounds by weight. Before that, I hadn‚Äôt raised anything heavier than a pen for two years.  But how nice it is now on the cameras to watch their work. <br>  Now I put exactly the same Raspberry PI on my desk, debug the program on it, and only then upload it to the remote.  I read, so in NASA do with rovers.  But it is not known who is more at risk - NASA or I, if something goes wrong, my mother-in-law should ask to go 30 km.  overload the Raspberry PI. <br><br>  Now we are thinking about creating a fully automated pig farm, imagine buying small pigs, putting them in a pigsty, and after half a year - getting a whole boar for 120-150 kg.  Fantasy?  Well, about two months ago I thought about the chicken coop.  And half a year ago, I could not even imagine that I would be bound to something with agriculture.  But I think this kind of agriculture and you will like the dear habrary readers. <br>  ps Here destray helped set up an online camera.  We bring to your attention - hot tsipochka online without registration and SMS :) <a href="http://www.ivideon.com/tv/camera/100-d73dad0c45719a28e8d98ca56aa99060/0/%3Flang%3Dru">www.ivideon.com/tv/camera/100-d73dad0c45719a28e8d98ca56aa99060/0/?lang=ru</a> </div><p>Source: <a href="https://habr.com/ru/post/255321/">https://habr.com/ru/post/255321/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../255307/index.html">HuaQiangBei electronic market in Shenzhen</a></li>
<li><a href="../255309/index.html">QGIS is the main tool for working with spatial information. An overview of thematic resources for beginners.</a></li>
<li><a href="../255311/index.html">Global Education: Russian government scholarship program for study abroad</a></li>
<li><a href="../255315/index.html">AppStore comprehension path or how much experience?</a></li>
<li><a href="../255317/index.html">openEMS is an open source electromagnetic simulator</a></li>
<li><a href="../255323/index.html">We are switching from STM32 to the Russian K1986BE92QI microcontroller. Setting up the project in keil and flashing LED</a></li>
<li><a href="../255325/index.html">Malefactors use complex malware to attack Russian business</a></li>
<li><a href="../255327/index.html">Why one AJAX is not enough: WAMP protocol</a></li>
<li><a href="../255329/index.html">Simulate sensor readings using an array of waypoints</a></li>
<li><a href="../255331/index.html">Vulnerability in Xamarin for Android: we replace dll and we eat for free</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>