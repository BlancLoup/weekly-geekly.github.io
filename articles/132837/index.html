<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Atlassian Confluence and JIRA Expansion with Speakeasy</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="What for? 





 Anyone who has ever been interested in the issue of ‚Äúfitting‚Äù JIRA , Confluence or another Atlassian product to you knows that the At...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Atlassian Confluence and JIRA Expansion with Speakeasy</h1><div class="post__text post__text-html js-mediator-article"><h1>  What for? </h1><br><br><img src="https://habrastorage.org/storage1/0b9ee249/a7d3f09c/ad73ada3/7f86b94d.jpg"><br><br><p>  Anyone who has ever been interested in the issue of ‚Äúfitting‚Äù <a href="http://www.atlassian.com/software/jira/">JIRA</a> , <a href="http://www.atlassian.com/software/confluence/">Confluence</a> or another <a href="http://www.atlassian.com/">Atlassian</a> product to you knows that the <a href="https://developer.atlassian.com/display/DOCS/Developing%2Bwith%2Bthe%2BAtlassian%2BPlugin%2BSDK">Atlassian SDK</a> exists for this purpose. </p>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>  And the one who has been digging at least once in this SDK represents how much time and small gray cells should be spent in order to penetrate into all this, especially if there is no older comrade who will instruct on the true path. </p><br><a name="habracut"></a><br><br><p>  It is especially offensive when, in the midst of work on an important project, with a catastrophic lack of time, one of the clients asks to fasten some small thingies in Confluence or hide some reference in JIRA.  And customers have to ask to wait, what they are accustomed to take offense.  And the problem is aggravated by the fact that the client often has its own full-time programmers who, unfortunately, cannot do anything, because  do not have knowledge in the development of plug-ins for Atlassian products and will not be able to gain this experience in a couple of days. </p><br><br><p>  Apparently, the Atlassian guys also understand this, which is why <a href="https://developer.atlassian.com/display/SPEAK/Speakeasy">Speakeasy</a> technology was presented to users and administrators.  The technology itself is no longer new - the presentation of its early beta was timed to <a href="http://codegeist.atlassian.com/">Codegeist 2011</a> , a competition for plug-in developers, but only now it seems that more or less stable versions are coming out that you can not be afraid to install in a production system. </p><br><br><p>  Speakeasy, unlike the Atlassian SDK, allows you to customize only what the user sees ‚Äî change pages by adding JavaScript, markup, or styles to them.  But it makes it much easier than using the SDK.  Something like this makes the Firefox add-on <a href="https://addons.mozilla.org/en-US/firefox/addon/greasemonkey/">Greasemonkey</a> , but here we are not limited to one browser and do not force the user to install something else there. </p><br><br><h2>  Who needs it? </h2><br><p>  Although it calls for Speakeasy to be a mass technology that will allow any user to customize JIRA and Confluence, this is obviously not quite the case.  In most cases (but not always) you will need basic JavaScript programming skills and HTML + CSS layout.  But for this you do not need to read the docks on the Atlassian SDK!  And this, for a moment, hundreds of interesting and intriguing pages in English. </p><br><br><p>  Therefore, in the number of people who can get profit from Speakeasy, I would count: </p><br><ul><li>  Developers, and especially web developers.  These people almost immediately, without additional training, can begin to make extensions using Speakeasy. </li><li>  Administrators.  Administrators, too, often know how to program and will be able to make some extension for their favorite users.  And if we take into account that when using Speakeasy, the users themselves decide whether to use any extension for them or not, then we get a huge space for maneuvering between their mutually exclusive wishes. </li><li>  Managers will no longer be sad after the phrase of the developer ‚ÄúYes, I will do such a thing, but I need two weeks to study the SDK and will conduct experiments for another month,‚Äù and they will say with a clean (or almost pure) conscience ‚ÄúYou don‚Äôt need to learn anything!  Go do it immediately, dear! ‚Äù </li></ul><br><br><h2>  And immediately into battle! </h2><br><p>  Let's create from scratch a few simple but useful extensions.  All examples are given for Confluence 3.5, since  fresh version 4.0 is not so much gone to the people.  But almost all of the below will be adequate for the 4th version.  Accordingly, there will be no fundamental differences in the development of extensions for JIRA. </p><br><br><h3>  Example 0, which is not an example at all - Speakeasy Setup </h3><br><p>  To get started, you still need an administrator to install Speakeasy on the server and distribute the necessary rights. </p><br><br><p>  Fresh and not so versions of Speakeasy are distributed in the <a href="https://plugins.atlassian.com/plugin/details/375213">Plugin Exchange</a> and in the corresponding <a href="https://maven.atlassian.com/content/repositories/atlassian-public/com/atlassian/labs/speakeasy-plugin/">maven repository</a> . </p><br><br><p>  After the plugin is installed, you should decide which groups of users will have the right to create their extensions, and which groups of users will be able to include these extensions for themselves (Administration - Plugins - Manage Existing - Speakeasy Plugin - Configure). </p><br><br><p>  It should be noted separately that by default the administrator is not allowed to include Speakeasy extensions.  This is done, obviously, for security purposes.  But on the test system, the ‚ÄúAllow administrators to enable extensions‚Äù setting can be enabled. </p><br><br><h3>  Example 1 - Historical </h3><br><p>  In this example, we add a link to the history of the page in a prominent place so as not to climb every time behind it in the drop-down menu. </p><br><br><p>  We go to the page with Speakeasy extensions. </p><br><img src="https://habrastorage.org/storage1/ecb9deb7/17e1244c/face0382/48d2793a.png"><br><br><p>  Click the Install link and in the dialog that appears, choose to use the Wizard, and in the Wizard itself we will enter the unique identifier of the extension, its name and description. </p><br><img src="https://habrastorage.org/storage1/683632c4/285d41d3/a6c76999/4dbe88a6.png"><br><br><p>  After that, an extension with such ‚Äúparameters‚Äù and standard test content will be created and installed.  With the ‚ÄúMore - Edit‚Äù button we find ourselves in a simple but useful web editor where we can program a couple of lines of our extension. </p><br><br><img src="https://habrastorage.org/storage1/cbf03d30/01938b62/baa9885a/c1eaf625.jpg"><br><br><p>  We are interested in the main.js file, because it should contain the main JavaScript logic. </p><br><br><pre><code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/** * @context page */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> $ = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'speakeasy/jquery'</span></span>).jQuery; $(<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>).ready(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> href = $(<span class="hljs-string"><span class="hljs-string">'a#action-view-history-link'</span></span>).attr(<span class="hljs-string"><span class="hljs-string">'href'</span></span>); $(<span class="hljs-string"><span class="hljs-string">'a#view-change-link'</span></span>).after(<span class="hljs-string"><span class="hljs-string">", &lt;a href='"</span></span>+ href +<span class="hljs-string"><span class="hljs-string">"'&gt;view history&lt;/a&gt;"</span></span>); });</code> </pre> <br><br><p>  For a person who knows JS and jQuery, writing such strings will not be difficult at all, but those who are not friends with JavaScript will be able to write similar code using google.  Separately, I will only mention the entry "@context page" in the comment.  It indicates which contexts (read, page types) this script should run.  Now we are only interested in wiki-pages, and a list of contexts can be found <a href="https://developer.atlassian.com/display/CONFDEV/Web%2BResource%2BModule">on this page</a> . </p><br><br><p>  And this is what we get as a result: </p><br><img src="https://habrastorage.org/storage1/4586b9f7/c10e2041/e126cb20/9fca3b0c.png"><br><br><h3>  Example 2 - Informative </h3><br><p>  Modifying something in the standard UI is great, and even better when we can fill the modified UI with some new information. </p><br><br><p>  For information you can use all the features of JavaScript / JQuery - REST, SOAP, XML-RPC.  Fortunately, Confluence and JIRA have such <a href="https://developer.atlassian.com/display/CONFDEV/Confluence%2BRemote%2BAPI%2BReference">interfaces</a> . </p><br><br><p>  Let's try to use the simplest REST interface, which can only receive information about various entities from Confluence.  We will request the date of the page creation to organically place it in the standard Confluence interface next to the date of the last edit. </p><br><br><p>  The code in this case looks like this: </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/** * @context page */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> $ = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'speakeasy/jquery'</span></span>).jQuery; $(<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>).ready(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> pageId = $(<span class="hljs-string"><span class="hljs-string">'input#pageId'</span></span>).attr(<span class="hljs-string"><span class="hljs-string">'value'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> serviceUrl = <span class="hljs-string"><span class="hljs-string">'/rest/prototype/1/content/'</span></span> + pageId + <span class="hljs-string"><span class="hljs-string">'.json'</span></span>; $.getJSON( serviceUrl, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">data</span></span></span><span class="hljs-function">) </span></span>{ $(<span class="hljs-string"><span class="hljs-string">'li.page-metadata-modification-info a:first'</span></span>).after(<span class="hljs-string"><span class="hljs-string">" on "</span></span> + data.createdDate.friendly); }); });</code> </pre><br><br><p>  And here is the modified UI: </p><br><img src="https://habrastorage.org/storage1/e41a66e7/11bb6a4a/1366437c/1670ef86.png"><br><br><p>  Because  all the scripts work out when the page loads, the user does not notice any ‚Äúflickering‚Äù like ‚Äúthere was no date and it suddenly appeared‚Äù. </p><br><br><h3>  Example 3 - Punctual </h3><br><p>  Some Atlassian-specific things are available in Speakeasy extensions.  Among them - work with <a href="https://developer.atlassian.com/display/PLUGINFRAMEWORK/Web%2BItem%2BPlugin%2BModule">WebItem</a> .  Speaking in a simple way, you have the opportunity to add your menu items to the pages, next to the standard items. </p><br><br><p>  To do this, inside the extension is a file web-items.json, which describes the menu item you need.  Let's go straight to the example: </p><br><br><pre> <code class="hljs json">[ { <span class="hljs-attr"><span class="hljs-attr">"section"</span></span> : <span class="hljs-string"><span class="hljs-string">"system.content.action/primary"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"label"</span></span> : <span class="hljs-string"><span class="hljs-string">"Revert"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"url"</span></span> : <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">"cssName"</span></span> : <span class="hljs-string"><span class="hljs-string">"stiltsoft-web-item"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"weight"</span></span> : <span class="hljs-number"><span class="hljs-number">25</span></span> } ]</code> </pre><br><br><p>  This creates a new item called Revert in the Tools menu.  The URL parameter can specify the address you need, but I acted a bit more cunning and did not specify the URL, but added JavaScript to this item (see below). </p><br><br><p>  The item itself is needed to quickly roll back to the previous revision of the page, and the JavaScript code, respectively, calculates the number of this revision: </p><br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/** * @context atl.general */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> $ = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'speakeasy/jquery'</span></span>).jQuery; $(<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>).ready(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> pageId = $(<span class="hljs-string"><span class="hljs-string">'input#pageId'</span></span>).attr(<span class="hljs-string"><span class="hljs-string">'value'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> revision = $(<span class="hljs-string"><span class="hljs-string">"meta[name='page-version']"</span></span>).attr(<span class="hljs-string"><span class="hljs-string">'content'</span></span>); $(<span class="hljs-string"><span class="hljs-string">'a.revert-web-item'</span></span>).attr(<span class="hljs-string"><span class="hljs-string">'href'</span></span>,<span class="hljs-string"><span class="hljs-string">'/pages/revertpagebacktoversion.action?pageId='</span></span>+pageId+<span class="hljs-string"><span class="hljs-string">'&amp;version='</span></span>+(revision<span class="hljs-number"><span class="hljs-number">-1</span></span>)); });</code> </pre><br><br><p>  This item looks like this: </p><br><img src="https://habrastorage.org/storage1/6227a3cb/dfcb73eb/f0969b5e/df556761.png"><br><br><h3>  Example 4 - Interactive </h3><br><p>  SpeakEasy developers and fans of creating beautiful interfaces have not forgotten.  Speakeasy itself includes the ability to create a beautiful dialogue, in the style of Confluence / JIRA itself, using the openOnePanelDialog method.  This is what the code looks like: </p><br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/** * The main module * * @context atl.general */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> $ = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'speakeasy/jquery'</span></span>).jQuery; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dialog = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'speakeasy/dialog'</span></span>); $(<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>).ready(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ $(<span class="hljs-string"><span class="hljs-string">'span#title-text'</span></span>).after(<span class="hljs-string"><span class="hljs-string">"&lt;span class='stiltsoft-source'&gt;&lt;a href='#' id='stiltsoft-view-source'&gt;View source&lt;/a&gt;&lt;/span&gt;"</span></span>); $(<span class="hljs-string"><span class="hljs-string">'a#stiltsoft-view-source'</span></span>).click(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> url=$(<span class="hljs-string"><span class="hljs-string">'a#action-view-source-link'</span></span>).attr(<span class="hljs-string"><span class="hljs-string">'href'</span></span>); $.get(url,<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">data</span></span></span><span class="hljs-function">)</span></span>{ dialog.openOnePanelDialog( { <span class="hljs-string"><span class="hljs-string">'header'</span></span>:<span class="hljs-string"><span class="hljs-string">'Page source'</span></span>, <span class="hljs-string"><span class="hljs-string">'content'</span></span>:$(data).find(<span class="hljs-string"><span class="hljs-string">'div#content'</span></span>), <span class="hljs-string"><span class="hljs-string">'submitLabel'</span></span>:<span class="hljs-string"><span class="hljs-string">'OK'</span></span>, <span class="hljs-string"><span class="hljs-string">'cancelClass'</span></span>:<span class="hljs-string"><span class="hljs-string">'stiltsoft-cancel'</span></span>, <span class="hljs-string"><span class="hljs-string">'submit'</span></span>:<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">dialog,callback</span></span></span><span class="hljs-function">)</span></span>{ callback.success(); } }); } ); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; }); });</code> </pre><br><br><p>  This code adds a View Source link to the page header, which, in fact, displays a beautiful dialog with the source code of the page.  In the extension, there was a little more magic with CSS to hide the extra dialog buttons, but for example this is not the most important. </p><br><br><p>  Something like this, it looks like on the screen: </p><br><img src="https://habrastorage.org/storage1/710f64aa/b9f151e1/b3a5ac28/27c08fbe.jpg"><br><br><p>  For those who do not have just one dialogue, it is worth referring to the <a href="https://developer.atlassian.com/display/AUI/Atlassian%2BUser%2BInterface%2B%2528AUI%2529%2BDeveloper%2BDocumentation">AUI</a> (Atlassian User Interface) library.  This is a fully client-side JavaScript library containing all those main elements (dialogs, popups, drop-down menus, etc.) from which the Atlassian products interface is built.  Therefore, your extension using AUI will not differ in appearance from the rest of the interface. </p><br><br><p>  In order to immediately ‚Äúplunge‚Äù into this technology, I advise you to visit <a href="http://docs.atlassian.com/aui/latest/demo-pages/">AUI Demo</a> , <a href="http://docs.atlassian.com/aui/latest/sandbox/">AUI Sandbox</a> and play a bit with the elements there. </p><br><br><h3>  Example 5 - Magic </h3><br><p>  The laziest of us can use a special Firefox-plugin (created on the basis of <a href="https://addons.mozilla.org/en-US/firefox/addon/platypus/">platypus</a> ), which allows you to visually make changes to the page, and then save the resulting changes in the form of SpeakEasy-extension. </p><br><br><p>  And, of course, it is better to see once.  Developer videos: </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://player.vimeo.com/video/25658567" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br><h2>  What's next? </h2><br><p>  Speakeasy technology continues to evolve, although, I must say, there is nothing supernatural about it.  But there is a convenient and useful.  Whether Speakeasy will become ‚Äústandard‚Äù for Atlassian products with technology and whether it will come in a standard package will be shown by the time and activity of the expansion of the writers.  But it does not hurt us to make our life a little easier today :) </p></div><p>Source: <a href="https://habr.com/ru/post/132837/">https://habr.com/ru/post/132837/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../132830/index.html">Bicyclist robot</a></li>
<li><a href="../132832/index.html">‚ÄúDouble‚Äù StartUp or how the customer became a performer</a></li>
<li><a href="../132834/index.html">Asynchronous UI: the future of web interfaces</a></li>
<li><a href="../132835/index.html">TechCrunch Moscow 2011</a></li>
<li><a href="../132836/index.html">Released 2.0.2, soon rally of users and 2.0.3</a></li>
<li><a href="../132839/index.html">We use Google Docs on iOS and Android. Almost without mat</a></li>
<li><a href="../132840/index.html">What you did not expect from the calculator. Solitaire on bc</a></li>
<li><a href="../132841/index.html">StatCounter: Chrome caught up with Firefox and PC World's opinion of Internet Explorer 9</a></li>
<li><a href="../132842/index.html">Diodes. For dummies</a></li>
<li><a href="../132843/index.html">Study TurboLaunch 5.1.3 protection program</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>