<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Phalcon 1.1 beta</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Go 
 After the successful release of the PHP framework Phalcon 1.0 , the development team continues to work on its development. In this article I want...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Phalcon 1.1 beta</h1><div class="post__text post__text-html js-mediator-article">  Go <img align="right" src="https://habrastorage.org/storage2/ede/b07/dd7/edeb07dd7dacef7135ae417b1ecedb46.png"><br>  After the successful release of the PHP framework <a href="http://habrahabr.ru/post/171915/">Phalcon 1.0</a> , the development team continues to work on its development.  In this article I want to highlight the most interesting features presented in version 1.1.0 of BETA <br><br><ul><li>  <a href="http://habrahabr.ru/post/177691/">Pagination of query design results (QueryBuilder)</a> </li><li>  <a href="http://habrahabr.ru/post/177691/">Queue Server Beanstalkd</a> </li><li>  <a href="http://habrahabr.ru/post/177691/">Encryption</a> </li><li>  <a href="http://habrahabr.ru/post/177691/">Assets Management</a> </li><li>  <a href="http://habrahabr.ru/post/177691/">Exception mode for ORM validators</a> </li><li>  <a href="http://habrahabr.ru/post/177691/">Routing by host name</a> </li><li>  <a href="http://habrahabr.ru/post/177691/">Using Controllers in Mvc \ Micro Applications</a> </li><li>  <a href="http://habrahabr.ru/post/177691/">Afterword</a> </li><li>  <a href="http://habrahabr.ru/post/177691/">Help the community by voting for Phalcon support in cPanel</a> </li></ul><br><br><a name="habracut"></a><br><a name="chapter1"></a><br><h4>  Pagination in Query Builder (QueryBuilder) </h4><br>  Previously, the paginator was available only for the output of data from the Model and native arrays.  Now pagination can be used to output data of an arbitrary query through the QueryBuilder constructor, which uses the LIMIT / OFFSET SQL statements.  It will be useful for displaying large data sets. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Phalcon</span></span>\<span class="hljs-title"><span class="hljs-title">Paginator</span></span>\<span class="hljs-title"><span class="hljs-title">Adapter</span></span>\<span class="hljs-title"><span class="hljs-title">QueryBuilder</span></span>; $builder = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;modelsManager-&gt;createBuilder() -&gt;columns(<span class="hljs-string"><span class="hljs-string">'id, name'</span></span>) -&gt;from(<span class="hljs-string"><span class="hljs-string">'Robots'</span></span>) -&gt;orderBy(<span class="hljs-string"><span class="hljs-string">'name'</span></span>); $paginator = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Paginator(<span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">"builder"</span></span> =&gt; $builder, <span class="hljs-string"><span class="hljs-string">"limit"</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-string"><span class="hljs-string">"page"</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span> )); $page = $paginator-&gt;getPaginate();</code> </pre> <br><br><a name="chapter2"></a><br><h4>  Queue Server Beanstalkd </h4><br>  A simple client for the <a href="http://kr.github.io/beanstalkd/">Beanstalkd</a> queue server is now part of the framework. <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//    $queue = new Phalcon\Queue\Beanstalk(array( 'host' =&gt; '192.168.0.21' )); //     ( ) $queue-&gt;put(array('proccessVideo' =&gt; 4871)); //     ( ) $queue-&gt;put( array('proccessVideo' =&gt; 4871), array('priority' =&gt; 250, 'delay' =&gt; 10, 'ttr' =&gt; 3600) ); while (($job = $queue-&gt;peekReady()) !== false) { $message = $job-&gt;getBody(); var_dump($message); $job-&gt;delete(); }</span></span></code> </pre><br><br><a name="chapter3"></a><br><h4>  Encryption </h4><br>  This version of Phalcon has added a PHP-based <a href="http://php.net/manual/en/book.mcrypt.php">mcrypt</a> encryption class <a href="http://php.net/manual/en/book.mcrypt.php">.</a> <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//     $encryption = new Phalcon\Crypt(); $key = 'le password'; $text = 'This is a secret text'; $encrypted = $encryption-&gt;encrypt($text, $key); echo $encryption-&gt;decrypt($encrypted, $key);</span></span></code> </pre><br><br><a name="chapter4"></a><br><h4>  Assets Management </h4><br>  With this component, you can easily manage static resources such as CSS and Javascript. <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//      CSS $this-&gt;assets -&gt;addCss('css/style.css') -&gt;addCss('css/index.css'); //  - js- $this-&gt;assets -&gt;addJs('js/jquery.js') -&gt;addJs('js/bootstrap.min.js');</span></span></code> </pre><br><br>  and then show them in the template <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span>Some amazing website<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?php</span></span></span><span class="php"> </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">$this</span></span></span><span class="php">-&gt;assets-&gt;outputCss() </span><span class="hljs-meta"><span class="php"><span class="hljs-meta">?&gt;</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span> <span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?php</span></span></span><span class="php"> </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">$this</span></span></span><span class="php">-&gt;assets-&gt;outputJs() </span><span class="hljs-meta"><span class="php"><span class="hljs-meta">?&gt;</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br><a name="chapter5"></a><br><h4>  Exception mode for ORM validators </h4><br>  During data validation, in the process of creating / updating a database record, the save () / create () / update () methods return a boolean value, i.e.  FALSE if one of the parameters failed validation.  Now this behavior can be changed and an exception is thrown: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Phalcon</span></span>\<span class="hljs-title"><span class="hljs-title">Mvc</span></span>\<span class="hljs-title"><span class="hljs-title">Model</span></span>\<span class="hljs-title"><span class="hljs-title">ValidationFailed</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { $robot = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Robots(); $robot-&gt;name = <span class="hljs-string"><span class="hljs-string">'Bender'</span></span>; $robot-&gt;save(); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (ValidationFailed $e) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'Reason: '</span></span>, $e-&gt;getMessage(); }</code> </pre><br><br><a name="chapter6"></a><br><h4>  Routing by host name </h4><br>  In the routing rules, you can now specify the host name <br><br><pre> <code class="php hljs">$router = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Phalcon\Mvc\Router(); $router-&gt;addGet(<span class="hljs-string"><span class="hljs-string">'/api/robots'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'module'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'api'</span></span>, <span class="hljs-string"><span class="hljs-string">'controller'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'robots'</span></span>, <span class="hljs-string"><span class="hljs-string">'action'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'index'</span></span> ))-&gt;setHostName(<span class="hljs-string"><span class="hljs-string">'api.phalconphp.com'</span></span>);</code> </pre><br><br>  You can also use a route group. <br><pre> <code class="php hljs">$group = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Phalcon\Mvc\Router(); $group-&gt;setHostName(<span class="hljs-string"><span class="hljs-string">'api.phalconphp.com'</span></span>); $groop-&gt;addGet(<span class="hljs-string"><span class="hljs-string">'/api/robots'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'module'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'api'</span></span>, <span class="hljs-string"><span class="hljs-string">'controller'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'robots'</span></span>, <span class="hljs-string"><span class="hljs-string">'action'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'index'</span></span> )); $groop-&gt;addGet(<span class="hljs-string"><span class="hljs-string">'/api/robots/{id}'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'module'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'api'</span></span>, <span class="hljs-string"><span class="hljs-string">'controller'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'robots'</span></span>, <span class="hljs-string"><span class="hljs-string">'action'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'show'</span></span> )); $router-&gt;mount($group);</code> </pre><br><br><a name="chapter7"></a><br><h4>  Using Controllers in Mvc \ Micro Applications </h4><br>  For better organization of the micro-application structure in the new version of Phalcon, controllers can be specified as a request handler (previously only callable values ‚Äã‚Äãcould be used). <br><br><pre> <code class="php hljs">$collection = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Phalcon\Mvc\Micro\Collection(); <span class="hljs-comment"><span class="hljs-comment">//   $collection -&gt;setPrefix('/posts') -&gt;setHandler(new PostsController()); //   $collection -&gt;setPrefix('/posts') -&gt;setHandler('PostsController', true); $collection-&gt;get('/', 'index'); $collection-&gt;get('/edit/{id}', 'edit'); $collection-&gt;delete('/delete/{id}', 'delete'); $app-&gt;mount($collection);</span></span></code> </pre><br><br><a name="chapter8"></a><br><h4>  Afterword </h4><br>  Phalcon 1.1.0 includes other changes and bug fixes.  A complete list of changes can be viewed in <a href="https://github.com/phalcon/cphalcon/blob/1.1.0/CHANGELOG">CHANGELOG</a> , as well as read the <a href="http://docs.phalconphp.com/en/1.1.0/">documentation</a> for this version of the framework. <br><br>  If you have not personally tested Phalcon performance so far, you can install it right now. <br><pre> <code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> http://github.com/phalcon/cphalcon <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> build git checkout 1.1.0 sudo ./install</code> </pre><br>  while Windows users just need to install the DLL from the <a href="http://phalconphp.com/download">download page</a> <br><br>  Developers are invited to discuss this release on the <a href="http://forum.phalconphp.com/">forum</a> (which, by the way, is also written in Phalcon) and <a href="http://stackoverflow.com/questions/tagged/phalcon">Stack Overflow</a> . <br>  If you catch a bug, <a href="http://github.com/phalcon/cphalcon/">Github</a> will gladly accept a pull request or a failing test. <br><br><a name="chapter9"></a><br><h3>  Help the community by voting for Phalcon support in cPanel </h3><br>  Phalcon developers are proposing to add framework support to the <a href="http://cpanel.net/">cPanel</a> web hosting control panel. <br><br>  If Phalcon becomes an accessible extension for cPanel clients, it will not only increase the framework‚Äôs popularity, but also benefit developers, hosting companies, and later end users, because Phalcon is written in C, which means it consumes less memory and creates less load on server in comparison with analogues written in PHP. <br><br>  You can support the development of the framework by voting for the feature-request on the cPanel website: <br>  <a href="http://features.cpanel.net/responses/add-support-for-phalconphp-extension-apache-php">http://features.cpanel.net/responses/add-support-for-phalconphp-extension-apache-php</a> <br><br><hr><br>  Sources: <br><ul><li>  <a href="http://blog.phalconphp.com/post/48089073098/phalcon-1-1-beta-released">Phalcon 1.1 beta released!</a> </li><li>  <a href="http://blog.phalconphp.com/post/48284679009/help-the-community-to-make-phalcon-available-on-cpanel">Help the community to make phalcon available on cPanel</a> </li></ul><br><br>  PS The text is translated and prepared by <a href="https://habrahabr.ru/users/agent_j/" class="user_link">agent_j</a> , which, due to certain reasons, cannot place it on its own. </div><p>Source: <a href="https://habr.com/ru/post/177691/">https://habr.com/ru/post/177691/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../177679/index.html">Xen Cloud Platform: How to settle someone else's VM in a new home</a></li>
<li><a href="../177681/index.html">Feedback, or how we have adjusted feedback</a></li>
<li><a href="../177683/index.html">"If it works, do not touch." Old iron still benefits</a></li>
<li><a href="../177685/index.html">The social network aggregator Meople.Net is now available on Windows 8</a></li>
<li><a href="../177687/index.html">5 annoying technological myths that must always be remembered</a></li>
<li><a href="../177693/index.html">Nic.ru is ... is that really possible?</a></li>
<li><a href="../177697/index.html">Big Data Week in Moscow. April 25-27. Program update</a></li>
<li><a href="../177701/index.html">Chomsky generators</a></li>
<li><a href="../177703/index.html">Market Navigator - one click price comparison</a></li>
<li><a href="../177705/index.html">NASA: video results of three-year observations of the Sun</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>