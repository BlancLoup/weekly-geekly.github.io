<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Analysis of performance tasks with JBreak (part 2)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Only the passions from the first part of the analysis, published last week, have subsided, as I publish a sequel: today we will discuss the second tas...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Analysis of performance tasks with JBreak (part 2)</h1><div class="post__text post__text-html js-mediator-article">  Only the passions from the <a href="https://habrahabr.ru/post/350800/">first part of the</a> analysis, published last week, have subsided, as I publish a sequel: today we will discuss the second task. <br><br>  The code for the second task: <br><pre><code class="java hljs"><span class="hljs-function"><span class="hljs-function">String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">format</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String user, String grade, String company, String message)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> String.format( <span class="hljs-string"><span class="hljs-string">", %s,   %s .    %s    %s"</span></span>, user, grade, company, message); } <span class="hljs-function"><span class="hljs-function">String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">format</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String user, String grade, String company, String message)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">", "</span></span> + user + <span class="hljs-string"><span class="hljs-string">",   "</span></span> + grade + <span class="hljs-string"><span class="hljs-string">" .    "</span></span> + company + <span class="hljs-string"><span class="hljs-string">"    "</span></span> + message; } <span class="hljs-function"><span class="hljs-function">String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">format</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String user, String grade, String company, String message)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StringBuilder(<span class="hljs-string"><span class="hljs-string">", "</span></span>) .append(user) .append(<span class="hljs-string"><span class="hljs-string">",   "</span></span>) .append(grade) .append(<span class="hljs-string"><span class="hljs-string">" .    "</span></span>) .append(company) .append(<span class="hljs-string"><span class="hljs-string">"    "</span></span>) .append(message) .toString(); }</code> </pre> <br>  Condition (simplified): <br><blockquote>  Determine which methods are fast and which methods are slow (JRE 1.8.0_161). </blockquote><br>  Other publications series: <a href="https://habrahabr.ru/company/skbkontur/blog/350800/">Part 1</a> , <a href="https://habrahabr.ru/company/skbkontur/blog/351540/">Part 3</a> , <a href="https://habrahabr.ru/company/skbkontur/blog/351812/">Part 4</a> . <br><a name="habracut"></a><br>  Let's expand the task a bit by adding another way to format the string out of competition: <br><pre> <code class="java hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">formatThroughMessageFormat</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String user, String grade, String company, String message)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> MessageFormat.format( <span class="hljs-string"><span class="hljs-string">", {0},   {1} .    {2}    {3}"</span></span>, user, grade, company, message); }</code> </pre><br><br><h2>  Decision </h2><br><h3>  The Slow Concatenation Myth </h3><br>  <b>The obvious wrong answer:</b> concatenation is slow (at least slower than <code>StringBuilder</code> ). <br>  The myth of slow concatenation is most likely rooted in an example that demonstrates the effect of the immunity of strings on the computational complexity of an algorithm: <br><pre> <code class="java hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">constructThroughConcatenation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] strings)</span></span></span><span class="hljs-function"> </span></span>{ String result = <span class="hljs-string"><span class="hljs-string">""</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (String s : strings) { result = result + s; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">constructThroughBuilder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] strings)</span></span></span><span class="hljs-function"> </span></span>{ StringBuilder sb = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StringBuilder(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (String s : strings) { sb.append(s); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sb.toString(); }</code> </pre><br>  The benchmark result speaks for itself (here N is the size of the <code>strings</code> array): <br><pre> <code class="hljs vhdl">Benchmark (N) Mode Cnt Score <span class="hljs-literal"><span class="hljs-literal">Error</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Units</span></span> ...builderBenchmark <span class="hljs-number"><span class="hljs-number">10</span></span> avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">182</span></span> ¬± <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">004</span></span> us/op ...builderBenchmark <span class="hljs-number"><span class="hljs-number">100</span></span> avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">566</span></span> ¬± <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">014</span></span> us/op ...builderBenchmark <span class="hljs-number"><span class="hljs-number">1000</span></span> avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">18</span></span>,<span class="hljs-number"><span class="hljs-number">188</span></span> ¬± <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">372</span></span> us/op ...builderBenchmark <span class="hljs-number"><span class="hljs-number">10000</span></span> avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">214</span></span>,<span class="hljs-number"><span class="hljs-number">308</span></span> ¬± <span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">523</span></span> us/op ...concatenationBenchmark <span class="hljs-number"><span class="hljs-number">10</span></span> avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">209</span></span> ¬± <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">003</span></span> us/op ...concatenationBenchmark <span class="hljs-number"><span class="hljs-number">100</span></span> avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">220</span></span> ¬± <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">305</span></span> us/op ...concatenationBenchmark <span class="hljs-number"><span class="hljs-number">1000</span></span> avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">1158</span></span>,<span class="hljs-number"><span class="hljs-number">463</span></span> ¬± <span class="hljs-number"><span class="hljs-number">48</span></span>,<span class="hljs-number"><span class="hljs-number">124</span></span> us/op ...concatenationBenchmark <span class="hljs-number"><span class="hljs-number">10000</span></span> avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">127585</span></span>,<span class="hljs-number"><span class="hljs-number">013</span></span> ¬± <span class="hljs-number"><span class="hljs-number">5716</span></span>,<span class="hljs-number"><span class="hljs-number">547</span></span> us/op</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Benchmark results entirely</b> <div class="spoiler_text"><pre> <code class="hljs pgsql"># JMH <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: <span class="hljs-number"><span class="hljs-number">1.20</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: JDK <span class="hljs-number"><span class="hljs-number">1.8</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>_161, VM <span class="hljs-number"><span class="hljs-number">25.161</span></span>-b12 # VM <span class="hljs-keyword"><span class="hljs-keyword">invoker</span></span>: C:\Program Files\Java\jre1<span class="hljs-number"><span class="hljs-number">.8</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>_161\bin\java.exe # VM <span class="hljs-keyword"><span class="hljs-keyword">options</span></span>: &lt;<span class="hljs-keyword"><span class="hljs-keyword">none</span></span>&gt; # Warmup: <span class="hljs-number"><span class="hljs-number">5</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Measurement: <span class="hljs-number"><span class="hljs-number">10</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Timeout: <span class="hljs-number"><span class="hljs-number">10</span></span> min per iteration # Threads: <span class="hljs-number"><span class="hljs-number">1</span></span> thread, will synchronize iterations # Benchmark mode: Average <span class="hljs-type"><span class="hljs-type">time</span></span>, <span class="hljs-type"><span class="hljs-type">time</span></span>/op # Benchmark: ru.gnkoshelev.jbreak2018.perf_tests.strings.ImmutableStringBenchmark.builderBenchmark # Parameters: (N = <span class="hljs-number"><span class="hljs-number">10</span></span>) # Run progress: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">00</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">09</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">251</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">192</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">206</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">183</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">181</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">180</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">181</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">188</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">180</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">202</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">192</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">195</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">178</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">179</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">192</span></span> us/op # Run progress: <span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">17</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">47</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">249</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">179</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">178</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">178</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">179</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">178</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">181</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">178</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">179</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">181</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">182</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">183</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">177</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">177</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">177</span></span> us/op # Run progress: <span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">33</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">24</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">249</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">179</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">177</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">179</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">179</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">180</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">180</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">178</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">178</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">181</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">180</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">180</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">179</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">182</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">178</span></span> us/op Result "ru.gnkoshelev.jbreak2018.perf_tests.strings.ImmutableStringBenchmark.builderBenchmark": <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">182</span></span> ¬±(<span class="hljs-number"><span class="hljs-number">99.9</span></span>%) <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">004</span></span> us/op [Average] (min, avg, max) = (<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">177</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">182</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">202</span></span>), stdev = <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">006</span></span> CI (<span class="hljs-number"><span class="hljs-number">99.9</span></span>%): [<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">178</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">186</span></span>] (assumes normal distribution) # JMH <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: <span class="hljs-number"><span class="hljs-number">1.20</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: JDK <span class="hljs-number"><span class="hljs-number">1.8</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>_161, VM <span class="hljs-number"><span class="hljs-number">25.161</span></span>-b12 # VM <span class="hljs-keyword"><span class="hljs-keyword">invoker</span></span>: C:\Program Files\Java\jre1<span class="hljs-number"><span class="hljs-number">.8</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>_161\bin\java.exe # VM <span class="hljs-keyword"><span class="hljs-keyword">options</span></span>: &lt;<span class="hljs-keyword"><span class="hljs-keyword">none</span></span>&gt; # Warmup: <span class="hljs-number"><span class="hljs-number">5</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Measurement: <span class="hljs-number"><span class="hljs-number">10</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Timeout: <span class="hljs-number"><span class="hljs-number">10</span></span> min per iteration # Threads: <span class="hljs-number"><span class="hljs-number">1</span></span> thread, will synchronize iterations # Benchmark mode: Average <span class="hljs-type"><span class="hljs-type">time</span></span>, <span class="hljs-type"><span class="hljs-type">time</span></span>/op # Benchmark: ru.gnkoshelev.jbreak2018.perf_tests.strings.ImmutableStringBenchmark.builderBenchmark # Parameters: (N = <span class="hljs-number"><span class="hljs-number">100</span></span>) # Run progress: <span class="hljs-number"><span class="hljs-number">12</span></span>,<span class="hljs-number"><span class="hljs-number">50</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">01</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">016</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">592</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">548</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">557</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">553</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">561</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">563</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">568</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">570</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">560</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">560</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">563</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">564</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">570</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">566</span></span> us/op # Run progress: <span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">67</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">07</span></span>:<span class="hljs-number"><span class="hljs-number">38</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">011</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">578</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">556</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">560</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">601</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">551</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">563</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">558</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">555</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">562</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">560</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">556</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">565</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">565</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">553</span></span> us/op # Run progress: <span class="hljs-number"><span class="hljs-number">20</span></span>,<span class="hljs-number"><span class="hljs-number">83</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">07</span></span>:<span class="hljs-number"><span class="hljs-number">15</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">099</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">769</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">751</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">554</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">555</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">602</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">663</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">567</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">565</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">569</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">548</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">555</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">553</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">559</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">563</span></span> us/op Result "ru.gnkoshelev.jbreak2018.perf_tests.strings.ImmutableStringBenchmark.builderBenchmark": <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">566</span></span> ¬±(<span class="hljs-number"><span class="hljs-number">99.9</span></span>%) <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">014</span></span> us/op [Average] (min, avg, max) = (<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">548</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">566</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">663</span></span>), stdev = <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">020</span></span> CI (<span class="hljs-number"><span class="hljs-number">99.9</span></span>%): [<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">552</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">580</span></span>] (assumes normal distribution) # JMH <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: <span class="hljs-number"><span class="hljs-number">1.20</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: JDK <span class="hljs-number"><span class="hljs-number">1.8</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>_161, VM <span class="hljs-number"><span class="hljs-number">25.161</span></span>-b12 # VM <span class="hljs-keyword"><span class="hljs-keyword">invoker</span></span>: C:\Program Files\Java\jre1<span class="hljs-number"><span class="hljs-number">.8</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>_161\bin\java.exe # VM <span class="hljs-keyword"><span class="hljs-keyword">options</span></span>: &lt;<span class="hljs-keyword"><span class="hljs-keyword">none</span></span>&gt; # Warmup: <span class="hljs-number"><span class="hljs-number">5</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Measurement: <span class="hljs-number"><span class="hljs-number">10</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Timeout: <span class="hljs-number"><span class="hljs-number">10</span></span> min per iteration # Threads: <span class="hljs-number"><span class="hljs-number">1</span></span> thread, will synchronize iterations # Benchmark mode: Average <span class="hljs-type"><span class="hljs-type">time</span></span>, <span class="hljs-type"><span class="hljs-type">time</span></span>/op # Benchmark: ru.gnkoshelev.jbreak2018.perf_tests.strings.ImmutableStringBenchmark.builderBenchmark # Parameters: (N = <span class="hljs-number"><span class="hljs-number">1000</span></span>) # Run progress: <span class="hljs-number"><span class="hljs-number">25</span></span>,<span class="hljs-number"><span class="hljs-number">00</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">06</span></span>:<span class="hljs-number"><span class="hljs-number">52</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">25</span></span>,<span class="hljs-number"><span class="hljs-number">482</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">17</span></span>,<span class="hljs-number"><span class="hljs-number">783</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">17</span></span>,<span class="hljs-number"><span class="hljs-number">741</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">18</span></span>,<span class="hljs-number"><span class="hljs-number">389</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">18</span></span>,<span class="hljs-number"><span class="hljs-number">693</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">17</span></span>,<span class="hljs-number"><span class="hljs-number">891</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">17</span></span>,<span class="hljs-number"><span class="hljs-number">909</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">17</span></span>,<span class="hljs-number"><span class="hljs-number">966</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">17</span></span>,<span class="hljs-number"><span class="hljs-number">632</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">17</span></span>,<span class="hljs-number"><span class="hljs-number">884</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">17</span></span>,<span class="hljs-number"><span class="hljs-number">821</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">17</span></span>,<span class="hljs-number"><span class="hljs-number">962</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">17</span></span>,<span class="hljs-number"><span class="hljs-number">825</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">18</span></span>,<span class="hljs-number"><span class="hljs-number">039</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">17</span></span>,<span class="hljs-number"><span class="hljs-number">891</span></span> us/op # Run progress: <span class="hljs-number"><span class="hljs-number">29</span></span>,<span class="hljs-number"><span class="hljs-number">17</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">06</span></span>:<span class="hljs-number"><span class="hljs-number">29</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">23</span></span>,<span class="hljs-number"><span class="hljs-number">928</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">17</span></span>,<span class="hljs-number"><span class="hljs-number">799</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">17</span></span>,<span class="hljs-number"><span class="hljs-number">615</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">17</span></span>,<span class="hljs-number"><span class="hljs-number">823</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">17</span></span>,<span class="hljs-number"><span class="hljs-number">996</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">17</span></span>,<span class="hljs-number"><span class="hljs-number">901</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">18</span></span>,<span class="hljs-number"><span class="hljs-number">052</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">18</span></span>,<span class="hljs-number"><span class="hljs-number">093</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">17</span></span>,<span class="hljs-number"><span class="hljs-number">722</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">17</span></span>,<span class="hljs-number"><span class="hljs-number">951</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">17</span></span>,<span class="hljs-number"><span class="hljs-number">958</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">18</span></span>,<span class="hljs-number"><span class="hljs-number">071</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">18</span></span>,<span class="hljs-number"><span class="hljs-number">043</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">17</span></span>,<span class="hljs-number"><span class="hljs-number">681</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">17</span></span>,<span class="hljs-number"><span class="hljs-number">934</span></span> us/op # Run progress: <span class="hljs-number"><span class="hljs-number">33</span></span>,<span class="hljs-number"><span class="hljs-number">33</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">06</span></span>:<span class="hljs-number"><span class="hljs-number">06</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">26</span></span>,<span class="hljs-number"><span class="hljs-number">743</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">18</span></span>,<span class="hljs-number"><span class="hljs-number">281</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">18</span></span>,<span class="hljs-number"><span class="hljs-number">178</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">18</span></span>,<span class="hljs-number"><span class="hljs-number">474</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">18</span></span>,<span class="hljs-number"><span class="hljs-number">661</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">18</span></span>,<span class="hljs-number"><span class="hljs-number">735</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">20</span></span>,<span class="hljs-number"><span class="hljs-number">414</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">18</span></span>,<span class="hljs-number"><span class="hljs-number">762</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">18</span></span>,<span class="hljs-number"><span class="hljs-number">673</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">18</span></span>,<span class="hljs-number"><span class="hljs-number">280</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">18</span></span>,<span class="hljs-number"><span class="hljs-number">336</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">18</span></span>,<span class="hljs-number"><span class="hljs-number">259</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">18</span></span>,<span class="hljs-number"><span class="hljs-number">362</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">18</span></span>,<span class="hljs-number"><span class="hljs-number">295</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">19</span></span>,<span class="hljs-number"><span class="hljs-number">312</span></span> us/op Result "ru.gnkoshelev.jbreak2018.perf_tests.strings.ImmutableStringBenchmark.builderBenchmark": <span class="hljs-number"><span class="hljs-number">18</span></span>,<span class="hljs-number"><span class="hljs-number">188</span></span> ¬±(<span class="hljs-number"><span class="hljs-number">99.9</span></span>%) <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">372</span></span> us/op [Average] (min, avg, max) = (<span class="hljs-number"><span class="hljs-number">17</span></span>,<span class="hljs-number"><span class="hljs-number">632</span></span>, <span class="hljs-number"><span class="hljs-number">18</span></span>,<span class="hljs-number"><span class="hljs-number">188</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>,<span class="hljs-number"><span class="hljs-number">414</span></span>), stdev = <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">557</span></span> CI (<span class="hljs-number"><span class="hljs-number">99.9</span></span>%): [<span class="hljs-number"><span class="hljs-number">17</span></span>,<span class="hljs-number"><span class="hljs-number">816</span></span>, <span class="hljs-number"><span class="hljs-number">18</span></span>,<span class="hljs-number"><span class="hljs-number">561</span></span>] (assumes normal distribution) # JMH <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: <span class="hljs-number"><span class="hljs-number">1.20</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: JDK <span class="hljs-number"><span class="hljs-number">1.8</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>_161, VM <span class="hljs-number"><span class="hljs-number">25.161</span></span>-b12 # VM <span class="hljs-keyword"><span class="hljs-keyword">invoker</span></span>: C:\Program Files\Java\jre1<span class="hljs-number"><span class="hljs-number">.8</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>_161\bin\java.exe # VM <span class="hljs-keyword"><span class="hljs-keyword">options</span></span>: &lt;<span class="hljs-keyword"><span class="hljs-keyword">none</span></span>&gt; # Warmup: <span class="hljs-number"><span class="hljs-number">5</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Measurement: <span class="hljs-number"><span class="hljs-number">10</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Timeout: <span class="hljs-number"><span class="hljs-number">10</span></span> min per iteration # Threads: <span class="hljs-number"><span class="hljs-number">1</span></span> thread, will synchronize iterations # Benchmark mode: Average <span class="hljs-type"><span class="hljs-type">time</span></span>, <span class="hljs-type"><span class="hljs-type">time</span></span>/op # Benchmark: ru.gnkoshelev.jbreak2018.perf_tests.strings.ImmutableStringBenchmark.builderBenchmark # Parameters: (N = <span class="hljs-number"><span class="hljs-number">10000</span></span>) # Run progress: <span class="hljs-number"><span class="hljs-number">37</span></span>,<span class="hljs-number"><span class="hljs-number">50</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">05</span></span>:<span class="hljs-number"><span class="hljs-number">44</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">282</span></span>,<span class="hljs-number"><span class="hljs-number">300</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">225</span></span>,<span class="hljs-number"><span class="hljs-number">761</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">223</span></span>,<span class="hljs-number"><span class="hljs-number">512</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">261</span></span>,<span class="hljs-number"><span class="hljs-number">430</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">292</span></span>,<span class="hljs-number"><span class="hljs-number">495</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">220</span></span>,<span class="hljs-number"><span class="hljs-number">548</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">217</span></span>,<span class="hljs-number"><span class="hljs-number">293</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">240</span></span>,<span class="hljs-number"><span class="hljs-number">740</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">218</span></span>,<span class="hljs-number"><span class="hljs-number">483</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">216</span></span>,<span class="hljs-number"><span class="hljs-number">646</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">211</span></span>,<span class="hljs-number"><span class="hljs-number">005</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">209</span></span>,<span class="hljs-number"><span class="hljs-number">140</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">204</span></span>,<span class="hljs-number"><span class="hljs-number">410</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">208</span></span>,<span class="hljs-number"><span class="hljs-number">205</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">217</span></span>,<span class="hljs-number"><span class="hljs-number">127</span></span> us/op # Run progress: <span class="hljs-number"><span class="hljs-number">41</span></span>,<span class="hljs-number"><span class="hljs-number">67</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">05</span></span>:<span class="hljs-number"><span class="hljs-number">21</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">259</span></span>,<span class="hljs-number"><span class="hljs-number">280</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">230</span></span>,<span class="hljs-number"><span class="hljs-number">647</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">209</span></span>,<span class="hljs-number"><span class="hljs-number">753</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">215</span></span>,<span class="hljs-number"><span class="hljs-number">611</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">210</span></span>,<span class="hljs-number"><span class="hljs-number">592</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">203</span></span>,<span class="hljs-number"><span class="hljs-number">746</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">208</span></span>,<span class="hljs-number"><span class="hljs-number">074</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">207</span></span>,<span class="hljs-number"><span class="hljs-number">905</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">213</span></span>,<span class="hljs-number"><span class="hljs-number">764</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">206</span></span>,<span class="hljs-number"><span class="hljs-number">427</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">207</span></span>,<span class="hljs-number"><span class="hljs-number">121</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">215</span></span>,<span class="hljs-number"><span class="hljs-number">708</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">213</span></span>,<span class="hljs-number"><span class="hljs-number">091</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">211</span></span>,<span class="hljs-number"><span class="hljs-number">328</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">204</span></span>,<span class="hljs-number"><span class="hljs-number">837</span></span> us/op # Run progress: <span class="hljs-number"><span class="hljs-number">45</span></span>,<span class="hljs-number"><span class="hljs-number">83</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">04</span></span>:<span class="hljs-number"><span class="hljs-number">58</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">253</span></span>,<span class="hljs-number"><span class="hljs-number">784</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">227</span></span>,<span class="hljs-number"><span class="hljs-number">220</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">202</span></span>,<span class="hljs-number"><span class="hljs-number">387</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">211</span></span>,<span class="hljs-number"><span class="hljs-number">402</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">207</span></span>,<span class="hljs-number"><span class="hljs-number">545</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">206</span></span>,<span class="hljs-number"><span class="hljs-number">279</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">205</span></span>,<span class="hljs-number"><span class="hljs-number">982</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">211</span></span>,<span class="hljs-number"><span class="hljs-number">830</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">238</span></span>,<span class="hljs-number"><span class="hljs-number">729</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">237</span></span>,<span class="hljs-number"><span class="hljs-number">315</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">238</span></span>,<span class="hljs-number"><span class="hljs-number">384</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">223</span></span>,<span class="hljs-number"><span class="hljs-number">376</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">210</span></span>,<span class="hljs-number"><span class="hljs-number">594</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">200</span></span>,<span class="hljs-number"><span class="hljs-number">957</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">200</span></span>,<span class="hljs-number"><span class="hljs-number">183</span></span> us/op Result "ru.gnkoshelev.jbreak2018.perf_tests.strings.ImmutableStringBenchmark.builderBenchmark": <span class="hljs-number"><span class="hljs-number">214</span></span>,<span class="hljs-number"><span class="hljs-number">308</span></span> ¬±(<span class="hljs-number"><span class="hljs-number">99.9</span></span>%) <span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">523</span></span> us/op [Average] (min, avg, max) = (<span class="hljs-number"><span class="hljs-number">200</span></span>,<span class="hljs-number"><span class="hljs-number">183</span></span>, <span class="hljs-number"><span class="hljs-number">214</span></span>,<span class="hljs-number"><span class="hljs-number">308</span></span>, <span class="hljs-number"><span class="hljs-number">240</span></span>,<span class="hljs-number"><span class="hljs-number">740</span></span>), stdev = <span class="hljs-number"><span class="hljs-number">11</span></span>,<span class="hljs-number"><span class="hljs-number">260</span></span> CI (<span class="hljs-number"><span class="hljs-number">99.9</span></span>%): [<span class="hljs-number"><span class="hljs-number">206</span></span>,<span class="hljs-number"><span class="hljs-number">785</span></span>, <span class="hljs-number"><span class="hljs-number">221</span></span>,<span class="hljs-number"><span class="hljs-number">831</span></span>] (assumes normal distribution) # JMH <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: <span class="hljs-number"><span class="hljs-number">1.20</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: JDK <span class="hljs-number"><span class="hljs-number">1.8</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>_161, VM <span class="hljs-number"><span class="hljs-number">25.161</span></span>-b12 # VM <span class="hljs-keyword"><span class="hljs-keyword">invoker</span></span>: C:\Program Files\Java\jre1<span class="hljs-number"><span class="hljs-number">.8</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>_161\bin\java.exe # VM <span class="hljs-keyword"><span class="hljs-keyword">options</span></span>: &lt;<span class="hljs-keyword"><span class="hljs-keyword">none</span></span>&gt; # Warmup: <span class="hljs-number"><span class="hljs-number">5</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Measurement: <span class="hljs-number"><span class="hljs-number">10</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Timeout: <span class="hljs-number"><span class="hljs-number">10</span></span> min per iteration # Threads: <span class="hljs-number"><span class="hljs-number">1</span></span> thread, will synchronize iterations # Benchmark mode: Average <span class="hljs-type"><span class="hljs-type">time</span></span>, <span class="hljs-type"><span class="hljs-type">time</span></span>/op # Benchmark: ru.gnkoshelev.jbreak2018.perf_tests.strings.ImmutableStringBenchmark.concatenationBenchmark # Parameters: (N = <span class="hljs-number"><span class="hljs-number">10</span></span>) # Run progress: <span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">00</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">04</span></span>:<span class="hljs-number"><span class="hljs-number">35</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">273</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">201</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">209</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">208</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">208</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">208</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">207</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">208</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">208</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">208</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">208</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">208</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">213</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">206</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">206</span></span> us/op # Run progress: <span class="hljs-number"><span class="hljs-number">54</span></span>,<span class="hljs-number"><span class="hljs-number">17</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">04</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">301</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">207</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">204</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">206</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">206</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">208</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">207</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">206</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">206</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">208</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">205</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">207</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">221</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">214</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">207</span></span> us/op # Run progress: <span class="hljs-number"><span class="hljs-number">58</span></span>,<span class="hljs-number"><span class="hljs-number">33</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span>:<span class="hljs-number"><span class="hljs-number">49</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">273</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">199</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">213</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">206</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">208</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">210</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">220</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">208</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">205</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">205</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">209</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">210</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">209</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">208</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">208</span></span> us/op Result "ru.gnkoshelev.jbreak2018.perf_tests.strings.ImmutableStringBenchmark.concatenationBenchmark": <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">209</span></span> ¬±(<span class="hljs-number"><span class="hljs-number">99.9</span></span>%) <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">003</span></span> us/op [Average] (min, avg, max) = (<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">205</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">209</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">221</span></span>), stdev = <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">004</span></span> CI (<span class="hljs-number"><span class="hljs-number">99.9</span></span>%): [<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">206</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">211</span></span>] (assumes normal distribution) # JMH <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: <span class="hljs-number"><span class="hljs-number">1.20</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: JDK <span class="hljs-number"><span class="hljs-number">1.8</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>_161, VM <span class="hljs-number"><span class="hljs-number">25.161</span></span>-b12 # VM <span class="hljs-keyword"><span class="hljs-keyword">invoker</span></span>: C:\Program Files\Java\jre1<span class="hljs-number"><span class="hljs-number">.8</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>_161\bin\java.exe # VM <span class="hljs-keyword"><span class="hljs-keyword">options</span></span>: &lt;<span class="hljs-keyword"><span class="hljs-keyword">none</span></span>&gt; # Warmup: <span class="hljs-number"><span class="hljs-number">5</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Measurement: <span class="hljs-number"><span class="hljs-number">10</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Timeout: <span class="hljs-number"><span class="hljs-number">10</span></span> min per iteration # Threads: <span class="hljs-number"><span class="hljs-number">1</span></span> thread, will synchronize iterations # Benchmark mode: Average <span class="hljs-type"><span class="hljs-type">time</span></span>, <span class="hljs-type"><span class="hljs-type">time</span></span>/op # Benchmark: ru.gnkoshelev.jbreak2018.perf_tests.strings.ImmutableStringBenchmark.concatenationBenchmark # Parameters: (N = <span class="hljs-number"><span class="hljs-number">100</span></span>) # Run progress: <span class="hljs-number"><span class="hljs-number">62</span></span>,<span class="hljs-number"><span class="hljs-number">50</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span>:<span class="hljs-number"><span class="hljs-number">26</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">17</span></span>,<span class="hljs-number"><span class="hljs-number">351</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">141</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">015</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">004</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">073</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">056</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">158</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">005</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">126</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">001</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">072</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">085</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">063</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">196</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">084</span></span> us/op # Run progress: <span class="hljs-number"><span class="hljs-number">66</span></span>,<span class="hljs-number"><span class="hljs-number">67</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">17</span></span>,<span class="hljs-number"><span class="hljs-number">545</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">517</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">500</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">089</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">099</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">312</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">689</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">157</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">532</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">14</span></span>,<span class="hljs-number"><span class="hljs-number">263</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">14</span></span>,<span class="hljs-number"><span class="hljs-number">110</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">14</span></span>,<span class="hljs-number"><span class="hljs-number">207</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">167</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">530</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">127</span></span> us/op # Run progress: <span class="hljs-number"><span class="hljs-number">70</span></span>,<span class="hljs-number"><span class="hljs-number">83</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">02</span></span>:<span class="hljs-number"><span class="hljs-number">40</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">17</span></span>,<span class="hljs-number"><span class="hljs-number">107</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">12</span></span>,<span class="hljs-number"><span class="hljs-number">677</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">12</span></span>,<span class="hljs-number"><span class="hljs-number">549</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">12</span></span>,<span class="hljs-number"><span class="hljs-number">714</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">14</span></span>,<span class="hljs-number"><span class="hljs-number">134</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">898</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">726</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">12</span></span>,<span class="hljs-number"><span class="hljs-number">997</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">12</span></span>,<span class="hljs-number"><span class="hljs-number">736</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">12</span></span>,<span class="hljs-number"><span class="hljs-number">702</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">12</span></span>,<span class="hljs-number"><span class="hljs-number">670</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">12</span></span>,<span class="hljs-number"><span class="hljs-number">690</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">12</span></span>,<span class="hljs-number"><span class="hljs-number">735</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">12</span></span>,<span class="hljs-number"><span class="hljs-number">761</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">12</span></span>,<span class="hljs-number"><span class="hljs-number">750</span></span> us/op Result "ru.gnkoshelev.jbreak2018.perf_tests.strings.ImmutableStringBenchmark.concatenationBenchmark": <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">220</span></span> ¬±(<span class="hljs-number"><span class="hljs-number">99.9</span></span>%) <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">305</span></span> us/op [Average] (min, avg, max) = (<span class="hljs-number"><span class="hljs-number">12</span></span>,<span class="hljs-number"><span class="hljs-number">670</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">220</span></span>, <span class="hljs-number"><span class="hljs-number">14</span></span>,<span class="hljs-number"><span class="hljs-number">263</span></span>), stdev = <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">456</span></span> CI (<span class="hljs-number"><span class="hljs-number">99.9</span></span>%): [<span class="hljs-number"><span class="hljs-number">12</span></span>,<span class="hljs-number"><span class="hljs-number">915</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">525</span></span>] (assumes normal distribution) # JMH <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: <span class="hljs-number"><span class="hljs-number">1.20</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: JDK <span class="hljs-number"><span class="hljs-number">1.8</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>_161, VM <span class="hljs-number"><span class="hljs-number">25.161</span></span>-b12 # VM <span class="hljs-keyword"><span class="hljs-keyword">invoker</span></span>: C:\Program Files\Java\jre1<span class="hljs-number"><span class="hljs-number">.8</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>_161\bin\java.exe # VM <span class="hljs-keyword"><span class="hljs-keyword">options</span></span>: &lt;<span class="hljs-keyword"><span class="hljs-keyword">none</span></span>&gt; # Warmup: <span class="hljs-number"><span class="hljs-number">5</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Measurement: <span class="hljs-number"><span class="hljs-number">10</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Timeout: <span class="hljs-number"><span class="hljs-number">10</span></span> min per iteration # Threads: <span class="hljs-number"><span class="hljs-number">1</span></span> thread, will synchronize iterations # Benchmark mode: Average <span class="hljs-type"><span class="hljs-type">time</span></span>, <span class="hljs-type"><span class="hljs-type">time</span></span>/op # Benchmark: ru.gnkoshelev.jbreak2018.perf_tests.strings.ImmutableStringBenchmark.concatenationBenchmark # Parameters: (N = <span class="hljs-number"><span class="hljs-number">1000</span></span>) # Run progress: <span class="hljs-number"><span class="hljs-number">75</span></span>,<span class="hljs-number"><span class="hljs-number">00</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">02</span></span>:<span class="hljs-number"><span class="hljs-number">17</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">2069</span></span>,<span class="hljs-number"><span class="hljs-number">805</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1256</span></span>,<span class="hljs-number"><span class="hljs-number">239</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1094</span></span>,<span class="hljs-number"><span class="hljs-number">567</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1088</span></span>,<span class="hljs-number"><span class="hljs-number">928</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1128</span></span>,<span class="hljs-number"><span class="hljs-number">676</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">1098</span></span>,<span class="hljs-number"><span class="hljs-number">263</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1092</span></span>,<span class="hljs-number"><span class="hljs-number">322</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1092</span></span>,<span class="hljs-number"><span class="hljs-number">764</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1091</span></span>,<span class="hljs-number"><span class="hljs-number">264</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1084</span></span>,<span class="hljs-number"><span class="hljs-number">967</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">1082</span></span>,<span class="hljs-number"><span class="hljs-number">483</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">1087</span></span>,<span class="hljs-number"><span class="hljs-number">570</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">1085</span></span>,<span class="hljs-number"><span class="hljs-number">939</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">1087</span></span>,<span class="hljs-number"><span class="hljs-number">219</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">1099</span></span>,<span class="hljs-number"><span class="hljs-number">661</span></span> us/op # Run progress: <span class="hljs-number"><span class="hljs-number">79</span></span>,<span class="hljs-number"><span class="hljs-number">17</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">01</span></span>:<span class="hljs-number"><span class="hljs-number">54</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">1886</span></span>,<span class="hljs-number"><span class="hljs-number">339</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1079</span></span>,<span class="hljs-number"><span class="hljs-number">598</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1249</span></span>,<span class="hljs-number"><span class="hljs-number">267</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1223</span></span>,<span class="hljs-number"><span class="hljs-number">656</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1155</span></span>,<span class="hljs-number"><span class="hljs-number">596</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">1074</span></span>,<span class="hljs-number"><span class="hljs-number">649</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1158</span></span>,<span class="hljs-number"><span class="hljs-number">081</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1156</span></span>,<span class="hljs-number"><span class="hljs-number">362</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1164</span></span>,<span class="hljs-number"><span class="hljs-number">930</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1109</span></span>,<span class="hljs-number"><span class="hljs-number">143</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">1172</span></span>,<span class="hljs-number"><span class="hljs-number">856</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">1277</span></span>,<span class="hljs-number"><span class="hljs-number">790</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">1201</span></span>,<span class="hljs-number"><span class="hljs-number">096</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">1111</span></span>,<span class="hljs-number"><span class="hljs-number">431</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">1267</span></span>,<span class="hljs-number"><span class="hljs-number">544</span></span> us/op # Run progress: <span class="hljs-number"><span class="hljs-number">83</span></span>,<span class="hljs-number"><span class="hljs-number">33</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">01</span></span>:<span class="hljs-number"><span class="hljs-number">31</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">2372</span></span>,<span class="hljs-number"><span class="hljs-number">316</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1381</span></span>,<span class="hljs-number"><span class="hljs-number">800</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1360</span></span>,<span class="hljs-number"><span class="hljs-number">184</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1131</span></span>,<span class="hljs-number"><span class="hljs-number">667</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1209</span></span>,<span class="hljs-number"><span class="hljs-number">669</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">1278</span></span>,<span class="hljs-number"><span class="hljs-number">702</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1219</span></span>,<span class="hljs-number"><span class="hljs-number">975</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1141</span></span>,<span class="hljs-number"><span class="hljs-number">188</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1244</span></span>,<span class="hljs-number"><span class="hljs-number">753</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1229</span></span>,<span class="hljs-number"><span class="hljs-number">355</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">1168</span></span>,<span class="hljs-number"><span class="hljs-number">263</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">1153</span></span>,<span class="hljs-number"><span class="hljs-number">918</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">1330</span></span>,<span class="hljs-number"><span class="hljs-number">528</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">1207</span></span>,<span class="hljs-number"><span class="hljs-number">424</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">1183</span></span>,<span class="hljs-number"><span class="hljs-number">450</span></span> us/op Result "ru.gnkoshelev.jbreak2018.perf_tests.strings.ImmutableStringBenchmark.concatenationBenchmark": <span class="hljs-number"><span class="hljs-number">1158</span></span>,<span class="hljs-number"><span class="hljs-number">463</span></span> ¬±(<span class="hljs-number"><span class="hljs-number">99.9</span></span>%) <span class="hljs-number"><span class="hljs-number">48</span></span>,<span class="hljs-number"><span class="hljs-number">124</span></span> us/op [Average] (min, avg, max) = (<span class="hljs-number"><span class="hljs-number">1074</span></span>,<span class="hljs-number"><span class="hljs-number">649</span></span>, <span class="hljs-number"><span class="hljs-number">1158</span></span>,<span class="hljs-number"><span class="hljs-number">463</span></span>, <span class="hljs-number"><span class="hljs-number">1330</span></span>,<span class="hljs-number"><span class="hljs-number">528</span></span>), stdev = <span class="hljs-number"><span class="hljs-number">72</span></span>,<span class="hljs-number"><span class="hljs-number">029</span></span> CI (<span class="hljs-number"><span class="hljs-number">99.9</span></span>%): [<span class="hljs-number"><span class="hljs-number">1110</span></span>,<span class="hljs-number"><span class="hljs-number">339</span></span>, <span class="hljs-number"><span class="hljs-number">1206</span></span>,<span class="hljs-number"><span class="hljs-number">587</span></span>] (assumes normal distribution) # JMH <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: <span class="hljs-number"><span class="hljs-number">1.20</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: JDK <span class="hljs-number"><span class="hljs-number">1.8</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>_161, VM <span class="hljs-number"><span class="hljs-number">25.161</span></span>-b12 # VM <span class="hljs-keyword"><span class="hljs-keyword">invoker</span></span>: C:\Program Files\Java\jre1<span class="hljs-number"><span class="hljs-number">.8</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>_161\bin\java.exe # VM <span class="hljs-keyword"><span class="hljs-keyword">options</span></span>: &lt;<span class="hljs-keyword"><span class="hljs-keyword">none</span></span>&gt; # Warmup: <span class="hljs-number"><span class="hljs-number">5</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Measurement: <span class="hljs-number"><span class="hljs-number">10</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Timeout: <span class="hljs-number"><span class="hljs-number">10</span></span> min per iteration # Threads: <span class="hljs-number"><span class="hljs-number">1</span></span> thread, will synchronize iterations # Benchmark mode: Average <span class="hljs-type"><span class="hljs-type">time</span></span>, <span class="hljs-type"><span class="hljs-type">time</span></span>/op # Benchmark: ru.gnkoshelev.jbreak2018.perf_tests.strings.ImmutableStringBenchmark.concatenationBenchmark # Parameters: (N = <span class="hljs-number"><span class="hljs-number">10000</span></span>) # Run progress: <span class="hljs-number"><span class="hljs-number">87</span></span>,<span class="hljs-number"><span class="hljs-number">50</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">01</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">551317</span></span>,<span class="hljs-number"><span class="hljs-number">226</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">428150</span></span>,<span class="hljs-number"><span class="hljs-number">732</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">416550</span></span>,<span class="hljs-number"><span class="hljs-number">724</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">117977</span></span>,<span class="hljs-number"><span class="hljs-number">293</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">121797</span></span>,<span class="hljs-number"><span class="hljs-number">206</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">120847</span></span>,<span class="hljs-number"><span class="hljs-number">573</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">134688</span></span>,<span class="hljs-number"><span class="hljs-number">534</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">130307</span></span>,<span class="hljs-number"><span class="hljs-number">702</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">122642</span></span>,<span class="hljs-number"><span class="hljs-number">500</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">119836</span></span>,<span class="hljs-number"><span class="hljs-number">801</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">128095</span></span>,<span class="hljs-number"><span class="hljs-number">357</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">119841</span></span>,<span class="hljs-number"><span class="hljs-number">822</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">125189</span></span>,<span class="hljs-number"><span class="hljs-number">403</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">125955</span></span>,<span class="hljs-number"><span class="hljs-number">061</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">137509</span></span>,<span class="hljs-number"><span class="hljs-number">499</span></span> us/op # Run progress: <span class="hljs-number"><span class="hljs-number">91</span></span>,<span class="hljs-number"><span class="hljs-number">67</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">46</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">602435</span></span>,<span class="hljs-number"><span class="hljs-number">410</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">404409</span></span>,<span class="hljs-number"><span class="hljs-number">425</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">404721</span></span>,<span class="hljs-number"><span class="hljs-number">946</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">133065</span></span>,<span class="hljs-number"><span class="hljs-number">650</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">123633</span></span>,<span class="hljs-number"><span class="hljs-number">597</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">117683</span></span>,<span class="hljs-number"><span class="hljs-number">792</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">126726</span></span>,<span class="hljs-number"><span class="hljs-number">151</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">125225</span></span>,<span class="hljs-number"><span class="hljs-number">846</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">128106</span></span>,<span class="hljs-number"><span class="hljs-number">852</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">121581</span></span>,<span class="hljs-number"><span class="hljs-number">390</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">128516</span></span>,<span class="hljs-number"><span class="hljs-number">807</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">145913</span></span>,<span class="hljs-number"><span class="hljs-number">920</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">134438</span></span>,<span class="hljs-number"><span class="hljs-number">346</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">118692</span></span>,<span class="hljs-number"><span class="hljs-number">163</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">125122</span></span>,<span class="hljs-number"><span class="hljs-number">644</span></span> us/op # Run progress: <span class="hljs-number"><span class="hljs-number">95</span></span>,<span class="hljs-number"><span class="hljs-number">83</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">23</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">515801</span></span>,<span class="hljs-number"><span class="hljs-number">468</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">403393</span></span>,<span class="hljs-number"><span class="hljs-number">041</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">388443</span></span>,<span class="hljs-number"><span class="hljs-number">058</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">127654</span></span>,<span class="hljs-number"><span class="hljs-number">236</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">117518</span></span>,<span class="hljs-number"><span class="hljs-number">788</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">119643</span></span>,<span class="hljs-number"><span class="hljs-number">439</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">137466</span></span>,<span class="hljs-number"><span class="hljs-number">542</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">146242</span></span>,<span class="hljs-number"><span class="hljs-number">312</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">143566</span></span>,<span class="hljs-number"><span class="hljs-number">288</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">138948</span></span>,<span class="hljs-number"><span class="hljs-number">391</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">120434</span></span>,<span class="hljs-number"><span class="hljs-number">984</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">126233</span></span>,<span class="hljs-number"><span class="hljs-number">747</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">118765</span></span>,<span class="hljs-number"><span class="hljs-number">491</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">121795</span></span>,<span class="hljs-number"><span class="hljs-number">027</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">117532</span></span>,<span class="hljs-number"><span class="hljs-number">020</span></span> us/op Result "ru.gnkoshelev.jbreak2018.perf_tests.strings.ImmutableStringBenchmark.concatenationBenchmark": <span class="hljs-number"><span class="hljs-number">127585</span></span>,<span class="hljs-number"><span class="hljs-number">013</span></span> ¬±(<span class="hljs-number"><span class="hljs-number">99.9</span></span>%) <span class="hljs-number"><span class="hljs-number">5716</span></span>,<span class="hljs-number"><span class="hljs-number">547</span></span> us/op [Average] (min, avg, max) = (<span class="hljs-number"><span class="hljs-number">117532</span></span>,<span class="hljs-number"><span class="hljs-number">020</span></span>, <span class="hljs-number"><span class="hljs-number">127585</span></span>,<span class="hljs-number"><span class="hljs-number">013</span></span>, <span class="hljs-number"><span class="hljs-number">146242</span></span>,<span class="hljs-number"><span class="hljs-number">312</span></span>), stdev = <span class="hljs-number"><span class="hljs-number">8556</span></span>,<span class="hljs-number"><span class="hljs-number">259</span></span> CI (<span class="hljs-number"><span class="hljs-number">99.9</span></span>%): [<span class="hljs-number"><span class="hljs-number">121868</span></span>,<span class="hljs-number"><span class="hljs-number">467</span></span>, <span class="hljs-number"><span class="hljs-number">133301</span></span>,<span class="hljs-number"><span class="hljs-number">560</span></span>] (assumes normal distribution) # Run complete. Total <span class="hljs-type"><span class="hljs-type">time</span></span>: <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">09</span></span>:<span class="hljs-number"><span class="hljs-number">14</span></span> Benchmark (N) Mode Cnt Score Error Units ImmutableStringBenchmark.builderBenchmark <span class="hljs-number"><span class="hljs-number">10</span></span> avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">182</span></span> ¬± <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">004</span></span> us/op ImmutableStringBenchmark.builderBenchmark <span class="hljs-number"><span class="hljs-number">100</span></span> avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">566</span></span> ¬± <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">014</span></span> us/op ImmutableStringBenchmark.builderBenchmark <span class="hljs-number"><span class="hljs-number">1000</span></span> avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">18</span></span>,<span class="hljs-number"><span class="hljs-number">188</span></span> ¬± <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">372</span></span> us/op ImmutableStringBenchmark.builderBenchmark <span class="hljs-number"><span class="hljs-number">10000</span></span> avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">214</span></span>,<span class="hljs-number"><span class="hljs-number">308</span></span> ¬± <span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">523</span></span> us/op ImmutableStringBenchmark.concatenationBenchmark <span class="hljs-number"><span class="hljs-number">10</span></span> avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">209</span></span> ¬± <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">003</span></span> us/op ImmutableStringBenchmark.concatenationBenchmark <span class="hljs-number"><span class="hljs-number">100</span></span> avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">220</span></span> ¬± <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">305</span></span> us/op ImmutableStringBenchmark.concatenationBenchmark <span class="hljs-number"><span class="hljs-number">1000</span></span> avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">1158</span></span>,<span class="hljs-number"><span class="hljs-number">463</span></span> ¬± <span class="hljs-number"><span class="hljs-number">48</span></span>,<span class="hljs-number"><span class="hljs-number">124</span></span> us/op ImmutableStringBenchmark.concatenationBenchmark <span class="hljs-number"><span class="hljs-number">10000</span></span> avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">127585</span></span>,<span class="hljs-number"><span class="hljs-number">013</span></span> ¬± <span class="hljs-number"><span class="hljs-number">5716</span></span>,<span class="hljs-number"><span class="hljs-number">547</span></span> us/op</code> </pre></div></div><br>  <code>O(n^2)</code> vs. <code>O(n)</code> - <code>StringBuilder</code> apparent superiority over concatenation. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  Benchmark and the destruction of the myth </h3><br>  Let's run a benchmark for the methods specified in the task: <br><ol><li>  <code>formatThroughPattern</code> - use <code>String.format()</code> </li><li>  <code>formatThroughConcatenation</code> - use string concatenation </li><li>  <code>formatThroughBuilder</code> - use <code>StringBuilder</code> </li><li>  <code>formatThroughMessageFormat</code> - use <code>MessageFormat.format().</code> </li></ol><br><div class="spoiler">  <b class="spoiler_title">Benchmark code</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> ru.gnkoshelev.jbreak2018.perf_tests.strings; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.openjdk.jmh.annotations.Benchmark; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.openjdk.jmh.annotations.BenchmarkMode; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.openjdk.jmh.annotations.Fork; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.openjdk.jmh.annotations.Measurement; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.openjdk.jmh.annotations.Mode; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.openjdk.jmh.annotations.OutputTimeUnit; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.openjdk.jmh.annotations.Scope; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.openjdk.jmh.annotations.Setup; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.openjdk.jmh.annotations.State; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.openjdk.jmh.annotations.Warmup; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.openjdk.jmh.infra.Blackhole; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.concurrent.TimeUnit; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> ru.gnkoshelev.jbreak2018.perf_tests.strings.OrdinalStringFormat.formatThroughBuilder; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> ru.gnkoshelev.jbreak2018.perf_tests.strings.OrdinalStringFormat.formatThroughConcatenation; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> ru.gnkoshelev.jbreak2018.perf_tests.strings.OrdinalStringFormat.formatThroughMessageFormat; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> ru.gnkoshelev.jbreak2018.perf_tests.strings.OrdinalStringFormat.formatThroughPattern; <span class="hljs-comment"><span class="hljs-comment">/** * Created by kgn on 16.03.2018. */</span></span> <span class="hljs-meta"><span class="hljs-meta">@Fork</span></span>(value = <span class="hljs-number"><span class="hljs-number">3</span></span>, warmups = <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-meta"><span class="hljs-meta">@Warmup</span></span>(iterations = <span class="hljs-number"><span class="hljs-number">5</span></span>, time = <span class="hljs-number"><span class="hljs-number">1_500</span></span>, timeUnit = TimeUnit.MILLISECONDS) <span class="hljs-meta"><span class="hljs-meta">@Measurement</span></span>(iterations = <span class="hljs-number"><span class="hljs-number">10</span></span>, time = <span class="hljs-number"><span class="hljs-number">1_500</span></span>, timeUnit = TimeUnit.MILLISECONDS) <span class="hljs-meta"><span class="hljs-meta">@OutputTimeUnit</span></span>(value = TimeUnit.NANOSECONDS) <span class="hljs-meta"><span class="hljs-meta">@BenchmarkMode</span></span>(Mode.AverageTime) <span class="hljs-meta"><span class="hljs-meta">@State</span></span>(Scope.Benchmark) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OrdinalStringFormatBenchmark</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> String user; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> String grade; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> String message; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> String company; <span class="hljs-meta"><span class="hljs-meta">@Setup</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setup</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ user = <span class="hljs-string"><span class="hljs-string">""</span></span>; grade = <span class="hljs-string"><span class="hljs-string">""</span></span>; company = <span class="hljs-string"><span class="hljs-string">""</span></span>; message = <span class="hljs-string"><span class="hljs-string">""</span></span>; } <span class="hljs-meta"><span class="hljs-meta">@Benchmark</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">formatThroughPatternBenchmark</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Blackhole bh)</span></span></span><span class="hljs-function"> </span></span>{ bh.consume(formatThroughPattern(user, company, grade, message)); } <span class="hljs-meta"><span class="hljs-meta">@Benchmark</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">formatThroughConcatenationBenchmark</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Blackhole bh)</span></span></span><span class="hljs-function"> </span></span>{ bh.consume(formatThroughConcatenation(user, company, grade, message)); } <span class="hljs-meta"><span class="hljs-meta">@Benchmark</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">formatThroughBuilderBenchmark</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Blackhole bh)</span></span></span><span class="hljs-function"> </span></span>{ bh.consume(formatThroughBuilder(user, company, grade, message)); } <span class="hljs-meta"><span class="hljs-meta">@Benchmark</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">formatThroughMessageFormatBenchmark</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Blackhole bh)</span></span></span><span class="hljs-function"> </span></span>{ bh.consume(formatThroughMessageFormat(user, company, grade, message)); } }</code> </pre></div></div><br>  Benchmark result: <br><pre> <code class="hljs vhdl">Benchmark Mode Cnt Score <span class="hljs-literal"><span class="hljs-literal">Error</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Units</span></span> ...formatThroughBuilderBenchmark avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">719</span></span> ¬± <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">139</span></span> ns/op ...formatThroughConcatenationBenchmark avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">416</span></span> ¬± <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">435</span></span> ns/op ...formatThroughMessageFormatBenchmark avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">1018</span></span>,<span class="hljs-number"><span class="hljs-number">011</span></span> ¬± <span class="hljs-number"><span class="hljs-number">12</span></span>,<span class="hljs-number"><span class="hljs-number">805</span></span> ns/op ...formatThroughPatternBenchmark avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">1506</span></span>,<span class="hljs-number"><span class="hljs-number">341</span></span> ¬± <span class="hljs-number"><span class="hljs-number">21</span></span>,<span class="hljs-number"><span class="hljs-number">927</span></span> ns/op</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Benchmark results entirely</b> <div class="spoiler_text"><pre> <code class="hljs pgsql"># JMH <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: <span class="hljs-number"><span class="hljs-number">1.20</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: JDK <span class="hljs-number"><span class="hljs-number">1.8</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>_161, VM <span class="hljs-number"><span class="hljs-number">25.161</span></span>-b12 # VM <span class="hljs-keyword"><span class="hljs-keyword">invoker</span></span>: C:\Program Files\Java\jre1<span class="hljs-number"><span class="hljs-number">.8</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>_161\bin\java.exe # VM <span class="hljs-keyword"><span class="hljs-keyword">options</span></span>: &lt;<span class="hljs-keyword"><span class="hljs-keyword">none</span></span>&gt; # Warmup: <span class="hljs-number"><span class="hljs-number">5</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Measurement: <span class="hljs-number"><span class="hljs-number">10</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Timeout: <span class="hljs-number"><span class="hljs-number">10</span></span> min per iteration # Threads: <span class="hljs-number"><span class="hljs-number">1</span></span> thread, will synchronize iterations # Benchmark mode: Average <span class="hljs-type"><span class="hljs-type">time</span></span>, <span class="hljs-type"><span class="hljs-type">time</span></span>/op # Benchmark: ru.gnkoshelev.jbreak2018.perf_tests.strings.OrdinalStringFormatBenchmark.formatThroughBuilderBenchmark # Run progress: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">00</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">04</span></span>:<span class="hljs-number"><span class="hljs-number">30</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">66</span></span>,<span class="hljs-number"><span class="hljs-number">501</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">60</span></span>,<span class="hljs-number"><span class="hljs-number">551</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">56</span></span>,<span class="hljs-number"><span class="hljs-number">899</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">136</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">48</span></span>,<span class="hljs-number"><span class="hljs-number">549</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">52</span></span>,<span class="hljs-number"><span class="hljs-number">092</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">894</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">54</span></span>,<span class="hljs-number"><span class="hljs-number">802</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">53</span></span>,<span class="hljs-number"><span class="hljs-number">570</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">592</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">51</span></span>,<span class="hljs-number"><span class="hljs-number">676</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">51</span></span>,<span class="hljs-number"><span class="hljs-number">835</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">216</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">53</span></span>,<span class="hljs-number"><span class="hljs-number">597</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">949</span></span> ns/op # Run progress: <span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">33</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">04</span></span>:<span class="hljs-number"><span class="hljs-number">13</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">64</span></span>,<span class="hljs-number"><span class="hljs-number">670</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">51</span></span>,<span class="hljs-number"><span class="hljs-number">154</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">878</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">587</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">52</span></span>,<span class="hljs-number"><span class="hljs-number">958</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">53</span></span>,<span class="hljs-number"><span class="hljs-number">521</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">53</span></span>,<span class="hljs-number"><span class="hljs-number">372</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">52</span></span>,<span class="hljs-number"><span class="hljs-number">264</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">248</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">198</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">958</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">277</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">983</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">250</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">128</span></span> ns/op # Run progress: <span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">67</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span>:<span class="hljs-number"><span class="hljs-number">49</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">64</span></span>,<span class="hljs-number"><span class="hljs-number">392</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">621</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">48</span></span>,<span class="hljs-number"><span class="hljs-number">771</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">48</span></span>,<span class="hljs-number"><span class="hljs-number">909</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">029</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">144</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">48</span></span>,<span class="hljs-number"><span class="hljs-number">941</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">632</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">275</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">48</span></span>,<span class="hljs-number"><span class="hljs-number">470</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">48</span></span>,<span class="hljs-number"><span class="hljs-number">599</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">489</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">48</span></span>,<span class="hljs-number"><span class="hljs-number">866</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">790</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">945</span></span> ns/op Result "ru.gnkoshelev.jbreak2018.perf_tests.strings.OrdinalStringFormatBenchmark.formatThroughBuilderBenchmark": <span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">719</span></span> ¬±(<span class="hljs-number"><span class="hljs-number">99.9</span></span>%) <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">139</span></span> ns/op [Average] (min, avg, max) = (<span class="hljs-number"><span class="hljs-number">48</span></span>,<span class="hljs-number"><span class="hljs-number">470</span></span>, <span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">719</span></span>, <span class="hljs-number"><span class="hljs-number">54</span></span>,<span class="hljs-number"><span class="hljs-number">802</span></span>), stdev = <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">704</span></span> CI (<span class="hljs-number"><span class="hljs-number">99.9</span></span>%): [<span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">580</span></span>, <span class="hljs-number"><span class="hljs-number">51</span></span>,<span class="hljs-number"><span class="hljs-number">858</span></span>] (assumes normal distribution) # JMH <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: <span class="hljs-number"><span class="hljs-number">1.20</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: JDK <span class="hljs-number"><span class="hljs-number">1.8</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>_161, VM <span class="hljs-number"><span class="hljs-number">25.161</span></span>-b12 # VM <span class="hljs-keyword"><span class="hljs-keyword">invoker</span></span>: C:\Program Files\Java\jre1<span class="hljs-number"><span class="hljs-number">.8</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>_161\bin\java.exe # VM <span class="hljs-keyword"><span class="hljs-keyword">options</span></span>: &lt;<span class="hljs-keyword"><span class="hljs-keyword">none</span></span>&gt; # Warmup: <span class="hljs-number"><span class="hljs-number">5</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Measurement: <span class="hljs-number"><span class="hljs-number">10</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Timeout: <span class="hljs-number"><span class="hljs-number">10</span></span> min per iteration # Threads: <span class="hljs-number"><span class="hljs-number">1</span></span> thread, will synchronize iterations # Benchmark mode: Average <span class="hljs-type"><span class="hljs-type">time</span></span>, <span class="hljs-type"><span class="hljs-type">time</span></span>/op # Benchmark: ru.gnkoshelev.jbreak2018.perf_tests.strings.OrdinalStringFormatBenchmark.formatThroughConcatenationBenchmark # Run progress: <span class="hljs-number"><span class="hljs-number">25</span></span>,<span class="hljs-number"><span class="hljs-number">00</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span>:<span class="hljs-number"><span class="hljs-number">26</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">64</span></span>,<span class="hljs-number"><span class="hljs-number">954</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">711</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">847</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">832</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">48</span></span>,<span class="hljs-number"><span class="hljs-number">330</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">48</span></span>,<span class="hljs-number"><span class="hljs-number">820</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">48</span></span>,<span class="hljs-number"><span class="hljs-number">948</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">48</span></span>,<span class="hljs-number"><span class="hljs-number">992</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">48</span></span>,<span class="hljs-number"><span class="hljs-number">912</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">423</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">51</span></span>,<span class="hljs-number"><span class="hljs-number">057</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">861</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">339</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">602</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">135</span></span> ns/op # Run progress: <span class="hljs-number"><span class="hljs-number">33</span></span>,<span class="hljs-number"><span class="hljs-number">33</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">63</span></span>,<span class="hljs-number"><span class="hljs-number">647</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">904</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">307</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">48</span></span>,<span class="hljs-number"><span class="hljs-number">602</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">369</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">388</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">48</span></span>,<span class="hljs-number"><span class="hljs-number">579</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">546</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">421</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">246</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">48</span></span>,<span class="hljs-number"><span class="hljs-number">432</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">458</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">071</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">405</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">432</span></span> ns/op # Run progress: <span class="hljs-number"><span class="hljs-number">41</span></span>,<span class="hljs-number"><span class="hljs-number">67</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">02</span></span>:<span class="hljs-number"><span class="hljs-number">40</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">64</span></span>,<span class="hljs-number"><span class="hljs-number">515</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">747</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">217</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">306</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">48</span></span>,<span class="hljs-number"><span class="hljs-number">832</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">280</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">300</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">48</span></span>,<span class="hljs-number"><span class="hljs-number">426</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">774</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">48</span></span>,<span class="hljs-number"><span class="hljs-number">891</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">231</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">051</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">48</span></span>,<span class="hljs-number"><span class="hljs-number">662</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">083</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">724</span></span> ns/op Result "ru.gnkoshelev.jbreak2018.perf_tests.strings.OrdinalStringFormatBenchmark.formatThroughConcatenationBenchmark": <span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">416</span></span> ¬±(<span class="hljs-number"><span class="hljs-number">99.9</span></span>%) <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">435</span></span> ns/op [Average] (min, avg, max) = (<span class="hljs-number"><span class="hljs-number">48</span></span>,<span class="hljs-number"><span class="hljs-number">426</span></span>, <span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">416</span></span>, <span class="hljs-number"><span class="hljs-number">51</span></span>,<span class="hljs-number"><span class="hljs-number">057</span></span>), stdev = <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">651</span></span> CI (<span class="hljs-number"><span class="hljs-number">99.9</span></span>%): [<span class="hljs-number"><span class="hljs-number">48</span></span>,<span class="hljs-number"><span class="hljs-number">981</span></span>, <span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">851</span></span>] (assumes normal distribution) # JMH <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: <span class="hljs-number"><span class="hljs-number">1.20</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: JDK <span class="hljs-number"><span class="hljs-number">1.8</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>_161, VM <span class="hljs-number"><span class="hljs-number">25.161</span></span>-b12 # VM <span class="hljs-keyword"><span class="hljs-keyword">invoker</span></span>: C:\Program Files\Java\jre1<span class="hljs-number"><span class="hljs-number">.8</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>_161\bin\java.exe # VM <span class="hljs-keyword"><span class="hljs-keyword">options</span></span>: &lt;<span class="hljs-keyword"><span class="hljs-keyword">none</span></span>&gt; # Warmup: <span class="hljs-number"><span class="hljs-number">5</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Measurement: <span class="hljs-number"><span class="hljs-number">10</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Timeout: <span class="hljs-number"><span class="hljs-number">10</span></span> min per iteration # Threads: <span class="hljs-number"><span class="hljs-number">1</span></span> thread, will synchronize iterations # Benchmark mode: Average <span class="hljs-type"><span class="hljs-type">time</span></span>, <span class="hljs-type"><span class="hljs-type">time</span></span>/op # Benchmark: ru.gnkoshelev.jbreak2018.perf_tests.strings.OrdinalStringFormatBenchmark.formatThroughMessageFormatBenchmark # Run progress: <span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">00</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">02</span></span>:<span class="hljs-number"><span class="hljs-number">17</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">1469</span></span>,<span class="hljs-number"><span class="hljs-number">943</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1297</span></span>,<span class="hljs-number"><span class="hljs-number">225</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1118</span></span>,<span class="hljs-number"><span class="hljs-number">280</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1008</span></span>,<span class="hljs-number"><span class="hljs-number">395</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1010</span></span>,<span class="hljs-number"><span class="hljs-number">427</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">1045</span></span>,<span class="hljs-number"><span class="hljs-number">570</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1055</span></span>,<span class="hljs-number"><span class="hljs-number">899</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1032</span></span>,<span class="hljs-number"><span class="hljs-number">176</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1033</span></span>,<span class="hljs-number"><span class="hljs-number">352</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1024</span></span>,<span class="hljs-number"><span class="hljs-number">963</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">1029</span></span>,<span class="hljs-number"><span class="hljs-number">085</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">1022</span></span>,<span class="hljs-number"><span class="hljs-number">343</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">1012</span></span>,<span class="hljs-number"><span class="hljs-number">589</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">1026</span></span>,<span class="hljs-number"><span class="hljs-number">919</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">1015</span></span>,<span class="hljs-number"><span class="hljs-number">923</span></span> ns/op # Run progress: <span class="hljs-number"><span class="hljs-number">58</span></span>,<span class="hljs-number"><span class="hljs-number">33</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">01</span></span>:<span class="hljs-number"><span class="hljs-number">54</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">1466</span></span>,<span class="hljs-number"><span class="hljs-number">094</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1164</span></span>,<span class="hljs-number"><span class="hljs-number">720</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1093</span></span>,<span class="hljs-number"><span class="hljs-number">806</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">999</span></span>,<span class="hljs-number"><span class="hljs-number">967</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1010</span></span>,<span class="hljs-number"><span class="hljs-number">377</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">1011</span></span>,<span class="hljs-number"><span class="hljs-number">633</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">999</span></span>,<span class="hljs-number"><span class="hljs-number">827</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1005</span></span>,<span class="hljs-number"><span class="hljs-number">580</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1012</span></span>,<span class="hljs-number"><span class="hljs-number">595</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1007</span></span>,<span class="hljs-number"><span class="hljs-number">700</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">1012</span></span>,<span class="hljs-number"><span class="hljs-number">898</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">1034</span></span>,<span class="hljs-number"><span class="hljs-number">821</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">1003</span></span>,<span class="hljs-number"><span class="hljs-number">250</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">1011</span></span>,<span class="hljs-number"><span class="hljs-number">014</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">1006</span></span>,<span class="hljs-number"><span class="hljs-number">375</span></span> ns/op # Run progress: <span class="hljs-number"><span class="hljs-number">66</span></span>,<span class="hljs-number"><span class="hljs-number">67</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">01</span></span>:<span class="hljs-number"><span class="hljs-number">31</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">1572</span></span>,<span class="hljs-number"><span class="hljs-number">302</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1494</span></span>,<span class="hljs-number"><span class="hljs-number">790</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1214</span></span>,<span class="hljs-number"><span class="hljs-number">017</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1057</span></span>,<span class="hljs-number"><span class="hljs-number">334</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1099</span></span>,<span class="hljs-number"><span class="hljs-number">289</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">987</span></span>,<span class="hljs-number"><span class="hljs-number">605</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">990</span></span>,<span class="hljs-number"><span class="hljs-number">904</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">991</span></span>,<span class="hljs-number"><span class="hljs-number">050</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1000</span></span>,<span class="hljs-number"><span class="hljs-number">703</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1056</span></span>,<span class="hljs-number"><span class="hljs-number">985</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">1028</span></span>,<span class="hljs-number"><span class="hljs-number">472</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">1058</span></span>,<span class="hljs-number"><span class="hljs-number">749</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">1003</span></span>,<span class="hljs-number"><span class="hljs-number">892</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">1009</span></span>,<span class="hljs-number"><span class="hljs-number">049</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">1008</span></span>,<span class="hljs-number"><span class="hljs-number">405</span></span> ns/op Result "ru.gnkoshelev.jbreak2018.perf_tests.strings.OrdinalStringFormatBenchmark.formatThroughMessageFormatBenchmark": <span class="hljs-number"><span class="hljs-number">1018</span></span>,<span class="hljs-number"><span class="hljs-number">011</span></span> ¬±(<span class="hljs-number"><span class="hljs-number">99.9</span></span>%) <span class="hljs-number"><span class="hljs-number">12</span></span>,<span class="hljs-number"><span class="hljs-number">805</span></span> ns/op [Average] (min, avg, max) = (<span class="hljs-number"><span class="hljs-number">987</span></span>,<span class="hljs-number"><span class="hljs-number">605</span></span>, <span class="hljs-number"><span class="hljs-number">1018</span></span>,<span class="hljs-number"><span class="hljs-number">011</span></span>, <span class="hljs-number"><span class="hljs-number">1058</span></span>,<span class="hljs-number"><span class="hljs-number">749</span></span>), stdev = <span class="hljs-number"><span class="hljs-number">19</span></span>,<span class="hljs-number"><span class="hljs-number">165</span></span> CI (<span class="hljs-number"><span class="hljs-number">99.9</span></span>%): [<span class="hljs-number"><span class="hljs-number">1005</span></span>,<span class="hljs-number"><span class="hljs-number">206</span></span>, <span class="hljs-number"><span class="hljs-number">1030</span></span>,<span class="hljs-number"><span class="hljs-number">815</span></span>] (assumes normal distribution) # JMH <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: <span class="hljs-number"><span class="hljs-number">1.20</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: JDK <span class="hljs-number"><span class="hljs-number">1.8</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>_161, VM <span class="hljs-number"><span class="hljs-number">25.161</span></span>-b12 # VM <span class="hljs-keyword"><span class="hljs-keyword">invoker</span></span>: C:\Program Files\Java\jre1<span class="hljs-number"><span class="hljs-number">.8</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>_161\bin\java.exe # VM <span class="hljs-keyword"><span class="hljs-keyword">options</span></span>: &lt;<span class="hljs-keyword"><span class="hljs-keyword">none</span></span>&gt; # Warmup: <span class="hljs-number"><span class="hljs-number">5</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Measurement: <span class="hljs-number"><span class="hljs-number">10</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Timeout: <span class="hljs-number"><span class="hljs-number">10</span></span> min per iteration # Threads: <span class="hljs-number"><span class="hljs-number">1</span></span> thread, will synchronize iterations # Benchmark mode: Average <span class="hljs-type"><span class="hljs-type">time</span></span>, <span class="hljs-type"><span class="hljs-type">time</span></span>/op # Benchmark: ru.gnkoshelev.jbreak2018.perf_tests.strings.OrdinalStringFormatBenchmark.formatThroughPatternBenchmark # Run progress: <span class="hljs-number"><span class="hljs-number">75</span></span>,<span class="hljs-number"><span class="hljs-number">00</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">01</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">2070</span></span>,<span class="hljs-number"><span class="hljs-number">487</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1660</span></span>,<span class="hljs-number"><span class="hljs-number">717</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1619</span></span>,<span class="hljs-number"><span class="hljs-number">241</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1494</span></span>,<span class="hljs-number"><span class="hljs-number">624</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1554</span></span>,<span class="hljs-number"><span class="hljs-number">734</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">1516</span></span>,<span class="hljs-number"><span class="hljs-number">562</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1503</span></span>,<span class="hljs-number"><span class="hljs-number">105</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1501</span></span>,<span class="hljs-number"><span class="hljs-number">292</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1501</span></span>,<span class="hljs-number"><span class="hljs-number">102</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1487</span></span>,<span class="hljs-number"><span class="hljs-number">718</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">1486</span></span>,<span class="hljs-number"><span class="hljs-number">100</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">1496</span></span>,<span class="hljs-number"><span class="hljs-number">293</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">1543</span></span>,<span class="hljs-number"><span class="hljs-number">699</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">1564</span></span>,<span class="hljs-number"><span class="hljs-number">870</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">1645</span></span>,<span class="hljs-number"><span class="hljs-number">359</span></span> ns/op # Run progress: <span class="hljs-number"><span class="hljs-number">83</span></span>,<span class="hljs-number"><span class="hljs-number">33</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">45</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">2398</span></span>,<span class="hljs-number"><span class="hljs-number">095</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1813</span></span>,<span class="hljs-number"><span class="hljs-number">653</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1597</span></span>,<span class="hljs-number"><span class="hljs-number">230</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1564</span></span>,<span class="hljs-number"><span class="hljs-number">952</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1503</span></span>,<span class="hljs-number"><span class="hljs-number">908</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">1507</span></span>,<span class="hljs-number"><span class="hljs-number">203</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1489</span></span>,<span class="hljs-number"><span class="hljs-number">109</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1484</span></span>,<span class="hljs-number"><span class="hljs-number">389</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1490</span></span>,<span class="hljs-number"><span class="hljs-number">826</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1487</span></span>,<span class="hljs-number"><span class="hljs-number">540</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">1503</span></span>,<span class="hljs-number"><span class="hljs-number">939</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">1511</span></span>,<span class="hljs-number"><span class="hljs-number">837</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">1506</span></span>,<span class="hljs-number"><span class="hljs-number">471</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">1502</span></span>,<span class="hljs-number"><span class="hljs-number">044</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">1514</span></span>,<span class="hljs-number"><span class="hljs-number">643</span></span> ns/op # Run progress: <span class="hljs-number"><span class="hljs-number">91</span></span>,<span class="hljs-number"><span class="hljs-number">67</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">22</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">2069</span></span>,<span class="hljs-number"><span class="hljs-number">954</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1857</span></span>,<span class="hljs-number"><span class="hljs-number">799</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1664</span></span>,<span class="hljs-number"><span class="hljs-number">149</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1586</span></span>,<span class="hljs-number"><span class="hljs-number">673</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1500</span></span>,<span class="hljs-number"><span class="hljs-number">493</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">1475</span></span>,<span class="hljs-number"><span class="hljs-number">253</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1472</span></span>,<span class="hljs-number"><span class="hljs-number">748</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1492</span></span>,<span class="hljs-number"><span class="hljs-number">754</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1509</span></span>,<span class="hljs-number"><span class="hljs-number">337</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1490</span></span>,<span class="hljs-number"><span class="hljs-number">256</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">1487</span></span>,<span class="hljs-number"><span class="hljs-number">948</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">1507</span></span>,<span class="hljs-number"><span class="hljs-number">194</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">1487</span></span>,<span class="hljs-number"><span class="hljs-number">571</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">1486</span></span>,<span class="hljs-number"><span class="hljs-number">298</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">1536</span></span>,<span class="hljs-number"><span class="hljs-number">766</span></span> ns/op Result "ru.gnkoshelev.jbreak2018.perf_tests.strings.OrdinalStringFormatBenchmark.formatThroughPatternBenchmark": <span class="hljs-number"><span class="hljs-number">1506</span></span>,<span class="hljs-number"><span class="hljs-number">341</span></span> ¬±(<span class="hljs-number"><span class="hljs-number">99.9</span></span>%) <span class="hljs-number"><span class="hljs-number">21</span></span>,<span class="hljs-number"><span class="hljs-number">927</span></span> ns/op [Average] (min, avg, max) = (<span class="hljs-number"><span class="hljs-number">1472</span></span>,<span class="hljs-number"><span class="hljs-number">748</span></span>, <span class="hljs-number"><span class="hljs-number">1506</span></span>,<span class="hljs-number"><span class="hljs-number">341</span></span>, <span class="hljs-number"><span class="hljs-number">1645</span></span>,<span class="hljs-number"><span class="hljs-number">359</span></span>), stdev = <span class="hljs-number"><span class="hljs-number">32</span></span>,<span class="hljs-number"><span class="hljs-number">819</span></span> CI (<span class="hljs-number"><span class="hljs-number">99.9</span></span>%): [<span class="hljs-number"><span class="hljs-number">1484</span></span>,<span class="hljs-number"><span class="hljs-number">414</span></span>, <span class="hljs-number"><span class="hljs-number">1528</span></span>,<span class="hljs-number"><span class="hljs-number">268</span></span>] (assumes normal distribution) # Run complete. Total <span class="hljs-type"><span class="hljs-type">time</span></span>: <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">04</span></span>:<span class="hljs-number"><span class="hljs-number">35</span></span> Benchmark Mode Cnt Score Error Units OrdinalStringFormatBenchmark.formatThroughBuilderBenchmark avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">719</span></span> ¬± <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">139</span></span> ns/op OrdinalStringFormatBenchmark.formatThroughConcatenationBenchmark avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">416</span></span> ¬± <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">435</span></span> ns/op OrdinalStringFormatBenchmark.formatThroughMessageFormatBenchmark avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">1018</span></span>,<span class="hljs-number"><span class="hljs-number">011</span></span> ¬± <span class="hljs-number"><span class="hljs-number">12</span></span>,<span class="hljs-number"><span class="hljs-number">805</span></span> ns/op OrdinalStringFormatBenchmark.formatThroughPatternBenchmark avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">1506</span></span>,<span class="hljs-number"><span class="hljs-number">341</span></span> ¬± <span class="hljs-number"><span class="hljs-number">21</span></span>,<span class="hljs-number"><span class="hljs-number">927</span></span> ns/op</code> </pre></div></div><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> What happened at all? </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. </font></font><code>String.format()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Expectedly turned out to be the slowest result - this is the use of regulars, and the creation of auxiliary objects, and many validations of the template string and arguments. </font><font style="vertical-align: inherit;">If we compare it with </font></font><code>MessageFormat.format()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, which is out of the competition with us, then according to observations on different templates one can get different results - in some cases, one method is faster, in some other way. </font><font style="vertical-align: inherit;">In our case, it </font></font><code>MessageFormat.format()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">turned out faster. </font><font style="vertical-align: inherit;">At the same time, its result could still be significantly accelerated if the object was </font></font><code>MessageFormat</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">reused, in which case resources for parsing the template would be saved. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. Usage </font></font><code>StringBuilder</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and regular concatenation gave the same result. </font><font style="vertical-align: inherit;">A slightly longer benchmark time co </font></font><code>StringBuilder</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">deception is the</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> result of minor fluctuations.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Another benchmark and confirmation of the myth? </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beg another benchmark. </font><font style="vertical-align: inherit;">We will format the lines as Graphite asks for them (means for collecting metrics):</font></font><br><pre> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"></span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"></span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">timestamp</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Formatting code</font></font></b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> ru.gnkoshelev.jbreak2018.perf_tests.strings; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.text.MessageFormat; <span class="hljs-comment"><span class="hljs-comment">/** * Created by kgn on 18.03.2018. */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MetricsFormat</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">formatThroughPattern</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String metrics, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> value, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">long</span></span></span></span><span class="hljs-function"><span class="hljs-params"> timestamp)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> String.format( <span class="hljs-string"><span class="hljs-string">"%s %d %d"</span></span>, metrics, value, timestamp); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">formatThroughConcatenation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String metrics, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> value, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">long</span></span></span></span><span class="hljs-function"><span class="hljs-params"> timestamp)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> metrics + <span class="hljs-string"><span class="hljs-string">" "</span></span> + value + <span class="hljs-string"><span class="hljs-string">" "</span></span> + timestamp; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">formatThroughBuilder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String metrics, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> value, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">long</span></span></span></span><span class="hljs-function"><span class="hljs-params"> timestamp)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StringBuilder(metrics) .append(<span class="hljs-string"><span class="hljs-string">" "</span></span>) .append(value) .append(<span class="hljs-string"><span class="hljs-string">" "</span></span>) .append(timestamp) .toString(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">formatThroughMessageFormat</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String metrics, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> value, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">long</span></span></span></span><span class="hljs-function"><span class="hljs-params"> timestamp)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> MessageFormat.format( <span class="hljs-string"><span class="hljs-string">"{0} {1} {2}"</span></span>, metrics, String.valueOf(value), String.valueOf(timestamp)); } }</code> </pre></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">And a piece of benchmark (the full code of all benchmarks is available on </font></font><a href="https://github.com/gnkoshelev/jbreak2018-strings-perf-tests"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ):</font></font><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Fork</span></span>(value = <span class="hljs-number"><span class="hljs-number">3</span></span>, warmups = <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-meta"><span class="hljs-meta">@Warmup</span></span>(iterations = <span class="hljs-number"><span class="hljs-number">5</span></span>, time = <span class="hljs-number"><span class="hljs-number">1_500</span></span>, timeUnit = TimeUnit.MILLISECONDS) <span class="hljs-meta"><span class="hljs-meta">@Measurement</span></span>(iterations = <span class="hljs-number"><span class="hljs-number">10</span></span>, time = <span class="hljs-number"><span class="hljs-number">1_500</span></span>, timeUnit = TimeUnit.MILLISECONDS) <span class="hljs-meta"><span class="hljs-meta">@OutputTimeUnit</span></span>(value = TimeUnit.NANOSECONDS) <span class="hljs-meta"><span class="hljs-meta">@BenchmarkMode</span></span>(Mode.AverageTime) <span class="hljs-meta"><span class="hljs-meta">@State</span></span>(Scope.Benchmark) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MetricsFormatBenchmark</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> String metrics; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> value; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> timestamp; <span class="hljs-meta"><span class="hljs-meta">@Setup</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setup</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ metrics = <span class="hljs-string"><span class="hljs-string">"my-awesome-project"</span></span> + <span class="hljs-string"><span class="hljs-string">".my-awesome-microservice-of-my-awesome-project"</span></span> + <span class="hljs-string"><span class="hljs-string">".my-host-for-my-awesome-microservice-of-my-awesome-project"</span></span> + <span class="hljs-string"><span class="hljs-string">".my-custom-metric-from-my-host-of-my-awesome-microservice-of-my-awesome-project"</span></span> + <span class="hljs-string"><span class="hljs-string">".p99-for-my-custom-metric-of-my-awesome-microservice-of-my-awesome-project"</span></span>; value = <span class="hljs-number"><span class="hljs-number">1</span></span>; timestamp = <span class="hljs-number"><span class="hljs-number">1521331200000L</span></span>; } <span class="hljs-meta"><span class="hljs-meta">@Benchmark</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">formatThroughPatternBenchmark</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Blackhole bh)</span></span></span><span class="hljs-function"> </span></span>{ bh.consume(formatThroughPattern(metrics, value, timestamp)); } <span class="hljs-meta"><span class="hljs-meta">@Benchmark</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">formatThroughConcatenationBenchmark</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Blackhole bh)</span></span></span><span class="hljs-function"> </span></span>{ bh.consume(formatThroughConcatenation(metrics, value, timestamp)); } <span class="hljs-meta"><span class="hljs-meta">@Benchmark</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">formatThroughBuilderBenchmark</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Blackhole bh)</span></span></span><span class="hljs-function"> </span></span>{ bh.consume(formatThroughBuilder(metrics, value, timestamp)); } <span class="hljs-meta"><span class="hljs-meta">@Benchmark</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">formatThroughMessageFormatBuilder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Blackhole bh)</span></span></span><span class="hljs-function"> </span></span>{ bh.consume(formatThroughMessageFormat(metrics, value, timestamp)); } }</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Benchmark results: </font></font><br><pre> <code class="hljs vhdl">Benchmark Mode Cnt Score <span class="hljs-literal"><span class="hljs-literal">Error</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Units</span></span> ...formatThroughBuilderBenchmark avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">212</span></span>,<span class="hljs-number"><span class="hljs-number">410</span></span> ¬± <span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">383</span></span> ns/op ...formatThroughConcatenationBenchmark avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">340</span></span>,<span class="hljs-number"><span class="hljs-number">894</span></span> ¬± <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">759</span></span> ns/op ...formatThroughMessageFormatBuilder avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">747</span></span>,<span class="hljs-number"><span class="hljs-number">888</span></span> ¬± <span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">856</span></span> ns/op ...formatThroughPatternBenchmark avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">1432</span></span>,<span class="hljs-number"><span class="hljs-number">906</span></span> ¬± <span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">302</span></span> ns/op</code> </pre><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Benchmark results entirely</font></font></b> <div class="spoiler_text"><pre> <code class="hljs pgsql"># JMH <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: <span class="hljs-number"><span class="hljs-number">1.20</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: JDK <span class="hljs-number"><span class="hljs-number">1.8</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>_161, VM <span class="hljs-number"><span class="hljs-number">25.161</span></span>-b12 # VM <span class="hljs-keyword"><span class="hljs-keyword">invoker</span></span>: C:\Program Files\Java\jre1<span class="hljs-number"><span class="hljs-number">.8</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>_161\bin\java.exe # VM <span class="hljs-keyword"><span class="hljs-keyword">options</span></span>: &lt;<span class="hljs-keyword"><span class="hljs-keyword">none</span></span>&gt; # Warmup: <span class="hljs-number"><span class="hljs-number">5</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Measurement: <span class="hljs-number"><span class="hljs-number">10</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Timeout: <span class="hljs-number"><span class="hljs-number">10</span></span> min per iteration # Threads: <span class="hljs-number"><span class="hljs-number">1</span></span> thread, will synchronize iterations # Benchmark mode: Average <span class="hljs-type"><span class="hljs-type">time</span></span>, <span class="hljs-type"><span class="hljs-type">time</span></span>/op # Benchmark: ru.gnkoshelev.jbreak2018.perf_tests.strings.MetricsFormatBenchmark.formatThroughBuilderBenchmark # Run progress: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">00</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">04</span></span>:<span class="hljs-number"><span class="hljs-number">30</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">364</span></span>,<span class="hljs-number"><span class="hljs-number">237</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">225</span></span>,<span class="hljs-number"><span class="hljs-number">585</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">214</span></span>,<span class="hljs-number"><span class="hljs-number">730</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">208</span></span>,<span class="hljs-number"><span class="hljs-number">999</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">209</span></span>,<span class="hljs-number"><span class="hljs-number">362</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">211</span></span>,<span class="hljs-number"><span class="hljs-number">761</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">210</span></span>,<span class="hljs-number"><span class="hljs-number">992</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">210</span></span>,<span class="hljs-number"><span class="hljs-number">520</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">210</span></span>,<span class="hljs-number"><span class="hljs-number">215</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">210</span></span>,<span class="hljs-number"><span class="hljs-number">570</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">211</span></span>,<span class="hljs-number"><span class="hljs-number">235</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">211</span></span>,<span class="hljs-number"><span class="hljs-number">023</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">210</span></span>,<span class="hljs-number"><span class="hljs-number">616</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">222</span></span>,<span class="hljs-number"><span class="hljs-number">262</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">224</span></span>,<span class="hljs-number"><span class="hljs-number">458</span></span> ns/op # Run progress: <span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">33</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">04</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">318</span></span>,<span class="hljs-number"><span class="hljs-number">609</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">206</span></span>,<span class="hljs-number"><span class="hljs-number">168</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">206</span></span>,<span class="hljs-number"><span class="hljs-number">740</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">210</span></span>,<span class="hljs-number"><span class="hljs-number">160</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">210</span></span>,<span class="hljs-number"><span class="hljs-number">540</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">208</span></span>,<span class="hljs-number"><span class="hljs-number">689</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">209</span></span>,<span class="hljs-number"><span class="hljs-number">858</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">210</span></span>,<span class="hljs-number"><span class="hljs-number">219</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">208</span></span>,<span class="hljs-number"><span class="hljs-number">769</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">211</span></span>,<span class="hljs-number"><span class="hljs-number">801</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">208</span></span>,<span class="hljs-number"><span class="hljs-number">374</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">211</span></span>,<span class="hljs-number"><span class="hljs-number">621</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">210</span></span>,<span class="hljs-number"><span class="hljs-number">325</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">212</span></span>,<span class="hljs-number"><span class="hljs-number">575</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">213</span></span>,<span class="hljs-number"><span class="hljs-number">103</span></span> ns/op # Run progress: <span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">67</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span>:<span class="hljs-number"><span class="hljs-number">49</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">278</span></span>,<span class="hljs-number"><span class="hljs-number">328</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">205</span></span>,<span class="hljs-number"><span class="hljs-number">199</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">211</span></span>,<span class="hljs-number"><span class="hljs-number">429</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">212</span></span>,<span class="hljs-number"><span class="hljs-number">721</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">216</span></span>,<span class="hljs-number"><span class="hljs-number">514</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">210</span></span>,<span class="hljs-number"><span class="hljs-number">979</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">214</span></span>,<span class="hljs-number"><span class="hljs-number">867</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">211</span></span>,<span class="hljs-number"><span class="hljs-number">800</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">217</span></span>,<span class="hljs-number"><span class="hljs-number">169</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">212</span></span>,<span class="hljs-number"><span class="hljs-number">202</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">210</span></span>,<span class="hljs-number"><span class="hljs-number">910</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">212</span></span>,<span class="hljs-number"><span class="hljs-number">878</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">215</span></span>,<span class="hljs-number"><span class="hljs-number">043</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">214</span></span>,<span class="hljs-number"><span class="hljs-number">553</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">212</span></span>,<span class="hljs-number"><span class="hljs-number">912</span></span> ns/op Result "ru.gnkoshelev.jbreak2018.perf_tests.strings.MetricsFormatBenchmark.formatThroughBuilderBenchmark": <span class="hljs-number"><span class="hljs-number">212</span></span>,<span class="hljs-number"><span class="hljs-number">410</span></span> ¬±(<span class="hljs-number"><span class="hljs-number">99.9</span></span>%) <span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">383</span></span> ns/op [Average] (min, avg, max) = (<span class="hljs-number"><span class="hljs-number">208</span></span>,<span class="hljs-number"><span class="hljs-number">374</span></span>, <span class="hljs-number"><span class="hljs-number">212</span></span>,<span class="hljs-number"><span class="hljs-number">410</span></span>, <span class="hljs-number"><span class="hljs-number">224</span></span>,<span class="hljs-number"><span class="hljs-number">458</span></span>), stdev = <span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">566</span></span> CI (<span class="hljs-number"><span class="hljs-number">99.9</span></span>%): [<span class="hljs-number"><span class="hljs-number">210</span></span>,<span class="hljs-number"><span class="hljs-number">027</span></span>, <span class="hljs-number"><span class="hljs-number">214</span></span>,<span class="hljs-number"><span class="hljs-number">793</span></span>] (assumes normal distribution) # JMH <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: <span class="hljs-number"><span class="hljs-number">1.20</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: JDK <span class="hljs-number"><span class="hljs-number">1.8</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>_161, VM <span class="hljs-number"><span class="hljs-number">25.161</span></span>-b12 # VM <span class="hljs-keyword"><span class="hljs-keyword">invoker</span></span>: C:\Program Files\Java\jre1<span class="hljs-number"><span class="hljs-number">.8</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>_161\bin\java.exe # VM <span class="hljs-keyword"><span class="hljs-keyword">options</span></span>: &lt;<span class="hljs-keyword"><span class="hljs-keyword">none</span></span>&gt; # Warmup: <span class="hljs-number"><span class="hljs-number">5</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Measurement: <span class="hljs-number"><span class="hljs-number">10</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Timeout: <span class="hljs-number"><span class="hljs-number">10</span></span> min per iteration # Threads: <span class="hljs-number"><span class="hljs-number">1</span></span> thread, will synchronize iterations # Benchmark mode: Average <span class="hljs-type"><span class="hljs-type">time</span></span>, <span class="hljs-type"><span class="hljs-type">time</span></span>/op # Benchmark: ru.gnkoshelev.jbreak2018.perf_tests.strings.MetricsFormatBenchmark.formatThroughConcatenationBenchmark # Run progress: <span class="hljs-number"><span class="hljs-number">25</span></span>,<span class="hljs-number"><span class="hljs-number">00</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span>:<span class="hljs-number"><span class="hljs-number">26</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">461</span></span>,<span class="hljs-number"><span class="hljs-number">604</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">338</span></span>,<span class="hljs-number"><span class="hljs-number">344</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">339</span></span>,<span class="hljs-number"><span class="hljs-number">651</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">341</span></span>,<span class="hljs-number"><span class="hljs-number">987</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">341</span></span>,<span class="hljs-number"><span class="hljs-number">775</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">340</span></span>,<span class="hljs-number"><span class="hljs-number">811</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">340</span></span>,<span class="hljs-number"><span class="hljs-number">931</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">341</span></span>,<span class="hljs-number"><span class="hljs-number">112</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">341</span></span>,<span class="hljs-number"><span class="hljs-number">395</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">338</span></span>,<span class="hljs-number"><span class="hljs-number">871</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">337</span></span>,<span class="hljs-number"><span class="hljs-number">875</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">346</span></span>,<span class="hljs-number"><span class="hljs-number">943</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">339</span></span>,<span class="hljs-number"><span class="hljs-number">328</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">335</span></span>,<span class="hljs-number"><span class="hljs-number">932</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">338</span></span>,<span class="hljs-number"><span class="hljs-number">702</span></span> ns/op # Run progress: <span class="hljs-number"><span class="hljs-number">33</span></span>,<span class="hljs-number"><span class="hljs-number">33</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">470</span></span>,<span class="hljs-number"><span class="hljs-number">278</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">334</span></span>,<span class="hljs-number"><span class="hljs-number">495</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">336</span></span>,<span class="hljs-number"><span class="hljs-number">727</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">339</span></span>,<span class="hljs-number"><span class="hljs-number">971</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">339</span></span>,<span class="hljs-number"><span class="hljs-number">774</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">339</span></span>,<span class="hljs-number"><span class="hljs-number">405</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">339</span></span>,<span class="hljs-number"><span class="hljs-number">588</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">340</span></span>,<span class="hljs-number"><span class="hljs-number">777</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">345</span></span>,<span class="hljs-number"><span class="hljs-number">855</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">342</span></span>,<span class="hljs-number"><span class="hljs-number">180</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">337</span></span>,<span class="hljs-number"><span class="hljs-number">955</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">345</span></span>,<span class="hljs-number"><span class="hljs-number">554</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">337</span></span>,<span class="hljs-number"><span class="hljs-number">636</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">345</span></span>,<span class="hljs-number"><span class="hljs-number">226</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">339</span></span>,<span class="hljs-number"><span class="hljs-number">453</span></span> ns/op # Run progress: <span class="hljs-number"><span class="hljs-number">41</span></span>,<span class="hljs-number"><span class="hljs-number">67</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">02</span></span>:<span class="hljs-number"><span class="hljs-number">40</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">473</span></span>,<span class="hljs-number"><span class="hljs-number">061</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">334</span></span>,<span class="hljs-number"><span class="hljs-number">747</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">340</span></span>,<span class="hljs-number"><span class="hljs-number">089</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">334</span></span>,<span class="hljs-number"><span class="hljs-number">962</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">334</span></span>,<span class="hljs-number"><span class="hljs-number">361</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">338</span></span>,<span class="hljs-number"><span class="hljs-number">737</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">338</span></span>,<span class="hljs-number"><span class="hljs-number">276</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">340</span></span>,<span class="hljs-number"><span class="hljs-number">775</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">341</span></span>,<span class="hljs-number"><span class="hljs-number">302</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">342</span></span>,<span class="hljs-number"><span class="hljs-number">850</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">341</span></span>,<span class="hljs-number"><span class="hljs-number">880</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">342</span></span>,<span class="hljs-number"><span class="hljs-number">687</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">343</span></span>,<span class="hljs-number"><span class="hljs-number">406</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">341</span></span>,<span class="hljs-number"><span class="hljs-number">336</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">340</span></span>,<span class="hljs-number"><span class="hljs-number">047</span></span> ns/op Result "ru.gnkoshelev.jbreak2018.perf_tests.strings.MetricsFormatBenchmark.formatThroughConcatenationBenchmark": <span class="hljs-number"><span class="hljs-number">340</span></span>,<span class="hljs-number"><span class="hljs-number">894</span></span> ¬±(<span class="hljs-number"><span class="hljs-number">99.9</span></span>%) <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">759</span></span> ns/op [Average] (min, avg, max) = (<span class="hljs-number"><span class="hljs-number">335</span></span>,<span class="hljs-number"><span class="hljs-number">932</span></span>, <span class="hljs-number"><span class="hljs-number">340</span></span>,<span class="hljs-number"><span class="hljs-number">894</span></span>, <span class="hljs-number"><span class="hljs-number">346</span></span>,<span class="hljs-number"><span class="hljs-number">943</span></span>), stdev = <span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">632</span></span> CI (<span class="hljs-number"><span class="hljs-number">99.9</span></span>%): [<span class="hljs-number"><span class="hljs-number">339</span></span>,<span class="hljs-number"><span class="hljs-number">136</span></span>, <span class="hljs-number"><span class="hljs-number">342</span></span>,<span class="hljs-number"><span class="hljs-number">653</span></span>] (assumes normal distribution) # JMH <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: <span class="hljs-number"><span class="hljs-number">1.20</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: JDK <span class="hljs-number"><span class="hljs-number">1.8</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>_161, VM <span class="hljs-number"><span class="hljs-number">25.161</span></span>-b12 # VM <span class="hljs-keyword"><span class="hljs-keyword">invoker</span></span>: C:\Program Files\Java\jre1<span class="hljs-number"><span class="hljs-number">.8</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>_161\bin\java.exe # VM <span class="hljs-keyword"><span class="hljs-keyword">options</span></span>: &lt;<span class="hljs-keyword"><span class="hljs-keyword">none</span></span>&gt; # Warmup: <span class="hljs-number"><span class="hljs-number">5</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Measurement: <span class="hljs-number"><span class="hljs-number">10</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Timeout: <span class="hljs-number"><span class="hljs-number">10</span></span> min per iteration # Threads: <span class="hljs-number"><span class="hljs-number">1</span></span> thread, will synchronize iterations # Benchmark mode: Average <span class="hljs-type"><span class="hljs-type">time</span></span>, <span class="hljs-type"><span class="hljs-type">time</span></span>/op # Benchmark: ru.gnkoshelev.jbreak2018.perf_tests.strings.MetricsFormatBenchmark.formatThroughMessageFormatBuilder # Run progress: <span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">00</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">02</span></span>:<span class="hljs-number"><span class="hljs-number">17</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">1174</span></span>,<span class="hljs-number"><span class="hljs-number">256</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">955</span></span>,<span class="hljs-number"><span class="hljs-number">340</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">833</span></span>,<span class="hljs-number"><span class="hljs-number">853</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">743</span></span>,<span class="hljs-number"><span class="hljs-number">211</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">749</span></span>,<span class="hljs-number"><span class="hljs-number">805</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">736</span></span>,<span class="hljs-number"><span class="hljs-number">922</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">739</span></span>,<span class="hljs-number"><span class="hljs-number">920</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">745</span></span>,<span class="hljs-number"><span class="hljs-number">799</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">749</span></span>,<span class="hljs-number"><span class="hljs-number">026</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">753</span></span>,<span class="hljs-number"><span class="hljs-number">321</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">756</span></span>,<span class="hljs-number"><span class="hljs-number">947</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">748</span></span>,<span class="hljs-number"><span class="hljs-number">437</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">745</span></span>,<span class="hljs-number"><span class="hljs-number">221</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">743</span></span>,<span class="hljs-number"><span class="hljs-number">668</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">749</span></span>,<span class="hljs-number"><span class="hljs-number">899</span></span> ns/op # Run progress: <span class="hljs-number"><span class="hljs-number">58</span></span>,<span class="hljs-number"><span class="hljs-number">33</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">01</span></span>:<span class="hljs-number"><span class="hljs-number">54</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">1093</span></span>,<span class="hljs-number"><span class="hljs-number">949</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">904</span></span>,<span class="hljs-number"><span class="hljs-number">903</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">888</span></span>,<span class="hljs-number"><span class="hljs-number">462</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">756</span></span>,<span class="hljs-number"><span class="hljs-number">249</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">842</span></span>,<span class="hljs-number"><span class="hljs-number">296</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">729</span></span>,<span class="hljs-number"><span class="hljs-number">334</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">797</span></span>,<span class="hljs-number"><span class="hljs-number">580</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">736</span></span>,<span class="hljs-number"><span class="hljs-number">540</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">741</span></span>,<span class="hljs-number"><span class="hljs-number">176</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">731</span></span>,<span class="hljs-number"><span class="hljs-number">403</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">732</span></span>,<span class="hljs-number"><span class="hljs-number">560</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">767</span></span>,<span class="hljs-number"><span class="hljs-number">631</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">731</span></span>,<span class="hljs-number"><span class="hljs-number">333</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">731</span></span>,<span class="hljs-number"><span class="hljs-number">261</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">753</span></span>,<span class="hljs-number"><span class="hljs-number">285</span></span> ns/op # Run progress: <span class="hljs-number"><span class="hljs-number">66</span></span>,<span class="hljs-number"><span class="hljs-number">67</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">01</span></span>:<span class="hljs-number"><span class="hljs-number">31</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">1156</span></span>,<span class="hljs-number"><span class="hljs-number">247</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1031</span></span>,<span class="hljs-number"><span class="hljs-number">444</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">849</span></span>,<span class="hljs-number"><span class="hljs-number">080</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">730</span></span>,<span class="hljs-number"><span class="hljs-number">123</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">724</span></span>,<span class="hljs-number"><span class="hljs-number">077</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">729</span></span>,<span class="hljs-number"><span class="hljs-number">569</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">781</span></span>,<span class="hljs-number"><span class="hljs-number">161</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">716</span></span>,<span class="hljs-number"><span class="hljs-number">803</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">724</span></span>,<span class="hljs-number"><span class="hljs-number">149</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">818</span></span>,<span class="hljs-number"><span class="hljs-number">748</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">815</span></span>,<span class="hljs-number"><span class="hljs-number">800</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">728</span></span>,<span class="hljs-number"><span class="hljs-number">733</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">727</span></span>,<span class="hljs-number"><span class="hljs-number">143</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">734</span></span>,<span class="hljs-number"><span class="hljs-number">503</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">738</span></span>,<span class="hljs-number"><span class="hljs-number">770</span></span> ns/op Result "ru.gnkoshelev.jbreak2018.perf_tests.strings.MetricsFormatBenchmark.formatThroughMessageFormatBuilder": <span class="hljs-number"><span class="hljs-number">747</span></span>,<span class="hljs-number"><span class="hljs-number">888</span></span> ¬±(<span class="hljs-number"><span class="hljs-number">99.9</span></span>%) <span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">856</span></span> ns/op [Average] (min, avg, max) = (<span class="hljs-number"><span class="hljs-number">716</span></span>,<span class="hljs-number"><span class="hljs-number">803</span></span>, <span class="hljs-number"><span class="hljs-number">747</span></span>,<span class="hljs-number"><span class="hljs-number">888</span></span>, <span class="hljs-number"><span class="hljs-number">818</span></span>,<span class="hljs-number"><span class="hljs-number">748</span></span>), stdev = <span class="hljs-number"><span class="hljs-number">25</span></span>,<span class="hljs-number"><span class="hljs-number">229</span></span> CI (<span class="hljs-number"><span class="hljs-number">99.9</span></span>%): [<span class="hljs-number"><span class="hljs-number">731</span></span>,<span class="hljs-number"><span class="hljs-number">032</span></span>, <span class="hljs-number"><span class="hljs-number">764</span></span>,<span class="hljs-number"><span class="hljs-number">744</span></span>] (assumes normal distribution) # JMH <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: <span class="hljs-number"><span class="hljs-number">1.20</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: JDK <span class="hljs-number"><span class="hljs-number">1.8</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>_161, VM <span class="hljs-number"><span class="hljs-number">25.161</span></span>-b12 # VM <span class="hljs-keyword"><span class="hljs-keyword">invoker</span></span>: C:\Program Files\Java\jre1<span class="hljs-number"><span class="hljs-number">.8</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>_161\bin\java.exe # VM <span class="hljs-keyword"><span class="hljs-keyword">options</span></span>: &lt;<span class="hljs-keyword"><span class="hljs-keyword">none</span></span>&gt; # Warmup: <span class="hljs-number"><span class="hljs-number">5</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Measurement: <span class="hljs-number"><span class="hljs-number">10</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Timeout: <span class="hljs-number"><span class="hljs-number">10</span></span> min per iteration # Threads: <span class="hljs-number"><span class="hljs-number">1</span></span> thread, will synchronize iterations # Benchmark mode: Average <span class="hljs-type"><span class="hljs-type">time</span></span>, <span class="hljs-type"><span class="hljs-type">time</span></span>/op # Benchmark: ru.gnkoshelev.jbreak2018.perf_tests.strings.MetricsFormatBenchmark.formatThroughPatternBenchmark # Run progress: <span class="hljs-number"><span class="hljs-number">75</span></span>,<span class="hljs-number"><span class="hljs-number">00</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">01</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">2117</span></span>,<span class="hljs-number"><span class="hljs-number">334</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1622</span></span>,<span class="hljs-number"><span class="hljs-number">235</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1431</span></span>,<span class="hljs-number"><span class="hljs-number">764</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1431</span></span>,<span class="hljs-number"><span class="hljs-number">065</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1438</span></span>,<span class="hljs-number"><span class="hljs-number">533</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">1420</span></span>,<span class="hljs-number"><span class="hljs-number">598</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1492</span></span>,<span class="hljs-number"><span class="hljs-number">345</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1419</span></span>,<span class="hljs-number"><span class="hljs-number">019</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1425</span></span>,<span class="hljs-number"><span class="hljs-number">040</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1423</span></span>,<span class="hljs-number"><span class="hljs-number">276</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">1428</span></span>,<span class="hljs-number"><span class="hljs-number">505</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">1435</span></span>,<span class="hljs-number"><span class="hljs-number">056</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">1432</span></span>,<span class="hljs-number"><span class="hljs-number">752</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">1427</span></span>,<span class="hljs-number"><span class="hljs-number">263</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">1436</span></span>,<span class="hljs-number"><span class="hljs-number">453</span></span> ns/op # Run progress: <span class="hljs-number"><span class="hljs-number">83</span></span>,<span class="hljs-number"><span class="hljs-number">33</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">45</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">2111</span></span>,<span class="hljs-number"><span class="hljs-number">790</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1603</span></span>,<span class="hljs-number"><span class="hljs-number">000</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1427</span></span>,<span class="hljs-number"><span class="hljs-number">974</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1437</span></span>,<span class="hljs-number"><span class="hljs-number">411</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1438</span></span>,<span class="hljs-number"><span class="hljs-number">924</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">1423</span></span>,<span class="hljs-number"><span class="hljs-number">295</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1429</span></span>,<span class="hljs-number"><span class="hljs-number">621</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1428</span></span>,<span class="hljs-number"><span class="hljs-number">471</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1434</span></span>,<span class="hljs-number"><span class="hljs-number">627</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1439</span></span>,<span class="hljs-number"><span class="hljs-number">802</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">1441</span></span>,<span class="hljs-number"><span class="hljs-number">290</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">1438</span></span>,<span class="hljs-number"><span class="hljs-number">296</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">1441</span></span>,<span class="hljs-number"><span class="hljs-number">198</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">1456</span></span>,<span class="hljs-number"><span class="hljs-number">831</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">1443</span></span>,<span class="hljs-number"><span class="hljs-number">969</span></span> ns/op # Run progress: <span class="hljs-number"><span class="hljs-number">91</span></span>,<span class="hljs-number"><span class="hljs-number">67</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">22</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">2149</span></span>,<span class="hljs-number"><span class="hljs-number">129</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1608</span></span>,<span class="hljs-number"><span class="hljs-number">200</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1406</span></span>,<span class="hljs-number"><span class="hljs-number">910</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1413</span></span>,<span class="hljs-number"><span class="hljs-number">134</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1413</span></span>,<span class="hljs-number"><span class="hljs-number">094</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">1409</span></span>,<span class="hljs-number"><span class="hljs-number">053</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1417</span></span>,<span class="hljs-number"><span class="hljs-number">015</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1423</span></span>,<span class="hljs-number"><span class="hljs-number">907</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1419</span></span>,<span class="hljs-number"><span class="hljs-number">448</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1425</span></span>,<span class="hljs-number"><span class="hljs-number">128</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">1425</span></span>,<span class="hljs-number"><span class="hljs-number">369</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">1428</span></span>,<span class="hljs-number"><span class="hljs-number">064</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">1432</span></span>,<span class="hljs-number"><span class="hljs-number">042</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">1433</span></span>,<span class="hljs-number"><span class="hljs-number">438</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">1455</span></span>,<span class="hljs-number"><span class="hljs-number">998</span></span> ns/op Result "ru.gnkoshelev.jbreak2018.perf_tests.strings.MetricsFormatBenchmark.formatThroughPatternBenchmark": <span class="hljs-number"><span class="hljs-number">1432</span></span>,<span class="hljs-number"><span class="hljs-number">906</span></span> ¬±(<span class="hljs-number"><span class="hljs-number">99.9</span></span>%) <span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">302</span></span> ns/op [Average] (min, avg, max) = (<span class="hljs-number"><span class="hljs-number">1409</span></span>,<span class="hljs-number"><span class="hljs-number">053</span></span>, <span class="hljs-number"><span class="hljs-number">1432</span></span>,<span class="hljs-number"><span class="hljs-number">906</span></span>, <span class="hljs-number"><span class="hljs-number">1492</span></span>,<span class="hljs-number"><span class="hljs-number">345</span></span>), stdev = <span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">420</span></span> CI (<span class="hljs-number"><span class="hljs-number">99.9</span></span>%): [<span class="hljs-number"><span class="hljs-number">1422</span></span>,<span class="hljs-number"><span class="hljs-number">604</span></span>, <span class="hljs-number"><span class="hljs-number">1443</span></span>,<span class="hljs-number"><span class="hljs-number">208</span></span>] (assumes normal distribution) # Run complete. Total <span class="hljs-type"><span class="hljs-type">time</span></span>: <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">04</span></span>:<span class="hljs-number"><span class="hljs-number">35</span></span> Benchmark Mode Cnt Score Error Units MetricsFormatBenchmark.formatThroughBuilderBenchmark avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">212</span></span>,<span class="hljs-number"><span class="hljs-number">410</span></span> ¬± <span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">383</span></span> ns/op MetricsFormatBenchmark.formatThroughConcatenationBenchmark avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">340</span></span>,<span class="hljs-number"><span class="hljs-number">894</span></span> ¬± <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">759</span></span> ns/op MetricsFormatBenchmark.formatThroughMessageFormatBuilder avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">747</span></span>,<span class="hljs-number"><span class="hljs-number">888</span></span> ¬± <span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">856</span></span> ns/op MetricsFormatBenchmark.formatThroughPatternBenchmark avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">1432</span></span>,<span class="hljs-number"><span class="hljs-number">906</span></span> ¬± <span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">302</span></span> ns/op</code> </pre></div></div><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> What happened at all? </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. </font></font><code>String.format()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and </font></font><code>MessageFormat.format()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">we are not so interesting. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. The result </font></font><code>StringBuilder</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">was better about 1.5 times. </font><font style="vertical-align: inherit;">And then there is no chance.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Deeper into bytecode, further into the sources </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">To understand what is happening, look at the baytkod, which was the result of compiling our methods in </font></font><code>MetricsFormat</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br><pre> <code class="hljs pgsql"> <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static java.lang.String formatThroughConcatenation(java.lang.String, <span class="hljs-type"><span class="hljs-type">int</span></span>, long); Code: <span class="hljs-number"><span class="hljs-number">0</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> #<span class="hljs-number"><span class="hljs-number">7</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> java/lang/StringBuilder <span class="hljs-number"><span class="hljs-number">3</span></span>: dup <span class="hljs-number"><span class="hljs-number">4</span></span>: invokespecial #<span class="hljs-number"><span class="hljs-number">8</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span> java/lang/StringBuilder."&lt;init&gt;":()V <span class="hljs-number"><span class="hljs-number">7</span></span>: aload_0 <span class="hljs-number"><span class="hljs-number">8</span></span>: invokevirtual #<span class="hljs-number"><span class="hljs-number">9</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span> java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder; <span class="hljs-number"><span class="hljs-number">11</span></span>: ldc #<span class="hljs-number"><span class="hljs-number">10</span></span> // String <span class="hljs-number"><span class="hljs-number">13</span></span>: invokevirtual #<span class="hljs-number"><span class="hljs-number">9</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span> java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder; <span class="hljs-number"><span class="hljs-number">16</span></span>: iload_1 <span class="hljs-number"><span class="hljs-number">17</span></span>: invokevirtual #<span class="hljs-number"><span class="hljs-number">11</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span> java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder; <span class="hljs-number"><span class="hljs-number">20</span></span>: ldc #<span class="hljs-number"><span class="hljs-number">10</span></span> // String <span class="hljs-number"><span class="hljs-number">22</span></span>: invokevirtual #<span class="hljs-number"><span class="hljs-number">9</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span> java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder; <span class="hljs-number"><span class="hljs-number">25</span></span>: lload_2 <span class="hljs-number"><span class="hljs-number">26</span></span>: invokevirtual #<span class="hljs-number"><span class="hljs-number">12</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span> java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder; <span class="hljs-number"><span class="hljs-number">29</span></span>: invokevirtual #<span class="hljs-number"><span class="hljs-number">13</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span> java/lang/StringBuilder.toString:()Ljava/lang/String; <span class="hljs-number"><span class="hljs-number">32</span></span>: areturn <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static java.lang.String formatThroughBuilder(java.lang.String, <span class="hljs-type"><span class="hljs-type">int</span></span>, long); Code: <span class="hljs-number"><span class="hljs-number">0</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> #<span class="hljs-number"><span class="hljs-number">7</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> java/lang/StringBuilder <span class="hljs-number"><span class="hljs-number">3</span></span>: dup <span class="hljs-number"><span class="hljs-number">4</span></span>: aload_0 <span class="hljs-number"><span class="hljs-number">5</span></span>: invokespecial #<span class="hljs-number"><span class="hljs-number">14</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span> java/lang/StringBuilder."&lt;init&gt;":(Ljava/lang/String;)V <span class="hljs-number"><span class="hljs-number">8</span></span>: ldc #<span class="hljs-number"><span class="hljs-number">10</span></span> // String <span class="hljs-number"><span class="hljs-number">10</span></span>: invokevirtual #<span class="hljs-number"><span class="hljs-number">9</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span> java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder; <span class="hljs-number"><span class="hljs-number">13</span></span>: iload_1 <span class="hljs-number"><span class="hljs-number">14</span></span>: invokevirtual #<span class="hljs-number"><span class="hljs-number">11</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span> java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder; <span class="hljs-number"><span class="hljs-number">17</span></span>: ldc #<span class="hljs-number"><span class="hljs-number">10</span></span> // String <span class="hljs-number"><span class="hljs-number">19</span></span>: invokevirtual #<span class="hljs-number"><span class="hljs-number">9</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span> java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder; <span class="hljs-number"><span class="hljs-number">22</span></span>: lload_2 <span class="hljs-number"><span class="hljs-number">23</span></span>: invokevirtual #<span class="hljs-number"><span class="hljs-number">12</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span> java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder; <span class="hljs-number"><span class="hljs-number">26</span></span>: invokevirtual #<span class="hljs-number"><span class="hljs-number">13</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span> java/lang/StringBuilder.toString:()Ljava/lang/String; <span class="hljs-number"><span class="hljs-number">29</span></span>: areturn</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Let us examine in detail what we see: </font></font><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In the method where string concatenation was, now the object is created </font></font><code>StringBuilder</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The bodies of the methods are very similar, but differ in the way of creation </font></font><code>StringBuilder</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- in the case of self-written use </font></font><code>StringBuilder</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, the constructor is called, which accepts a string for input, and in the variant with concatenation it </font></font><code>StringBuilder</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">is created by calling an empty constructor.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As a result, creating an </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">empty</font></font></i> <code>StringBuilder</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> requires an additional challenge </font></font><code>StringBuilder.append()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li></ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">How did it happen that a single additional challenge </font></font><code>StringBuilder.append()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">led to a decrease in performance? </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Let's look at the constructors:</font></font><br><pre> <code class="hljs axapta"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> StringBuilder() { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(<span class="hljs-number"><span class="hljs-number">16</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> StringBuilder(String <span class="hljs-keyword"><span class="hljs-keyword">str</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">str</span></span>.length() + <span class="hljs-number"><span class="hljs-number">16</span></span>); append(<span class="hljs-keyword"><span class="hljs-keyword">str</span></span>); }</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It turns out that append has not gone anywhere - it is called inside the constructor. However, the answer lies in this section of the code, namely in the number </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : the authors </font></font><code>StringBuilder</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prudently allocated additional space for 16 characters in the buffer when creating the object. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">When we created </font></font><code>StringBuilder</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and put the first line in it </font></font><code>metrics</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, passing it to the constructor, we still had 16 characters left before we needed to expand the buffer (character array </font></font><code>AbstractStringBuilder.value</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). By </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">random</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> coincidence two spaces, the number and value of 1 </font></font><code>timestamp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">is straight in 16 characters. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">On the other hand, the created one </font></font><code>StringBuilder</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">was not ready to contain the metrics line and the buffer was recreated. But here everything is not so simple.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The piece of code we are interested in </font></font><code>AbstractStringBuilder</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br><pre> <code class="java hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> AbstractStringBuilder </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">append</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String str)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (str == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> appendNull(); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> len = str.length(); ensureCapacityInternal(count + len); str.getChars(<span class="hljs-number"><span class="hljs-number">0</span></span>, len, value, count); count += len; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ensureCapacityInternal</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> minimumCapacity)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// overflow-conscious code if (minimumCapacity - value.length &gt; 0) { value = Arrays.copyOf(value, newCapacity(minimumCapacity)); } } private int newCapacity(int minCapacity) { // overflow-conscious code int newCapacity = (value.length &lt;&lt; 1) + 2; if (newCapacity - minCapacity &lt; 0) { newCapacity = minCapacity; } return (newCapacity &lt;= 0 || MAX_ARRAY_SIZE - newCapacity &lt; 0) ? hugeCapacity(minCapacity) : newCapacity; }</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">When there is </font></font><code>StringBuilder</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">not enough space at the next append, an attempt is made to create a buffer twice as large as it was before ( </font></font><code>length * 2 + 2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">to be more precise). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If it fails (when the added line in the double buffer still does not fit, which we did when adding the metrics identifier), then a buffer is created whose length is equal to </font></font><code>count + len</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, where </font></font><code>count</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">is the occupied space in the buffer, and </font></font><code>len</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">is the length of the added line. In the example with our metric </font></font><code>count == 0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, a </font></font><code>len == 275</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thus, the first call </font></font><code>StringBuilder.append()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">led to the creation of a new array of characters with a length </font></font><code>275</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The second call also led to the re-creation of the array, as the metric ID completely occupied the entire buffer. In addition, the buffer size became equal</font></font><code>275 * 2 + 2 = 552</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, so it also took 275 characters to copy from the old buffer. </font><font style="vertical-align: inherit;">And here no JIT has helped.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> The correct answer to the problem </font></font></h2><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Option 1 is the slowest, and 2 and 3 give the same result. </font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In our example, HotSpot applied optimization for both variants 2 and 3 </font></font><code>OptimizeStringConcat</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, replacing the Java code call with the use of intrinsic methods. </font><font style="vertical-align: inherit;">If you disable optimization </font></font><code>-XX:-OptimizeStringConcat</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, we get the following results:</font></font><br><pre> <code class="hljs vhdl">Benchmark Mode Cnt Score <span class="hljs-literal"><span class="hljs-literal">Error</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Units</span></span> Ordinal...BuilderBenchmark avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">126</span></span>,<span class="hljs-number"><span class="hljs-number">876</span></span> ¬± <span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">962</span></span> ns/op Ordinal...ConcatenationBenchmark avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">186</span></span>,<span class="hljs-number"><span class="hljs-number">758</span></span> ¬± <span class="hljs-number"><span class="hljs-number">11</span></span>,<span class="hljs-number"><span class="hljs-number">158</span></span> ns/op Ordinal...MessageFormatBenchmark avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">1157</span></span>,<span class="hljs-number"><span class="hljs-number">645</span></span> ¬± <span class="hljs-number"><span class="hljs-number">34</span></span>,<span class="hljs-number"><span class="hljs-number">743</span></span> ns/op Ordinal...PatternBenchmark avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">1756</span></span>,<span class="hljs-number"><span class="hljs-number">613</span></span> ¬± <span class="hljs-number"><span class="hljs-number">131</span></span>,<span class="hljs-number"><span class="hljs-number">212</span></span> ns/op</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Below is another feature of the work </font></font><code>OptimizeStringConcat</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br><br><h3>  Statistics </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">This task was the simplest one - 10 people out of 32 correctly decided it and another 18 conference participants gave a partially correct answer. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A partially correct answer was that, for example, the methods were arranged correctly, but no explanation for the answer was given, or it was only partly correct. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The most common answer for 2 and 3 - javac produces the same bytecode. </font><font style="vertical-align: inherit;">Despite the fact that this is not quite the way we found out above - this answer was counted as correct.</font></font><br><br><h2>  Interesting Facts </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In one of the explanations, it was correctly noted that the compilation of concatenation in StringBuilder is not specified. </font><font style="vertical-align: inherit;">Section </font></font><a href="https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15.18.1 of the</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> specification mentions the following:</font></font><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It can be a string of objects. </font><font style="vertical-align: inherit;">In the case of a junction, it is a companion technique.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Interestingly, the Java 8 specification talks about </font></font><code>StringBuffer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, whereas with Java 1.5 (when it appeared </font></font><code>StringBuilder</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), the concatenation code is compiled into </font></font><code>StringBuilder</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">At the same time, in Java 1.4, the method code is </font></font><code>formatThroughConcatenation</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">compiled into bytecode, the only difference of which is to use </font></font><code>StringBuffer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">instead </font></font><code>StringBuilder</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bytecode as a result of compilation in Java 1.4</font></font></b> <div class="spoiler_text"><pre> <code class="hljs vhdl">public java.lang.<span class="hljs-built_in"><span class="hljs-built_in">String</span></span> formatThroughConcatenation(java.lang.<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>, java.lang.<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>, java.lang.<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>, java.lang.<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>); Code: <span class="hljs-number"><span class="hljs-number">0</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> #<span class="hljs-number"><span class="hljs-number">2</span></span>; //class java/lang/StringBuffer <span class="hljs-number"><span class="hljs-number">3</span></span>: dup <span class="hljs-number"><span class="hljs-number">4</span></span>: invokespecial #<span class="hljs-number"><span class="hljs-number">3</span></span>; //Method java/lang/StringBuffer.<span class="hljs-string"><span class="hljs-string">"&lt;init&gt;"</span></span>:()V <span class="hljs-number"><span class="hljs-number">7</span></span>: ldc #<span class="hljs-number"><span class="hljs-number">4</span></span>; //<span class="hljs-built_in"><span class="hljs-built_in">String</span></span> , <span class="hljs-number"><span class="hljs-number">9</span></span>: invokevirtual #<span class="hljs-number"><span class="hljs-number">5</span></span>; //Method java/lang/StringBuffer.append:(Ljava/lang/<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>;)Ljava/lang/StringBuffer; <span class="hljs-number"><span class="hljs-number">12</span></span>: aload_1 <span class="hljs-number"><span class="hljs-number">13</span></span>: invokevirtual #<span class="hljs-number"><span class="hljs-number">5</span></span>; //Method java/lang/StringBuffer.append:(Ljava/lang/<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>;)Ljava/lang/StringBuffer; <span class="hljs-number"><span class="hljs-number">16</span></span>: ldc #<span class="hljs-number"><span class="hljs-number">6</span></span>; //<span class="hljs-built_in"><span class="hljs-built_in">String</span></span> ,   <span class="hljs-number"><span class="hljs-number">18</span></span>: invokevirtual #<span class="hljs-number"><span class="hljs-number">5</span></span>; //Method java/lang/StringBuffer.append:(Ljava/lang/<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>;)Ljava/lang/StringBuffer; <span class="hljs-number"><span class="hljs-number">21</span></span>: aload_2 <span class="hljs-number"><span class="hljs-number">22</span></span>: invokevirtual #<span class="hljs-number"><span class="hljs-number">5</span></span>; //Method java/lang/StringBuffer.append:(Ljava/lang/<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>;)Ljava/lang/StringBuffer; <span class="hljs-number"><span class="hljs-number">25</span></span>: ldc #<span class="hljs-number"><span class="hljs-number">7</span></span>; //<span class="hljs-built_in"><span class="hljs-built_in">String</span></span> .    <span class="hljs-number"><span class="hljs-number">27</span></span>: invokevirtual #<span class="hljs-number"><span class="hljs-number">5</span></span>; //Method java/lang/StringBuffer.append:(Ljava/lang/<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>;)Ljava/lang/StringBuffer; <span class="hljs-number"><span class="hljs-number">30</span></span>: aload_3 <span class="hljs-number"><span class="hljs-number">31</span></span>: invokevirtual #<span class="hljs-number"><span class="hljs-number">5</span></span>; //Method java/lang/StringBuffer.append:(Ljava/lang/<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>;)Ljava/lang/StringBuffer; <span class="hljs-number"><span class="hljs-number">34</span></span>: ldc #<span class="hljs-number"><span class="hljs-number">8</span></span>; //<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>    <span class="hljs-number"><span class="hljs-number">36</span></span>: invokevirtual #<span class="hljs-number"><span class="hljs-number">5</span></span>; //Method java/lang/StringBuffer.append:(Ljava/lang/<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>;)Ljava/lang/StringBuffer; <span class="hljs-number"><span class="hljs-number">39</span></span>: aload <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">41</span></span>: invokevirtual #<span class="hljs-number"><span class="hljs-number">5</span></span>; //Method java/lang/StringBuffer.append:(Ljava/lang/<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>;)Ljava/lang/StringBuffer; <span class="hljs-number"><span class="hljs-number">44</span></span>: invokevirtual #<span class="hljs-number"><span class="hljs-number">9</span></span>; //Method java/lang/StringBuffer.toString:()Ljava/lang/<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>; <span class="hljs-number"><span class="hljs-number">47</span></span>: areturn</code> </pre></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Since we started talking about other versions of Java, it would not be superfluous to try to build and run a benchmark using Java 9 (JRE 9.0.4). </font></font><br><pre> <code class="hljs vhdl">Benchmark Mode Cnt Score <span class="hljs-literal"><span class="hljs-literal">Error</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Units</span></span> Metrics...BuilderBenchmark avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">207</span></span>,<span class="hljs-number"><span class="hljs-number">168</span></span> ¬± <span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">245</span></span> ns/op Metrics...ConcatenationBenchmark avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">56</span></span>,<span class="hljs-number"><span class="hljs-number">220</span></span> ¬± <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">051</span></span> ns/op Metrics...MessageFormatBuilder avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">594</span></span>,<span class="hljs-number"><span class="hljs-number">952</span></span> ¬± <span class="hljs-number"><span class="hljs-number">19</span></span>,<span class="hljs-number"><span class="hljs-number">025</span></span> ns/op Metrics...PatternBenchmark avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">1131</span></span>,<span class="hljs-number"><span class="hljs-number">698</span></span> ¬± <span class="hljs-number"><span class="hljs-number">14</span></span>,<span class="hljs-number"><span class="hljs-number">363</span></span> ns/op Ordinal...BuilderBenchmark avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">53</span></span>,<span class="hljs-number"><span class="hljs-number">221</span></span> ¬± <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">691</span></span> ns/op Ordinal...ConcatenationBenchmark avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">68</span></span>,<span class="hljs-number"><span class="hljs-number">486</span></span> ¬± <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">936</span></span> ns/op Ordinal...MessageFormatBenchmark avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">1207</span></span>,<span class="hljs-number"><span class="hljs-number">907</span></span> ¬± <span class="hljs-number"><span class="hljs-number">19</span></span>,<span class="hljs-number"><span class="hljs-number">414</span></span> ns/op Ordinal...PatternBenchmark avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">1972</span></span>,<span class="hljs-number"><span class="hljs-number">689</span></span> ¬± <span class="hljs-number"><span class="hljs-number">33</span></span>,<span class="hljs-number"><span class="hljs-number">432</span></span> ns/op</code> </pre><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Benchmark results entirely</font></font></b> <div class="spoiler_text"><pre> <code class="hljs pgsql"># JMH <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: <span class="hljs-number"><span class="hljs-number">1.20</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: JDK <span class="hljs-number"><span class="hljs-number">9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>, VM <span class="hljs-number"><span class="hljs-number">9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>+<span class="hljs-number"><span class="hljs-number">11</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">invoker</span></span>: C:\Program Files\Java\jre<span class="hljs-number"><span class="hljs-number">-9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>\bin\java.exe # VM <span class="hljs-keyword"><span class="hljs-keyword">options</span></span>: &lt;<span class="hljs-keyword"><span class="hljs-keyword">none</span></span>&gt; # Warmup: <span class="hljs-number"><span class="hljs-number">5</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Measurement: <span class="hljs-number"><span class="hljs-number">10</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Timeout: <span class="hljs-number"><span class="hljs-number">10</span></span> min per iteration # Threads: <span class="hljs-number"><span class="hljs-number">1</span></span> thread, will synchronize iterations # Benchmark mode: Average <span class="hljs-type"><span class="hljs-type">time</span></span>, <span class="hljs-type"><span class="hljs-type">time</span></span>/op # Benchmark: ru.gnkoshelev.jbreak2018.perf_tests.strings.ImmutableStringBenchmark.builderBenchmark # Parameters: (N = <span class="hljs-number"><span class="hljs-number">10</span></span>) # Run progress: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">00</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">18</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">179</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">155</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">154</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">154</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">154</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">154</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">155</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">155</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">154</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">153</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">156</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">168</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">157</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">159</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">156</span></span> us/op # Run progress: <span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">08</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">17</span></span>:<span class="hljs-number"><span class="hljs-number">58</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">182</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">160</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">154</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">162</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">155</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">157</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">159</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">154</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">155</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">164</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">155</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">156</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">155</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">169</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">171</span></span> us/op # Run progress: <span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">17</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">17</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">229</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">218</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">190</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">191</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">180</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">173</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">168</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">167</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">168</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">161</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">156</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">155</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">156</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">163</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">161</span></span> us/op Result "ru.gnkoshelev.jbreak2018.perf_tests.strings.ImmutableStringBenchmark.builderBenchmark": <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">160</span></span> ¬±(<span class="hljs-number"><span class="hljs-number">99.9</span></span>%) <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">004</span></span> us/op [Average] (min, avg, max) = (<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">153</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">160</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">173</span></span>), stdev = <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">006</span></span> CI (<span class="hljs-number"><span class="hljs-number">99.9</span></span>%): [<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">156</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">164</span></span>] (assumes normal distribution) # JMH <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: <span class="hljs-number"><span class="hljs-number">1.20</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: JDK <span class="hljs-number"><span class="hljs-number">9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>, VM <span class="hljs-number"><span class="hljs-number">9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>+<span class="hljs-number"><span class="hljs-number">11</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">invoker</span></span>: C:\Program Files\Java\jre<span class="hljs-number"><span class="hljs-number">-9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>\bin\java.exe # VM <span class="hljs-keyword"><span class="hljs-keyword">options</span></span>: &lt;<span class="hljs-keyword"><span class="hljs-keyword">none</span></span>&gt; # Warmup: <span class="hljs-number"><span class="hljs-number">5</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Measurement: <span class="hljs-number"><span class="hljs-number">10</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Timeout: <span class="hljs-number"><span class="hljs-number">10</span></span> min per iteration # Threads: <span class="hljs-number"><span class="hljs-number">1</span></span> thread, will synchronize iterations # Benchmark mode: Average <span class="hljs-type"><span class="hljs-type">time</span></span>, <span class="hljs-type"><span class="hljs-type">time</span></span>/op # Benchmark: ru.gnkoshelev.jbreak2018.perf_tests.strings.ImmutableStringBenchmark.builderBenchmark # Parameters: (N = <span class="hljs-number"><span class="hljs-number">100</span></span>) # Run progress: <span class="hljs-number"><span class="hljs-number">6</span></span>,<span class="hljs-number"><span class="hljs-number">25</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">17</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">487</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">376</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">328</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">327</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">447</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">334</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">353</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">412</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">427</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">793</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">523</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">411</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">468</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">390</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">348</span></span> us/op # Run progress: <span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">33</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">16</span></span>:<span class="hljs-number"><span class="hljs-number">49</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">483</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">645</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">499</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">550</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">527</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">591</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">596</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">668</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">784</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">733</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">498</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">532</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">566</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">524</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">334</span></span> us/op # Run progress: <span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">42</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">16</span></span>:<span class="hljs-number"><span class="hljs-number">26</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">504</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">314</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">285</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">290</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">284</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">283</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">288</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">287</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">291</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">282</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">286</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">297</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">286</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">284</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">285</span></span> us/op Result "ru.gnkoshelev.jbreak2018.perf_tests.strings.ImmutableStringBenchmark.builderBenchmark": <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">438</span></span> ¬±(<span class="hljs-number"><span class="hljs-number">99.9</span></span>%) <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">107</span></span> us/op [Average] (min, avg, max) = (<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">282</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">438</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">793</span></span>), stdev = <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">160</span></span> CI (<span class="hljs-number"><span class="hljs-number">99.9</span></span>%): [<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">331</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">546</span></span>] (assumes normal distribution) # JMH <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: <span class="hljs-number"><span class="hljs-number">1.20</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: JDK <span class="hljs-number"><span class="hljs-number">9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>, VM <span class="hljs-number"><span class="hljs-number">9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>+<span class="hljs-number"><span class="hljs-number">11</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">invoker</span></span>: C:\Program Files\Java\jre<span class="hljs-number"><span class="hljs-number">-9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>\bin\java.exe # VM <span class="hljs-keyword"><span class="hljs-keyword">options</span></span>: &lt;<span class="hljs-keyword"><span class="hljs-keyword">none</span></span>&gt; # Warmup: <span class="hljs-number"><span class="hljs-number">5</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Measurement: <span class="hljs-number"><span class="hljs-number">10</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Timeout: <span class="hljs-number"><span class="hljs-number">10</span></span> min per iteration # Threads: <span class="hljs-number"><span class="hljs-number">1</span></span> thread, will synchronize iterations # Benchmark mode: Average <span class="hljs-type"><span class="hljs-type">time</span></span>, <span class="hljs-type"><span class="hljs-type">time</span></span>/op # Benchmark: ru.gnkoshelev.jbreak2018.perf_tests.strings.ImmutableStringBenchmark.builderBenchmark # Parameters: (N = <span class="hljs-number"><span class="hljs-number">1000</span></span>) # Run progress: <span class="hljs-number"><span class="hljs-number">12</span></span>,<span class="hljs-number"><span class="hljs-number">50</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">16</span></span>:<span class="hljs-number"><span class="hljs-number">04</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">18</span></span>,<span class="hljs-number"><span class="hljs-number">564</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">904</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">757</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">458</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">754</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">474</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">388</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">454</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">434</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">462</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">437</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">355</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">509</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">415</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">367</span></span> us/op # Run progress: <span class="hljs-number"><span class="hljs-number">14</span></span>,<span class="hljs-number"><span class="hljs-number">58</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">15</span></span>:<span class="hljs-number"><span class="hljs-number">41</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">17</span></span>,<span class="hljs-number"><span class="hljs-number">889</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">454</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">469</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">110</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">979</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">961</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">17</span></span>,<span class="hljs-number"><span class="hljs-number">628</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">615</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">068</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">430</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">648</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">14</span></span>,<span class="hljs-number"><span class="hljs-number">929</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">597</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">18</span></span>,<span class="hljs-number"><span class="hljs-number">085</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">119</span></span> us/op # Run progress: <span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">67</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">15</span></span>:<span class="hljs-number"><span class="hljs-number">18</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">20</span></span>,<span class="hljs-number"><span class="hljs-number">057</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">204</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">858</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">293</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">851</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">17</span></span>,<span class="hljs-number"><span class="hljs-number">172</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">261</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">955</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">694</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">686</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">300</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">633</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">594</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">752</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">459</span></span> us/op Result "ru.gnkoshelev.jbreak2018.perf_tests.strings.ImmutableStringBenchmark.builderBenchmark": <span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">963</span></span> ¬±(<span class="hljs-number"><span class="hljs-number">99.9</span></span>%) <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">493</span></span> us/op [Average] (min, avg, max) = (<span class="hljs-number"><span class="hljs-number">14</span></span>,<span class="hljs-number"><span class="hljs-number">929</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">963</span></span>, <span class="hljs-number"><span class="hljs-number">18</span></span>,<span class="hljs-number"><span class="hljs-number">085</span></span>), stdev = <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">738</span></span> CI (<span class="hljs-number"><span class="hljs-number">99.9</span></span>%): [<span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">470</span></span>, <span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">455</span></span>] (assumes normal distribution) # JMH <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: <span class="hljs-number"><span class="hljs-number">1.20</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: JDK <span class="hljs-number"><span class="hljs-number">9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>, VM <span class="hljs-number"><span class="hljs-number">9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>+<span class="hljs-number"><span class="hljs-number">11</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">invoker</span></span>: C:\Program Files\Java\jre<span class="hljs-number"><span class="hljs-number">-9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>\bin\java.exe # VM <span class="hljs-keyword"><span class="hljs-keyword">options</span></span>: &lt;<span class="hljs-keyword"><span class="hljs-keyword">none</span></span>&gt; # Warmup: <span class="hljs-number"><span class="hljs-number">5</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Measurement: <span class="hljs-number"><span class="hljs-number">10</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Timeout: <span class="hljs-number"><span class="hljs-number">10</span></span> min per iteration # Threads: <span class="hljs-number"><span class="hljs-number">1</span></span> thread, will synchronize iterations # Benchmark mode: Average <span class="hljs-type"><span class="hljs-type">time</span></span>, <span class="hljs-type"><span class="hljs-type">time</span></span>/op # Benchmark: ru.gnkoshelev.jbreak2018.perf_tests.strings.ImmutableStringBenchmark.builderBenchmark # Parameters: (N = <span class="hljs-number"><span class="hljs-number">10000</span></span>) # Run progress: <span class="hljs-number"><span class="hljs-number">18</span></span>,<span class="hljs-number"><span class="hljs-number">75</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">14</span></span>:<span class="hljs-number"><span class="hljs-number">55</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">193</span></span>,<span class="hljs-number"><span class="hljs-number">410</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">178</span></span>,<span class="hljs-number"><span class="hljs-number">965</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">174</span></span>,<span class="hljs-number"><span class="hljs-number">831</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">174</span></span>,<span class="hljs-number"><span class="hljs-number">252</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">172</span></span>,<span class="hljs-number"><span class="hljs-number">563</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">175</span></span>,<span class="hljs-number"><span class="hljs-number">277</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">175</span></span>,<span class="hljs-number"><span class="hljs-number">052</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">170</span></span>,<span class="hljs-number"><span class="hljs-number">435</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">172</span></span>,<span class="hljs-number"><span class="hljs-number">218</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">169</span></span>,<span class="hljs-number"><span class="hljs-number">646</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">174</span></span>,<span class="hljs-number"><span class="hljs-number">490</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">170</span></span>,<span class="hljs-number"><span class="hljs-number">822</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">167</span></span>,<span class="hljs-number"><span class="hljs-number">680</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">172</span></span>,<span class="hljs-number"><span class="hljs-number">293</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">169</span></span>,<span class="hljs-number"><span class="hljs-number">461</span></span> us/op # Run progress: <span class="hljs-number"><span class="hljs-number">20</span></span>,<span class="hljs-number"><span class="hljs-number">83</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">14</span></span>:<span class="hljs-number"><span class="hljs-number">33</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">201</span></span>,<span class="hljs-number"><span class="hljs-number">756</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">180</span></span>,<span class="hljs-number"><span class="hljs-number">306</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">177</span></span>,<span class="hljs-number"><span class="hljs-number">044</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">176</span></span>,<span class="hljs-number"><span class="hljs-number">753</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">176</span></span>,<span class="hljs-number"><span class="hljs-number">762</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">177</span></span>,<span class="hljs-number"><span class="hljs-number">181</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">180</span></span>,<span class="hljs-number"><span class="hljs-number">288</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">180</span></span>,<span class="hljs-number"><span class="hljs-number">234</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">177</span></span>,<span class="hljs-number"><span class="hljs-number">654</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">179</span></span>,<span class="hljs-number"><span class="hljs-number">481</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">179</span></span>,<span class="hljs-number"><span class="hljs-number">769</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">180</span></span>,<span class="hljs-number"><span class="hljs-number">273</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">180</span></span>,<span class="hljs-number"><span class="hljs-number">923</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">177</span></span>,<span class="hljs-number"><span class="hljs-number">576</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">176</span></span>,<span class="hljs-number"><span class="hljs-number">988</span></span> us/op # Run progress: <span class="hljs-number"><span class="hljs-number">22</span></span>,<span class="hljs-number"><span class="hljs-number">92</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">14</span></span>:<span class="hljs-number"><span class="hljs-number">10</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">199</span></span>,<span class="hljs-number"><span class="hljs-number">773</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">191</span></span>,<span class="hljs-number"><span class="hljs-number">027</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">175</span></span>,<span class="hljs-number"><span class="hljs-number">811</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">195</span></span>,<span class="hljs-number"><span class="hljs-number">435</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">186</span></span>,<span class="hljs-number"><span class="hljs-number">448</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">190</span></span>,<span class="hljs-number"><span class="hljs-number">321</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">172</span></span>,<span class="hljs-number"><span class="hljs-number">248</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">172</span></span>,<span class="hljs-number"><span class="hljs-number">875</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">173</span></span>,<span class="hljs-number"><span class="hljs-number">850</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">174</span></span>,<span class="hljs-number"><span class="hljs-number">142</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">175</span></span>,<span class="hljs-number"><span class="hljs-number">412</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">173</span></span>,<span class="hljs-number"><span class="hljs-number">791</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">173</span></span>,<span class="hljs-number"><span class="hljs-number">810</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">173</span></span>,<span class="hljs-number"><span class="hljs-number">287</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">174</span></span>,<span class="hljs-number"><span class="hljs-number">731</span></span> us/op Result "ru.gnkoshelev.jbreak2018.perf_tests.strings.ImmutableStringBenchmark.builderBenchmark": <span class="hljs-number"><span class="hljs-number">175</span></span>,<span class="hljs-number"><span class="hljs-number">407</span></span> ¬±(<span class="hljs-number"><span class="hljs-number">99.9</span></span>%) <span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">039</span></span> us/op [Average] (min, avg, max) = (<span class="hljs-number"><span class="hljs-number">167</span></span>,<span class="hljs-number"><span class="hljs-number">680</span></span>, <span class="hljs-number"><span class="hljs-number">175</span></span>,<span class="hljs-number"><span class="hljs-number">407</span></span>, <span class="hljs-number"><span class="hljs-number">190</span></span>,<span class="hljs-number"><span class="hljs-number">321</span></span>), stdev = <span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">549</span></span> CI (<span class="hljs-number"><span class="hljs-number">99.9</span></span>%): [<span class="hljs-number"><span class="hljs-number">172</span></span>,<span class="hljs-number"><span class="hljs-number">368</span></span>, <span class="hljs-number"><span class="hljs-number">178</span></span>,<span class="hljs-number"><span class="hljs-number">446</span></span>] (assumes normal distribution) # JMH <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: <span class="hljs-number"><span class="hljs-number">1.20</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: JDK <span class="hljs-number"><span class="hljs-number">9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>, VM <span class="hljs-number"><span class="hljs-number">9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>+<span class="hljs-number"><span class="hljs-number">11</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">invoker</span></span>: C:\Program Files\Java\jre<span class="hljs-number"><span class="hljs-number">-9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>\bin\java.exe # VM <span class="hljs-keyword"><span class="hljs-keyword">options</span></span>: &lt;<span class="hljs-keyword"><span class="hljs-keyword">none</span></span>&gt; # Warmup: <span class="hljs-number"><span class="hljs-number">5</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Measurement: <span class="hljs-number"><span class="hljs-number">10</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Timeout: <span class="hljs-number"><span class="hljs-number">10</span></span> min per iteration # Threads: <span class="hljs-number"><span class="hljs-number">1</span></span> thread, will synchronize iterations # Benchmark mode: Average <span class="hljs-type"><span class="hljs-type">time</span></span>, <span class="hljs-type"><span class="hljs-type">time</span></span>/op # Benchmark: ru.gnkoshelev.jbreak2018.perf_tests.strings.ImmutableStringBenchmark.concatenationBenchmark # Parameters: (N = <span class="hljs-number"><span class="hljs-number">10</span></span>) # Run progress: <span class="hljs-number"><span class="hljs-number">25</span></span>,<span class="hljs-number"><span class="hljs-number">00</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">13</span></span>:<span class="hljs-number"><span class="hljs-number">47</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">292</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">251</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">274</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">268</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">276</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">291</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">286</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">283</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">294</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">277</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">285</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">283</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">275</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">269</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">274</span></span> us/op # Run progress: <span class="hljs-number"><span class="hljs-number">27</span></span>,<span class="hljs-number"><span class="hljs-number">08</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">13</span></span>:<span class="hljs-number"><span class="hljs-number">24</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">309</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">281</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">292</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">276</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">280</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">277</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">268</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">283</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">301</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">290</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">275</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">273</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">291</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">293</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">274</span></span> us/op # Run progress: <span class="hljs-number"><span class="hljs-number">29</span></span>,<span class="hljs-number"><span class="hljs-number">17</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">13</span></span>:<span class="hljs-number"><span class="hljs-number">02</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">302</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">257</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">280</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">272</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">286</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">290</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">286</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">286</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">300</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">285</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">276</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">285</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">310</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">269</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">268</span></span> us/op Result "ru.gnkoshelev.jbreak2018.perf_tests.strings.ImmutableStringBenchmark.concatenationBenchmark": <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">283</span></span> ¬±(<span class="hljs-number"><span class="hljs-number">99.9</span></span>%) <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">007</span></span> us/op [Average] (min, avg, max) = (<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">268</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">283</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">310</span></span>), stdev = <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">010</span></span> CI (<span class="hljs-number"><span class="hljs-number">99.9</span></span>%): [<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">276</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">290</span></span>] (assumes normal distribution) # JMH <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: <span class="hljs-number"><span class="hljs-number">1.20</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: JDK <span class="hljs-number"><span class="hljs-number">9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>, VM <span class="hljs-number"><span class="hljs-number">9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>+<span class="hljs-number"><span class="hljs-number">11</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">invoker</span></span>: C:\Program Files\Java\jre<span class="hljs-number"><span class="hljs-number">-9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>\bin\java.exe # VM <span class="hljs-keyword"><span class="hljs-keyword">options</span></span>: &lt;<span class="hljs-keyword"><span class="hljs-keyword">none</span></span>&gt; # Warmup: <span class="hljs-number"><span class="hljs-number">5</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Measurement: <span class="hljs-number"><span class="hljs-number">10</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Timeout: <span class="hljs-number"><span class="hljs-number">10</span></span> min per iteration # Threads: <span class="hljs-number"><span class="hljs-number">1</span></span> thread, will synchronize iterations # Benchmark mode: Average <span class="hljs-type"><span class="hljs-type">time</span></span>, <span class="hljs-type"><span class="hljs-type">time</span></span>/op # Benchmark: ru.gnkoshelev.jbreak2018.perf_tests.strings.ImmutableStringBenchmark.concatenationBenchmark # Parameters: (N = <span class="hljs-number"><span class="hljs-number">100</span></span>) # Run progress: <span class="hljs-number"><span class="hljs-number">31</span></span>,<span class="hljs-number"><span class="hljs-number">25</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">39</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">154</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">346</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">357</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">376</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">332</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">334</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">343</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">338</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">358</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">343</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">395</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">375</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">381</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">356</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">342</span></span> us/op # Run progress: <span class="hljs-number"><span class="hljs-number">33</span></span>,<span class="hljs-number"><span class="hljs-number">33</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">16</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">032</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">326</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">247</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">512</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">649</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">502</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">327</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">197</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">295</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">221</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">224</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">210</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">204</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">457</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">124</span></span> us/op # Run progress: <span class="hljs-number"><span class="hljs-number">35</span></span>,<span class="hljs-number"><span class="hljs-number">42</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">52</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">11</span></span>,<span class="hljs-number"><span class="hljs-number">735</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">658</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">495</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">258</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">326</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">001</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">964</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">854</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">480</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">556</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">928</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">335</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">161</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">989</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">372</span></span> us/op Result "ru.gnkoshelev.jbreak2018.perf_tests.strings.ImmutableStringBenchmark.concatenationBenchmark": <span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">532</span></span> ¬±(<span class="hljs-number"><span class="hljs-number">99.9</span></span>%) <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">220</span></span> us/op [Average] (min, avg, max) = (<span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">197</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">532</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">295</span></span>), stdev = <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">329</span></span> CI (<span class="hljs-number"><span class="hljs-number">99.9</span></span>%): [<span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">312</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">752</span></span>] (assumes normal distribution) # JMH <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: <span class="hljs-number"><span class="hljs-number">1.20</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: JDK <span class="hljs-number"><span class="hljs-number">9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>, VM <span class="hljs-number"><span class="hljs-number">9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>+<span class="hljs-number"><span class="hljs-number">11</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">invoker</span></span>: C:\Program Files\Java\jre<span class="hljs-number"><span class="hljs-number">-9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>\bin\java.exe # VM <span class="hljs-keyword"><span class="hljs-keyword">options</span></span>: &lt;<span class="hljs-keyword"><span class="hljs-keyword">none</span></span>&gt; # Warmup: <span class="hljs-number"><span class="hljs-number">5</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Measurement: <span class="hljs-number"><span class="hljs-number">10</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Timeout: <span class="hljs-number"><span class="hljs-number">10</span></span> min per iteration # Threads: <span class="hljs-number"><span class="hljs-number">1</span></span> thread, will synchronize iterations # Benchmark mode: Average <span class="hljs-type"><span class="hljs-type">time</span></span>, <span class="hljs-type"><span class="hljs-type">time</span></span>/op # Benchmark: ru.gnkoshelev.jbreak2018.perf_tests.strings.ImmutableStringBenchmark.concatenationBenchmark # Parameters: (N = <span class="hljs-number"><span class="hljs-number">1000</span></span>) # Run progress: <span class="hljs-number"><span class="hljs-number">37</span></span>,<span class="hljs-number"><span class="hljs-number">50</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">29</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">843</span></span>,<span class="hljs-number"><span class="hljs-number">574</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">604</span></span>,<span class="hljs-number"><span class="hljs-number">431</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">602</span></span>,<span class="hljs-number"><span class="hljs-number">075</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">605</span></span>,<span class="hljs-number"><span class="hljs-number">613</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">610</span></span>,<span class="hljs-number"><span class="hljs-number">006</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">606</span></span>,<span class="hljs-number"><span class="hljs-number">927</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">634</span></span>,<span class="hljs-number"><span class="hljs-number">940</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">607</span></span>,<span class="hljs-number"><span class="hljs-number">559</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">650</span></span>,<span class="hljs-number"><span class="hljs-number">631</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">653</span></span>,<span class="hljs-number"><span class="hljs-number">789</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">607</span></span>,<span class="hljs-number"><span class="hljs-number">988</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">621</span></span>,<span class="hljs-number"><span class="hljs-number">988</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">607</span></span>,<span class="hljs-number"><span class="hljs-number">247</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">602</span></span>,<span class="hljs-number"><span class="hljs-number">864</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">607</span></span>,<span class="hljs-number"><span class="hljs-number">888</span></span> us/op # Run progress: <span class="hljs-number"><span class="hljs-number">39</span></span>,<span class="hljs-number"><span class="hljs-number">58</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">06</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">811</span></span>,<span class="hljs-number"><span class="hljs-number">900</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">603</span></span>,<span class="hljs-number"><span class="hljs-number">097</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">603</span></span>,<span class="hljs-number"><span class="hljs-number">808</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">605</span></span>,<span class="hljs-number"><span class="hljs-number">518</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">605</span></span>,<span class="hljs-number"><span class="hljs-number">703</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">616</span></span>,<span class="hljs-number"><span class="hljs-number">120</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">602</span></span>,<span class="hljs-number"><span class="hljs-number">626</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">605</span></span>,<span class="hljs-number"><span class="hljs-number">618</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">599</span></span>,<span class="hljs-number"><span class="hljs-number">532</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">598</span></span>,<span class="hljs-number"><span class="hljs-number">845</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">604</span></span>,<span class="hljs-number"><span class="hljs-number">046</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">615</span></span>,<span class="hljs-number"><span class="hljs-number">308</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">609</span></span>,<span class="hljs-number"><span class="hljs-number">050</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">612</span></span>,<span class="hljs-number"><span class="hljs-number">949</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">613</span></span>,<span class="hljs-number"><span class="hljs-number">524</span></span> us/op # Run progress: <span class="hljs-number"><span class="hljs-number">41</span></span>,<span class="hljs-number"><span class="hljs-number">67</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">10</span></span>:<span class="hljs-number"><span class="hljs-number">43</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">852</span></span>,<span class="hljs-number"><span class="hljs-number">912</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">707</span></span>,<span class="hljs-number"><span class="hljs-number">652</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">651</span></span>,<span class="hljs-number"><span class="hljs-number">288</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">599</span></span>,<span class="hljs-number"><span class="hljs-number">827</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">621</span></span>,<span class="hljs-number"><span class="hljs-number">685</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">598</span></span>,<span class="hljs-number"><span class="hljs-number">476</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">601</span></span>,<span class="hljs-number"><span class="hljs-number">931</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">602</span></span>,<span class="hljs-number"><span class="hljs-number">993</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">602</span></span>,<span class="hljs-number"><span class="hljs-number">098</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">623</span></span>,<span class="hljs-number"><span class="hljs-number">709</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">615</span></span>,<span class="hljs-number"><span class="hljs-number">533</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">623</span></span>,<span class="hljs-number"><span class="hljs-number">482</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">591</span></span>,<span class="hljs-number"><span class="hljs-number">862</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">624</span></span>,<span class="hljs-number"><span class="hljs-number">777</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">595</span></span>,<span class="hljs-number"><span class="hljs-number">762</span></span> us/op Result "ru.gnkoshelev.jbreak2018.perf_tests.strings.ImmutableStringBenchmark.concatenationBenchmark": <span class="hljs-number"><span class="hljs-number">612</span></span>,<span class="hljs-number"><span class="hljs-number">002</span></span> ¬±(<span class="hljs-number"><span class="hljs-number">99.9</span></span>%) <span class="hljs-number"><span class="hljs-number">9</span></span>,<span class="hljs-number"><span class="hljs-number">759</span></span> us/op [Average] (min, avg, max) = (<span class="hljs-number"><span class="hljs-number">591</span></span>,<span class="hljs-number"><span class="hljs-number">862</span></span>, <span class="hljs-number"><span class="hljs-number">612</span></span>,<span class="hljs-number"><span class="hljs-number">002</span></span>, <span class="hljs-number"><span class="hljs-number">653</span></span>,<span class="hljs-number"><span class="hljs-number">789</span></span>), stdev = <span class="hljs-number"><span class="hljs-number">14</span></span>,<span class="hljs-number"><span class="hljs-number">606</span></span> CI (<span class="hljs-number"><span class="hljs-number">99.9</span></span>%): [<span class="hljs-number"><span class="hljs-number">602</span></span>,<span class="hljs-number"><span class="hljs-number">244</span></span>, <span class="hljs-number"><span class="hljs-number">621</span></span>,<span class="hljs-number"><span class="hljs-number">761</span></span>] (assumes normal distribution) # JMH <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: <span class="hljs-number"><span class="hljs-number">1.20</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: JDK <span class="hljs-number"><span class="hljs-number">9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>, VM <span class="hljs-number"><span class="hljs-number">9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>+<span class="hljs-number"><span class="hljs-number">11</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">invoker</span></span>: C:\Program Files\Java\jre<span class="hljs-number"><span class="hljs-number">-9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>\bin\java.exe # VM <span class="hljs-keyword"><span class="hljs-keyword">options</span></span>: &lt;<span class="hljs-keyword"><span class="hljs-keyword">none</span></span>&gt; # Warmup: <span class="hljs-number"><span class="hljs-number">5</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Measurement: <span class="hljs-number"><span class="hljs-number">10</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Timeout: <span class="hljs-number"><span class="hljs-number">10</span></span> min per iteration # Threads: <span class="hljs-number"><span class="hljs-number">1</span></span> thread, will synchronize iterations # Benchmark mode: Average <span class="hljs-type"><span class="hljs-type">time</span></span>, <span class="hljs-type"><span class="hljs-type">time</span></span>/op # Benchmark: ru.gnkoshelev.jbreak2018.perf_tests.strings.ImmutableStringBenchmark.concatenationBenchmark # Parameters: (N = <span class="hljs-number"><span class="hljs-number">10000</span></span>) # Run progress: <span class="hljs-number"><span class="hljs-number">43</span></span>,<span class="hljs-number"><span class="hljs-number">75</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">10</span></span>:<span class="hljs-number"><span class="hljs-number">20</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">85359</span></span>,<span class="hljs-number"><span class="hljs-number">249</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">60094</span></span>,<span class="hljs-number"><span class="hljs-number">054</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">58604</span></span>,<span class="hljs-number"><span class="hljs-number">795</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">63162</span></span>,<span class="hljs-number"><span class="hljs-number">713</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">61908</span></span>,<span class="hljs-number"><span class="hljs-number">459</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">58603</span></span>,<span class="hljs-number"><span class="hljs-number">106</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">59940</span></span>,<span class="hljs-number"><span class="hljs-number">727</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">58251</span></span>,<span class="hljs-number"><span class="hljs-number">292</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">58429</span></span>,<span class="hljs-number"><span class="hljs-number">386</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">58252</span></span>,<span class="hljs-number"><span class="hljs-number">382</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">58310</span></span>,<span class="hljs-number"><span class="hljs-number">251</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">59034</span></span>,<span class="hljs-number"><span class="hljs-number">690</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">58480</span></span>,<span class="hljs-number"><span class="hljs-number">766</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">58441</span></span>,<span class="hljs-number"><span class="hljs-number">828</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">58242</span></span>,<span class="hljs-number"><span class="hljs-number">481</span></span> us/op # Run progress: <span class="hljs-number"><span class="hljs-number">45</span></span>,<span class="hljs-number"><span class="hljs-number">83</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">09</span></span>:<span class="hljs-number"><span class="hljs-number">58</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">85157</span></span>,<span class="hljs-number"><span class="hljs-number">562</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">58764</span></span>,<span class="hljs-number"><span class="hljs-number">257</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">58987</span></span>,<span class="hljs-number"><span class="hljs-number">052</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">61368</span></span>,<span class="hljs-number"><span class="hljs-number">128</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">59257</span></span>,<span class="hljs-number"><span class="hljs-number">690</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">60699</span></span>,<span class="hljs-number"><span class="hljs-number">151</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">59754</span></span>,<span class="hljs-number"><span class="hljs-number">186</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">60091</span></span>,<span class="hljs-number"><span class="hljs-number">361</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">61224</span></span>,<span class="hljs-number"><span class="hljs-number">621</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">58651</span></span>,<span class="hljs-number"><span class="hljs-number">375</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">58365</span></span>,<span class="hljs-number"><span class="hljs-number">153</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">58962</span></span>,<span class="hljs-number"><span class="hljs-number">688</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">58993</span></span>,<span class="hljs-number"><span class="hljs-number">352</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">58819</span></span>,<span class="hljs-number"><span class="hljs-number">427</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">58550</span></span>,<span class="hljs-number"><span class="hljs-number">841</span></span> us/op # Run progress: <span class="hljs-number"><span class="hljs-number">47</span></span>,<span class="hljs-number"><span class="hljs-number">92</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">09</span></span>:<span class="hljs-number"><span class="hljs-number">35</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">85371</span></span>,<span class="hljs-number"><span class="hljs-number">543</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">58821</span></span>,<span class="hljs-number"><span class="hljs-number">258</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">58546</span></span>,<span class="hljs-number"><span class="hljs-number">736</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">58518</span></span>,<span class="hljs-number"><span class="hljs-number">930</span></span> us/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">59124</span></span>,<span class="hljs-number"><span class="hljs-number">297</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">58823</span></span>,<span class="hljs-number"><span class="hljs-number">911</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">58633</span></span>,<span class="hljs-number"><span class="hljs-number">122</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">58459</span></span>,<span class="hljs-number"><span class="hljs-number">387</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">58571</span></span>,<span class="hljs-number"><span class="hljs-number">716</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">58584</span></span>,<span class="hljs-number"><span class="hljs-number">158</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">58584</span></span>,<span class="hljs-number"><span class="hljs-number">505</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">58472</span></span>,<span class="hljs-number"><span class="hljs-number">397</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">58647</span></span>,<span class="hljs-number"><span class="hljs-number">381</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">64360</span></span>,<span class="hljs-number"><span class="hljs-number">849</span></span> us/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">60359</span></span>,<span class="hljs-number"><span class="hljs-number">720</span></span> us/op Result "ru.gnkoshelev.jbreak2018.perf_tests.strings.ImmutableStringBenchmark.concatenationBenchmark": <span class="hljs-number"><span class="hljs-number">59119</span></span>,<span class="hljs-number"><span class="hljs-number">874</span></span> ¬±(<span class="hljs-number"><span class="hljs-number">99.9</span></span>%) <span class="hljs-number"><span class="hljs-number">841</span></span>,<span class="hljs-number"><span class="hljs-number">652</span></span> us/op [Average] (min, avg, max) = (<span class="hljs-number"><span class="hljs-number">58242</span></span>,<span class="hljs-number"><span class="hljs-number">481</span></span>, <span class="hljs-number"><span class="hljs-number">59119</span></span>,<span class="hljs-number"><span class="hljs-number">874</span></span>, <span class="hljs-number"><span class="hljs-number">64360</span></span>,<span class="hljs-number"><span class="hljs-number">849</span></span>), stdev = <span class="hljs-number"><span class="hljs-number">1259</span></span>,<span class="hljs-number"><span class="hljs-number">746</span></span> CI (<span class="hljs-number"><span class="hljs-number">99.9</span></span>%): [<span class="hljs-number"><span class="hljs-number">58278</span></span>,<span class="hljs-number"><span class="hljs-number">221</span></span>, <span class="hljs-number"><span class="hljs-number">59961</span></span>,<span class="hljs-number"><span class="hljs-number">526</span></span>] (assumes normal distribution) # JMH <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: <span class="hljs-number"><span class="hljs-number">1.20</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: JDK <span class="hljs-number"><span class="hljs-number">9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>, VM <span class="hljs-number"><span class="hljs-number">9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>+<span class="hljs-number"><span class="hljs-number">11</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">invoker</span></span>: C:\Program Files\Java\jre<span class="hljs-number"><span class="hljs-number">-9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>\bin\java.exe # VM <span class="hljs-keyword"><span class="hljs-keyword">options</span></span>: &lt;<span class="hljs-keyword"><span class="hljs-keyword">none</span></span>&gt; # Warmup: <span class="hljs-number"><span class="hljs-number">5</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Measurement: <span class="hljs-number"><span class="hljs-number">10</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Timeout: <span class="hljs-number"><span class="hljs-number">10</span></span> min per iteration # Threads: <span class="hljs-number"><span class="hljs-number">1</span></span> thread, will synchronize iterations # Benchmark mode: Average <span class="hljs-type"><span class="hljs-type">time</span></span>, <span class="hljs-type"><span class="hljs-type">time</span></span>/op # Benchmark: ru.gnkoshelev.jbreak2018.perf_tests.strings.MetricsFormatBenchmark.formatThroughBuilderBenchmark # Run progress: <span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">00</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">09</span></span>:<span class="hljs-number"><span class="hljs-number">13</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">262</span></span>,<span class="hljs-number"><span class="hljs-number">703</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">213</span></span>,<span class="hljs-number"><span class="hljs-number">253</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">214</span></span>,<span class="hljs-number"><span class="hljs-number">540</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">211</span></span>,<span class="hljs-number"><span class="hljs-number">447</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">211</span></span>,<span class="hljs-number"><span class="hljs-number">299</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">212</span></span>,<span class="hljs-number"><span class="hljs-number">265</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">210</span></span>,<span class="hljs-number"><span class="hljs-number">657</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">212</span></span>,<span class="hljs-number"><span class="hljs-number">277</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">219</span></span>,<span class="hljs-number"><span class="hljs-number">824</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">225</span></span>,<span class="hljs-number"><span class="hljs-number">531</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">206</span></span>,<span class="hljs-number"><span class="hljs-number">097</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">204</span></span>,<span class="hljs-number"><span class="hljs-number">751</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">211</span></span>,<span class="hljs-number"><span class="hljs-number">672</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">209</span></span>,<span class="hljs-number"><span class="hljs-number">949</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">208</span></span>,<span class="hljs-number"><span class="hljs-number">630</span></span> ns/op # Run progress: <span class="hljs-number"><span class="hljs-number">52</span></span>,<span class="hljs-number"><span class="hljs-number">08</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">49</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">263</span></span>,<span class="hljs-number"><span class="hljs-number">284</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">200</span></span>,<span class="hljs-number"><span class="hljs-number">613</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">194</span></span>,<span class="hljs-number"><span class="hljs-number">637</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">195</span></span>,<span class="hljs-number"><span class="hljs-number">592</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">198</span></span>,<span class="hljs-number"><span class="hljs-number">620</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">198</span></span>,<span class="hljs-number"><span class="hljs-number">124</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">199</span></span>,<span class="hljs-number"><span class="hljs-number">164</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">199</span></span>,<span class="hljs-number"><span class="hljs-number">169</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">208</span></span>,<span class="hljs-number"><span class="hljs-number">831</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">215</span></span>,<span class="hljs-number"><span class="hljs-number">353</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">205</span></span>,<span class="hljs-number"><span class="hljs-number">850</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">201</span></span>,<span class="hljs-number"><span class="hljs-number">657</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">212</span></span>,<span class="hljs-number"><span class="hljs-number">089</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">206</span></span>,<span class="hljs-number"><span class="hljs-number">610</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">201</span></span>,<span class="hljs-number"><span class="hljs-number">656</span></span> ns/op # Run progress: <span class="hljs-number"><span class="hljs-number">54</span></span>,<span class="hljs-number"><span class="hljs-number">17</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">26</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">261</span></span>,<span class="hljs-number"><span class="hljs-number">702</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">197</span></span>,<span class="hljs-number"><span class="hljs-number">009</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">202</span></span>,<span class="hljs-number"><span class="hljs-number">197</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">203</span></span>,<span class="hljs-number"><span class="hljs-number">103</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">210</span></span>,<span class="hljs-number"><span class="hljs-number">418</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">205</span></span>,<span class="hljs-number"><span class="hljs-number">722</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">204</span></span>,<span class="hljs-number"><span class="hljs-number">451</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">209</span></span>,<span class="hljs-number"><span class="hljs-number">910</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">203</span></span>,<span class="hljs-number"><span class="hljs-number">296</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">203</span></span>,<span class="hljs-number"><span class="hljs-number">002</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">207</span></span>,<span class="hljs-number"><span class="hljs-number">542</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">209</span></span>,<span class="hljs-number"><span class="hljs-number">387</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">202</span></span>,<span class="hljs-number"><span class="hljs-number">788</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">197</span></span>,<span class="hljs-number"><span class="hljs-number">077</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">201</span></span>,<span class="hljs-number"><span class="hljs-number">708</span></span> ns/op Result "ru.gnkoshelev.jbreak2018.perf_tests.strings.MetricsFormatBenchmark.formatThroughBuilderBenchmark": <span class="hljs-number"><span class="hljs-number">207</span></span>,<span class="hljs-number"><span class="hljs-number">168</span></span> ¬±(<span class="hljs-number"><span class="hljs-number">99.9</span></span>%) <span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">245</span></span> ns/op [Average] (min, avg, max) = (<span class="hljs-number"><span class="hljs-number">197</span></span>,<span class="hljs-number"><span class="hljs-number">077</span></span>, <span class="hljs-number"><span class="hljs-number">207</span></span>,<span class="hljs-number"><span class="hljs-number">168</span></span>, <span class="hljs-number"><span class="hljs-number">225</span></span>,<span class="hljs-number"><span class="hljs-number">531</span></span>), stdev = <span class="hljs-number"><span class="hljs-number">6</span></span>,<span class="hljs-number"><span class="hljs-number">353</span></span> CI (<span class="hljs-number"><span class="hljs-number">99.9</span></span>%): [<span class="hljs-number"><span class="hljs-number">202</span></span>,<span class="hljs-number"><span class="hljs-number">923</span></span>, <span class="hljs-number"><span class="hljs-number">211</span></span>,<span class="hljs-number"><span class="hljs-number">413</span></span>] (assumes normal distribution) # JMH <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: <span class="hljs-number"><span class="hljs-number">1.20</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: JDK <span class="hljs-number"><span class="hljs-number">9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>, VM <span class="hljs-number"><span class="hljs-number">9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>+<span class="hljs-number"><span class="hljs-number">11</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">invoker</span></span>: C:\Program Files\Java\jre<span class="hljs-number"><span class="hljs-number">-9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>\bin\java.exe # VM <span class="hljs-keyword"><span class="hljs-keyword">options</span></span>: &lt;<span class="hljs-keyword"><span class="hljs-keyword">none</span></span>&gt; # Warmup: <span class="hljs-number"><span class="hljs-number">5</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Measurement: <span class="hljs-number"><span class="hljs-number">10</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Timeout: <span class="hljs-number"><span class="hljs-number">10</span></span> min per iteration # Threads: <span class="hljs-number"><span class="hljs-number">1</span></span> thread, will synchronize iterations # Benchmark mode: Average <span class="hljs-type"><span class="hljs-type">time</span></span>, <span class="hljs-type"><span class="hljs-type">time</span></span>/op # Benchmark: ru.gnkoshelev.jbreak2018.perf_tests.strings.MetricsFormatBenchmark.formatThroughConcatenationBenchmark # Run progress: <span class="hljs-number"><span class="hljs-number">56</span></span>,<span class="hljs-number"><span class="hljs-number">25</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">77</span></span>,<span class="hljs-number"><span class="hljs-number">890</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">60</span></span>,<span class="hljs-number"><span class="hljs-number">084</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">61</span></span>,<span class="hljs-number"><span class="hljs-number">112</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">64</span></span>,<span class="hljs-number"><span class="hljs-number">259</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">63</span></span>,<span class="hljs-number"><span class="hljs-number">863</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">58</span></span>,<span class="hljs-number"><span class="hljs-number">276</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">56</span></span>,<span class="hljs-number"><span class="hljs-number">546</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">56</span></span>,<span class="hljs-number"><span class="hljs-number">680</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">56</span></span>,<span class="hljs-number"><span class="hljs-number">652</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">57</span></span>,<span class="hljs-number"><span class="hljs-number">838</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">58</span></span>,<span class="hljs-number"><span class="hljs-number">543</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">56</span></span>,<span class="hljs-number"><span class="hljs-number">616</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">56</span></span>,<span class="hljs-number"><span class="hljs-number">765</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">56</span></span>,<span class="hljs-number"><span class="hljs-number">704</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">56</span></span>,<span class="hljs-number"><span class="hljs-number">496</span></span> ns/op # Run progress: <span class="hljs-number"><span class="hljs-number">58</span></span>,<span class="hljs-number"><span class="hljs-number">33</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">07</span></span>:<span class="hljs-number"><span class="hljs-number">40</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">79</span></span>,<span class="hljs-number"><span class="hljs-number">029</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">60</span></span>,<span class="hljs-number"><span class="hljs-number">338</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">56</span></span>,<span class="hljs-number"><span class="hljs-number">450</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">56</span></span>,<span class="hljs-number"><span class="hljs-number">621</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">56</span></span>,<span class="hljs-number"><span class="hljs-number">712</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">56</span></span>,<span class="hljs-number"><span class="hljs-number">811</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">56</span></span>,<span class="hljs-number"><span class="hljs-number">772</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">58</span></span>,<span class="hljs-number"><span class="hljs-number">599</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">58</span></span>,<span class="hljs-number"><span class="hljs-number">018</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">57</span></span>,<span class="hljs-number"><span class="hljs-number">401</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">57</span></span>,<span class="hljs-number"><span class="hljs-number">331</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">56</span></span>,<span class="hljs-number"><span class="hljs-number">742</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">56</span></span>,<span class="hljs-number"><span class="hljs-number">869</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">56</span></span>,<span class="hljs-number"><span class="hljs-number">881</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">56</span></span>,<span class="hljs-number"><span class="hljs-number">639</span></span> ns/op # Run progress: <span class="hljs-number"><span class="hljs-number">60</span></span>,<span class="hljs-number"><span class="hljs-number">42</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">07</span></span>:<span class="hljs-number"><span class="hljs-number">17</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">71</span></span>,<span class="hljs-number"><span class="hljs-number">819</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">53</span></span>,<span class="hljs-number"><span class="hljs-number">982</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">53</span></span>,<span class="hljs-number"><span class="hljs-number">217</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">53</span></span>,<span class="hljs-number"><span class="hljs-number">991</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">53</span></span>,<span class="hljs-number"><span class="hljs-number">129</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">53</span></span>,<span class="hljs-number"><span class="hljs-number">270</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">53</span></span>,<span class="hljs-number"><span class="hljs-number">306</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">54</span></span>,<span class="hljs-number"><span class="hljs-number">263</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">53</span></span>,<span class="hljs-number"><span class="hljs-number">325</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">54</span></span>,<span class="hljs-number"><span class="hljs-number">777</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">53</span></span>,<span class="hljs-number"><span class="hljs-number">585</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">56</span></span>,<span class="hljs-number"><span class="hljs-number">112</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">55</span></span>,<span class="hljs-number"><span class="hljs-number">468</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">53</span></span>,<span class="hljs-number"><span class="hljs-number">991</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">55</span></span>,<span class="hljs-number"><span class="hljs-number">320</span></span> ns/op Result "ru.gnkoshelev.jbreak2018.perf_tests.strings.MetricsFormatBenchmark.formatThroughConcatenationBenchmark": <span class="hljs-number"><span class="hljs-number">56</span></span>,<span class="hljs-number"><span class="hljs-number">220</span></span> ¬±(<span class="hljs-number"><span class="hljs-number">99.9</span></span>%) <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">051</span></span> ns/op [Average] (min, avg, max) = (<span class="hljs-number"><span class="hljs-number">53</span></span>,<span class="hljs-number"><span class="hljs-number">270</span></span>, <span class="hljs-number"><span class="hljs-number">56</span></span>,<span class="hljs-number"><span class="hljs-number">220</span></span>, <span class="hljs-number"><span class="hljs-number">58</span></span>,<span class="hljs-number"><span class="hljs-number">599</span></span>), stdev = <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">573</span></span> CI (<span class="hljs-number"><span class="hljs-number">99.9</span></span>%): [<span class="hljs-number"><span class="hljs-number">55</span></span>,<span class="hljs-number"><span class="hljs-number">169</span></span>, <span class="hljs-number"><span class="hljs-number">57</span></span>,<span class="hljs-number"><span class="hljs-number">271</span></span>] (assumes normal distribution) # JMH <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: <span class="hljs-number"><span class="hljs-number">1.20</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: JDK <span class="hljs-number"><span class="hljs-number">9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>, VM <span class="hljs-number"><span class="hljs-number">9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>+<span class="hljs-number"><span class="hljs-number">11</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">invoker</span></span>: C:\Program Files\Java\jre<span class="hljs-number"><span class="hljs-number">-9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>\bin\java.exe # VM <span class="hljs-keyword"><span class="hljs-keyword">options</span></span>: &lt;<span class="hljs-keyword"><span class="hljs-keyword">none</span></span>&gt; # Warmup: <span class="hljs-number"><span class="hljs-number">5</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Measurement: <span class="hljs-number"><span class="hljs-number">10</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Timeout: <span class="hljs-number"><span class="hljs-number">10</span></span> min per iteration # Threads: <span class="hljs-number"><span class="hljs-number">1</span></span> thread, will synchronize iterations # Benchmark mode: Average <span class="hljs-type"><span class="hljs-type">time</span></span>, <span class="hljs-type"><span class="hljs-type">time</span></span>/op # Benchmark: ru.gnkoshelev.jbreak2018.perf_tests.strings.MetricsFormatBenchmark.formatThroughMessageFormatBuilder # Run progress: <span class="hljs-number"><span class="hljs-number">62</span></span>,<span class="hljs-number"><span class="hljs-number">50</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">06</span></span>:<span class="hljs-number"><span class="hljs-number">54</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">938</span></span>,<span class="hljs-number"><span class="hljs-number">402</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">777</span></span>,<span class="hljs-number"><span class="hljs-number">569</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">675</span></span>,<span class="hljs-number"><span class="hljs-number">804</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">578</span></span>,<span class="hljs-number"><span class="hljs-number">318</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">617</span></span>,<span class="hljs-number"><span class="hljs-number">798</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">595</span></span>,<span class="hljs-number"><span class="hljs-number">885</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">582</span></span>,<span class="hljs-number"><span class="hljs-number">897</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">581</span></span>,<span class="hljs-number"><span class="hljs-number">880</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">583</span></span>,<span class="hljs-number"><span class="hljs-number">899</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">587</span></span>,<span class="hljs-number"><span class="hljs-number">891</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">582</span></span>,<span class="hljs-number"><span class="hljs-number">556</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">573</span></span>,<span class="hljs-number"><span class="hljs-number">807</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">580</span></span>,<span class="hljs-number"><span class="hljs-number">034</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">580</span></span>,<span class="hljs-number"><span class="hljs-number">055</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">600</span></span>,<span class="hljs-number"><span class="hljs-number">465</span></span> ns/op # Run progress: <span class="hljs-number"><span class="hljs-number">64</span></span>,<span class="hljs-number"><span class="hljs-number">58</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">06</span></span>:<span class="hljs-number"><span class="hljs-number">31</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">917</span></span>,<span class="hljs-number"><span class="hljs-number">728</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">778</span></span>,<span class="hljs-number"><span class="hljs-number">207</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">701</span></span>,<span class="hljs-number"><span class="hljs-number">344</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">614</span></span>,<span class="hljs-number"><span class="hljs-number">129</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">657</span></span>,<span class="hljs-number"><span class="hljs-number">221</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">607</span></span>,<span class="hljs-number"><span class="hljs-number">015</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">612</span></span>,<span class="hljs-number"><span class="hljs-number">909</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">583</span></span>,<span class="hljs-number"><span class="hljs-number">067</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">578</span></span>,<span class="hljs-number"><span class="hljs-number">083</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">581</span></span>,<span class="hljs-number"><span class="hljs-number">597</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">584</span></span>,<span class="hljs-number"><span class="hljs-number">794</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">579</span></span>,<span class="hljs-number"><span class="hljs-number">920</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">582</span></span>,<span class="hljs-number"><span class="hljs-number">049</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">580</span></span>,<span class="hljs-number"><span class="hljs-number">960</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">577</span></span>,<span class="hljs-number"><span class="hljs-number">774</span></span> ns/op # Run progress: <span class="hljs-number"><span class="hljs-number">66</span></span>,<span class="hljs-number"><span class="hljs-number">67</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">06</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">976</span></span>,<span class="hljs-number"><span class="hljs-number">629</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">793</span></span>,<span class="hljs-number"><span class="hljs-number">514</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">684</span></span>,<span class="hljs-number"><span class="hljs-number">222</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">614</span></span>,<span class="hljs-number"><span class="hljs-number">079</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">585</span></span>,<span class="hljs-number"><span class="hljs-number">099</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">699</span></span>,<span class="hljs-number"><span class="hljs-number">791</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">666</span></span>,<span class="hljs-number"><span class="hljs-number">016</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">619</span></span>,<span class="hljs-number"><span class="hljs-number">701</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">579</span></span>,<span class="hljs-number"><span class="hljs-number">987</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">576</span></span>,<span class="hljs-number"><span class="hljs-number">779</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">638</span></span>,<span class="hljs-number"><span class="hljs-number">863</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">607</span></span>,<span class="hljs-number"><span class="hljs-number">345</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">582</span></span>,<span class="hljs-number"><span class="hljs-number">039</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">579</span></span>,<span class="hljs-number"><span class="hljs-number">164</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">581</span></span>,<span class="hljs-number"><span class="hljs-number">331</span></span> ns/op Result "ru.gnkoshelev.jbreak2018.perf_tests.strings.MetricsFormatBenchmark.formatThroughMessageFormatBuilder": <span class="hljs-number"><span class="hljs-number">594</span></span>,<span class="hljs-number"><span class="hljs-number">952</span></span> ¬±(<span class="hljs-number"><span class="hljs-number">99.9</span></span>%) <span class="hljs-number"><span class="hljs-number">19</span></span>,<span class="hljs-number"><span class="hljs-number">025</span></span> ns/op [Average] (min, avg, max) = (<span class="hljs-number"><span class="hljs-number">573</span></span>,<span class="hljs-number"><span class="hljs-number">807</span></span>, <span class="hljs-number"><span class="hljs-number">594</span></span>,<span class="hljs-number"><span class="hljs-number">952</span></span>, <span class="hljs-number"><span class="hljs-number">699</span></span>,<span class="hljs-number"><span class="hljs-number">791</span></span>), stdev = <span class="hljs-number"><span class="hljs-number">28</span></span>,<span class="hljs-number"><span class="hljs-number">475</span></span> CI (<span class="hljs-number"><span class="hljs-number">99.9</span></span>%): [<span class="hljs-number"><span class="hljs-number">575</span></span>,<span class="hljs-number"><span class="hljs-number">927</span></span>, <span class="hljs-number"><span class="hljs-number">613</span></span>,<span class="hljs-number"><span class="hljs-number">977</span></span>] (assumes normal distribution) # JMH <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: <span class="hljs-number"><span class="hljs-number">1.20</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: JDK <span class="hljs-number"><span class="hljs-number">9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>, VM <span class="hljs-number"><span class="hljs-number">9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>+<span class="hljs-number"><span class="hljs-number">11</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">invoker</span></span>: C:\Program Files\Java\jre<span class="hljs-number"><span class="hljs-number">-9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>\bin\java.exe # VM <span class="hljs-keyword"><span class="hljs-keyword">options</span></span>: &lt;<span class="hljs-keyword"><span class="hljs-keyword">none</span></span>&gt; # Warmup: <span class="hljs-number"><span class="hljs-number">5</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Measurement: <span class="hljs-number"><span class="hljs-number">10</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Timeout: <span class="hljs-number"><span class="hljs-number">10</span></span> min per iteration # Threads: <span class="hljs-number"><span class="hljs-number">1</span></span> thread, will synchronize iterations # Benchmark mode: Average <span class="hljs-type"><span class="hljs-type">time</span></span>, <span class="hljs-type"><span class="hljs-type">time</span></span>/op # Benchmark: ru.gnkoshelev.jbreak2018.perf_tests.strings.MetricsFormatBenchmark.formatThroughPatternBenchmark # Run progress: <span class="hljs-number"><span class="hljs-number">68</span></span>,<span class="hljs-number"><span class="hljs-number">75</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">05</span></span>:<span class="hljs-number"><span class="hljs-number">45</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">2299</span></span>,<span class="hljs-number"><span class="hljs-number">834</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1192</span></span>,<span class="hljs-number"><span class="hljs-number">569</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1119</span></span>,<span class="hljs-number"><span class="hljs-number">558</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1117</span></span>,<span class="hljs-number"><span class="hljs-number">464</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1113</span></span>,<span class="hljs-number"><span class="hljs-number">444</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">1114</span></span>,<span class="hljs-number"><span class="hljs-number">229</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1113</span></span>,<span class="hljs-number"><span class="hljs-number">023</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1112</span></span>,<span class="hljs-number"><span class="hljs-number">185</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1108</span></span>,<span class="hljs-number"><span class="hljs-number">222</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1108</span></span>,<span class="hljs-number"><span class="hljs-number">988</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">1108</span></span>,<span class="hljs-number"><span class="hljs-number">674</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">1109</span></span>,<span class="hljs-number"><span class="hljs-number">976</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">1109</span></span>,<span class="hljs-number"><span class="hljs-number">831</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">1109</span></span>,<span class="hljs-number"><span class="hljs-number">610</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">1107</span></span>,<span class="hljs-number"><span class="hljs-number">814</span></span> ns/op # Run progress: <span class="hljs-number"><span class="hljs-number">70</span></span>,<span class="hljs-number"><span class="hljs-number">83</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">05</span></span>:<span class="hljs-number"><span class="hljs-number">22</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">2304</span></span>,<span class="hljs-number"><span class="hljs-number">824</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1199</span></span>,<span class="hljs-number"><span class="hljs-number">471</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1132</span></span>,<span class="hljs-number"><span class="hljs-number">885</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1129</span></span>,<span class="hljs-number"><span class="hljs-number">351</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1127</span></span>,<span class="hljs-number"><span class="hljs-number">920</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">1125</span></span>,<span class="hljs-number"><span class="hljs-number">261</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1127</span></span>,<span class="hljs-number"><span class="hljs-number">166</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1141</span></span>,<span class="hljs-number"><span class="hljs-number">141</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1124</span></span>,<span class="hljs-number"><span class="hljs-number">300</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1125</span></span>,<span class="hljs-number"><span class="hljs-number">081</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">1126</span></span>,<span class="hljs-number"><span class="hljs-number">538</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">1125</span></span>,<span class="hljs-number"><span class="hljs-number">685</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">1130</span></span>,<span class="hljs-number"><span class="hljs-number">100</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">1176</span></span>,<span class="hljs-number"><span class="hljs-number">107</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">1154</span></span>,<span class="hljs-number"><span class="hljs-number">583</span></span> ns/op # Run progress: <span class="hljs-number"><span class="hljs-number">72</span></span>,<span class="hljs-number"><span class="hljs-number">92</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">04</span></span>:<span class="hljs-number"><span class="hljs-number">59</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">2358</span></span>,<span class="hljs-number"><span class="hljs-number">123</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1352</span></span>,<span class="hljs-number"><span class="hljs-number">622</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1156</span></span>,<span class="hljs-number"><span class="hljs-number">702</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1149</span></span>,<span class="hljs-number"><span class="hljs-number">448</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1149</span></span>,<span class="hljs-number"><span class="hljs-number">654</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">1147</span></span>,<span class="hljs-number"><span class="hljs-number">214</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1180</span></span>,<span class="hljs-number"><span class="hljs-number">265</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1181</span></span>,<span class="hljs-number"><span class="hljs-number">957</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1155</span></span>,<span class="hljs-number"><span class="hljs-number">407</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1140</span></span>,<span class="hljs-number"><span class="hljs-number">645</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">1133</span></span>,<span class="hljs-number"><span class="hljs-number">507</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">1139</span></span>,<span class="hljs-number"><span class="hljs-number">044</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">1139</span></span>,<span class="hljs-number"><span class="hljs-number">680</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">1137</span></span>,<span class="hljs-number"><span class="hljs-number">071</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">1137</span></span>,<span class="hljs-number"><span class="hljs-number">626</span></span> ns/op Result "ru.gnkoshelev.jbreak2018.perf_tests.strings.MetricsFormatBenchmark.formatThroughPatternBenchmark": <span class="hljs-number"><span class="hljs-number">1131</span></span>,<span class="hljs-number"><span class="hljs-number">698</span></span> ¬±(<span class="hljs-number"><span class="hljs-number">99.9</span></span>%) <span class="hljs-number"><span class="hljs-number">14</span></span>,<span class="hljs-number"><span class="hljs-number">363</span></span> ns/op [Average] (min, avg, max) = (<span class="hljs-number"><span class="hljs-number">1107</span></span>,<span class="hljs-number"><span class="hljs-number">814</span></span>, <span class="hljs-number"><span class="hljs-number">1131</span></span>,<span class="hljs-number"><span class="hljs-number">698</span></span>, <span class="hljs-number"><span class="hljs-number">1181</span></span>,<span class="hljs-number"><span class="hljs-number">957</span></span>), stdev = <span class="hljs-number"><span class="hljs-number">21</span></span>,<span class="hljs-number"><span class="hljs-number">499</span></span> CI (<span class="hljs-number"><span class="hljs-number">99.9</span></span>%): [<span class="hljs-number"><span class="hljs-number">1117</span></span>,<span class="hljs-number"><span class="hljs-number">334</span></span>, <span class="hljs-number"><span class="hljs-number">1146</span></span>,<span class="hljs-number"><span class="hljs-number">061</span></span>] (assumes normal distribution) # JMH <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: <span class="hljs-number"><span class="hljs-number">1.20</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: JDK <span class="hljs-number"><span class="hljs-number">9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>, VM <span class="hljs-number"><span class="hljs-number">9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>+<span class="hljs-number"><span class="hljs-number">11</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">invoker</span></span>: C:\Program Files\Java\jre<span class="hljs-number"><span class="hljs-number">-9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>\bin\java.exe # VM <span class="hljs-keyword"><span class="hljs-keyword">options</span></span>: &lt;<span class="hljs-keyword"><span class="hljs-keyword">none</span></span>&gt; # Warmup: <span class="hljs-number"><span class="hljs-number">5</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Measurement: <span class="hljs-number"><span class="hljs-number">10</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Timeout: <span class="hljs-number"><span class="hljs-number">10</span></span> min per iteration # Threads: <span class="hljs-number"><span class="hljs-number">1</span></span> thread, will synchronize iterations # Benchmark mode: Average <span class="hljs-type"><span class="hljs-type">time</span></span>, <span class="hljs-type"><span class="hljs-type">time</span></span>/op # Benchmark: ru.gnkoshelev.jbreak2018.perf_tests.strings.OrdinalStringFormatBenchmark.formatThroughBuilderBenchmark # Run progress: <span class="hljs-number"><span class="hljs-number">75</span></span>,<span class="hljs-number"><span class="hljs-number">00</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">04</span></span>:<span class="hljs-number"><span class="hljs-number">36</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">60</span></span>,<span class="hljs-number"><span class="hljs-number">124</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">53</span></span>,<span class="hljs-number"><span class="hljs-number">887</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">428</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">53</span></span>,<span class="hljs-number"><span class="hljs-number">202</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">51</span></span>,<span class="hljs-number"><span class="hljs-number">629</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">54</span></span>,<span class="hljs-number"><span class="hljs-number">842</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">59</span></span>,<span class="hljs-number"><span class="hljs-number">136</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">52</span></span>,<span class="hljs-number"><span class="hljs-number">904</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">53</span></span>,<span class="hljs-number"><span class="hljs-number">913</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">52</span></span>,<span class="hljs-number"><span class="hljs-number">834</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">54</span></span>,<span class="hljs-number"><span class="hljs-number">876</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">52</span></span>,<span class="hljs-number"><span class="hljs-number">038</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">51</span></span>,<span class="hljs-number"><span class="hljs-number">615</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">53</span></span>,<span class="hljs-number"><span class="hljs-number">753</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">55</span></span>,<span class="hljs-number"><span class="hljs-number">080</span></span> ns/op # Run progress: <span class="hljs-number"><span class="hljs-number">77</span></span>,<span class="hljs-number"><span class="hljs-number">08</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">04</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">69</span></span>,<span class="hljs-number"><span class="hljs-number">893</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">70</span></span>,<span class="hljs-number"><span class="hljs-number">767</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">54</span></span>,<span class="hljs-number"><span class="hljs-number">095</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">52</span></span>,<span class="hljs-number"><span class="hljs-number">366</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">51</span></span>,<span class="hljs-number"><span class="hljs-number">154</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">53</span></span>,<span class="hljs-number"><span class="hljs-number">590</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">59</span></span>,<span class="hljs-number"><span class="hljs-number">785</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">54</span></span>,<span class="hljs-number"><span class="hljs-number">607</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">53</span></span>,<span class="hljs-number"><span class="hljs-number">504</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">53</span></span>,<span class="hljs-number"><span class="hljs-number">435</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">53</span></span>,<span class="hljs-number"><span class="hljs-number">093</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">55</span></span>,<span class="hljs-number"><span class="hljs-number">045</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">56</span></span>,<span class="hljs-number"><span class="hljs-number">632</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">53</span></span>,<span class="hljs-number"><span class="hljs-number">294</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">53</span></span>,<span class="hljs-number"><span class="hljs-number">475</span></span> ns/op # Run progress: <span class="hljs-number"><span class="hljs-number">79</span></span>,<span class="hljs-number"><span class="hljs-number">17</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span>:<span class="hljs-number"><span class="hljs-number">49</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">67</span></span>,<span class="hljs-number"><span class="hljs-number">840</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">60</span></span>,<span class="hljs-number"><span class="hljs-number">608</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">55</span></span>,<span class="hljs-number"><span class="hljs-number">115</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">51</span></span>,<span class="hljs-number"><span class="hljs-number">854</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">51</span></span>,<span class="hljs-number"><span class="hljs-number">892</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">344</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">52</span></span>,<span class="hljs-number"><span class="hljs-number">877</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">468</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">513</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">646</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">113</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">870</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">51</span></span>,<span class="hljs-number"><span class="hljs-number">113</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">52</span></span>,<span class="hljs-number"><span class="hljs-number">482</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">53</span></span>,<span class="hljs-number"><span class="hljs-number">757</span></span> ns/op Result "ru.gnkoshelev.jbreak2018.perf_tests.strings.OrdinalStringFormatBenchmark.formatThroughBuilderBenchmark": <span class="hljs-number"><span class="hljs-number">53</span></span>,<span class="hljs-number"><span class="hljs-number">221</span></span> ¬±(<span class="hljs-number"><span class="hljs-number">99.9</span></span>%) <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">691</span></span> ns/op [Average] (min, avg, max) = (<span class="hljs-number"><span class="hljs-number">49</span></span>,<span class="hljs-number"><span class="hljs-number">113</span></span>, <span class="hljs-number"><span class="hljs-number">53</span></span>,<span class="hljs-number"><span class="hljs-number">221</span></span>, <span class="hljs-number"><span class="hljs-number">59</span></span>,<span class="hljs-number"><span class="hljs-number">785</span></span>), stdev = <span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">531</span></span> CI (<span class="hljs-number"><span class="hljs-number">99.9</span></span>%): [<span class="hljs-number"><span class="hljs-number">51</span></span>,<span class="hljs-number"><span class="hljs-number">530</span></span>, <span class="hljs-number"><span class="hljs-number">54</span></span>,<span class="hljs-number"><span class="hljs-number">912</span></span>] (assumes normal distribution) # JMH <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: <span class="hljs-number"><span class="hljs-number">1.20</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: JDK <span class="hljs-number"><span class="hljs-number">9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>, VM <span class="hljs-number"><span class="hljs-number">9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>+<span class="hljs-number"><span class="hljs-number">11</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">invoker</span></span>: C:\Program Files\Java\jre<span class="hljs-number"><span class="hljs-number">-9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>\bin\java.exe # VM <span class="hljs-keyword"><span class="hljs-keyword">options</span></span>: &lt;<span class="hljs-keyword"><span class="hljs-keyword">none</span></span>&gt; # Warmup: <span class="hljs-number"><span class="hljs-number">5</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Measurement: <span class="hljs-number"><span class="hljs-number">10</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Timeout: <span class="hljs-number"><span class="hljs-number">10</span></span> min per iteration # Threads: <span class="hljs-number"><span class="hljs-number">1</span></span> thread, will synchronize iterations # Benchmark mode: Average <span class="hljs-type"><span class="hljs-type">time</span></span>, <span class="hljs-type"><span class="hljs-type">time</span></span>/op # Benchmark: ru.gnkoshelev.jbreak2018.perf_tests.strings.OrdinalStringFormatBenchmark.formatThroughConcatenationBenchmark # Run progress: <span class="hljs-number"><span class="hljs-number">81</span></span>,<span class="hljs-number"><span class="hljs-number">25</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span>:<span class="hljs-number"><span class="hljs-number">26</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">83</span></span>,<span class="hljs-number"><span class="hljs-number">417</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">68</span></span>,<span class="hljs-number"><span class="hljs-number">292</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">67</span></span>,<span class="hljs-number"><span class="hljs-number">835</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">68</span></span>,<span class="hljs-number"><span class="hljs-number">365</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">67</span></span>,<span class="hljs-number"><span class="hljs-number">227</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">70</span></span>,<span class="hljs-number"><span class="hljs-number">120</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">76</span></span>,<span class="hljs-number"><span class="hljs-number">220</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">69</span></span>,<span class="hljs-number"><span class="hljs-number">923</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">70</span></span>,<span class="hljs-number"><span class="hljs-number">066</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">70</span></span>,<span class="hljs-number"><span class="hljs-number">546</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">73</span></span>,<span class="hljs-number"><span class="hljs-number">056</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">74</span></span>,<span class="hljs-number"><span class="hljs-number">891</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">71</span></span>,<span class="hljs-number"><span class="hljs-number">014</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">71</span></span>,<span class="hljs-number"><span class="hljs-number">251</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">68</span></span>,<span class="hljs-number"><span class="hljs-number">057</span></span> ns/op # Run progress: <span class="hljs-number"><span class="hljs-number">83</span></span>,<span class="hljs-number"><span class="hljs-number">33</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">86</span></span>,<span class="hljs-number"><span class="hljs-number">203</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">70</span></span>,<span class="hljs-number"><span class="hljs-number">289</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">68</span></span>,<span class="hljs-number"><span class="hljs-number">240</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">66</span></span>,<span class="hljs-number"><span class="hljs-number">329</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">68</span></span>,<span class="hljs-number"><span class="hljs-number">189</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">70</span></span>,<span class="hljs-number"><span class="hljs-number">755</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">70</span></span>,<span class="hljs-number"><span class="hljs-number">378</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">66</span></span>,<span class="hljs-number"><span class="hljs-number">964</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">68</span></span>,<span class="hljs-number"><span class="hljs-number">902</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">66</span></span>,<span class="hljs-number"><span class="hljs-number">020</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">68</span></span>,<span class="hljs-number"><span class="hljs-number">630</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">67</span></span>,<span class="hljs-number"><span class="hljs-number">040</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">68</span></span>,<span class="hljs-number"><span class="hljs-number">076</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">66</span></span>,<span class="hljs-number"><span class="hljs-number">649</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">67</span></span>,<span class="hljs-number"><span class="hljs-number">851</span></span> ns/op # Run progress: <span class="hljs-number"><span class="hljs-number">85</span></span>,<span class="hljs-number"><span class="hljs-number">42</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">02</span></span>:<span class="hljs-number"><span class="hljs-number">41</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">80</span></span>,<span class="hljs-number"><span class="hljs-number">438</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">66</span></span>,<span class="hljs-number"><span class="hljs-number">941</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">66</span></span>,<span class="hljs-number"><span class="hljs-number">932</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">66</span></span>,<span class="hljs-number"><span class="hljs-number">243</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">65</span></span>,<span class="hljs-number"><span class="hljs-number">965</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">66</span></span>,<span class="hljs-number"><span class="hljs-number">020</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">65</span></span>,<span class="hljs-number"><span class="hljs-number">198</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">66</span></span>,<span class="hljs-number"><span class="hljs-number">240</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">65</span></span>,<span class="hljs-number"><span class="hljs-number">758</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">65</span></span>,<span class="hljs-number"><span class="hljs-number">622</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">65</span></span>,<span class="hljs-number"><span class="hljs-number">821</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">65</span></span>,<span class="hljs-number"><span class="hljs-number">357</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">66</span></span>,<span class="hljs-number"><span class="hljs-number">522</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">65</span></span>,<span class="hljs-number"><span class="hljs-number">876</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">65</span></span>,<span class="hljs-number"><span class="hljs-number">746</span></span> ns/op Result "ru.gnkoshelev.jbreak2018.perf_tests.strings.OrdinalStringFormatBenchmark.formatThroughConcatenationBenchmark": <span class="hljs-number"><span class="hljs-number">68</span></span>,<span class="hljs-number"><span class="hljs-number">486</span></span> ¬±(<span class="hljs-number"><span class="hljs-number">99.9</span></span>%) <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">936</span></span> ns/op [Average] (min, avg, max) = (<span class="hljs-number"><span class="hljs-number">65</span></span>,<span class="hljs-number"><span class="hljs-number">198</span></span>, <span class="hljs-number"><span class="hljs-number">68</span></span>,<span class="hljs-number"><span class="hljs-number">486</span></span>, <span class="hljs-number"><span class="hljs-number">76</span></span>,<span class="hljs-number"><span class="hljs-number">220</span></span>), stdev = <span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">897</span></span> CI (<span class="hljs-number"><span class="hljs-number">99.9</span></span>%): [<span class="hljs-number"><span class="hljs-number">66</span></span>,<span class="hljs-number"><span class="hljs-number">550</span></span>, <span class="hljs-number"><span class="hljs-number">70</span></span>,<span class="hljs-number"><span class="hljs-number">421</span></span>] (assumes normal distribution) # JMH <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: <span class="hljs-number"><span class="hljs-number">1.20</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: JDK <span class="hljs-number"><span class="hljs-number">9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>, VM <span class="hljs-number"><span class="hljs-number">9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>+<span class="hljs-number"><span class="hljs-number">11</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">invoker</span></span>: C:\Program Files\Java\jre<span class="hljs-number"><span class="hljs-number">-9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>\bin\java.exe # VM <span class="hljs-keyword"><span class="hljs-keyword">options</span></span>: &lt;<span class="hljs-keyword"><span class="hljs-keyword">none</span></span>&gt; # Warmup: <span class="hljs-number"><span class="hljs-number">5</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Measurement: <span class="hljs-number"><span class="hljs-number">10</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Timeout: <span class="hljs-number"><span class="hljs-number">10</span></span> min per iteration # Threads: <span class="hljs-number"><span class="hljs-number">1</span></span> thread, will synchronize iterations # Benchmark mode: Average <span class="hljs-type"><span class="hljs-type">time</span></span>, <span class="hljs-type"><span class="hljs-type">time</span></span>/op # Benchmark: ru.gnkoshelev.jbreak2018.perf_tests.strings.OrdinalStringFormatBenchmark.formatThroughMessageFormatBenchmark # Run progress: <span class="hljs-number"><span class="hljs-number">87</span></span>,<span class="hljs-number"><span class="hljs-number">50</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">02</span></span>:<span class="hljs-number"><span class="hljs-number">18</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">1721</span></span>,<span class="hljs-number"><span class="hljs-number">971</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1404</span></span>,<span class="hljs-number"><span class="hljs-number">417</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1288</span></span>,<span class="hljs-number"><span class="hljs-number">016</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1221</span></span>,<span class="hljs-number"><span class="hljs-number">914</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1148</span></span>,<span class="hljs-number"><span class="hljs-number">926</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">1167</span></span>,<span class="hljs-number"><span class="hljs-number">718</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1200</span></span>,<span class="hljs-number"><span class="hljs-number">962</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1279</span></span>,<span class="hljs-number"><span class="hljs-number">375</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1189</span></span>,<span class="hljs-number"><span class="hljs-number">680</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1194</span></span>,<span class="hljs-number"><span class="hljs-number">886</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">1155</span></span>,<span class="hljs-number"><span class="hljs-number">321</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">1263</span></span>,<span class="hljs-number"><span class="hljs-number">725</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">1216</span></span>,<span class="hljs-number"><span class="hljs-number">670</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">1214</span></span>,<span class="hljs-number"><span class="hljs-number">617</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">1183</span></span>,<span class="hljs-number"><span class="hljs-number">180</span></span> ns/op # Run progress: <span class="hljs-number"><span class="hljs-number">89</span></span>,<span class="hljs-number"><span class="hljs-number">58</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">01</span></span>:<span class="hljs-number"><span class="hljs-number">55</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">1687</span></span>,<span class="hljs-number"><span class="hljs-number">903</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1448</span></span>,<span class="hljs-number"><span class="hljs-number">192</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1379</span></span>,<span class="hljs-number"><span class="hljs-number">461</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1276</span></span>,<span class="hljs-number"><span class="hljs-number">630</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1295</span></span>,<span class="hljs-number"><span class="hljs-number">725</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">1211</span></span>,<span class="hljs-number"><span class="hljs-number">845</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1198</span></span>,<span class="hljs-number"><span class="hljs-number">077</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1212</span></span>,<span class="hljs-number"><span class="hljs-number">626</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1186</span></span>,<span class="hljs-number"><span class="hljs-number">964</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1239</span></span>,<span class="hljs-number"><span class="hljs-number">643</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">1222</span></span>,<span class="hljs-number"><span class="hljs-number">036</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">1275</span></span>,<span class="hljs-number"><span class="hljs-number">295</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">1213</span></span>,<span class="hljs-number"><span class="hljs-number">864</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">1212</span></span>,<span class="hljs-number"><span class="hljs-number">271</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">1242</span></span>,<span class="hljs-number"><span class="hljs-number">831</span></span> ns/op # Run progress: <span class="hljs-number"><span class="hljs-number">91</span></span>,<span class="hljs-number"><span class="hljs-number">67</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">01</span></span>:<span class="hljs-number"><span class="hljs-number">31</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">1765</span></span>,<span class="hljs-number"><span class="hljs-number">377</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1601</span></span>,<span class="hljs-number"><span class="hljs-number">591</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1314</span></span>,<span class="hljs-number"><span class="hljs-number">168</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1185</span></span>,<span class="hljs-number"><span class="hljs-number">941</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1187</span></span>,<span class="hljs-number"><span class="hljs-number">965</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">1188</span></span>,<span class="hljs-number"><span class="hljs-number">869</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1187</span></span>,<span class="hljs-number"><span class="hljs-number">571</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1189</span></span>,<span class="hljs-number"><span class="hljs-number">977</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1186</span></span>,<span class="hljs-number"><span class="hljs-number">874</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1188</span></span>,<span class="hljs-number"><span class="hljs-number">421</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">1195</span></span>,<span class="hljs-number"><span class="hljs-number">331</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">1190</span></span>,<span class="hljs-number"><span class="hljs-number">250</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">1216</span></span>,<span class="hljs-number"><span class="hljs-number">980</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">1189</span></span>,<span class="hljs-number"><span class="hljs-number">504</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">1221</span></span>,<span class="hljs-number"><span class="hljs-number">858</span></span> ns/op Result "ru.gnkoshelev.jbreak2018.perf_tests.strings.OrdinalStringFormatBenchmark.formatThroughMessageFormatBenchmark": <span class="hljs-number"><span class="hljs-number">1207</span></span>,<span class="hljs-number"><span class="hljs-number">907</span></span> ¬±(<span class="hljs-number"><span class="hljs-number">99.9</span></span>%) <span class="hljs-number"><span class="hljs-number">19</span></span>,<span class="hljs-number"><span class="hljs-number">414</span></span> ns/op [Average] (min, avg, max) = (<span class="hljs-number"><span class="hljs-number">1155</span></span>,<span class="hljs-number"><span class="hljs-number">321</span></span>, <span class="hljs-number"><span class="hljs-number">1207</span></span>,<span class="hljs-number"><span class="hljs-number">907</span></span>, <span class="hljs-number"><span class="hljs-number">1279</span></span>,<span class="hljs-number"><span class="hljs-number">375</span></span>), stdev = <span class="hljs-number"><span class="hljs-number">29</span></span>,<span class="hljs-number"><span class="hljs-number">058</span></span> CI (<span class="hljs-number"><span class="hljs-number">99.9</span></span>%): [<span class="hljs-number"><span class="hljs-number">1188</span></span>,<span class="hljs-number"><span class="hljs-number">493</span></span>, <span class="hljs-number"><span class="hljs-number">1227</span></span>,<span class="hljs-number"><span class="hljs-number">322</span></span>] (assumes normal distribution) # JMH <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: <span class="hljs-number"><span class="hljs-number">1.20</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: JDK <span class="hljs-number"><span class="hljs-number">9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>, VM <span class="hljs-number"><span class="hljs-number">9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>+<span class="hljs-number"><span class="hljs-number">11</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">invoker</span></span>: C:\Program Files\Java\jre<span class="hljs-number"><span class="hljs-number">-9.0</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>\bin\java.exe # VM <span class="hljs-keyword"><span class="hljs-keyword">options</span></span>: &lt;<span class="hljs-keyword"><span class="hljs-keyword">none</span></span>&gt; # Warmup: <span class="hljs-number"><span class="hljs-number">5</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Measurement: <span class="hljs-number"><span class="hljs-number">10</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Timeout: <span class="hljs-number"><span class="hljs-number">10</span></span> min per iteration # Threads: <span class="hljs-number"><span class="hljs-number">1</span></span> thread, will synchronize iterations # Benchmark mode: Average <span class="hljs-type"><span class="hljs-type">time</span></span>, <span class="hljs-type"><span class="hljs-type">time</span></span>/op # Benchmark: ru.gnkoshelev.jbreak2018.perf_tests.strings.OrdinalStringFormatBenchmark.formatThroughPatternBenchmark # Run progress: <span class="hljs-number"><span class="hljs-number">93</span></span>,<span class="hljs-number"><span class="hljs-number">75</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">01</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">3552</span></span>,<span class="hljs-number"><span class="hljs-number">804</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">2018</span></span>,<span class="hljs-number"><span class="hljs-number">183</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">2019</span></span>,<span class="hljs-number"><span class="hljs-number">489</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1971</span></span>,<span class="hljs-number"><span class="hljs-number">642</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1958</span></span>,<span class="hljs-number"><span class="hljs-number">374</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">1951</span></span>,<span class="hljs-number"><span class="hljs-number">968</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1950</span></span>,<span class="hljs-number"><span class="hljs-number">212</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1953</span></span>,<span class="hljs-number"><span class="hljs-number">115</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1961</span></span>,<span class="hljs-number"><span class="hljs-number">593</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1958</span></span>,<span class="hljs-number"><span class="hljs-number">681</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">1958</span></span>,<span class="hljs-number"><span class="hljs-number">468</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">1951</span></span>,<span class="hljs-number"><span class="hljs-number">402</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">1953</span></span>,<span class="hljs-number"><span class="hljs-number">397</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">1952</span></span>,<span class="hljs-number"><span class="hljs-number">821</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">2014</span></span>,<span class="hljs-number"><span class="hljs-number">765</span></span> ns/op # Run progress: <span class="hljs-number"><span class="hljs-number">95</span></span>,<span class="hljs-number"><span class="hljs-number">83</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">45</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">3928</span></span>,<span class="hljs-number"><span class="hljs-number">522</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">2167</span></span>,<span class="hljs-number"><span class="hljs-number">959</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">2066</span></span>,<span class="hljs-number"><span class="hljs-number">428</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1972</span></span>,<span class="hljs-number"><span class="hljs-number">538</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1948</span></span>,<span class="hljs-number"><span class="hljs-number">498</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">1948</span></span>,<span class="hljs-number"><span class="hljs-number">707</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">2003</span></span>,<span class="hljs-number"><span class="hljs-number">769</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1974</span></span>,<span class="hljs-number"><span class="hljs-number">530</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1944</span></span>,<span class="hljs-number"><span class="hljs-number">253</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1973</span></span>,<span class="hljs-number"><span class="hljs-number">301</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">2066</span></span>,<span class="hljs-number"><span class="hljs-number">764</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">2128</span></span>,<span class="hljs-number"><span class="hljs-number">009</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">2042</span></span>,<span class="hljs-number"><span class="hljs-number">947</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">2052</span></span>,<span class="hljs-number"><span class="hljs-number">664</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">2049</span></span>,<span class="hljs-number"><span class="hljs-number">175</span></span> ns/op # Run progress: <span class="hljs-number"><span class="hljs-number">97</span></span>,<span class="hljs-number"><span class="hljs-number">92</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">22</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">2954</span></span>,<span class="hljs-number"><span class="hljs-number">069</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">2011</span></span>,<span class="hljs-number"><span class="hljs-number">884</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1934</span></span>,<span class="hljs-number"><span class="hljs-number">112</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1929</span></span>,<span class="hljs-number"><span class="hljs-number">191</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1924</span></span>,<span class="hljs-number"><span class="hljs-number">142</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">1966</span></span>,<span class="hljs-number"><span class="hljs-number">331</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1972</span></span>,<span class="hljs-number"><span class="hljs-number">040</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1935</span></span>,<span class="hljs-number"><span class="hljs-number">918</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1917</span></span>,<span class="hljs-number"><span class="hljs-number">124</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1931</span></span>,<span class="hljs-number"><span class="hljs-number">921</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">1915</span></span>,<span class="hljs-number"><span class="hljs-number">141</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">1963</span></span>,<span class="hljs-number"><span class="hljs-number">801</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">1934</span></span>,<span class="hljs-number"><span class="hljs-number">464</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">1931</span></span>,<span class="hljs-number"><span class="hljs-number">712</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">1921</span></span>,<span class="hljs-number"><span class="hljs-number">676</span></span> ns/op Result "ru.gnkoshelev.jbreak2018.perf_tests.strings.OrdinalStringFormatBenchmark.formatThroughPatternBenchmark": <span class="hljs-number"><span class="hljs-number">1972</span></span>,<span class="hljs-number"><span class="hljs-number">689</span></span> ¬±(<span class="hljs-number"><span class="hljs-number">99.9</span></span>%) <span class="hljs-number"><span class="hljs-number">33</span></span>,<span class="hljs-number"><span class="hljs-number">432</span></span> ns/op [Average] (min, avg, max) = (<span class="hljs-number"><span class="hljs-number">1915</span></span>,<span class="hljs-number"><span class="hljs-number">141</span></span>, <span class="hljs-number"><span class="hljs-number">1972</span></span>,<span class="hljs-number"><span class="hljs-number">689</span></span>, <span class="hljs-number"><span class="hljs-number">2128</span></span>,<span class="hljs-number"><span class="hljs-number">009</span></span>), stdev = <span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">040</span></span> CI (<span class="hljs-number"><span class="hljs-number">99.9</span></span>%): [<span class="hljs-number"><span class="hljs-number">1939</span></span>,<span class="hljs-number"><span class="hljs-number">257</span></span>, <span class="hljs-number"><span class="hljs-number">2006</span></span>,<span class="hljs-number"><span class="hljs-number">121</span></span>] (assumes normal distribution) # Run complete. Total <span class="hljs-type"><span class="hljs-type">time</span></span>: <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">18</span></span>:<span class="hljs-number"><span class="hljs-number">23</span></span> Benchmark (N) Mode Cnt Score Error Units ImmutableStringBenchmark.builderBenchmark <span class="hljs-number"><span class="hljs-number">10</span></span> avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">160</span></span> ¬± <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">004</span></span> us/op ImmutableStringBenchmark.builderBenchmark <span class="hljs-number"><span class="hljs-number">100</span></span> avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">438</span></span> ¬± <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">107</span></span> us/op ImmutableStringBenchmark.builderBenchmark <span class="hljs-number"><span class="hljs-number">1000</span></span> avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">963</span></span> ¬± <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">493</span></span> us/op ImmutableStringBenchmark.builderBenchmark <span class="hljs-number"><span class="hljs-number">10000</span></span> avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">175</span></span>,<span class="hljs-number"><span class="hljs-number">407</span></span> ¬± <span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">039</span></span> us/op ImmutableStringBenchmark.concatenationBenchmark <span class="hljs-number"><span class="hljs-number">10</span></span> avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">283</span></span> ¬± <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">007</span></span> us/op ImmutableStringBenchmark.concatenationBenchmark <span class="hljs-number"><span class="hljs-number">100</span></span> avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">532</span></span> ¬± <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">220</span></span> us/op ImmutableStringBenchmark.concatenationBenchmark <span class="hljs-number"><span class="hljs-number">1000</span></span> avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">612</span></span>,<span class="hljs-number"><span class="hljs-number">002</span></span> ¬± <span class="hljs-number"><span class="hljs-number">9</span></span>,<span class="hljs-number"><span class="hljs-number">759</span></span> us/op ImmutableStringBenchmark.concatenationBenchmark <span class="hljs-number"><span class="hljs-number">10000</span></span> avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">59119</span></span>,<span class="hljs-number"><span class="hljs-number">874</span></span> ¬± <span class="hljs-number"><span class="hljs-number">841</span></span>,<span class="hljs-number"><span class="hljs-number">652</span></span> us/op MetricsFormatBenchmark.formatThroughBuilderBenchmark N/A avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">207</span></span>,<span class="hljs-number"><span class="hljs-number">168</span></span> ¬± <span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">245</span></span> ns/op MetricsFormatBenchmark.formatThroughConcatenationBenchmark N/A avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">56</span></span>,<span class="hljs-number"><span class="hljs-number">220</span></span> ¬± <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">051</span></span> ns/op MetricsFormatBenchmark.formatThroughMessageFormatBuilder N/A avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">594</span></span>,<span class="hljs-number"><span class="hljs-number">952</span></span> ¬± <span class="hljs-number"><span class="hljs-number">19</span></span>,<span class="hljs-number"><span class="hljs-number">025</span></span> ns/op MetricsFormatBenchmark.formatThroughPatternBenchmark N/A avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">1131</span></span>,<span class="hljs-number"><span class="hljs-number">698</span></span> ¬± <span class="hljs-number"><span class="hljs-number">14</span></span>,<span class="hljs-number"><span class="hljs-number">363</span></span> ns/op OrdinalStringFormatBenchmark.formatThroughBuilderBenchmark N/A avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">53</span></span>,<span class="hljs-number"><span class="hljs-number">221</span></span> ¬± <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">691</span></span> ns/op OrdinalStringFormatBenchmark.formatThroughConcatenationBenchmark N/A avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">68</span></span>,<span class="hljs-number"><span class="hljs-number">486</span></span> ¬± <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">936</span></span> ns/op OrdinalStringFormatBenchmark.formatThroughMessageFormatBenchmark N/A avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">1207</span></span>,<span class="hljs-number"><span class="hljs-number">907</span></span> ¬± <span class="hljs-number"><span class="hljs-number">19</span></span>,<span class="hljs-number"><span class="hljs-number">414</span></span> ns/op OrdinalStringFormatBenchmark.formatThroughPatternBenchmark N/A avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">1972</span></span>,<span class="hljs-number"><span class="hljs-number">689</span></span> ¬± <span class="hljs-number"><span class="hljs-number">33</span></span>,<span class="hljs-number"><span class="hljs-number">432</span></span> ns/op</code> </pre></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unexpected result! </font><font style="vertical-align: inherit;">Perhaps even for those who closely followed the changes in Java 9: </font></font><a href="http://openjdk.java.net/jeps/280"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JEP-280</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Look at the generated bytecode for MetricsFormat:</font></font><br><pre> <code class="hljs cs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> java.lang.<span class="hljs-function"><span class="hljs-function">String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">formatThroughConcatenation</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">java.lang.String, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">long</span></span></span></span></span><span class="hljs-function">)</span></span>; Code: <span class="hljs-number"><span class="hljs-number">0</span></span>: aload_0 <span class="hljs-number"><span class="hljs-number">1</span></span>: iload_1 <span class="hljs-number"><span class="hljs-number">2</span></span>: lload_2 <span class="hljs-number"><span class="hljs-number">3</span></span>: invokedynamic <span class="hljs-meta"><span class="hljs-meta">#7, 0 // InvokeDynamic #0:makeConcatWithConstants:(Ljava/lang/String;IJ)Ljava/lang/String; 8: areturn</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and bytecode for OrdinalStringFormat: </font></font><br><pre> <code class="hljs vhdl"> public static java.lang.<span class="hljs-built_in"><span class="hljs-built_in">String</span></span> formatThroughConcatenation(java.lang.<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>, java.lang.<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>, java.lang.<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>, java.lang.<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>); Code: <span class="hljs-number"><span class="hljs-number">0</span></span>: aload_0 <span class="hljs-number"><span class="hljs-number">1</span></span>: aload_1 <span class="hljs-number"><span class="hljs-number">2</span></span>: aload_2 <span class="hljs-number"><span class="hljs-number">3</span></span>: aload_3 <span class="hljs-number"><span class="hljs-number">4</span></span>: invokedynamic #<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span> // InvokeDynamic #<span class="hljs-number"><span class="hljs-number">0</span></span>:makeConcatWithConstants:(Ljava/lang/<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>;Ljava/lang/<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>;Ljava/lang/<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>;Ljava/lang/<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>;)Ljava/lang/<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>; <span class="hljs-number"><span class="hljs-number">9</span></span>: areturn</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For the generation of specialized methods </font></font><code>makeConcatWithConstants</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">is responsible </font></font><a href="https://docs.oracle.com/javase/9/docs/api/java/lang/invoke/StringConcatFactory.html"><code>StringConcatFactory</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. The specialization is that a separate method is generated for each case: a method has been </font></font><code>MetricsFormat</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">created </font><font style="vertical-align: inherit;">for the </font></font><code>makeConcatWithConstants</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">receiver </font></font><code>String</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>int</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and </font></font><code>long</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, and the </font></font><code>MetricsFormat.formatThroughConcatenation()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">loading of string constants has gone </font><font style="vertical-align: inherit;">out of the body </font><font style="vertical-align: inherit;">(the ldc opcode). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">By default, </font></font><code>StringConcatFactory</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">the strategy </font></font><code>Strategy.MH_INLINE_SIZED_EXACT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">is </font><font style="vertical-align: inherit;">executed </font><font style="vertical-align: inherit;">‚Äî generation using </font></font><code>MethodHandle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a preliminary calculation of the buffer size equal to the size of the resulting string:</font></font><br><pre> <code class="java hljs"> <span class="hljs-comment"><span class="hljs-comment">/** * &lt;p&gt;&lt;b&gt;{</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@link</span></span></span><span class="hljs-comment"> Strategy#MH_INLINE_SIZED_EXACT}: "MethodHandles inline, * sized exactly".&lt;/b&gt; * * &lt;p&gt;This strategy replicates what StringBuilders are doing: it builds the * byte[] array on its own and passes that byte[] array to String * constructor. This strategy requires access to some private APIs in JDK, * most notably, the read-only Integer/Long.stringSize methods that measure * the character length of the integers, and the private String constructor * that accepts byte[] arrays without copying. While this strategy assumes a * particular implementation details for String, this opens the door for * building a very optimal concatenation sequence. This is the only strategy * that requires porting if there are private JDK changes occur. */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MethodHandleInlineCopyStrategy</span></span></span><span class="hljs-class"> </span></span>{ }</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">This made it possible to bypass the problems in formatting the string with the metrics observed in the generated code for Java 8. But this may not always happen, as in the case of the example from our task - the result is about a quarter worse. </font><font style="vertical-align: inherit;">The result was worse both </font></font><code>StringBuilder</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in relation to and in relation to the result in Java 8.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> OptimizeStringConcat </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">An interesting fact is that the method </font></font><code>MetricsFormat.formatThroughConcatenation()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">showed 4 times the best result compared to </font></font><code>MetricsFormat.formatThroughBuilder()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">! </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The fact is that it is not </font></font><code>makeConcatWithConstants</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">as fast as the call method is not well optimized </font></font><code>StringBuilder</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. As </font></font><a href="https://habrahabr.ru/users/apangin/" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">apangin</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> correctly noted </font><font style="vertical-align: inherit;">in the comments below: replacing the timestamp type from long with int can reveal that the difference between the two implementations will not be so significant. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The peculiarity of this example is that it </font></font><code>-XX:+OptimizeStringConcat</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">does not work for </font></font><code>StringBuilder.append(long)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, and the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Indify String Concatenation</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mechanism that appeared in Java 9 </font><font style="vertical-align: inherit;">does not have this disadvantage.</font></font><br><br><h2>  Conclusion </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Compile-time optimization of concatenations, which can be read in the section of the specification, which has already been referred to earlier ( </font></font><a href="https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15.18.1</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), are also </font><font style="vertical-align: inherit;">beyond the scope of the discussion </font><font style="vertical-align: inherit;">, which is also quite interesting.</font></font><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Excerpt from specification</font></font></b> <div class="spoiler_text"><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Example 15.18.1-1. </font><font style="vertical-align: inherit;">String Concatenation </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The example expression:</font></font><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> "The square root of 2 is" + Math.sqrt (2) </font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> produces the result: </font></font><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> "The square root of 2 is 1.4142135623730952" </font></font></blockquote><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It is syntactically left-associative, no matter if it is determined. </font><font style="vertical-align: inherit;">In some cases, care is required. </font><font style="vertical-align: inherit;">For example, the expression:</font></font><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> a + b + c </font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> is always regarded as meaning: </font></font><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (a + b) + c </font></font></blockquote><br> Therefore the result of the expression: <br><blockquote> 1 + 2 + " fiddlers" </blockquote><br> is: <br><blockquote> ¬´3 fiddlers¬ª </blockquote><br> but the result of: <br><blockquote> ¬´fiddlers ¬ª + 1 + 2 </blockquote><br> is: <br><blockquote> ¬´fiddlers 12¬ª </blockquote><br></blockquote></div></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">And the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">unchained</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> calls </font></font><code>StringBuilder.append()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and the concatenations broken into several independent actions </font><font style="vertical-align: inherit;">were ignored </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Although ... </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">That's for such methods</font></font><br><pre> <code class="java hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">formatThroughConcatenation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String metrics, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> value, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">long</span></span></span></span><span class="hljs-function"><span class="hljs-params"> timestamp)</span></span></span><span class="hljs-function"> </span></span>{ String result = metrics + <span class="hljs-string"><span class="hljs-string">" "</span></span>; result += value + <span class="hljs-string"><span class="hljs-string">" "</span></span>; result += timestamp; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">formatThroughBuilder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String metrics, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> value, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">long</span></span></span></span><span class="hljs-function"><span class="hljs-params"> timestamp)</span></span></span><span class="hljs-function"> </span></span>{ StringBuilder sb = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StringBuilder(metrics); sb.append(<span class="hljs-string"><span class="hljs-string">" "</span></span>); sb.append(value); sb.append(<span class="hljs-string"><span class="hljs-string">" "</span></span>); sb.append(timestamp); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sb.toString(); }</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> This bytecode is generated: </font></font><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Baytkod</font></font></b> <div class="spoiler_text"><pre> <code class="hljs pgsql"> <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static java.lang.String formatThroughConcatenation(java.lang.String, <span class="hljs-type"><span class="hljs-type">int</span></span>, long); Code: <span class="hljs-number"><span class="hljs-number">0</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> #<span class="hljs-number"><span class="hljs-number">7</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> java/lang/StringBuilder <span class="hljs-number"><span class="hljs-number">3</span></span>: dup <span class="hljs-number"><span class="hljs-number">4</span></span>: invokespecial #<span class="hljs-number"><span class="hljs-number">8</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span> java/lang/StringBuilder."&lt;init&gt;":()V <span class="hljs-number"><span class="hljs-number">7</span></span>: aload_0 <span class="hljs-number"><span class="hljs-number">8</span></span>: invokevirtual #<span class="hljs-number"><span class="hljs-number">9</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span> java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder; <span class="hljs-number"><span class="hljs-number">11</span></span>: ldc #<span class="hljs-number"><span class="hljs-number">10</span></span> // String <span class="hljs-number"><span class="hljs-number">13</span></span>: invokevirtual #<span class="hljs-number"><span class="hljs-number">9</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span> java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder; <span class="hljs-number"><span class="hljs-number">16</span></span>: invokevirtual #<span class="hljs-number"><span class="hljs-number">11</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span> java/lang/StringBuilder.toString:()Ljava/lang/String; <span class="hljs-number"><span class="hljs-number">19</span></span>: ast ore <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">21</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> #<span class="hljs-number"><span class="hljs-number">7</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> java/lang/StringBuilder <span class="hljs-number"><span class="hljs-number">24</span></span>: dup <span class="hljs-number"><span class="hljs-number">25</span></span>: invokespecial #<span class="hljs-number"><span class="hljs-number">8</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span> java/lang/StringBuilder."&lt;init&gt;":()V <span class="hljs-number"><span class="hljs-number">28</span></span>: aload <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">30</span></span>: invokevirtual #<span class="hljs-number"><span class="hljs-number">9</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span> java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder; <span class="hljs-number"><span class="hljs-number">33</span></span>: iload_1 <span class="hljs-number"><span class="hljs-number">34</span></span>: invokevirtual #<span class="hljs-number"><span class="hljs-number">12</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span> java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder; <span class="hljs-number"><span class="hljs-number">37</span></span>: ldc #<span class="hljs-number"><span class="hljs-number">10</span></span> // String <span class="hljs-number"><span class="hljs-number">39</span></span>: invokevirtual #<span class="hljs-number"><span class="hljs-number">9</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span> java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder; <span class="hljs-number"><span class="hljs-number">42</span></span>: invokevirtual #<span class="hljs-number"><span class="hljs-number">11</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span> java/lang/StringBuilder.toString:()Ljava/lang/String; <span class="hljs-number"><span class="hljs-number">45</span></span>: astore <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">47</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> #<span class="hljs-number"><span class="hljs-number">7</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> java/lang/StringBuilder <span class="hljs-number"><span class="hljs-number">50</span></span>: dup <span class="hljs-number"><span class="hljs-number">51</span></span>: invokespecial #<span class="hljs-number"><span class="hljs-number">8</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span> java/lang/StringBuilder."&lt;init&gt;":()V <span class="hljs-number"><span class="hljs-number">54</span></span>: aload <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">56</span></span>: invokevirtual #<span class="hljs-number"><span class="hljs-number">9</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span> java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder; <span class="hljs-number"><span class="hljs-number">59</span></span>: lload_2 <span class="hljs-number"><span class="hljs-number">60</span></span>: invokevirtual #<span class="hljs-number"><span class="hljs-number">13</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span> java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder; <span class="hljs-number"><span class="hljs-number">63</span></span>: invokevirtual #<span class="hljs-number"><span class="hljs-number">11</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span> java/lang/StringBuilder.toString:()Ljava/lang/String; <span class="hljs-number"><span class="hljs-number">66</span></span>: astore <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">68</span></span>: aload <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">70</span></span>: areturn <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static java.lang.String formatThroughBuilder(java.lang.String, <span class="hljs-type"><span class="hljs-type">int</span></span>, long); Code: <span class="hljs-number"><span class="hljs-number">0</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> #<span class="hljs-number"><span class="hljs-number">7</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> java/lang/StringBuilder <span class="hljs-number"><span class="hljs-number">3</span></span>: dup <span class="hljs-number"><span class="hljs-number">4</span></span>: aload_0 <span class="hljs-number"><span class="hljs-number">5</span></span>: invokespecial #<span class="hljs-number"><span class="hljs-number">14</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span> java/lang/StringBuilder."&lt;init&gt;":(Ljava/lang/String;)V <span class="hljs-number"><span class="hljs-number">8</span></span>: astore <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>: aload <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">12</span></span>: ldc #<span class="hljs-number"><span class="hljs-number">10</span></span> // String <span class="hljs-number"><span class="hljs-number">14</span></span>: invokevirtual #<span class="hljs-number"><span class="hljs-number">9</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span> java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder; <span class="hljs-number"><span class="hljs-number">17</span></span>: pop <span class="hljs-number"><span class="hljs-number">18</span></span>: aload <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">20</span></span>: iload_1 <span class="hljs-number"><span class="hljs-number">21</span></span>: invokevirtual #<span class="hljs-number"><span class="hljs-number">12</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span> java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder; <span class="hljs-number"><span class="hljs-number">24</span></span>: pop <span class="hljs-number"><span class="hljs-number">25</span></span>: aload <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">27</span></span>: ldc #<span class="hljs-number"><span class="hljs-number">10</span></span> // String <span class="hljs-number"><span class="hljs-number">29</span></span>: invokevirtual #<span class="hljs-number"><span class="hljs-number">9</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span> java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder; <span class="hljs-number"><span class="hljs-number">32</span></span>: pop <span class="hljs-number"><span class="hljs-number">33</span></span>: aload <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">35</span></span>: lload_2 <span class="hljs-number"><span class="hljs-number">36</span></span>: invokevirtual #<span class="hljs-number"><span class="hljs-number">13</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span> java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder; <span class="hljs-number"><span class="hljs-number">39</span></span>: pop <span class="hljs-number"><span class="hljs-number">40</span></span>: aload <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">42</span></span>: invokevirtual #<span class="hljs-number"><span class="hljs-number">11</span></span> // <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span> java/lang/StringBuilder.toString:()Ljava/lang/String; <span class="hljs-number"><span class="hljs-number">45</span></span>: areturn</code> </pre></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In both cases, it is clear that javac made no attempt to optimize this. </font><font style="vertical-align: inherit;">In this case, in the case of concatenation, 3 instances of StringBuilder are now created, the second method is also heavier. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">How did this affect performance?</font></font><br><pre> <code class="hljs vhdl">Benchmark Mode Cnt Score <span class="hljs-literal"><span class="hljs-literal">Error</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Units</span></span> Metrics...BuilderBenchmark avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">196</span></span>,<span class="hljs-number"><span class="hljs-number">029</span></span> ¬± <span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">408</span></span> ns/op Metrics...ConcatenationBenchmark avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span>,<span class="hljs-number"><span class="hljs-number">483</span></span> ¬± <span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">958</span></span> ns/op Metrics...MessageFormatBuilder avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">742</span></span>,<span class="hljs-number"><span class="hljs-number">672</span></span> ¬± <span class="hljs-number"><span class="hljs-number">12</span></span>,<span class="hljs-number"><span class="hljs-number">152</span></span> ns/op Metrics...PatternBenchmark avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">1460</span></span>,<span class="hljs-number"><span class="hljs-number">832</span></span> ¬± <span class="hljs-number"><span class="hljs-number">24</span></span>,<span class="hljs-number"><span class="hljs-number">075</span></span> ns/op</code> </pre><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Benchmark results entirely</font></font></b> <div class="spoiler_text"><pre> <code class="hljs pgsql"># JMH <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: <span class="hljs-number"><span class="hljs-number">1.20</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: JDK <span class="hljs-number"><span class="hljs-number">1.8</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>_161, VM <span class="hljs-number"><span class="hljs-number">25.161</span></span>-b12 # VM <span class="hljs-keyword"><span class="hljs-keyword">invoker</span></span>: C:\Program Files\Java\jre1<span class="hljs-number"><span class="hljs-number">.8</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>_161\bin\java.exe # VM <span class="hljs-keyword"><span class="hljs-keyword">options</span></span>: &lt;<span class="hljs-keyword"><span class="hljs-keyword">none</span></span>&gt; # Warmup: <span class="hljs-number"><span class="hljs-number">5</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Measurement: <span class="hljs-number"><span class="hljs-number">10</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Timeout: <span class="hljs-number"><span class="hljs-number">10</span></span> min per iteration # Threads: <span class="hljs-number"><span class="hljs-number">1</span></span> thread, will synchronize iterations # Benchmark mode: Average <span class="hljs-type"><span class="hljs-type">time</span></span>, <span class="hljs-type"><span class="hljs-type">time</span></span>/op # Benchmark: ru.gnkoshelev.jbreak2018.perf_tests.strings.MetricsFormatBenchmark.formatThroughBuilderBenchmark # Run progress: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">00</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">04</span></span>:<span class="hljs-number"><span class="hljs-number">30</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">271</span></span>,<span class="hljs-number"><span class="hljs-number">429</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">196</span></span>,<span class="hljs-number"><span class="hljs-number">309</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">199</span></span>,<span class="hljs-number"><span class="hljs-number">026</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">204</span></span>,<span class="hljs-number"><span class="hljs-number">715</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">211</span></span>,<span class="hljs-number"><span class="hljs-number">038</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">203</span></span>,<span class="hljs-number"><span class="hljs-number">765</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">222</span></span>,<span class="hljs-number"><span class="hljs-number">851</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">206</span></span>,<span class="hljs-number"><span class="hljs-number">074</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">190</span></span>,<span class="hljs-number"><span class="hljs-number">166</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">194</span></span>,<span class="hljs-number"><span class="hljs-number">417</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">193</span></span>,<span class="hljs-number"><span class="hljs-number">172</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">198</span></span>,<span class="hljs-number"><span class="hljs-number">825</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">195</span></span>,<span class="hljs-number"><span class="hljs-number">664</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">199</span></span>,<span class="hljs-number"><span class="hljs-number">013</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">193</span></span>,<span class="hljs-number"><span class="hljs-number">255</span></span> ns/op # Run progress: <span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">33</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">04</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">260</span></span>,<span class="hljs-number"><span class="hljs-number">478</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">187</span></span>,<span class="hljs-number"><span class="hljs-number">885</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">190</span></span>,<span class="hljs-number"><span class="hljs-number">952</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">190</span></span>,<span class="hljs-number"><span class="hljs-number">522</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">188</span></span>,<span class="hljs-number"><span class="hljs-number">620</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">189</span></span>,<span class="hljs-number"><span class="hljs-number">690</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">189</span></span>,<span class="hljs-number"><span class="hljs-number">475</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">190</span></span>,<span class="hljs-number"><span class="hljs-number">417</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">189</span></span>,<span class="hljs-number"><span class="hljs-number">153</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">188</span></span>,<span class="hljs-number"><span class="hljs-number">654</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">195</span></span>,<span class="hljs-number"><span class="hljs-number">455</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">196</span></span>,<span class="hljs-number"><span class="hljs-number">520</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">198</span></span>,<span class="hljs-number"><span class="hljs-number">637</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">197</span></span>,<span class="hljs-number"><span class="hljs-number">228</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">192</span></span>,<span class="hljs-number"><span class="hljs-number">514</span></span> ns/op # Run progress: <span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">67</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span>:<span class="hljs-number"><span class="hljs-number">49</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">264</span></span>,<span class="hljs-number"><span class="hljs-number">150</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">189</span></span>,<span class="hljs-number"><span class="hljs-number">343</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">192</span></span>,<span class="hljs-number"><span class="hljs-number">978</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">192</span></span>,<span class="hljs-number"><span class="hljs-number">287</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">191</span></span>,<span class="hljs-number"><span class="hljs-number">892</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">196</span></span>,<span class="hljs-number"><span class="hljs-number">412</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">193</span></span>,<span class="hljs-number"><span class="hljs-number">130</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">193</span></span>,<span class="hljs-number"><span class="hljs-number">759</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">194</span></span>,<span class="hljs-number"><span class="hljs-number">552</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">194</span></span>,<span class="hljs-number"><span class="hljs-number">657</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">194</span></span>,<span class="hljs-number"><span class="hljs-number">341</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">196</span></span>,<span class="hljs-number"><span class="hljs-number">031</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">195</span></span>,<span class="hljs-number"><span class="hljs-number">504</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">203</span></span>,<span class="hljs-number"><span class="hljs-number">200</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">194</span></span>,<span class="hljs-number"><span class="hljs-number">339</span></span> ns/op Result "ru.gnkoshelev.jbreak2018.perf_tests.strings.MetricsFormatBenchmark.formatThroughBuilderBenchmark": <span class="hljs-number"><span class="hljs-number">196</span></span>,<span class="hljs-number"><span class="hljs-number">029</span></span> ¬±(<span class="hljs-number"><span class="hljs-number">99.9</span></span>%) <span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">408</span></span> ns/op [Average] (min, avg, max) = (<span class="hljs-number"><span class="hljs-number">188</span></span>,<span class="hljs-number"><span class="hljs-number">654</span></span>, <span class="hljs-number"><span class="hljs-number">196</span></span>,<span class="hljs-number"><span class="hljs-number">029</span></span>, <span class="hljs-number"><span class="hljs-number">222</span></span>,<span class="hljs-number"><span class="hljs-number">851</span></span>), stdev = <span class="hljs-number"><span class="hljs-number">6</span></span>,<span class="hljs-number"><span class="hljs-number">598</span></span> CI (<span class="hljs-number"><span class="hljs-number">99.9</span></span>%): [<span class="hljs-number"><span class="hljs-number">191</span></span>,<span class="hljs-number"><span class="hljs-number">621</span></span>, <span class="hljs-number"><span class="hljs-number">200</span></span>,<span class="hljs-number"><span class="hljs-number">437</span></span>] (assumes normal distribution) # JMH <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: <span class="hljs-number"><span class="hljs-number">1.20</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: JDK <span class="hljs-number"><span class="hljs-number">1.8</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>_161, VM <span class="hljs-number"><span class="hljs-number">25.161</span></span>-b12 # VM <span class="hljs-keyword"><span class="hljs-keyword">invoker</span></span>: C:\Program Files\Java\jre1<span class="hljs-number"><span class="hljs-number">.8</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>_161\bin\java.exe # VM <span class="hljs-keyword"><span class="hljs-keyword">options</span></span>: &lt;<span class="hljs-keyword"><span class="hljs-keyword">none</span></span>&gt; # Warmup: <span class="hljs-number"><span class="hljs-number">5</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Measurement: <span class="hljs-number"><span class="hljs-number">10</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Timeout: <span class="hljs-number"><span class="hljs-number">10</span></span> min per iteration # Threads: <span class="hljs-number"><span class="hljs-number">1</span></span> thread, will synchronize iterations # Benchmark mode: Average <span class="hljs-type"><span class="hljs-type">time</span></span>, <span class="hljs-type"><span class="hljs-type">time</span></span>/op # Benchmark: ru.gnkoshelev.jbreak2018.perf_tests.strings.MetricsFormatBenchmark.formatThroughConcatenationBenchmark # Run progress: <span class="hljs-number"><span class="hljs-number">25</span></span>,<span class="hljs-number"><span class="hljs-number">00</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span>:<span class="hljs-number"><span class="hljs-number">26</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">631</span></span>,<span class="hljs-number"><span class="hljs-number">123</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">422</span></span>,<span class="hljs-number"><span class="hljs-number">155</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">426</span></span>,<span class="hljs-number"><span class="hljs-number">209</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">448</span></span>,<span class="hljs-number"><span class="hljs-number">415</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">446</span></span>,<span class="hljs-number"><span class="hljs-number">539</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">422</span></span>,<span class="hljs-number"><span class="hljs-number">996</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">475</span></span>,<span class="hljs-number"><span class="hljs-number">941</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">461</span></span>,<span class="hljs-number"><span class="hljs-number">148</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">431</span></span>,<span class="hljs-number"><span class="hljs-number">991</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">450</span></span>,<span class="hljs-number"><span class="hljs-number">734</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">516</span></span>,<span class="hljs-number"><span class="hljs-number">239</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">431</span></span>,<span class="hljs-number"><span class="hljs-number">390</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">432</span></span>,<span class="hljs-number"><span class="hljs-number">352</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">452</span></span>,<span class="hljs-number"><span class="hljs-number">826</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">425</span></span>,<span class="hljs-number"><span class="hljs-number">379</span></span> ns/op # Run progress: <span class="hljs-number"><span class="hljs-number">33</span></span>,<span class="hljs-number"><span class="hljs-number">33</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">693</span></span>,<span class="hljs-number"><span class="hljs-number">705</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">463</span></span>,<span class="hljs-number"><span class="hljs-number">112</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">445</span></span>,<span class="hljs-number"><span class="hljs-number">281</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">457</span></span>,<span class="hljs-number"><span class="hljs-number">800</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">453</span></span>,<span class="hljs-number"><span class="hljs-number">018</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">437</span></span>,<span class="hljs-number"><span class="hljs-number">737</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">427</span></span>,<span class="hljs-number"><span class="hljs-number">742</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">443</span></span>,<span class="hljs-number"><span class="hljs-number">569</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">501</span></span>,<span class="hljs-number"><span class="hljs-number">467</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">446</span></span>,<span class="hljs-number"><span class="hljs-number">490</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">426</span></span>,<span class="hljs-number"><span class="hljs-number">738</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">427</span></span>,<span class="hljs-number"><span class="hljs-number">594</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">461</span></span>,<span class="hljs-number"><span class="hljs-number">360</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">425</span></span>,<span class="hljs-number"><span class="hljs-number">101</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">452</span></span>,<span class="hljs-number"><span class="hljs-number">461</span></span> ns/op # Run progress: <span class="hljs-number"><span class="hljs-number">41</span></span>,<span class="hljs-number"><span class="hljs-number">67</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">02</span></span>:<span class="hljs-number"><span class="hljs-number">40</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">635</span></span>,<span class="hljs-number"><span class="hljs-number">491</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">443</span></span>,<span class="hljs-number"><span class="hljs-number">077</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">442</span></span>,<span class="hljs-number"><span class="hljs-number">987</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">431</span></span>,<span class="hljs-number"><span class="hljs-number">363</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">426</span></span>,<span class="hljs-number"><span class="hljs-number">921</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">433</span></span>,<span class="hljs-number"><span class="hljs-number">445</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">429</span></span>,<span class="hljs-number"><span class="hljs-number">941</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">438</span></span>,<span class="hljs-number"><span class="hljs-number">845</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">427</span></span>,<span class="hljs-number"><span class="hljs-number">774</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">426</span></span>,<span class="hljs-number"><span class="hljs-number">440</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">424</span></span>,<span class="hljs-number"><span class="hljs-number">521</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">430</span></span>,<span class="hljs-number"><span class="hljs-number">905</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">490</span></span>,<span class="hljs-number"><span class="hljs-number">199</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">449</span></span>,<span class="hljs-number"><span class="hljs-number">060</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">432</span></span>,<span class="hljs-number"><span class="hljs-number">094</span></span> ns/op Result "ru.gnkoshelev.jbreak2018.perf_tests.strings.MetricsFormatBenchmark.formatThroughConcatenationBenchmark": <span class="hljs-number"><span class="hljs-number">444</span></span>,<span class="hljs-number"><span class="hljs-number">483</span></span> ¬±(<span class="hljs-number"><span class="hljs-number">99.9</span></span>%) <span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">958</span></span> ns/op [Average] (min, avg, max) = (<span class="hljs-number"><span class="hljs-number">422</span></span>,<span class="hljs-number"><span class="hljs-number">996</span></span>, <span class="hljs-number"><span class="hljs-number">444</span></span>,<span class="hljs-number"><span class="hljs-number">483</span></span>, <span class="hljs-number"><span class="hljs-number">516</span></span>,<span class="hljs-number"><span class="hljs-number">239</span></span>), stdev = <span class="hljs-number"><span class="hljs-number">23</span></span>,<span class="hljs-number"><span class="hljs-number">886</span></span> CI (<span class="hljs-number"><span class="hljs-number">99.9</span></span>%): [<span class="hljs-number"><span class="hljs-number">428</span></span>,<span class="hljs-number"><span class="hljs-number">524</span></span>, <span class="hljs-number"><span class="hljs-number">460</span></span>,<span class="hljs-number"><span class="hljs-number">441</span></span>] (assumes normal distribution) # JMH <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: <span class="hljs-number"><span class="hljs-number">1.20</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: JDK <span class="hljs-number"><span class="hljs-number">1.8</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>_161, VM <span class="hljs-number"><span class="hljs-number">25.161</span></span>-b12 # VM <span class="hljs-keyword"><span class="hljs-keyword">invoker</span></span>: C:\Program Files\Java\jre1<span class="hljs-number"><span class="hljs-number">.8</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>_161\bin\java.exe # VM <span class="hljs-keyword"><span class="hljs-keyword">options</span></span>: &lt;<span class="hljs-keyword"><span class="hljs-keyword">none</span></span>&gt; # Warmup: <span class="hljs-number"><span class="hljs-number">5</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Measurement: <span class="hljs-number"><span class="hljs-number">10</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Timeout: <span class="hljs-number"><span class="hljs-number">10</span></span> min per iteration # Threads: <span class="hljs-number"><span class="hljs-number">1</span></span> thread, will synchronize iterations # Benchmark mode: Average <span class="hljs-type"><span class="hljs-type">time</span></span>, <span class="hljs-type"><span class="hljs-type">time</span></span>/op # Benchmark: ru.gnkoshelev.jbreak2018.perf_tests.strings.MetricsFormatBenchmark.formatThroughMessageFormatBuilder # Run progress: <span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">00</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">02</span></span>:<span class="hljs-number"><span class="hljs-number">17</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">1161</span></span>,<span class="hljs-number"><span class="hljs-number">265</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">998</span></span>,<span class="hljs-number"><span class="hljs-number">957</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">845</span></span>,<span class="hljs-number"><span class="hljs-number">871</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">742</span></span>,<span class="hljs-number"><span class="hljs-number">562</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">735</span></span>,<span class="hljs-number"><span class="hljs-number">021</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">734</span></span>,<span class="hljs-number"><span class="hljs-number">366</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">742</span></span>,<span class="hljs-number"><span class="hljs-number">179</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">723</span></span>,<span class="hljs-number"><span class="hljs-number">182</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">728</span></span>,<span class="hljs-number"><span class="hljs-number">268</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">738</span></span>,<span class="hljs-number"><span class="hljs-number">145</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">739</span></span>,<span class="hljs-number"><span class="hljs-number">328</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">732</span></span>,<span class="hljs-number"><span class="hljs-number">186</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">774</span></span>,<span class="hljs-number"><span class="hljs-number">538</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">815</span></span>,<span class="hljs-number"><span class="hljs-number">751</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">714</span></span>,<span class="hljs-number"><span class="hljs-number">448</span></span> ns/op # Run progress: <span class="hljs-number"><span class="hljs-number">58</span></span>,<span class="hljs-number"><span class="hljs-number">33</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">01</span></span>:<span class="hljs-number"><span class="hljs-number">54</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">1174</span></span>,<span class="hljs-number"><span class="hljs-number">440</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">994</span></span>,<span class="hljs-number"><span class="hljs-number">761</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">836</span></span>,<span class="hljs-number"><span class="hljs-number">255</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">740</span></span>,<span class="hljs-number"><span class="hljs-number">181</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">732</span></span>,<span class="hljs-number"><span class="hljs-number">687</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">741</span></span>,<span class="hljs-number"><span class="hljs-number">292</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">742</span></span>,<span class="hljs-number"><span class="hljs-number">536</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">743</span></span>,<span class="hljs-number"><span class="hljs-number">853</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">724</span></span>,<span class="hljs-number"><span class="hljs-number">039</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">739</span></span>,<span class="hljs-number"><span class="hljs-number">011</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">743</span></span>,<span class="hljs-number"><span class="hljs-number">141</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">735</span></span>,<span class="hljs-number"><span class="hljs-number">273</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">746</span></span>,<span class="hljs-number"><span class="hljs-number">909</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">733</span></span>,<span class="hljs-number"><span class="hljs-number">629</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">765</span></span>,<span class="hljs-number"><span class="hljs-number">130</span></span> ns/op # Run progress: <span class="hljs-number"><span class="hljs-number">66</span></span>,<span class="hljs-number"><span class="hljs-number">67</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">01</span></span>:<span class="hljs-number"><span class="hljs-number">31</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">1184</span></span>,<span class="hljs-number"><span class="hljs-number">020</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">969</span></span>,<span class="hljs-number"><span class="hljs-number">928</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">832</span></span>,<span class="hljs-number"><span class="hljs-number">638</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">735</span></span>,<span class="hljs-number"><span class="hljs-number">386</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">745</span></span>,<span class="hljs-number"><span class="hljs-number">396</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">756</span></span>,<span class="hljs-number"><span class="hljs-number">195</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">749</span></span>,<span class="hljs-number"><span class="hljs-number">304</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">739</span></span>,<span class="hljs-number"><span class="hljs-number">421</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">754</span></span>,<span class="hljs-number"><span class="hljs-number">232</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">734</span></span>,<span class="hljs-number"><span class="hljs-number">976</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">737</span></span>,<span class="hljs-number"><span class="hljs-number">265</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">740</span></span>,<span class="hljs-number"><span class="hljs-number">118</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">742</span></span>,<span class="hljs-number"><span class="hljs-number">716</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">731</span></span>,<span class="hljs-number"><span class="hljs-number">562</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">737</span></span>,<span class="hljs-number"><span class="hljs-number">156</span></span> ns/op Result "ru.gnkoshelev.jbreak2018.perf_tests.strings.MetricsFormatBenchmark.formatThroughMessageFormatBuilder": <span class="hljs-number"><span class="hljs-number">742</span></span>,<span class="hljs-number"><span class="hljs-number">672</span></span> ¬±(<span class="hljs-number"><span class="hljs-number">99.9</span></span>%) <span class="hljs-number"><span class="hljs-number">12</span></span>,<span class="hljs-number"><span class="hljs-number">152</span></span> ns/op [Average] (min, avg, max) = (<span class="hljs-number"><span class="hljs-number">714</span></span>,<span class="hljs-number"><span class="hljs-number">448</span></span>, <span class="hljs-number"><span class="hljs-number">742</span></span>,<span class="hljs-number"><span class="hljs-number">672</span></span>, <span class="hljs-number"><span class="hljs-number">815</span></span>,<span class="hljs-number"><span class="hljs-number">751</span></span>), stdev = <span class="hljs-number"><span class="hljs-number">18</span></span>,<span class="hljs-number"><span class="hljs-number">188</span></span> CI (<span class="hljs-number"><span class="hljs-number">99.9</span></span>%): [<span class="hljs-number"><span class="hljs-number">730</span></span>,<span class="hljs-number"><span class="hljs-number">520</span></span>, <span class="hljs-number"><span class="hljs-number">754</span></span>,<span class="hljs-number"><span class="hljs-number">824</span></span>] (assumes normal distribution) # JMH <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: <span class="hljs-number"><span class="hljs-number">1.20</span></span> # VM <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: JDK <span class="hljs-number"><span class="hljs-number">1.8</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>_161, VM <span class="hljs-number"><span class="hljs-number">25.161</span></span>-b12 # VM <span class="hljs-keyword"><span class="hljs-keyword">invoker</span></span>: C:\Program Files\Java\jre1<span class="hljs-number"><span class="hljs-number">.8</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>_161\bin\java.exe # VM <span class="hljs-keyword"><span class="hljs-keyword">options</span></span>: &lt;<span class="hljs-keyword"><span class="hljs-keyword">none</span></span>&gt; # Warmup: <span class="hljs-number"><span class="hljs-number">5</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Measurement: <span class="hljs-number"><span class="hljs-number">10</span></span> iterations, <span class="hljs-number"><span class="hljs-number">1500</span></span> ms <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> # Timeout: <span class="hljs-number"><span class="hljs-number">10</span></span> min per iteration # Threads: <span class="hljs-number"><span class="hljs-number">1</span></span> thread, will synchronize iterations # Benchmark mode: Average <span class="hljs-type"><span class="hljs-type">time</span></span>, <span class="hljs-type"><span class="hljs-type">time</span></span>/op # Benchmark: ru.gnkoshelev.jbreak2018.perf_tests.strings.MetricsFormatBenchmark.formatThroughPatternBenchmark # Run progress: <span class="hljs-number"><span class="hljs-number">75</span></span>,<span class="hljs-number"><span class="hljs-number">00</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">01</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">2230</span></span>,<span class="hljs-number"><span class="hljs-number">607</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1705</span></span>,<span class="hljs-number"><span class="hljs-number">927</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1527</span></span>,<span class="hljs-number"><span class="hljs-number">384</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1492</span></span>,<span class="hljs-number"><span class="hljs-number">499</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1437</span></span>,<span class="hljs-number"><span class="hljs-number">785</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">1458</span></span>,<span class="hljs-number"><span class="hljs-number">388</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1477</span></span>,<span class="hljs-number"><span class="hljs-number">134</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1456</span></span>,<span class="hljs-number"><span class="hljs-number">519</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1465</span></span>,<span class="hljs-number"><span class="hljs-number">800</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1488</span></span>,<span class="hljs-number"><span class="hljs-number">031</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">1459</span></span>,<span class="hljs-number"><span class="hljs-number">507</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">1480</span></span>,<span class="hljs-number"><span class="hljs-number">816</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">1462</span></span>,<span class="hljs-number"><span class="hljs-number">555</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">1461</span></span>,<span class="hljs-number"><span class="hljs-number">078</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">1494</span></span>,<span class="hljs-number"><span class="hljs-number">234</span></span> ns/op # Run progress: <span class="hljs-number"><span class="hljs-number">83</span></span>,<span class="hljs-number"><span class="hljs-number">33</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">45</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">2186</span></span>,<span class="hljs-number"><span class="hljs-number">425</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1640</span></span>,<span class="hljs-number"><span class="hljs-number">445</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1409</span></span>,<span class="hljs-number"><span class="hljs-number">303</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1402</span></span>,<span class="hljs-number"><span class="hljs-number">054</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1411</span></span>,<span class="hljs-number"><span class="hljs-number">979</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">1429</span></span>,<span class="hljs-number"><span class="hljs-number">291</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1412</span></span>,<span class="hljs-number"><span class="hljs-number">831</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1426</span></span>,<span class="hljs-number"><span class="hljs-number">304</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1417</span></span>,<span class="hljs-number"><span class="hljs-number">528</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1507</span></span>,<span class="hljs-number"><span class="hljs-number">471</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">1444</span></span>,<span class="hljs-number"><span class="hljs-number">355</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">1435</span></span>,<span class="hljs-number"><span class="hljs-number">535</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">1402</span></span>,<span class="hljs-number"><span class="hljs-number">223</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">1400</span></span>,<span class="hljs-number"><span class="hljs-number">843</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">1401</span></span>,<span class="hljs-number"><span class="hljs-number">743</span></span> ns/op # Run progress: <span class="hljs-number"><span class="hljs-number">91</span></span>,<span class="hljs-number"><span class="hljs-number">67</span></span>% complete, ETA <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">22</span></span> # Fork: <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> # Warmup Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">2223</span></span>,<span class="hljs-number"><span class="hljs-number">753</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1766</span></span>,<span class="hljs-number"><span class="hljs-number">516</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1452</span></span>,<span class="hljs-number"><span class="hljs-number">903</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1462</span></span>,<span class="hljs-number"><span class="hljs-number">324</span></span> ns/op # Warmup Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1485</span></span>,<span class="hljs-number"><span class="hljs-number">965</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">1533</span></span>,<span class="hljs-number"><span class="hljs-number">760</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">1551</span></span>,<span class="hljs-number"><span class="hljs-number">043</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1468</span></span>,<span class="hljs-number"><span class="hljs-number">389</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">1463</span></span>,<span class="hljs-number"><span class="hljs-number">317</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">1466</span></span>,<span class="hljs-number"><span class="hljs-number">646</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">1487</span></span>,<span class="hljs-number"><span class="hljs-number">802</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">1467</span></span>,<span class="hljs-number"><span class="hljs-number">299</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-number"><span class="hljs-number">1460</span></span>,<span class="hljs-number"><span class="hljs-number">768</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-number"><span class="hljs-number">1488</span></span>,<span class="hljs-number"><span class="hljs-number">246</span></span> ns/op Iteration <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">1455</span></span>,<span class="hljs-number"><span class="hljs-number">518</span></span> ns/op Result "ru.gnkoshelev.jbreak2018.perf_tests.strings.MetricsFormatBenchmark.formatThroughPatternBenchmark": <span class="hljs-number"><span class="hljs-number">1460</span></span>,<span class="hljs-number"><span class="hljs-number">832</span></span> ¬±(<span class="hljs-number"><span class="hljs-number">99.9</span></span>%) <span class="hljs-number"><span class="hljs-number">24</span></span>,<span class="hljs-number"><span class="hljs-number">075</span></span> ns/op [Average] (min, avg, max) = (<span class="hljs-number"><span class="hljs-number">1400</span></span>,<span class="hljs-number"><span class="hljs-number">843</span></span>, <span class="hljs-number"><span class="hljs-number">1460</span></span>,<span class="hljs-number"><span class="hljs-number">832</span></span>, <span class="hljs-number"><span class="hljs-number">1551</span></span>,<span class="hljs-number"><span class="hljs-number">043</span></span>), stdev = <span class="hljs-number"><span class="hljs-number">36</span></span>,<span class="hljs-number"><span class="hljs-number">034</span></span> CI (<span class="hljs-number"><span class="hljs-number">99.9</span></span>%): [<span class="hljs-number"><span class="hljs-number">1436</span></span>,<span class="hljs-number"><span class="hljs-number">758</span></span>, <span class="hljs-number"><span class="hljs-number">1484</span></span>,<span class="hljs-number"><span class="hljs-number">907</span></span>] (assumes normal distribution) # Run complete. Total <span class="hljs-type"><span class="hljs-type">time</span></span>: <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">04</span></span>:<span class="hljs-number"><span class="hljs-number">35</span></span> Benchmark Mode Cnt Score Error Units MetricsFormatBenchmark.formatThroughBuilderBenchmark avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">196</span></span>,<span class="hljs-number"><span class="hljs-number">029</span></span> ¬± <span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">408</span></span> ns/op MetricsFormatBenchmark.formatThroughConcatenationBenchmark avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span>,<span class="hljs-number"><span class="hljs-number">483</span></span> ¬± <span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">958</span></span> ns/op MetricsFormatBenchmark.formatThroughMessageFormatBuilder avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">742</span></span>,<span class="hljs-number"><span class="hljs-number">672</span></span> ¬± <span class="hljs-number"><span class="hljs-number">12</span></span>,<span class="hljs-number"><span class="hljs-number">152</span></span> ns/op MetricsFormatBenchmark.formatThroughPatternBenchmark avgt <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">1460</span></span>,<span class="hljs-number"><span class="hljs-number">832</span></span> ¬± <span class="hljs-number"><span class="hljs-number">24</span></span>,<span class="hljs-number"><span class="hljs-number">075</span></span> ns/op</code> </pre></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Expected poplohelo variant </font></font><code>MetricsFormat.formatThroughConcatenation()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">But with the optimization of pop / aload in the </font></font><code>MetricsFormat.formatThroughBuilder()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JIT-compiler coped perfectly - the result obtained in performance is no different from the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zachenny</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> version. </font><font style="vertical-align: inherit;">However, both versions of use </font></font><code>StringBuilder</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">are not equivalent, for example, they are </font></font><code>OptimizeStringConcat</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">able to recognize only the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ramified</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> use case </font></font><code>StringBuilder</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br><br><h3>  PS </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The benchmark code is on github: </font></font><a href="https://github.com/gnkoshelev/jbreak2018-strings-perf-tests"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jbreak2018-strings-perf-tests</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The final two parts will come out with a smaller lag. </font><font style="vertical-align: inherit;">The third part will be released in the middle of the week.</font></font><br><br>  <b>UPD.</b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Other publications series: </font></font><a href="https://habrahabr.ru/company/skbkontur/blog/350800/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Part 1</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://habrahabr.ru/company/skbkontur/blog/351540/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Part 3</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://habrahabr.ru/company/skbkontur/blog/351812/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Part 4</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div><p>Source: <a href="https://habr.com/ru/post/351300/">https://habr.com/ru/post/351300/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../351290/index.html">Negative selection of personnel in the hierarchical structure of the enterprise</a></li>
<li><a href="../351292/index.html">From Excel to EDS: how to organize convenient processing of materials for a scientific conference</a></li>
<li><a href="../351294/index.html">FastTrack Training. "Network Basics". "The Basics of Telephony." Part 2. Eddie Martin. December 2012</a></li>
<li><a href="../351296/index.html">Blockchain on Go. Part 3: Permanent Memory and Command Line Interface</a></li>
<li><a href="../351298/index.html">Apache PHP MySQL bundle on Solaris 11.3</a></li>
<li><a href="../351304/index.html">Thymeleaf Tutorial: Chapter 7. Conditional Execution</a></li>
<li><a href="../351308/index.html">Comparison of open OLAP-systems Big Data: ClickHouse, Druid and Pinot</a></li>
<li><a href="../351310/index.html">SSH in humans is not secure enough. How I struggle with paranoia</a></li>
<li><a href="../351312/index.html">3. Check Point for maximum. Content Awareness</a></li>
<li><a href="../351316/index.html">Introvert management introverts or experience managing technical teams</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>