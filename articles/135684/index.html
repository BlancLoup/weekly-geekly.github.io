<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Reduce the size of your iOS application</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I want to share a way that will save a few megabytes of "extra" weight in your iOS application. Why this may be needed? Firstly, if your application i...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Reduce the size of your iOS application</h1><div class="post__text post__text-html js-mediator-article">  I want to share a way that will save a few megabytes of "extra" weight in your iOS application.  Why this may be needed?  Firstly, if your application is a little more than 20 MB, then it will not be able to download via 3G, but only using Wi-Fi or iTunes sync (limited by Apple).  Well, secondly, if you like to optimize everything or just want to slightly reduce the load time of your apa. <br>  I have checked and used all the items listed below in my app, saving a total of about 4 MB.  It seems not very much, but if, for example, multiplied by 5000 thousand downloads per day, then we will get about 20 GB of saved traffic.  So let's get started. <br><a name="habracut"></a><br><h4>  1 Arrangement of elements and cutting design </h4><br>  If your design is completely ready and chopped and you don‚Äôt want to change anything, just skip this step. <br>  Consider an abstract example - the designer drew such a prototype: <br><img src="https://habrastorage.org/storage2/c56/1bc/61f/c561bc61ffd895704ef26489bb7d9115.jpg"><br><br>  After cutting the following pictures turned out: <br>  Background: <br><img src="https://habrastorage.org/storage2/dc3/fa0/7ba/dc3fa07baba9af73785069c1f1c852bc.png"><br><br>  fixed static element 1: <br><img src="https://habrastorage.org/storage2/d0f/2aa/489/d0f2aa489207a795996f1a4ede4d4437.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      fixed static element 2: <br><img src="https://habrastorage.org/storage2/e9b/161/4f4/e9b1614f4437bd1880354adf7775580b.png"><br><br>  and item 3 - button: <br><img src="https://habrastorage.org/storage2/b6c/920/88a/b6c92088a3690d8e241641c602d1ada1.png"><br><br>  Usually, programmers do not bother much and do the same - make up the background, then impose element 1 and 2 on top of the background, and then the button.  However, if we ‚Äúsew‚Äù elements 1 and 2 right into the background, then our new ‚Äúcomplex‚Äù background: <br><img src="https://habrastorage.org/storage2/ff0/9ba/425/ff09ba425b3c8c3e34ff0666ccff77f8.png"><br><br>  + button, will take up less space than the old background + 2 elements + button. <br><br><h5>  1.1 Use of resources from iPhone 4 for iPad (for universal ap) </h5><br>  The resolution of the iPhone 4 (960x640) is not much different from the iPad (1024x768).  If this is taken into account at the design and UI design stages, then many design elements can be simply copied from the design under the iPhone.  For example, various buttons and other small items are usually the same for iPhone 4 and iPad, so you can not make new pictures, but load them directly with the @ 2x prefix. <br>  Of course, this method is not suitable for all applications, but you should not forget about it. <br><br><h4>  2. Use JPEG format frequently. </h4><br>  Try to save all the images that do not require an alpha channel in JPEG - this will significantly reduce their size.  However, they will be unpacked on the fly, which may have a slight effect on performance. <br><br><h4>  3. Run all images via Image Catalyst </h4><br>  About him already wrote on Habr√© ( <a href="http://habrahabr.ru/blogs/client_side_optimization/135109/">Image Catalyst 2.1</a> ) and even using everything is simple, so there is nothing special to tell here, I‚Äôll just say that the result is minus 5-10% of the original size. <br><br><h4>  4. Compile Settings </h4><br>  I use Xcode 3, so I‚Äôll give all the settings for it.  The first thing to do is set the LLVM 1.6 compiler.  (In Xcode 4, the default compiler is LLVM 3.0, so there is no need to do this): <br><img src="https://habrastorage.org/storage2/8e2/c80/3f8/8e2c803f812b09633509557ab84fda10.png"><br><br>  Then, remove the Compress PNG Files option (as we have already already reaped everything after Image Catalyst): <br><img src="https://habrastorage.org/storage2/ead/2b2/86e/ead2b286e24b58c639cd3ce4d123722d.png"><br><br>  After these settings, the final build loses several megabytes. <br><br><h5>  4.1 Compiling only under ARMv7 </h5><br>  If you do not support old devices ( <a href="http://en.wikipedia.org/wiki/List_of_iOS_devices">iPhone 3G and iPod 1st and 2nd generation</a> ) + minimum iOS 4.2, then you can only compile for ARMv7 architecture, it will save a few more megabytes. <br><img src="https://habrastorage.org/storage2/f86/353/905/f86353905fac152df84b3f0b89b8aa6e.png"><br><br>  Thanks <a href="https://habrahabr.ru/users/mark2b/" class="user_link">mark2b</a> for this way. <br><br><h4>  5. Converting default.png to JPEG format (not verified to the end) </h4><br>  I have not tested this method on all devices yet, so there may be compatibility issues.  The way is to save your upload image (default.png) to JPEG format and then rename it to PNG.  Savings in size can reach up to 2-3 times, compared with the original.  All devices on which I managed to check this trick, displayed the picture correctly and without problems (most likely, there is an automatic unpacking of the picture, before loading into memory). <br><br>  If you have any ways to reduce the size of the apa or suggestions for improving / supplementing the above, then welcome to the comments. <br><br>  <b>upd.</b>  Slowly replenished list.  Thank you all for your ideas, we continue to discuss, experiment ... </div><p>Source: <a href="https://habr.com/ru/post/135684/">https://habr.com/ru/post/135684/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../135674/index.html">RIM tends to appoint new chairman</a></li>
<li><a href="../135675/index.html">VKontakte holds a tender for the creation of smiles</a></li>
<li><a href="../135676/index.html">DIY: Handsfree Car Kit for iPhone</a></li>
<li><a href="../135679/index.html">Flying robots build tower</a></li>
<li><a href="../135681/index.html">How our army is waiting for your Stuxnet</a></li>
<li><a href="../135685/index.html">Checked elections</a></li>
<li><a href="../135686/index.html">HabrAjax meets the old design</a></li>
<li><a href="../135688/index.html">Microsoft is gradually saying goodbye to Internet Explorer 6</a></li>
<li><a href="../135689/index.html">Android Ice Cream Sandwich on tablets</a></li>
<li><a href="../135690/index.html">Contra Mario - nuclear symbiosis</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>