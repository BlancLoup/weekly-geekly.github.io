<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Development of an accelerated BBC News homepage</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Web performance is what worries me, as a developer whose work affects millions of people around the world, as well as a user who often accesses the we...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Development of an accelerated BBC News homepage</h1><div class="post__text post__text-html js-mediator-article">  Web performance is what worries me, as a developer whose work affects millions of people around the world, as well as a user who often accesses the web using a slow and unreliable connection.  I often and loudly complained that the <a href="https://wildlyinaccurate.com/redefining-the-bcc-news-core-experience/">BBC News</a> site was <a href="https://wildlyinaccurate.com/redefining-the-bcc-news-core-experience/">unjustifiably slow</a> , so when I had the opportunity to help rebuild one of the most visited pages on BBC News, I jumped at the chance. <br><a name="habracut"></a><br>  It was April 2016. Now, a year later, we are ready to begin a phased transition to a new main page.  Starting with a small percentage of users from the UK, we will gradually transfer everyone to a new main page in a few weeks.  If you are impatient to see it before the transition is completed, it is available at <a href="http://www.bbc.co.uk/news/0">www.bbc.co.uk/news/0</a> <br><br><h2>  Quick facts about the new home page </h2><br><ul><li>  It is easier and faster than the previous one: </li><li>  The site is accessible via HTTPS and in the near future we plan to redirect all unprotected traffic to it. </li><li>  The page is based on React components that are styled with our CSS <a href="https://github.com/bbc/grandstand">Grandstand</a> framework. </li><li>  Each component is a horizontal ‚Äúslice‚Äù of a page that collects its data.  This makes it easy for us to use "slices" on any page. </li><li>  All React components are rendered using our React-component-as-an-API-endpoint service and are connected to the <a href="https://wildlyinaccurate.com/how-we-assemble-web-pages-at-bbc-news/">page-assembly-as-a-service page</a> . </li><li>  React is used only on the server.  We do not load it on the browser side. </li><li>  The development team consists of five developers and one tester, but we also work with more than 60 developers and testers from all over the BBC. </li></ul><br><h2>  What's next? </h2><br>  The current version of the main page is task number one, part one.  We will substantially change it in the next few months.  Here are some ideas that you can expect to see: <br><br><h2>  Performance improvement </h2><br>  Despite the fact that we have already significantly improved its performance, there is still a lot of work to be done: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  The first significant rendering is still long.  We can improve it by loading basic CSS earlier. </li><li>  We still send too many bytes to the user.  Most of this is inline styles that are only used in IE8 (Update: We have already sent a pull request to remove a third of these styles). </li><li>  Recalculation of styles and layouts takes too long on low-power devices.  This still requires study. </li><li>  We are fundamentally connected by the ‚Äúwhite BBC panel‚Äù located at the top of the page.  This panel contains components from other parts of the BBC: search, notification and BBC ID.  All of these components load their blocking CSS and Javascript in front of the main page resources.  Although this is unlikely to change in the near future, we hope to work with teams that develop these components to reduce their impact on performance. </li></ul><br><h2>  Design Enhancement </h2><br>  To launch the main page faster, we made many compromises with the UX and editorial teams about the page design.  After we are done with the introduction, we will improve the visual part of the story block (promo) to highlight the stories of correspondents and selected particles.  The current design looks like this: <br><br><img src="https://wildlyinaccurate.com/assets/news-front-page-promo-current.png" alt="image"><br><br>  Below is one of the suggestions how we can show other types of promo: <br><br><img src="https://wildlyinaccurate.com/assets/news-front-page-promo-variation.png" alt="image"><br><br><h2>  React in the browser </h2><br>  At an early stage, we decided that React in the browser would be superfluous for a page on which mostly static texts and images.  The effect on the productivity of combining such a quantity of Javascipt and performing it in the browser is also prohibitively high.  Even using server-side rendering, emulated mobile devices spent on running scripts and drawing almost 4 times more time when React was launched on the page. <br><br><div style="text-align:center;"><img src="https://wildlyinaccurate.com/assets/news-front-page-timeline-static.png" alt="image"></div><br>  <i>No React on page</i> <br><br><div style="text-align:center;"><img src="https://wildlyinaccurate.com/assets/news-front-page-timeline-react.png" alt="image"></div><br>  <i>Effect of React in the browser</i> <br><br>  In our current approach, we build Javascript in the old-fashioned way, separately from the React components.  However, we noticed that it could not scale for a long time, so in the end we will have to find a way to use React components in the browser without affecting performance.  Solutions we are looking at include: <br><br><ul><li>  Use <a href="https://preactjs.com/">Preact</a> instead of React. </li><li>  Converting our components into <a href="https://preactjs.com/guide/types-of-components">stateless functional components</a> where possible in order to reduce their size. </li><li>  Use smart <a href="https://webpack.js.org/guides/code-splitting/">code sharing</a> to be able to load secondary code on request. </li></ul><br>  <a href="https://wildlyinaccurate.com/introducing-a-faster-bbc-news-front-page/"><i>Translation source</i></a> </div><p>Source: <a href="https://habr.com/ru/post/327274/">https://habr.com/ru/post/327274/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../327262/index.html">UIKit + Viper or MVC healthy person</a></li>
<li><a href="../327264/index.html">Everything is bad</a></li>
<li><a href="../327266/index.html">How to beat groundhog day ‚Üí Automate testing of the KOMPAS-3D v17 interface</a></li>
<li><a href="../327270/index.html">Hacksplaining - an online course on web vulnerabilities</a></li>
<li><a href="../327272/index.html">‚ÄúCryptography in blockchains‚Äù: about hash functions, keys and digital signatures</a></li>
<li><a href="../327276/index.html">Open access to HighLoad ++ video over the past five years</a></li>
<li><a href="../327280/index.html">Sending voice messages VKontakte using VK API</a></li>
<li><a href="../327282/index.html">Capacity management is another problem.</a></li>
<li><a href="../327284/index.html">New mobile banking on Google Play - now disguised as a flashlight application</a></li>
<li><a href="../327288/index.html">Discussing "The operating systems of the future for the Internet of things": come - it will be interesting</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>