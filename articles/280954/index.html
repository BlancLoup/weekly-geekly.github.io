<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Experiment: What does the random walk hypothesis say about financial market forecasting?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In a blog on Habr√© and the analytical section of our site, we write a lot about algorithms and tools for predicting the movement in financial markets....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Experiment: What does the random walk hypothesis say about financial market forecasting?</h1><div class="post__text post__text-html js-mediator-article"> <a href="https://habrahabr.ru/company/itinvest/blog/280954/"><img src="https://habrastorage.org/files/a39/b9f/a3a/a39b9fa3a36d4b7187a51e850cc611f6.png"></a> <br><br>  In a blog on Habr√© and the <a href="http://www.itinvest.ru/analytics/">analytical section of our site,</a> we write a lot about algorithms and tools for predicting the movement in financial markets.  At the same time, many observers believe that such activities are akin to playing in a casino - everything is random on the stock exchange, which means that nothing can be predicted.  NMRQL quantitative analyst hedge fund Stuart Reed published on the website Turing Finance the results of a <a href="http://www.turingfinance.com/hacking-the-random-walk-hypothesis/">study</a> in which he used the random walk hypothesis, trying to confirm or disprove the thesis about the randomness of financial markets.  We present to you the main thoughts of this material. <a name="habracut"></a><br><br>  As Reed writes, hackers and traders, in fact, are doing the same thing - they find the inefficiency of the system and exploit it.  The only difference is that some, pursuing a variety of goals, hack computers, networks or even people, and the second - financial markets and their goal is to make a profit. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In this context, the topic of random number generators is very interesting - they are used to encrypt data and communications, but if a vulnerability is found in the generator, then it is no longer secure, and hackers can use the error to decrypt the information.  There are various sets of tests that such generators must pass in order to be able to evaluate their robustness.  One such kit is the NIST test group.  In this article, we will look at the application of these tests to financial strategies in order to understand whether the market can be ‚Äúhacked‚Äù. <br><br><h4>  Hypothesis of random walk </h4><br>  In the real world, many systems exhibit random properties.  For example - the <a href="http://www.sciencedirect.com/science/article/pii/0040580977900041">spread of</a> epidemics such as Ebola, the <a href="http://iopscience.iop.org/0004-637X/513/1/409">behavior of</a> cosmic radiation, the <a href="https://ru.wikipedia.org/wiki/%25D0%2591%25D1%2580%25D0%25BE%25D1%2583%25D0%25BD%25D0%25BE%25D0%25B2%25D1%2581%25D0%25BA%25D0%25BE%25D0%25B5_%25D0%25B4%25D0%25B2%25D0%25B8%25D0%25B6%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5">movement of</a> particles in the water, good luck while playing roulette, and, according to the <a href="https://ru.wikipedia.org/wiki/%25D0%25A1%25D0%25BB%25D1%2583%25D1%2587%25D0%25B0%25D0%25B9%25D0%25BD%25D0%25BE%25D0%25B5_%25D0%25B1%25D0%25BB%25D1%2583%25D0%25B6%25D0%25B4%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5">hypothesis of random walk</a> , even the movement of financial markets. <br><br>  Consider an interesting <a href="https://en.wikipedia.org/wiki/Random_walk_hypothesis">test</a> conducted by Professor of Economics at Princeton University Burton G. Malkiel.  In its course, students were given a hypothetical action, which initially cost $ 50.  The closing price of the auction for this stock was determined every day with a coin toss.  If an eagle fell out, the price was half a point higher, and in the case of the tails, half a pound lower.  Thus, each time the chance of a rise or fall in value compared to the previous ‚Äútrading day‚Äù was 50%.  Thus, price cycles and trends were determined. <br><br>  Subsequently, Malkiel visualized the results using charts and showed them to "Chartists," that is, specialists who predicted future price movements based on patterns of their past fluctuations.  Chartists advised him to immediately buy stocks.  But since this stock did not exist, and its price was determined by tossing a coin, there were no real patterns, and therefore there could not be a trend.  The result of the experiment allowed Malkiel to assert that the stock market is just as random as a coin flip. <br><br>  This is similar to the ‚Äú <a href="">Turing</a> 's <a href="">financial test,</a> ‚Äù in which people familiar with the financial market are invited to look at the time series chart and determine which real market data is on them, which is a simulation using random processes: <br><br><img src="https://habrastorage.org/files/43d/522/c6f/43d522c6f2fa40bda309d46e8abf1f12.png"><br><br>  Is this a real market? <br><br><img src="https://habrastorage.org/files/cd7/38e/7aa/cd738e7aae4b4c3bbc4cfdf036f8b024.png"><br><br>  Is it random? <br><br><img src="https://habrastorage.org/files/026/046/0b3/0260460b383c4a5690db955ee11ff54a.png"><br><br>  Or is there no difference at all? <br><br>  It is quite difficult to determine.  It is these observations that led many financial market researchers to think about how truly random the behavior of stocks on a stock exchange is.  The theory, which suggests that prices move at random, is called the random walk hypothesis. <br><br>  Many of the researchers conducted tests similar to Malkiel's experiment, but in fact they do not prove that the stock market develops by chance.  They only prove that for the human eye, in the absence of additional information, real price movements cannot be distinguished from random ones. <br><br>  There are drawbacks to the hypothesis itself: <br><br><ol><li>  It considers different markets as a homogeneous environment, not taking into account the differences between them. </li><li>  It does not explain the many empirical examples in which people constantly won in the market. </li><li>  It is based on the statistical definition of randomness, and not on algorithmic.  This means that the hypothesis does not distinguish between local and global randomness, does not take into account the concept of relativity of randomness. </li></ol><br>  And yet, whether someone likes it or not, it cannot be denied that the widespread adoption of the random walk hypothesis among quantitative analysts on the stock market as a whole has had a serious impact on how various financial instruments are valued - for example, derivatives or structured products. . <br><br><h4>  Algorithmic vs statistical randomness </h4><br>  Any function that cannot be predicted is stochastic (random).  And, any function whose conclusion can be predicted is deterministic (non-random).  Everything is complicated by the fact that many deterministic functions may be similar to stochastic ones.  For example, most random number generators are actually deterministic functions, whose output is stochastic.  Most random number generators are not really random, so they are described with <a href="https://en.wikipedia.org/wiki/Pseudorandom_number_generator">pseudo</a> or <a href="https://en.wikipedia.org/wiki/Low-discrepancy_sequence">quasi</a> prefixes. <br><br>  In order to test the "validity" of the random walk hypothesis, it is necessary to determine whether the financial results of a particular action (our function) are stochastic or deterministic.  Theoretically, there is an algorithmic and statistical approach to the problem, but in practice only the latter is used (and there are explanations for that). <br><br><h5>  Algorithmic approach </h5><br>  <a href="https://ru.wikipedia.org/wiki/%25D0%2592%25D1%258B%25D1%2587%25D0%25B8%25D1%2581%25D0%25BB%25D0%25B8%25D0%25BC%25D0%25B0%25D1%258F_%25D1%2584%25D1%2583%25D0%25BD%25D0%25BA%25D1%2586%25D0%25B8%25D1%258F">The theory of computable functions,</a> also known as recursion theory or Turing computability, is a branch of theoretical computer science that works with the concept of computable and non-computable functions.  A function is called computable depending on whether it is possible to write an algorithm that, in the presence of some input data, can always calculate it. <br><br>  If randomness is a property of unpredictability, then the output of the function can never be accurately predicted.  It follows logically from this that all-random processes are non-computable functions, since it is impossible to create an algorithm for calculating them.  The famous <a href="https://ru.wikipedia.org/wiki/%25D0%25A2%25D0%25B5%25D0%25B7%25D0%25B8%25D1%2581_%25D0%25A7%25D1%2591%25D1%2580%25D1%2587%25D0%25B0_%25E2%2580%2594_%25D0%25A2%25D1%258C%25D1%258E%25D1%2580%25D0%25B8%25D0%25BD%25D0%25B3%25D0%25B0">Church-Turing thesis</a> postulates that a function is computable only if it can be calculated using the Turing machine: <br><br><img src="https://habrastorage.org/files/359/857/b47/359857b47bda45d4baa9aae19fffbaf2.jpg"><br><br>  It would seem that everything is simple - you just need to use the Turing machine to determine whether there is an algorithm that predicts the behavior of stock prices (our function).  But here we are faced with the <a href="https://ru.wikipedia.org/wiki/%25D0%259F%25D1%2580%25D0%25BE%25D0%25B1%25D0%25BB%25D0%25B5%25D0%25BC%25D0%25B0_%25D0%25BE%25D1%2581%25D1%2582%25D0%25B0%25D0%25BD%25D0%25BE%25D0%25B2%25D0%25BA%25D0%25B8">problem of stopping</a> , that is, the task of determining whether the algorithm will work forever, or someday it will end. <br><br>  It is proved that this problem is unsolvable, which means that it is impossible to know in advance whether the program will stop or continue working.  This means that it is impossible to solve the problem of finding an algorithm that can ‚Äúcalculate‚Äù a function (predict the price of a stock) - before stopping the Turing machine it will be necessary to sort through all possible algorithms, and this will take an infinite amount of time.  Therefore, it is impossible to prove that the financial market is completely random. <br><br>  If you do not take into account this fact, then such studies have led to the emergence of an interesting area called <a href="https://ru.wikipedia.org/wiki/%25D0%2590%25D0%25BB%25D0%25B3%25D0%25BE%25D1%2580%25D0%25B8%25D1%2582%25D0%25BC%25D0%25B8%25D1%2587%25D0%25B5%25D1%2581%25D0%25BA%25D0%25B0%25D1%258F_%25D1%2582%25D0%25B5%25D0%25BE%25D1%2580%25D0%25B8%25D1%258F_%25D0%25B8%25D0%25BD%25D1%2584%25D0%25BE%25D1%2580%25D0%25BC%25D0%25B0%25D1%2586%25D0%25B8%25D0%25B8">algorithmic information theory</a> .  It deals with the relationship between computability theory and information theory.  It defines various types of randomness - one of the most popular is the definition of randomness according to Martin-Lef, who agrees, in order for the string to be recognized as random, it must: <br><br><ul><li>  <i>To be incompressible</i> ‚Äî compression implies a search for a representation of information that uses less information.  For example, the infinite long binary string 0101010101 ....  can be expressed more precisely as 01, repeated infinitely many times, while the infinitely long line 0110000101110110101 ... does not have a clearly defined pattern, which means it cannot be compressed to anything shorter than the same line 0110000101110110101 ... This means that if the <a href="https://ru.wikipedia.org/wiki/%25D0%259A%25D0%25BE%25D0%25BB%25D0%25BC%25D0%25BE%25D0%25B3%25D0%25BE%25D1%2580%25D0%25BE%25D0%25B2%25D1%2581%25D0%25BA%25D0%25B0%25D1%258F_%25D1%2581%25D0%25BB%25D0%25BE%25D0%25B6%25D0%25BD%25D0%25BE%25D1%2581%25D1%2582%25D1%258C">Kolmogorov complexity is</a> greater than or equal to the length of the string, then the sequence is algorithmically random. </li><li>  <i>To pass statistical tests for randomness</i> - there are many tests for randomness that check the difference between the distribution of a sequence relative to the expected distribution of any sequence that is considered random. </li><li>  <i>Not to bring profit</i> is an interesting concept, which implies that if it is possible to create a certain <a href="https://ru.wikipedia.org/wiki/%25D0%259C%25D0%25B0%25D1%2580%25D1%2582%25D0%25B8%25D0%25BD%25D0%25B3%25D0%25B5%25D0%25B9%25D0%25BB">bet</a> , leading only to success, then it means that it is not accidental. </li></ul><br>  In general, it is necessary to distinguish between global and local random walk.  The first relates to the markets in the long run, while the local hypothesis of random walk may argue that the market is random for a certain minimum period of time. <br><br>  In the absence of additional information, many systems may seem to be random without being such - for example, the same random number generators.  Or, a more complex example, the price movement of a certain stock may seem random.  But if you look at financial statements and other fundamental indicators, then everything may turn out to be completely nonrandom. <br><br><h5>  Statistical approach </h5><br>  The sequence is statistically random when it contains no detectable patterns.  This does not mean real randomness, that is, unpredictability - most pseudo-random random number generators, which are not unpredictable, while being statistically random.  The main thing here is to pass the NIST test suite.  Most of these tests involve testing how the output distribution of a supposedly random system matches the results of a truly random system.  The <a href="http://www.turingfinance.com/hacking-the-random-walk-hypothesis/">link</a> provides the Python code for such tests. <br><br><h4>  Hacking the market </h4><br>  After reviewing the theoretical foundations of the concept of chance and examining tests that allow it to be revealed, another important question is whether it is possible with the help of such tests to create a system that will determine the randomness or nonrandomness of market sequences better than a person. <br><br>  The researcher decided to conduct his own experiment, for which he used the following data: <br><br><ul><li>  <a href="https://www.quandl.com/data/BCB/UDJIAD1-Dow-Jones-Industrial-Average">The DJIA Index from 1900 to 2015 (daily chart) ~ 115 years</a> </li><li>  <a href="https://www.quandl.com/data/YAHOO/INDEX_GSPC-S-P-500-Index">The S &amp; P 500 Index from 1950 to 2015 (daily chart) ~ 65 years</a> </li><li>  <a href="https://www.quandl.com/data/YAHOO/INDEX_HSI-Hang-Seng-Index-Hong-Kong">The Hang Seng Index from 1970 to 2015 (daily chart) ~ 45 years</a> </li><li>  <a href="https://www.quandl.com/data/YAHOO/INDEX_SSEC-Shanghai-Composite-Index-China">The Shanghai Composite Index from 1990 to 2015 (daily chart) ~ 25 years</a> </li></ul><br>  Assets of various types were also analyzed: <br><br><ul><li>  <a href="https://www.quandl.com/data/BUNDESBANK/BBK01_WT5511-Gold-Price-USD%3Futm_medium%3Dgraph%26utm_source%3Dquandl">Gold prices in US dollars from 1970 to 2015 (daily chart) ~ 45 years</a> </li><li> <a href="https://www.quandl.com/data/CURRFX/USDGBP-Currency-Exchange-Rates-USD-vs-GBP">Exchange rates of the dollar / pound pair (USD vs GBP) from 1990 to 2015 (daily chart) ~ 25 years</a> </li><li>  <a href="https://www.quandl.com/data/DOE/RBRTE-Europe-Brent-Crude-Oil-Spot-Price-FOB%3Futm_medium%3Dgraph%26utm_source%3Dquandl">The spot price of Brent crude European oil from 1990 to 2015 (daily chart) ~ 25 years</a> </li></ul><br>  The NIST test suite worked on real-life data sets ‚Äî they were discretized and broken down into periods of 3.5.7 and 10 years.  In addition, there are two ways to generate test windows ‚Äî overlapping windows and non-overlapping windows.  The first option is better because it allows you to see the coming randomness of the market, but it affects the quality of the aggregated P-values, since the windows are not independent. <br><br>  In addition, two simulated data sets were used for comparison.  The first one is a binary data set generated using the discretization strategy of the <a href="https://ru.wikipedia.org/wiki/%25D0%2592%25D0%25B8%25D1%2585%25D1%2580%25D1%258C_%25D0%259C%25D0%25B5%25D1%2580%25D1%2581%25D0%25B5%25D0%25BD%25D0%25BD%25D0%25B0">Mersenne vortex</a> algorithm (one of the best pseudo-random generators). <br><br><img src="https://habrastorage.org/files/812/b24/7db/812b247db5c542f6b06c2882fbf39a14.png"><br><br>  The second is binary data generated by the SIN function. <br><br><img src="https://habrastorage.org/files/57c/287/76c/57c28776c30d4a1dbb951a60c4d64075.png"><br><br><h4>  Problems </h4><br>  Each experiment has its weak points.  Not without them this time: <br><br><ol><li>  Some tests require more data than the market has generated (except when using minute or tick charts, which is not always possible), which means that their statistical significance is slightly less than ideal. </li><li>  NIST tests check only standard randomness - this does not mean that markets are not distributed normally or in some other way, but they are still random. </li><li>  Randomly selected time periods (starting January 1 of each year) and significance level (0.005).  Tests should be carried out on a much more extensive set of samples that begin with each month or quarter.  The p-value did not have a serious impact on the final conclusions, because at its different values ‚Äã‚Äã(0.001, 0.005, 0.05) some tests still did not pass in certain periods (for example, 1954-1959). </li></ol><br><h4>  results </h4><br>  Here are the results achieved using two methods of testing with overlapping or non-overlapping windows: <br><br><img src="https://habrastorage.org/files/a7e/a54/412/a7ea544126c846979c07595ab3f75455.png"><br><br><img src="https://habrastorage.org/files/bc3/0f8/281/bc30f828165549539a808c1ed4cce52d.png"><br><br>  The conclusions can be drawn as follows: <br><br><ol><li>  The values ‚Äã‚Äãlie between the values ‚Äã‚Äãof the two benchmarks, which means that the markets are less random than the Mersenne vortex and more random than the SIN function.  But in the end they are not accidental. </li><li>  Values ‚Äã‚Äãare seriously different in measurement - the size of the window seriously affects the result, and uniqueness - the markets are not equally random, some of them are more random than others. </li><li>  Values ‚Äã‚Äãfor benchmarks are consistently good for a Mersenne vortex (on average more than 90% of tests passed) and bad for a SIN graph (10-30% of tests passed on average). </li></ol><br>  At the beginning of the article we looked at an example with the experiment of Professor Burton Malkiel, who wrote the famous book <a href="https://en.wikipedia.org/wiki/A_Random_Walk_Down_Wall_Street">A Random Walk Down Wall Street</a> - he presented a random walk using a coin toss and showed the results to the charts.  When the Chartist declared that he needed to buy the ‚Äúshare,‚Äù Prof. Malkiel compared the financial market with a coin toss and used this thesis to justify the strategy of passive purchases and holding positions. <br><br>  However, the author of the current study believes that such a conclusion is erroneous, since the professor's experiment only says that, from the point of view of the Chartist, there is no difference between coin toss and the market.  However, from the point of view of quantitative analysts and traders or their algorithms, this is not obvious.  And an experiment conducted with the help of the NIST test suite showed that, although it is difficult for a person to distinguish randomly generated data from real financial information, the markets are far from random. </div><p>Source: <a href="https://habr.com/ru/post/280954/">https://habr.com/ru/post/280954/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../280942/index.html">Announcement of the fourth meeting of the Java User Group Sevastopol</a></li>
<li><a href="../280944/index.html">PHP recursion - algorithm, application</a></li>
<li><a href="../280948/index.html">Summer is the time to study at Intel. We invite you to summer school 0x7E0</a></li>
<li><a href="../280950/index.html">Microsoft changes the release date for Office updates</a></li>
<li><a href="../280952/index.html">Red Hat Enterprise Linux is now free for developers.</a></li>
<li><a href="../280956/index.html">What's new in Visual Studio 2015 for C #, Visual Basic and Linux enthusiasts</a></li>
<li><a href="../280960/index.html">The ‚Äúgang of four‚Äù was wrong, and you don't know what delegation is</a></li>
<li><a href="../280962/index.html">Certification and certification: why is it necessary?</a></li>
<li><a href="../280964/index.html">RUVDS thanks Habrahabr users for their choice</a></li>
<li><a href="../280966/index.html">How to transfer business to the cloud</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>