<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Genetic algorithms, image recognition</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Genetic algorithms are widely used in problems of optimization and training of neural networks. 
 The algorithms themselves are iterative, and give on...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Genetic algorithms, image recognition</h1><div class="post__text post__text-html js-mediator-article">  Genetic algorithms are widely used in problems of optimization and training of neural networks. <br>  The algorithms themselves are iterative, and give only an approximation, which, however, is more than offset by their area of ‚Äã‚Äãapplication. <br>  Let us analyze the device of one of such algorithms on the example of recognition of the simplest image. <br>  We will operate on chromosome populations (individuals), since the algorithm is iterative, the current iteration number is called the current epoch. <br>  Before drawing up the algorithm, we will determine what will be our task and what will be its solution: <br>  Consider an example of finding the coefficients in the parabola equation, based on a hand-drawn image.  In this case, the task is to find such coefficients at which the parabola will coincide as closely as possible with the figure, the solution to the problem is a set of three coefficients in the parabola equation. <br><br>  The algorithm provides for a population of certain objects (chromosomes) that will fight for survival. <br><a name="habracut"></a>  So, the <b>Chromosome</b> is a possible solution to our problem, no matter which one is correct or not. <br>  <b>The gene</b> is an elementary piece of information, within the framework of this task, we will have three genes, respectively, one for each coefficient. <br>  <b>Population</b> - a set of chromosomes of the current era. <br>  Initially, we create a population (preferably of several thousand chromosomes), and fill the genes with arbitrary information that does not contradict the condition of the problem. <br>  As in the real world, our chromosomes will multiply and undergo various mutations.  Crossover operators and mutations are responsible for these actions. <br><br>  <b>The crossover</b> is responsible for transferring the signs of parents to their descendants; in the simplest implementation, it creates a new chromosome from the genes of two parents, the ‚Äúdonor‚Äù of the next gene is selected at random. <br>  <b>The mutation operator is</b> designed to bring diversity to our island of digital life; under its influence, an arbitrary gene changes on the chromosome. <br>  <b>Fitness-function</b> : As in life - non-adapted species must die, ‚Äúclean‚Äù our population will be the last function, called the function of the device, or the Fitness-function. <br>  For each chromosome, this function returns a number inversely proportional to the ‚Äúfitness‚Äù of this chromosome, and the following conditions are imposed on it: <br>  Fitness value from ideal solution = 0 <br>  This is a basic condition, but it is still desirable to choose a function so that its value grows as the solution moves away from the ideal.  In other words - that she had only one minimum. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Now we can formulate a variant of the algorithm <br>  1. Designate the number of the epoch = 0, create a population of chromosomes, in the genes of which there will be arbitrary, not contradicting to the task, information <br>  2. Calculate the fitness of the population. <br>  3. Choose individual A from the population <br>  4. With probability P (crossing), select individual B and apply the crossover operator, the resulting individual to bring into the new population. <br>  5. With the probability P (mutations) to perform a mutation of an arbitrary individual, the resulting individual to bring in a new population <br>  6. Perform operations 3,4,5 n times, where n&gt; = population size <br>  7. Create a new population of the best individuals of the existing and newly formed population. <br>  8. Increase the number of the current era <br>  9. If the result of the work is satisfactory - stop the algorithm, otherwise - go to step 2. <br><br>  The genetic algorithm is not strictly deterministic, for example, we can first perform the crossing of all individuals, and then the mutation (for this problem, this approach turned out to be more efficient).  So, we will try, on the basis of the described, to solve the problem.  First we need to determine the chromosome, which will be the repository of information about genes. <br><blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">class</font> Chromosome : IComparable { <font color="#0000ff">public</font> <font color="#0000ff">double</font> [] gens; <font color="#0000ff">static</font> <font color="#2b91af">Random</font> random = <font color="#0000ff">new</font> <font color="#2b91af">Random</font> (); <font color="#0000ff">public</font> Chromosome() { <font color="#0000ff">this</font> .gens = <font color="#0000ff">new</font> <font color="#0000ff">double</font> [3]; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i = 0; i &lt; 3; i++) { <font color="#0000ff">this</font> .gens[i] = random.NextDouble() * 100; } <font color="#0000ff">this</font> .fit = fitness( <font color="#0000ff">this</font> ); } <font color="#0000ff">public</font> <font color="#0000ff">int</font> CompareTo( <font color="#0000ff">object</font> obj) }</font> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> <ol><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">public</font> <font color="#0000ff">class</font> Chromosome : IComparable { <font color="#0000ff">public</font> <font color="#0000ff">double</font> [] gens; <font color="#0000ff">static</font> <font color="#2b91af">Random</font> random = <font color="#0000ff">new</font> <font color="#2b91af">Random</font> (); <font color="#0000ff">public</font> Chromosome() { <font color="#0000ff">this</font> .gens = <font color="#0000ff">new</font> <font color="#0000ff">double</font> [3]; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i = 0; i &lt; 3; i++) { <font color="#0000ff">this</font> .gens[i] = random.NextDouble() * 100; } <font color="#0000ff">this</font> .fit = fitness( <font color="#0000ff">this</font> ); } <font color="#0000ff">public</font> <font color="#0000ff">int</font> CompareTo( <font color="#0000ff">object</font> obj) } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">public</font> <font color="#0000ff">class</font> Chromosome : IComparable { <font color="#0000ff">public</font> <font color="#0000ff">double</font> [] gens; <font color="#0000ff">static</font> <font color="#2b91af">Random</font> random = <font color="#0000ff">new</font> <font color="#2b91af">Random</font> (); <font color="#0000ff">public</font> Chromosome() { <font color="#0000ff">this</font> .gens = <font color="#0000ff">new</font> <font color="#0000ff">double</font> [3]; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i = 0; i &lt; 3; i++) { <font color="#0000ff">this</font> .gens[i] = random.NextDouble() * 100; } <font color="#0000ff">this</font> .fit = fitness( <font color="#0000ff">this</font> ); } <font color="#0000ff">public</font> <font color="#0000ff">int</font> CompareTo( <font color="#0000ff">object</font> obj) } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">public</font> <font color="#0000ff">class</font> Chromosome : IComparable { <font color="#0000ff">public</font> <font color="#0000ff">double</font> [] gens; <font color="#0000ff">static</font> <font color="#2b91af">Random</font> random = <font color="#0000ff">new</font> <font color="#2b91af">Random</font> (); <font color="#0000ff">public</font> Chromosome() { <font color="#0000ff">this</font> .gens = <font color="#0000ff">new</font> <font color="#0000ff">double</font> [3]; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i = 0; i &lt; 3; i++) { <font color="#0000ff">this</font> .gens[i] = random.NextDouble() * 100; } <font color="#0000ff">this</font> .fit = fitness( <font color="#0000ff">this</font> ); } <font color="#0000ff">public</font> <font color="#0000ff">int</font> CompareTo( <font color="#0000ff">object</font> obj) } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">public</font> <font color="#0000ff">class</font> Chromosome : IComparable { <font color="#0000ff">public</font> <font color="#0000ff">double</font> [] gens; <font color="#0000ff">static</font> <font color="#2b91af">Random</font> random = <font color="#0000ff">new</font> <font color="#2b91af">Random</font> (); <font color="#0000ff">public</font> Chromosome() { <font color="#0000ff">this</font> .gens = <font color="#0000ff">new</font> <font color="#0000ff">double</font> [3]; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i = 0; i &lt; 3; i++) { <font color="#0000ff">this</font> .gens[i] = random.NextDouble() * 100; } <font color="#0000ff">this</font> .fit = fitness( <font color="#0000ff">this</font> ); } <font color="#0000ff">public</font> <font color="#0000ff">int</font> CompareTo( <font color="#0000ff">object</font> obj) } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">public</font> <font color="#0000ff">class</font> Chromosome : IComparable { <font color="#0000ff">public</font> <font color="#0000ff">double</font> [] gens; <font color="#0000ff">static</font> <font color="#2b91af">Random</font> random = <font color="#0000ff">new</font> <font color="#2b91af">Random</font> (); <font color="#0000ff">public</font> Chromosome() { <font color="#0000ff">this</font> .gens = <font color="#0000ff">new</font> <font color="#0000ff">double</font> [3]; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i = 0; i &lt; 3; i++) { <font color="#0000ff">this</font> .gens[i] = random.NextDouble() * 100; } <font color="#0000ff">this</font> .fit = fitness( <font color="#0000ff">this</font> ); } <font color="#0000ff">public</font> <font color="#0000ff">int</font> CompareTo( <font color="#0000ff">object</font> obj) } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">public</font> <font color="#0000ff">class</font> Chromosome : IComparable { <font color="#0000ff">public</font> <font color="#0000ff">double</font> [] gens; <font color="#0000ff">static</font> <font color="#2b91af">Random</font> random = <font color="#0000ff">new</font> <font color="#2b91af">Random</font> (); <font color="#0000ff">public</font> Chromosome() { <font color="#0000ff">this</font> .gens = <font color="#0000ff">new</font> <font color="#0000ff">double</font> [3]; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i = 0; i &lt; 3; i++) { <font color="#0000ff">this</font> .gens[i] = random.NextDouble() * 100; } <font color="#0000ff">this</font> .fit = fitness( <font color="#0000ff">this</font> ); } <font color="#0000ff">public</font> <font color="#0000ff">int</font> CompareTo( <font color="#0000ff">object</font> obj) } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">public</font> <font color="#0000ff">class</font> Chromosome : IComparable { <font color="#0000ff">public</font> <font color="#0000ff">double</font> [] gens; <font color="#0000ff">static</font> <font color="#2b91af">Random</font> random = <font color="#0000ff">new</font> <font color="#2b91af">Random</font> (); <font color="#0000ff">public</font> Chromosome() { <font color="#0000ff">this</font> .gens = <font color="#0000ff">new</font> <font color="#0000ff">double</font> [3]; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i = 0; i &lt; 3; i++) { <font color="#0000ff">this</font> .gens[i] = random.NextDouble() * 100; } <font color="#0000ff">this</font> .fit = fitness( <font color="#0000ff">this</font> ); } <font color="#0000ff">public</font> <font color="#0000ff">int</font> CompareTo( <font color="#0000ff">object</font> obj) } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">public</font> <font color="#0000ff">class</font> Chromosome : IComparable { <font color="#0000ff">public</font> <font color="#0000ff">double</font> [] gens; <font color="#0000ff">static</font> <font color="#2b91af">Random</font> random = <font color="#0000ff">new</font> <font color="#2b91af">Random</font> (); <font color="#0000ff">public</font> Chromosome() { <font color="#0000ff">this</font> .gens = <font color="#0000ff">new</font> <font color="#0000ff">double</font> [3]; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i = 0; i &lt; 3; i++) { <font color="#0000ff">this</font> .gens[i] = random.NextDouble() * 100; } <font color="#0000ff">this</font> .fit = fitness( <font color="#0000ff">this</font> ); } <font color="#0000ff">public</font> <font color="#0000ff">int</font> CompareTo( <font color="#0000ff">object</font> obj) } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">public</font> <font color="#0000ff">class</font> Chromosome : IComparable { <font color="#0000ff">public</font> <font color="#0000ff">double</font> [] gens; <font color="#0000ff">static</font> <font color="#2b91af">Random</font> random = <font color="#0000ff">new</font> <font color="#2b91af">Random</font> (); <font color="#0000ff">public</font> Chromosome() { <font color="#0000ff">this</font> .gens = <font color="#0000ff">new</font> <font color="#0000ff">double</font> [3]; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i = 0; i &lt; 3; i++) { <font color="#0000ff">this</font> .gens[i] = random.NextDouble() * 100; } <font color="#0000ff">this</font> .fit = fitness( <font color="#0000ff">this</font> ); } <font color="#0000ff">public</font> <font color="#0000ff">int</font> CompareTo( <font color="#0000ff">object</font> obj) } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">public</font> <font color="#0000ff">class</font> Chromosome : IComparable { <font color="#0000ff">public</font> <font color="#0000ff">double</font> [] gens; <font color="#0000ff">static</font> <font color="#2b91af">Random</font> random = <font color="#0000ff">new</font> <font color="#2b91af">Random</font> (); <font color="#0000ff">public</font> Chromosome() { <font color="#0000ff">this</font> .gens = <font color="#0000ff">new</font> <font color="#0000ff">double</font> [3]; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i = 0; i &lt; 3; i++) { <font color="#0000ff">this</font> .gens[i] = random.NextDouble() * 100; } <font color="#0000ff">this</font> .fit = fitness( <font color="#0000ff">this</font> ); } <font color="#0000ff">public</font> <font color="#0000ff">int</font> CompareTo( <font color="#0000ff">object</font> obj) } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">public</font> <font color="#0000ff">class</font> Chromosome : IComparable { <font color="#0000ff">public</font> <font color="#0000ff">double</font> [] gens; <font color="#0000ff">static</font> <font color="#2b91af">Random</font> random = <font color="#0000ff">new</font> <font color="#2b91af">Random</font> (); <font color="#0000ff">public</font> Chromosome() { <font color="#0000ff">this</font> .gens = <font color="#0000ff">new</font> <font color="#0000ff">double</font> [3]; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i = 0; i &lt; 3; i++) { <font color="#0000ff">this</font> .gens[i] = random.NextDouble() * 100; } <font color="#0000ff">this</font> .fit = fitness( <font color="#0000ff">this</font> ); } <font color="#0000ff">public</font> <font color="#0000ff">int</font> CompareTo( <font color="#0000ff">object</font> obj) } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">public</font> <font color="#0000ff">class</font> Chromosome : IComparable { <font color="#0000ff">public</font> <font color="#0000ff">double</font> [] gens; <font color="#0000ff">static</font> <font color="#2b91af">Random</font> random = <font color="#0000ff">new</font> <font color="#2b91af">Random</font> (); <font color="#0000ff">public</font> Chromosome() { <font color="#0000ff">this</font> .gens = <font color="#0000ff">new</font> <font color="#0000ff">double</font> [3]; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i = 0; i &lt; 3; i++) { <font color="#0000ff">this</font> .gens[i] = random.NextDouble() * 100; } <font color="#0000ff">this</font> .fit = fitness( <font color="#0000ff">this</font> ); } <font color="#0000ff">public</font> <font color="#0000ff">int</font> CompareTo( <font color="#0000ff">object</font> obj) } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">public</font> <font color="#0000ff">class</font> Chromosome : IComparable { <font color="#0000ff">public</font> <font color="#0000ff">double</font> [] gens; <font color="#0000ff">static</font> <font color="#2b91af">Random</font> random = <font color="#0000ff">new</font> <font color="#2b91af">Random</font> (); <font color="#0000ff">public</font> Chromosome() { <font color="#0000ff">this</font> .gens = <font color="#0000ff">new</font> <font color="#0000ff">double</font> [3]; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i = 0; i &lt; 3; i++) { <font color="#0000ff">this</font> .gens[i] = random.NextDouble() * 100; } <font color="#0000ff">this</font> .fit = fitness( <font color="#0000ff">this</font> ); } <font color="#0000ff">public</font> <font color="#0000ff">int</font> CompareTo( <font color="#0000ff">object</font> obj) } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">public</font> <font color="#0000ff">class</font> Chromosome : IComparable { <font color="#0000ff">public</font> <font color="#0000ff">double</font> [] gens; <font color="#0000ff">static</font> <font color="#2b91af">Random</font> random = <font color="#0000ff">new</font> <font color="#2b91af">Random</font> (); <font color="#0000ff">public</font> Chromosome() { <font color="#0000ff">this</font> .gens = <font color="#0000ff">new</font> <font color="#0000ff">double</font> [3]; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i = 0; i &lt; 3; i++) { <font color="#0000ff">this</font> .gens[i] = random.NextDouble() * 100; } <font color="#0000ff">this</font> .fit = fitness( <font color="#0000ff">this</font> ); } <font color="#0000ff">public</font> <font color="#0000ff">int</font> CompareTo( <font color="#0000ff">object</font> obj) } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">public</font> <font color="#0000ff">class</font> Chromosome : IComparable { <font color="#0000ff">public</font> <font color="#0000ff">double</font> [] gens; <font color="#0000ff">static</font> <font color="#2b91af">Random</font> random = <font color="#0000ff">new</font> <font color="#2b91af">Random</font> (); <font color="#0000ff">public</font> Chromosome() { <font color="#0000ff">this</font> .gens = <font color="#0000ff">new</font> <font color="#0000ff">double</font> [3]; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i = 0; i &lt; 3; i++) { <font color="#0000ff">this</font> .gens[i] = random.NextDouble() * 100; } <font color="#0000ff">this</font> .fit = fitness( <font color="#0000ff">this</font> ); } <font color="#0000ff">public</font> <font color="#0000ff">int</font> CompareTo( <font color="#0000ff">object</font> obj) } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> </ol> <code><font color="gray"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">class</font> Chromosome : IComparable { <font color="#0000ff">public</font> <font color="#0000ff">double</font> [] gens; <font color="#0000ff">static</font> <font color="#2b91af">Random</font> random = <font color="#0000ff">new</font> <font color="#2b91af">Random</font> (); <font color="#0000ff">public</font> Chromosome() { <font color="#0000ff">this</font> .gens = <font color="#0000ff">new</font> <font color="#0000ff">double</font> [3]; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i = 0; i &lt; 3; i++) { <font color="#0000ff">this</font> .gens[i] = random.NextDouble() * 100; } <font color="#0000ff">this</font> .fit = fitness( <font color="#0000ff">this</font> ); } <font color="#0000ff">public</font> <font color="#0000ff">int</font> CompareTo( <font color="#0000ff">object</font> obj) }</font> * This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  A value of 100 is chosen as an example; this will not limit the generality, even if the desired parabola will have cof 100 <br>  Note the CompareTo method, which allows us to sort the lists of Chromosome objects. <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a></code> <ol><li>  <font color="#0000ff">public</font> <font color="#0000ff">class</font> Population </li><li>  { </li><li>  <font color="#2b91af">Random</font> random = <font color="#0000ff">new</font> <font color="#2b91af">Random</font> (); </li><li>  <font color="#0000ff">public</font> <font color="#2b91af">List</font> &lt;Chromosome&gt; population; </li><li>  <font color="#0000ff">public</font> <font color="#0000ff">int</font> count; </li><li>  <font color="#0000ff">public</font> <font color="#0000ff">double</font> crossProbability; </li><li>  <font color="#0000ff">public</font> <font color="#0000ff">double</font> MutationProbability; </li><li>  <font color="#0000ff">public</font> <font color="#0000ff">int</font> age; </li><li></li><li>  <font color="#0000ff">public</font> Population () </li><li>  { </li><li>  <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i = 0; i &lt;5000; i ++) </li><li>  { </li><li>  <font color="#0000ff">this</font> .population.Add ( <font color="#0000ff">new</font> Chromosome ()); </li><li>  } </li><li>  } </li><li></li><li>  <font color="#0000ff">public</font> <font color="#0000ff">void</font> GoToNextGeneration () </li><li>  { </li><li>  Chromosome chromosome; </li><li>  <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i = 0; i &lt;count; i ++) </li><li>  { </li><li>  chromosome = population [i]; </li><li></li><li>  <font color="#0000ff">if</font> (random.NextDouble () &lt;crossProbability) </li><li>  { </li><li>  population.Add (Cross (chromosome, population [random.Next (count)])); </li><li>  } </li><li>  } </li><li></li><li>  <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i = 0; i &lt;population.Count; i ++) </li><li>  { </li><li>  <font color="#0000ff">if</font> (random.NextDouble () &lt;MutationProbability) </li><li>  { </li><li>  population.Add (Mutate (population [i])); </li><li>  } </li><li>  } </li><li></li><li>  population.Sort (); </li><li>  population.RemoveRange (count, population.Count-count); </li><li></li><li>  age ++; </li><li>  } </li><li></li><li>  Chromosome Cross (Chromosome a, Chromosome b) </li><li>  Chromosome Mutate (Chromosome a) </li><li>  <font color="#0000ff">double</font> Fitness (Chromosome a) </li><li>  } </li></ol>  <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> </blockquote><br><br>  Here it is, the evolution in twenty lines!  This will be the heart of our program. <br>  In the first part, we get the progeny from the already existing population, and add it to the end of the list, i.e.  All "children" will be located under the number greater than count. <br>  The second step is a mutation, it would be logical to mutate the chromosome itself, rather than add a mutated clone, but in this case we lose the solution contained in the original chromosome, and it may be the best in the population. <br>  Finally, at the end we sort our entire resulting population by the ascending Fitness function, (hence, by decreasing the correctness of the solution) we remove the least ‚Äúadapted‚Äù chromosomes, and increase the number of the current epoch. <br><br>  Let's look at what are the last three functions that perform operations on our chromosomes? <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a></code> <ol><li>  Chromosome Cross (Chromosome a, Chromosome b) </li><li>  { </li><li>  <font color="#0000ff">double</font> [] pair = <font color="#0000ff">new</font> <font color="#0000ff">double</font> [3]; </li><li></li><li>  <font color="#0000ff">for</font> (int i = 0; i &lt;3; i ++) </li><li>  { </li><li>  <font color="#0000ff">if</font> ((random. <font color="#0000ff">Next</font> ()% 2) == 0) </li><li>  { </li><li>  pair [i] = a.Gens [i] + (b.Gens [i] - a.Gens [i]) * 0.1; </li><li>  } </li><li>  <font color="#0000ff">else</font> </li><li>  { </li><li>  pair [i] = b.Gens [i] - (b.Gens [i] - a.Gens [i]) * 0.1; </li><li>  } </li><li>  } </li><li></li><li>  Chromosome result = <font color="#0000ff">new</font> Chromosome (pair); </li><li>  <font color="#0000ff">return</font> result; </li><li>  } </li></ol>  <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> </blockquote><br><br>  The implementation of the crossover operator can be quite diverse, and, usually, is selected for a specific task.  Here, with a probability of 0.5, for each gene, the descendant will receive it from the first parent or, with the same probability, from the second parent. <br>  The amendment (b.Gens [i] - a.Gens [i]) * 0.1 is made to somehow diversify the population with a new genotype. <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a></code> <ol><li>  Chromosome Mutate (Chromosome a) </li><li>  { </li><li>  <font color="#0000ff">double</font> [] pair = ( <font color="#0000ff">double</font> []) a.Gens.Clone (); </li><li>  <font color="#0000ff">int</font> geneNum = random.Next (3); </li><li>  pair [geneNum] = random.NextDouble () * 100; </li><li>  <font color="#0000ff">return</font> <font color="#0000ff">new</font> Chromosome (pair, a.chromosomeSettings); </li><li>  } </li></ol>  <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> </blockquote><br><br>  As promised, the mutation operator changes one random gene. <br>  Let's take a look at the most interesting, how are we going to determine how close our chromosome is to the ideal solution? <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a></code> <ol><li>  <font color="#0000ff">double</font> GetFitness (Chromosome a) </li><li>  { </li><li>  <font color="#0000ff">double</font> result = 0; </li><li>  <font color="#0000ff">double</font> temp; </li><li>  <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i = 0; i &lt;funcLength; i ++) </li><li>  { </li><li>  temp = <font color="#2b91af">Math</font> .Abs (Func (i, a.Gens) - funcArray [i]); </li><li>  result + = temp; </li><li>  } </li><li></li><li>  <font color="#0000ff">return</font> result; </li><li>  } </li><li></li><li>  <font color="#0000ff">double</font> Func ( <font color="#0000ff">double</font> x, <font color="#0000ff">double</font> [] gens) </li><li>  { </li><li>  <font color="#0000ff">double</font> result = 0; </li><li>  <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i = 2; i&gt; = 0; i--) </li><li>  { </li><li>  result + = gens [2-i] * <font color="#2b91af">Math</font> .Pow (x, i); </li><li>  } </li><li>  <font color="#0000ff">return</font> result; </li><li>  } </li></ol>  <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> </blockquote><br><br>  The funcArray array is obtained by scanning the image from the bottom up through the columns, each column is an array index, the height of the first black point found in the column is a value. <br>  Function Func - returns the value of the 2nd degree equation at the point x, with coefficients from the gens array <br>  It turns out Fitness is the sum of ‚Äúerrors‚Äù, for each point of our parabola, which is in the figure.  Such a function does not have a single minimum, but, nevertheless, provides sufficient convergence of the algorithm. <br><br>  Result: <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/0e9/5a3/110/0e95a31100fdfb9ee298d14fa00ee2cb.gif" alt="Result"><br>  With the number of chromosomes in the population = 5000, on the 25th generation we get a fairly close similarity. <br>  This algorithm can be extended to curves of any order =) <br><br>  Sources: <a href="http://slil.ru/27874467">slil.ru/27874467</a> <br>  <b>UPD</b> : Transfer to Artificial Intelligence </div><p>Source: <a href="https://habr.com/ru/post/66121/">https://habr.com/ru/post/66121/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../66113/index.html">Trojan.win32.vkhost.an - about stealing Vkontakte accounts and Odnoklassniki</a></li>
<li><a href="../66115/index.html">OS and web server - more fun together</a></li>
<li><a href="../66117/index.html">Exploring ASP.NET + ADO.NET + Silverlight</a></li>
<li><a href="../66118/index.html">How does DHL work?</a></li>
<li><a href="../66119/index.html">Windows 7 - shit!</a></li>
<li><a href="../66122/index.html">Should music be distributed freely?</a></li>
<li><a href="../66125/index.html">TAG_ADD Plugin</a></li>
<li><a href="../66127/index.html">Sync your bookmarks in Google Chrome</a></li>
<li><a href="../66128/index.html">Suddenly. Fx 3.5.2</a></li>
<li><a href="../66134/index.html">Promo site - to make simple, but impressive</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>