<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Android application architecture. Part II - architectural styles and patterns</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article we will talk about architectural patterns used in Android applications. 

 Why is it important to understand patterns implemented with...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Android application architecture. Part II - architectural styles and patterns</h1><div class="post__text post__text-html js-mediator-article">  In this article we will talk about architectural patterns used in Android applications. <br><br>  Why is it important to understand patterns implemented within a certain architecture?  Because in this way the new architecture we are studying fits into the context of our previous experience and allows us to more effectively use the accumulated knowledge and skills. <br><br>  Maybe I was looking badly, but in the Android documentation there is no mention of any templates.  Despite this, Android has implemented some templates and architectural styles, which we will now discuss. <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The Android architecture is framework-based, as opposed to a free-style architecture. <br><br>  What is the difference?  Free applications written in Java begin with a class that has a <i>main ()</i> method, and are developed in full accordance with the developer's mood. <br><br>  In contrast, framework-oriented applications are based on an existing framework.  Their development boils down to the expansion of certain classes or the implementation of interfaces provided by the framework.  Such an application can not be run without or without the framework.  An example would be Java web applications in which developers implement the <a href="http://download.oracle.com/javaee/5/api/">Servlet</a> interface or extend one of its implementations, or <a href="http://wiki.eclipse.org/index.php/Rich_Client_Platform">Eclipse RCP</a> applications in which the developer extends one of the <a href="http://wiki.eclipse.org/FAQ_How_do_I_get_started_with_creating_a_custom_text_editor%253F">Editor</a> or <a href="http://www.eclipse.org/articles/viewArticle/ViewArticle2.html">View</a> classes. <br><br>  A framework-oriented architecture restricts the freedom of developers, prescribing them what to do and how.  But, as a result, the repeated sections of the code (boilerplate code) disappear, and developers have to (I would like to believe in it) to carefully follow the design patterns. <br><br>  There are many frameworks for Java.  However, the Android team decided to create their own.  Perhaps one of the reasons why they did this was the need to maintain a unique memory management system. <br><br>  In a ‚Äúregular‚Äù Java, the objects are in memory until the garbage collector reaches them.  This happens only when the object has no links from ‚Äúlive‚Äù objects (you can read more <a href="http://chaoticjava.com/posts/how-does-garbage-collection-work/">here</a> ).  In Android, it is not.  If a certain user interface is hidden (that is, it is no longer visible on the screen), then there is no guarantee that it is in memory, even if the application is going to use it in the future.  If the Android OS has enough free memory, these objects can be stored in it, but the garbage collector can destroy them at any time when the OS decides that there is too little memory left.  The same is true for processes.  A process that currently does not show the user any graphical interface can be completely destroyed by Android OS (there is one exception to this rule - <a href="http://developer.android.com/reference/android/app/Service.html">services</a> ; we will talk about this later). <br><br>  Consider an example.  Let our application have screens A and B. The user first opens screen A, and then screen B;  from now on, screen A has become invisible.  This means that screen A and all of the logic contained in it may or may not be in memory.  So, there is no guarantee that objects associated with screen A are in memory as long as screen B. is visible. Screen logic B should not be tied to finding screen objects A in memory.  A side effect is that the Android architecture forces the use of the <a href="http://en.wikipedia.org/wiki/Shared_nothing">‚Äúshared nothing‚Äù</a> architectural style.  This means that different parts of the Android application can call each other and interact with each other only formally;  none of them can directly access the other. <br><br>  Well, what happens if the user decides to return to screen A?  Perhaps he wants to see him in the same condition in which he left him, right?  Here's how the Android framework solves this problem: for each state of the life cycle there are methods, each of which can be redefined by the developer.  These methods are called by the framework at predetermined key moments, for example, when the user interface is shown on the screen, hidden, etc.  In these methods, the developer can implement logic for storing and restoring the state of objects. <br><br>  Such processing of hiding user interfaces and the existence of a ‚Äúback‚Äù button on Android devices necessitates a user interface <a href="http://en.wikipedia.org/wiki/Stack_%2528data_structure%2529">stack</a> in which the current visible interface is placed on top, and all others are moved down (stack operation ‚Äúpush‚Äù).  Clicking ‚Äúback‚Äù removes the interface from the top of the stack and shows the element that was behind it (the ‚Äúpop‚Äù stack operation).  A similar stack exists in Android.  In the documentation, it is called ‚Äúactivity stack‚Äù or sometimes <a href="http://developer.android.com/guide/topics/fundamentals/tasks-and-back-stack.html">‚Äúback stack‚Äù</a> . <br><br>  In terms of processing the interaction between the user interface and its Android logic, it follows the architectural pattern <a href="http://en.wikipedia.org/wiki/Model_View_ViewModel">‚ÄúModel-View-ViewModel‚Äù</a> (MVVM).  This is good news for developers, because MVVM is the best GUI application architecture at the moment. <br><br>  The MVVM architecture was created with the aim of separating the designer and programmer‚Äôs work, which is impossible when a Java developer tries to build a Swing GUI or a Visual C ++ developer tries to create a user interface in MFC.  Developers are smart guys and have a lot of skills, but creating user-friendly and attractive interfaces requires completely different talents than the ones they have.  This work is more suitable for interface designers.  Good interface designers know better what users, rather than experts in the field of design and writing code, know.  Clearly, it will be better if the interface designer creates an interface, and the developer writes code that implements the logic of this interface, but technologies like Swing or MFC simply do not allow to do this. <br><br>  The MVVM architecture solves this problem by a clear division of responsibility: <br><br><ul><li>  User interface development is done by the interface designer using technology that is more or less natural for such work (XML). </li><li>  The user interface logic is implemented by the developer as a component of the ViewModel. </li><li>  Functional links between the user interface and the ViewModel are implemented through bindings, which, in essence, are rules like "if the button A was pressed, the onButtonAClick () method from the ViewModel should be called."  Binding can be written in code or defined in a declarative way (Android uses both types). </li></ul><br>  The MVVM architecture is used in one form or another by all modern technologies, such as Microsoft WPF and Silverlight, Oracle JavaFX, Adobe Flex, AJAX. <br><br>  We mentioned that different parts of an Android application can call each other and interact with each other only formally.  How is this achieved?  The Android framework uses several interaction templates: <br><br><ul><li>  <a href="http://en.wikipedia.org/wiki/Message_passing">Messaging</a> with the <a href="http://developer.android.com/reference/android/content/Intent.html">Intent</a> class </li><li>  <a href="http://en.wikipedia.org/wiki/Publish_subscribe">Observer</a> using the Intent and <a href="http://developer.android.com/reference/android/content/BroadcastReceiver.html">BroadcastReceiver</a> classes </li><li>  <a href="http://en.wikipedia.org/wiki/Late_binding">Later binding</a> with a subsequent method call is used to access content providers ( <a href="http://developer.android.com/reference/android/content/ContentProvider.html">ContentProviders</a> ) and local (intra-process) services ( <a href="http://developer.android.com/reference/android/app/Service.html">Services</a> ) </li><li>  <a href="http://en.wikipedia.org/wiki/Late_binding">Late binding</a> and interprocess communication ( <a href="http://en.wikipedia.org/wiki/Inter-process_communication">Inter-process Procedure Communication</a> , IPC) for <a href="http://developer.android.com/reference/android/app/Service.html">service</a> call (AIDL) </li></ul><br>  Do not worry if any of this sounds incomprehensible.  Detailed explanations will be in the following articles. <br><br>  That's all for today. <br><br>  Previous article: <a href="http://habrahabr.ru/post/140459/">Android application architecture.</a>  <a href="http://habrahabr.ru/post/140459/">Part I - the origins</a> <br><br>  The following articles: <br><ul><li>  <a href="http://habrahabr.ru/post/141201/">Android application architecture.</a>  <a href="http://habrahabr.ru/post/141201/">Part III - the main parts of the application</a> </li><li>  <a href="http://habrahabr.ru/post/141504/">Android application architecture.</a>  <a href="http://habrahabr.ru/post/141504/">Part IV - integration level</a> </li></ul></div><p>Source: <a href="https://habr.com/ru/post/140655/">https://habr.com/ru/post/140655/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../140644/index.html">Using mental maps for teaching with the example of Cisco CCNA Exploration</a></li>
<li><a href="../140645/index.html">Asterisk + FreePBX + 7937G</a></li>
<li><a href="../140647/index.html">XBMC 11 released</a></li>
<li><a href="../140649/index.html">Monitor file system changes</a></li>
<li><a href="../140651/index.html">Old news as the main traffic generator</a></li>
<li><a href="../140656/index.html">Why am I back at Microsoft?</a></li>
<li><a href="../140657/index.html">Ultra-fast camera allows you to look around the corner</a></li>
<li><a href="../140658/index.html">Integration of DBUnit and Spring TestContext Framework</a></li>
<li><a href="../140659/index.html">GPU needs to be overclocked 2000 times to reach the anatomical limit</a></li>
<li><a href="../140662/index.html">Failure in the data center "Oversan-Mercury"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>