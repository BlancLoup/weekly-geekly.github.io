<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Canvas FAQ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A few days ago I suggested asking questions on Canvas on Habr√©. Under Habrakat - answers to 27 questions. 


 1. Why do I need Canvas, what is it all ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Canvas FAQ</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage/habraeffect/f3/8c/f38c00f95752574750090cbafa2d42c3.png"><br>  A few days ago I suggested asking questions on Canvas on Habr√©.  Under Habrakat - answers to 27 questions. <br><br><a name="habracut"></a><br><h3>  1. Why do I need Canvas, what is it all about, what is browser support, what is the main area of ‚Äã‚Äãapplication, how developed are the frameworks, examples? </h3><br>  Canvas is a low-level API for drawing graphics.  Supported by all modern browsers.  Naturally not supported by older versions of IE (8 and below) <br>  The frameworks are evolving, although they still need to grow up.  Basic examples can be <a href="https://developer.mozilla.org/ru/%25D0%259E%25D0%25B1%25D1%2583%25D1%2587%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5_canvas">found at MDC</a> .  More powerful examples can be searched on sites a la <a href="http://www.chromeexperiments.com/">Chrome Experiments</a> or in examples of applications on frameworks, for example <a href="http://libcanvas.github.com/">LibCanvas</a> <br><br><h3>  2. When should I use Canvas, and when should I use Flash? </h3><br> <a href="http://trends.openstat.ru/global-statistic-browserplugin/"><img src="https://habrastorage.org/storage/habraeffect/ca/33/ca338240e115241c3bc44a233c1f11a7.png"></a> <br>  Flash is faster, cross-browser, with good tools and frameworks. <br>  Canvas is currently used mainly by enthusiasts and experimenters. <br>  There is no special reason to leave the flasher from the market. <br>  But such large players as Google, Mozilla, Apple, Microsoft are engaged in Canvas, they all optimize and speed up the rendering of Canvas, gradually disappear old browsers and new ones come.  Look at Firefox 2.0 and Firefox 4.0.  For three years, the speed increased by an order of magnitude and the main leap was made with the release of the fourth version.  Similarly - Opera.  Also, during this time Chrome managed to appear and release 12 major versions of its browser.  In general, HTML5 and Canvas in particular have a bright future. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  3. When to use Canvas, and when SVG? </h3><br>  This is a holivar topic.  There are different views on it. <br>  Read this discussion: <a href="http://habrahabr.ru/blogs/javascript/114129/">habrahabr.ru/blogs/javascript/114129/#comment_3678242</a> <br>  See this picture: <br> <a href="http://www.themaninblue.com/writing/perspective/2010/03/22/"><img src="https://habrastorage.org/storage/habraeffect/1a/ad/1aadac7e1668eef22b950f3c97750250.png"></a> <br>  Read the article " <a href="http://blogs.msdn.com/b/ie/archive/2011/04/22/thoughts-on-when-to-use-canvas-and-svg.aspx">Thoughts on when to use Canvas and SVG</a> " <br><br>  On the one hand, when using Canvas, you will need to implement what is already implemented in SVG.  On the other hand, in the Canvas, you can apply such optimizations that are impossible in the SVG, for example, drawing from the cache. <br><br>  On mobile phones, the actual use of CSS3 instead of SVG and Canvas, because  It is accelerated by hardware and works very smoothly. <br><br><h3>  4. What literature to read? </h3><br>  I recommend starting with the <a href="https://developer.mozilla.org/ru/%25D0%259E%25D0%25B1%25D1%2583%25D1%2587%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5_canvas">Mozilla Developers Network</a> , it‚Äôs very cool and the basics of Canvas are described here with examples.  After that, invent yourself a task and try to implement it.  The API is very simple, the main thing is experience. <br><br>  There is a fresh book " <a href="http://oreilly.com/catalog/0636920013327">HTML5 Canvas</a> " by O'Reilly Media.  I have not read, but O'Reilly usually produces cool books. <br><img src="https://habrastorage.org/storage/habraeffect/51/9d/519da48abd3e17f482279d9d4973f25c.gif"><br><br><h3>  5. How to make screenshot Canvas? </h3><br>  There is a small library <a href="http://www.nihilogic.dk/labs/canvas2image/">canvas2image</a> that allows you to save Canvas to the server, to the client.  On the client, saving is done using toDataURL.  The server gets the content using getImageData, is translated to base64 code and sent by a POST request.  On the server, it is enough to do something like this code: <br><br><pre><code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">empty</span></span>($_POST[<span class="hljs-string"><span class="hljs-string">'data'</span></span>])) <span class="hljs-keyword"><span class="hljs-keyword">exit</span></span>; $data = $_POST[<span class="hljs-string"><span class="hljs-string">'data'</span></span>]; $name = md5($data); $file = <span class="hljs-string"><span class="hljs-string">"$path/$name.png"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!file_exists($file)) { $image = str_replace(<span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-string"><span class="hljs-string">"+"</span></span>, $data); $image = substr($image, strpos($image, <span class="hljs-string"><span class="hljs-string">","</span></span>)); file_put_contents($file, base64_decode($image)); } <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $file;</code> </pre> <br><br>  Also, the answer from <a href="https://habrahabr.ru/users/azproduction/" class="user_link">azproduction</a> <br><blockquote>  If ‚ÄúCanvas screenshot === Save the canvas as a picture‚Äù, then: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/*  */</span></span> canvas.getAsFile(<span class="hljs-string"><span class="hljs-string">"test.jpg"</span></span>, <span class="hljs-string"><span class="hljs-string">"image/jpeg"</span></span>); <span class="hljs-comment"><span class="hljs-comment">// File https://developer.mozilla.org/en/DOM/File /*  */ canvas.toDataURL(); // String  data url /*  */ function test() { var canvas = document.getElementById("canvas"); var f = canvas.mozGetAsFile("test.png"); var newImg = document.createElement("img"); newImg.src = f.toDataURL(); document.body.appendChild(newImg); }</span></span></code> </pre><br>  <a href="https://developer.mozilla.org/en/DOM/HTMLCanvasElement">Read</a> <br><br>  Important You must set the fixed dimensions of the canvas (via width / height or style), otherwise you will get bad data from toDataURL <br></blockquote><br><br><h3>  6. Interested in methods of improving performance (raising fps). </h3><br>  There are various optimization methods that depend on the application.  I described three of them in the topic of <a href="http://habrahabr.ru/blogs/canvas/118567/">Fifteen on LibCanvas</a> .  It: <br>  * Update canvas only when needed <br>  * Instead of redrawing the entire canvas, redraw only the changed pieces. <br>  * Drawing objects into the buffer (which allows you to draw an object each frame as a set of pixels, rather than applying all filters and a bunch of matan) <br>  You will be greatly helped by the profiler in your favorite browser. <br><br><h3>  7. Work with video capture </h3><br>  <a href="https://habrahabr.ru/users/azproduction/" class="user_link">azproduction</a> : <br><blockquote>  If you're talking about capturing video from the camera: <br>  The API is only in the draft draft of the <a href="http://www.w3.org/TR/media-capture-api/">Media Capture API. The</a> closest release of the specification is possible in <a href="http://wiki.phonegap.com/w/page/35606163/Planning:-Media-Capture-API">PhoneGap</a> - perhaps there is a trunk.  Working with him will be very easy.  The handler hangs on the ‚Äúdevice‚Äù, each frame is transmitted as an image in the data uri format: <br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">success</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">data</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> container = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.createElement(<span class="hljs-string"><span class="hljs-string">"div"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> data) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> img = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.createElement(<span class="hljs-string"><span class="hljs-string">"img"</span></span>); img.src = data[i].url; container.appendChild(img); } <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.body.appendChild(container); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">error</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">err</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (err.code === err.CAPTURE_INTERNAL_ERR) { alert(<span class="hljs-string"><span class="hljs-string">"The capture failed due to an internal error."</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { alert(<span class="hljs-string"><span class="hljs-string">"Other error occured."</span></span>); } } navigator.device.capture.captureImage(success, error, { <span class="hljs-attr"><span class="hljs-attr">limit</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span> });</code> </pre> </blockquote><br><br><br><h3>  8. What is the most effective solution at the moment for pixel-by-pixel access when drawing an arbitrary image to a Canvas (without WebGL)?  For example, hand-drawn faces when building 3D using Gouraud / Phongue shading. </h3><br>  Look at two topics: <br>  <a href="http://habrahabr.ru/blogs/crazydev/93594/">habrahabr.ru/blogs/crazydev/93594</a> <br>  <a href="http://habrahabr.ru/blogs/crazydev/94519/">habrahabr.ru/blogs/crazydev/94519</a> <br><br>  For pixel-by-pixel access, there is only one solution - use <a href="https://developer.mozilla.org/En/HTML/Canvas/Pixel_manipulation_with_canvas">getImageData</a> <br><br><h3>  9. Are there ways to scale the canvas with all the insides to fit the screen effectively and cross-platform? </h3><br>  Try using css.  canvas {width: 100%;  height: 100%;  }.  Something like this.  But the js-code should take into account this piece, because  the coordinates will shift. <br><br><h3>  10. Support and speed on Android / iOS devices </h3><br>  Supported fully.  True, I on iPhone2 noticed the lack of support for fillText, but this is the only thing. <br>  Performance problem, but something can be run.  While for mobile phones it is better to use CSS3.  Perhaps in the future, something will change. <br><br><h3>  11. Interested in the fastest way to draw a point (for example, for graphics).  Single-pixel and four-pixel, arbitrary color. </h3><br>  The fastest in terms of performance is to use fillRect for single renderings and getImageData + putImageData for mass renders. <br><br><h3>  12. In what form the ‚Äúworld‚Äù is stored, displayed and redrawn in games with a side view (like playbiolab.com), i.e.  the player ran to the right the camera moved with him and the world "moved" </h3><br>  I do not know exactly how it is done in biolab.  There are several ways.  You can overlay several canvas layers on each other, draw on the lower world and display the desired part using CSS. <br><br><h3>  13. 3d-canvas </h3><br>  <a href="http://habrahabr.ru/blogs/canvas/117772/">Three.js - 3d Javascript engine</a> <br><br><h3>  14. Editors - what to write? </h3><br>  Any JavaScript editor is suitable.  I used to use Netbeans 7, now I switched to Jetbrains WebIde <br><br><h3>  15. Database </h3><br>  For storing data on the client side, there are two modern standards - <a href="http://www.w3.org/TR/webstorage/">webStorage</a> and <a href="http://www.w3.org/TR/IndexedDB/">IndexedDB</a> . <br>  IndexedDB is a cool interface with a bunch of features, <a href="http://habrahabr.ru/blogs/webdev/117473/">described on Habr√©</a> , and webStorage is a <a href="https://developer.mozilla.org/en/DOM/Storage">simple key-value store</a> <br><br><h3>  16. Canvas and IE </h3><br>  In IE, version 9 is not supported.  All attempts to make it supported can be called suitable only for a very narrow range of tasks and do not give imputed speed. <br>  IMHO, the only option is <a href="http://ru.wikipedia.org/wiki/Google_Chrome_Frame">Google Chrome Frame</a> , a plugin that installs on a semi-browser as Flash or SilverLight and turns <strike>shit into a candy</strike> Internet Explorer into a modern browser. <br><br><h3>  17. How to calculate the distance between the drawn objects, whether there are ready-made solutions </h3><br>  Depends on objects.  Some things are done very simply.  For example, the distance between points is considered according to the Pythagorean theorem.  Between the circles - count the distance between points from submultiples.  More complex figures have their own laws. <br>  Something (at least the intersection of rectangles / circles / polygons) is already in <a href="https://github.com/theshock/libcanvas">LibCanvas</a> .  If you have any special requirements - you need to look for algorithms.  I can advise this: <br>  <a href="http://noregret.org/tutor/n/collision/">Known collision detection and response algorithms in flash.</a> <br><br><h3>  18. How and by what means is it better to do animations on Canvas? </h3><br>  Recently there was a good topic " <a href="http://habrahabr.ru/blogs/canvas/119585/">Animation and Canvas</a> ".  Also, in the comments I <a href="http://habrahabr.ru/blogs/canvas/119585/">talked about my implementation with the help of LibCanvas</a> . <br><br><h3>  19. Work with text in Canvas (including animation) </h3><br>  The text is <a href="https://developer.mozilla.org/en/Drawing_text_using_a_canvas">drawn with fillText / strokeText</a> .  Your fonts <a href="http://www.css3.info/preview/web-fonts-with-font-face/">can be connected using CSS3</a> . <br>  It is affected by all the rules - such as shadows, transformations, setting colors, etc.  For example, with the help of a light shade on a dark background, you can easily <a href="http://libcanvas.github.com/ui/button.html">make a glowing text</a> <br><br><h3>  20. Work with images. </h3><br>  How to work with images is <a href="https://developer.mozilla.org/ru/%25D0%259E%25D0%25B1%25D1%2583%25D1%2587%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5_canvas/%25D0%2598%25D1%2581%25D0%25BF%25D0%25BE%25D0%25BB%25D1%258C%25D0%25B7%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5_%25D0%25BA%25D0%25B0%25D1%2580%25D1%2582%25D0%25B8%25D0%25BD%25D0%25BE%25D0%25BA">very coolly described in the MDC</a> . <br><br><h3>  21. Using Backbuffer, how to draw one Canvas into another. </h3><br>  You can draw any information into a hidden Canvas, which is then used just like a picture (see previous item). <br>  Buffering allows you to speed up the drawing repeatedly.  For example, <a href="http://jsfiddle.net/8fPqV/4/">drawing one gradient from the buffer is 5 times faster than drawing the same gradient directly</a> . <br>  It is very easy to use: <br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//    : var buffer = document.createElement('canvas'); buffer.width = 64; buffer.height = 32; buffer.ctx = buffer.getContext('2d'); //    LibCanvas: var buffer = LibCanvas.Buffer(64, 32, true); //      buffer.ctx.fillRect(/* */) //     : var ctx = canvas.getContext('2d'); ctx.drawImage( buffer, 0, 0 );</span></span></code> </pre><br><br><h3>  22. Animation in canvas is done using the full redraw method.  Thus, information about all objects is stored in the JS object and is redrawn every time, or how to create sprites and layers? </h3><br>  Yes, there are various techniques.  You can use buffers in order not to draw dozens of small objects, you can redraw the canvas only partially, but more often it‚Äôs cheaper to just redraw everything than to understand what needs to be redrawn and what isn‚Äôt. <br><br><h3>  23. I would like to know how to draw a 3D object using canvas (preferably with a perspective) and rotate it? </h3><br>  <a href="http://codentronix.com/2011/05/10/html5-experiment-a-rotating-solid-cube/">HTML5 Experiment: A Rotating Solid Cube</a> <br><br><h3>  24. Drawing SVG in Canvas </h3><br>  Can with <a href="http://habrahabr.ru/blogs/javascript/89315/">CanVG</a> .  Almost no sense) <br><br><h3>  25. How different is browser support, or does everyone follow the standard? </h3><br>  The differences are minimal.  There were minor bugs, minor inconsistencies.  For example, Opera could not draw a rectangle with negative side sizes: <br><pre> <code class="javascript hljs">ctx.fillRect(<span class="hljs-number"><span class="hljs-number">50</span></span>, <span class="hljs-number"><span class="hljs-number">50</span></span>, <span class="hljs-number"><span class="hljs-number">-20</span></span>, <span class="hljs-number"><span class="hljs-number">-20</span></span>);</code> </pre><br>  Pictures are compressed and rotated in different ways.  For example, in Chrome, when turning at the corners, teeth are noticeable (no smoothing) <br><img src="https://habrastorage.org/storage/habraeffect/ea/da/eadaadeda4bab447712320f75fb186ba.png"><br>  But he is better than Fx and Opera stretches the images: <br><img src="https://habrastorage.org/getpro/habr/post_images/155/7b9/821/1557b982193ff73ceb30f9e67b3bad7e.png"><br><br>  There are still minor differences in javascript.  For example, in some browsers, <code>sort</code> implements an unstable sort, so if the elements are sorted by Z-index, then elements with the same Z-index will be swapped. <br><br>  These are very small nuances.  Most are hidden behind friendly framework APIs.  Personally, I develop only for one browser and in most cases everything works perfectly in the rest. <br><br><h3>  26. putImageData vs drawImage </h3><br>  I'll be brief - <a href="http://jsfiddle.net/8fPqV/10/">putImageData is much slower</a> .  Moreover, with the increase in the size of the picture - the slowness increases. <br><br><h3>  27. I would be very interested to hear about typical implementations of the main functionality of canvas libraries, such as: emulating layers, defining the active element (where the cursor is currently located), creating an event management system, etc. </h3><br>  This question was asked to me more often, because for him - a <a href="http://habrahabr.ru/blogs/canvas/119773/">separate topic</a> ) <br><br><h2>  Unanswered Questions </h2><br>  <i>Guys, who can give answers to these questions - please in the comments</i> <br><br>  1. How to display text on canvas in IE (IE8- + excanvas.js)?  I tried text.canvas.js from google code - it displays an error about the lack of something glyphs. <br>  I do not use emulation in IE <br><br>  2. Are there any secret libraries that can draw lines of varying thickness?  In the case of straight lines, it is relatively easy to implement in a ‚Äúcrutch‚Äù way, but all Bezier curves are apparently only at a low pixel level. <br><br>  3. Are there any secret libraries that can draw gradient coloring lines.  Well, that is, so that the color smoothly changes between nodes along the line, not necessarily straight.  Such a function is, for example, in OpenGL. <br><br><h2>  Conclusion </h2><br>  If something is not clear - ask questions, we will supplement) If your question is not answered or even not asked - ask again in the comments.  If you don't have a reg, you can email me at shocksilien@gmail.com <br>  Like this topic format? </div><p>Source: <a href="https://habr.com/ru/post/119772/">https://habr.com/ru/post/119772/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../119764/index.html">RIAA claims Box.Net for pirated user-distributed content</a></li>
<li><a href="../119765/index.html">Three computer games (30 bytes each)</a></li>
<li><a href="../119768/index.html">Home Accounting Restrictions</a></li>
<li><a href="../119769/index.html">IT Portfolio: Questions for the Habrasoobshchestvu and new functionality</a></li>
<li><a href="../119771/index.html">Organizing the sale of unnecessary things</a></li>
<li><a href="../119773/index.html">Creating a framework for Canvas: objects and mouse</a></li>
<li><a href="../119774/index.html">3 000 000 $ for the best algorithm</a></li>
<li><a href="../119775/index.html">North Korean Computer Center</a></li>
<li><a href="../119776/index.html">NetApp Metrocluster</a></li>
<li><a href="../119777/index.html">Outsourcing online stores</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>