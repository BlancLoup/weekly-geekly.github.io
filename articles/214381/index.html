<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Demonstration of Wiren Board Smart Home</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! 

 A little more than a week ago we opened the pre-order for Wiren Board Smart Home - our controller for home automation. In the previous artic...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Demonstration of Wiren Board Smart Home</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/ee8/367/d04/ee8367d04280ae17da4b8b8798d5708a.jpg" alt="image"><br><br>  Hello! <br><br>  A little more than a week ago we <a href="http://habrahabr.ru/company/contactless/blog/213243/">opened the pre-order</a> for Wiren Board Smart Home - our controller for home automation.  In the previous article, we talked about hardware, and in this one we‚Äôll start working with different peripherals and pay attention to the software.  This time, we will show work with relays, open collector outputs, 1-wire thermal sensors, as well as radio work with wireless consoles and Noolite lighting control units and Oregon sensors. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br>  So, to demonstrate the work, we assembled a stand: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/724/3b2/19d/7243b219d81389f16403d3364c778e7b.jpg" alt="image"><br><br>  First of all, the DIN-rail is fixed on the stand, where our Wiren Board Smart Home controller (1) and the power supply unit for 12V (2) are located.  The controller is connected to the Internet via Ethernet. <br><br>  Directly connected to the controller: <br><ul><li>  to relay output: controlled crane (3).  The valve opens when 12V voltage is applied to it.  It is also possible to connect a load of 220V to 1 kW to the relay outputs. </li><li>  to open collector transistor outputs: LED strips.  A piece of white LED strip (4) (under the cap) is connected to the output FET4, the RGB tape (5) is connected to the outputs FET1-FET3. </li><li>  Two digital temperature sensors based on DS18B20 (9.11) are connected in parallel to one of the 1-wire inputs. </li><li>  A standard contactless contactless card reader with a Wiegand interface (6) is connected to the inputs of R1, R2.  Digital inputs up to 12V can be connected to these inputs (in this case, the operating voltage of the Wiegand protocol is 5V).  Also, analog resistive sensors can be connected to the inputs of R1-R4;  while on the stand they are not. </li><li>  On one of the two RS-485 <a href="http://www.razumdom.ru/oborudovanie_rs485/row110/">buses</a> , there is a <a href="http://www.razumdom.ru/oborudovanie_rs485/row110/">MSU21</a> module (14) of the Sensible House <a href="http://www.razumdom.ru/oborudovanie_rs485/row110/">system</a> , designed to connect different sensors.  In our case, a temperature sensor (13) of type LM135 is connected to the module.  These modules work under the Modbus protocol and, accordingly, can coexist with other devices on the bus. </li></ul><br><br>  The stand also contains the equipment with which our controller operates using the built-in radio module for a frequency of 433Mhz: <br><ul><li>  The executive module (10) of the Noolite system ( <a href="http://www.noo.com.by/silovoj-blok-st111-500.html">ST111-500</a> ).  This power unit is used to control the incandescent lamp (12) </li><li>  Wall-mounted wireless controller (7) of the Noolite system ( <a href="http://www.noo.com.by/pult-pu-111-1.html">PU-111-1</a> ).  The remote works from batteries and transmits signals wirelessly to the controller. </li><li>  Wireless temperature and humidity sensor (8) for weather stations Oregon Scientific ( <a href="http://www.oregonscientific.ru/catalog/besprovodnoj-datchik-temperatury-i-vlazhnosti-%2528thgn132n%2529/">THGN132N</a> ).  About these sensors have already <a href="http://habrahabr.ru/post/165747/">written on Habr√©</a> .  Sensors are sold everywhere apart from weather stations at a reasonable price.  The sensor transmits readings to the controller approximately once every 40 seconds. </li></ul><br>  For clarity, two thermometers connected, respectively, via 1-wire and RS-485, are located next to the incandescent bulb, which is controlled through the Noollite unit.  When you turn on the bulb thermometer readings grow. <br><br><h4>  Control </h4><br>  In this demonstration, we used Ninja Blocks software, one of the two systems we support.  This is a cloud system, data from the device is sent to the server Ninja Blocks.  You can control devices and sensors using the <a href="https://a.ninja.is/">a.ninja.is</a> web interface. <br><br>  Main dashboard system: <br><img src="https://habrastorage.org/getpro/habr/post_images/fce/9df/15a/fce9df15aa5fc02e3fd1107a2fb0c4f0.png" alt="image"><br><br>  Each device has its own widget.  You can see widgets for controlling relay and transistor inputs, a widget for controlling Noolite devices, temperature and humidity widgets with readings from various sensors, etc. <br><br>  The Ninja Blocks web interface allows you to create various rules.  For example, a rule is created here that lights up the green LED strip if the temperature of the thermometer at the bulb is below 32 ¬∞ C: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7fd/c88/bc0/7fdc88bc0fff13b3c5b1540ba571e8b9.png" alt="image"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/b38/978/cc1/b38978cc1231bda74a11709e52c5d460.png" alt="image"><br><br>  Each sensor can view the history of changes in readings or even download it in machine-readable form: <br><img src="https://habrastorage.org/getpro/habr/post_images/113/f00/459/113f00459080fae1fb8b86ccb1834793.png" alt="image"><br><br>  For Ninja Blocks, there are applications for iPhone and Android for system management: <br><img src="https://habrastorage.org/getpro/habr/post_images/ddc/2a5/b41/ddc2a5b41d3b1037143169d68891a2ce.png" alt="image"><br><br>  Ninja Blocks also provides a REST interface for external applications and web services for managing devices and retrieving data from them.  There are several official external web applications from Ninja Blocks, for example, an application for building a simple home security system with event response. <br><br><h4>  BY </h4><br>  To implement all of the above, we have implemented: a library for working with a radio transceiver;  a daemon serving receiving and transmitting data from a radio transceiver and encoding / decoding protocols Noolite and Oregon Scientific, device drivers for Ninja Blocks (1-wire thermometers, outputs, noolite and oregon, as well as Intelligent Home modules). <br><br>  All code, as usual, is available on github: <br>  <a href="https://github.com/contactless/rfm69-linux">github.com/contactless/rfm69-linux</a> <br>  <a href="https://github.com/contactless/ninja-razumdom">github.com/contactless/ninja-razumdom</a> <br>  <a href="https://github.com/contactless/wb-smarthome-ninja">github.com/contactless/wb-smarthome-ninja</a> <br>  <a href="https://github.com/contactless/ninja-1wire-temp">github.com/contactless/ninja-1wire-temp</a> <br>  <a href="https://github.com/contactless/wiegand-linux-sysfs">github.com/contactless/wiegand-linux-sysfs</a> <br><br>  Carefully, work is still in progress! <br><br><h4>  Video </h4><br>  Stand description: <br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/DuoH8K5oA6g%3Ffeature%3Doembed&amp;xid=25657,15700021,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhgMs6WxDKGCW6zblMGTePuXQ_147g" frameborder="0" allowfullscreen=""></iframe><br><br>  Actually demonstration of work with the web interface of the Ninja Blocks system: <br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/mXOOMsXT088%3Ffeature%3Doembed&amp;xid=25657,15700021,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhhhqRAfE9eBrEgT59OT2wJWrcUYlg" frameborder="0" allowfullscreen=""></iframe><br><br>  Control via smartphone app (Ninja Blocks Remote): <br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/H5elcZ_VT-U%3Ffeature%3Doembed&amp;xid=25657,15700021,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhiZIedgRTc4wkVvN7y3mPBTNquYBQ" frameborder="0" allowfullscreen=""></iframe><br><br><h4>  Conclusion </h4><br>  Once again, we remind that the <a href="http://habrahabr.ru/company/contactless/blog/213243/">pre-order is open</a> for the Wiren Board Smart Home controller.  Orders are accepted until March 15, shipment is scheduled before the May holidays. <br><br>  In the following articles we will tell you more about working with a radio transceiver, about reverse engineering of the Noolite protocol, and, of course, about connecting other peripherals.  Follow the news! </div><p>Source: <a href="https://habr.com/ru/post/214381/">https://habr.com/ru/post/214381/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../21437/index.html">Google‚Äôs advanced search page has changed ...</a></li>
<li><a href="../214371/index.html">Contract programming in PHP</a></li>
<li><a href="../214373/index.html">Starry Sky on Canvas. Constellations</a></li>
<li><a href="../214377/index.html">Iron in the service of the algorithm (continued)</a></li>
<li><a href="../214379/index.html">How signals and slots work in Qt (part 1)</a></li>
<li><a href="../214385/index.html">Results Tizen App Chellange</a></li>
<li><a href="../214387/index.html">My smart home on .NET</a></li>
<li><a href="../214389/index.html">‚ÄúTo wash or not to wash?‚Äù Or how we launch our mobile application</a></li>
<li><a href="../21439/index.html">Sun is working on Java for the iPhone</a></li>
<li><a href="../214393/index.html">Exchange Server 2013 Service Pack 1: New Features</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>