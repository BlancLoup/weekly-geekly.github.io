<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Measuring the quality of the mobile Internet: where we are sharing a container of pink Samsung Galaxy S II</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="About six months ago, a container of Samsung Galaxy S II phones came in bright pink , which we immediately sent to our employees. Then a lot of intere...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Measuring the quality of the mobile Internet: where we are sharing a container of pink Samsung Galaxy S II</h1><div class="post__text post__text-html js-mediator-article">  <b>About six months ago, a container of Samsung Galaxy S II phones came in bright pink</b> , which we immediately sent to our employees.  Then a lot of interesting things happened to them: someone carried them in a car, someone wore them in a case, and some of them collected high-tech devices of this type: <br><br><img src="https://habrastorage.org/storage3/96b/ca8/87d/96bca887d44bbb7d59377bd37acbb660.gif"><br>  <i>Device for "information intelligence"</i> <br><br>  Why do we need all this?  It's pretty simple.  The fact is that in 2012, my unit was tasked with setting up a regular collection of statistics on the quality of the mobile Internet throughout the territory of the Beeline network. <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>At the beginning of the project, the introductory was this</b> : quite often the client calls the call-center, says that he has problems with mobile Internet (low speed, no connection, etc.), but from the point of view of network infrastructure everything looks fine.  In general, if there are several dozen of such situations, a mobile measuring laboratory can be sent to the site, but each of her visits is, in essence, nailing the microscope with nails. <br><br>  We were assigned the task of constantly making measurements of the quality of the mobile Internet in those places where there are clusters of subscribers in order to have a representative picture of statistics. <br><br>  Why do we need such measurements if there is internal monitoring of the network infrastructure?  It's simple: you should always look at the network not only from the point of view of infrastructure, but also from the point of view of subscribers.  That is, to simulate their usual use of the mobile Internet. <br><br>  The task of my team was to organize the collection of data and provide a variety of tools for their subsequent analysis and use.  We are like an encapsulated object in a huge company structure - we have been given the task, we need to give a stream of reliable data at the exit.  What will happen next - a question for other units. <br><br><h4>  Search for a solution </h4><br>  World experience has suggested that the most effective option in such cases is to enable customers themselves to collect information and notify about problems.  Some foreign operators offer mobile applications that essentially log all technical parameters and actions on the subscriber‚Äôs device and share statistics with the operator.  This is a good decision that I immediately had to give up for three simple reasons: <br><ul><li>  The code of business conduct of our company does not include the collection of such data, it is simply prohibited by ethical standards. </li><li>  The implementation for those who give voluntary consent (for example, paid or ‚Äúideological‚Äù beta testers from among subscribers) unfortunately lies in the area of ‚Äã‚Äãnot only technical, but requires the connection of a large number of participants, including lawyers, as it affects the contract and personal data. </li><li>  One of the operators has already launched a similar system, but, according to our data, it was not representative, and the interest of subscribers to it, let's say, has died away. </li></ul><br>  Our solution was extremely simple and effective: to distribute devices to company employees.  Here on the scene and a container of pink phones appeared. <br><br>  We have several hundred people in our company in every major city, we are constantly moving to the places where subscribers are crowded (because they themselves are), and if necessary, we can go with such a test phone to any place where there is a suspicion of problems. <br><br>  It turns out sufficient representativeness (this is the most important) and good regularity.  Looking ahead, I will say that in six months we have made about 4 million measurements, which would be simply impossible by other means. <br><br>  So, to begin with, we determined the quality indicators to be measured.  It should be not only speed.  As a result, we are looking at Accessibility, Retainability, Access Time, Speed, MeanDataRate and Latency.  That is, what together determines the comfort of the subscriber and, for example, the ability to check mail in seconds.  They can be obtained by means of a mobile OS using specialized software for a smartphone. <br><br>  Then we found, customized and implemented a mobile Android application that runs the test every 5 minutes.  If at the moment of the measurement start the smartphone is registered in the 3G network - a 1.5-megabyte picture is uploaded.  If, at the time of the measurement, the smartphone is registered in the 2G network, the picture is only 200 kilobytes.  The picture itself is on a server in the Moscow data center, and is not cached on our media servers or other types of proxies.  Regardless of the region of Russia, downloading takes place from a centralized resource using the http protocol, which ensures the same conditions and allows you to evaluate the quality of the mobile Internet service in real subscriber conditions. <br>  The measurement results are regularly sent (https) to the technological web server (also located in the Moscow data center) and stored in a database for further processing, creating reports, graphs and other analytical information.  If the smartphone went out of the access zone or lost the Internet connection, the data is written to the memory card and wait for the next communication session to be sent. <br><br><h4>  Project progress </h4><br>  Of course, the project which was named Mobile Quality Analyzer (MQA) was not without surprises.  An important point was the choice of a smartphone.  As you know, the calculation of the selected quality indicators requires a sufficiently large computing power.  It turned out that many modems (radio modules) of budget smartphones simply cut the speed when they rest on their ceiling.  Tests have shown that the cheapest model available at the time on the market that does not distort measurements is Samsung Galaxy S II (it supports HSDPA, HSPA +, HSUPA technologies).  Here we began to look for them in sufficient quantity - and found it at one retail chain, which with great pleasure made us discount on the unsold pink model.  Fortunately, we didn‚Äôt care what color the future device would be. <br><br>  Distributed phones by region in accordance with the number of broadcasting sectors of our network in order to have the desired representativeness. <br><br>  To conduct beta testing, the phones were distributed to those who travel to the mobile measurement lab. <br><br>  When conducting combat measurements, the usual picture was the presence of three phones in the car, serving base stations with connected charges, or a special bag, or a miracle device, as in the picture at the top of the topic.  It was very important that all possible measurement errors (of which there are quite a lot) were smoothed out due to a multitude of tests.  Cities with a large number of subscribers per day accounted for several hundred measurements - this excluded all ‚Äúmoon phases‚Äù. <br><br>  The first measurement results were disassembled by hands, they calculated abnormal situations and looked at why they were occurring.  It was necessary to introduce special data processing, which allows to find and discard the distorted results, for example, not to take into account the data with a low (less than 3%) battery charge. <br><br>  All phones were preconfigured like this: the 2G / 3G network auto selection was turned on, the GPS was turned off (they were originally planning to work with it, but it‚Äôs very quickly putting the battery on), Wi-Fi was turned off.  The mobile application on the smartphone also ensures that in no case is any data channel other than a mobile one used - otherwise the results would have come with inaccuracies.  Also, the mobile application is able to follow the updates itself and receive remote configuration settings. <br><br><h4>  Measurements </h4><br>  Here is a table of measurements from January 1, 2013 to mid-summer: <br><br><img src="https://habrastorage.org/storage3/e63/296/d68/e63296d685324a00a810f69ff26f8b21.png"><br><br><h4>  Architecture </h4><br><br><img src="https://habrastorage.org/storage3/0e4/24d/f20/0e424df20ac3fef853ea2ffd52480637.gif"><br><br>  The servers are running RedHat OS.  Apache + TomCat was chosen as Web server. <br>  On the MQA Gate server, besides https, there is protection against DDoS attacks, plus all phones are authorized by IMEI. <br>  Oracle 11g was chosen as the database. <br>  What is nice, the cost - at least. <br><br>  We deployed together with a contractor in the cloud, first on a test server in Germany, then in a Moscow data center by our standards, while all parts of the processing system were virtualized. <br><br>  Why is that?  Because we did not know whether the project would be successful or not, and we could not immediately predict the necessary computing power.  It has now become clear that the project is more than successful, and will be expanded.  Horizontal scaling is done very simply with the capabilities of virtual environments. <br><br>  What was the result?  Our team has implemented a project that, according to our data, has no analogues from other Russian operators.  Now the technical divisions of the company have accurate data on the quality of the provision of mobile Internet from the point of view of subscribers. <br><br>  From my own experience, it is very interesting to do such large-scale projects, roughly speaking, sitting in my room in the office.  We did not even go to the fields - all the time we worked either with the application, or with the organization of the whole process, or with the server part.  From the point of view of an IT project, there is a lot of useful experience, especially in terms of organizing a large number of people and working with statistics.  From a merely human point of view, it‚Äôs nice that we have developed a tool that will allow us to actually improve the network over the next couple of years (even though we are not planning and optimizing the network). </div><p>Source: <a href="https://habr.com/ru/post/191968/">https://habr.com/ru/post/191968/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../191954/index.html">The first few milliseconds of an https connection</a></li>
<li><a href="../191958/index.html">Xperia Z Ultra - Coming Soon!</a></li>
<li><a href="../191962/index.html">Storage and High Availability in Windows Server 2012 R2</a></li>
<li><a href="../191964/index.html">Axure 7 is out in the open beta</a></li>
<li><a href="../191966/index.html">Ubuntu Edge: Campaign Lessons</a></li>
<li><a href="../191970/index.html">Specifications hours Galaxy Gear</a></li>
<li><a href="../191972/index.html">Digg Reader for Android is finally out!</a></li>
<li><a href="../191976/index.html">Video calls between Aastra 8000i terminals via IP-PBX Asterisk</a></li>
<li><a href="../191978/index.html">XenApp: transfer of servers to a new domain</a></li>
<li><a href="../191980/index.html">How to stop dragging diskettes on a DOS machine</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>