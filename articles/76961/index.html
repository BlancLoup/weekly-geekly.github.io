<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Divide into pages</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Practically in any site there is a need to break information output into pages. In Jange, there are already some things that will help in writing your...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Divide into pages</h1><div class="post__text post__text-html js-mediator-article">  Practically in any site there is a need to break information output into pages.  In Jange, there are already some things that will help in writing your paginator, but to take a pagination for any view in two lines, I haven‚Äôt yet seen this <br><br>  I decided to write one, since the idea of ‚Äã‚Äãhow to make it came to me was born a long time ago.  So we meet, <a href="http://bitbucket.org/offline/django-simplepagination/wiki/Home">django-simplepagination</a> . <br><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      A paginator is essentially a decorator that you put on your view with one condition.  The condition is very simple; the view should return a dictionary, not a HttpResponse.  If you use a samopisny decorator render_to or use one of <a href="http://bitbucket.org/offline/django-annoying/wiki/Home">django-annoying,</a> then all the conditions for pagination are met.  Then everything is very simple, install django-simplepagination, add 'simplepagination' to INSTALLED_APPS and set the decorator over the view.  For example: <br><br><blockquote><code><font color="#008000"><strong>from</strong></font> <font color="#0000FF"><strong>simplepagination</strong></font> <font color="#008000"><strong>import</strong></font> paginate <br> <font color="#008000"><strong>from</strong></font> <font color="#0000FF"><strong>annoying.decorators</strong></font> <font color="#008000"><strong>import</strong></font> render_to <br> <font color="#008000"><strong>from</strong></font> <font color="#0000FF"><strong>blog.models</strong></font> <font color="#008000"><strong>import</strong></font> Post <br> <br> <font color="#AA22FF">@render_to</font> ( <font color="#BA2121">'blog_posts.html'</font> ) <br> <font color="#AA22FF">@paginate</font> (style <font color="#666666">=</font> <font color="#BA2121">'digg'</font> , per_page <font color="#666666">=15</font> ) <br> <font color="#008000"><strong>def</strong></font> <font color="#0000FF">list_posts</font> (request): <br> posts <font color="#666666">=</font> Post <font color="#666666">.</font> objects <font color="#666666">.</font> all() <br> <font color="#008000"><strong>return</strong></font> { <font color="#BA2121">'object_list'</font> : posts} <br></code> </blockquote><br><br>  Next in the 'blog_posts.html' template you insert {% include paginator.template%}, just do not forget to include the paginator.css file in the base template. <br><br>  This completes the creation of a digg pagination copy. <br><br>  The natural question is, how does that of the three lines of code, digg'ovskiy paginator, which is very complex in logic and mind, work?  Let me explain, the logic of paginators is described in the so-called backend'ah.  The digg backend is already built into the application, it is also an example for those who want to write their backend.  In addition to logic, you also need html, of course, it is also embedded in the application, just like css with styles for digg paginator. <br><br>  Of course, it‚Äôs unlikely that your site uses exactly the digg version of the paginator, so I‚Äôll show you how to write your backend, for example, let's take the habrabra plugin. <br><br>  So the first thing you need to create a class derived from simplepagination.backends.Paginator.  The logic itself lies inside the paginate function which must be in your class. <br><br><blockquote> <code><font color="#008000"><strong>from</strong></font> <font color="#0000FF"><strong>simplepagination.backends</strong></font> <font color="#008000"><strong>import</strong></font> Paginator <br> <br> <font color="#008000"><strong>class</strong></font> <font color="#0000FF"><strong>HabrahabrPaginator</strong></font> (Paginator): <br> <font color="#008000"><strong>def</strong></font> <font color="#0000FF">paginate</font> ( <font color="#008000">self</font> , frame_size, number_of_pages, current_page): <br> output <font color="#666666">=</font> {} <br> <font color="#008000"><strong>if</strong></font> current_page <font color="#666666">&gt;</font> <font color="#666666">1</font> : <br> output[ <font color="#BA2121">'prev'</font> ] <font color="#666666">=</font> current_page <font color="#666666">-</font> <font color="#666666">1</font> <br> <font color="#008000"><strong>if</strong></font> current_page <font color="#666666">&lt;</font> number_of_pages: <br> output[ <font color="#BA2121">'next'</font> ] <font color="#666666">=</font> current_page <font color="#666666">+</font> <font color="#666666">1</font> <br> <font color="#008000"><strong>if</strong></font> current_page <font color="#666666">+</font> frame_size <font color="#666666">-</font> <font color="#666666">1</font> <font color="#666666">&lt;</font> number_of_pages: <br> output[ <font color="#BA2121">'last'</font> ] <font color="#666666">=</font> number_of_pages <br> <font color="#008000"><strong>if</strong></font> current_page <font color="#666666">-</font> frame_size <font color="#666666">+</font> <font color="#666666">1</font> <font color="#666666">&gt;</font> <font color="#666666">1</font> : <br> output[ <font color="#BA2121">'first'</font> ] <font color="#666666">=</font> <font color="#666666">1</font> <br> <font color="#008000"><strong>if</strong></font> number_of_pages <font color="#666666">&lt;=</font> frame_size: <br> output[ <font color="#BA2121">'pages'</font> ] <font color="#666666">=</font> <font color="#008000">range</font> ( <font color="#666666">1</font> , number_of_pages <font color="#666666">+</font> <font color="#666666">1</font> ) <br> <font color="#008000"><strong>else</strong></font> : <br> output[ <font color="#BA2121">'pages'</font> ] <font color="#666666">=</font> <font color="#008000">range</font> ( <font color="#008000">max</font> (current_page <font color="#666666">-</font> frame_size <font color="#666666">+</font> <font color="#666666">1</font> , <font color="#666666">1</font> ), <font color="#008000">min</font> (current_page <font color="#666666">+</font> frame_size, number_of_pages <font color="#666666">+</font> <font color="#666666">1</font> )) <br> <font color="#008000"><strong>return</strong></font> output <br></code> </blockquote><br><br>  After the backend is triggered, this output is added to the dictionary that returns the view under the name 'paginator' and, accordingly, goes into your template. <br><br>  Now it's small, <a href="http://dumpz.org/14808/">rip</a> out <a href="http://dumpz.org/14808/">html</a> and <a href="http://dumpz.org/14809/">css</a> from a habr (I did it for you, at the same time prefixed the names of the classes so that they would not coincide with those that may already be on your site), save html under the name paginator_habrahabr.html and connect the saved css. <br><br>  The last thing you need to do is add your backend to the backend dictionary.  Open your site's settings.py and add the following line (change the path to your class to the one you need). <br><br>  PAGINATION_BACKENDS = {'habrahabr': 'path.to.HabrahabrPaginator'} <br><br>  This does not end the application's capabilities, you can use several pagination styles on one site, all things have default settings that can be changed both by the general settings of a certain backend and the parameters passed to the decorator.  I advise you to look at the <a href="http://bitbucket.org/offline/django-simplepagination/src/tip/simplepagination/settings.py">settings.py</a> file and read the descriptions of the settings. </div><p>Source: <a href="https://habr.com/ru/post/76961/">https://habr.com/ru/post/76961/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../76954/index.html">How do people buy security</a></li>
<li><a href="../76955/index.html">Beagle will find the most hidden file on your Linux</a></li>
<li><a href="../76956/index.html">Home Accounting System Finance - koshelek.org</a></li>
<li><a href="../76957/index.html">Began sales of Nokia N900 Linux devices in Russia</a></li>
<li><a href="../76959/index.html">New to the network. What do you recommend?</a></li>
<li><a href="../76962/index.html">10 ways to overcome problems in IE6</a></li>
<li><a href="../76963/index.html">POST body processing in developed modules</a></li>
<li><a href="../76965/index.html">Nokia's wise company and language switching on Nokia E52</a></li>
<li><a href="../76966/index.html">KDE Software Compilation 4.3.4 released</a></li>
<li><a href="../76967/index.html">Pocket photobank</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>