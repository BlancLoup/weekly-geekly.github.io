<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Simulation of dynamic systems (Lagrange method and Bond graph approach)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day to all. In this article I want to show one of the graphical methods for constructing mathematical models for dynamic systems, which is called...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Simulation of dynamic systems (Lagrange method and Bond graph approach)</h1><div class="post__text post__text-html js-mediator-article">  Good day to all.  In this article I want to show one of the graphical methods for constructing mathematical models for dynamic systems, which is called <b>Bond graph</b> ("bond" - connections, "graph" - graph).  In Russian literature, descriptions of this method, I found only in the textbook of Tomsk Polytechnic University, A.V.  Voronin ‚ÄúMODELING OF MECHATRONIC SYSTEMS‚Äù 2008. Also show the classical method through the Lagrange equation of the 2nd kind. <br><br> <a href="https://habrahabr.ru/post/307814/"><img src="https://habrastorage.org/files/880/d03/5de/880d035deee24b078b70bc8a863f8625.png"></a> <br><a name="habracut"></a><br><h2>  Lagrange method </h2><br>  I will not paint the theory, I will show the stages of calculations and with a few comments.  Personally, I find it easier to learn by example than to read a theory 10 times.  As it seemed to me, in Russian literature, the explanation of this method, and indeed of mathematics or physics, is very saturated with complex formulas, which therefore requires a serious mathematical background.  While studying the Lagrange method (I study at the Turin Polytechnic University, Italy), I studied Russian literature to compare calculation methods, and it was hard for me to follow the course of solving this method.  Even recalling the modeling courses at the Kharkiv Aviation Institute, the conclusion of such methods was very cumbersome, and no one made it difficult to try to sort out this issue.  That's what I decided to write, a training manual for constructing mat models according to Lagrange, as it turned out this is not at all difficult, it is enough to know how to calculate time derivatives and partial derivatives.  For models, it is even harder to add rotation matrices, but there is nothing complicated in them either. <br><br>  Features of modeling methods: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  <b>Newton-Euler</b> : vector equations based on dynamic equilibrium of <b>forces (force)</b> and <b>moments (moments)</b> </li><li>  <b>Lagrange</b> : scalar equations based on state functions related to kinetic and potential <b>energy (energies)</b> </li><li>  <b>Bond-graph</b> : a method based on the flow of <b>power</b> between the elements of the system </li></ul><br><br>  Let's start with a simple example.  Mass with spring and damper.  Neglecting gravity. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/a23/fe4/677/a23fe4677c5d45c9868afdca24f11cf2.png"></div><br>  <i><b>Figure 1</b> .</i>  <i>Weight with spring and damper</i> <br><br>  First, we denote: <br><br><ul><li>  <i>the initial coordinate system</i> (NSC) or stationary sk <b>R0 (i0, j0, k0)</b> .  Where?  You can poke your finger into the sky, but by pulling the tips of neurons in the brain, the idea is to put the NSC on the line of motion of the body M1. </li><li>  <i>coordinate systems for each body with mass</i> (we have M1 <b>R1 (i1, j1, k1)</b> ), the orientation can be arbitrary, but why complicate our lives, set with minimal difference from the NSC </li><li>  <i>generalized coordinates</i> <b>q_i</b> (the minimum number of variables that can describe the movement), in this example, one generalized coordinate, movement only along the j axis </li></ul><br><div style="text-align:center;"><img src="https://habrastorage.org/files/380/9e7/3ad/3809e73ad606484d89cbc55265e95142.png"></div><br>  <i><b>Figure 2</b> .</i>  <i>We put down the coordinate systems and generalized coordinates</i> <br><br>  Next we find the position and velocity of all bodies.  In this example, one body is M1: <br><div style="text-align:center;"><img src="https://habrastorage.org/files/174/475/f2d/174475f2d10040a993b6081601c522f6.png"></div><br>  <i><b>Figure 3</b> .</i>  <i>Body position and speed M1</i> <br><br>  After we find the kinetic (C) and potential (P) energy and dissipative function (D) for the damper by the formulas: <br><div style="text-align:center;"><img src="https://habrastorage.org/files/42f/135/444/42f135444c4d44ef858e6087f42d2e92.png"></div><br>  <i><b>Figure 4</b> .</i>  <i>Complete kinetic energy formula</i> <br><br>  In our example, there is no rotation, the second component is 0. <br><div style="text-align:center;"><img src="https://habrastorage.org/files/65f/b7e/bdf/65fb7ebdf83a440db0d3f26743b4679d.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/files/41b/588/e8a/41b588e8a3b8406083d5c56aa0b01771.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/files/1cb/1d5/c16/1cb1d5c16a914298bd9b6a1621bcaf1f.png"></div><br>  <i><b>Figure 5</b> .</i>  <i>Calculation of kinetic, potential energy and dissipative function</i> <br><br>  The Lagrange equation has the following form: <br><div style="text-align:center;"><img src="https://habrastorage.org/files/018/57d/41b/01857d41b8ad498f97099ce33f72f048.png"></div><br>  <i><b>Figure 6</b> .</i>  <i>Lagrange and Lagrangian equation</i> <br><br>  <b>Delta W_i</b> is a virtual work done by applied forces and moments.  Find her: <br><div style="text-align:center;"><img src="https://habrastorage.org/files/659/d02/1c4/659d021c4af74996b70da2a863eaa2ba.png"></div><br>  <i><b>Figure 7</b> .</i>  <i>Calculation of virtual work</i> <br><br>  where <b>delta q_1 is the</b> virtual displacement. <br><br>  We substitute everything into the Lagrange equation: <br><div style="text-align:center;"><img src="https://habrastorage.org/files/da6/070/943/da607094310a4e41bbd127457a8cdf1b.png"></div><br>  <i><b>Figure 8</b> .</i>  <i>The resulting mass model with spring and damper</i> <br><br>  At this Lagrange method is over.  As you can see, it is not so difficult, but it is still a very simple example, for which, most likely, the Newton-Euler method would even be simpler.  For more complex systems, where there will be several bodies rotated relative to each other at different angles, the Lagrange method will be easier. <br><br><h1>  Bond graph method </h1><br>  Immediately I will show the model in bond-graph as an example with a mass spring and a damper: <br><div style="text-align:center;"><img src="https://habrastorage.org/files/3ce/336/e31/3ce336e3198044b8861b549f0f8c32a1.png"></div><br>  <i><b>Figure 9</b> .</i>  <i>Bond-graph mass with spring and damper</i> <br><br>  Here you have to tell a little theory, which is enough to build simple models.  If anyone is interested, you can read a book ( <i>[Wolfgang Borutzky] Bond Graph Methodology</i> ) or ( <i>Voronin AV, Modeling Mechatronic Systems: A Tutorial. - Tomsk: Tomsk Polytechnic University Publishing House, 2008</i> ). <br><br>  To begin with, we define that complex systems consist of several domains.  For example, an electric motor consists of electrical and mechanical parts or domains. <br><br>  <i>Bond graph is</i> based on the exchange of power between these domains, subsystems.  Note that the exchange of power, of any form, is always determined by two variables ( <i>variable powers</i> ) with the help of which we can study the interaction of different subsystems in the dynamic system (see table). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/1a6/7ab/0b8/1a67ab0b89ff4c3fa63ba7841f87eb29.png"></div><br><br>  As can be seen from the table, the expression of power is almost the same everywhere.  In a generalization, <b>Power</b> is the product of ‚Äú <i>flow-f</i> ‚Äù to ‚Äú <i>effort-e</i> ‚Äù. <br><br>  <b>The force</b> (eng. <b>Effort</b> ) in the electric domain is voltage (e), in mechanical - force (F) or moment (T), in hydraulics - pressure (p). <br><br>  <b>The flow</b> (English <i>flow</i> ) in the electrical domain is the current (i), in the mechanical domain - speed (v) or angular velocity (omega), in hydraulics - flow or fluid flow (Q). <br><br>  Taking these designations, we obtain the expression for power: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/b60/3f7/236/b603f7236b46455b88f7594ec2a4aac7.png"></div><br>  <i><b>Figure 10</b> .</i>  <i>Formula of power through power variables</i> <br><br>  In the language of bond-graph, the connection between two subsystems that exchange power is represented by a bond (eng. <i>Bond</i> ).  For this reason, this method is called <i>bond-graph</i> or g of <i>raf-links, a connected graph</i> .  Consider the <b>block diagram of</b> connections in a model with an electric motor (this is not yet a bond graph): <br><div style="text-align:center;"><img src="https://habrastorage.org/files/4b3/b2c/d8b/4b3b2cd8b15040048d8195fb6701a1eb.png"></div><br>  <i><b>Figure 11</b> .</i>  <i>Block diarama power flow between domains</i> <br><br>  If we have a voltage source, respectively, it generates voltage and gives it to the motor on the windings (the arrow points in the direction of the motor), depending on the winding resistance, a current appears according to Ohm's law (directed from the motor to the source).  Accordingly, one variable is the input to the subsystem, and the second must be the <b>output</b> from the subsystem.  Here the voltage ( <i>effort</i> ) is the input, the current ( <i>flow</i> ) is the output. <br><br>  If you use a current source, how will the diagram change?  Right.  The current will be directed to the motor, and the voltage to the source.  Then the current ( <i>flow</i> ) - input, voltage ( <i>effort</i> ) - output. <br><br>  Consider an example in mechanics.  The force acting on the mass. <br><div style="text-align:center;"><img src="https://habrastorage.org/files/889/ab5/b3d/889ab5b3d1634b57ab83c9e93228a202.png"></div><br>  <i><b>Figure 12</b> .</i>  <i>Force applied to the mass</i> <br><br>  The block diagram will be as follows: <br><div style="text-align:center;"><img src="https://habrastorage.org/files/448/e9c/72c/448e9c72cb92487384cbab582ea9210d.png"></div><br>  <i><b>Figure 13</b> .</i>  <i>Block diagram</i> <br><br>  In this example, Strength ( <i>effort</i> ) is the input variable for mass.  (Force applied to mass) <br>  According to Newton's second law: <br><div style="text-align:center;"><img src="https://habrastorage.org/files/47c/96b/0c0/47c96b0c066d4cc8865c2d57614ff3e4.png"></div><br>  Mass responds with speed: <br><div style="text-align:center;"><img src="https://habrastorage.org/files/f86/f90/22c/f86f9022c25a4cfa9406ea7ce06b2df2.png"></div><br><br>  In this example, if one variable ( <b>force</b> ‚Äî <i>effort</i> ) is the <b>entrance</b> to a mechanical domain, then the other power variable ( <b>speed</b> ‚Äî <i>flow</i> ) automatically becomes an <b>output</b> . <br><br>  To distinguish where the input is, and where the output is, a vertical line is used at the end of the arrow (connection) between the elements, this line is called the <b><i>sign of causality</i></b> or <b>causality</b> .  It turns out: the applied force is the cause, and the speed is the effect.  This sign is very important for the correct construction of the system model, since causality is a consequence of physical behavior and power exchange between the two subsystems, so the choice of the location of the causality sign cannot be arbitrary. <br><div style="text-align:center;"><img src="https://habrastorage.org/files/5eb/9f3/1d4/5eb9f31d47e54f5b8d55414e3df845a4.png"></div><br>  <i><b>Figure 14</b> .</i>  <i>Designation of causality</i> <br><br>  This vertical line shows which subsystem receives the effort ( <i>effort</i> ) and, as a result, produces a flow.  In the example with the mass will be like this: <br><div style="text-align:center;"><img src="https://habrastorage.org/files/091/bbf/8d6/091bbf8d608a48c3a6c4a806e08bf201.png"></div><br>  <i><b>Figure 14</b> .</i>  <i>Causal link for force acting on mass</i> <br><br>  In the direction of the arrow it is clear that the input for the mass is <b>force</b> , and the output is <b>speed</b> .  This is done so as not to obstruct the scheme and systematize the construction of the model with arrows. <br><br>  The next important point.  <b>Generalized impulse</b> (amount of movement) and <b>displacement</b> ( <i>energy variables</i> ). <br><br><div class="spoiler">  <b class="spoiler_title">Table of power and energy variables in different domains</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/d64/996/201/d64996201e904057822f2a035a33d622.png"><br></div></div><br>  The table above introduces two additional physical quantities used in the bond-graph method.  They are called the <i>generalized momentum</i> ( <b>p</b> ) and the <i>generalized displacement</i> ( <b>q</b> ) or energy variables, and they can be obtained by integrating the power variables over time: <br><div style="text-align:center;"><img src="https://habrastorage.org/files/180/fc7/c64/180fc7c64e1f46faab473900e5a991c3.png"></div><br>  <i><b>Figure 15</b> .</i>  <i>The relationship between power and energy variables</i> <br><br>  <u><i>In the electric domain</i></u> : <br><br>  Based on the Faraday law, the <b>voltage</b> at the ends of the conductor is equal to the derivative of the magnetic flux through this conductor. <br><div style="text-align:center;"><img src="https://habrastorage.org/files/274/a17/8c7/274a178c74c34ee1b890b86e06781291.png"></div><br>  And the <b>current strength</b> is a physical quantity equal to the ratio of the amount of charge Q that has passed over time t through the conductor cross-section to the value of this period of time. <br><div style="text-align:center;"><img src="https://habrastorage.org/files/4a3/8ce/18a/4a38ce18ad2d430cbbb2866d7f31229d.png"></div><br>  <u><i>Mechanical Domain:</i></u> <br><br>  Of 2 Newton's laws, <b>Strength</b> is the time derivative of momentum <br><div style="text-align:center;"><img src="https://habrastorage.org/files/207/5f5/a01/2075f5a01c034965b46a9cf53fc75261.png"></div><br>  And accordingly, the <b>speed</b> is the time derivative of the movement: <br><div style="text-align:center;"><img src="https://habrastorage.org/files/75f/665/8d9/75f6658d97854ba0ab7996340d58644f.png"></div><br>  <b>Summarize</b> : <br><div style="text-align:center;"><img src="https://habrastorage.org/files/b6c/69c/33f/b6c69c33f41d4a70a65ba8bb7c16dd4a.png"></div><br><br><h4>  Basic elements </h4><br>  All elements in dynamic systems can be divided into bipolar and quadripolar components. <br>  Consider <u>bipolar components</u> : <br><br>  <b>Sources</b> <br>  Sources are both effort and flow.  Analogy in the electrical domain: the <b>source of force</b> is the <i>source of voltage</i> , the <b>source of flow</b> is the <i>source of current</i> .  Causal signs for sources should be only such. <br><div style="text-align:center;"><img src="https://habrastorage.org/files/5a4/a12/3a9/5a4a123a931d417e95aab02731fb6568.png"></div><br>  <i><b>Figure 16</b> .</i>  <i>Causal Relationship and Source Designation</i> <br><br>  <b><i>Component R</i></b> - dissipative element <br><img src="https://habrastorage.org/files/8a8/715/bc4/8a8715bc40814f35b7235d4863f0fbdc.png"><br><br>  <b><i>Component I</i></b> - inertial element <br><img src="https://habrastorage.org/files/ff3/d72/067/ff3d7206704b40049089cc2c6d77cc5c.png"><br><br><br>  <b><i>Component C</i></b> - capacitive element <br><img src="https://habrastorage.org/files/b11/6af/03e/b116af03ebe145e7ac9bc41b09876d3d.png"><br><br>  As can be seen from the figures, different elements of the same type of R, C, I are described by the same equations.  ONLY there is a difference for electrical capacity, you just need to remember this! <br><br>  <u>Quadrupole components</u> : <br><br>  Consider the two components of the transformer and gyrator. <br><br><ol><li>  Ideal <b>Transformer</b> (TF) connects values ‚Äã‚Äãof the same type between the input and the output <br><div style="text-align:center;"><img src="https://habrastorage.org/files/83d/2c9/273/83d2c9273c6d425ea5b92aa63c3f3847.png"></div><br>  Formulas describing the transformer from figure a and b, respectively: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/c55/968/3cc/c559683cc5ff45ffa14d37e0eaf0904d.png"></div><br>  Causal signs are placed only as shown below. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/8ae/e5e/8ff/8aee5e8ff0c240e5b5c150954bb765f3.png"></div><br>  This is not so: <br><div style="text-align:center;"><img src="https://habrastorage.org/files/28c/735/d23/28c735d2310b4cf5a5f692dad793e86a.png"></div><br><br><div class="spoiler">  <b class="spoiler_title">Examples of a transformer in a mechanical domain can be a gear drive, a lever</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/25d/78f/782/25d78f7822fd4028abf76c69f45528d2.png"><img src="https://habrastorage.org/files/13d/604/696/13d60469682749fbb5e5910817675ad6.png"><br></div></div><br>  An ordinary transformer is in electricity.  Hydraulic piston - in hydraulics. <br><br></li><li>  <b>Gyrator</b> (GY).  The ideal Gyrator binds the flow on one side with the effort on the other. <br><div style="text-align:center;"><img src="https://habrastorage.org/files/dc8/c46/d33/dc8c46d33810411ea86e4338146c627f.png"></div><br>  Formulas: <br><div style="text-align:center;"><img src="https://habrastorage.org/files/dc1/3ff/924/dc13ff9242864e078ef6d58e54fd75d1.png"></div><br>  Allowable causality for gyrator: <br><div style="text-align:center;"><img src="https://habrastorage.org/files/173/4b5/e4d/1734b5e4d43b4593baa4c475b91487ff.png"></div><br>  Erroneous causality: <br><div style="text-align:center;"><img src="https://habrastorage.org/files/180/147/0a7/1801470a76e04f80bba2ddf2b8fc9976.png"></div><br>  Examples of gyrators: in mechanics this is a dc motor, in electronics it is a solenoid (linear actuator). <br></li></ol><br><br>  The last important components in the bond-graph method are connections.  There are two types of nodes: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/d14/777/a8b/d14777a8b7cb4fd8b33d0e55e0d03f87.png"></div><br><ul><li>  <b>Node type 0</b> (a) - they have a common effort and only one causal link must enter the 0-node, the rest must go out. <br><div style="text-align:center;"><img src="https://habrastorage.org/files/c6c/047/93e/c6c04793e8ec464cbed826f8eb04eea6.png"></div><br>  Consider an example of a 0-node calculation: <br><div style="text-align:center;"><img src="https://habrastorage.org/files/29c/64b/129/29c64b12936545c0a28076358e09fd95.png"></div><br>  a) 0 means all efforts are equal <br><div style="text-align:center;"><img src="https://habrastorage.org/files/66b/f20/bf0/66bf20bf0bb24732b48efc7064c9d25a.png"></div><br>  Since the node does not accumulate and does not dissipate energy, then the algebraic sum of the incoming power must be zero. <br><div style="text-align:center;"><img src="https://habrastorage.org/files/02c/a9e/4f6/02ca9e4f64be45c49ee415efc17539a3.png"></div><br>  Considering the previous equation we get <br><div style="text-align:center;"><img src="https://habrastorage.org/files/7ce/5d5/6cb/7ce5d56cb5c14585aa3f7ba358288454.png"></div><br>  b) For the second option we get <br><div style="text-align:center;"><img src="https://habrastorage.org/files/f21/8ff/f1c/f218fff1c9d84253ba1beacb69a00aa5.png"></div><br></li><li>  <b>Node type 1</b> (b) - they have a common flow and only one causal link should go out, the rest should go into a 1-node. <br><div style="text-align:center;"><img src="https://habrastorage.org/files/691/aaa/163/691aaa16395846138ad49c5d4ac71219.png"></div><br>  Consider the calculation of 1-node <br><div style="text-align:center;"><img src="https://habrastorage.org/files/32b/210/d55/32b210d552a4462b8b8dc82eaad88891.png"></div><br>  a) 1 node has a common flow, it means <br><div style="text-align:center;"><img src="https://habrastorage.org/files/24b/683/607/24b6836070954e3a94eac284f767f97a.png"></div><br>  Since the node does not accumulate and does not dissipate energy, then the algebraic sum of the incoming power must be zero. <br><div style="text-align:center;"><img src="https://habrastorage.org/files/c7c/c0a/b23/c7cc0ab23dd2457e9e00ca9280e345cf.png"></div><br>  Given the previous equation we get: <br><div style="text-align:center;"><img src="https://habrastorage.org/files/02f/75a/fe1/02f75afe1477479ea9fa6942c03b9fb6.png"></div><br>  b) Here will be: <br><div style="text-align:center;"><img src="https://habrastorage.org/files/1e6/ec0/38e/1e6ec038e73341c983eab2263dfc029b.png"></div><br></li></ul><br>  On it with components finished. <br><br>  The main stages for affixing causal relationships after building a bond graph: <br><br><ol><li>  Make causal links to all <b>sources</b> </li><li>  Go through all the nodes and put down causal relationships after point 1 </li><li>  For <b>components I,</b> assign an input causal relationship (force enters this component), for <b>components C,</b> assign an output causal relationship (force leaves this component) </li><li>  Repeat point 2 </li><li>  Put causal relationships for the <b>components of R</b> </li></ol><br>  On this mini-course on the theory is over.  Now we have everything you need to build models. <br>  Let's solve a couple of examples.  Let's start with the electrical circuit, better understand the analogy of constructing a bond graph. <br><br><div class="spoiler">  <b class="spoiler_title">Example 1</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/files/744/d4c/bc7/744d4cbc79514be0bc12ce9eb03a7240.png"></div><br>  Let's start building a bond graph with a voltage source.  Just write Se and put the arrow. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/80c/67c/2ac/80c67c2ace424ea0b05fb29c85b64fec.png"></div><br>  See all easy!  We look further, R and L are connected in series, meaning the same current flows in them, if we talk in power variables - the same flow.  Which node has the same flow?  The correct answer is 1-node.  Connect to 1-node source, resistance (component - R) and inductance (component - I). <br><div style="text-align:center;"><img src="https://habrastorage.org/files/abf/f4a/039/abff4a0390b0414db24124ec65c10302.png"></div><br>  Next we have the capacitance and resistance in parallel, which means they have the same voltage or force.  0-node is suitable like no other.  We connect the capacitance (component C) and the resistance (component R) to the 0-node. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/288/a20/704/288a2070431243f8a1c18f1d904b4b44.png"></div><br>  Nodes 1 and 0 are also connected to each other.  The direction of the arrows is arbitrary, the direction of the connection affects only the sign in the equations. <br><br>  Get the following link graph: <br><div style="text-align:center;"><img src="https://habrastorage.org/files/32f/28d/3dc/32f28d3dcaf4419cb6abaa207c44c1dd.png"></div><br><br>  Now you need to put down a causal relationship.  Following the instructions on the sequence of their affixing, let's start with the source. <br><br><ol><li>  We have a source of tension (effort), such a source has only one variant of causality - the output.  We put. </li><li>  Next is the component I, look what is recommended.  We put <br></li><li>  We put down for 1-node.  there is <br></li><li>  A 0-node must have one input and all output causal relationships.  We still have one day off.  We are looking for components C or I. Found.  We put <br></li><li>  We put down what's left </li></ol><br><img src="https://habrastorage.org/files/fbd/01f/e0b/fbd01fe0bbd849428a50bd806459664c.png"><br>  That's all.  Bond-graph built.  Cheers, Comrades! <br><br>  It remains the case for small, write the equations describing our system.  To do this, create a table with 3 columns.  In the first there will be all the components of the system, in the second there will be an input variable for each element, and in the third - an output variable for the same component.  We have already defined the entrance and exit by causal relationships.  So there should be no problems. <br><br>  Let us number each link for the convenience of writing equations.  Equations for each element are taken from the list of components C, R, I. <br><div style="text-align:center;"><img src="https://habrastorage.org/files/106/dd5/7f0/106dd57f04bd4b7dbcf60e4f7fc5a6a5.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/files/80c/748/8c0/80c7488c0d00499da4ffd65402b2019c.png"></div><br>  Making a table, we define state variables; in this example, they are 2, p3 and q5.  Next you need to write the equations of state: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/799/c96/6a9/799c966a91214455a92e34ee47b4bf58.png"></div><br>  That's all the model is ready. <br></div></div><br><div class="spoiler">  <b class="spoiler_title">Example 2. I just want to apologize for the quality of the photo, the main thing that you can read</b> <div class="spoiler_text">  Let's solve one more example for the mechanical system, the same one that we solved by the Lagrange method.  I will show the decision without comment.  Let's check which of these methods is easier, easier. <br><br><img src="https://habrastorage.org/files/6f8/a6e/713/6f8a6e7134e64eceb6fc20a88d641c73.png"><br><br>  Both mat models with the same parameters, obtained by the Lagrange method and bond graph, were compiled in the matrix.  Result below: <br><div style="text-align:center;"><img src="https://habrastorage.org/files/520/58f/d8a/52058fd8a35f427bbdd139f21295b492.png"></div><br></div></div><br>  <u>The bottom line</u> : for me, the bond-graph seemed more interesting.  According to my observations, it is better to use it for complex systems (multi-domain systems, mechatronic systems).  For example, <b>AMESim</b> , a powerful simulator of multi-domain systems, uses this method to build mat models.  In robotics, the Lagrange method is likely to be easier.  Who uses these methods, I will be glad to hear your conclusions, comments. <br><br>  PS: <a href="https://goo.gl/tr8dKM">link</a> to course materials.  (slides only on Lagrangian, on bond-graph - used mostly, a book and notes, which are only on paper) </div><p>Source: <a href="https://habr.com/ru/post/307814/">https://habr.com/ru/post/307814/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../307798/index.html">Android string.xml - a few things to remember</a></li>
<li><a href="../307800/index.html">Artificial intelligence helped Google to reduce energy consumption of cooling systems in data centers by 40%</a></li>
<li><a href="../307806/index.html">Acquaintance: BBC micro: bit and mbed OS 5</a></li>
<li><a href="../307808/index.html">Scenario testing to help 1C programmer</a></li>
<li><a href="../307810/index.html">Interfaces and usability: who, why and how designs UX</a></li>
<li><a href="../307816/index.html">Using Q_GADGET in C ++ & QtQuick</a></li>
<li><a href="../307818/index.html">As protection from Microsoft deleted the code on the servers. Bike about Defender</a></li>
<li><a href="../307820/index.html">How to learn to evaluate tasks if you are not able: 4 complexity factors</a></li>
<li><a href="../307822/index.html">I looked into the node_modules folder, and you won‚Äôt believe what happened</a></li>
<li><a href="../307824/index.html">CSS of our days</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>