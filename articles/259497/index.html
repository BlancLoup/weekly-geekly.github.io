<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Type casting in PHP == stool with two legs?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="- In PHP, type casting works fine, you just need to include common sense. 
 - And what is there, just compare and all ... 
 - Wow, some kind of glitch...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Type casting in PHP == stool with two legs?</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/10a/729/612/10a729612da5f19bf3fa89d45a7f670f.jpg" alt="image"><br><br>  - In PHP, type casting works fine, you just need to include common sense. <br>  - And what is there, just compare and all ... <br>  - Wow, some kind of glitch in PHP, look, I compare two floats, they should be the same, and he tells me that they are not equal. <br>  - And, well, when you compare a number with a string, you need to sort through what works. <br><br>  Heard something similar from colleagues or maybe they themselves had similar situations?  Then here's a Friday post with examples about casting, how it works with the == operator. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I will be brief, then there will be only primerchiki.  And to you, dear reader, please.  Some answers are hidden under the spoiler.  Before you look back in response under the spoiler, try to answer yourself.  For each correct answer, deservedly add yourself a score.  At the end of the post in the survey do not forget to put down your result.  Agreed? <br><a name="habracut"></a>  Then let's go. <br><h5>  Let's start with numbers </h5><br>  What can be simpler than comparing numbers, we can compare numbers from kindergarten. <br><br>  For the order we check the obvious: <br><br><pre><code class="php hljs"><span class="hljs-number"><span class="hljs-number">11</span></span> == <span class="hljs-number"><span class="hljs-number">11</span></span> <span class="hljs-comment"><span class="hljs-comment">// true,  12 == 11 // false,   12 == 0xC // true,   16-</span></span></code> </pre> <br>  How about such a comparison? <br><br><pre> <code class="php hljs"><span class="hljs-number"><span class="hljs-number">12</span></span> == <span class="hljs-string"><span class="hljs-string">"0xC"</span></span></code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Try to answer</b> <div class="spoiler_text">  true.  Yes, here the value in the string was converted to integer based on the number system, great, right? <br></div></div><br>  And if so try? <br><br><pre> <code class="php hljs"><span class="hljs-number"><span class="hljs-number">12</span></span> == <span class="hljs-number"><span class="hljs-number">014</span></span></code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Chur do not pry, remember?</b> <div class="spoiler_text">  true.  How else?  014 is the same 12 in the octal number system. <br></div></div><br>  Now so: <br><br><pre> <code class="php hljs"><span class="hljs-number"><span class="hljs-number">12</span></span> == <span class="hljs-string"><span class="hljs-string">"014"</span></span></code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Result...</b> <div class="spoiler_text">  false.  Those who wanted and here true, moderate your requirements, ‚Äú0xC‚Äù was transformed into 12 and that's enough. <br></div></div><br>  And so: <br><br><pre> <code class="php hljs"><span class="hljs-number"><span class="hljs-number">14</span></span> == <span class="hljs-string"><span class="hljs-string">"014"</span></span></code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Equally...</b> <div class="spoiler_text">  true, quite expected given the previous example. <br></div></div><br>  Here everything seems to be clear: <br><br><pre> <code class="php hljs"><span class="hljs-number"><span class="hljs-number">014</span></span> == <span class="hljs-string"><span class="hljs-string">"014"</span></span></code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Correct answer...</b> <div class="spoiler_text">  false, although purely visually it is difficult to notice immediately, especially if you read someone else's code. <br></div></div><br>  Attention: <br><br><pre> <code class="php hljs"><span class="hljs-number"><span class="hljs-number">0</span></span> == <span class="hljs-string"><span class="hljs-string">"0,9"</span></span></code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Answer...</b> <div class="spoiler_text">  true, what?  And, yes, yes, so false: 0 == "0.9".  The comma was considered a string character and she and everything after it was thrown. <br></div></div><br>  Compare these values: <br><br><pre> <code class="php hljs"><span class="hljs-string"><span class="hljs-string">"1e2"</span></span> == <span class="hljs-string"><span class="hljs-string">"100"</span></span></code> </pre> <br><div class="spoiler">  <b class="spoiler_title">We get ...</b> <div class="spoiler_text">  true, since 1 multiplied by 10 squared equals 100. <br></div></div><br><pre> <code class="php hljs"><span class="hljs-number"><span class="hljs-number">0b11</span></span> == <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-comment"><span class="hljs-comment">// true, 0b -     </span></span></code> </pre> <br>  And if 0b11 in the line? <br><br><pre> <code class="php hljs"><span class="hljs-string"><span class="hljs-string">"0b11"</span></span> == <span class="hljs-number"><span class="hljs-number">3</span></span></code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Compare ...</b> <div class="spoiler_text">  false, for the hex system it works, and for the binary system, sorry. <br></div></div><br>  Now let's try this: <br><br><pre> <code class="php hljs"><span class="hljs-number"><span class="hljs-number">2.333</span></span> == <span class="hljs-string"><span class="hljs-string">"2.333petrovich"</span></span> <span class="hljs-comment"><span class="hljs-comment">// true,          . 2.333 == "ivanovich2.333" // false,    ,     . 0 == "ivanovich2.333" // true,   .</span></span></code> </pre> <br><br>  And then try it yourself: <br><pre> <code class="php hljs"><span class="hljs-string"><span class="hljs-string">"2.33a"</span></span> == <span class="hljs-string"><span class="hljs-string">"2.33b"</span></span></code> </pre> <br><div class="spoiler">  <b class="spoiler_title">And we get ...</b> <div class="spoiler_text">  false, there is no conversion, strings are compared. <br></div></div><br><pre> <code class="php hljs"><span class="hljs-number"><span class="hljs-number">233</span></span> == <span class="hljs-string"><span class="hljs-string">"233w1"</span></span> <span class="hljs-comment"><span class="hljs-comment">// true,    </span></span></code> </pre> <br>  Almost the same: <br><br><pre> <code class="php hljs"><span class="hljs-number"><span class="hljs-number">233</span></span> == <span class="hljs-string"><span class="hljs-string">"233e1"</span></span></code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Answer...</b> <div class="spoiler_text">  false, yes, who noticed, here 233 * 10. <br></div></div><br><pre> <code class="php hljs"><span class="hljs-string"><span class="hljs-string">"233"</span></span> == <span class="hljs-string"><span class="hljs-string">"233w1"</span></span> <span class="hljs-comment"><span class="hljs-comment">// false 233 == "233*1" // true</span></span></code> </pre> <br>  And if so calculated? <br><br><pre> <code class="php hljs"><span class="hljs-number"><span class="hljs-number">233</span></span> == <span class="hljs-string"><span class="hljs-string">"233*2"</span></span></code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Here ...</b> <div class="spoiler_text">  True, again true, by analogy with Petrovich. <br></div></div><br><pre> <code class="php hljs"><span class="hljs-number"><span class="hljs-number">0</span></span> == <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-comment"><span class="hljs-comment">// true</span></span></code> </pre> <br>  Do not peek first yourself: <br><br><pre> <code class="php hljs"><span class="hljs-string"><span class="hljs-string">"0"</span></span> == <span class="hljs-string"><span class="hljs-string">""</span></span></code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Trying to turn on common sense ...</b> <div class="spoiler_text">  false, accept it. <br></div></div><br><pre> <code class="php hljs"><span class="hljs-string"><span class="hljs-string">"1.000000000000000123"</span></span> == <span class="hljs-string"><span class="hljs-string">"1.000000000000000456"</span></span> <span class="hljs-comment"><span class="hljs-comment">// false, ,   .</span></span></code> </pre> <br>  Also two float lines: <br><br><pre> <code class="php hljs"><span class="hljs-string"><span class="hljs-string">"2.000000000000000123"</span></span> == <span class="hljs-string"><span class="hljs-string">"2.000000000000000456"</span></span></code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Guess?</b> <div class="spoiler_text">  true, do not be surprised, since the numbers look different, but 2 == 2, everything is rounded up to 2. <br></div></div><br><h5>  Boolean comparisons </h5><br>  Since everything is simpler with numbers and all answered correctly, here are some simple examples. <br><br>  At first such a pun ... I remembered the anecdote about the Lieutenant, but perhaps I will refrain. <br><br><pre> <code class="php hljs"><span class="hljs-string"><span class="hljs-string">"true"</span></span> == <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> <span class="hljs-comment"><span class="hljs-comment">// true "false" == true // true,   true "false" == false // false,   true "true" == false // false,   true</span></span></code> </pre> <br>  Everything is simple and clear. <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">true</span></span> == <span class="hljs-string"><span class="hljs-string">"0"</span></span> <span class="hljs-comment"><span class="hljs-comment">// false,       ,    true == "00" // true,    ... true == 00 // false true == "00" + 0 // false,      0 </span></span></code> </pre> <br>  And if so add: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">true</span></span> == <span class="hljs-string"><span class="hljs-string">"01"</span></span> + <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre> <br><div class="spoiler">  <b class="spoiler_title">That will get ...</b> <div class="spoiler_text">  true, and here already to 1 addition. <br></div></div><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">true</span></span> == <span class="hljs-string"><span class="hljs-string">"0x"</span></span> + <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-comment"><span class="hljs-comment">// false</span></span></code> </pre> <br>  Space before zero: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">true</span></span> == <span class="hljs-string"><span class="hljs-string">" 0"</span></span></code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Checking ...</b> <div class="spoiler_text">  true, although someone might expect the space to be rejected and there will be a comparison with zero. <br></div></div><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">true</span></span> == <span class="hljs-number"><span class="hljs-number">0x0</span></span> <span class="hljs-comment"><span class="hljs-comment">// false true == "0x0" // true, -,    0,   true == "0.0" // true,   </span></span></code> </pre> <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">true</span></span> == <span class="hljs-string"><span class="hljs-string">" "</span></span> <span class="hljs-comment"><span class="hljs-comment">// true true == [] // false,   -  false true == [0] //     - true</span></span></code> </pre> <br>  And if so? <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">true</span></span> == [[]]</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Checking ...</b> <div class="spoiler_text">  true, here the array contains something for itself, an empty array. <br></div></div><br><h5>  Null </h5><br>  Allow a few more comparisons, now with null. <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">null</span></span> == <span class="hljs-keyword"><span class="hljs-keyword">false</span></span> <span class="hljs-comment"><span class="hljs-comment">// true, null == 0 // true, false == "0" // true,</span></span></code> </pre> <br>  Try to guess by analogy: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">null</span></span> == <span class="hljs-string"><span class="hljs-string">"0"</span></span></code> </pre> <br><div class="spoiler">  <b class="spoiler_title">We get ...</b> <div class="spoiler_text">  false, apparently, you just need to remember. <br></div></div><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">null</span></span> == [] <span class="hljs-comment"><span class="hljs-comment">// true,     null == [0] // false,    -</span></span></code> </pre> <br><br><h5>  Arrays </h5><br>  Well and for especially inquisitive - comparisons of arrays. <br><br>  Here I hope, guess yourself, just do not peek: <br><br><pre> <code class="php hljs">[] == <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre> <br><div class="spoiler">  <b class="spoiler_title">We are checking ...</b> <div class="spoiler_text">  Similarly, false, although null == 0 and [] == null. <br></div></div><br><pre> <code class="php hljs">[<span class="hljs-number"><span class="hljs-number">0</span></span>] == <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-comment"><span class="hljs-comment">// false,</span></span></code> </pre> <br>  The documentation states that "$ a == $ b - TRUE if $ a and $ b contain the same key / value pairs". <br>  We will check how this statement works.  Moreover, the dock does not say anything about how the keys are compared. <br><br><pre> <code class="php hljs">[<span class="hljs-number"><span class="hljs-number">1</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>] == [<span class="hljs-number"><span class="hljs-number">1</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-comment"><span class="hljs-comment">// true [1 =&gt; 1] == ["1" =&gt; 1] // true,  : [1 =&gt; 1] == ["0x1" =&gt; 1] // false,  ,       : array_keys([1 =&gt; 1]) == array_keys(["0x1" =&gt; 1]) // true : [1 =&gt; 1] == [1 =&gt; "0x1"] // true</span></span></code> </pre> <br><h5>  Riddle </h5><br>  And for dessert a riddle (a riddle not from me, a colleague once gave it to me). <br>  Can the condition $ x == 1 &amp;&amp; $ x == 2 ever be fulfilled, if so, when, if not, why? <br><br><h5>  And what about the resume? </h5><br>  And what is the summary, a stool with two legs can be used for its intended purpose.  Moreover, it has its positive aspects, for example, it helps to keep the vestibular apparatus and buttocks in good shape.  So we read docks, stuff cones and everything will be fine. </div><p>Source: <a href="https://habr.com/ru/post/259497/">https://habr.com/ru/post/259497/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../259483/index.html">Exploring the format of the level map of the Jackal NES game</a></li>
<li><a href="../259489/index.html">Experiment: Testing Live ReactOS Applications</a></li>
<li><a href="../259491/index.html">Motion sensor for switching radio stations - part II</a></li>
<li><a href="../259493/index.html">Monitoring Server with Wiren Board NetMon-1</a></li>
<li><a href="../259495/index.html">HiDPI in Linux</a></li>
<li><a href="../259501/index.html">As I drove Baldu-2, or in search of the optimal algorithm</a></li>
<li><a href="../259503/index.html">Manipulation of numbers through LDAP</a></li>
<li><a href="../259505/index.html">Free textbook of electronics, computer architecture and low-level programming in Russian</a></li>
<li><a href="../259511/index.html">On the electronic document flow in Russia, its cheerful parochial features and the situation in general</a></li>
<li><a href="../259513/index.html">One day in the village. Skolkovo Startup Village</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>