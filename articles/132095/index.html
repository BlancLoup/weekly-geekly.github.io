<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How I installed Openmeetings</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="What is it 
 OpenMeetings is a multi-user browser software that allows you to instantly create a conference on the Internet. 
 You can use your microp...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How I installed Openmeetings</h1><div class="post__text post__text-html js-mediator-article"><h4>  What is it </h4><br>  <a href="http://code.google.com/p/openmeetings/">OpenMeetings</a> is a multi-user browser software that allows you to instantly create a conference on the Internet. <br>  You can use your microphone or webcam, share documents on bulletin boards. <br>  It is available as a network service, but you can download and install the package from the server without any restrictions in use or number of users. <br><br><h4>  Initial data </h4><br>  In our company, <a href="http://ru.wikipedia.org/wiki/Moodle">Moodle is</a> used as a distance learning system (hereinafter LMS).  It suits us completely, except for the absence of live communication between the teacher and the student. <br>  Therefore, it was decided to add a video conferencing application to the existing DLS.  I chose my Openmeetings as my choice because it is this system that integrates with Moodle and there is even a special module for this. <br><br>  I decided to install the system on CentOS.  Pretty googling in search of a manual for installation, and through trial and error I realized that all the instructions on the network are either outdated or incomplete. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      All the rakes that I came across in the process under the cut <br><a name="habracut"></a><br><h4>  Installation </h4><br>  So, there is a server with CentOS 5.7 x64 installed and preinstalled Development Tools, Development Libraries, MySQL Database and Java, as well as disabled SELinux. <br>  In the latest versions of openmeetings, MySQL is no longer used; all data is stored in a file database. <br><br>  Perform a standard package upgrade procedure: <br><br> <code>yum update <br> yum upgrade <br></code> <br><br>  Add the rpmforge repository to install additional packages: <br><br><pre> <code class="hljs ruby">cd /tmp <br> wget <nobr><span class="hljs-symbol"><span class="hljs-symbol">http:</span></span>/<span class="hljs-regexp"><span class="hljs-regexp">/apt.sw.be/redhat</span></span><span class="hljs-regexp"><span class="hljs-regexp">/el5/en</span></span><span class="hljs-regexp"><span class="hljs-regexp">/x86_64/rpmforge</span></span><span class="hljs-regexp"><span class="hljs-regexp">/RPMS/rpmforge</span></span>-release-<span class="hljs-number"><span class="hljs-number">0</span></span>.<span class="hljs-number"><span class="hljs-number">3.6</span></span>-<span class="hljs-number"><span class="hljs-number">1</span></span>.el5.rf.x86_64.rpm <br> rpm -ihv rpmforge-release-<span class="hljs-number"><span class="hljs-number">0</span></span>.<span class="hljs-number"><span class="hljs-number">3.6</span></span>-<span class="hljs-number"><span class="hljs-number">1</span></span>.el5.rf.x86_64.rpm</nobr></code> </pre> <code>cd /tmp <br> wget <nobr>http://apt.sw.be/redhat/el5/en/x86_64/rpmforge/RPMS/rpmforge-release-0.3.6-1.el5.rf.x86_64.rpm</nobr> <br> rpm -ihv rpmforge-release-0.3.6-1.el5.rf.x86_64.rpm</code> <br> <br>  Install the necessary openmeetings packages: <br><br> <code>yum install freetype freetype-devel fontconfig fontconfig-devel java-1.6.0-openjdk-devel libtiff libtiff-devel libjpeg-devel libjpeg giflib giflib-devel libpaper libpaper-devel xml-commons-apis libpng libpng-devel libxml2 libxml2-devel fftw3 fftw3-devel cairo cairo-devel flac flac-devel wavpack wavpack-devel libsndfile libsndfile-devel libmad libmad-devel yasm-devel yasm</code> <br> <br>  If our plans include the exchange of presentations and documents in the Openmeetings environment (and our plans included this), then we add: <br><br> <code>yum groupinstall 'Office/Productivity' <br> yum install openoffice.org-headless</code> <br> <br>  And in <i>/etc/rc.local, we</i> add the launch of soffice, which will convert the documents into the format you need for openmeetings: <br><br> <code>soffice "-accept=socket,host=localhost,port=8100;urp;StarOffice.ServiceManager" -nologo -headless -nofirststartwizard &amp;</code> <br> <br>  Remove the ghostscript installed from the CentOS repositories in order to compile a newer version from the sources, since  I refused to work with the old openmeetings (first rake): <br><br> <code>rpm -e --nodeps ghostscript</code> <br> <br>  Now we download and collect the necessary programs from sources, namely: Lame, Ghostscript, FFmpeg, SWFTOOLS, ImageMagick, SOX.  FFmpeg is compiled with libmp3lame, postproc, gpl, pthreads, avfilter.  It is necessary to write to the avi / flv-file of the workspace in the openmeetings environment (not to be confused with sharing). <br><br> <code><a href=""></a> cd /usr/src <br> wget ghostscript.com/releases/ghostscript-8.71.tar.gz <br> tar zxvf ghostscript-8.71.tar.gz <br> cd ghostscript-8.71 <br> ./configure --prefix=/usr <br> mkdir obj <br> mkdir bin <br> make all <br> make install</code> <br> <br> <code><a href=""></a> cd /usr/src <br> wget downloads.sourceforge.net/project/lame/lame/3.98.4/lame-3.98.4.tar.gz <br> tar zxvf lame-3.98.4.tar.gz <br> cd lame-3.98.4 <br> ./configure --prefix=/usr <br> make all <br> make install</code> <br> <br> <code><a href=""></a> cd /usr/src <br> wget www.swftools.org/swftools-0.9.1.tar.gz <br> tar zxvf swftools-0.9.1.tar.gz <br> cd swftools-0.9.1 <br> ./configure --prefix=/usr <br> make all <br> make install</code> <br> <br>  At the time of this writing, the site <a href="http://www.swftools.org/">www.swftools.org</a> was unavailable, so the package was searched on other resources. <br><br> <code><a href=""></a> cd /usr/src <br> wget jaist.dl.sourceforge.net/project/imagemagick/old-sources/6.x/6.6/ImageMagick-6.6.4-10.tar.gz <br> tar zxvf ImageMagick-6.6.4-10.tar.gz <br> cd ImageMagick-6.6.4-10 <br> ./configure --prefix=/usr <br> make all <br> make install</code> <br> <br> <code><a href=""></a> cd /usr/src <br> wget ffmpeg.org/releases/ffmpeg-0.8.5.tar.gz <br> tar zxvf ffmpeg-0.8.5.tar.gz <br> cd ffmpeg-0.8.5 <br> ./configure --enable-libmp3lame --enable-postproc --enable-gpl --enable-pthreads --enable-avfilter --prefix=/usr <br> make all <br> make install</code> <br> <br> <code><a href=""></a> cd /usr/src <br> wget downloads.sourceforge.net/project/sox/sox/14.3.1/sox-14.3.1.tar.gz <br> tar zxvf sox-14.3.1.tar.gz <br> cd sox-14.3.1 <br> ./configure --prefix=/usr <br> make all <br> make install</code> <br> <br>  When done, you can download and install openmeetings.  You can download from SVN, but I prefer to take stable builds. <br><br> <code><a href=""></a> mkdir /home/openmeetings <br> cd /home/openmeetings <br> wget openmeetings.googlecode.com/files/openmeetings_1_8_6_r4488.zip <br> unzip openmeetings_1_8_6_r4488.zip</code> <br> <br>  Now it's time to start and install the application: <br><br> <code>cd red5/ <br> chmod +x red5.sh <br> ./red5.sh <br></code> <br><br>  In the address bar of the browser we type <br><br><pre> <code class="hljs objectivec">http:<span class="hljs-comment"><span class="hljs-comment">//DOMAIN_NAME:5080/openmeetings/install</span></span></code> </pre> <br><br>  Go to the installation.  From the required data, enter the user name, password, e-mail.  The rest is optional.  In any case, all entered data can then be changed. <br>  We are waiting for the installation to be completed and we will be asked to enter the portal. <br><br>  Check one of the main features of the system, namely, write the workspace to a file.  To do this, go to any room (Room) and try to record the actions performed.  The recording is made in the Shared / Record screen menu in the upper right of the room.  Select the recording quality and click ‚ÄúStart Recording‚Äù.  When the recording is finished, it will be automatically available in the Recordings menu. <br>  Going there her (record) can be downloaded, BUT ... <br><br>  Here we have an error: <br><br> <code>generateFFMPEG <br> process-mergeWave <br> error-sox: error while loading shared libraries: libsox.so.1: cannot open shared object file: No such file or directory <br> command-[sox, /home/openmeetings/red5/webapps/openmeetings/streams/hibernate/one_second.wav, /home/openmeetings/red5/webapps/openmeetings/streams/7/rec_1_stream_568de7a556addf82e0c38ca02600e5f3_03_11_2011_09_37_33_FINAL_WAVE.wav, pad, 0, 2.714] <br> exitValue-127</code> <br> <br>  Apparently the sox library is not loaded.  How so, because we installed it?  The problem is solved very simply.  Add to <b>/etc/ld.so.conf</b> line <br><br> <code>/usr/lib <br></code> <br><br>  And execute <br><br> <code>ldconfig</code> <br> <br>  This will tell you where to actually look for the sox ffmpeg library. <br><br>  Try again to record video and voila!  Everything turned out and works. <br><br><h4>  Conclusion </h4><br>  In conclusion, I want to say that this video conferencing system proved to be a good one.  It is easy to manage for administrators and teachers and has a fairly friendly and intuitive interface for ordinary users.  The quality of sound and video at a good level.  The quality of the recording is excellent.  In general, the authorities are pretty. <br><br>  PS: If the article is to be liked by the respected community, I can continue to write on the subject of LMS.  Thanks to all who mastered to the end! </div><p>Source: <a href="https://habr.com/ru/post/132095/">https://habr.com/ru/post/132095/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../132084/index.html">PHP IoC</a></li>
<li><a href="../132088/index.html">Matryoshka principle</a></li>
<li><a href="../132092/index.html">Search for talent on Youtube using acoustic analysis</a></li>
<li><a href="../132093/index.html">New way to communicate with Gmail and friends (pages become available on Google+)</a></li>
<li><a href="../132094/index.html">Passion vs professionalism</a></li>
<li><a href="../132098/index.html">Speedy sync of billion files</a></li>
<li><a href="../132099/index.html">Initial setup of an APC UPS in Linux from a teapot point of view</a></li>
<li><a href="../132102/index.html">PHP Automated Testing</a></li>
<li><a href="../132103/index.html">Sony Ericsson Xperia active overview</a></li>
<li><a href="../132106/index.html">Automate the creation of VPN users in PFSense</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>