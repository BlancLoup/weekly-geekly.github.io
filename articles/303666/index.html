<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We develop a weather bot in the IBM Bluemix environment based on Facebook</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="What to look for first of all when developing your own bot? 



 Chat bots will not surprise anyone now. They began to appear massively in various ser...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We develop a weather bot in the IBM Bluemix environment based on Facebook</h1><div class="post__text post__text-html js-mediator-article">  <b>What to look for first of all when developing your own bot?</b> <br><br><img src="https://habrastorage.org/files/180/53c/56f/18053c56fd9846a999866e30a0db9f8f.png"><br><br>  Chat bots will not surprise anyone now.  They began to appear massively in various services and instant messengers.  The main social platforms are gradually introducing the possibility of developing their own bots, which stimulates third-party developers.  They offer more and more bots, useful and different.  Some bots allow you to check the balance of your bank account, others - help make a purchase or book a table in a restaurant. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Why bots have become so popular?  This is a rather complicated question.  Probably the main reason - a huge number of applications in various markets.  The developer (individual or company) should spend a lot of time and effort on the promotion of the application.  There are already millions of applications, and every day the number of programs increases.  But there is a way out - these are just bots.  Now they are much smaller than mobile applications, and if you create an interesting bot, it can become popular in a matter of days, if not hours.  Users love bots - after all, they are very convenient, in most cases.  What to look for when creating your own bot?  What is the process of creating it?  Let's talk about all this right now. <br><a name="habracut"></a><br><h3>  What you need to consider when creating your bot? </h3><br>  ‚Ä¢ Interaction quality - the way a user interacts with a bot determines its success.  Variations of the dialogue should be rich and quite useful.  A bot that does not understand a slightly rephrased query will look ridiculous.  IBM Watson, for example, has proven that trainee chatbots can be used to defeat the usual participants in such game shows as "Own Game", based on knowledge.  Since the natural language of Watson and its variations of dialogs can be found on the IBM Bluemix platform, you can use them for your bot.  Your bot does not have to pass the Turing test.  Banking applications, for example, have a certain set of things that they can do.  So you shouldn‚Äôt create an overloaded bot that will try to answer open-ended questions like ‚ÄúHow can I get rich?‚Äù <br><br>  ‚Ä¢ Independence from messaging platforms - This area is changeable;  It‚Äôs hard to say what will be the preferences of your target audience in terms of instant messengers in a year.  If possible, create bots that are not tied to a specific messenger. <br><br>  ‚Ä¢ Architecture - for your bot to be dynamic and allow the user to successfully complete the task, he must work clearly with other cloud services and previous work.  Make sure that you use technology that allows you to easily store and access information and will not let you down with a growing stream of users.  Bots are more than just a chat, make sure that you can formulate and implement the logic of your business as flexibly and measurable as possible. <br><br>  ‚Ä¢ Think strategically - bots are not just another feature.  They have the potential to rethink the existing concept of mobile technologies and start a new era - Era after the applications of the post-app era. <br><br><h3>  Where to begin? </h3><br>  In order to show how easy it is to create your own bot based on IBM Bluemix, we suggest right now to develop a weather bot for Facebook messenger.  We will learn right in the process of creating a bot. <br><br>  So, our application-bot will be modular, and consist of four blocks-modules.  The main module is Broker, it provides the interconnection of our bot with the Messaging Platform.  In our example, the connection goes only with Facebook Messenger, but the spectrum of bot interaction with various platforms can be expanded. <br><br><img src="https://habrastorage.org/files/64f/5d7/201/64f5d7201e0d4cdbbdd7aad28c890025.png"><br><br>  The Weather App is a module that is responsible for interpreting the text request and formulating the response.  The weather in our case is just an example.  Information may be financial, related to shopping, products, etc. <br><br>  The Weather App module is provided by the Bluemix cloud platform.  This platform is a product of our company, it is clear.  But we chose it not only because it was developed by IBM, but also because Bluemix does allow a lot to do.  Here are the main advantages of the system: <br><br>  The quality of interaction.  Thanks to IBM Watson, Bluemix allows the developer to use the speech analysis tool and the formation of dialogues.  Now these services are available in IBM Bluemix, so that they are available to all users of the platform without exception. <br><br>  Independence from the messenger platform.  If you select one of some kind of platform (the same Facebook) and create a bot based on it, the bot will be tightly tied to this platform.  And Bluemix allows you to create an independent service that will not depend on the vagaries of the owners of the messenger platform. <br><br>  Connectivity with other cloud platforms and services.  Bluemix offers the opportunity to connect the bot with other cloud services - there would be a desire. <br><br><h3>  And now - we start developing </h3><br>  <b>What is needed?</b> <br>  ‚Ä¢ Bluemix account for the developer; <br>  ‚Ä¢ Facebook account for bot; <br><br>  <b>Configuring Facebook Page and Application</b> <br>  ‚Ä¢ From the page of the selected account, select in the menu ‚ÄúCreate a New Page‚Äù; <br>  ‚Ä¢ Select ‚ÄúCause or Community‚Äù, enter the name and click ‚ÄúGet Started‚Äù; <br>  ‚Ä¢ From your Facebook for Developers page, select My Apps / Create a New App and click on 'basic setup'; <br>  ‚Ä¢ Enter the required data and click "Create App ID"; <br><br>  <b>With Facebook, for now, let's get down to setting up an account on Bluemix.</b> <br>  ‚Ä¢ From the Bluemix panel, select 'Cloud Foundry App' -&gt; 'Create App'; <br>  ‚Ä¢ Select ‚ÄúWeb‚Äù -&gt; 'SDK for Node.JS'; <br>  ‚Ä¢ Click "Continue" and enter the name of the application; <br>  ‚Ä¢ Select ‚ÄúDownload Starter Code‚Äù and specify the place to download; <br>  ‚Ä¢ Open the app.js file and replace the default code <a href="https://gist.github.com/eyal-he/0e5eca949d84fd863911a6dfec39beb4">with this code</a> from GitHub; <br>  ‚Ä¢ Open the package.json file and under dependencies make the following changes: <br>  ‚ÄúBody-parser‚Äù: ‚Äú^ 1.15,0‚Äù, <br>  ‚ÄúExpress‚Äù: ‚Äú^ 4.13.4‚Äù, <br>  ‚ÄúRequest‚Äù: ‚Äú2.72.0‚Äù <br>  ‚Ä¢ To start the Broker App to Bluemix, use the following command: 'cf push using manifest file path / manifest.yml, replacing ‚Äúpath‚Äù with the path to our file. <br><br>  <b>Connect the Facebook application to your Broker App:</b> <br>  ‚Ä¢ On the Facebook Developer page under ‚ÄúWebhooks‚Äù, select New Subscription / Page; <br>  ‚Ä¢ Under "'Callback URL" fill in the Broker App URL.  You can find it immediately under the name of the application. <br><br><img src="https://habrastorage.org/files/a98/b69/1d1/a98b691d11ce445b9bb3bfafd124d375.png"><br><br>  ‚Ä¢ Then in 'Verify Token' we fill the token specified in the Broker App (in our example, this is 'mySecretAccessToken'); <br>  ‚Ä¢ In 'Subscription Fields', select messages, message_deliveries, messaging_options and messaging_postbacks; <br>  ‚Ä¢ To get a Facebook access token, click 'Messenger' and 'Get Started'.  Select the page created earlier, ‚Äúokay‚Äù, copy the generated Page Access Token; <br>  ‚Ä¢ Now use Terminal and execute the following command: curl -ik -X POST ‚ÄúFacebook_access_token_goes_here‚Äù; <br>  ‚Ä¢ Open app.js again and apply Facebook token var current; <br>  ‚Ä¢ Launch the Broker App on Bluemix, as noted above. <br><br>  <b>Create a Weather App in Bluemix</b> <br>  ‚Ä¢ In Bluemix, select AlchemyAPI, Insights for Weather, and Natural Language Classifier, which must be tied to our application; <br>  ‚Ä¢ We have already taught the Watson Natural Language Classifier how to understand weather questions.  He can distinguish the question of the weather itself from the simple question of temperature.  Here it tells how to train your own classifier; <br>  ‚Ä¢ After you have processed your own classifier, an id should appear; <br>  ‚Ä¢ Now download the initial code for your Node.js application; <br>  ‚Ä¢ Open the app.js file and replace the sample code with <a href="https://gist.github.com/eyal-he/a97e0bc70687dd0c579fab63b5727e91">this example</a> from GitHub; <br>  ‚Ä¢ Insert your id, got a couple of points above; <br>  ‚Ä¢ Open package.json and make the following changes to dependencies: <br>  <i>"JSON": "^ 1.0.0",</i> <i><br></i>  <i>"Body-parser": "^ 1.15.0",</i> <i><br></i>  <i>"Cfenv": "^ 1.0.3",</i> <i><br></i>  <i>"Express": "^ 4.13.4",</i> <i><br></i>  <i>"Node-geocoder": "^ 3.9.1",</i> <i><br></i>  <i>"Request": "^ 2.71.0",</i> <i><br></i>  <i>"Watson-developer-cloud": "^ 1.4.1"</i> <br><br>  Launch the Weather App on Bluemix <br><br><h3>  Connecting Broker App to Weather App </h3><br>  ‚Ä¢ Open the app.js application Broker; <br>  ‚Ä¢ We are looking for the following code: <br>  request (‚Äú <a href="https://whatistheweather.mybluemix.net/getWeather%3Ftext%3D">whatistheweather.mybluemix.net/getWeather?text=</a> ‚Äù + text, function (error, response, body) <br>  ‚Ä¢ Replace the URL on the URl of your Weather app; <br>  ‚Ä¢ Launch the Weather App on Bluemix. <br><br>  <i>Earned?</i>  <i>Fine.</i>  <i>If you want more information on this topic, then pay attention: on June 23, a free online seminar on Bluemix will be held, at which our expert <a href="http://www.ibm.com/developerworks/ru/library/articles/markunin/">Timur Markunin</a> will show how to create bots translators and answer the most pressing questions.</i>  <i><a href="http-3A__pirit.biz_ibm-2Dbluemix-2Dwebinar_-3Futm-5Fsource-3Dhabr-26utm-5Fmedium-3Darticle2-26utm-5Fcampaign-3DBlueMix%26d%3DCwIDaQ%26c%3D4JOzdpIlQcN5fHQL_PMhCQ%26r%3DdYQ1dN9JyaHbIx8b2LR8d9QB4zhyhlO3SYjqkVqAFFY%26m%3DSLtfuTR9ZQyB4l0XwYMU8TDddtlw487RvexbuLd7ZT4%26s%3DRa0XNpW07oRTp3Ipw8hbWiQiXQkgU8gWhI4QKlUSNvo%26e%3D">You can register here</a> .</i> </div><p>Source: <a href="https://habr.com/ru/post/303666/">https://habr.com/ru/post/303666/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../303656/index.html">Russian social media - the most important trends in 2016</a></li>
<li><a href="../303658/index.html">DConf2016</a></li>
<li><a href="../303660/index.html">JS Programming Contest: Word Classifier (Final Results)</a></li>
<li><a href="../303662/index.html">Do you see well</a></li>
<li><a href="../303664/index.html">We are looking for anomalies in the X-Ray Engine</a></li>
<li><a href="../303668/index.html">Solving common business problems: there are no magic recipes</a></li>
<li><a href="../303670/index.html">How to make Intel Edison and Galileo iBeacon-beacons</a></li>
<li><a href="../303672/index.html">From the communication tool of scientists to the world standard: A brief history of e-mail</a></li>
<li><a href="../303674/index.html">The book ‚ÄúSwift 2.2. Basics of developing applications for iOS and OS X ¬ª</a></li>
<li><a href="../303676/index.html">Servers in the Netherlands with 1 Gbit / s and 100TB traffic from $ 58.25 / month + bonus for readers habrahabr 1-3 months for free</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>