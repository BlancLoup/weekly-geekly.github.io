<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We increase profits from iOS applications three times. No progress, just the technology ...</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Habrahabr! 

 In this post I would like to tell the story of the development of the free version of my application, which was released a little ov...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We increase profits from iOS applications three times. No progress, just the technology ...</h1><div class="post__text post__text-html js-mediator-article"> Hi, Habrahabr! <br><br>  In this post I would like to tell the story of the development of the free version of my application, which was released a little over a year ago.  Tell me how I managed to increase the number of downloads (and, in this case, profit) three times using technical means only. <br><br><img src="https://habrastorage.org/storage2/71b/390/fd4/71b390fd4b66923a1db1fddadfc16d76.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Who cares, welcome under cat. <br><a name="habracut"></a><br>  I will not mention the name of the application, I will just say that it lives in the Productivity category.  The paid version was released on the day the first iPad appeared, which is not surprising, since  originally worked only on tablets.  Six months later, there was a version for the iPhone (universal app).  A little later - cut down on functionality, a free version with a button leading to the purchase of the full (separate application in the AppStore). <br><br>  So they existed until January 2012.  The free version also had ads, but I never figured out how to count the conversion (free -&gt; paid).  The situation was also aggravated by the fact that the code that was responsible for synchronization was ‚Äúdrunk out‚Äù of the free version, and as a result, users could not transfer data when they bought the full version (it was too lazy to return it, the codebase was already very different). <br><br>  It was decided to remove the free version and in its place to release a "trial" with the possibility of purchasing full functionality through in-app purchase.  I already don‚Äôt remember why I decided to make the third application, but the original free version is still present in the AppStore and is only available in Uganda (maybe because it‚Äôs still worth money for advertising ‚Äî a couple of dollars a day; although this explains nothing ...). <br>  I have long since abandoned experiments with the price, having determined for myself the optimal price of $ 2.99.  This is the price of both the full version and the ‚Äúunlock‚Äù trial;  throughout the period that I will consider, the price has not changed. <br><br>  February 29, 2012 the application got into the AppStore.  Knowing about the limit of 20 MB for downloading applications over cellular networks, I achieved the size of the application a little less than this limit.  The application really uses a lot of beautiful and high-quality graphics (do not ask why it is necessary for the productivity of the application - it's just one of the "chips", it should be so). <br><br>  And then, like a bolt from the blue, Apple made another technological leap.  I'm talking about Retina Display on iPad 3 - I had to rework the graphics.  With great difficulty, I met the new limit - 50 MB. <br><br><img src="https://habrastorage.org/storage2/311/05f/e35/31105fe35e3ae8949c1c909d41f967ab.png"><br><br>  For four months, an application of 50 megabytes in size was downloaded an average of 750 times a day.  It is this stage (in the illustration it is marked as stage ‚Äú2‚Äù) we take it as a point of reference (we will consider the first stage organic growth).  Once again, no promotion of the trial version was conducted at all. <br><br>  You know, for several years of the presence of my applications in the AppStore, I used to consider the lack of growth (downloads, sales) as a failure.  It was necessary to do something! <br><br>  But miracles do not happen - you will not feel much JPEG.  The only solution (which I resisted for a long time) was to render the hi-res image for download after installation.  A set of resources for the iPhone and non-retina iPad remained in the app, and the 2048x2048 pictures ‚Äúmoved‚Äù to the server.  Loading was carried out at the first circulation, in the background.  If you didn‚Äôt peer, you couldn‚Äôt notice a special difference on the new iPad (but it was all the same - it means you had to ship). <br><br>  I was afraid of the violent reaction of users at the expense of their Internet traffic.  But it turned out that nothing.  <s>Apparently, users of Apple products can afford it.</s>  Not a single complaint in more than half a year has been received. <br><br>  So, the stage "3" - 17 MB.  The experiment was a success!  The number of downloads (well, income) increased by one and a half times (an average of 1200 per day).  But what is this ???  Again, Apple ‚Äúthinks differently.‚Äù  The iPhone 5 enters the scene with an enlarged screen with a height of 1136 px, and the size of the resources in the application (those that are not downloaded from the server) is 1024x1024.  Perfectionism does not allow me to ignore the lack of 112 points.  The show goes on‚Ä¶ <br><br>  Decided to take the line in the 10 MB.  Now only 3 resource files remain in the application, but already in the size of 2048x2048 (of which the required size is ‚Äúcut out‚Äù in runtime, of course, once - further cached), and the rest are moved to the server. <br><br>  At the same time, resources on the server are now exactly in the resolution required by the device (320x480, 640x960, 640x1136, 1024x1024 and 2048x2048), which allows reducing traffic on the server (at a peak of 90 GB per month) and traffic from users. <br><br>  As a result - stage ‚Äú4‚Äù - 9.8 MB.  And another confirmation of the availability of the dependence of the number of downloads on the size - 1700 per day.  Let me remind you that this is more than twice as much as our ‚Äúreference‚Äù value of 750. Well, the income, of course ... While the minimum supported version of iOS is now 4.3 (thanks to Apple, up to this point, the application worked fine on 3.0). <br><br>  A couple of months, everything is going well.  But no growth again!  What to do?  It was during this period that services such as searchman.com began to appear, offering a comparative analysis of the application's metadata and suggesting changes.  I played with one of them, and I managed to shove a bunch of keywords into the application name.  Well, you know how it happens:% APP_NAME% for% 1 1% 1 1%,% 2 2%%% 3 3% 3 3% iPhone 3 iPhone iPhone, iPad, iPod Touch - free version, try me please.  The keywords, along with a slight decrease in size (up to 9 MB, stage ‚Äú5‚Äù), gave even greater growth.  By the end of the stage, I had an average of 3000 downloads per day! <br><br>  Stage ‚Äú6‚Äù is a check: to what extent is the theory correct?  All PNGs are compressed in JPEG with a separate alpha channel (PNG).  Also, almost all PNGs are placed on the server for download (the benefit is, the technology has been worked out).  Loaded PNGs are used instead of pseudo-AJPEG (there is still a difference).  Size 2.9 MB.  NO effect!  This is the limit. <br><br>  Stage "7".  Seeing the lack of effect of reducing the size, I decide to retreat back to the mark of 5 MB, because  The use of pseudo-AJPEG spoiled the appearance of the interface elements.  Apple censors don't miss the title.  The dilemma is either not to release an update (they do not insist on changing the name of the existing version), or to check the theory of the influence of keywords in the title by removing them.  I agree with Apple - I return the name.  The result is a drop to 2,200 downloads per day. <br><br>  In fact, steps 5 and 6 should be excluded from consideration of the influence of size on the number of downloads (they are left only to maintain chronological consistency), because the changes in them are due to a greater degree of ‚Äúhack‚Äù with keywords. <br><br>  <b>Conclusion: 50 MB = 750 downloads, 5 MB = 2200 downloads.</b>  <b>Increase downloads / revenue by a factor of three.</b>  For fun, you can even derive an approximate formula: new_downloads ‚âà sqrt (old_size / new_size) * old_downloads. <br><br>  I understand that if your application is so much less than 10 MB, then this method is not for you.  But if more - think over optimization.  5, 10, 20% growth is not superfluous. <br><br>  You ask about the money?  I will answer that the conversion (given in view of advertising) is on average 2%.  I also note that even at the peak of downloads (3000 per day), the free version never brought more than the paid one. <br><br>  Versions of the program exist for iOS, Windows Phone, Windows 8 (Metro), Android (currently unavailable, released by a franchise by another company; will soon be released to the whole world in an "improved" form; <s>Android users will go crazy when they see a 35 MB application "</s> ).  MacOS version in development.  And the oldest Win32 version of 2008 is still sold on average once a month.  Sales on Windows Phone and Windows 8 are, to put it mildly, funny.  But on Windows 8 - a conversion of 20% (it doesn‚Äôt fit well in my head).  I think how to advance in the Windows Marketplace?  If anyone has ideas / experience, please share - on which sites to ask for reviews, etc. <br><br>  From the technical aspects I would like to note the need to ‚Äúdrive out‚Äù all the graphic resources through the PNG / JPEG optimizer - this gave me a 7% reduction in size.  It also does not hurt to simplify the splash screen.  Attached are 7 files, they are shown literally for a second.  Removed all gradients and shadows, translated into 8bit - saved a couple of hundred kilobytes. <br><br>  About advertising: Apple iAd does not work in all countries, so it makes sense to display ads from another source when iAd shows error.  I use google admob.  Yes, I heard about AdWhirl, but I'm too lazy to deal with it - the rotator has already written and debugged.  eCPM stays at $ 0.3 for AdMob and $ 0.5 for iAd, but the number of AdMob hits is several times higher than iAd.  Yes, I also rotate advertising every 45 seconds (iAd-&gt; AdMob-&gt; iAd, and if iAd is not available, then AdMob-&gt; AdMob ...) - this gave me about 30% increase in advertising revenue.  <s>No, I do not mind the user traffic trial version, forgive.</s> <br><br>  Maybe someone useful code to support pseudo-AJPEG.  All checks are cut - I trust myself.  Hard naming convention: image.png + image_mask.jpg.  Appeal by name without extension.  Cache support (without it - generally 6 lines of code).  For a basis for something more flexible (if you need it) - it will completely come off. <br><br><pre><code class="objectivec hljs"><span class="hljs-meta"><span class="hljs-meta">#define maskedCacheStorePath [[NSSearchPathForDirectoriesInDomains(NSCachesDirectory, NSUserDomainMask, YES) objectAtIndex:0] stringByAppendingPathComponent:@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"maskedImageCache"</span></span></span><span class="hljs-meta">] + (UIImage *)maskedImageNamed:(NSString *)imageName useCache:(Boolean)useCache { NSString *imageCacheStoreFile = nil; if (useCache) { if (![[NSFileManager defaultManager] fileExistsAtPath:maskedCacheStorePath]) [[NSFileManager defaultManager] createDirectoryAtPath:maskedCacheStorePath withIntermediateDirectories:YES attributes:nil error:nil]; imageCacheStoreFile = [maskedCacheStorePath stringByAppendingPathComponent:[NSString stringWithFormat:@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"%@.png"</span></span></span><span class="hljs-meta">, imageName]]; if ([[NSFileManager defaultManager] fileExistsAtPath:imageCacheStoreFile]) return [UIImage imageWithContentsOfFile:imageCacheStoreFile]; } UIImage *image = [UIImage imageNamed:[imageName stringByAppendingPathExtension:@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"jpg"</span></span></span><span class="hljs-meta">]]; UIImage *mask = [UIImage imageNamed:[[imageName stringByAppendingString:@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"_mask"</span></span></span><span class="hljs-meta">] stringByAppendingPathExtension:@</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"png"</span></span></span><span class="hljs-meta">]]; CGImageRef ref = CGImageCreateWithMask(image.CGImage, mask.CGImage); UIImage *result = [UIImage imageWithCGImage:ref scale:image.scale orientation:image.imageOrientation]; CGImageRelease(ref); if (useCache &amp;&amp; result) [UIImagePNGRepresentation(result) writeToFile:imageCacheStoreFile atomically:YES]; return result; }</span></span></code> </pre> <br>  Behind this all.  I will be glad to hear about your experience and answer any questions. </div><p>Source: <a href="https://habr.com/ru/post/171975/">https://habr.com/ru/post/171975/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../171963/index.html">Firefox for Windows 8 Tiled Interface</a></li>
<li><a href="../171965/index.html">CeBIT 2013. Day three. Zotac, Cooler Master and Sapphire</a></li>
<li><a href="../171967/index.html">Tern - clever javascript editing with type inference</a></li>
<li><a href="../171969/index.html">Platform-as-a-Service: 2012 Results</a></li>
<li><a href="../171973/index.html">Mozyr engineer "invented" the food element on potatoes</a></li>
<li><a href="../171979/index.html">Passing a password on Samsung devices with Android OS</a></li>
<li><a href="../171985/index.html">Bulgaria and 200 Russian cities added to Street View</a></li>
<li><a href="../171987/index.html">Facebook showed new news feed design</a></li>
<li><a href="../171989/index.html">Samsung SmartTV AppsFramework voice of the people</a></li>
<li><a href="../171991/index.html">Simple and neat box for wires</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>