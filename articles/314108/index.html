<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Remotely enable Mikrotik scripts from Telegram</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Alexander Koryukin GeXoGeN pushed me to this realization with his publication ‚Äú Remotely turning on the computer for free, without SMS and without clo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Remotely enable Mikrotik scripts from Telegram</h1><div class="post__text post__text-html js-mediator-article">  Alexander Koryukin <a href="https://habrahabr.ru/users/gexogen/" class="user_link">GeXoGeN</a> pushed me to this realization <a href="https://habrahabr.ru/users/gexogen/" class="user_link">with</a> his publication ‚Äú <a href="https://habrahabr.ru/users/gexogen/" class="user_link">Remotely</a> <a href="https://habrahabr.ru/post/313794/">turning on the computer for free, without SMS and without clouds, using Mikrotik</a> ‚Äù. <br><br>  And a comment in one of the VK groups of Kirill Kazakov: <br><blockquote>  Yeah, not at all.  I would rather write a telegram bot, which only accepts commands from my account for inclusion. </blockquote><br>  I decided to write such a bot. <br><a name="habracut"></a><br>  So, the first thing to do is to create a telegram bot. <br><br><ul><li>  Find a search account named @botfather </li><li>  Click on the Start button at the bottom of the screen </li><li>  Then we write him the command / newbot </li></ul><br>  Then we answer 2 simple questions: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  The first question is the name of the bot <b>MyMikrotikROuter</b> being created <b>.</b> </li><li>  The second question is the nickname of the bot being created (must end in bot) <b>MikrotikROuter_bot</b> </li></ul><br>  In response, we will get our bot token, in my case it is: <br><br>  Use this token to access the HTTP API: <i><b>265373548: AAFyGCqJCei9mvcxvXOWBfnjSt1p3sX1XH4</b></i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/124/0ca/e69/1240cae69845fd4c922fd0646a5fad42.jpg" alt="image"><br>  Then, you need to find our bot in the search by name <b>@ MikrotikROuter_bo</b> t and click on the Start button. <br><br>  After that, you need to open a browser and enter the following line: <br><br><pre><code class="bash hljs">https://api.telegram.org/botXXXXXXXXXXXXXXXXXX/getUpdates</code> </pre> <br>  Where XXXXXXXXXXXXXXXXXXX is your bot's token. <br><br>  A page like this will open: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3c8/701/2c4/3c87012c488fd4da8597a39c3d41a8a4.jpg" alt="image"><br><br>  We find on it the following text: <br><br>  "Chat": {"id": <i><b>631290</b></i> , <br><br>  So, we have all the necessary information for writing scripts for Mikrotik, namely: <br><br>  <i><b>Bot</b></i> Token: <i><b>265373548: AAFyGCqJCei9mvcxvXOWBfnjSt1p3sX1XH4</b></i> <br><br>  Chat ID where he should write: <b>631290</b> <br><br>  To check, we can go through the browser: <br><br><pre> <code class="bash hljs">https://api.telegram.org/bot265373548:AAFyGCqJCei9mvcxvXOWBfnjSt1p3sX1XH4/sendmessage?chat_id=631290&amp;text=<span class="hljs-built_in"><span class="hljs-built_in">test</span></span></code> </pre><br>  Must get the result: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ead/d77/d80/eadd77d805033aeb16df23d846df0b23.jpg" alt="image"><br><br>  For our convenience, we immediately add the commands for the bot: <br><br>  Find an account with the name <i><b>@botfather</b></i> <br>  Then we write him the command <i><b>/ setcommands</b></i> <br><br><ul><li>  He will ask what bot </li></ul><br>  We write: <br>  <i><b>@MikrotikROuter_bot</b></i> <br><br>  Add commands: <br><br><ul><li>  helloworld &lt;- Test message on chat 1 </li><li>  itsworking - Test Message on chat 2 </li><li>  wolmypc - wake up my pc </li></ul><br>  Now if you type in the chat "/", you should get: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f99/be0/a19/f99be0a193e31d1320e1cc6dee1857ba.jpg" alt="image"><br><br>  Now go to MikroTik. <br><br>  In RouterOS, there is a console utility for copying files via ftp or http / https, a utility called fetch, which is what we will use. <br><br>  Open the <i>terminal</i> and enter: <br><br><pre> <code class="bash hljs">/tool fetch url=<span class="hljs-string"><span class="hljs-string">"https://api.telegram.org/bot265373548:AAFyGCqJCei9mvcxvXOWBfnjSt1p3sX1XH4/sendmessage\?chat_id=631290&amp;text=test "</span></span> keep-result=no</code> </pre><br>  Note in MikroTik you need " <b>\</b> " to escape the " <b>?</b> " In the URL. <br><br>  Must get the result: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ead/d77/d80/eadd77d805033aeb16df23d846df0b23.jpg" alt="image"><br><br>  Now go to the scripts: <br><br><div class="spoiler">  <b class="spoiler_title">helloworld</b> <div class="spoiler_text"><pre> <code class="bash hljs">system script add name=<span class="hljs-string"><span class="hljs-string">"helloworld"</span></span> policy=<span class="hljs-built_in"><span class="hljs-built_in">read</span></span> <span class="hljs-built_in"><span class="hljs-built_in">source</span></span>={/tool fetch url=<span class="hljs-string"><span class="hljs-string">"https://api.telegram.org/bot265373548:AAFyGCqJCei9mvcxvXOWBfnjSt1p3sX1XH4/sendmessage\?chat_id=631290&amp;text=Hello,world! "</span></span> keep-result=no}</code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">itsworking</b> <div class="spoiler_text"><pre> <code class="bash hljs">system script add name=<span class="hljs-string"><span class="hljs-string">"itsworking"</span></span> policy=<span class="hljs-built_in"><span class="hljs-built_in">read</span></span> <span class="hljs-built_in"><span class="hljs-built_in">source</span></span>={/tool fetch url=<span class="hljs-string"><span class="hljs-string">"https://api.telegram.org/bot265373548:AAFyGCqJCei9mvcxvXOWBfnjSt1p3sX1XH4/sendmessage\?chat_id=631290&amp;text=Test OK, it's Working "</span></span> keep-result=no}</code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">wolmypc</b> <div class="spoiler_text"><pre> <code class="bash hljs">system script add name=<span class="hljs-string"><span class="hljs-string">"wolmypc"</span></span> policy=<span class="hljs-built_in"><span class="hljs-built_in">read</span></span> <span class="hljs-built_in"><span class="hljs-built_in">source</span></span>=<span class="hljs-string"><span class="hljs-string">"/tool wol mac=XX:XX:XX:XX:XX:XX interface=ifname\r\ \n/tool fetch url=\"https://api.telegram.org/boXXXXXXXXXXXXXXXXXXX\\?chat_id=631290&amp;text=wol OK\" keep-resul\ t=no"</span></span></code> </pre><br>  Do not forget to specify the correct mac and interface name, as well as bot-token and chat_id. <br></div></div><br>  Now I will explain a little what they do: <br><br>  The ‚Äúhelloworld‚Äù script sends a message: "Hello, world!"  in our chat with the bot. <br>  Script "itsworking" sends a message: "Test OK, it's Working!"  in our chat with the bot. <br>  These scripts to demonstrate the work. <br>  I added the wolmypc script as one of the possible implementations. <br>  Upon execution of the script, the bot will write in the chat ‚Äúwol OK‚Äù. <br>  In fact, you can run absolutely any script. <br><br><h4>  Create a task: </h4><br><br><div class="spoiler">  <b class="spoiler_title">Telegram.src</b> <div class="spoiler_text"><pre> <code class="cs hljs">/system scheduler <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> interval=<span class="hljs-number"><span class="hljs-number">30</span></span>s name=Telegram <span class="hljs-keyword"><span class="hljs-keyword">on</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">event</span></span>=<span class="hljs-string"><span class="hljs-string">":tool fetch url=(\"https://api.telegr\ am.org/\".\$botID.\"/getUpdates\") ;\r\ \n:global content [/file get [/file find name=getUpdates] contents] ;\r\ \n:global startLoc 0;\r\ \n:global endLoc 0;\r\ \n\r\ \n:if ( [/file get [/file find name=getUpdates] size] &gt; 50 ) do={\r\ \n\r\ \n:set startLoc [:find \$content \"update_id\" \$lastEnd ] ;\r\ \n:set startLoc ( \$startLoc + 11 ) ;\r\ \n:local endLoc [:find \$content \",\" \$startLoc] ;\r\ \n:local messageId ([:pick \$content \$startLoc \$endLoc] + (1));\r\ \n:put [\$messageId] ;\r\ \n:#log info message=\"updateID \$messageId\" ;\r\ \n\r\ \n:set startLoc [:find \$content \"text\" \$lastEnd ] ;\r\ \n:set startLoc ( \$startLoc + 7 ) ;\r\ \n:local endLoc [:find \$content \",\" (\$startLoc)] ;\r\ \n:set endLoc ( \$endLoc - 1 ) ;\r\ \n:local message [:pick \$content (\$startLoc + 2) \$endLoc] ;\r\ \n:put [\$message] ;\r\ \n:#log info message=\"message \$message \";\r\ \n\r\ \n:set startLoc [:find \$content \"chat\" \$lastEnd ] ;\r\ \n:set startLoc ( \$startLoc + 12 ) ;\r\ \n:local endLoc [:find \$content \",\" \$startLoc] ;\r\ \n:local chatId ([:pick \$content \$startLoc \$endLoc]);\r\ \n:put [\$chatId] ;\r\ \n:#log info message=\"chatID \$chatId \";\r\ \n\r\ \n:if ((\$chatId = \$myChatID) and (:put [/system script find name=\$messa\ ge] != \"\")) do={\r\ \n:system script run \$message} else={:tool fetch url=(\"https://api.teleg\ ram.org/\".\$botID.\"/sendmessage\\\?chat_id=\".\$chatId.\"&amp;text=I can't t\ alk with you. \") keep-result=no} ;\r\ \n:tool fetch url=(\"https://api.telegram.org/\".\$botID.\"/getUpdates\\\?\ offset=\$messageId\") keep-result=no; \r\ \n} \r\ \n"</span></span> policy=\ ftp,reboot,read,write,policy,test,password,sniff,sensitive,romon \ start-date=nov/<span class="hljs-number"><span class="hljs-number">02</span></span>/<span class="hljs-number"><span class="hljs-number">2010</span></span> start-time=<span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span> <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> name=Telegram-startup <span class="hljs-keyword"><span class="hljs-keyword">on</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">event</span></span>=<span class="hljs-string"><span class="hljs-string">":delay 5\r\ \n:global botID \"botXXXXXXXXXXXXXXXXXX\" ;\r\ \n:global myChatID \"631290\" ;\r\ \n:global startLoc 0;\r\ \n:global endLoc 0;\r\ \n:tool fetch url=(\"https://api.telegram.org/\".\$botID.\"/getUpdates\") \ ;"</span></span> policy=\ ftp,reboot,read,write,policy,test,password,sniff,sensitive,romon \ start-time=startup</code> </pre><br></div></div><br><br><div class="spoiler">  <b class="spoiler_title">Readable view</b> <div class="spoiler_text">  It is not clear why but from the working script it does not announce the global data, added the script when the system boots. <br>  <b>Telegram startup</b> <br><pre> <code class="cs hljs">:delay <span class="hljs-number"><span class="hljs-number">5</span></span> :<span class="hljs-keyword"><span class="hljs-keyword">global</span></span> botID <span class="hljs-string"><span class="hljs-string">"botXXXXXXXXXXXXXXXXXX"</span></span> ; token bot :<span class="hljs-keyword"><span class="hljs-keyword">global</span></span> myChatID <span class="hljs-string"><span class="hljs-string">"xxxxxx"</span></span> ; chat_id :<span class="hljs-keyword"><span class="hljs-keyword">global</span></span> startLoc <span class="hljs-number"><span class="hljs-number">0</span></span>; :<span class="hljs-keyword"><span class="hljs-keyword">global</span></span> endLoc <span class="hljs-number"><span class="hljs-number">0</span></span>; :tool fetch url=(<span class="hljs-string"><span class="hljs-string">"https://api.telegram.org/"</span></span>.$botID.<span class="hljs-string"><span class="hljs-string">"/getUpdates"</span></span>) ;</code> </pre><br><br>  <b>Telegram</b> <br><pre> <code class="cs hljs">:tool fetch url=(<span class="hljs-string"><span class="hljs-string">"https://api.telegram.org/"</span></span>.$botID.<span class="hljs-string"><span class="hljs-string">"/getUpdates"</span></span>) ; :<span class="hljs-keyword"><span class="hljs-keyword">global</span></span> content [/file <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> [/file find name=getUpdates] contents] ; :<span class="hljs-keyword"><span class="hljs-keyword">global</span></span> startLoc <span class="hljs-number"><span class="hljs-number">0</span></span>; :<span class="hljs-keyword"><span class="hljs-keyword">global</span></span> endLoc <span class="hljs-number"><span class="hljs-number">0</span></span>; :<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( [/file <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> [/file find name=getUpdates] size] &gt; <span class="hljs-number"><span class="hljs-number">50</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">do</span></span>={ :<span class="hljs-keyword"><span class="hljs-keyword">set</span></span> startLoc [:find $content <span class="hljs-string"><span class="hljs-string">"update_id"</span></span> $lastEnd ] ; :<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">set</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">startLoc</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> $startLoc + </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">11</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span></span><span class="hljs-function">)</span></span> ; :local endLoc [:find $content <span class="hljs-string"><span class="hljs-string">","</span></span> $startLoc] ; :<span class="hljs-function"><span class="hljs-function">local </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">messageId</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">[:pick $content $startLoc $endLoc] + (</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1</span></span></span></span></span><span class="hljs-function">))</span></span>; :put [$messageId] ; <span class="hljs-meta"><span class="hljs-meta">#:log info message="updateID $messageId" ; :set startLoc [:find $content "text" $lastEnd ] ; :set startLoc ( $startLoc + 7 ) ; :local endLoc [:find $content "," ($startLoc)] ; :set endLoc ( $endLoc - 1 ) ; :local message [:pick $content ($startLoc + 2) $endLoc] ; :put [$message] ; #:log info message="message $message "; :set startLoc [:find $content "chat" $lastEnd ] ; :set startLoc ( $startLoc + 12 ) ; :local endLoc [:find $content "," $startLoc] ; :local chatId ([:pick $content $startLoc $endLoc]); :put [$chatId] ; #:log info message="chatID $chatId "; :</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> (($chatId = $myChatID) and (:put [/system script find name=$message] != "")) do={ :system script run $message} </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">else</span></span></span><span class="hljs-meta">={:tool fetch url=("https://api.telegram.org/".$botID."/sendmessage\?chat_id=".$chatId."&amp;text=I can't talk with you. ") keep-result=no} ; :tool fetch url=("https://api.telegram.org/".$botID."/getUpdates\?offset=$messageId") keep-result=no; }</span></span></code> </pre><br></div></div><br><br><h4>  How it works </h4><br>  We download our ‚ÄúgetUpdates‚Äù messages every 30 seconds, then a parsim to find out <i>update_id</i> (message number) and <i>text</i> (our commands) and <i>chat_id</i> .  By default, getUpdates displays from 1 to 100 messages, for convenience after reading the command, the message is deleted.  in Telegram api said, to read the message you need the message number + 1 <br><br><pre> <code class="hljs pgsql">/getUpdates?<span class="hljs-keyword"><span class="hljs-keyword">offset</span></span>=update_id + <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre><br>  Everything is checked on the Mikrotik rb915 RouterOS 6.37.1 <br>  If you send many commands at once, they will all be executed in turn at intervals of 30 seconds. <br><br>  PS Many thanks to Kirill Kazakov for the idea and to my friend Alexander for helping me with the scripts. <br><br><h4>  Links </h4><br>  <a href="https://habrahabr.ru/post/313794">habrahabr.ru/post/313794</a> <br>  <a href="https://1spla.ru/index.php/blog/telegram_bot_for_mikrotik/">1spla.ru/index.php/blog/telegram_bot_for_mikrotik</a> <br>  <a href="https://core.telegram.org/bots/api/">core.telegram.org/bots/api</a> <br>  <a href="http://wiki.mikrotik.com/wiki/Manual">wiki.mikrotik.com/wiki/Manual</a> : Scripting <br><br><h4>  <b>upd:</b> <b><br><br></b>  <b>03:11:16</b> </h4><br><br>  Modified scripts: <br><br>  Added check on chat_id <br>  Checking for a fool, if someone writes to our bot, he will answer him: "I can't talk with you.", The same way he will answer us if he does not recognize the command. <br>  Upon execution of the command, the bot writes to the chat (see Script wolmypc) <br><br>  UPD <br><br>  Found with <a href="https://habrahabr.ru/users/7stuntman7/" class="user_link">7Stuntman7</a> that the file with above ~ 14 messages is no longer processed by the find command (Mikrotik restrictions).  Therefore, in the future, I will alter the script to lua. Thanks to <a href="https://habrahabr.ru/users/7stuntman7/" class="user_link">7Stuntman7</a> for this, I did not know about lua. <br><br>  UPD 12/08/2016 <br><br>  in Telegram, it seems that the getUpdate ‚Äúexhaust‚Äù changed a bit.  now in the main script you need to correct the offset of the message from 2 to 1 <br><br><div class="spoiler">  <b class="spoiler_title">changes</b> <div class="spoiler_text"><pre> <code class="cs hljs">:local message [:pick $content ($startLoc + <span class="hljs-number"><span class="hljs-number">2</span></span>) $endLoc] ;   : :local message [:pick $content ($startLoc + <span class="hljs-number"><span class="hljs-number">1</span></span>) $endLoc] ;</code> </pre><br></div></div></div><p>Source: <a href="https://habr.com/ru/post/314108/">https://habr.com/ru/post/314108/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../314094/index.html">Paul Graham pushes the government: 95% of the world's excellent programmers are out of work, let them in</a></li>
<li><a href="../314096/index.html">Paul Graham thought about death and updated his todo list</a></li>
<li><a href="../314100/index.html">Software Cost Estimation: Dan Galloth and SEER-SEM</a></li>
<li><a href="../314104/index.html">Docker: PostgreSQL configuration master-slave</a></li>
<li><a href="../314106/index.html">How we started a failover cluster</a></li>
<li><a href="../314110/index.html">Repository Pattern via CSLA .NET</a></li>
<li><a href="../314112/index.html">US authorities allowed researchers to do pentest and reverse engineering without legal consequences</a></li>
<li><a href="../314114/index.html">Enum in PHP</a></li>
<li><a href="../314116/index.html">About how I wrote an ad blocker and trackers for Samsung smartphones on Android. Adhell</a></li>
<li><a href="../314118/index.html">The tortuous path of the developer</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>