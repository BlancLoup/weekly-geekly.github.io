<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Yandex.Maps-Time.Lapse</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It is better to look at the highest quality. 


 I live in Moscow and travel mostly by car. 
 Like many other drivers, I actively use Yandex cards. 
 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Yandex.Maps-Time.Lapse</h1><div class="post__text post__text-html js-mediator-article"><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/5p_7XQGJ-PI%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700190,15700253,15700258&amp;usg=ALkJrhj92i7rg0rNQnWPT6VVkwrsufOyWw" frameborder="0" allowfullscreen=""></iframe><br>  <i>It is better to look at the highest quality.</i> <br><a name="habracut"></a><br><br>  I live in Moscow and travel mostly by car. <br>  Like many other drivers, I actively use Yandex cards. <br>  Over the past few years, Yandex has become almost the only quantitative indicator of the traffic situation in major cities of our country.  Many mass media officially refer to the testimony of the same name ‚Äúanalytical service‚Äù in their reports and articles.  The city authorities report on their successes, demonstrating a positive trend in road congestion, again according to Yandex.  In a word, it works and brings real benefits. <br><br>  It became interesting for me to see the road loading dynamics not with <a href="http://www.youtube.com/watch%3Fv%3DFgeL5Mu80ww">‚ÄúYandex‚Äôs eyes‚Äù</a> , but with my own eyes, as I‚Äôm used to seeing on the Yandex website every day.  Traffic information is updated <a href="http://help.yandex.ru/maps/%3Fid%3D1053672">every 4 minutes</a> , so the resulting video is a variation on the topic of <a href="http://ru.wikipedia.org/wiki/%25C7%25E0%25EC%25E5%25E4%25EB%25E5%25ED%25ED%25E0%25FF_%25EA%25E8%25ED%25EE%25F1%25FA%25B8%25EC%25EA%25E0">time-lapse</a> shooting. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      My first search on YouTube was apparently a bit messy and did not find anything like it.  I set to work.  Already in the process, I went back to the search again and found the next <a href="http://www.youtube.com/watch%3Fv%3D7otMF6x_F-I">video</a> , and then another.  Of course, I was somewhat upset that the palm had already been torn away, but did not throw it, especially since the laptop in the closet had already recorded a couple of gigabytes of screenshots. <br><br>  I will briefly describe the tools I used: <br><br>  Yandex provides a fairly rich toolkit for the user. <br>  For example, the <a href="">Static-API</a> allows you to literally do what I needed: upon request, to receive a screenshot of the interesting part of the map along with a layer of traffic jams.  Unfortunately, there is a limit on the maximum image size.  Only 650x450 pixels.  In my case, this was clearly not enough. <br>  <a href="">The Yandex Maps</a> API is significantly richer and more democratic than the Static-API. <br><br>  I have never had to do web programming before.  I had to learn a little JavaScript (it implements the f-II API) and PHP.  Pretty quickly, it was possible to write an html file with JavaScript inserts, which displayed a piece of a map of the desired size that interests me with a layer of traffic jams (thanks to a friend and members of the <a href="http://clubs.ya.ru/mapsapi/">ya.ru</a> club for help). <br><br>  Next you had to learn how to take a screenshot and save the file to disk.  This was helped by the free utility <a href="http://www.pixel-technology.com/freeware/url2bmp/english/">url2bmp</a> , which allows you to take pictures of any page and can be run from the console.  I didn‚Äôt quite understand whether it implements the f-ii browser itself or clings to IE.  In terms of CSS support, the program behaves like a browser from Microsoft (for example, by default it does not support border-radius and box-shadow).  Nevertheless, she solves the problem. <br><br>  It remains to write a simple bat-file for periodic startup and file naming.  The chain turned out like this: a bat-file periodically launches url2bmp with the necessary parameters.  He turns to a <a href="http://www.denwer.ru/">denwer server</a> where my html with js inserts is located, which in turn displays a map obtained using the Yandex f-th API. <br><br>  As a result, for 6 days, ~ 7 gigabytes of bmp-files were accumulated.  Information about traffic jams on the Yandex website is updated every 4 minutes.  Just in case, I took a screenshot with a period of 2 minutes.  Therefore, it remains to solve only 3 problems at the finish line: <br>  1) discard duplicate images (the names of the matching files were different). <br>  2) cut off the scroll bar on images (the option ‚ÄúRemove right scroll bar‚Äù url2bmp for some reason pumped up). <br>  3) edit the video, select and apply the appropriate music. <br><br>  The first task was solved by the free utility <a href="http://www.clonespy.com/">CloneSpy</a> . <br>  <a href="http://www.irfanview.com/">IrfanView</a> successfully coped with the second one. <br>  A third easily closed <a href="http://www.virtualdub.org/">VirtualDub</a> . <br><br>  As a result, it turned out to shoot 6 days from Monday (04/15/2k13) to Saturday (04/20/2k13). <br>  Truth happened a couple of passes.  One is through the provider‚Äôs fault, the other is mine‚Äôs (ran out of money in the account). <br><hr><br>  Traffic jams on the resulting video do not behave very smoothly.  It is hardly to blame for the 4-minute interval m / y reports.  However, the general trends and bottlenecks are defined rather clearly. </div><p>Source: <a href="https://habr.com/ru/post/177801/">https://habr.com/ru/post/177801/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../177791/index.html">A radical approach to application development</a></li>
<li><a href="../177793/index.html">Capture video from the camera and transmit it over the network</a></li>
<li><a href="../177795/index.html">Convenient library for working with media tags</a></li>
<li><a href="../177797/index.html">Organization of storage of intermediate tables for the CART algorithm</a></li>
<li><a href="../177799/index.html">I want to write tests</a></li>
<li><a href="../177803/index.html">Just add meat or embedding on mode</a></li>
<li><a href="../177805/index.html">Creating a graphic captcha with a choice of extra</a></li>
<li><a href="../177807/index.html">Labyrus: 3D maze</a></li>
<li><a href="../177811/index.html">MegaFon Login (SP-A1): well, very budget Android</a></li>
<li><a href="../177813/index.html">Google joins FIDO Alliance to find a reliable alternative to user password authentication.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>