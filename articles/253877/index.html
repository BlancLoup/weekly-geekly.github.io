<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Understanding the Docker</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="For several months now I have been using docker to structure the process of developing / delivering web projects. I offer the readers of "Habrakhabr" ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Understanding the Docker</h1><div class="post__text post__text-html js-mediator-article">  <i>For several months now I have been using docker to structure the process of developing / delivering web projects.</i>  <i>I offer the readers of "Habrakhabr" a translation of the introductory article about docker - <a href="https://docs.docker.com/introduction/understanding-docker/">"Understanding docker"</a> .</i> <br><br><h3>  What is a docker? </h3><br>  Docker is an open platform for developing, delivering and operating applications.  Docker is designed to quickly lay out your applications.  With docker, you can separate your application from your infrastructure and treat the infrastructure as a managed application.  Docker helps to lay out your code faster, test faster, spread applications faster and reduce the time between writing code and running code.  Docker does this with a lightweight container virtualization platform, using processes and utilities that help manage and share your applications. <br><a name="habracut"></a><br>  In its core, docker allows you to run almost any application that is safely isolated in a container.  Secure isolation allows you to run multiple containers on the same host at the same time.  The lightweight nature of the container, which runs without the additional load of the hypervisor, allows you to get more from your hardware. <br><br>  Platform and container virtualization tools can be useful in the following cases: <br><ul><li>  packaging your application (and also used components) in docker containers; </li><li>  distribution and delivery of these containers to your teams for development and testing; </li><li>  putting these containers on your productions, both in data centers and in clouds. </li></ul><br><h3>  What can I use docker for? </h3><br><h4>  Fast posting your apps </h4><br>  Docker is great for organizing the development cycle.  Docker allows developers to use local containers with applications and services.  What subsequently allows to integrate with the process of continuous integration and deployment (continuous integration and deployment workflow). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      For example, your developers write code locally and share their development stack (a set of docker images) with their colleagues.  When they are ready, they poison the code and containers to the test site and run any necessary tests.  From the test site, they can send code and images to the production. <br><br><h4>  Easier laying out and unfolding </h4><br>  A docker container based platform makes it easy to port your payload.  Docker containers can work on your local machine, both real and virtual in the data center, and in the cloud. <br><br>  The portability and lightweight nature of the docker makes it easy to dynamically manage your load.  You can use docker to deploy or redeem your application or services.  The speed docker allows you to do this almost in real time. <br><br><h4>  High loads and more payloads </h4><br>  Docker is lightweight and fast.  It provides a robust, cost-effective alternative to hypervisor-based virtual machines.  It is especially useful under high load conditions, for example, when creating your own cloud or platform-as-service.  But it is also useful for small and medium applications when you want to get more from the available resources. <br><br><h3>  Docker Main Components </h3><br>  Docker consists of two main components: <br><ul><li>  Docker: an open source virtualization platform; </li><li>  Docker Hub: our platform-as-a-service for distributing and managing docker containers. </li></ul><br>  <i>Note!</i>  <i>Docker is distributed under the Apache 2.0 license.</i> <br><br><h3>  Docker architecture </h3><br><p>  Docker uses a client-server architecture.  The Docker client communicates with the Docker daemon, which takes the brunt of creating, launching, distributing your containers.  Both the client and the server can work on the same system, you can connect the client to the remote docker daemon.  The client and server communicate through a socket or through a RESTful API. </p><br><br><img src="https://docs.docker.com/article-img/architecture.svg"><br><br><h4>  Docker demon </h4><br>  As shown in the diagram, the daemon starts up on the host machine.  The user does not interact with the server directly, but uses the client to do this. <br><br><h4>  Docker client </h4><br>  Docker-client, docker program - the main interface to Docker.  It receives commands from the user and interacts with the docker daemon. <br><br><h4>  Inside the docker </h4><br>  To understand what docker consists of, you need to know about three components: <br><ul><li>  images (images) </li><li>  registry (registries) </li><li>  containers </li></ul><br><br><h4>  Images </h4><br>  A docker image is a read-only template.  For example, an image may contain Ubuntu OSes with Apache and an application on it.  Images are used to create containers.  Docker makes it easy to create new images, update existing ones, or you can download images created by other people.  Images is a component of the docker build. <br><br><h4>  Registry </h4><br>  Docker-registry stores images.  There are public and private registries from which you can download or download images.  The public Docker registry is <a href="http://hub.docker.com/">Docker Hub</a> .  There is a huge collection of images.  As you know, images can be created by you or you can use images created by others.  Registries are a component of distribution. <br><br><h4>  Containers </h4><br>  Containers are like directories.  Containers contain everything you need for the application to work.  Each container is created from an image.  Containers can be created, started, stopped, transferred or deleted.  Each container is isolated and is a secure platform for the application.  Containers are a work component. <br><br><h4>  So how does Docker work? </h4><br>  For now we know that: <br><ul><li>  we can create images in which our applications are located; </li><li>  we can create containers from images to run applications; </li><li>  we can distribute images via Docker Hub or another image registry. </li></ul><br>  Let's see how these components fit together. <br><br><h4>  How does the image work? </h4><br>  We already know that the image is the read-only template from which the container is created.  Each image consists of a set of levels.  Docker uses the <a href="http://en.wikipedia.org/wiki/UnionFS">union file system</a> to combine these levels into one image.  The Union file system allows files and directories from different file systems (different branches) to overlap transparently, creating a coherent file system. <br><br>  One of the reasons why docker is lightweight is the use of such levels.  When you change the image, for example, update the application, a new level is created.  So, without replacing the entire image or rebuilding it, as you may have to do with the virtual machine, only the level is added or updated.  And you do not need to distribute the entire new image, only the update is distributed, which allows you to distribute the images easier and faster. <br><br>  At the core of each image is the base image.  For example, ubuntu, the base image of Ubuntu, or fedora, the base image of the Fedora distribution.  You can also use images as a base for creating new images.  For example, if you have an apache image, you can use it as a base image for your web applications. <br><br>  <i>Note!</i>  <i>Docker usually takes images from the Docker Hub registry.</i> <br><br><p>  Docker images can be created from these basic images, the description steps for creating these images we call instructions.  Each instruction creates a new image or level.  Instructions will be the following: </p><br><ul><li>  command launch </li><li>  add file or directory </li><li>  creating an environment variable </li><li>  instructions on what to run when the container of this image starts </li></ul><br><br>  These instructions are stored in the <code>Dockerfile</code> file.  The Docker reads this <code>Dockerfile</code> when you build the image, executes these instructions, and returns the final image. <br><br><h4>  How does the docker registry work? </h4><br>  The registry is a docker repository of images.  After creating an image, you can publish it on the Docker Hub public registry or on your personal registry. <br><br>  With the help of the docker client, you can search for already published images and download them to your machine with a docker to create containers. <br><br>  Docker Hub provides public and private image repositories.  Search and download images from public repositories is available to all.  The content of private vaults does not fit into the search result.  And only you and your users can receive these images and create containers from them. <br><br><h4>  How does a container work? </h4><br>  The container consists of the operating system, user files and metadata.  As we know, each container is created from an image.  This image tells the docker that it is in the container, which process to start, when the container and other configuration data is launched.  Docker image is read only.  When the docker launches the container, it creates a read / write layer on top of the image (using the union file system, as mentioned earlier), in which the application can be launched. <br><br><h4>  What happens when the container starts? </h4><br>  Either using the <code>docker</code> program, or using the RESTful API, the docker client tells the docker daemon to start the container. <br><br> <code>$ sudo docker run -i -t ubuntu /bin/bash <br></code> <br>  Let's deal with this team.  The client is started using the <code>docker</code> , with the <code>run</code> option, which says that the new container will be launched.  The minimum requirements for running a container are the following attributes: <br><ul><li>  what image to use to create the container.  In our case, <code>ubuntu</code> </li><li>  the command you want to run when the container is running.  In our case <code>/bin/bash</code> </li></ul><br><br>  What happens under the hood when we run this command? <br><br>  Docker, in order, does the following: <br><ul><li>  <b>downloads the ubuntu image:</b> docker checks for the presence of the <code>ubuntu</code> image on the local machine, and if not, then download it from the <a href="https://hub.docker.com/">Docker Hub</a> .  If there is an image, it uses it to create a container; </li><li>  <b>creates a container:</b> when an image is received, docker uses it to create a container; </li><li>  <b>initializes the file system and mounts the read-only level: the</b> container is created in the file system and the read-only level is added to the image; </li><li>  <b>initializes the network / bridge:</b> creates a network interface that allows docker to communicate with the host machine; </li><li>  <b>Setting the IP address:</b> finds and sets the address; </li><li>  <b>Starts the specified process:</b> starts your application; </li><li>  <b>It processes and outputs the output of your application: it</b> connects and logs the standard input, output and error stream of your application so that you can track how your application works. </li></ul><br>  You now have a working container.  You can manage your container, interact with your application.  When you decide to stop the application, remove the container. <br><br><h3>  Used technologies </h3><br>  The docker is written in Go and uses some of the features of the Linux kernel to implement the above functionality. <br><br><h4>  Namespaces </h4><br>  Docker uses <code>namespaces</code> technology to organize isolated workspaces, which we call containers.  When we run the container, docker creates a set of namespaces for this container. <br><br>  It creates an isolated layer, every aspect of the container is running in its own namespace, and does not have access to an external system. <br><br>  A list of some namespaces that docker uses: <br><ul><li>  <b>pid:</b> to isolate the process; </li><li>  <b>net:</b> to manage network interfaces; </li><li>  <b>ipc:</b> for managing IPC resources.  (ICP: InterProccess Communication); </li><li>  <b>mnt:</b> to control mount points; </li><li>  <b>utc:</b> to isolate the kernel and control version generation (UTC: Unix timesharing system). </li></ul><br><br><h4>  Control groups (control groups) </h4><br>  Docker also uses <code>cgroups</code> or control groups.  The key to the application in isolation, providing the application only those resources that you want to provide.  This ensures that the containers are good neighbors.  Control groups allow you to share the available iron resources and, if necessary, set limits and restrictions.  For example, limit the amount of memory available to the container. <br><br><h4>  Union file system </h4><br>  Union File Sysem or UnionFS is a file system that works creating levels, making it very lightweight and fast.  Docker uses UnionFS to create the blocks from which the container is built.  Docker can use several UnionFS options including: AUFS, btrfs, vfs, and DeviceMapper. <br><br><h4>  Container Formats </h4><br>  Docker combines these components into a wrapper, which we call the container format.  The default format is called <code>libcontainer</code> .  Docker also supports the traditional container format in Linux using <a href="http://linuxcontainers.org/">LXC</a> .  In the future, Docker will probably support other container formats.  For example, integrating with BSD Jails or Solaris Zones. </div><p>Source: <a href="https://habr.com/ru/post/253877/">https://habr.com/ru/post/253877/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../253865/index.html">The evolution of mobile applications</a></li>
<li><a href="../253867/index.html">How to become a test automation?</a></li>
<li><a href="../253869/index.html">"Perfect" cluster. Part 3.1 Implementing MySQL Multi-Master Cluster</a></li>
<li><a href="../253873/index.html">Wolfram Data Drop - new service Wolfram Research</a></li>
<li><a href="../253875/index.html">I want a timer and a count of loaded lines on a web form</a></li>
<li><a href="../253879/index.html">The program for calculating the minimum price of radio components in real time</a></li>
<li><a href="../253883/index.html">And we have an SDK, and you?</a></li>
<li><a href="../253885/index.html">Solving sql injection tasks from alexbers.com/sql</a></li>
<li><a href="../253889/index.html">How to log in to Linux server on gray IP from Android system with mobile Internet using ipv6</a></li>
<li><a href="../253893/index.html">Non-standard use of the site monitoring service</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>