<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>PHP, JavaScript, RPC and other scary words</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We all gathered here are smart, educated, beautiful and experienced. And today, it seems to me, almost everyone uses one or another type of RPC betwee...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>PHP, JavaScript, RPC and other scary words</h1><div class="post__text post__text-html js-mediator-article">  We all gathered here are smart, educated, beautiful and experienced.  And today, it seems to me, almost everyone uses one or another type of RPC between JavaScript and PHP, which works on the API of one or another framework.  Some who even develop some of their crutches and props.  I am no exception, of course.  True, I followed the path of least resistance and, in fact, the discussion in this article will go about this - the next implementation of XML \ JSON RPC for JavaScript and PHP. <br><br>  The background is such that I needed to develop some kind of data management system.  Naturally, the data is stored in a DBMS, and it is necessary to manage them through the web.  I really didn‚Äôt want to get attached to ready-made frameworks, because the choice was not great - PHP-bydlokoding, or MVC with rendering based on ready-made developments like smarty.  However, at about the same time, I drew attention to projects such as extJS (aka Sencha now) and qooxdoo, which allow you to create full-fledged web applications without tedious HTML layout, HTML / XML generation, XSLT transformations and many other ‚Äúscary ¬ªMVC and PHP bydlokoda stuff.  Therefore, the following plan of action matured: <br><a name="habracut"></a><ul><li>  user interface on extJS or qooxdoo </li><li>  PHP models </li><li>  Connection to them XML \ JSON RPC </li></ul>  Thus, I don‚Äôt even know what the model turned out to be, but this is rather a thick client, not MVC.  In general, what happened, in the end I really like.  For the interface, the choice fell on qooxoo - this is the GNU license and, in my opinion, its code is still more focused on OOP and OP than on declarative JSON-style programming of the interface in extJS, and so it happened that I am closer and more understandable.  But with the RPC had to tinker a bit. <br><br>  I wanted to find something lightweight, independent, understandable, simple, and working from the floor of a kick.  Such a project was found at <a href="http://code.google.com/p/json-xml-rpc/">code.google.com/p/json-xml-rpc</a> - this is a fairly flexible and simple RPC implementation with a PHP server and a JavaScript client that works with both XML and JSON and supports both synchronous, and asynchronous calls, which was not unimportant in consequence.  The next step was the expansion of RPC, as well as the system of distribution of roles and access rights.  I want to tell you more about this.  So. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      To begin with, I am an adherent of the OOP school and generally write in C ++ in the original, in the end, as such, PHP itself and JavaScript sometimes insanely bother me in terms of what they allow or do not allow to do in the code.  In spite of this, I think that it is not only possible but necessary to write code that will be reused on OOP.  And it does not matter what to write on.  Therefore, for this system a set of interfaces and their implementations were developed, which reflected such aspects of work as sessions, authorization, user and his role, as well as the RPC proxy system, which allows not only to fully transfer PHP classes to JavaScript but also allocate access rights to these classes up to method call. <br><br>  To begin, I will show you how it looks from the point of view of problem statement and code in PHP and JavaScript.  Suppose we have a simple class: <blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">class</font> Test { <br> <font color="#0000ff">public</font> function mul ($param1, $param2) { <br> <font color="#0000ff">return</font> $param1 * $param2; <br> } <br> }</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote>  We want to have the same exact class with exactly the same functionality in our client-side JavaScript and write something like: <blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">var</font> test = <font color="#0000ff">new</font> Test(); <br> <font color="#0000ff">var</font> result = test.foo(1,2); <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote>  For this, in the current version, I need to create a file (let's call it for decency aip / Test.php) with the following contents: <blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">include <font color="#A31515">'../base/IRPCProxy.inc'</font> ; <br> <br> <font color="#0000ff">class</font> Test extends IRPCProxy { <br> <font color="#0000ff">public</font> function mul ($param1, $param2) { <br> <font color="#0000ff">return</font> $param1 * $param2; <br> } <br> } <br> <br> IRPCProxy::populate( <font color="#0000ff">new</font> Test()); <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote>  And we will create test JavaScript in another file (without further ado we call it test.html) of such a plan: <blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">var</font> test = <font color="#0000ff">new</font> rpc.ServiceProxy( <font color="#A31515">'api/Test.php'</font> , { asynchronous: <font color="#0000ff">false</font> }); <br> <font color="#0000ff">var</font> result = test.mul (19, 7); <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote>  As you can see, nothing has changed much either in terms of PHP or in terms of JavaScripta.  You just need to inherit the class we need in PHP from IRPCProxy and ‚Äúin a special way‚Äù initialize the test variable in JavaScript.  Naturally, the JavaScript code is not complete, but in the end, the use of such remote objects looks like this in the code. <br><br>  Now what concerns access rights.  By itself, the RPC system has no idea about sessions, or about users, or, naturally, about their roles.  This is all imperceptibly and simply managed by the classes and interfaces I have developed.  Basic entities: <ul><li>  user, his role and authorization </li><li>  session, its data and authorization </li><li>  RPC proxies and access to methods generated by classes </li></ul>  It should be noted that when requesting PHP, the code for RPC is not generated and parsed each time, but is cached, depending on the session parameters.  Moreover, in the current implementation, the code is cached as session data, but perhaps it would be more advantageous to store them in separate files or somehow, I did not test this option.  So, as a result, in order to get a complete system, we need to implement a user code and session code.  This is not necessary, since the base classes do their job well without concrete refinements in the implementation.  That is, the code written above will work exactly as you expect. <br><br>  Let's start with the user.  We will have it lazy and its authorization will consist only of checking for the correct login and changing the role (file impl / TestUser.inc): <blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#008000">/**</font> <br> <font color="#008000">* RPC user implementation</font> <br> <font color="#008000">* @author alexander.voronin@gmail.com</font> <br> <font color="#008000">*/</font> <br> <font color="#0000ff">class</font> TestUser extends IRPCUser { <br> <font color="#008000">/**</font> <br> <font color="#008000">* @see IRPCUser::authorize()</font> <br> <font color="#008000">*/</font> <br> <font color="#0000ff">public</font> function authorize ( $login, $password ) { <br> <font color="#0000ff">if</font> ( $login == <font color="#A31515">"test"</font> ) { <br> $ <font color="#0000ff">this</font> -&gt;login = $login; <br> $ <font color="#0000ff">this</font> -&gt;role = <font color="#A31515">"admin"</font> ; <br> <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; <br> } <font color="#0000ff">else</font> { <br> IRPCProxy::logText( <font color="#A31515">"Authorization failed for user '$login' - invalid login"</font> ); <br> <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; <br> } <br> } <br> }; <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote>  Next we need a session.  In order not to confuse data with other projects, our session will be initialized with a special prefix ‚Äútest‚Äù (file impl / TestSession.inc): <blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">require_once <font color="#A31515">'../base/IRPCSession.inc'</font> ; <br> <br> <font color="#008000">/**</font> <br> <font color="#008000">* RPC session implementation</font> <br> <font color="#008000">* @author alexander.voronin@gmail.com</font> <br> <font color="#008000">*/</font> <br> <font color="#0000ff">class</font> TestSession extends IRPCSession { <br> <font color="#008000">/**</font> <br> <font color="#008000">* Reload CTOR and create own session namespace</font> <br> <font color="#008000">*/</font> <br> function __construct () { <br> parent::__construct( <font color="#A31515">"test"</font> ); <br> } <br> }; <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote>  And finally, the proxy implementation itself should ‚Äúknow‚Äù that we are using not our standard users and sessions, but our own (impl / RPCTestProxy.inc file): <blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#008000">// base</font> <br> require_once <font color="#A31515">'../base/IRPCProxy.inc'</font> ; <br> <font color="#008000">// implementations</font> <br> require_once <font color="#A31515">'TestSession.inc'</font> ; <br> require_once <font color="#A31515">'TestUser.inc'</font> ; <br> <br> <font color="#008000">/**</font> <br> <font color="#008000">* RPC proxy implementation</font> <br> <font color="#008000">* @author alexander.voronin@gmail.com</font> <br> <font color="#008000">*/</font> <br> <font color="#0000ff">class</font> TestProxy extends IRPCProxy { <br> <font color="#008000">/**</font> <br> <font color="#008000">* @see IRPCProxy::createSession()</font> <br> <font color="#008000">* @return TestSession</font> <br> <font color="#008000">*/</font> <br> <font color="#0000ff">public</font> function createSession() { <br> <font color="#0000ff">return</font> <font color="#0000ff">new</font> TestSession(); <br> } <br> <font color="#008000">/**</font> <br> <font color="#008000">* @see IRPCProxy::createUser()</font> <br> <font color="#008000">* @return TestUser</font> <br> <font color="#008000">*/</font> <br> <font color="#0000ff">public</font> function createUser() { <br> <font color="#0000ff">return</font> <font color="#0000ff">new</font> TestUser(); <br> } <br> } <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote>  Now we are ready to assign permissions to roles in our RPC code in PHP.  From the point of view of the current implementation, this is done once at the request, and the resulting code is cached in the session data.  The key to the cached code is complex and consists of the session prefix and user role, so that if the user changes his role during the work, the missing code will be generated automatically.  It should be noted that if the code already exists, you can only reset the cache by destroying the session or affect the cached code "directly", which, of course, is better not to do so that the code remains clear and readable.  So, we distribute the rights (api / Test.php file): <blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">&lt;?php <br> <br> include <font color="#A31515">'../impl/RPCTestProxy.inc'</font> ; <br> <br> <font color="#0000ff">class</font> Test extends RPCTestProxy { <br> function haveAccess ( $method ) { <br> <font color="#0000ff">switch</font> ( $ <font color="#0000ff">this</font> -&gt;getUser()-&gt;getRole()) { <br> <font color="#0000ff">case</font> <font color="#A31515">"anonymous"</font> : <br> <font color="#0000ff">switch</font> ( $method ) { <br> <font color="#0000ff">case</font> <font color="#A31515">"mul"</font> : <br> <font color="#0000ff">case</font> <font color="#A31515">"getRole"</font> : <br> <font color="#0000ff">case</font> <font color="#A31515">"sessionLogin"</font> : <br> <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; <br> <font color="#0000ff">default</font> : <br> <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; <br> } <br> <font color="#0000ff">case</font> <font color="#A31515">"admin"</font> : <br> <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; <br> <font color="#0000ff">default</font> : <br> <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; <br> } <br> } <br> <br> <font color="#0000ff">public</font> function mul ($param1, $param2) { <br> <font color="#0000ff">return</font> $param1 * $param2; <br> } <br> <br> <font color="#0000ff">public</font> function getRole () { <br> <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;getUser()-&gt;getRole(); <br> } <br> <br> <font color="#0000ff">public</font> function sessionLogin ($login) { <br> <font color="#0000ff">if</font> ( $ <font color="#0000ff">this</font> -&gt;authorize($login, <font color="#A31515">""</font> )) { <br> <font color="#0000ff">return</font> <font color="#0000ff">true</font> ; <br> } <font color="#0000ff">else</font> { <br> <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; <br> } <br> } <br> <br> <font color="#0000ff">public</font> function sessionLogout () { <br> $ <font color="#0000ff">this</font> -&gt;logout(); <br> } <br> <br> <font color="#0000ff">public</font> function forAdmins () { <br> <font color="#0000ff">return</font> <font color="#A31515">"hello admin"</font> ; <br> } <br> } <br> <br> IRPCProxy::populate( <font color="#0000ff">new</font> Test()); <br> <br> ?&gt;</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote>  As can be seen from the code, we simply define access to the class methods by their name and based on the current role of the user.  We also added the sessionLogin method, which allows us to log in without a password and sessionLogout, which obviously ends our session.  You should not worry about what is happening inside - everything just works there and, after successful authorization, the role will change for the user, as we agreed above.  This is all we need for further work.  Now we extend our JavaScript test to show how it all works: <blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#008000">// simple log</font> <br> <font color="#0000ff">function</font> log ( msg ) { <br> <font color="#0000ff">document</font> .write( <font color="#A31515">'LOG: '</font> + msg + <font color="#A31515">'\n'</font> ); <br> } <br> <font color="#0000ff">var</font> start = <font color="#0000ff">new</font> Date(); <br> <br> <font color="#008000">// RPC init</font> <br> <font color="#0000ff">var</font> test = <font color="#0000ff">new</font> rpc.ServiceProxy( <font color="#A31515">'api/Test.php'</font> , { asynchronous: <font color="#0000ff">false</font> }); <br> <br> log( <font color="#A31515">'Test calls: '</font> + test.system.listMethods()); <br> log( <font color="#A31515">'Role: '</font> + test.getRole()); <br> <br> <font color="#0000ff">var</font> result = test.mul (19, 7); <br> log ( <font color="#A31515">'Test result: '</font> + result ); <br> <br> <font color="#008000">// try to login with invalid credentials</font> <br> <font color="#0000ff">if</font> ( !test.sessionLogin ( <font color="#A31515">'vasya'</font> )) { <br> log ( <font color="#A31515">'Login failed!'</font> ); <br> } <font color="#0000ff">else</font> { <br> log ( <font color="#A31515">'Login success!'</font> ); <br> } <br> <font color="#008000">// check role after login</font> <br> log( <font color="#A31515">'Role: '</font> + test.getRole()); <br> <br> <font color="#008000">// now try to login with valid credentials</font> <br> <font color="#0000ff">if</font> ( !test.sessionLogin ( <font color="#A31515">'test'</font> )) { <br> log ( <font color="#A31515">'Login failed!'</font> ); <br> } <font color="#0000ff">else</font> { <br> log ( <font color="#A31515">'Login success!'</font> ); <br> } <br> <font color="#008000">// check role after login</font> <br> log( <font color="#A31515">'Role: '</font> + test.getRole()); <br> <br> <font color="#008000">// must reinit RPC to get access to new methods</font> <br> test = <font color="#0000ff">new</font> rpc.ServiceProxy( <font color="#A31515">'api/Test.php'</font> , { asynchronous: <font color="#0000ff">false</font> }); <br> log( <font color="#A31515">'Test calls: '</font> + test.system.listMethods()); <br> log( <font color="#A31515">'Admin test: '</font> + test.forAdmins()); <br> <br> <font color="#008000">// logout now</font> <br> log ( <font color="#A31515">'Logout now...'</font> ); <br> test.sessionLogout(); <br> <font color="#008000">// check role after login</font> <br> log( <font color="#A31515">'Role: '</font> + test.getRole()); <br> <br> <font color="#008000">// check timing</font> <br> <font color="#0000ff">var</font> stop = <font color="#0000ff">new</font> Date(); <br> <font color="#0000ff">var</font> testTime = stop.getTime() - start.getTime (); <br> log ( <font color="#A31515">'Test time: '</font> + testTime + <font color="#A31515">'ms'</font> ); <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote>  As can be seen from the code, during its execution, the user changes his role twice.  In this case, after authorization, you need to re-create an RPC object in order to update its list of methods.  After logout, the session with all data is destroyed and the user role is changed to anonymous.  Here is a typical result of the execution of such code in the browser: <br><br> <code>LOG: Test calls: mul,getRole,sessionLogin,system.setJSONDateFormat,system.setDBResultIndexType <br> LOG: Role: anonymous <br> LOG: Test result: 133 <br> LOG: Login failed! <br> LOG: Role: anonymous <br> LOG: Login success! <br> LOG: Role: admin <br> LOG: Test calls: mul,getRole,sessionLogin,sessionLogout,forAdmins,system.setJSONDateFormat,system.setDBResultIndexType <br> LOG: Admin test: hello admin <br> LOG: Logout now... <br> LOG: Role: anonymous <br> LOG: Test time: 212ms</code> <br> <br>  As a result, I got a working web system with no HTML layout at all.  I write the code of the data models and their processing in pure, unclouded PHP and allow access to them through the RPC system described above, and the client is a normal qooxdoo application, with its windows, ruffles and frills.  For such systems, the century MVC has ended, and glory, as they say, good Lord! <br><br>  In conclusion, I would like to say a few words about performance.  Sure - RPC is slow.  However, using asynchronous RPC requests, we can get rid of browser hangs at the time of RPC calls, and of course, pay attention to the fact that the code is written.  Perhaps a dozen RPC calls should be merged into one, or think about the fact that you return as a result of the method. <br><br>  The example described above in its entirety, along with the wrapper RPC code, can be downloaded at <a href="http://depositfiles.com/files/xsnid5wg9">depositfiles.com/files/xsnid5wg9</a> - please refer to the author if you think it‚Äôs possible to use it somewhere.  Thank. <br><br>  Good, beautiful and stable code to you! </div><p>Source: <a href="https://habr.com/ru/post/110727/">https://habr.com/ru/post/110727/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../110721/index.html">Home studio budget</a></li>
<li><a href="../110722/index.html">Architecture Adobe Flex 3 components for a beginner</a></li>
<li><a href="../110724/index.html">Password generator that is always at hand</a></li>
<li><a href="../110725/index.html">Lego film camera</a></li>
<li><a href="../110726/index.html">Upgrade laptop graphics card</a></li>
<li><a href="../110731/index.html">Phone number</a></li>
<li><a href="../110732/index.html">Building a SAN-based unified storage with a shared file space</a></li>
<li><a href="../110733/index.html">Unbound jailbreak iOS 4.2.1. Instruction</a></li>
<li><a href="../110734/index.html">Text from image</a></li>
<li><a href="../110735/index.html">Outwiker 1.0.0 release</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>