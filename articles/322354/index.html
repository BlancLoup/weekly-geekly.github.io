<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Manage application state with Vuex</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="When creating a web application, at some point we ask ourselves how to manage its state? Vue provides us with a way to manage it within the same compo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Manage application state with Vuex</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/018/03c/6a6/01803c6a65a84e0aaba6024b9a51dec5.png" alt="image"><br><br>  When creating a web application, at some point we ask ourselves how to manage its state?  Vue provides us with a way to manage it within the same component, the approach is very simple, and it works great.  But what if the application has many components that should have access to the same data?  One solution to this problem is Vuex, a tool for centralized state management.  In this article we will look at what it consists of and how to use it. <br><a name="habracut"></a><br><h2>  What is Vuex? </h2><br>  The official documentation for Vuex is described as follows: <br><blockquote>  Vuex is a state management pattern and application library on Vue.js.  It serves as a central data repository for all components of the application and provides predictability of data changes using certain rules. </blockquote><br>  Better understand the location of Vuex in the application will help the following scheme: <br><img src="https://habrastorage.org/files/4b5/c42/cd4/4b5c42cd433e4285a0ba14d2d91d4312.png" alt="image"><br>  As you can see, storage becomes a kind of link for all other parts of the application.  A detailed description of this is in the documentation, ( <a href="https://vuex.vuejs.org/ru/">including in Russian</a> ), the purpose of this article will be a quick dive. <br><br>  In order to start using Vuex we need to connect it to our project - this can be done via npm, or simply connect the library with <a href="https://cdnjs.com/libraries/vuex">cdnjs</a> .  We will not focus on this attention, but proceed directly to the creation of the base repository: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="javascript hljs">Vue.use(Vuex) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> store = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vuex.Store({ <span class="hljs-attr"><span class="hljs-attr">state</span></span>: {}, <span class="hljs-attr"><span class="hljs-attr">actions</span></span>: {}, <span class="hljs-attr"><span class="hljs-attr">mutations</span></span>: {}, <span class="hljs-attr"><span class="hljs-attr">getters</span></span>: {}, <span class="hljs-attr"><span class="hljs-attr">modules</span></span>: {} })</code> </pre> <br>  The repository consists of five objects, each of which plays a certain logical role in the application.  Consider them in order. <br><br><h3>  State </h3><br>  Here we define the data structure of our application, and we can also specify default values.  In order not to be unfounded, let's decide what we will write an application for notes.  Accordingly, in the storage you need to put an array with notes: <br><br><pre> <code class="javascript hljs">state: { <span class="hljs-attr"><span class="hljs-attr">notes</span></span>: [] }</code> </pre><br><h3>  Actions </h3><br>  In this part, methods are declared that will cause any changes to the repository.  Here we can make a request to the server, and after receiving the response cause a state change.  Actions can be called from components using the dispatch method.  We will still see it in action, but for now just add a method to add a note.  Since we don‚Äôt have a server, it will only contain the following: <br><br><pre> <code class="javascript hljs">actions: { addNote({commit}, note) { commit(<span class="hljs-string"><span class="hljs-string">'ADD_NOTE'</span></span>, note) } }</code> </pre><br>  commit is a way to cause a mutation, a change of state.  Naming mutations with capital letters is not obligatory, but it has its own meaning - if the code contains such a method name, we can be sure of its purpose (it changes state). <br><br><h3>  Mutations </h3><br>  In mutations, the state changes.  There cannot be asynchronous function calls, computations, etc.  - only state change.  In our example with adding a note, it will look something like this: <br><br><pre> <code class="javascript hljs">mutations: { ADD_NOTE(state, note) { state.notes.push(note) } }</code> </pre><br><h3>  Getters </h3><br>  In order to use the data stored in the repository, they need to get from there.  And often we need not just data, but only some of them - we want to apply some kind of filters to them.  Getters give us this opportunity.  In the basic version, we can simply return the notes in the form in which they are: <br><br><pre> <code class="javascript hljs">getters: { notes(state) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> state.notes } }</code> </pre><br><h3>  Modules </h3><br>  As the application grows, storage increases and the ability to split it into parts becomes more and more popular.  The modules allow you to split one storage into several repositories, but at the same time store them in the form of a single repository tree. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> moduleA = { <span class="hljs-attr"><span class="hljs-attr">state</span></span>: {}, <span class="hljs-attr"><span class="hljs-attr">mutations</span></span>: {}, <span class="hljs-attr"><span class="hljs-attr">actions</span></span>: {}, <span class="hljs-attr"><span class="hljs-attr">getters</span></span>: {} } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> moduleB = { <span class="hljs-attr"><span class="hljs-attr">state</span></span>: {}, <span class="hljs-attr"><span class="hljs-attr">mutations</span></span>: {}, <span class="hljs-attr"><span class="hljs-attr">actions</span></span>: {}, <span class="hljs-attr"><span class="hljs-attr">getters</span></span>: {} } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> store = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vuex.Store({ <span class="hljs-attr"><span class="hljs-attr">modules</span></span>: { <span class="hljs-attr"><span class="hljs-attr">a</span></span>: moduleA, <span class="hljs-attr"><span class="hljs-attr">b</span></span>: moduleB } }) store.state.a <span class="hljs-comment"><span class="hljs-comment">// -&gt;   moduleA store.state.b // -&gt;   moduleB</span></span></code> </pre><br>  More information about modules and namespaces can be found in the <a href="https://vuex.vuejs.org/ru/modules.html">documentation</a> . <br><br><h2>  Moving from words to deeds </h2><br>  Having dealt with what Vuex consists of, let's assemble our mini-app.  To begin with, combine the five parts discussed above in the repository and pass it as an argument to the Vue object, in order to use it.  The storage will be available through this. $ Store and in the child components.  You will also need the addNew method to add a new note.  Note the use of the getter and the dispatch method for working with the repository. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> store = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vuex.Store({ <span class="hljs-attr"><span class="hljs-attr">state</span></span>: { <span class="hljs-attr"><span class="hljs-attr">notes</span></span>: [] }, <span class="hljs-attr"><span class="hljs-attr">actions</span></span>: { addNote({commit}, note) { commit(<span class="hljs-string"><span class="hljs-string">'ADD_NOTE'</span></span>, note) } }, <span class="hljs-attr"><span class="hljs-attr">mutations</span></span>: { ADD_NOTE(state, note) { state.notes.push(note) } }, <span class="hljs-attr"><span class="hljs-attr">getters</span></span>: { notes(state) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> state.notes } } }) <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vue({ <span class="hljs-attr"><span class="hljs-attr">el</span></span>: <span class="hljs-string"><span class="hljs-string">'#app'</span></span>, store, <span class="hljs-attr"><span class="hljs-attr">computed</span></span>: { notes() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.$store.getters.notes; } }, <span class="hljs-attr"><span class="hljs-attr">methods</span></span>: { addNew() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.$store.dispatch(<span class="hljs-string"><span class="hljs-string">'addNote'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">text</span></span>: <span class="hljs-string"><span class="hljs-string">' '</span></span> }) } } })</code> </pre><br>  Thus, we made the simplest application that allows you to add and store notes.  It remains to add markup to display them on the page.  Source code is available in the sandbox on <a href="http://codepen.io/sfi0zy/pen/dNxeKW">codepen</a> . <br><br><h2>  Conclusion </h2><br>  We looked at the Vuex device and a basic example of its use.  As you can see, the tool is simple and intuitive.  But you need to understand its scope.  When creating a simple application, like what we wrote above, using Vuex seems unnecessary, but as the application grows, it can become an indispensable tool in managing the state. <br><br>  <a href="https://vuex.vuejs.org/en/">Documentation in English</a> <br>  <a href="https://vuex.vuejs.org/ru/">Documentation in Russian</a> </div><p>Source: <a href="https://habr.com/ru/post/322354/">https://habr.com/ru/post/322354/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../322344/index.html">Salyut-EL24D1: debug board on the Russian processor 1892BM14Ya for harsh operating conditions</a></li>
<li><a href="../322346/index.html">Heuristic network - analogue of the recurrent neural network for chat bot program</a></li>
<li><a href="../322348/index.html">Escape analysis and scalarization: let GC rest</a></li>
<li><a href="../322350/index.html">Personal experience: TeamCity and character server integration</a></li>
<li><a href="../322352/index.html">As I made the fastest resize of images. Part 1, general optimizations</a></li>
<li><a href="../322360/index.html">Interesting features of Python, which you could not guess</a></li>
<li><a href="../322362/index.html">Red Hat acquires 3scale, which develops API management systems, and intends to open source code of products</a></li>
<li><a href="../322364/index.html">RTM Cybergroup specializes in stealing funds from Russian companies</a></li>
<li><a href="../322366/index.html">Analytical data outside Wrike analytics</a></li>
<li><a href="../322368/index.html">CSS for Swift: using styles for any subclass of UIView</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>