<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Configuring OSPF on Cisco and HUAWEI Hardware</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the last article we looked at the main points of setting up HUAWEI network equipment and stopped at static routing. In today's topic, we‚Äôll talk ab...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Configuring OSPF on Cisco and HUAWEI Hardware</h1><div class="post__text post__text-html js-mediator-article">  In the <a href="http://habrahabr.ru/post/153401/">last</a> article we looked at the main points of setting up HUAWEI network equipment and stopped at static routing.  In today's topic, we‚Äôll talk about dynamic OSPF routing in conjunction with Cisco routers.  Welcome under cat. <br><a name="habracut"></a><br><br><h4>  Theory </h4><br>  So, in our super network there are 4 routers: two HUAWEI and two Cisco.  Router R2 will be ASBR, R3 - ABR. <br><br><img src="https://habrastorage.org/storage2/987/9ff/aea/9879ffaeaf59622eff222c2a39a3b072.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Let me remind you that in OSPF routers are divided into several types: <br><br><ul><li>  Internal router (internal router) - a router, all interfaces of which belong to the same zone.  These routers have only one link state database. </li><li>  Border router (area border router, ABR) - connects one or more zones with the trunk zone and acts as a gateway for inter-zone traffic.  The border router always has at least one interface belonging to the backbone.  For each attached zone, the router maintains a separate link state database. </li><li>  Backbone router ‚Äî A router that always has at least one interface in the backbone area.  The definition is similar to a border router, but a trunk router is not always a border router.  An internal router whose interfaces belong to zone zero is also a trunk. </li><li>  Autonomous system border router (AS boundary router, ASBR) - communicates with routers belonging to other autonomous systems or non-OSPF routers.  The autonomous system border router can be located anywhere on the autonomous system and be an internal, border or trunk router.  <a href="https://habr.com/ru/post/153865/">[one]</a> </li></ul><br><br>  Area 0 - backbone zone, area 1 - dead end zone (stub). <br><br><ul><li>  Backbone (transit) zone (backbone (transit) area) - the zone used to connect other zones. </li><li>  Stub area (stub area) - a zone that does not accept information about routes that are external to this autonomous system. </li><li>  A completely dead-end zone (totally stub area) is a zone that does not accept information about external routes and routes from other autonomous systems. </li></ul><br><br>  So let's get down to setting it up. <br><br><h4>  Initial setting: </h4><br>  First, we need to create a vlan interface, assign it an appropriate ip address and allow traffic to pass through the physical interface, thus achieving ip connectivity between devices. <br><br>  After that, enable the OSPF process on the routers: <br><br>  Cisco: <br><br><pre><code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">R1</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">config</span></span>)<span class="hljs-selector-id"><span class="hljs-selector-id">#router</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ospf</span></span> 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">R1</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">config-router</span></span>)<span class="hljs-selector-id"><span class="hljs-selector-id">#network</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.255</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">area</span></span> 0 <span class="hljs-selector-tag"><span class="hljs-selector-tag">R1</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">config-router</span></span>)<span class="hljs-selector-id"><span class="hljs-selector-id">#network</span></span> 1<span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">area</span></span> 0 <span class="hljs-selector-tag"><span class="hljs-selector-tag">R1</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">config-router</span></span>)<span class="hljs-selector-id"><span class="hljs-selector-id">#router</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">R1</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">config-router</span></span>)<span class="hljs-selector-id"><span class="hljs-selector-id">#router-id</span></span> 1<span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span></code> </pre> <br>  HUAWEI: <br><br><pre> <code class="css hljs"><span class="hljs-selector-attr"><span class="hljs-selector-attr">[R2]</span></span><span class="hljs-selector-tag"><span class="hljs-selector-tag">ospf</span></span> 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">router-id</span></span> 2<span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[R2-ospf-1]</span></span><span class="hljs-selector-tag"><span class="hljs-selector-tag">area</span></span> 0 <span class="hljs-selector-attr"><span class="hljs-selector-attr">[R2-ospf-1-area-0.0.0.0]</span></span><span class="hljs-selector-tag"><span class="hljs-selector-tag">network</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.255</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[R2-ospf-1-area-0.0.0.0]</span></span><span class="hljs-selector-tag"><span class="hljs-selector-tag">network</span></span> 2<span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[R2-ospf-1-area-0.0.0.0]</span></span></code> </pre><br>  Naturally, when configuring, you need to change the values ‚Äã‚Äãof the router-id and advertised networks for different zones.  Thus, the initial OSPF configuration will look like this: <br>  R1 [Cisco]: <br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">router</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ospf</span></span> 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">router-id</span></span> 1<span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">log-adjacency-changes</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">redistribute</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">static</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">network</span></span> 1<span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">area</span></span> 0 <span class="hljs-selector-tag"><span class="hljs-selector-tag">network</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.255</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">area</span></span> 0 !</code> </pre><br>  R2 [HUAWEI]: <br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">ospf</span></span> 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">router-id</span></span> 2<span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">area</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">network</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.255</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">network</span></span> 2<span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> #</code> </pre><br>  R3 [HUAWEI]: <br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">ospf</span></span> 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">router-id</span></span> 3<span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">area</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">network</span></span> 3<span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">network</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.255</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">area</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">network</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span> #</code> </pre><br>  R4: [Cisco] <br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">router</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ospf</span></span> 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">log-adjacency-changes</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">area</span></span> 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">stub</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">network</span></span> 4<span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">area</span></span> 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">network</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">area</span></span> 1 !</code> </pre><br>  Router R4 is ABR, so it describes several zones.  For now, we will not convert zone 1 to the stub state.  Let's see what we got: <br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">Switch</span></span><span class="hljs-selector-id"><span class="hljs-selector-id">#show</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ip</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ospf</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">neighbor</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Neighbor</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ID</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Pri</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">State</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Dead</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Time</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Address</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Interface</span></span> 2<span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">FULL</span></span>/<span class="hljs-selector-tag"><span class="hljs-selector-tag">BDR</span></span> 00<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:00</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:39</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Vlan100</span></span> 3<span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span> 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">FULL</span></span>/<span class="hljs-selector-tag"><span class="hljs-selector-tag">DR</span></span> 00<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:00</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:31</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Vlan100</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Switch</span></span>#</code> </pre><br><h4>  DR, BDR, DROTHER </h4><br>  We see that R2 and R3 routers have chosen BDR and DR, respectively.  Let me remind you what this means.  Since knowing the whole theory of OSPF is not the goal of our narrative, we will describe these concepts briefly. <br><br><ol><li>  DR, designated router (dedicated router) - a router that controls the messaging process in the OSPF network. </li><li>  BDR, backup designated router (backup dedicated router) - a router that replaces the DR in case of removal of the latter. </li></ol><br><br>  BDR and DR are selected based on the priority of the router, but by default, the priorities of all devices are 1. In this case, the selection process follows the router ID, which we observe.  But there is one BUT.  If DR and BDR are already selected, no re-election takes place.  The principle applies: who first got up and sneakers.  Check it out.  To do this, exclude from the process the router R2. <br><pre> <code class="css hljs"><span class="hljs-selector-attr"><span class="hljs-selector-attr">[R2]</span></span><span class="hljs-selector-tag"><span class="hljs-selector-tag">ospf</span></span> 1 <span class="hljs-selector-attr"><span class="hljs-selector-attr">[R2-ospf-1]</span></span><span class="hljs-selector-tag"><span class="hljs-selector-tag">area</span></span> 0 <span class="hljs-selector-attr"><span class="hljs-selector-attr">[R2-ospf-1-area-0.0.0.0]</span></span><span class="hljs-selector-tag"><span class="hljs-selector-tag">undo</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">network</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.255</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[R2-ospf-1-area-0.0.0.0]</span></span></code> </pre><br>  Now R1 has become BDR, while R3 remains DR: <br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">R1</span></span><span class="hljs-selector-id"><span class="hljs-selector-id">#show</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ip</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ospf</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">neighbor</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Neighbor</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ID</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Pri</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">State</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Dead</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Time</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Address</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Interface</span></span> 3<span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span> 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">FULL</span></span>/<span class="hljs-selector-tag"><span class="hljs-selector-tag">DR</span></span> 00<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:00</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:33</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Vlan100</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">R1</span></span>#</code> </pre><br><pre> <code class="css hljs"><span class="hljs-selector-attr"><span class="hljs-selector-attr">[R3]</span></span><span class="hljs-selector-tag"><span class="hljs-selector-tag">display</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ospf</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">peer</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Process</span></span> 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">with</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Router</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ID</span></span> 3<span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Neighbors</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Area</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">interface</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">Vlanif100</span></span>)'<span class="hljs-selector-tag"><span class="hljs-selector-tag">s</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">neighbors</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Router</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ID</span></span>: 1<span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Address</span></span>: 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">State</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">Full</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Mode</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:Nbr</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Slave</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Priority</span></span>: 1 !!!!!<span class="hljs-selector-tag"><span class="hljs-selector-tag">DR</span></span>: 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">BDR</span></span>: 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span>!!!!! <span class="hljs-selector-tag"><span class="hljs-selector-tag">MTU</span></span>: 1500 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Dead</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">timer</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">due</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">in</span></span> 35 <span class="hljs-selector-tag"><span class="hljs-selector-tag">sec</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Retrans</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">timer</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">interval</span></span>: 4 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Neighbor</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">up</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">for</span></span> 00<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:35</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:59</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Authentication</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Sequence</span></span>: <span class="hljs-selector-attr"><span class="hljs-selector-attr">[ 0 ]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Neighbors</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Area</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">interface</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">Vlanif101</span></span>)'<span class="hljs-selector-tag"><span class="hljs-selector-tag">s</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">neighbors</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Router</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ID</span></span>: 4<span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Address</span></span>: 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">State</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">Full</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Mode</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:Nbr</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Master</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Priority</span></span>: 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">DR</span></span>: 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">BDR</span></span>: 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">MTU</span></span>: 1500 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Dead</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">timer</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">due</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">in</span></span> 33 <span class="hljs-selector-tag"><span class="hljs-selector-tag">sec</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Retrans</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">timer</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">interval</span></span>: 5 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Neighbor</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">up</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">for</span></span> 00<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:56</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:48</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Authentication</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Sequence</span></span>: <span class="hljs-selector-attr"><span class="hljs-selector-attr">[ 0 ]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[R3]</span></span></code> </pre><br>  Now we will again include in the OSPF process on the R2 router the network 172.16.1.0/24. <br><pre> <code class="css hljs"><span class="hljs-selector-attr"><span class="hljs-selector-attr">[R2]</span></span><span class="hljs-selector-tag"><span class="hljs-selector-tag">ospf</span></span> 1 <span class="hljs-selector-attr"><span class="hljs-selector-attr">[R2-ospf-1]</span></span><span class="hljs-selector-tag"><span class="hljs-selector-tag">area</span></span> 0 <span class="hljs-selector-attr"><span class="hljs-selector-attr">[R2-ospf-1-area-0.0.0.0]</span></span><span class="hljs-selector-tag"><span class="hljs-selector-tag">network</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.255</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[R2-ospf-1-area-0.0.0.0]</span></span></code> </pre><br>  Now let's see the state of the routers: <br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">R1</span></span><span class="hljs-selector-id"><span class="hljs-selector-id">#show</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ip</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ospf</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">neighbor</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Neighbor</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ID</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Pri</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">State</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Dead</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Time</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Address</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Interface</span></span> 2<span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">FULL</span></span>/<span class="hljs-selector-tag"><span class="hljs-selector-tag">DROTHER</span></span> 00<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:00</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:36</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Vlan100</span></span> 3<span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span> 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">FULL</span></span>/<span class="hljs-selector-tag"><span class="hljs-selector-tag">DR</span></span> 00<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:00</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:39</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Vlan100</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">R1</span></span>#</code> </pre><br>  The second router is in the DROTHER state, i.e. it is neither a DR nor a BDR.  Let it be so. <br><br><h4>  Interzonal route exchange </h4><br>  Now let's see what we have in the routing tables. <br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">R1</span></span><span class="hljs-selector-id"><span class="hljs-selector-id">#show</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ip</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">route</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Codes</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">C</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">connected</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">S</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">static</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">R</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">RIP</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">M</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">mobile</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">B</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">BGP</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">D</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">EIGRP</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">EX</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">EIGRP</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">external</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">O</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">IA</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">inter</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">area</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">N1</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">NSSA</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">external</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">type</span></span> 1, <span class="hljs-selector-tag"><span class="hljs-selector-tag">N2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">NSSA</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">external</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">type</span></span> 2 <span class="hljs-selector-tag"><span class="hljs-selector-tag">E1</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">external</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">type</span></span> 1, <span class="hljs-selector-tag"><span class="hljs-selector-tag">E2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">external</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">type</span></span> 2, <span class="hljs-selector-tag"><span class="hljs-selector-tag">E</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">EGP</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">i</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IS-IS</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">su</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IS-IS</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">summary</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">L1</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IS-IS</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">level-1</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">L2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IS-IS</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">level-2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ia</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IS-IS</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">inter</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">area</span></span>, * <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">candidate</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">default</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">U</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">per-user</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">static</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">route</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">o</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ODR</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">P</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">periodic</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">downloaded</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">static</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">route</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Gateway</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">of</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">last</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">resort</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">not</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">set</span></span> 1<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>/32 <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnetted</span></span>, 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnets</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">C</span></span> 1<span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">directly</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">connected</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">Loopback0</span></span> 2<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>/32 <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnetted</span></span>, 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnets</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">O</span></span> 2<span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[110/1]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">via</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span>, 00<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:05</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:59</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">Vlan100</span></span> 3<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>/32 <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnetted</span></span>, 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnets</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">O</span></span> 3<span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[110/1]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">via</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span>, 00<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:05</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:59</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">Vlan100</span></span> 4<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>/32 <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnetted</span></span>, 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnets</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">O</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IA</span></span> 4<span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[110/3]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">via</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span>, 00<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:05</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:59</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">Vlan100</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>/16 <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">variably</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnetted</span></span>, 2 <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnets</span></span>, 2 <span class="hljs-selector-tag"><span class="hljs-selector-tag">masks</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">C</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>/24 <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">directly</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">connected</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">Vlan100</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">O</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IA</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>/30 <span class="hljs-selector-attr"><span class="hljs-selector-attr">[110/2]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">via</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span>, 00<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:05</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:59</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">Vlan100</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">R1</span></span>#</code> </pre><br>  Flags IA mean that the route came from another OSPF zone. <br><br>  The same on HUAWEI. <br><pre> <code class="css hljs"><span class="hljs-selector-attr"><span class="hljs-selector-attr">[R2]</span></span><span class="hljs-selector-tag"><span class="hljs-selector-tag">disp</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ip</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">routing-table</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Route</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Flags</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">R</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">relay</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">D</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">download</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">to</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">fib</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">------------------------------------------------------------------------------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Routing</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Tables</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">Public</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Destinations</span></span> : 10 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Routes</span></span> : 10 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Destination</span></span>/<span class="hljs-selector-tag"><span class="hljs-selector-tag">Mask</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Proto</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Pre</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Cost</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Flags</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">NextHop</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Interface</span></span> 1<span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span>/32 <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> 10 2 <span class="hljs-selector-tag"><span class="hljs-selector-tag">D</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Vlanif100</span></span> 2<span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span>/32 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Direct</span></span> 0 0 <span class="hljs-selector-tag"><span class="hljs-selector-tag">D</span></span> 127<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">LoopBack0</span></span> 3<span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span>/32 <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> 10 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">D</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Vlanif100</span></span> 4<span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span>/32 <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> 10 3 <span class="hljs-selector-tag"><span class="hljs-selector-tag">D</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Vlanif100</span></span> 127<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>/8 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Direct</span></span> 0 0 <span class="hljs-selector-tag"><span class="hljs-selector-tag">D</span></span> 127<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">InLoopBack0</span></span> 127<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span>/32 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Direct</span></span> 0 0 <span class="hljs-selector-tag"><span class="hljs-selector-tag">D</span></span> 127<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">InLoopBack0</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>/24 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Direct</span></span> 0 0 <span class="hljs-selector-tag"><span class="hljs-selector-tag">D</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Vlanif100</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span>/32 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Direct</span></span> 0 0 <span class="hljs-selector-tag"><span class="hljs-selector-tag">D</span></span> 127<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Vlanif100</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>/30 <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> 10 2 <span class="hljs-selector-tag"><span class="hljs-selector-tag">D</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Vlanif100</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[R2]</span></span></code> </pre><br>  In the global routing table it is clearly not visible that the route 4.4.4.4/32 came from another zone.  Let's look in more detail routes under the OSPF protocol. <br><pre> <code class="css hljs"><span class="hljs-selector-attr"><span class="hljs-selector-attr">[R2]</span></span><span class="hljs-selector-tag"><span class="hljs-selector-tag">dis</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ospf</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">routing</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Process</span></span> 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">with</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Router</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ID</span></span> 2<span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Routing</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Tables</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Routing</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">for</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Network</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Destination</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Cost</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Type</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">NextHop</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">AdvRouter</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Area</span></span> 2<span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span>/32 0 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Stub</span></span> 2<span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> 2<span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>/24 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Transit</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> 2<span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> 1<span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span>/32 2 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Stub</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> 1<span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> 3<span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span>/32 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Stub</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span> 3<span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> 4<span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span>/32 3 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Inter-area</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span> 3<span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>/30 2 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Inter-area</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span> 3<span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Total</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Nets</span></span>: 6 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Intra</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Area</span></span>: 4 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Inter</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Area</span></span>: 2 <span class="hljs-selector-tag"><span class="hljs-selector-tag">ASE</span></span>: 0 <span class="hljs-selector-tag"><span class="hljs-selector-tag">NSSA</span></span>: 0 <span class="hljs-selector-attr"><span class="hljs-selector-attr">[R2]</span></span></code> </pre><br>  Here we see that routes 4.4.4.4/32 and 172.16.2.0/30 came from another zone (Inter-area). <br><br><h4>  Redistributing routes </h4><br>  Complicate the situation.  Recall that R2 is part-time an autonomous system border router, i.e., it may potentially have other routers behind it.  Let's add a couple of static routes to paradise, i.e., wherever they don't return from, forgive me Google's DNS. <br><pre> <code class="css hljs"><span class="hljs-selector-attr"><span class="hljs-selector-attr">[R2]</span></span><span class="hljs-selector-tag"><span class="hljs-selector-tag">ip</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">route-static</span></span> 8<span class="hljs-selector-class"><span class="hljs-selector-class">.8</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.8</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.8</span></span> 32 <span class="hljs-selector-tag"><span class="hljs-selector-tag">NULL0</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[R2]</span></span><span class="hljs-selector-tag"><span class="hljs-selector-tag">ip</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">route-static</span></span> 8<span class="hljs-selector-class"><span class="hljs-selector-class">.8</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span> 32 <span class="hljs-selector-tag"><span class="hljs-selector-tag">NULL0</span></span></code> </pre><br>  And add the redistribution of static routes: <br><pre> <code class="css hljs"><span class="hljs-selector-attr"><span class="hljs-selector-attr">[R2]</span></span><span class="hljs-selector-tag"><span class="hljs-selector-tag">ospf</span></span> 1 <span class="hljs-selector-attr"><span class="hljs-selector-attr">[R2-ospf-1]</span></span><span class="hljs-selector-tag"><span class="hljs-selector-tag">import-route</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">static</span></span></code> </pre><br>  T. o.  follows the configuration of the OSPF section on R2: <br><pre> <code class="css hljs"><span class="hljs-selector-attr"><span class="hljs-selector-attr">[R2-ospf-1]</span></span><span class="hljs-selector-tag"><span class="hljs-selector-tag">di</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">th</span></span> # <span class="hljs-selector-tag"><span class="hljs-selector-tag">ospf</span></span> 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">router-id</span></span> 2<span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">import-route</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">static</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">area</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">network</span></span> 2<span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">network</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.255</span></span> # <span class="hljs-selector-tag"><span class="hljs-selector-tag">return</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[R2-ospf-1]</span></span></code> </pre><br>  Let's look at the routing tables. <br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">R1</span></span><span class="hljs-selector-id"><span class="hljs-selector-id">#show</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ip</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">route</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Codes</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">C</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">connected</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">S</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">static</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">R</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">RIP</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">M</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">mobile</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">B</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">BGP</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">D</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">EIGRP</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">EX</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">EIGRP</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">external</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">O</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">IA</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">inter</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">area</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">N1</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">NSSA</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">external</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">type</span></span> 1, <span class="hljs-selector-tag"><span class="hljs-selector-tag">N2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">NSSA</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">external</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">type</span></span> 2 <span class="hljs-selector-tag"><span class="hljs-selector-tag">E1</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">external</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">type</span></span> 1, <span class="hljs-selector-tag"><span class="hljs-selector-tag">E2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">external</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">type</span></span> 2, <span class="hljs-selector-tag"><span class="hljs-selector-tag">E</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">EGP</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">i</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IS-IS</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">su</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IS-IS</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">summary</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">L1</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IS-IS</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">level-1</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">L2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IS-IS</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">level-2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ia</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IS-IS</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">inter</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">area</span></span>, * <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">candidate</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">default</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">U</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">per-user</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">static</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">route</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">o</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ODR</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">P</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">periodic</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">downloaded</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">static</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">route</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Gateway</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">of</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">last</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">resort</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">not</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">set</span></span> 1<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>/32 <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnetted</span></span>, 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnets</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">C</span></span> 1<span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">directly</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">connected</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">Loopback0</span></span> 2<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>/32 <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnetted</span></span>, 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnets</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">O</span></span> 2<span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[110/1]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">via</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span>, 00<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:01</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:49</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">Vlan100</span></span> 3<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>/32 <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnetted</span></span>, 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnets</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">O</span></span> 3<span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[110/1]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">via</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span>, 00<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:01</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:49</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">Vlan100</span></span> 4<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>/32 <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnetted</span></span>, 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnets</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">O</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IA</span></span> 4<span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[110/3]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">via</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span>, 00<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:01</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:49</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">Vlan100</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>/16 <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">variably</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnetted</span></span>, 2 <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnets</span></span>, 2 <span class="hljs-selector-tag"><span class="hljs-selector-tag">masks</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">C</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>/24 <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">directly</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">connected</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">Vlan100</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">O</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IA</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>/30 <span class="hljs-selector-attr"><span class="hljs-selector-attr">[110/2]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">via</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span>, 00<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:01</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:50</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">Vlan100</span></span> 8<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>/32 <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnetted</span></span>, 2 <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnets</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">O</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">E2</span></span> 8<span class="hljs-selector-class"><span class="hljs-selector-class">.8</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.8</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.8</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[110/1]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">via</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span>, 00<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:01</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:50</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">Vlan100</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">O</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">E2</span></span> 8<span class="hljs-selector-class"><span class="hljs-selector-class">.8</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[110/1]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">via</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span>, 00<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:01</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:52</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">Vlan100</span></span> 9<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>/32 <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnetted</span></span>, 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnets</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">O</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">E2</span></span> 9<span class="hljs-selector-class"><span class="hljs-selector-class">.9</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.9</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.9</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[110/1]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">via</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span>, 00<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:01</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:52</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">Vlan100</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">R1</span></span>#</code> </pre><br>  The E flag means that routes were imported from another routing protocol. <br><br>  The same on HUAWEI: <br><pre> <code class="css hljs"><span class="hljs-selector-attr"><span class="hljs-selector-attr">[R3]</span></span><span class="hljs-selector-tag"><span class="hljs-selector-tag">disp</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ospf</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">routing</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Process</span></span> 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">with</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Router</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ID</span></span> 3<span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Routing</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Tables</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Routing</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">for</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Network</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Destination</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Cost</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Type</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">NextHop</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">AdvRouter</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Area</span></span> 3<span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span>/32 0 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Stub</span></span> 3<span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span> 3<span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>/24 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Transit</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span> 3<span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>/30 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Transit</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> 3<span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> 1<span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span>/32 2 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Stub</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> 1<span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> 2<span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span>/32 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Stub</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> 2<span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> 4<span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span>/32 2 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Stub</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> 4<span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Routing</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">for</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ASEs</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Destination</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Cost</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Type</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Tag</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">NextHop</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">AdvRouter</span></span> 8<span class="hljs-selector-class"><span class="hljs-selector-class">.8</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span>/32 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Type2</span></span> 1 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> 2<span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> 8<span class="hljs-selector-class"><span class="hljs-selector-class">.8</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.8</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.8</span></span>/32 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Type2</span></span> 1 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> 2<span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Total</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Nets</span></span>: 8 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Intra</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Area</span></span>: 6 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Inter</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Area</span></span>: 0 <span class="hljs-selector-tag"><span class="hljs-selector-tag">ASE</span></span>: 2 <span class="hljs-selector-tag"><span class="hljs-selector-tag">NSSA</span></span>: 0 <span class="hljs-selector-attr"><span class="hljs-selector-attr">[R3]</span></span></code> </pre><br><h4>  Stub zones setup </h4><br>  We proceed to the final stage - setting up the deadlock zone area 1. First, let's see which routes came to the unfairly forgotten R4 router. <br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">R4</span></span><span class="hljs-selector-id"><span class="hljs-selector-id">#show</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ip</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">route</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Codes</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">C</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">connected</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">S</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">static</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">R</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">RIP</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">M</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">mobile</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">B</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">BGP</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">D</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">EIGRP</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">EX</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">EIGRP</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">external</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">O</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">IA</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">inter</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">area</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">N1</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">NSSA</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">external</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">type</span></span> 1, <span class="hljs-selector-tag"><span class="hljs-selector-tag">N2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">NSSA</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">external</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">type</span></span> 2 <span class="hljs-selector-tag"><span class="hljs-selector-tag">E1</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">external</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">type</span></span> 1, <span class="hljs-selector-tag"><span class="hljs-selector-tag">E2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">external</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">type</span></span> 2, <span class="hljs-selector-tag"><span class="hljs-selector-tag">E</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">EGP</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">i</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IS-IS</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">su</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IS-IS</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">summary</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">L1</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IS-IS</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">level-1</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">L2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IS-IS</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">level-2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ia</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IS-IS</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">inter</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">area</span></span>, * <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">candidate</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">default</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">U</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">per-user</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">static</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">route</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">o</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ODR</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">P</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">periodic</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">downloaded</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">static</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">route</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Gateway</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">of</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">last</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">resort</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">not</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">set</span></span> 1<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>/32 <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnetted</span></span>, 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnets</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">O</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IA</span></span> 1<span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[110/3]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">via</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span>, 00<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:02</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:18</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">Vlan101</span></span> 2<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>/32 <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnetted</span></span>, 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnets</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">S</span></span> 2<span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[1/0]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">via</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> 3<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>/32 <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnetted</span></span>, 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnets</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">O</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IA</span></span> 3<span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[110/1]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">via</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span>, 00<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:02</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:18</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">Vlan101</span></span> 4<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>/32 <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnetted</span></span>, 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnets</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">C</span></span> 4<span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">directly</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">connected</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">Loopback0</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>/16 <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">variably</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnetted</span></span>, 2 <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnets</span></span>, 2 <span class="hljs-selector-tag"><span class="hljs-selector-tag">masks</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">O</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IA</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>/24 <span class="hljs-selector-attr"><span class="hljs-selector-attr">[110/2]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">via</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span>, 00<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:02</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:18</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">Vlan101</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">C</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>/30 <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">directly</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">connected</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">Vlan101</span></span> 8<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>/32 <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnetted</span></span>, 2 <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnets</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">O</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">E2</span></span> 8<span class="hljs-selector-class"><span class="hljs-selector-class">.8</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.8</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.8</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[110/1]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">via</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span>, 00<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:02</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:19</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">Vlan101</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">O</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">E2</span></span> 8<span class="hljs-selector-class"><span class="hljs-selector-class">.8</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[110/1]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">via</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span>, 00<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:02</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:21</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">Vlan101</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">C</span></span> 192<span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.254</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>/24 <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">directly</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">connected</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">Vlan96</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">R4</span></span>#</code> </pre><br>  We see that absolutely all the routes have come.  Translate zone 1 to a dead end. <br><pre> <code class="css hljs"><span class="hljs-selector-attr"><span class="hljs-selector-attr">[R3]</span></span><span class="hljs-selector-tag"><span class="hljs-selector-tag">ospf</span></span> 1 <span class="hljs-selector-attr"><span class="hljs-selector-attr">[R3-ospf-1]</span></span><span class="hljs-selector-tag"><span class="hljs-selector-tag">area</span></span> 1 <span class="hljs-selector-attr"><span class="hljs-selector-attr">[R3-ospf-1-area-0.0.0.1]</span></span><span class="hljs-selector-tag"><span class="hljs-selector-tag">stub</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[R3-ospf-1-area-0.0.0.1]</span></span></code> </pre><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">R4</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">config</span></span>)<span class="hljs-selector-id"><span class="hljs-selector-id">#router</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ospf</span></span> 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">R4</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">config-router</span></span>)<span class="hljs-selector-id"><span class="hljs-selector-id">#area</span></span> 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">stub</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">R4</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">config-router</span></span>)#</code> </pre><br>  We look at the routing table: <br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">R4</span></span><span class="hljs-selector-id"><span class="hljs-selector-id">#show</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ip</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">route</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Codes</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">C</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">connected</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">S</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">static</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">R</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">RIP</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">M</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">mobile</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">B</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">BGP</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">D</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">EIGRP</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">EX</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">EIGRP</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">external</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">O</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">IA</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">inter</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">area</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">N1</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">NSSA</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">external</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">type</span></span> 1, <span class="hljs-selector-tag"><span class="hljs-selector-tag">N2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">NSSA</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">external</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">type</span></span> 2 <span class="hljs-selector-tag"><span class="hljs-selector-tag">E1</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">external</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">type</span></span> 1, <span class="hljs-selector-tag"><span class="hljs-selector-tag">E2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">external</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">type</span></span> 2, <span class="hljs-selector-tag"><span class="hljs-selector-tag">E</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">EGP</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">i</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IS-IS</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">su</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IS-IS</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">summary</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">L1</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IS-IS</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">level-1</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">L2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IS-IS</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">level-2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ia</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IS-IS</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">inter</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">area</span></span>, * <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">candidate</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">default</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">U</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">per-user</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">static</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">route</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">o</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ODR</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">P</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">periodic</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">downloaded</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">static</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">route</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Gateway</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">of</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">last</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">resort</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">to</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">network</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> 1<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>/32 <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnetted</span></span>, 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnets</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">O</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IA</span></span> 1<span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[110/3]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">via</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span>, 00<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:01</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:54</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">Vlan101</span></span> 2<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>/32 <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnetted</span></span>, 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnets</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">O</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IA</span></span> 2<span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[110/2]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">via</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span>, 00<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:00</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:04</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">Vlan101</span></span> 3<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>/32 <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnetted</span></span>, 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnets</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">O</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IA</span></span> 3<span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[110/1]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">via</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span>, 00<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:01</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:54</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">Vlan101</span></span> 4<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>/32 <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnetted</span></span>, 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnets</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">C</span></span> 4<span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">directly</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">connected</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">Loopback0</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>/16 <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">variably</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnetted</span></span>, 2 <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnets</span></span>, 2 <span class="hljs-selector-tag"><span class="hljs-selector-tag">masks</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">O</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IA</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>/24 <span class="hljs-selector-attr"><span class="hljs-selector-attr">[110/2]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">via</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span>, 00<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:01</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:54</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">Vlan101</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">C</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>/30 <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">directly</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">connected</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">Vlan101</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">C</span></span> 192<span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.254</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>/24 <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">directly</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">connected</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">Vlan96</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">O</span></span>*<span class="hljs-selector-tag"><span class="hljs-selector-tag">IA</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>/0 <span class="hljs-selector-attr"><span class="hljs-selector-attr">[110/2]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">via</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span>, 00<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:01</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:54</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">Vlan101</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">R4</span></span>#</code> </pre><br>  We see that all the routes have arrived, except for routes from other autonomous systems.  For all other addresses, the packets will be routed along the newly arrived default route. <br><br>  Translate zone 1 into an absolutely dead-end.  This can only be done on the ABR router. <br><pre> <code class="css hljs"><span class="hljs-selector-attr"><span class="hljs-selector-attr">[R3]</span></span><span class="hljs-selector-tag"><span class="hljs-selector-tag">ospf</span></span> 1 <span class="hljs-selector-attr"><span class="hljs-selector-attr">[R3-ospf-1]</span></span><span class="hljs-selector-tag"><span class="hljs-selector-tag">area</span></span> 1 <span class="hljs-selector-attr"><span class="hljs-selector-attr">[R3-ospf-1-area-0.0.0.1]</span></span><span class="hljs-selector-tag"><span class="hljs-selector-tag">stub</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">no-summary</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[R3-ospf-1-area-0.0.0.1]</span></span></code> </pre><br>  Let's look at the routing table: <br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">R4</span></span><span class="hljs-selector-id"><span class="hljs-selector-id">#show</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ip</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">route</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Codes</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">C</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">connected</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">S</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">static</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">R</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">RIP</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">M</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">mobile</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">B</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">BGP</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">D</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">EIGRP</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">EX</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">EIGRP</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">external</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">O</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">IA</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">inter</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">area</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">N1</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">NSSA</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">external</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">type</span></span> 1, <span class="hljs-selector-tag"><span class="hljs-selector-tag">N2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">NSSA</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">external</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">type</span></span> 2 <span class="hljs-selector-tag"><span class="hljs-selector-tag">E1</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">external</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">type</span></span> 1, <span class="hljs-selector-tag"><span class="hljs-selector-tag">E2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">external</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">type</span></span> 2, <span class="hljs-selector-tag"><span class="hljs-selector-tag">E</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">EGP</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">i</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IS-IS</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">su</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IS-IS</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">summary</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">L1</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IS-IS</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">level-1</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">L2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IS-IS</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">level-2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ia</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IS-IS</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">inter</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">area</span></span>, * <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">candidate</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">default</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">U</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">per-user</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">static</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">route</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">o</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ODR</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">P</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">periodic</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">downloaded</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">static</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">route</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Gateway</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">of</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">last</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">resort</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">to</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">network</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> 4<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>/32 <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnetted</span></span>, 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnets</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">C</span></span> 4<span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">directly</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">connected</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">Loopback0</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>/30 <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnetted</span></span>, 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">subnets</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">C</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">directly</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">connected</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">Vlan101</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">C</span></span> 192<span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.254</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>/24 <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">directly</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">connected</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">Vlan96</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">O</span></span>*<span class="hljs-selector-tag"><span class="hljs-selector-tag">IA</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>/0 <span class="hljs-selector-attr"><span class="hljs-selector-attr">[110/2]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">via</span></span> 172<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span>, 00<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:00</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:03</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">Vlan101</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">R4</span></span>#</code> </pre><br>  We see that now all packets, except for directly connected networks will be routed by default. <br><br>  That's all.  Thanks for attention. <br><br><h4>  List of used sources </h4><br>  1. OSPF xgu.ru - <a href="http://xgu.ru/wiki/OSPF">xgu.ru/wiki/OSPF</a> <br>  2. K. Package, D. Tyr: Creating Cisco Scalable Networks <br>  3. HedEx Lite - HUAWEI hardware documentation. </div><p>Source: <a href="https://habr.com/ru/post/153865/">https://habr.com/ru/post/153865/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../153853/index.html">Programming in maxima</a></li>
<li><a href="../153855/index.html">Warm and lamp VPN</a></li>
<li><a href="../153857/index.html">Creating icons for Mac OS X applications</a></li>
<li><a href="../153859/index.html">Why you need to think 1000 times before using noSQL</a></li>
<li><a href="../153861/index.html">Build a Nested Set Tree without Recursion</a></li>
<li><a href="../153867/index.html">Review code in the comments</a></li>
<li><a href="../153869/index.html">Overclock the median in OLAP</a></li>
<li><a href="../153873/index.html">Writing a plugin to support cmake projects under vim</a></li>
<li><a href="../153875/index.html">Perl6 - Variable operations, anonymous blocks</a></li>
<li><a href="../153883/index.html">jQuery plugins for amazing web typography</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>