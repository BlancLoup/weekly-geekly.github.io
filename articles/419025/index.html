<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Compilation @pythonetc, July 2018</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This is the second selection of tips about Python and programming from my author‚Äôs @pythonetc channel. Previous selections: 



- June 2018 
 Regular ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Compilation @pythonetc, July 2018</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/webt/zn/iz/hv/znizhvtddgxyegzwv-ctoh9ptei.png"></div>  This is the second selection of tips about Python and programming from my author‚Äôs <a href="http://t.me/pythonetc">@pythonetc</a> channel.  Previous selections: <br><br><ul><li>  <a href="https://habr.com/company/mailru/blog/416605/">June 2018</a> </li></ul><a name="habracut"></a><br><h2>  Regular languages </h2><br>  A regular language is a formal language that can be represented as a <a href="https://ru.wikipedia.org/wiki/%25D0%259A%25D0%25BE%25D0%25BD%25D0%25B5%25D1%2587%25D0%25BD%25D1%258B%25D0%25B9_%25D0%25B0%25D0%25B2%25D1%2582%25D0%25BE%25D0%25BC%25D0%25B0%25D1%2582">finite state machine</a> .  In other words, for character-based text processing, you just need to remember the current state, and the number of such states is of course. <br><br>  A great example: a machine that checks whether the input data is a prime number like ‚Äì3, 2.2, or 001. At the beginning of the article, the state machine is shown.  Double circles indicate final states, the machine can stop in them. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The machine starts from position ‚ë†.  Perhaps he finds a minus, then a digit, and then at the position ‚ë¢ he processes the required number of digits.  After that, the decimal separator ((‚Üí ‚ë£) can be checked, followed by a single digit (‚ë£ ‚Üí ‚ë§) or more (‚ë§ ‚Üí ‚ë§). <br><br>  A classic example of an irregular language is a family of string expressions of the form: <br><br> <code>ab <br> aaa-bbb <br> aaaaa-bbbbb</code> <br> <br>  Formally, we need a line containing N instances of <code>a</code> , then <code>‚Äì</code> , then - N instances of <code>b</code> , where N is an integer greater than 0. You cannot implement this using a state machine, because you will have to remember the number of characters that you thought you could make only using an infinite number of states. <br><br>  Regular expressions can only specify regular languages.  Before using them, make sure that your string can be processed using a state machine.  For example, they are not suitable for processing JSON, XML, or even arithmetic expressions with nested brackets. <br><br>  It's funny that many modern regular expression engines are not regular.  For example, the regex module for Python supports recursion (which <a href="https://regex101.com/r/JzH9vZ/1">will help</a> in solving the problem with <code>aaa-bbb</code> ). <br><br><h2>  Dynamic scheduling </h2><br>  When Python executes a method call, say <code>af(b, c, d)</code> , it must first select the correct function <code>f</code> .  By virtue of polymorphism, <code>a</code> determines what will be ultimately selected.  The process of choosing a method is usually called dynamic dispatch. <br><br>  Python only supports single-dispatch polymorphism.  This means that the choice of an object is affected only by the object itself (in our example, <code>a</code> ).  In other languages, types <code>b</code> , <code>c</code> and <code>d</code> can be taken into account ‚Äî such a mechanism is called multiple dispatch.  A prime example is the C # language. <br><br>  However, multiple dispatching can be emulated using a single.  For this purpose, the ‚Äúvisitor‚Äù design pattern was created: it uses single dispatching twice to simulate a double one. <br><br>  Remember that overloading (overloading) methods (as in Java and C ++) is not an analogue of multiple dispatching.  Dynamic scheduling works in runtime, and overloading is performed only during compilation. <br><br>  These examples will help you better understand the topic: <br><br><ul><li>  <a href="https://repl.it/%40VadimPushtaev/visitor">Python Visitor Template</a> </li><li>  <a href="https://repl.it/%40VadimPushtaev/singledispatch">Overriding in Java does not work like multiple dispatching</a> </li><li>  <a href="https://repl.it/%40VadimPushtaev/multipledispatch">Multiple dispatching in C #</a> </li></ul><br><h2>  Built-in names </h2><br>  In Python, you can easily modify all the standard variables that are available in the global scope: <br><br><pre> <code class="hljs pgsql">&gt;&gt;&gt; print = <span class="hljs-number"><span class="hljs-number">42</span></span> &gt;&gt;&gt; print(<span class="hljs-number"><span class="hljs-number">42</span></span>) Traceback (most recent <span class="hljs-keyword"><span class="hljs-keyword">call</span></span> last): File "&lt;stdin&gt;", <span class="hljs-type"><span class="hljs-type">line</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> &lt;module&gt; TypeError: <span class="hljs-string"><span class="hljs-string">'int'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> callable</code> </pre> <br>  This is useful if your module defines functions whose names match the names of built-in functions.  This happens in situations where you practice metaprogramming and accept an arbitrary string value as an identifier. <br><br>  But even if you duplicate the names of some built-in functions, you may need access to what they originally referred to.  This is what the builtins module is for: <br><br><pre> <code class="hljs python"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> builtins &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> = <span class="hljs-number"><span class="hljs-number">42</span></span> &gt;&gt;&gt; builtins.print(<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> <br>  Also in most modules, the variable <code>__builtins__</code> is available.  But there is one trick.  First, this is a feature of the cpython implementation, and usually it should not be used at all.  Secondly, <code>__builtins__</code> can refer to both <code>builtins</code> and <code>builtins.__dict__</code> , depending on how the current module was loaded. <br><br><h2>  strace </h2><br>  Sometimes the application starts to behave strangely in battle.  Instead of restarting it, you may want to understand the cause of the problems as long as possible. <br><br>  The obvious solution is to analyze the program's actions and try to understand what part of the code is being executed.  Proper logging facilitates this task, but your logs may not be sufficiently detailed due to the architecture or the level of logging selected in the settings. <br><br>  In such cases, strace may be helpful.  This is a Unix utility that tracks system calls.  You can run it beforehand - <code>strace python script.py</code> - but it is usually more convenient to connect to an already running application: <code>strace -p PID</code> . <br><br><pre> <code class="hljs pgsql">$ cat test.py <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> <span class="hljs-keyword"><span class="hljs-keyword">open</span></span>(<span class="hljs-string"><span class="hljs-string">'/tmp/test'</span></span>, <span class="hljs-string"><span class="hljs-string">'w'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> f: f.<span class="hljs-keyword"><span class="hljs-keyword">write</span></span>(<span class="hljs-string"><span class="hljs-string">'test'</span></span>) $ strace python test.py <span class="hljs-number"><span class="hljs-number">2</span></span>&gt;&amp;<span class="hljs-number"><span class="hljs-number">1</span></span> | grep <span class="hljs-keyword"><span class="hljs-keyword">open</span></span> | tail -n <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">open</span></span>("/tmp/test", O_WRONLY|O_CREAT|O_TRUNC|O_CLOEXEC, <span class="hljs-number"><span class="hljs-number">0666</span></span>) = <span class="hljs-number"><span class="hljs-number">3</span></span></code> </pre> <br>  Each line of the trace contains the name of the system call, the arguments in brackets and the return value.  Because some arguments are used to return the result of a system call, and not to pass data to it, the output of a string can be suspended until the system call is completed. <br><br>  In this example, the output is stopped until writing to STDIN is complete: <br><br><pre> <code class="hljs pgsql">$ strace python -c <span class="hljs-string"><span class="hljs-string">'input()'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">read</span></span>(<span class="hljs-number"><span class="hljs-number">0</span></span>,</code> </pre> <br><h2>  Tuple literals </h2><br>  One of the most inconsistent parts of the Python syntax is tuple literals. <br><br>  To create a tuple, it is enough to list the values ‚Äã‚Äãseparated by commas: <code>1, 2, 3</code> .  What about a one-piece tuple?  Just add a hanging comma: <code>1,</code> ,.  It looks ugly and often leads to errors, but it is quite logical. <br><br>  How about an empty tuple?  This is one comma -,?  No, it is <code>()</code> .  And what, brackets create a tuple, like commas?  No, <code>(4)</code> is not a tuple, it's just <code>4</code> . <br><br><pre> <code class="hljs vhdl"><span class="hljs-keyword"><span class="hljs-keyword">In</span></span> : a = [ ...: (<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>), ...: (<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>), ...: (<span class="hljs-number"><span class="hljs-number">1</span></span>), ...: (), ...: ] <span class="hljs-keyword"><span class="hljs-keyword">In</span></span> : [<span class="hljs-keyword"><span class="hljs-keyword">type</span></span>(x) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> a] <span class="hljs-keyword"><span class="hljs-keyword">Out</span></span>: [tuple, tuple, int, tuple]</code> </pre> <br>  To confuse everything even more strongly, additional brackets are often required for literals of tuples.  If you need a tuple to be the only function argument, then obviously <code>f(1, 2, 3)</code> will not work - you have to write <code>f((1, 2, 3))</code> . </div><p>Source: <a href="https://habr.com/ru/post/419025/">https://habr.com/ru/post/419025/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../419013/index.html">Funnel-based attribution for SaaS B2B businesses - as we considered the value of all marketing efforts</a></li>
<li><a href="../419017/index.html">What's new in ConstraintLayout 1.1</a></li>
<li><a href="../419019/index.html">AlterEgo: a device that can read (some) thoughts</a></li>
<li><a href="../419021/index.html">The main types of printing and their features</a></li>
<li><a href="../419023/index.html">How we scaled Nginx and save the world 54 years of waiting each day</a></li>
<li><a href="../419027/index.html">Information security of bank non-cash payments. Part 6 - Analysis of banking crimes</a></li>
<li><a href="../419029/index.html">Fortnite has become a social phenomenon. Parents increasingly hire trainers for their children and play with them</a></li>
<li><a href="../419033/index.html">A quick note on running vue.js in the kubernetes cluster</a></li>
<li><a href="../419035/index.html">The book "Head First Agile. Flexible project management ¬ª</a></li>
<li><a href="../419037/index.html">PPPOS implementation on stm32f4-discovery</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>