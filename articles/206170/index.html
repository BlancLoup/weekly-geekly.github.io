<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Optimal storage architecture for virtual infrastructure backups</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="How to design a virtual infrastructure backup storage architecture? First of all, you need to answer the key question: ‚ÄúWhat is the main priority: min...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Optimal storage architecture for virtual infrastructure backups</h1><div class="post__text post__text-html js-mediator-article">  How to design a virtual infrastructure backup storage architecture?  First of all, you need to answer the key question: ‚ÄúWhat is the main priority: minimizing disk space usage, performance or cost?‚Äù The answer to this question determines the entire future investment strategy in backup infrastructure. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fec/e2d/2b2/fece2d2b284f8835fbba1d2004b13979.png"><br><br>  The figure shows one of the best options for the backup infrastructure architecture.  The first-line storage system (in the figure, this is Backup Storage, shown to the left of the data line), located in close proximity to the original data of the productive network, should be as fast as possible (for example, it can be built on SSD disks), but remaining This is reasonable for the price.  To achieve such a goal, this storage should be of a size sufficient to store only those data that are most likely to be claimed for recovery in the event of a system failure or at the request of users of the productive network.  For example, if according to your statistics, up to 80% of restore requests fall on data created, modified, or deleted in the last 30 days, then only this data should be stored on the ‚Äúfirst line‚Äù storage system.  When selecting this storage system, the following recommended properties should be considered: <br><a name="habracut"></a><br><ol><li>  <b>High performance</b> : The use of high-performance storage on the ‚Äúfirst line‚Äù allows, on the one hand, to duplicate / replicate the changes in the original data as quickly as possible, and, on the other hand, to quickly recover the required data, which gives good RPO and RTO, respectively. </li><li>  <b>Small volume</b> : You have to pay for high performance, therefore, the storage capacity of the first line should not be large.  When planning the size of this repository, you need to proceed from the amount of data that can most likely be claimed for restoration, for which it makes sense to analyze the statistics of the calls to HelpDesk to determine if 80% of requests for data recovery occur over time, in your organization .  The answer to this question may be in the range of 7 to 30 days, which means that later backups should be moved to the storage of long-term storage (much larger, but less productive and lower in price per unit of stored information). </li><li>  <b>Storage is the source for subsequent backup tasks</b> : From the first-line storage, the data needs to be copied further down the chain: to the long-term storage repository or even outside the office, and possibly to several destinations at the same time.  Therefore, such a storage system should provide high speed not only for write operations, but also for read operations.  More information about ‚Äúbackup copy jobs‚Äù using the WAN accelerator can be found in the webinar recording: " <a href="http://www.veeam.com/videos/backup-copy-jobs-with-built-in-wan-acceleration-2508.html">Backup copy jobs with built-in WAN acceleration</a> " (English) </li></ol><br>  So, to summarize, in terms of backup, the advantage of this scheme is as follows: <br><ul><li>  New and changed production system data are duplicated as quickly as possible (good RPO) </li><li>  Backups of the most frequently required data recovery are on fast storage and as close as possible (from the network point of view) to the original data (good RTO) </li><li>  Copies located outside the office or in the long-term data storage repository are created asynchronously with respect to copies created during the initial data duplication process.  Thus, the process of primary duplication of information removes the additional risks associated with the transfer of large amounts of data via the WAN or slow network segments (risks associated primarily with the fact that the process can drag out and begin to adversely affect the RPO). </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      If the repository stores many backups of the same infrastructure, it is wise to use <a href="http://habrahabr.ru/company/veeam/blog/203614/">data deduplication</a> , which will reduce the required storage disk space. <br><br>  Specialized deduplication storage systems, such as ExaGrid, Data Domain, HP StoreOnce and others, are good choices for this task.  It is also a good option to use software deduplication built into Windows Server 2012. Veeam Backup works with both hardware and software deduplication built into your storage, and also contains its own built-in deduplication, and here you have complete freedom what kind of deduplication to apply, and this in turn depends on the structure of your data and the functionality of your storage system.  For example, the ExaGrid EX series storage systems automatically save frequently used data in decompressed (re-deduplicated or ‚Äúrehydrated‚Äù) form, which allows them to quickly return such data for read operations, so that only the network speed will be a limiting factor when performing recovery operations from backup copies.  This is especially important for on-the-fly virtual machine recovery tasks directly from backup to the sandbox, as is the case, for example, with the <a href="http://ashirmanov.blogspot.ru/2013/04/Veeam-US-Patents.html">Instant VM Recovery</a> technology.  You can read more about deduplication issues in backup in the <a href="http://go.veeam.com/wp-esg-lab-2013-review-exagrid-virtual-machine-backup-without-compromise.html">ESG lab</a> report <a href="http://go.veeam.com/wp-esg-lab-2013-review-exagrid-virtual-machine-backup-without-compromise.html">"Virtual Machine Backup Without Compromise"</a> (English). <br><br>  Planning disk space for the backup repository is a daunting task, something similar to planning the fuel consumption of a car - in fact, the mileage will vary from case to case and will depend on many factors.  And, in the end, this brings us back to the original question: ‚Äúwhat is more important - speed, cost or size of disk space‚Äù.  Subsequent issues, priorities and constraints depend on the specific user scenarios, IT infrastructure, and the structure of the data itself. <br><br><h5>  Additional materials </h5><br><ul><li>  <a href="http://habrahabr.ru/company/veeam/blog/170653/">Features long-term backup storage</a> </li><li>  <a href="http://habrahabr.ru/company/veeam/blog/203614/">Introduction to Data Deduplication</a> </li><li>  <a href="http://go.veeam.com/wp-esg-lab-2013-review-exagrid-virtual-machine-backup-without-compromise.html">ESG lab "Virtual Machine Backup Without Compromise"</a> report </li><li>  <a href="http://www.veeam.com/ru/virtual-machine-backup-solution-free.html">Veeam Backup Free Edition for VMware and Hyper-V</a> </li></ul></div><p>Source: <a href="https://habr.com/ru/post/206170/">https://habr.com/ru/post/206170/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../206154/index.html">rusEfi: ignition and other buns</a></li>
<li><a href="../206160/index.html">Basics of developing a client network I2P. Part 2</a></li>
<li><a href="../206164/index.html">Startups from Silicon Valley with Russian-speaking founders. Jacob Diener and Igor Katsman - the founders of Driveway Software</a></li>
<li><a href="../206166/index.html">Private space - Per aspera ad astra</a></li>
<li><a href="../206168/index.html">Overview of switches with 24 10Gb optical ports</a></li>
<li><a href="../206172/index.html">Ten major events of 2013</a></li>
<li><a href="../206178/index.html">Cloud hosting for a simple site</a></li>
<li><a href="../206180/index.html">Dell Powervault MD3 Storage Arrays</a></li>
<li><a href="../206182/index.html">Transformation of threats in the information space: from technological to social. Part II</a></li>
<li><a href="../206186/index.html">Open Terminal Client - First Step</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>