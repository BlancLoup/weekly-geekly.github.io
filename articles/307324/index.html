<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>When unit testing is really needed</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Imagine that you are a JavaScript, Ruby, Phyton or PHP developer. Your programming language does not look for errors at compile time. Actually, he has...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>When unit testing is really needed</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/8cd/5a1/95a/8cd5a195a7d7410e807b591c529f715f.jpg" width="256" align="left">  Imagine that you are a JavaScript, Ruby, Phyton or PHP developer.  Your programming language does not look for errors at compile time.  Actually, he has no compilation as such.  If you make a syntax error, you will, of course, know about it.  When run the program. <br><br>  If you are a responsible developer, write the tests yourself.  So do all the responsible developers.  But <b>what</b> will you test? <a name="habracut"></a><br><br>  You might want to make sure that: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  Functions will behave properly, despite invalid arguments ‚Äî for example, null, or other unexpected types of arguments. </li><li>  Optional function parameters have the correct default values ‚Äã‚Äã- in cases where the caller does not specify these values. </li><li>  The function is located in the correct module and can be called. </li></ul><br>  Of course, you can check out a lot of things.  For example, does the code do what it is supposed to do?  In my experience, regardless of the language, such tests are necessary.  But this is not all that I want to talk about today. <br><br>  Additionally, you can make sure that the code: <br><br><ul><li>  It has no syntax errors. </li><li>  It works in all environments that interest you (for example, in different browsers). </li><li>  Correctly uses libraries (for example, confusing ORM APIs). </li></ul><br>  You will not lose if you use the linter.  True, his help is not enough. <br>  Developers often try to test the entire code.  They take tools that help track which lines of code are executed during tests.  A full check means that each line of code will be executed by at least one of the tests. <br><br>  With programming languages ‚Äã‚Äãthat I listed above, you always have to test everything to the maximum.  If you have few tests, then get ready for a dialogue with a personal imp: ‚ÄúDo you remember that you do not have a compiler?  Your compiler is your tests.  Either you test everything, or you release the non-compiled code.  No need to be a bad developer! ‚Äù <br><br>  I tend to listen to this voice - because I don‚Äôt want to be a bad developer. <br><br><img src="https://habrastorage.org/files/9ca/975/63b/9ca97563b96a48eeb45953a295f03dbd.jpeg" width="400"><br><br>  Periodically, I breathe deeply - hopefully see the light.  And when I do this, it becomes clear to me that I am implicated, perhaps in the largest waste of energy in the history of man. <br><br>  I used to write code in C ++ and Java.  Just they have something called "compiler".  That is, a tool that, among other things, checks the code for syntax errors.  Before the program starts for the first time.  It is still a novelty in the world of web development. <br><br>  The compiler can be treated as a simple unit testing system.  She guarantees that: <br><br><ul><li>  100% of your code will be without syntax errors; </li><li>  100% of function calls will call functions.  And those that exist. </li></ul><br>  If the public low-level library API changes, your compiler will not forget to inform you about this before you run the program.  If you rename a function, the compiler prompts you to update the name also where it is being called. <br><br>  For each function that I wrote in JavaSript / Python / Ruby / PHP, I had to write unit tests to check all this.  Not even that.  Worse.  I wrote a separate test for each place of the function call, which checked whether it is called in this place.  So that you understand - if I have a function that is called in 10 different places of my code, I have to test not only the function, but also all these ten places. <br><br>  <font color="gray">Translator's note: in fact, this is not the case and the unit test tests the ‚Äúunit‚Äù.</font>  <font color="gray">But in the context of the article, if we consider unit tests as a way to add static checks for dynamic languages, we can make this assumption.</font> <br><br>  This is O (N) guys. <br><br>  If any developer refactor my code, and my tests stop testing the same ways of code execution, then I will lose the benefits of these tests and never know about it.  I'm sorry brother <br><br><img src="https://habrastorage.org/files/095/e6a/405/095e6a40549c4fab98bb582db6cfad8a.png" width="400"><br>  <i>Brothers programmers say "Forgive" and shrug their shoulders.</i> <i><br></i> <br>  Does the compiler completely replace unit tests?  Not really.  The meaning is different.  If we choose a programming language without a compiler and compensate for this by writing a lot of tests, we repeat what some very cool compiler developers have already done.  Just think.  If I write code on Go, then from tests that I <b>do not need to write</b> , you can fold a small mountain.  The compiler developers on Go have already done it for me - for every project on Go that will exist. <br><br><img src="https://habrastorage.org/files/869/864/697/869864697842497e840a3b8fdb9a99bf.png" align="left" height="256">  <i>I'll tell you a funny story.</i>  <i>A few years ago, my friend switched from javascript to go.</i>  <i>He wrote some code, and then tried to write a test that would check that the code behaves correctly with the wrong type.</i>  <i>He struggled with the compiler for a long time.</i>  <i>I have not realized yet that such a situation is, in principle, impossible.</i> <br><br>  I do not claim that Go is the only correct language.  All languages ‚Äã‚Äãthat have a compiler work this way.  Even languages ‚Äã‚Äãwith a terrible type system like C ++ also work this way.  You do not need to be an experienced Haskell developer to get all the bonuses from this concept. <br><br>  ... <br><br>  Whenever you write a test, think: if the compiler can make a check for you, do you need to do it?  Postpone work and think about life priorities.  About those smart compiler writers.  They are trying to help you.  Perhaps they should allow it. <br><br><h3>  <b>Epilogue.</b> </h3><br>  Then you can not read. <br><br>  I warned. <br><br>  Fortunately for JavaScript developers, the community saw an imminent threat - and prevented it with the help of <a href="https://flowtype.org/">Flow</a> and <a href="http://www.typescriptlang.org/">TypeScript</a> tools.  But since these tools use <a href="http://siek.blogspot.com.tr/2012/10/is-typescript-gradually-typed-part-1.html">gradual typing</a> , you can never be completely sure that each line of project code ‚Äútakes everything‚Äù from the type system.  Yes, they help.  But since they are interoperable (or are an add-on over) JavaScript, you do not need the 100% "safety net" that the compiled language gives you. <br><br>  More advanced type systems can go further.  For example, <a href="https://en.wikibooks.org/wiki/Ada_Programming/Types/range">Ada</a> can provide a <a href="https://books.google.com.tr/books%3Fid%3DpDDPWfVOOjMC%26pg%3DPA81%26lpg%3DPA81%26dq%3Ddoes%2Bada%2Benforce%2Binteger%2Branges%2Bat%2Bcompile%2Btime%26source%3Dbl%26ots%3DoNlbHdHNen%26sig%3DR5wLfGDYH2vzUsLIsxHKGF64Z8s%26hl%3Den%26sa%3DX%26redir_esc%3Dy">check on the value of numeric variables at compile time</a> .  It can even prevent indexing an array with a number that is obviously larger than the dimension of the array.  At compile time. <br><br>  Haskell also has several powerful typing concepts.  The Maybe type tells the compiler that the value can be empty (the analogue is null).  And any code that uses this value should be notified of this, or a compilation error will occur. <br><br>  <a href="https://webpack.github.io/">Webpack</a> and <a href="http://browserify.org/">Browserify</a> JavaScript <a href="https://webpack.github.io/">build</a> <a href="http://browserify.org/">tools</a> can help a lot with this problem.  If you do not have type checking at compile time.  For example, if you have a syntax error in your javascript, the webpack will throw an error during the creation of the bundle.  It is very useful. <br><br>  Congratulations to those who read between the lines, and understand what this article is about.  There were covert words against dynamically typed languages.  In fact, I am calm about these languages.  But negative side effects when testing can be costly to the developer.  Of course, there are other negative effects that make statically typed languages ‚Äã‚Äãcostly: build time, overly verbose interfaces, search for paths, where / what lies, and so on.  Some statically typed languages ‚Äã‚Äã(Go) solve these inconveniences better than others (C ++). </div><p>Source: <a href="https://habr.com/ru/post/307324/">https://habr.com/ru/post/307324/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../307312/index.html">Mathematics for artificial neural networks for beginners, part 2 - gradient descent</a></li>
<li><a href="../307314/index.html">The relationship between the monetization of games and the behavior of gamers</a></li>
<li><a href="../307316/index.html">Storing the ssh config in an ansible project and solving the tunnel problem when using the relative path</a></li>
<li><a href="../307318/index.html">Web application for working with markdown notes</a></li>
<li><a href="../307320/index.html">Multigrain: Features of PoS Terminal Malware</a></li>
<li><a href="../307326/index.html">Project Management in L & D</a></li>
<li><a href="../307328/index.html">Systematization of publications in the web. Part 3 of 3: Strategy placement of scientific publications</a></li>
<li><a href="../307330/index.html">How to hire programmers. Interview with Katerina Gavrilova from DigitalHR</a></li>
<li><a href="../307332/index.html">Code samples from the summer school on Node.js and JavaScript in KPI</a></li>
<li><a href="../307334/index.html">Threejs editor</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>