<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Callback in javascript ... what a beast?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="If you are not very well aware of what callbacks are and how to use them in JavaScript, now you have a chance to understand them and learn how to work...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Callback in javascript ... what a beast?</h1><div class="post__text post__text-html js-mediator-article">  If you are not very well aware of what callbacks are and how to use them in JavaScript, now you have a chance to understand them and learn how to work with them. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c85/cf6/d4d/c85cf6d4de6e89cdc2538bfc940687c7.gif" alt="image"></div><br>  Let's go straight to the point.  A callback is a function that must be executed after another function completes.  Hence the name, which, in the English spelling, can be represented as ‚Äúcall back‚Äù, although usually it is ‚Äúcallback‚Äù.  Among the options for the translation of the word - "callback".  In the Russian-language publications, allowing the use of jargon programmers, is very common tracing with the original name: "kollbek."  If we do without jargon, then what we are talking about is called a ‚Äúcallback function‚Äù. <br><a name="habracut"></a><br>  Going deeper, to explain the essence of callback functions, especially JavaScript, we can say that functions in JS are objects.  Therefore, functions can take other functions as arguments and return them as results.  Functions that work in this way are called higher order functions.  Callbacks are usually called functions that are passed to other functions as arguments. <br><br><h2>  <font color="#3AC1EF">Why do we need callback functions?</font> </h2><br>  Callbacks are needed for one very important reason: JavaScript is the language in which events play a huge role.  This means that instead of waiting, say, the result of performing a function, stopping all other operations, the JavaScript program works by observing and responding to events. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Take a look at a simple example: <br><br><pre><code class="hljs matlab"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">first</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">{  </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">console</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">log</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(1)</span></span></span><span class="hljs-function">; } </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">second</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">{  </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">console</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">log</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(2)</span></span></span><span class="hljs-function">; } </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">first</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">second</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">;</span></span></code> </pre> <br>  As you might expect, the <code>first()</code> function is executed first, and the <code>second()</code> function <code>‚Äî</code> second.  Running this code causes the following to be displayed in the console: <br><br><pre> <code class="hljs objectivec"><span class="hljs-comment"><span class="hljs-comment">// 1 // 2</span></span></code> </pre> <br>  So far, we hope everything is clear, but what if the function <code>first()</code> contains code that cannot be executed immediately?  For example, is there an appeal to a certain API, and, first, you need to send a request, and then wait for an answer?  In order to simulate this, we use the function <code>setTimeout()</code> , which is used in JavaScript to call other functions with a specified delay.  We are going to postpone the function call for 500 milliseconds. <br><br>  Here's what happened now: <br><br><pre> <code class="hljs lua"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">first</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ //   setTimeout( <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{   console.<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>); }, <span class="hljs-number"><span class="hljs-number">500</span></span> ); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">second</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ console.<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>(<span class="hljs-number"><span class="hljs-number">2</span></span>); } first(); second();</code> </pre> <br>  For our purposes, the features of <code>setTimeout()</code> important right now.  The main thing - note that the call <code>console.log(1)</code> will be executed with a delay. <br><br>  This is what happens when you run this code: <br><br><pre> <code class="hljs objectivec"><span class="hljs-comment"><span class="hljs-comment">// 2 // 1</span></span></code> </pre> <br>  In spite of the fact that the <code>first()</code> function was called first, the first thing that the <code>second()</code> function prints out to the log first. <br><br>  This does not mean that JavaScript calls functions not in the order in which we place their calls in the code.  The point is that the system goes to the execution of the function <code>second()</code> , without waiting for a response from the function <code>first()</code> . <br><br>  In situations where, having called a certain function, it is impossible to be sure that the program will continue to work only after receiving a response from it, the use of callback functions is an approach that allows you to guarantee that a certain code fragment will be called only after then the other code will complete execution.  For example, this happens all the time in any program that somehow interacts with the outside world ‚Äî say, web services. <br><br><h2>  <font color="#3AC1EF">Create a callback function</font> </h2><br>  Create your own callback function. <br><br>  To get started, open the Chrome Developer Console ( <code>Ctrl + Shift + J</code> on Windows, or <code>Cmd + Option + J</code> on Mac) and type the following: <br><br><pre> <code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">doHomework</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">subject</span></span></span><span class="hljs-function">) </span></span>{ alert(<span class="hljs-string"><span class="hljs-string">`Starting my </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${subject}</span></span></span><span class="hljs-string"> homework.`</span></span>); }</code> </pre> <br>  Here we declared the <code>doHomework()</code> function.  This function accepts one variable - the name of the subject in which someone does homework.  Call the function by typing the following in the console: <br><br><pre> <code class="hljs cs">doHomework(<span class="hljs-string"><span class="hljs-string">'math'</span></span>); <span class="hljs-comment"><span class="hljs-comment">//  : Starting my math homework.</span></span></code> </pre> <br>  Now we add, as the second argument to the <code>doHomework()</code> function, the <code>callback</code> parameter that we will use to pass the <code>doHomework()</code> function to <code>doHomework()</code> .  Now the code will look like this: <br><br><pre> <code class="hljs matlab"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">doHomework</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(subject, callback)</span></span></span><span class="hljs-function"> { </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">alert</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(`Starting my ${subject} homework.`)</span></span></span><span class="hljs-function">; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">callback</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">; }</span></span></code> </pre> <br>  Call the updated function as follows: <br><br><pre> <code class="hljs matlab">doHomework(<span class="hljs-string"><span class="hljs-string">'math'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> { </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">alert</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">('Finished my homework')</span></span></span><span class="hljs-function">; });</span></span></code> </pre> <br>  First, a message will appear with the text <code>Starting my math homework.</code>  , then - with the text <code>Finished my homework</code> . <br><br>  It is not necessary to create callback functions directly when calling functions to which they are passed.  Such a function can be declared somewhere in the code: <br><br><pre> <code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">doHomework</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">subject, callback</span></span></span><span class="hljs-function">) </span></span>{ alert(<span class="hljs-string"><span class="hljs-string">`Starting my </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${subject}</span></span></span><span class="hljs-string"> homework.`</span></span>); callback(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">alertFinished</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ alert(<span class="hljs-string"><span class="hljs-string">'Finished my homework'</span></span>); } doHomework(<span class="hljs-string"><span class="hljs-string">'math'</span></span>, alertFinished);</code> </pre> <br>  After calling the <code>doHomework()</code> function, everything will look exactly the same as in the previous example.  The differences are only in how we work with the callback function. <br><br>  As you can see, here, as an argument when calling the <code>doHomework()</code> function, we used the function name <code>alertFinished()</code> . <br><br><h2>  <font color="#3AC1EF">Callback functions in real projects</font> </h2><br>  A special <a href="https://dev.twitter.com/rest/public">API is</a> used for programmatic interaction with the popular social network Twitter.  When executing calls to this API, we are forced to wait for a response, and only after receiving it, can we carry out what comes from Twitter some actions.  <a href="https://hackernoon.com/build-a-simple-twitter-bot-with-node-js-in-just-38-lines-of-code-ed92db9eb078">Here is the</a> material, which describes <a href="https://hackernoon.com/build-a-simple-twitter-bot-with-node-js-in-just-38-lines-of-code-ed92db9eb078">how</a> to work with the Twitter API in the Node.js environment using the NPM <a href="https://www.npmjs.com/package/twitter">twitter</a> package. <br><br>  Consider the code snippet from this material.  We believe it is an excellent demonstration of the practical use of callback functions. <br><br><pre> <code class="hljs pgsql">T.<span class="hljs-keyword"><span class="hljs-keyword">get</span></span>(<span class="hljs-string"><span class="hljs-string">'search/tweets'</span></span>, params, <span class="hljs-keyword"><span class="hljs-keyword">function</span></span>(err, data, response) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!err){   //      ,    Twitter } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {   console.log(err); } }) T.<span class="hljs-keyword"><span class="hljs-keyword">get</span></span>()</code> </pre> <br>  Is a function that makes a get request to the Twitter API.  The function has three arguments.  The first, <code>'search/tweets'</code> , is the query route.  Here we are going to search tweets.  The second argument, <code>params</code> , is the search parameter.  The third argument is an anonymous function, which is a callback function. <br><br>  The callback function is very important here, because, before continuing to work, you need to wait for a response from the server.  It is not known whether the appeal to the API will be successful, therefore, after sending search parameters along the <code>search/tweet</code> route using a get request, you have to wait.  As soon as Twitter responds to the request, the callback function will be executed.  If something went wrong, we get an error object ( <code>err</code> ) in it.  If the request is processed normally, the <code>err</code> argument will have a value equivalent to <code>false</code> , which means, first, the <code>if</code> branch of the conditional operator will be executed, and secondly, it will be possible to expect that there will be some useful data in the <code>response</code> object, with which you can already do something. <br><br><h2>  <font color="#3AC1EF">Results</font> </h2><br>  Hopefully, our story about the callback functions in JavaScript turned out to be useful to those who did not understand them very well.  In fact, what we have said here is just the tip of the iceberg.  But now, having understood the basics, you can expand and deepen your knowledge in this area. <br><br>  Dear readers!  If you are one of those who, before reading this material, had a bad idea of ‚Äã‚Äãwhat callback functions are in JS, tell me - has it become clearer?  And if callbacks are common for you, please share your experience with newbies. </div><p>Source: <a href="https://habr.com/ru/post/330880/">https://habr.com/ru/post/330880/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../330868/index.html">Jobs-To-Be-Done Framework: Our Experience</a></li>
<li><a href="../330870/index.html">Own CRM system for 3 hours in Google tables</a></li>
<li><a href="../330872/index.html">Reservoir Dogs: Angular 2 vs React: Report by Evgeny Gusev and Ilya Taratukhin</a></li>
<li><a href="../330874/index.html">5 opportunities LESS, which you might not know</a></li>
<li><a href="../330876/index.html">Toll Highway Technologies: Present and Near Future</a></li>
<li><a href="../330882/index.html">Diary of a single development, or Xamarin as it is</a></li>
<li><a href="../330884/index.html">Artificial intelligence captures Wall Street: how it will affect the field of finance and not only</a></li>
<li><a href="../330888/index.html">Mobile in-store reassessment: how technology helps retailers optimize spending</a></li>
<li><a href="../330890/index.html">GeekUniversity opens a set of students at the Faculty of Java-development</a></li>
<li><a href="../330892/index.html">Potentially dangerous algorithms</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>