<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Tremble, peace! We have released PVS-Studio 4.00 with a free general-purpose analyzer.</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We bring to the attention of programmers a new tool for finding errors in the source code of C / C ++ applications. Within the PVS-Studio analyzer, a ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Tremble, peace! We have released PVS-Studio 4.00 with a free general-purpose analyzer.</h1><div class="post__text post__text-html js-mediator-article"><img align="left" src="http://software.intel.com/file/32508" alt="Check TortoiseSVN"><br>  We bring to the attention of programmers a new tool for finding errors in the source code of C / C ++ applications.  Within the PVS-Studio analyzer, a new set of general-purpose rules has been implemented.  This functionality is currently free.  You can download PVS-Studio at <a href="http://www.viva64.com/ru/pvs-studio-download/">http://www.viva64.com/en/pvs-studio-download/</a> . <br><br>  The article briefly describes the new features of PVS-Studio.  Using the static analysis of the source code of the TortoiseSVN project, the use of new diagnostic capabilities will be demonstrated. <br><a name="habracut"></a><br>  PVS-Studio is a modern source code analyzer that integrates into Microsoft Visual Studio 2005/2008/2010.  The analyzer allows you to conveniently work with the list of warnings and use several processor cores for your work.  PVS-Studio is focused on developers of modern Windows applications in C / C ++ / C ++ 0x. <br><br>  So far, PVS-Studio has included two sets of rules.  <a href="http://www.viva64.com/ru/viva64-tool/">The first</a> to detect defects in 64-bit programs.  <a href="http://www.viva64.com/ru/vivamp-tool/">The second</a> to detect defects in parallel programs built on the basis of OpenMP technology. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Now the <a href="http://www.viva64.com/ru/general-analysis/">third</a> universal set of checks appeared in the analyzer, revealing various errors in the code.  This set of rules is free and can be used without any restrictions.  Whether over time this set will be paid or not is difficult to say now.  In the field of general purpose analysis, we are just beginning our journey. <br><br>  Now you can get acquainted with the new set of rules by <a href="http://www.viva64.com/ru/pvs-studio-download/">downloading</a> PVS-Studio 4.00 BETA.  We will be happy to receive comments from you about the errors we have noticed and suggestions for improvement.  Just want to note that for a start, we implemented only 50 general-purpose rules.  That's not a lot.  Therefore, if you download and try PVS-Studio right away, you will not find something interesting in your code, do not rush to conclusions.  We offer you to try PVS-Studio again in the future, when the set of checks will be significantly increased.  We plan soon to actively work on expanding the base of diagnostic rules (if there is enough health and luck). <br><br>  Let us demonstrate the use of the new rule set PVS-Studio using the example of <a href="http://tortoisesvn.net/">TortoiseSVN</a> .  TortoiseSVN is a client for the Subversion version control system, executed as a Windows shell extension.  TortoiseSVN is well known to many developers, and I think it makes no sense to describe this application in more detail.  I will only note that in 2007, on SourceForge.net, TortoiseSVN was recognized as the best project in the category ‚Äútools and utilities for developers‚Äù. <br><br><h2>  Step 1 </h2><br>  We are downloading PVS-Studio from the site of the company OOO Program Verification Systems (this is us).  I hope you will be pleased that you do not need to fill out any forms or solve captcha.  Just <a href="http://www.viva64.com/ru/pvs-studio-download/">download</a> . <br><br><h2>  Step 2 </h2><br>  Install PVS-Studio.  You can safely click the Next button.  No need to configure anything.  The PVS-Studio distribution kit is digitally signed.  However, some antiviruses can still be alerted to actions related to integration into Visual Studio.  Everything is allowed. <br><br><h2>  Step 3 </h2><br>  <a href="http://tortoisesvn.net/downloads">Download the</a> set of source texts of the TortoiseSVN project.  We worked with source code version 1.6.11. <br><br><h2>  Step 4 </h2><br>  Open the TortoiseSVN project and launch the analysis.  To do this, PVS-Studio select the Check Solution command in me. <br> <a href="http://software.intel.com/file/32510"><img src="http://software.intel.com/file/32509" alt="PVS-Studio Check Solution"></a> <br><br><h2>  Step 5 </h2><br>  The analyzer will think for a while (the TortoiseSVN project is not so simple and contains a bunch of files).  Therefore, we are not in a hurry to do something at this moment and wait a bit.  After a while, a progress dialog will appear and analysis will begin.  The speed of analysis depends on the number of cores in the processor.  If PVS-Studio eats up too many resources, you can limit its desires in the settings. <br> <a href="http://software.intel.com/file/32512"><img src="http://software.intel.com/file/32511" alt="PVS-Studio Check Solution"></a> <br>  Messages The analyzer issues in its own window, where there are controls for turning on / off various types of messages.  And we will take advantage of these opportunities.  Now it is not at all interesting to look at the many errors associated with 64 bits.  Moreover, 64-bit analysis is paid, and therefore limited (for more details about the trial mode, see <a href="http://www.viva64.com/ru/order/">here</a> ). <br><br>  In the window you can see a set of three buttons, responsible for displaying messages from the three sets of rules. <br><img src="http://software.intel.com/file/32513" alt="64-MP-GA"><br><br>  1) 64 - diagnostic messages about 64-bit defects (Viva64); <br>  2) MP - diagnostic messages about parallel defects (VivaMP); <br>  3) GA - general type diagnostic messages (General Analysis). <br><br>  We are interested only in a set of general-purpose rules (GA).  We press the other buttons, and the extra messages in the list will be immediately hidden. <br><img src="http://software.intel.com/file/32514" alt="PVS-Studio GA"><br><br>  We are waiting for the completion of the analysis. <br><br><h2>  Step 6 </h2><br>  The analysis is completed, and we see a list of all the places in the program for which the analyzer recommends reviewing the code (code review). <br> <a href="http://software.intel.com/file/32516"><img src="http://software.intel.com/file/32515" alt="PVS-Studio Error List"></a> <br>  All warnings are divided into 3 levels of importance (this is new in PVS-Studio 4.00).  Usually, it makes sense to watch only the first and second level.  PVS-Studio 4.00 BETA issued 33 first-level warnings, 14 second-level warnings and 8 third-level warnings. <br><br>  It is worth starting an acquaintance with the warnings of the first level.  Therefore, it is possible to disable the button indicating the output of second level messages.  The third level is already disabled by default. <br><br><h2>  Step 7 </h2><br>  Consider the interesting places in the code detected by the analyzer. <br><br><h3>  Situation 1 </h3><br>  At the very beginning, two messages belong to the same function.  Hopefully, this feature is not used anywhere else. <br><br>  V530  contextmenu.cpp 434 <br><br>  V530  contextmenu.cpp 442 <br><pre>  STDMETHODIMP CShellExt :: Initialize (....)
 {
   ...
   ignoredprops.empty ();
   for (int p = 0; p &lt;props.GetCount (); ++ p)
   {
     if (props.GetItemName (p).
           compare (SVN_PROP_IGNORE) == 0)
     {
       std :: string st = props.GetItemValue (p);
       ignoredprops = UTF8ToWide (st.c_str ());
       // remove all escape chars ('\\')
       std :: remove (ignoredprops.begin (),
                   ignoredprops.end (), '\\');
       break;
     }
   }
   ...
 } </pre><br>  Hereinafter, only a brief commentary on code fragments will be given.  In more detail, you can find out why the code is considered suspicious in the online documentation for PVS-Studio (it is available in <a href="http://www.viva64.com/ru/d/">Russian</a> and <a href="http://www.viva64.com/en/d/">English</a> ).  Also complete with PVS-Studio is the documentation (the same one) in the format of a PDF file.  Further links to the corresponding descriptions of diagnostic messages will be given. <br><br>  The <a href="http://www.viva64.com/ru/d/0119/">V530</a> warning tells us that ‚Äúignoredprops.empty ()‚Äù doesn‚Äôt clear the string at all, and ‚Äústd :: remove ()‚Äù doesn‚Äôt actually remove characters. <br><br><h3>  Situation 2 </h3><br>  Here it checks that a variable of type 'char' is greater than or equal to the value 0x80. <br><br>  V547 Expression 'c&gt; = 0x80' is always false.  The value range of signed char type: [-128, 127].  pathutils.cpp 559 <br><pre>  CString CPathUtils :: PathUnescape (const char * path)
 {
   // try quick path
   size_t i = 0;
   for (; char c = path [i]; ++ i)
     if ((c&gt; = 0x80) || (c == '%'))
     {
       // quick path does not work for
       // non-latin or escaped chars
       std :: string utf8Path (path);
       CPathUtils :: Unescape (&amp; utf8Path [0]);
       return CUnicodeUtils :: UTF8ToUTF16 (utf8Path);
     }
   ...
 } </pre><br>  Message <a href="http://www.viva64.com/ru/d/0137/">V547</a> notifies that such a check is meaningless.  A value of type 'char' will always be less than 0x80, which means that the condition is always false.  And perhaps it is because of this error that the comment "quick path does not work for non-latin or escaped chars" is written in the code.  Of course it does not work, but not because it is impossible to convert the string.  When a non-latin symbol is encountered, we simply do not go into the body of the 'if' operator. <br><br><h3>  Situation 3 </h3><br>  Many threads are created and killed using the CreateThread / ExitThread functions.  And, therefore, we risk quickly exhausting the thread stack or not freeing some of the resources when the thread ends.  Read more in the description of the warning <a href="http://www.viva64.com/ru/d/0102/">V513</a> .  It is much safer to use the _beginthreadex () and _endthreadex () functions. <br><br>  There is no sense to give an example of code here, and the text of all messages is the same: <br><br>  V513 Use _beginthreadex / _endthreadex functions instead of CreateThread / ExitThread functions.  crashhandler.cpp 379 <br><br><h3>  Situation 4 </h3><br>  This applies to related TortoiseSVN utilities.  It is very likely that when working with CrashLog, everything will end with another Crash. <br><br>  V510 The 'printf_s' function is not expected to receive class-type variable as the fourth actual argument.  excprpt.cpp 199 <br><pre>  string CExceptionReport :: getCrashLog ()
 {
   ...
   _tprintf_s (buf, _T ("% s \\% s.xml"),
   getenv ("TEMP"), CUtility :: getAppName ());
   ...
 } </pre><br>  The <a href="http://www.viva64.com/ru/d/0099/">V510</a> message warns that it is very bad to pass a parameter of type std :: string to the printf_s function.  And the CUtility :: getAppName () function returns exactly std :: string.  The mistake is that you forgot to write ".c_str ()".  The consequence can be either just incorrect output of data, or a program crash. <br><br><h3>  Situation 5 </h3><br>  They wanted to clear the array, but could not. <br><br>  V530  mailmsg.cpp 40 <br><pre>  CMailMsg &amp; CMailMsg :: SetFrom (string sAddress,
                             string sName)
 {
    if (initIfNeeded ())
    {
       // only one sender allowed
       if (m_from.size ())
          m_from.empty ();
       m_from.push_back (TStrStrPair (sAddress, sName));
    }
    return * this;
 } </pre><br>  Again, the <a href="http://www.viva64.com/ru/d/0119/">V530</a> message suggests that instead of ‚Äúclear ()‚Äù it is accidentally written ‚Äúempty ()‚Äù. <br><br><h3>  Situation 6 </h3><br>  And in the SetTo () function also failed to clear the array. <br><br>  V530  mailmsg.cpp 54 <br><pre>  CMailMsg &amp; CMailMsg :: SetTo (string sAddress,
                           string sName)
 {
    if (initIfNeeded ())
    {
       // only one recipient allowed
       if (m_to.size ())
          m_to.empty ();

       m_to.push_back (TStrStrPair (sAddress, sName));
    }
    return * this;
 } </pre><br><h3>  Situation 7 </h3><br>  There are, of course, false positives.  Here, for example, is a snippet of code from the zlib library included in the TortoiseSVN project.  There is no error here, but it‚Äôs very useful to mark such a place with a <a href="http://www.viva64.com/ru/d/0090/">V501</a> message. <br><br>  V501 operator - the operator: size - size zutil.c 213 <br><pre>  voidpf zcalloc (opaque, items, size)
     voidpf opaque;
     unsigned items;
     unsigned size;
 {
   / * make compiler happy * /
   if (opaque) items + = size size size;
   return (voidpf) calloc (items, size);
 } </pre><br>  The compiler is certainly happy here, but the subtraction looks suspicious. <br><br><h3>  Situation 8 </h3><br>  There are other dark places with the encodings.  Here is another condition that is always false. <br><br>  V547 Expression '* utf8CheckBuf&gt; = 0xF5' is always false.  The value range of signed char type: [-128, 127].  tortoiseblame.cpp 312 <br><pre>  BOOL TortoiseBlame :: OpenFile (const TCHAR * fileName)
 {
   ...
   // check each line for illegal utf8 sequences.
   // If one is found, we treat
   // the file as ASCII, otherwise we assume
   // an UTF8 file.
   char * utf8CheckBuf = lineptr;
   while ((bUTF8) &amp;&amp; (* utf8CheckBuf))
   {
     if ((* utf8CheckBuf == 0xC0) ||
         (* utf8CheckBuf == 0xC1) ||
         (* utf8CheckBuf&gt; = 0xF5))
     {
       bUTF8 = false;
       break;
     }

    ...
   } </pre><br>  By the way, the terms "* utf8CheckBuf == 0xC0", "* utf8CheckBuf == 0xC1" are also always false.  Therefore, the code "bUTF8 = false;" will never get control.  The fact that the PVS-Studio analyzer did not scold the expression "* utf8CheckBuf == 0xC0" is a flaw.  Recorded in the list of improvements.  In the next version we will swear on this. <br><br><h3>  Situation 9 </h3><br>  With the next message is not so simple.  Theoretically, there is an error in the code.  Practically - this code works. <br><br>  V507 Pointer to local array 'stringbuf' is stored outside of this array.  Such a pointer will become invalid.  mainwindow.cpp 277 <br><pre>  LRESULT CALLBACK CMainWindow :: WinMsgHandler (....)
 {
   ...
   if (pNMHDR-&gt; code == TTN_GETDISPINFO)
   {
     LPTOOLTIPTEXT lpttt;

     lpttt = (LPTOOLTIPTEXT) lParam;
     lpttt-&gt; hinst = hResource;

     // Specify the resource identifier of the
     // descriptive text for the given button.
     TCHAR stringbuf [MAX_PATH] = {0};
     ...
     lpttt-&gt; lpszText = stringbuf;
   }
   ...
 } </pre><br>  Diagnostic message <a href="http://www.viva64.com/ru/d/0096/">V507</a> warns that the object is used after the end of its existence.  The 'stringbuf' buffer will be used after exiting the 'if' operator from the body. <br><br>  If 'stringbuf' were a class object, for example std :: string, then this code would behave incorrectly.  We would use the already destroyed object.  But here 'stringbuf' is an array created on the stack.  The Visual C ++ compiler does not reuse this section of the stack, and the buffer will exist until the end of the 'CMainWindow :: WinMsgHandler' function.  Thus, no error will occur, although the code is potentially dangerous. <br><br><h3>  Situation 10 </h3><br>  And one more same place as in the example above.  Again, this is code that works, but is fragile. <br><br>  V507 Pointer to local array 'stringbuf' is stored outside of this array.  Such a pointer will become invalid.  picwindow.cpp 443 <br><pre>  if ((HWND) wParam == m_AlphaSlider.GetWindow ())
 {
   LPTOOLTIPTEXT lpttt;

   lpttt = (LPTOOLTIPTEXT) lParam;
   lpttt-&gt; hinst = hResource;
   TCHAR stringbuf [MAX_PATH] = {0};
   _stprintf_s (stringbuf, .....);
   lpttt-&gt; lpszText = stringbuf;
 } </pre><br><h3>  Situation 11 </h3><br>  A bad idea to throw and not to handle exceptions in the destructor. <br><br>  V509 The 'throw' operator inside the destructor should be placed within the try..catch block.  Raising exception inside the destructor is illegal.  cachefileoutbuffer.cpp 52 <br><pre> CCacheFileOutBuffer :: ~ CCacheFileOutBuffer () {if (IsOpen ()) {streamOffsets.push_back (GetFileSize ());  size_t lastOffset = streamOffsets [0];  for (size_t i = 1, count = streamOffsets.size (); i &lt;count; ++ i) {size_t offset = streamOffsets [i];  size_t size = offset - lastOffset;  if (size&gt; = (DWORD) (- 1)) throw CStreamException ("stream too large");  Add ((DWORD) size);  lastOffset = offset;  } Add ((DWORD) (streamOffsets.size () - 1));  }} </pre><br>  The <a href="http://www.viva64.com/ru/d/0098/">V509</a> message warns that if a CCacheFileOutBuffer object is destroyed during exception handling, a new exception will immediately crash the program. <br><br><h3>  Situation 12 </h3><br>  Another comparison that does not make sense. <br><br>  V547 Expression 'endRevision &lt;0' is always false.  Unsigned type value is never &lt;0. cachelogquery.cpp 999 <br><pre>  typedef index_t revision_t;
 ...
 void CCacheLogQuery :: InternalLog (
    revision_t startRevision
  , revision_t endRevision
  , const CDictionaryBasedTempPath &amp; startPath
  , int limit
  , const CLogOptions &amp; options)
 {
   ...
   // we cannot receive logs for rev &lt;0
   if (endRevision &lt;0)
     endRevision = 0;

   ...
 } </pre><br>  Negative values ‚Äã‚Äãhere simply can not be.  The endRevision variable is unsigned, and therefore endRevision is always&gt; = 0. The potential trouble is that if somewhere before a negative value turned into an unsigned type, then we will start working with a very large number.  There is no verification for this. <br><br><h3>  Situation 13 </h3><br>  There are no more useful messages of the first level.  Not yet.  After all, this is only the first attempt at writing out new features of PVS-Studio.  We have recorded at least 150 examples in the development plan that we should learn to identify.  Thanks again to readers who responded to previous articles and sent examples in which you can identify errors with static analysis at the stage of writing code. <br><br>  Let's look at the second level.  We will find one interesting error related to the use of the Copy-Paste method.  By the way, at the third level there was nothing interesting at all, so for good reason we disable it by default. <br><br>  V524 It is the odd that the function GetDbgHelpVersion function is fully equivalent to the GetImageHlpVersion function (SymbolEngine.h, line 98).  symbolengine.h 105 <br><pre>  BOOL GetImageHlpVersion (DWORD &amp; dwMS, DWORD &amp; dwLS)
 {
   return (GetInMemoryFileVersion (("DBGHELP.DLL")),
                                 dwMS,
                                 dwLS));
 }

 BOOL GetDbgHelpVersion (DWORD &amp; dwMS, DWORD &amp; dwLS)
 {
   return (GetInMemoryFileVersion (("DBGHELP.DLL")),
                                 dwMS,
                                 dwLS));
 } </pre><br>  A <a href="http://www.viva64.com/ru/d/0113/">V524</a> message is issued if two suspicious identical functions are detected.  Most likely, the first function should receive the version of the file ‚Äúimagehlp.dll‚Äù, and not at all ‚Äúdbghelp.dll‚Äù. <br><br><h2>  Step 8 </h2><br>  Now found errors should be corrected.  This stage is clear and we will skip it. <br><br>  As for the errors found, we will report them to the developers of TortoiseSVN. <br><br><h2>  Step 9 </h2><br>  Now let's talk a little bit about false positives.  Let us give some examples to clarify what a false positive is and how you can deal with them. <br><br>  The first false positive.  PVS-Studio did not understand games with memory copying. <br><br>  V512 A call of the memcpy function will lead to a buffer overflow or underflow.  resmodule.cpp 838 <br><pre>  const word *
 CResModule :: CountMemReplaceMenuExResource (....)
 {
   ...
   if (newMenu! = NULL) {
     CopyMemory (&amp; newMenu [* wordcount], p0, 7 * sizeof (WORD));
   }
    ...
 } </pre><br>  The <a href="http://www.viva64.com/ru/d/0101/">V512</a> warning should indicate that the buffer is not fully processed or that, on the contrary, we have gone beyond it.  Now the analyzer was mistaken in deciding that we will work with only one WORD object, and we want to copy 7 objects. <br><br>  The second false positive.  Here the analyzer considers that only part of the array was processed. <br><br>  V512 A call of the memcmp function will lead to a buffer overflow or underflow.  sshsha.c 317 <br><pre>  static int sha1_96_verify (....)
 {
   unsigned char correct [20];
   sha1_do_hmac (handle, blk, len, seq, correct);
   return! memcmp (correct, blk + len, 12);
 } </pre><br>  Indeed, only part of the 'correct' array is compared, but it was intended to be so. <br><br>  The third example is a false positive. <br><br>  V517 The use of if (A) {...} else if (A) {...} 'pattern was detected.  There is a possibility of logical error presence.  tree234.c 195 <br><pre>  static void * add234_internal (....)
 {
   ...
   if ((c = t-&gt; cmp (e, n-&gt; elems [0])) &lt;0)
     childnum = 0;
   else if (c == 0)
     return n-&gt; elems [0];  / * already exists * /
   else if (n-&gt; elems [1] == NULL
        ||  (c = t-&gt; cmp (e, n-&gt; elems [1])) &lt;0)
          childnum = 1;
   else if (c == 0)
     return n-&gt; elems [1];  / * already exists * /
   else if (n-&gt; elems [2] == NULL
        ||  (c = t-&gt; cmp (e, n-&gt; elems [2])) &lt;0)
          childnum = 2;
   else if (c == 0)
     return n-&gt; elems [2];  / * already exists * /
   else
     childnum = 3;
   ... </pre><br>  The analyzer does not like that the 'c == 0' check is present several times.  The code is correct, since the variable 'c' changes inside other conditions ‚Äúc = t-&gt; cmp (e, n-&gt; elems [2])‚Äù.  However, this is quite a rare situation.  More often, the <a href="http://www.viva64.com/ru/d/0106/">V517</a> message indicates actual defects in the code. <br><br>  The remaining false positives will not be considered, since they are not interesting.  It is easy enough for a programmer to understand that they are false and should not be given much attention. <br><br>  You can deal with false positives in different ways: <br><br>  1) You can rewrite the code.  Sometimes it is quite reasonable.  Refactoring doesn‚Äôt hurt the last example with false positives (we are talking about the add234_internal function and V517 warning). <br><br>  2) You can disable in the settings some checks that in your projects always give a false positive.  After disconnection, all these messages will disappear from the table immediately.  Read more here: " <a href="http://www.viva64.com/ru/d/0016/">Settings: Detectable Errors</a> ". <br><br>  3) If the false positives refer to the code that you should not check, you can exclude individual files or folders.  You can use masks.  Read more here " <a href="http://www.viva64.com/ru/d/0017/">Settings: Don't Check Files</a> ".  This is convenient to exclude from the analysis of third-party libraries. <br><br>  4) You can use a mechanism to suppress messages containing specific text.  Read more here: " <a href="http://www.viva64.com/ru/d/0018/">Settings: Message Suppression</a> ". <br><br>  5) There are situations where you should suppress a specific warning.  In this case, you can use the function ‚ÄúMark as False Alarm‚Äù (‚ÄúMark as a false alarm‚Äù).  In this case, a small comment of the form is inserted into the code: "// - V code error".  Marked-up sections of the code may be hidden in the list of errors.  To do this, use the FA button to turn on / off the display of marked messages.  Read more here: " <a href="http://www.viva64.com/ru/d/0021/">Suppress false warnings</a> ." <br><br>  Thank you all for your attention.  Try <a href="http://www.viva64.com/ru/pvs-studio/">PVS-Studio</a> .  Send your feedback.  Ask questions.  Show examples if you have something interesting.  Offer new diagnostic rules for implementation. <br><br>  Sincerely, Andrei Karpov, one of the developers of PVS-Studio. <br>  You can contact us via the <a href="http://www.viva64.com/ru/about-feedback/">Feedback</a> page. <br>  Or by E-mail: support [@] viva64.com, karpov [@] viva64.com. <br><br>  Email us, we have great support.  I personally, the author of the article, will take part in communication, and not an abstract robot person, as happens in most companies. </div><p>Source: <a href="https://habr.com/ru/post/109163/">https://habr.com/ru/post/109163/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../109155/index.html">iPADrom - S01E05</a></li>
<li><a href="../109156/index.html">Where and how can a corporate client buy software in Runet?</a></li>
<li><a href="../109157/index.html">Welcome to Habr√©!</a></li>
<li><a href="../109159/index.html">In Yahoo, reductions began again</a></li>
<li><a href="../109160/index.html">Flash Player 10.2 beta released</a></li>
<li><a href="../109164/index.html">Education Bill website</a></li>
<li><a href="../109166/index.html">Verizon Designers Mix Droid X and iPhone</a></li>
<li><a href="../109167/index.html">Mono.Cecil: make your ‚Äúcompiler‚Äù</a></li>
<li><a href="../109169/index.html">Beta Keys in InvoiceMall</a></li>
<li><a href="../109170/index.html">Submission of documents to the court in electronic form</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>