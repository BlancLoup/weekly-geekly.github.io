<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Configuring VoIP GSM Gateway Yeastar Neogate TGXXX Series for 3CX</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This guide covers the connection of the Yeastar NeoGate TG100 / TG200 / TG400 / TG800 SIP GSM gateways to an IP-PBX 3CX . 

 Yeastar Neogate gateways ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Configuring VoIP GSM Gateway Yeastar Neogate TGXXX Series for 3CX</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/ce3/521/6a9/ce35216a9b825e5baf42235e6152e110.png"><br>  This guide covers the connection of the Yeastar NeoGate TG100 / TG200 / TG400 / TG800 SIP GSM gateways to an <a href="https://www.3cx.ru/ip-pbx/download-atc/">IP-PBX 3CX</a> . <br><br>  Yeastar Neogate gateways can connect to the SIP server as a client, i.e.  register on the server, but also have a built-in SIP registration server.  Thus, the 3CX system can register with the gateway as with a SIP operator.  For this, a regular SIP trunk is created in 3CX.  This is the method used in this manual. <a name="habracut"></a><br><br><h3>  GSM Gateway Setup </h3><br>  This manual is based on the interface of the Yeastar NeoGate TG200 V2 gateway with firmware version 53.18.0.46. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      1. Log in to the gateway interface at 192.168.5.150 (pre-installed by default) with admin login and password password. <br><br>  2. It is recommended to update the firmware of the gateway if an update is available.  You can see the current firmware version in the Status - System Info section.  Download the latest firmware from <a href="https://www.yeastar.com/firmware-download/">the Yeastar website</a> and update it in the System - Firmware Update section.  The firmware update is performed using a TFTP server. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cf8/6f4/b7b/cf86f4b7b245c3753e7e07119cb2204f.png"><br><br>  3. Set the IP address of the gateway corresponding to your network in the System - Lan Settings section and reset the gateway. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e20/85b/1b8/e2085b1b835624df4f74c76deb907c72.png"><br><br>  4. In the gateway interface in the Gateway - Mobile List section, sign your GSM ports.  So it will be easier to work with them in the future.  Here in the Call Duration Settings section, you can specify various restrictions on call duration. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e4e/0a8/323/e4e0a83236ab7fdf5d25dc3a083bce23.png"><br><br>  5. In the Mobile Group section, you can group the ports that you want to allocate in the gateway for one GSM operator.  However, in this guide, we will use each port individually - for your operator.  Therefore, the gsmgroup group needs to be deleted. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bc8/dda/87c/bc8dda87c1ff9e071f2f304800bf00ce.png"><br><br>  6. In the VoIP Trunk section, two default SIP accounts have already been created.  You can edit their settings, or create new accounts.  In this case, we will simply edit the default account, specifying the GSM line number that will use this account as the user name.  It is also recommended to change the default password. <br><br>  <b>Attention!</b>  If you changed the name of the GSM account (Name), it should not coincide with the name of the GSM port from step 4! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ee8/190/6ec/ee81906ec82f6bee8f18c44a5aeda071.png"><br><br>  7. In the Mobile to IP section, delete the default route and create a route from the mobile network to the IP network for the first mobile operator.  Similarly, routes for other operators are created.  We remind you that in this case one SIP trunk on 3CX corresponds to one GSM port on the gateway.  However, other configurations are possible, when one SIP trunk works with several GSM ports (as a rule, one operator). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0e5/885/57a/0e588557a2f7ad050ff351ac52c071cd.png"><br><br>  8. In the IP to Mobile section, delete the default route and create a route from the IP network to the mobile network for the first mobile operator.  Similarly, routes for other operators are created. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0ec/d6e/bc6/0ecd6ebc69d20de085e0fdf60350601b.png"><br><br><h3>  3CX Setup </h3><br>  1. In the 3CX interface, in the SIP trunks section, add a new SIP trunk.  Select the country Generic and specify Generic VoIP Provider, which provides for authorization with a login and password. <br><img src="https://habrastorage.org/getpro/habr/post_images/04c/0d9/d0c/04c0d9d0c87a17dd9b2c1cc4c745bda1.png"><br>  2. In the configuration interface that appears, specify: <br><br><ul><li>  The name of the trunk (it can be the name of the GSM operator or direction) <br></li><li>  GSM Gateway IP Address <br></li><li>  The number of simultaneous calls (switching) in the trunk (as we agreed above, each 3CX SIP trunk will correspond to one GSM port of the gateway) - 1 <br></li><li>  Credential connection data of trunk from item 6 of the section Setting GSM gateway. <br></li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/8b5/915/4bd/8b59154bd16f6fd4b1fbb3c9ce0c1adb.png"><br><br>  3. In the Parameters section, disable the Proxy audio stream through PBX option (if the PBX and the gateway are on the same network) and set the options to Supports the Re-Invite method and Supports the Replaces header.  Click OK to save the settings. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/85d/ac0/e87/85dac0e87e37d587ab41947f26dac137.png"><br><br>  4. SIP trunk 3CX must successfully register on the GSM gateway. <br><img src="https://habrastorage.org/getpro/habr/post_images/2cf/6cd/c49/2cf6cdc495e35d2bad817422ec6c5216.png"><br><br>  5. Create an outbound rule for the new trunk.  Specify the rule triggering rules depending on the necessary conditions for routing calls through the PBX. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9c7/304/479/9c7304479f990836f24d3e9e46b24c1c.png"><br><br>  This completes the configuration of the VoIP GSM gateway Yeastar Neogate TGXXX for working with 3CX. <br><br><h3>  Work with SMS-messages </h3><br>  To receive and send SMS messages via the Yeastar NeoGate TG100 / TG200 / TG400 / TG800 GSM Gateway, use the <a href="https://support.yeastar.com/hc/en-us/articles/218589857-How-to-Install-MySMS-Software">Yeastar MySMS</a> utility. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4d1/5e4/3ac/4d15e43acd0737d13497b9d9263ba505.png"><br><br>  You can also use the built-in gateway function SMS to E-mail and E-mail to SMS in the SMS - SMS Settings section. </div><p>Source: <a href="https://habr.com/ru/post/349396/">https://habr.com/ru/post/349396/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../349384/index.html">The slowest way to speed up a program on Go</a></li>
<li><a href="../349386/index.html">Team Leader. To be or not to be, that is the question</a></li>
<li><a href="../349388/index.html">We forward Steam API calls from Wine to GNU / Linux and back with Nim</a></li>
<li><a href="../349392/index.html">Sublime Text 3 is alive. (Setup and operation)</a></li>
<li><a href="../349394/index.html">The release of the first beta cross-platform XAML UI-toolkit Avalonia</a></li>
<li><a href="../349398/index.html">Safely speeding up the Erlang application using NIF on Rust</a></li>
<li><a href="../349400/index.html">FastTrack Training. "Network Basics". "Basics of switching or switches." Part one. Eddie Martin December 2012</a></li>
<li><a href="../349402/index.html">UWP game: Where to start</a></li>
<li><a href="../349404/index.html">Search under the hood. Cloud indexing</a></li>
<li><a href="../349406/index.html">The digest of fresh materials from the world of the frontend for the last week ‚Ññ302 (February 12 - 18, 2018)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>