<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Programming in tables is a new concept of recording conditional (and not only) constructions.</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Not so long ago, while searching online for alternative programming approaches, I came across a very interesting video . This is a 40-minute presentat...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Programming in tables is a new concept of recording conditional (and not only) constructions.</h1><div class="post__text post__text-html js-mediator-article">  Not so long ago, while searching online for alternative programming approaches, I came across a very interesting <a href="http://subtextual.org/subtext2.html">video</a> .  This is a 40-minute presentation with the intriguing title <em>‚ÄúNo Ifs, Ands, or Buts.</em>  <em>Uncovering the Simplicity of Conditionals</em> .  Presenter Jonathan Edwards ( <em>Jonathan Edwards</em> ) talks about the new concept of writing conditional constructs using the schematic tables he created. <br><br>  This topic should be interesting to anyone who is at least a little interested in programming.  If you do not have at your disposal forty minutes, or you cannot watch the video for any other reason, I suggest that you familiarize yourself with my brief retelling of the presentation of Jonathan. <br><a name="habracut"></a><br><h3>  Foreword </h3><br>  The author of the original idea with simple examples shows us the key features of the schematic tables and compares them with the traditional writing of conditional constructions in the C language (in fact, Java, but the examples mainly use its C-subset).  In addition to the video, there is also <a href="http://subtextual.org/OOPSLA07.pdf">an article</a> on this topic, where the concept is described in a more formal language.  Since this retelling is aimed at briefing you about the most interesting moments of the presentation, I omitted some mathematical details with which the author operates, and focused on examples and comparisons. <br><br><h3>  Schematic tables </h3><br>  Let us first consider the structure of a schematic table using the example of the function <code>fib</code> .  It takes as input one parameter <code>n</code> and returns a number from <a href="http://ru.wikipedia.org/wiki/%25D0%25A7%25D0%25B8%25D1%2581%25D0%25BB%25D0%25B0_%25D0%25A4%25D0%25B8%25D0%25B1%25D0%25BE%25D0%25BD%25D0%25B0%25D1%2587%25D1%2587%25D0%25B8">the Fibonacci sequence</a> , the sequence number of which is equal to the value <code>n</code> .  Function source code: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">int</font> fib( <font color="#0000ff">int</font> n) { <br> assert(n &gt;= 0); <br> <font color="#0000ff">if</font> (n == 0) <font color="#0000ff">return</font> 0; <br> <font color="#0000ff">if</font> (n == 1) <font color="#0000ff">return</font> 1; <br> <font color="#0000ff">return</font> fib(n - 1) <br> + fib(n - 2) <br> }</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote>  The schematic table of this function is as follows: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/storage/habraeffect/7f/48/7f482a3a4c21946f6a6684ee5a55975f.png" alt="Fig.  1. Schematic table of the function fib" title="Fig.  1. Schematic table of the function fib"><br><br>  The first column records variables.  In this example, we have only two of them - the input parameter <code>in</code> and the return value <code>out</code> .  The second column contains statements ( <code>Assert</code> ).  Here it is used to check the non-negativity of the input parameter.  All subsequent columns record conditions.  The first column after the <code>Assert</code> is considered true when <code>in == 0</code> , the second - when <code>n == 1</code> , and the third - with <code>n &gt;= 2</code> . <br><br>  Thus, the columns are responsible for the conditions.  The rows of the table, in turn, are responsible for the actions.  They contain functions that are performed sequentially one after the other, starting from the top and moving down.  Let's write down the sequence of actions defined in the schematic table of the function <code>fib</code> : <br><ol><li>  If <code>in &lt; 0</code> , report an error (standard behavior if the condition in the <code>Assert</code> column is not met) and terminate. </li><li>  If <code>in == 0</code> , return 0. </li><li>  If <code>in == 1</code> , return 1. </li><li>  If <code>in &gt;= 2</code> , go to the next item. </li><li>  Pass the result of the expression <code>in - 1</code> as an input parameter to the recursive call to <code>fib</code> . </li><li>  Transfer the result of the expression <code>in - 2</code> to the second recursive function call. </li><li>  Return the result of the addition of the values ‚Äã‚Äãobtained from both recursive calls. </li></ol>  Let's now write a unit test to check the correctness of the work of the composed function.  This is very easy to do - you need to create a new empty function, write an assertion in the <code>Assert</code> column, which should be executed, and in the next <code>Assert</code> column, you need to record an unconditional call to the function being checked, passing it the values ‚Äã‚Äãof interest to us.  The result of the function will be displayed in the column "=".  In our case, the test is called <code>fib test</code> . <br><br><img src="https://habrastorage.org/storage/habraeffect/e1/98/e1984dd0b245a936bef01f3cacd15c5a.png" alt="Fig.  2. Function fib in progress" title="Fig.  2. Function fib in progress"><br><br>  As can be seen from the figure, the number 3 was passed as the input parameter of the function, and it returned to us 2. The entry in the <code>Assert</code> column means that the result of the function should not be an error.  Notice that the table on the right is the same schematic table that we created for the <code>fib</code> function, only now another column with the name ‚Äú=‚Äù has been added to it, in which for each row is written the result of the operation performed in this row.  In addition, columns filled with gray are not filled.  In this case, the condition of the last column is satisfied ( <code>3 &gt;= 2</code> ), and we get the result of adding the values ‚Äã‚Äãobtained from the two recursive calls to the function <code>fib</code> . <br><br>  The ability to view all intermediate values ‚Äã‚Äãis one of the remarkable features of schematic tables.  Jonathan claims to have borrowed this idea from <em>spread sheets</em> , in which all values ‚Äã‚Äãare calculated on the fly.  If you click on the blue arrow, over which the cursor is located in the figure above, another table appears, corresponding to the recursive call of the function <code>fib</code> .  This process can be continued further.  In each following table we see which column is true in the current call and the values ‚Äã‚Äãof the operations performed in each row of the table. <br><br><img src="https://habrastorage.org/storage/habraeffect/fc/58/fc58ac2ffea621c190dab2f24c9dc090.png" alt="Fig.  3. Expanding Recursive Function Calls" title="Fig.  3. Expanding Recursive Function Calls"><br><br>  Such an opportunity can potentially make the debugging process a pleasant experience. <br><br>  So, on a simple example, we considered the main features of a schematic table.  Now we will look at an example more difficult, which will show us one of the undoubted advantages of schematic tables. <br><br><h3>  Switches (switch-statements) </h3><br>  Let's try to present a switch condition using a schematic table.  Suppose we are writing a game in which there is a method for calculating the damage caused.  Let's call it <code>damage</code> .  Based on the type of attack, its surprise and the level of protection of the attacker, the method returns a certain damage value. <br><br>  Method Source Code: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">enum</font> Attack {Magic, Melee}; <br> <br> <font color="#0000ff">int</font> damage(Attack attack, <font color="#0000ff">bool</font> surprise, <font color="#0000ff">int</font> defense) { <br> <font color="#0000ff">int</font> power; <br> <br> <font color="#0000ff">switch</font> (attack) { <br> <font color="#0000ff">case</font> Magic: <br> power = 5; <br> <font color="#0000ff">break</font> ; <br> <br> <font color="#0000ff">case</font> Melee: <br> power = 4; <br> <font color="#0000ff">break</font> ; <br> } <br> <br> <font color="#0000ff">int</font> effectiveness = power * (surprise ? 3 : 2); <br> <br> <font color="#0000ff">switch</font> (attack) { <br> <font color="#0000ff">case</font> Magic: <br> <font color="#0000ff">if</font> (effectiveness &gt;= defense) <br> <font color="#0000ff">return</font> effectiveness - defense; <br> <font color="#0000ff">return</font> 0; <br> <br> <font color="#0000ff">case</font> Melee: <br> <font color="#0000ff">return</font> (effectiveness / defense) * 2; <br> } <br> } <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote>  The corresponding schematic table: <br><br><img src="https://habrastorage.org/storage/habraeffect/90/86/908672e521ce9afd8a21b05fa5df7af1.png" alt="Fig.  4. Schematic table of the damage method" title="Fig.  4. Schematic table of the damage method"><br><br>  Consider those elements of the table that we have not yet met.  First, there are several incoming parameters, each of which belongs to it has a certain type.  Secondly, after column <code>Assert</code> new column <code>True</code> .  It contains unconditional actions that are always performed.  Thirdly, in the first column, in addition to the input parameters and the return value, another type of variables appeared - local variables.  Strictly speaking, each row without a name is an anonymous local variable (this is clearly demonstrated in the unit test tables, which was reviewed earlier).  But in some cases it is convenient to give the string some name so that later it can be used in subsequent operations and functions. <br><br>  So, moving from top to bottom and thinking from left to right, we come to the following sequence of actions: <br><ol><li>  Based on the type of attack, assign the value 5 or 4 to the local <code>power</code> variable. </li><li>  Based on the sign of a surprise attack, assign the value 3 or 2 to an anonymous local variable. </li><li>  Assign the local variable of <code>effectiveness</code> result of the product of two variables, the values ‚Äã‚Äãof which were defined in paragraphs 1 and 2. </li><li>  If <code>attack == Magic</code> , Subtract the value of the <code>defense</code> variable from the <code>effectiveness</code> . </li><li>  If <code>attack == Magic &amp; defense &lt;= 0</code> , return the value 0. </li><li>  If <code>attack == Magic &amp; defense &gt;= 1</code> , return the result of the subtraction of <code>effectiveness - defense</code> . </li><li>  If <code>attack == Melee</code> , return the result of the expression of <code>effectiveness / defense * 2</code> . </li></ol>  As you can see from the example, the operation in the <code>True</code> column (item 3) is performed always when the queue reaches it ‚Äî it does not depend on the fulfillment of one or another condition.  All other operations are selected from a column whose condition is true for the current set of input parameters. <br><br>  Horizontal lines represent data flows between the conditions defined in the table.  Thus, the presence of a horizontal line always indicates the use of data calculated in one condition (or unconditionally) in calculations with another condition. <br><br>  A visual comparison of the source code of the <code>damage</code> method and the corresponding schematic table with the same font size: <br><img src="https://habrastorage.org/storage/habraeffect/c2/86/c286f7faa19ea143a9c5265685c30e7d.png" alt="Fig.  5. Comparison of the source code of the damage method with its schematic table" title="Fig.  5. Comparison code with the schematic table"><br><br>  The size of the structure on the screen is compared on the left in two different ways of recording, and the interlacing of the logic of the method is clearly shown on the right.  Since there is only one dimension in the text record of the program logic, in our example there is a ‚Äúcork‚Äù - the green part in the middle is placed between two conditional blocks.  This makes it harder to perceive the code, for example, if we want to know the result of the execution when the condition <code>attack == Magic</code> is met.  In the case of a schematic table, <strong>logic</strong> and <strong>actions</strong> are located on two different axes orthogonal to each other.  And here we come to the fundamental principle of the concept of schematic tables - the representation of code in two dimensions, instead of one. <br><br><img src="https://habrastorage.org/storage/habraeffect/94/8c/948cb296dca3037a9a5d4d495b6814dc.png" alt=". 6.     " title="Fig. 6. The fundamental principle of the concept of schematic tables"><br><br>  <em>Decision making is</em> carried out on the horizontal axis of the table.  The semantics of Boolean algebra are used to write the conditions. <br>  On the vertical axis <em>, actions are performed</em> that are written in the form of a graph of functions interconnected by means of input parameters and return values. <br><br>  If you are still skeptical about the concept of schematic tables, I suggest you look at the following figure. <br><br><img src="https://habrastorage.org/storage/habraeffect/f8/c0/f8c0079171929aaded6014c95eba2219.png" alt=". 7.     " title="Fig. 7. Simplicity and universality of schematic tables"><br><br>  It turns out that such types of conditional constructions as nested if-then-else conditions, switch expressions, and even polymorphism (not considered here) are all reduced to a single form when using schematic tables.  In my opinion, this is a good sign.  Here it would be appropriate to quote Albert Einstein: <br><blockquote>  Everything should be as simple as possible, but not simpler. </blockquote><br>  In this article I did not consider polymorphism, since it does not make major changes in the structure of the table.  An example of how to replace the <em>overriding</em> method in Java with a schematic table begins with a presentation video from the 29th minute. <br><br><h3>  Conclusion </h3><br>  The concept described is one of several interesting features underlying the <i>Coherence</i> programming language developed by Jonathan.  Screenshots in the article were made from the presentation video.  The author has developed a shell that provides tools for interactive work with schematic tables, editing and executing them, as well as writing unit tests.  You can see all this in action on video.  The author also posted the source code for the shell (written in C #) along with the executable file for Windows.  [ <a href="">download</a> ] <br><br>  Additional material on the topic, including an article with a formal description of the concept of schematic tables, can be found at <a href="http://www.subtextual.org/">www.subtextual.org</a> .  The author also has a <a href="http://alarmingdevelopment.org/">blog</a> .  Although it is rarely updated, you can find a description and other interesting ideas, such as, for example, <a href="http://alarmingdevelopment.org/%3Fp%3D345">co-actions</a> . <br><br>  To better understand Jonathan's ideology, one can familiarize himself with his rather radical <a href="http://alarmingdevelopment.org/%3Fp%3D5">manifesto</a> , in which he argues against the currently accepted recording of program logic in the form of source code and suggests new ways of programming development. <br><br>  Thank you for attention. <br><br>  <strong>UPD:</strong> <br>  In the comments, people express doubts about the advisability of using schematic tables in practice.  I'll try to clarify the situation a little. <br><br>  This method of recording program logic is by no means positioned as a complete development, for which it remains only to write an IDE with a compiler and put it to the masses.  At the moment this is only a concept.  In my opinion, it gives some thoughts about the current state of affairs in the field of programming.  I decided that the Chabras community would be interested to learn about it, because recently we can only observe the emergence of new languages ‚Äã‚Äãin the field, which are based on existing programming paradigms, despite the fact that they include mechanisms for simpler organization of parallel computing. <br><br>  <strong>UPD2:</strong> <br>  I apologize for the misinformation.  Shell sources written in C # and the executable file for Windows can be downloaded from the project site, see the first question in the <a href="http://subtextual.org/FAQ.html">FAQ</a> section.  Subtext is its old name, now the project is named <a href="http://coherence-lang.org/">Coherence</a> . <br><br><hr>  <font color="#999999">PS If you have comments on the style of presentation or design of the article, do not hesitate to write them in the comments or me personally.</font>  <font color="#999999">I will be glad to any criticism.</font> </div><p>Source: <a href="https://habr.com/ru/post/80893/">https://habr.com/ru/post/80893/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../80882/index.html">First tablet</a></li>
<li><a href="../80883/index.html">Not quite a normal VPN connection using conventional tools.</a></li>
<li><a href="../80885/index.html">Rails 2.3.5 + mod_rails + MAMP on OSX Tiger</a></li>
<li><a href="../80887/index.html">Visual Studio "Myth Busting Matrix"</a></li>
<li><a href="../80891/index.html">MVC 2: Validation Model</a></li>
<li><a href="../80894/index.html">Corbina / Beeline - delayed payments by cards per day</a></li>
<li><a href="../80896/index.html">Alternative telephony (or VOIP is not only SKYPE)!</a></li>
<li><a href="../80899/index.html">Lukashenko created a special service for the Internet</a></li>
<li><a href="../80900/index.html">Cross Site Authorization 2</a></li>
<li><a href="../80905/index.html">Error 2010</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>