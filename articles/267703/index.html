<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Putting gnome-screenshot from source to change the format of the screenshot file name</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Initial data. Some time ago I encountered the fact that the gnome-screenshot program (also called ‚ÄúScreenshot‚Äù) saves screenshots when using hotkeys (...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Putting gnome-screenshot from source to change the format of the screenshot file name</h1><div class="post__text post__text-html js-mediator-article">  Initial data.  Some time ago I encountered the fact that the gnome-screenshot program (also called ‚ÄúScreenshot‚Äù) saves screenshots when using hotkeys (PrtScr, Alt + PrtScr) with the view name ‚ÄúScreenshot from 2022-02 10:11: 59.png.  I'm used to using the name of the form "2022-02-02_101159.png".  In addition, colons in the file name are baffled by Windows.  Then I could not find how to set the file name when taking a picture with hot keys and <a href="http://gamer005.livejournal.com/28267.html">wrote a small bash script</a> that provided me with the desired result. <br><br>  While searching for a solution, I came across a <a href="http://askubuntu.com/questions/55204/how-can-i-change-the-default-name-for-the-screenshots-made-by-gnome-screenshot">description of the problem on askubuntu.com</a> .  Among the answers, my attention was drawn to the following: ‚Äútrue linux way - build your own gnome-screenshot from source!‚Äù.  At that moment I thought it was too difficult.  And recently decided to try.  Next, I will describe the order of their actions.  The material is unlikely to be something new for advanced users.  Therefore, I believe that it may be interesting: <br><br>  1) for those who, like me, want to correct the problem with the format of the file name, <br>  2) to those who have not collected anything from the source yet. <br><a name="habracut"></a><br>  So, we proceed to create your own build gnome-screenshot. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>UPD:</b> Then I went to the goal in a very difficult way.  What I indicated in the comments almost immediately after publication.  As it turned out, I did so much ‚Äúnot so‚Äù that it is easier to describe the correct sequence of actions than to make changes to what has already been written.  So, in the terminal: <br>  1) Download the source code: <br><pre><code class="bash hljs">apt-get <span class="hljs-built_in"><span class="hljs-built_in">source</span></span> gnome-screenshot</code> </pre> <br>  2) we verify the presence in the system of all the packages required for assembly: <br><pre> <code class="bash hljs">sudo apt-get build-dep gnome-screenshot</code> </pre> <br>  3) go to the source folder: <br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> gnome-screenshot-3.10.1/</code> </pre> <br>  4) edit the file responsible for the date format - details below, under the spoiler: <br><pre> <code class="bash hljs">gedit src/screenshot-filename-builder.c</code> </pre> <br>  5) create a package: <br><pre> <code class="bash hljs">dpkg-buildpackage -b</code> </pre> <br>  6) install the package: <br><pre> <code class="bash hljs">sudo dpkg -i ../gnome-screenshot_3.10.1-0ubuntu1_i386.deb</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">and here is my original tangled path with pictures</b> <div class="spoiler_text">  1) Download the source from <a href="https://git.gnome.org/browse/gnome-screenshot/">the Git repository</a> .  For example, I conservatively chose version 3.10.1, which has been with me in Ubuntu 14.04 so far.  I think that fans of new products can choose the latest version (now it is 3.16.2). <br><br>  2) Unpack the archive.  Open the file src / screenshot-filename-builder.c.  Find line 135 and change the date format in the file name, i.e.  line <code>origin = g_date_time_format (d, "%Y-%m-%d %H:%M:%S")</code> change to <code>origin = g_date_time_format (d, "%Y-%m-%d_%H%M%S")</code> . <br><br><img src="https://habrastorage.org/files/e1f/c6f/a31/e1fc6fa312344d1282ac824e3392b823.png"><br><br>  In the same file, lines 145 and 152, I deleted the ‚ÄúScreenshot from‚Äù text when creating the file_name variable.  Please note that this text varies depending on the localization of the system.  Therefore, if you want to edit it, rather than delete it completely, see the po / ru.po file.  Close and save the file. <br><br>  3) Start the terminal, go to the folder where the sources are unpacked.  Make the autogen.sh file executable and run it: <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /home/user//gnome-screenshot-3.10.1 sudo chmod +x autogen.sh ./autogen.sh</code> </pre><br>  After starting the file, the system will most likely report a shortage of any packages.  Install the package, run it again, find out that something else is missing.  And so several times.  I did not need anything during the assembly, because  I previously tried to build 3.16.2 and put all the packages that were needed.  Maybe for 3.10.1 something is redundant here, but just in case briefly what packages did the system ask for and with which commands I put them: <br><br>  &gt;&gt; You must have glib-gettext&gt; = 2.2.0 installed <br>  sudo apt-get install libglib2.0-dev <br><br>  &gt;&gt; No package 'xext' found <br>  &gt;&gt; No package 'x11' found <br>  sudo apt-get install libxext-dev <br>  sudo apt-get install libxdamage-dev <br><br>  &gt;&gt; No package 'gtk + -3.0' found <br>  &gt;&gt; No package 'libcanberra-gtk3' found <br>  sudo apt-get install libgtk-3-dev <br>  sudo apt-get install libcanberra-gtk3-dev <br><br>  4) After that, the system informed me that everything is fine, and I can use make: <br><br><img src="https://habrastorage.org/files/e37/d76/653/e37d76653ff44a27ac997f7b105ac199.png"><br><br>  Execute this command.  There are no error messages, so everything is ready for installation: <br><br><img src="https://habrastorage.org/files/388/745/b0e/388745b0ec504ea69ffd7b5d9a5a097a.png"><br><br>  5) Further, in accordance with <a href="http://help.ubuntu.ru/wiki/programs_installation">this manual,</a> it is recommended not to use sudo make install (on the contrary, it is recommended on the contrary), but to assemble the deb package in one of the possible ways. <br><br>  I chose the option that uses the program checkinstall.  Installation: <br><br><pre> <code class="bash hljs">sudo apt-get install checkinstall</code> </pre><br>  Next, perform: <br><br><pre> <code class="bash hljs">sudo checkinstall -D --install=no</code> </pre><br>  What do the keys mean: <br>  -D - create deb package, <br>  --install = no - without installation. <br><br>  You are prompted to fill out a description of the package being created  I just wrote ‚Äúgnome-screenshot-3.10.1-fixname‚Äù.  The description may consist of several lines, so to finish, press Enter twice. <br><br>  A full description appears, which you can edit or go to the next step: <br><br><img src="https://habrastorage.org/files/c17/273/1d2/c172731d28f841cf946ca3a051a4fd79.png"><br><br>  Check the data, press Enter.  We receive a message that the package is formed, and we can install it into the system using the command: <br><br><pre> <code class="bash hljs">sudo dpkg -i gnome-screenshot_3.10.1-1_i386.deb</code> </pre><br><img src="https://habrastorage.org/files/ea4/391/7e4/ea43917e4c0d486b8f20c55cc27eb2b7.png"><br><br>  6) Install the package. </div></div><br>  Make a screenshot using hotkeys.  Go to the "Images" folder and look at the file name: <br><img src="https://habrastorage.org/files/c04/e07/ae1/c04e07ae1f884daeb97d30f4a62ca4d0.png"><br><br>  Problem solved! <br><br>  PS Already when I added text, I came across an article in which it was described in detail <a href="http://habrahabr.ru/post/130868/">why you should not use make install</a> . </div><p>Source: <a href="https://habr.com/ru/post/267703/">https://habr.com/ru/post/267703/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../267689/index.html">Activity Control with Google reCAPTCHA</a></li>
<li><a href="../267691/index.html">Live broadcast Droidcon Moscow 2015</a></li>
<li><a href="../267697/index.html">Command line utilities can be 235 times faster than your Hadoop cluster</a></li>
<li><a href="../267699/index.html">How yoga kodit and live helps: personal experience</a></li>
<li><a href="../267701/index.html">Playing on bare HTML / CSS</a></li>
<li><a href="../267705/index.html">Violet M-125</a></li>
<li><a href="../267707/index.html">Game client download tracking system</a></li>
<li><a href="../267709/index.html">Oracle hardware and software systems - open topic</a></li>
<li><a href="../267711/index.html">The benefits of iron, or familiarity with GPS / GLONASS trackers</a></li>
<li><a href="../267713/index.html">Centralized configuration management: Puppet + Foreman. Part II</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>