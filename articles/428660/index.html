<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Apply Extensible Pull Request Policies to VSTS to Support the Development Process</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Often, as part of the Pull Request check, in addition to the code review itself, there is a need to perform a set of routine checks. Some checks may c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Apply Extensible Pull Request Policies to VSTS to Support the Development Process</h1><div class="post__text post__text-html js-mediator-article"><p>  Often, as part of the Pull Request check, in addition to the code review itself, there is a need to perform a set of routine checks.  Some checks may concern PR design.  Others are to check the related conditions that form the basis of the change acceptance process. <br>  If routine checks are not automated, a person can start to forget or bypass them.  Because routine is boring. </p><br><p>  Visual Studio Team Services offers a fairly convenient infrastructure for handling pull requests.  These include customizable merge builds policies, the appointment of reviewers, and the rules for merging changes that are accepted.  All this is supplemented with a convenient system for discussing and commenting on the code. </p><br><p>  External plug-in policies are a powerful tool for expanding the pull request process. </p><br><p>  About their creation and use and talk (and see the code) </p><a name="habracut"></a><br><h2 id="rasshiryaemye-statusy-pull-request">  Extendable Pull Request statuses </h2><br><p>  PR statuses are flags defined within the context.  Context is a unique combination of the name of the context and the genre.  The genre is usually one on the application that manipulates the status. </p><br><p>  For example: </p><br><p>  Status 1: genre = 'my-policy', name = 'check-1' <br>  Status 2: genre = 'my-policy', name = 'check-2' </p><br><p>  The status accepts one of the preset values.  In order to support the process, we will be interested in two: succeeded and failed. </p><br><p>  Statuses can be used when setting up the brunch policy: the selected flags must have the status succeeded in order for the PR to be accepted.  The built-in policies that check the number of appruvers, the presence of an attached ticket, and so on are implemented in exactly the same way. </p><br><p>  Go to the policy editing branches.  Add foreign policy. <br><img src="https://habrastorage.org/webt/yj/iw/g7/yjiwg7tbjv-fig4zckpe0aiab4k.jpeg" alt="Brunch policy"></p><br><p>  If the status has been set at least once, it will be available in the drop-down menu. <br>  At the bottom, you can specify the title for the status, as it will be displayed in the block of the pull request. </p><br><p><img src="https://habrastorage.org/webt/dd/n9/gk/ddn9gks3ud-pae20v8od8s8uzk8.jpeg" alt="Add foreign policy as mandatory"></p><br><p>  The added statuses will be visible on the pull request page in the checks block: <br><img src="https://habrastorage.org/webt/r6/ar/no/r6arnoaeigyl1uh2qv0eijr-9ss.jpeg"><br>  If the status is not used as a policy, its value is displayed on the page in the Status section.  If the status is specified as a policy, it will be visible at the top of the block. </p><br><h2 id="programmnoe-upravlenie-statusami">  Software status management </h2><br><p>  PR statuses can be manipulated programmatically using the REST API.  Thus, it is possible to implement additional PR checks and broadcast their result directly to the change acceptance process. </p><br><p>  The new status value is added by the <a href="https://docs.microsoft.com/en-us/rest/api/vsts/git/pull%2520request%2520statuses/create%3Fview%3Dvsts-rest-4.1">Create</a> method.  In addition to the result and context, you must pass the text that the user sees.  Additionally, you can send the URL: in this case, the status label on the PR form will become a link and the user can go to the page with the status details. </p><br><p>  Calling the method results in creating a new PR status record.  Within one context, the last added status value is considered active.  Earlier status records are not visible from the UI interface, but they can be obtained using the <a href="https://docs.microsoft.com/en-us/rest/api/vsts/git/pull%2520request%2520statuses/list%3Fview%3Dvsts-rest-4.1">List</a> method. </p><br><p>  For the status of the statuses in the previous picture, the real list of statuses for a pull request may be as follows: </p><br><pre><code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"value"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"state"</span></span>: <span class="hljs-string"><span class="hljs-string">"failed"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"PR title format"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"context"</span></span>: <span class="hljs-string"><span class="hljs-string">"@{name=check-title; genre=my-pr-policy}"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"creationDate"</span></span>: <span class="hljs-string"><span class="hljs-string">"2018-11-06T18:35:57.0324172Z"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"updatedDate"</span></span>: <span class="hljs-string"><span class="hljs-string">"2018-11-06T18:35:57.0324172Z"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"createdBy"</span></span>: <span class="hljs-string"><span class="hljs-string">"Masked value"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"targetUrl"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-attr"><span class="hljs-attr">"state"</span></span>: <span class="hljs-string"><span class="hljs-string">"failed"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"Build for last update"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"context"</span></span>: <span class="hljs-string"><span class="hljs-string">"@{name=check-build; genre=my-pr-policy}"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"creationDate"</span></span>: <span class="hljs-string"><span class="hljs-string">"2018-11-06T18:35:57.5167963Z"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"updatedDate"</span></span>: <span class="hljs-string"><span class="hljs-string">"2018-11-06T18:35:57.5167963Z"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"createdBy"</span></span>: <span class="hljs-string"><span class="hljs-string">"Masked value"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"targetUrl"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-attr"><span class="hljs-attr">"state"</span></span>: <span class="hljs-string"><span class="hljs-string">"succeeded"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"No offset from develop"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"context"</span></span>: <span class="hljs-string"><span class="hljs-string">"@{name=check-offset; genre=my-pr-policy}"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"creationDate"</span></span>: <span class="hljs-string"><span class="hljs-string">"2018-11-06T18:35:57.782379Z"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"updatedDate"</span></span>: <span class="hljs-string"><span class="hljs-string">"2018-11-06T18:35:57.782379Z"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"createdBy"</span></span>: <span class="hljs-string"><span class="hljs-string">"Masked value"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"targetUrl"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>: <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-attr"><span class="hljs-attr">"state"</span></span>: <span class="hljs-string"><span class="hljs-string">"succeeded"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"PR title format"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"context"</span></span>: <span class="hljs-string"><span class="hljs-string">"@{name=check-title; genre=my-pr-policy}"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"creationDate"</span></span>: <span class="hljs-string"><span class="hljs-string">"2018-11-06T18:46:37.2627154Z"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"updatedDate"</span></span>: <span class="hljs-string"><span class="hljs-string">"2018-11-06T18:46:37.2627154Z"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"createdBy"</span></span>: <span class="hljs-string"><span class="hljs-string">"Masked value"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"targetUrl"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>: <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-attr"><span class="hljs-attr">"state"</span></span>: <span class="hljs-string"><span class="hljs-string">"succeeded"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"Build for last update"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"context"</span></span>: <span class="hljs-string"><span class="hljs-string">"@{name=check-build; genre=my-pr-policy}"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"creationDate"</span></span>: <span class="hljs-string"><span class="hljs-string">"2018-11-06T18:51:33.7920543Z"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"updatedDate"</span></span>: <span class="hljs-string"><span class="hljs-string">"2018-11-06T18:51:33.7920543Z"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"createdBy"</span></span>: <span class="hljs-string"><span class="hljs-string">"Masked value"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"targetUrl"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>: <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-attr"><span class="hljs-attr">"state"</span></span>: <span class="hljs-string"><span class="hljs-string">"failed"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"PR title format"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"context"</span></span>: <span class="hljs-string"><span class="hljs-string">"@{name=check-title; genre=my-pr-policy}"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"creationDate"</span></span>: <span class="hljs-string"><span class="hljs-string">"2018-11-06T18:53:44.3075889Z"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"updatedDate"</span></span>: <span class="hljs-string"><span class="hljs-string">"2018-11-06T18:53:44.3075889Z"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"createdBy"</span></span>: <span class="hljs-string"><span class="hljs-string">"Masked value"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"targetUrl"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-attr"><span class="hljs-attr">"state"</span></span>: <span class="hljs-string"><span class="hljs-string">"failed"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"Title format is not correct"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"context"</span></span>: <span class="hljs-string"><span class="hljs-string">"@{name=check-title; genre=my-pr-policy}"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"creationDate"</span></span>: <span class="hljs-string"><span class="hljs-string">"2018-11-06T19:26:11.3019433Z"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"updatedDate"</span></span>: <span class="hljs-string"><span class="hljs-string">"2018-11-06T19:26:11.3019433Z"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"createdBy"</span></span>: <span class="hljs-string"><span class="hljs-string">"Masked value"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"targetUrl"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> } ], <span class="hljs-attr"><span class="hljs-attr">"count"</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span> }</code> </pre> <br><p>  After viewing the list of current statuses, you can update the selected by the index in the list.  To do this, use the <a href="https://docs.microsoft.com/en-us/rest/api/vsts/git/pull%2520request%2520statuses/update%3Fview%3Dvsts-rest-4.1">Update</a> method. </p><br><p>  Finally, status records can be deleted using the <a href="https://docs.microsoft.com/en-us/rest/api/vsts/git/pull%2520request%2520statuses/delete%3Fview%3Dvsts-rest-4.1">Delete</a> method. </p><br><p>  A history of PR status changes can be useful for further analysis.  Therefore, we use the following method of status change: </p><br><ul><li>  Find the most recent status record of the same context. </li><li>  If she has the same result values, descriptions and links that we want to add, we do nothing </li><li>  Otherwise, add a new status record. <br>  This allows you to keep a history of changes, not much inflating it. </li></ul><br><pre> <code class="hljs mel">function Set-PullRequestStatus { param( [Parameter (Mandatory = $true)] [<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>] $pullRequestId, [Parameter (Mandatory = $true)] [<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>] $state, [Parameter (Mandatory = $true)] [<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>] $description, [Parameter (Mandatory = $true)] [<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>] $contextName, [Parameter (Mandatory = $false)] [<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>] $contextGenre, [Parameter (Mandatory = $false)] [<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>] $targetUrl, [Parameter (Mandatory = $true)] [object] $context ) $b = @{ state = $state; description = $description; context = @{ name = $contextName; genre = $contextGenre; }; targetUrl = $targetUrl; } $body = ConvertTo-Json $b # # Get current list of statuses # $endpoint = (Get-ProjectBaseURL) + <span class="hljs-string"><span class="hljs-string">"/_apis/git/repositories/{repositoryId}/pullRequests/{pullRequestId}/statuses?api-version=4.1-preview.1"</span></span> $res = Get-AzureRequestReqults -URI $endpoint -context ($context + @{pullRequestId = $pullRequestId}) # # Try to find a status <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> a given context genre and name. Start looking from the last one. If found - check <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> it has same values. # $i = $res.count $foundSameStatus = $false <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> ($i -GT <span class="hljs-number"><span class="hljs-number">0</span></span>) { $r = $res.value[$i<span class="hljs-number"><span class="hljs-number">-1</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (($r.context.name -EQ $contextName) -AND ($r.context.genre -EQ $contextGenre)) { $foundSameStatus = ($r.state -EQ $state) -AND ($r.description -EQ $description) -AND ($r.targetUrl -EQ $targetUrl) <span class="hljs-keyword"><span class="hljs-keyword">break</span></span> } $i-- } $res = $r # # If same status / values was not found - add new record. # <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (-not $foundSameStatus) { $endpoint = (Get-ProjectBaseURL) + <span class="hljs-string"><span class="hljs-string">"/_apis/git/repositories/{repositoryId}/pullRequests/{pullRequestId}/statuses?api-version=4.1-preview.1"</span></span> $res = Get-AzureRequestReqults -URI $endpoint -context ($context + @{pullRequestId = $pullRequestId}) -method POST -query $body } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> @{status = $res; status_changed = $(-not $foundSameStatus)} }</code> </pre> <br><h2 id="prakticheskoe-primenenie">  Practical use </h2><br><p>  We have adopted a rather conservative approach to adopting changes in the integration branch.  We try to test the change as far as possible on the feature branch. </p><br><p>  Here are some tasks that we solve with the help of PR statuses within the framework of customizable policies: </p><br><ol><li>  All PRy must be decorated in the same style.  Therefore, the first control that was created is the design of the PR header.  We check it for regular expression matching. </li><li>  The branch of PR should not lag behind the branch where it is being poured in (integration has been performed). </li><li>  If within the framework of PR the database project files are changed, then autotest files must also be present. </li><li>  There is a successful build branch on the last change. </li><li>  Such an assembly was successfully rolled out to a test bench and autotests were completed. </li></ol><br><p>  The listed conditions can be checked manually.  We did it before.  But this is routine, and it has been replaced by an automated process.  Now we can supplement and change the set of checks - it will always be integrated into the process, always executed. </p><br><p>  An additional huge plus is the politician - they are transparent to everyone, and always in sight - on the PR page.  They no longer need to be reminded. <br>  In addition, for policies that have not passed the test, we show a link to our Wiki pages with a description of the policy and the expected actions. </p><br><h2 id="tehnicheskaya-realizaciya-vypolneniya-politik">  Technical implementation of policy implementation </h2><br><p>  At the moment, the logic of policies is implemented in the form of powershell scripts.  Due to high-level cmdlets and a good data object model, the script code is very compact.  And the ability to run the script step-by-step interactively and poking around in variables greatly simplifies the development and debugging process. </p><br><p>  By the way, after the release of powershell core - scripts can be run on other platforms (tested on MacOS). </p><br><p>  We run scripts in a special release of VSTS on a schedule about once every couple of hours.  Maybe we will start to run through the scheduler more often. </p><br><p>  This approach, of course, gives a significantly slower response than if you implement the same in the form of the Azure Function and link it to VSTS via a web hook.  But for us it was more important to implement the checks and see how it will work in the process (MVP).  The speed of the checks is not important yet.  This will be the next step. </p><br><p>  The implementation of the VSTS REST API libraries used in the checks, plus a small example that implements some of these policies can be viewed in the <a href="https://github.com/serhit/VSTS">repository on GitHub</a> .  I hope someone will be useful. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/428660/">https://habr.com/ru/post/428660/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../428650/index.html">Loyalty system or how to live for free</a></li>
<li><a href="../428652/index.html">MIT course "Computer Systems Security". Lecture 15: "Medical software", part 1</a></li>
<li><a href="../428654/index.html">MIT course "Computer Systems Security". Lecture 15: "Medical software", part 2</a></li>
<li><a href="../428656/index.html">MIT course "Computer Systems Security". Lecture 15: "Medical Software", part 3</a></li>
<li><a href="../428658/index.html">Free educational workshops at the Mail.Ru Group office</a></li>
<li><a href="../428662/index.html">Retail Programming Challenge</a></li>
<li><a href="../428664/index.html">Linux kernel boot. Part 1</a></li>
<li><a href="../428666/index.html">How I created a mood-changing animation using CSS masks</a></li>
<li><a href="../428668/index.html">Blizzard announced the release of a reissue of WarCraft III in 2019. Pre-order open</a></li>
<li><a href="../428672/index.html">QuietOn Active Squelch Review</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>