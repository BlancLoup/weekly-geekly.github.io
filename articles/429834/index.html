<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Why can a machine play Mario inhumanly good, but not Pokemon?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="On the eve of our Game Overnight old school video game tournament, we decided to talk about bots in computer games. 

 Probably you have heard that th...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Why can a machine play Mario inhumanly good, but not Pokemon?</h1><div class="post__text post__text-html js-mediator-article">  On the eve of our <a href="https://gameovernight.ru/">Game Overnight</a> old school video game tournament, we decided to talk about bots in computer games. <br><br>  Probably you have heard that the capabilities of modern bots for computer games exceed the human ones.  Such bots can be hard-coded, always reacting equally to the same sets of input data.  Another approach to their development is that they are allowed <a href="https://ru.wikipedia.org/wiki/%25D0%259E%25D0%25B1%25D1%2583%25D1%2587%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5_%25D1%2581_%25D0%25BF%25D0%25BE%25D0%25B4%25D0%25BA%25D1%2580%25D0%25B5%25D0%25BF%25D0%25BB%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5%25D0%25BC">to learn</a> and <a href="https://ru.wikipedia.org/wiki/%25D0%2593%25D0%25B5%25D0%25BD%25D0%25B5%25D1%2582%25D0%25B8%25D1%2587%25D0%25B5%25D1%2581%25D0%25BA%25D0%25B8%25D0%25B9_%25D0%25B0%25D0%25BB%25D0%25B3%25D0%25BE%25D1%2580%25D0%25B8%25D1%2582%25D0%25BC">evolve</a> .  They behave differently in the same situations in attempts to find optimal solutions to the problems they face. <br><br> <a href="https://habr.com/company/ruvds/blog/429834/"><img src="https://habrastorage.org/webt/d5/gv/pu/d5gvpucjbsaf_ln4hyy7yg86-e8.jpeg"></a> <br><a name="habracut"></a><br>  Here are some famous examples of such bots: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  <a href="https://ru.wikipedia.org/wiki/AlphaZero">AlphaZero</a> is a chess bot that, after 24 hours of training, has become the greatest player on Earth. </li><li>  <a href="https://deepmind.com/research/alphago/">AlphaGo</a> is a program that beat Lee Sedol and Ke Jie in Go. </li><li>  <a href="https://www.youtube.com/watch%3Fv%3Dqv6UVOQ0F44">MarI / O</a> is a Super Mario bot that learns on its own, trying to complete game levels as quickly as possible. </li></ul><br>  Chess, Go, Super Mario are not easy games, bots are reasonably selected combinations of algorithms, you need a lot of time to learn them. <br><br>  This material is devoted to the analysis of the MarI / O bot and the story of why the approach used to create this bot does not help to write a program that can play well in Pokemon. <br><br><h2>  <font color="#3AC1EF">What is the difference between Mario and Pokemon?</font> </h2><br>  There are three key differences between the games Mario and Pokemon, which determine the possible success of bots: <br><br><ol><li>  The number of goals. </li><li>  Branch ratio </li><li>  Contradiction between global and local optimization </li></ol><br>  Compare the game with these factors. <br><br><h2>  <font color="#3AC1EF">Number of targets</font> </h2><br>  Machines are trained by optimizing a certain objective function.  This can be the maximization of the reward function or <a href="https://ru.wikipedia.org/wiki/%25D0%25A4%25D1%2583%25D0%25BD%25D0%25BA%25D1%2586%25D0%25B8%25D1%258F_%25D0%25BF%25D1%2580%25D0%25B8%25D1%2581%25D0%25BF%25D0%25BE%25D1%2581%25D0%25BE%25D0%25B1%25D0%25BB%25D0%25B5%25D0%25BD%25D0%25BD%25D0%25BE%25D1%2581%25D1%2582%25D0%25B8">the fitness function</a> (when <a href="https://ru.wikipedia.org/wiki/%25D0%259E%25D0%25B1%25D1%2583%25D1%2587%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5_%25D1%2581_%25D0%25BF%25D0%25BE%25D0%25B4%25D0%25BA%25D1%2580%25D0%25B5%25D0%25BF%25D0%25BB%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5%25D0%25BC">training with reinforcement</a> and using <a href="https://ru.wikipedia.org/wiki/%25D0%2593%25D0%25B5%25D0%25BD%25D0%25B5%25D1%2582%25D0%25B8%25D1%2587%25D0%25B5%25D1%2581%25D0%25BA%25D0%25B8%25D0%25B9_%25D0%25B0%25D0%25BB%25D0%25B3%25D0%25BE%25D1%2580%25D0%25B8%25D1%2582%25D0%25BC">genetic algorithms</a> ), it can be minimizing <a href="https://ru.wikipedia.org/wiki/%25D0%25A4%25D1%2583%25D0%25BD%25D0%25BA%25D1%2586%25D0%25B8%25D1%258F_%25D0%25BF%25D0%25BE%25D1%2582%25D0%25B5%25D1%2580%25D1%258C">the loss function</a> (when <a href="https://ru.wikipedia.org/wiki/%25D0%259E%25D0%25B1%25D1%2583%25D1%2587%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5_%25D1%2581_%25D1%2583%25D1%2587%25D0%25B8%25D1%2582%25D0%25B5%25D0%25BB%25D0%25B5%25D0%25BC">training with a teacher</a> ).  In any case, if we talk about the application to the game, we are talking about a set of the maximum possible number of points. <br><br>  The game Mario has one goal: to reach the end of the level.  Simply put, the further you managed to advance in the game - the better.  This indicator expresses a single objective function, and the capabilities of the model can be assessed, simply and clearly, by a single indicator. <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0c7/ca7/a2e/0c7ca7a2e2044f1fd83b738d82967730.png"></div><br>  <i><font color="#999999">Goal of mario game</font></i> <br><br>  But in the Pokemon many goals.  Let's try to figure them out.  Maybe the goal of the game is to defeat the elite four?  Maybe this is the capture of all Pokemon?  Or maybe you need to train the strongest team?  It is possible that the goal of the game is some kind of combination of all previous goals or even something completely different.  It is likely that in reality, if you ask about this particular player, his goal will be presented as a complex combination of many achievements available in the game. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/164/369/8a9/1643698a991927f0c0784a7690219b25.png"></div><br>  <i><font color="#999999">Goals of the game Pokemon</font></i> <br><br>  Analyzing the game, you need not only to determine its ultimate goal, but also to decide how exactly the progress in the game occurs, how certain actions affect the objective function, worsening it or improving depending on the huge variety of options available to the player at any given time. <br><br>  Strictly speaking, the choice of options for action in a certain situation leads us to the second indicator of the comparison of games. <br><br><h2>  <font color="#3AC1EF">Branch ratio</font> </h2><br>  The branch ratio is, in simple terms, an indicator indicating the number of options available at each step of the gameplay.  In chess, the average branching ratio is 35. Go is 250. If a bot tries to ‚Äúlook into the future‚Äù, having calculated all the moves that he can make right now, then all the moves he can make after the current move , and so on, then each such level means a serious increase in the complexity of the task.  Namely, the number of options with this approach grows exponentially, to put it in the form formula (branch ratio) ^ (number of levels). <br><br>  In Mario, a character can move left or right, can jump, and can simply do nothing.  The number of options that need to be evaluated by the bot is small.  The smaller the branching ratio, the farther into the future a bot can peek at, with the expense of acceptable computing resources. <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/98a/0fe/23d/98a0fe23d5f919c99d8a1617640fe11f.png"></div><br>  <i><font color="#999999">Action Options in Mario</font></i> <br><br>  In Pokemon open game world.  This means that at any given time the player has many options.  In this case, a simple listing of the directions of possible movement of the character in this case is not suitable for calculating the branching coefficient.  Instead, the role is played by certain actions that have some meaning in the game world.  Will the next action be a fight, a conversation with a game character, a transition to another area of ‚Äã‚Äãthe map?  At the same time, the number of options, as you move through the game, grows. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c5d/41c/4d0/c5d41c4d017044acd58b06a9599c3429.png"></div><br>  <i><font color="#999999">Simplified representation of character options in Pokemon</font></i> <br><br>  In order to create a bot that could figure out which sequence of decisions to take in this situation, it is necessary for this bot to take into account its short-term and long-term goals, which leads us to the next measurement of the comparison of Mario and Pokemon games. <br><br><h2>  <font color="#3AC1EF">Contradiction between global and local optimization</font> </h2><br>  Local and global optimization can be considered in both spatial and temporal sense.  Short-term goals and the surrounding space of the character of a game of a small area are related to local optimization.  Long-term goals and relatively large pieces of gaming space (something like a ‚Äúcity‚Äù or the entire game world) are related to global optimization. <br><br>  If, in Pokemon, to break each turn into its component parts - this will help to present the problem that the bot, consisting of very small fragments, should solve.  Local optimization, allowing, say, to get from point A to point B, will not cause difficulties.  A much more difficult problem is choosing the point B, the direction of movement.  <a href="https://ru.wikipedia.org/wiki/%25D0%2596%25D0%25B0%25D0%25B4%25D0%25BD%25D1%258B%25D0%25B9_%25D0%25B0%25D0%25BB%25D0%25B3%25D0%25BE%25D1%2580%25D0%25B8%25D1%2582%25D0%25BC">Greedy algorithms</a> will not help us here, since local optimal solutions do not necessarily lead to globally optimal results. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/586/32d/7f1/58632d7f103547128f4abc5fc6ef4ae6.png"></div><br>  <i><font color="#999999">The problem of choosing the next step</font></i> <br><br>  Maps in Mario are small and linear.  Pokemon cards are large, complex and non-linear.  The player, as he moves through the game and as he pursues more and more important goals, constantly faces new challenges.  And the task of organizing the connection of local optimizations with global goals is not easy.  At least, the existing models are not yet ready to solve it. <br><br><h2>  <font color="#3AC1EF">Results</font> </h2><br>  From the point of view of bots, Pokemon is not one game.  Bots are distinguished by a narrow specialization, and the bot that helps the player move around the map will be useless if the player encounters a game character with whom you want to fight.  From the point of view of bots, moving around the map and the battle are completely different tasks. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e77/ae1/077/e77ae1077970623e641be94b16ab7b62.png"></div><br>  <i><font color="#999999">Bots are highly specialized systems.</font></i> <br><br>  During the battle at each step you have to choose from dozens of options.  You need to decide what action to take, what pokemon to take, you need to understand when to use various objects.  All this, in itself, is a complex optimization problem.  <a href="https://realworldcoding.io/machine-learning-in-pokemon-db32dcd96f33">Here is the</a> material where you study the task of developing a combat simulator in Pokemon.  The article is a well-designed, rather complicated, but even there the problem of objects, the most important factor influencing the outcome of the battle, is not considered. <br><br>  As a result, we can say that we need to rejoice at the fact that we can create bots that play our games better than us.  These games are complex from a mathematical point of view, but their goals are easily determined.  With the development of artificial intelligence technology, humanity will be able to create machines that can solve the increasingly important problems of the real world.  They will do this by studying these problems, which are complex optimization problems.  But for now, I can assure you, there are tasks that we solve better than machines, including games that many of us played in childhood.  At least that's how things are now. <br><br>  <b>Dear readers!</b>  We invite you to take part in the first in Russia tournament on the old school video game <a href="https://gameovernight.ru/">Game Overnight</a> .  In the tournament there is a qualifying part and the real battle of the best of the best, which will be held on November 30 at the Museum of Soviet Gaming Machines.  We are waiting for the tournament from 20 to 3 hours, foam drinks Smart Admin, Dj Cucumber (Sergey Mezentsev), and RUVDS admin DJ Unpushible will help him, and we will also try new Sub Zero snow burgers from our admins.  So, as they say, welcome! <br><br> <a href="https://gameovernight.ru/"><img src="https://habrastorage.org/webt/pn/cy/s6/pncys6lr2ujt42dwvzgsrqilyos.png"></a> </div><p>Source: <a href="https://habr.com/ru/post/429834/">https://habr.com/ru/post/429834/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../429822/index.html">Special Purpose Debug Board</a></li>
<li><a href="../429824/index.html">CI for frontend: Gitlab, Traefik, Docker</a></li>
<li><a href="../429826/index.html">Wearable "batteries": textile micro-supercondensers based on PEDOT-Cl</a></li>
<li><a href="../429828/index.html">(Not only) freshman: high school.Instruction 2.0</a></li>
<li><a href="../429832/index.html">Translation of Andrew Un's book ‚ÄúPassion for Machine Learning‚Äù Chapter 28 - 29</a></li>
<li><a href="../429836/index.html">Goodbye Electron. Hello Desktop PWA</a></li>
<li><a href="../429838/index.html">JavaScript Guide, Part 3: Variables, Data Types, Expressions, Objects</a></li>
<li><a href="../429840/index.html">How to create a vector arcade machine Atari Asteroids</a></li>
<li><a href="../429842/index.html">How to teach artificial intelligence to sell</a></li>
<li><a href="../429844/index.html">Menus for menu, grids or bootstrap, convenience of convenience</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>