<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Setting SMS notifications in zabbix</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The issue of SMS notifications in zabbix has already been covered on Habr√© and the problem was solved using SMS gateways. Also mentioned about sending...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Setting SMS notifications in zabbix</h1><div class="post__text post__text-html js-mediator-article">  The issue of SMS notifications in zabbix has already been <a href="http://habrahabr.ru/post/81630/">covered</a> on Habr√© and the problem was solved using SMS gateways.  Also mentioned about <a href="http://habrahabr.ru/post/133085/">sending SMS using Delphi</a> .  I want to tell you how to set up SMS notifications using a USB modem. <br>  So, what we have: <br><br>  1) quite extensive IT infrastructure <br><br>  2) Zabbix 2.0.3 monitoring system (current version at the time of this writing) operating under Fedora 14 x64 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      3) 3G USB modem ZTE MF100 from the national Ukrainian operator Kyivstar. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/storage2/b2f/dfd/933/b2fdfd933e8952696226283122e92413.jpg"></div><br><br>  4) Prepaid Simka, which was bundled with the modem. <br><br>  Also, a corporate 3G SIM card was purchased for the modem, but it cannot be used, since it is impossible to call and send SMS from 3G cards, and this does not suit us. So, I put a small amount on the card ‚Äúfor experiments‚Äù, stuck the modem into USB and <a name="habracut"></a>  . <br><br><h4>  Install the necessary </h4><br>  First of all, I registered the card in <a href="https://my.kyivstar.ua/">My Kyivstar</a> system.  Through it is convenient to watch the rest of the money on the modem's account and order additional.  services. Let me remind you that I spend all the actions in Fedora.  For other Linux teams may differ, but I think to figure out what to replace for you is not difficult.  Also, I will not consider the option of installing the necessary from source, although this can also be done.  I will confine myself to installing existing standard packages: <pre><code class="bash hljs">sudo yum install usb_modeswitch <span class="hljs-comment"><span class="hljs-comment">#   USB- Huawei, T-Mobile, Vodafone, Option, ZTE, Novatel sudo yum install minicom #       /dev/ttyUSB* sudo yum install smstools #      .</span></span></code> </pre>  Now, check to see if the modem appears. <pre> <code class="bash hljs">ls -l /dev/ttyUSB*</code> </pre>  The result should look something like this. <pre> <code class="bash hljs">crw-rw----. 1 root dialout 188, 0 Oct 22 12:05 /dev/ttyUSB0 crw-rw----. 1 root dialout 188, 1 Oct 22 15:56 /dev/ttyUSB1 crw-rw----. 1 root dialout 188, 2 Oct 22 12:05 /dev/ttyUSB2</code> </pre>  The modem has created 3 virtual USB ports.  In my case, ttyUSB1 and ttyUSB2 are available for AT commands.  If the modem has created 5 or more virtual ports, then their number can be reduced to 3x.  To do this, disable the cdrom and flash-drive modes in it.  Turning off is done with the <b>command AT + ZCDRUN = E</b> , turning on <b>AT + ZCDRUN = F.</b>  If you want to disable only cd-rom, then <b>AT + ZCDRUN = 8</b> .  If we want to turn it back on - <b>AT + ZCDRUN = 9. I</b> launch the terminal <pre> <code class="bash hljs">minicom -D /dev/ttyUSB1</code> </pre>  I see a greeting <pre> <code class="bash hljs">Welcome to minicom 2.5 OPTIONS: I18n Compiled on Feb 24 2011, 11:25:55. Port /dev/ttyUSB1 Press CTRL-A Z <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-built_in"><span class="hljs-built_in">help</span></span> on special keys AT S7=45 S0=0 L1 V1 X4 &amp;c1 E1 Q0 OK</code> </pre>  turn off the CD-ROM <pre> <code class="bash hljs">&gt;AT+ZCDRUN=8 Close autorun state result(0:FAIL 1:SUCCESS):1 OK</code> </pre>  In general, AT commands are quite a lot before, at the time of telephone modems, of the knowledge was mandatory for self-respecting admin.  Now everything has changed and remember the forgotten commands can be with the help of Google.  For example, <a href="http://we.easyelectronics.ru/part/gsm-gprs-modul-sim900-chast-vtoraya.html">here is a</a> good reference article. Let's try to communicate with the modem. Let's look at the modem operation mode <pre> <code class="bash hljs">&gt;AT+ZSNT? +ZSNT: 1,0,0 OK</code> </pre>  in my case - = 1,0,0 - Automatic selection of only GSM network.  Since I use the usual, rather than 3G SIM, this mode suits me completely.  There are also the following options for the mode of operation: <pre> <code class="bash hljs">AT+ZSNT=0,0,0 () -   AT+ZSNT=0,0,1   : GSM+WCDMA,  GSM AT+ZSNT=0,0,2   : GSM+WCDMA,  WCDMA AT+ZSNT=1,0,0   :  GSM AT+ZSNT=2,0,0   :  WCDMA AT+ZSNT=0,1,0   : GSM+WCDMA AT+ZSNT=1,1,0   :  GSM AT+ZSNT=2,1,0   :  WCDMA</code> </pre>  Check whether the protection is set pin-code <pre> <code class="bash hljs">&gt;AT+CPIN? +CPIN: SIM PIN OK</code> </pre>  disable PIN <pre> <code class="bash hljs">&gt;AT+CLCK=<span class="hljs-string"><span class="hljs-string">"SC"</span></span>,0,<span class="hljs-string"><span class="hljs-string">"1111"</span></span></code> </pre>  enable PIN <pre> <code class="bash hljs">&gt;AT+CLCK=<span class="hljs-string"><span class="hljs-string">"SC"</span></span>,1,<span class="hljs-string"><span class="hljs-string">"1111"</span></span></code> </pre>  If it is enabled, then to continue the work we need to enter it. <pre> <code class="bash hljs">&gt;AT+CPIN=‚Äù1234‚Ä≥ OK</code> </pre>  check again <pre> <code class="bash hljs">&gt;AT+CPIN? +CPIN: READY OK</code> </pre>  Now the pin code is accepted.  Let's see the signal level <pre> <code class="bash hljs">&gt;AT+CSQ +CSQ: 21,99 OK</code> </pre>  get the version of the IMEI module <pre> <code class="bash hljs">&gt;AT+GSN 359518034903581 OK</code> </pre>  Let's see the type of registration in the network <pre> <code class="bash hljs">&gt;AT+CREG? +CREG: 0,1 OK</code> </pre>  0 means that there is no message about the change of registration in the network1 - successfully registered in the networkWe look at the information about the operator <pre> <code class="bash hljs">&gt;AT+COPS? +COPS: 0,0,<span class="hljs-string"><span class="hljs-string">"Kyivstar"</span></span>,0 OK</code> </pre>  The first 0 means automatic network selection, a long test name format (the second is 0), and the operator‚Äôs name itself is Kyivstar. We‚Äôll check if we have the Service Center Address <pre> <code class="bash hljs">AT+CSCA? +CSCA: <span class="hljs-string"><span class="hljs-string">"+380672021111"</span></span>,145 OK</code> </pre>  For Kyivstar this is the correct number. Now we will try to send a message.  Before sending a message, you need to set the message format.  This is done with the command <b>AT + CMGF = x</b> .  where x is the message format, 0-1.0, is the PDU mode, command code control.  Displays a message in the HEX code.  The default mode is 1, text mode.  Text commands.  The message will be displayed in text form. In the first mode, messages will be issued in the form of hexadecimal ascii or unicode codes. This is a very inconvenient mode. SMS sending is done with the <b>AT + CMGS = "XXXXXXXXXXXXXXX"</b> command, where XXXXXXXXXXX is the subscriber number.  Sending SMS depends on the message format.  After entering the command, it displays the prompt "&gt;" after which you can enter the text of the messages.  Ends with the ESC or Ctrl-Z character.  Send a message using text mode and pre-forcibly setting SCA: <pre> <code class="bash hljs">AT+CMGF=1 OK AT+CSCA= <span class="hljs-string"><span class="hljs-string">"+380672021111"</span></span> OK AT+CMGS=<span class="hljs-string"><span class="hljs-string">"+38067xxxxxxx"</span></span> &gt; <span class="hljs-built_in"><span class="hljs-built_in">test</span></span> message &gt; +CMGS: 110 OK</code> </pre>  SMS has successfully arrived. You can send SMS before writing to memory: <pre> <code class="bash hljs">AT+CMGW=<span class="hljs-string"><span class="hljs-string">"91234567"</span></span>&lt;CR&gt;Sending text messages is easy.&lt;Ctrl+z&gt; AT+CMSS=3</code> </pre>  When working with AT commands, things don't always go smoothly.  Sometimes commands are executed with errors, returning a three-digit error code.  Here is a list of the main error codes: <pre> <code class="bash hljs">Error code Meaning 0-127 GSM 04.11 Annex E-2 values 128-255 GSM 03.40 section 9.2.3.22 values 300 Phone failure 301 SMS service of phone reserved 302 Operation not allowed 303 Operation not supported 304 Invalid PDU mode parameter 305 Invalid text mode parameter 310 SIM not inserted 311 SIM PIN necessary 312 PH-SIM PIN necessary 313 SIM failure 314 SIM busy 315 SIM wrong 320 Memory failure 321 Invalid memory index 322 Memory full 330 SMSC (message service center) address unknown 331 No network service 332 Network timeout 500 Unknown error 512 Manufacturer specific</code> </pre> <br><h4>  Smstools setup </h4><br>  Now we set up SMS Tools.  We rule config / etc / smsd.comf.  I bring the finished config with comments: <pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># ,   ‚Äî    devices = GSM1 #    incoming=/var/spool/sms/incoming outgoing=/var/spool/sms/outgoing checked=/var/spool/sms/checked sent=/var/spool/sms/sent # ,    ‚Äî   syslog,  = 1,   stdout logfile = /var/log/smsd/smsd.log #  loglevel = 5 #debug = 7 user = sms # ""  smart_logging = yes #,           "" .     checkhandler = /etc/smsd/check.sh #,        .     eventhandler = /etc/smsd/trsms.sh [GSM1] #  device = /dev/ttyUSB1 #- pin = 1111 #SCA smsc = 380672021111</span></span></code> </pre>  More information about all the parameters of the config can be found on the <a href="http://smstools3.kekekasvi.com/index.php%3Fp%3Dconfigure">official</a> smstool website. <br><br><h4>  Script trsms.sh </h4><br>  Now we create a script /etc/smsd/trsms.sh, which will write the log of the sent SMS.  Moreover, all Cyrillic messages will fall into it in readable encoding.  Do not forget to give permissions to execute the script to the user smstool and to write to the log /var/log/smsd/sms.log <pre> <code class="bash hljs">chown smstools:smstools /etc/smsd/trsms.sh chmod gu+x /etc/smsd/trsms.sh chmod gu+w /var/<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>/smsd/sms.log</code> </pre>  The script itself: <pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash status="$1" file="$2" touch /etc/smsd/ok case "$1" in SENT) FILE=`mktemp /tmp/smsd_XXXXXX` head -5 $file | grep -e "^To: " -e "Alphabet: " -e "^Sent: " &gt;&gt; /var/log/smsd/sms.log if grep "Alphabet: Unicode" $file &gt;/dev/null; then tail -n +6 $file | iconv -f UCS-2BE -t UTF-8 &gt;&gt; /var/log/smsd/sms.log else tail -n +5 $file &gt;&gt; /var/log/smsd/sms.log fi echo &gt;&gt; /var/log/smsd/sms.log echo "========================================" &gt;&gt; /var/log/smsd/sms.log echo &gt;&gt; /var/log/smsd/sms.log ;; esac</span></span></code> </pre>  Example of part of the log: <pre> <code class="bash hljs">======================================== To: 38067XXXXXXX Alphabet: Unicode Sent: 12-10-23 21:07:29 <span class="hljs-built_in"><span class="hljs-built_in">test</span></span> message ======================================== To: 38093XXXXXXX Alphabet: Unicode Sent: 12-10-19 12:16:28       ========================================</code> </pre><br><h4>  Script check.sh </h4><br>  SMSTools can handle events using external programs. Our script will help send Russian sms in the correct encoding by checking messages before sending (the prototype was taken from unicode2sms from the standard script package, which can be found in / usr / bin. Similarly, do not forget to give the right to execute script user smstool <pre> <code class="bash hljs">chown smstools:smstools /etc/smsd/check.sh chmod gu+x /etc/smsd/check.sh</code> </pre>  The script itself: <pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash # checkhandler for SMS Tools 3 # autoconverts cyrillic messages to UCS-2BE # add checkhandler=/path/to/ucsautoconvert into global part of smsd.conf # written by lexy (lexy@mrlexy.ru), 2008 FILE=`mktemp /tmp/smsd_XXXXXX` if [ ! `grep '[--]' $1 &gt; /dev/null` -o `grep 'Alphabet:\s*U' $1 &gt; /dev/null` ] then exit 0 fi cat $1 | awk '{if(NF==0) {s=1} if(s==0 &amp;&amp; NF&gt;0 &amp;&amp; $0!~/Alphabet:[ \t]*U/){print}}' &gt; $FILE echo Alphabet: Unicode &gt;&gt; $FILE cat $1 | awk '{if(NF==0) {s=1} if(s==1){print}}' | iconv -t UCS-2BE &gt;&gt; $FILE mv $FILE $1 chmod 664 $1</span></span></code> </pre>  now everything is ready to launch. <pre> <code class="bash hljs">&gt;service smsd start Starting smsd: [ OK ]</code> </pre>  check if it started <pre> <code class="bash hljs">&gt; ps ax | grep smsd 1345 ? Ss 0:00 /usr/sbin/smsd 1347 ? S 0:00 /usr/sbin/smsd 2322 pts/2 S+ 0:00 grep --color=auto smsd</code> </pre>  try to send a message.  the subscriber's number is indicated in the international format, but without the ‚Äú+‚Äù sign <pre> <code class="bash hljs">smssend <span class="hljs-string"><span class="hljs-string">"38067XXXXXXX"</span></span> <span class="hljs-string"><span class="hljs-string">"test message"</span></span> -- Text: <span class="hljs-built_in"><span class="hljs-built_in">test</span></span> message To: 38067XXXXXXX</code> </pre>  look at the log. <pre> <code class="bash hljs">&gt; tail /var/<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>/smsd/smsd.log</code> </pre>  lines added <pre> <code class="bash hljs">2012-10-23 21:07:08,5, GSM1: SMS sent, Message_id: 112, To: 38067XXXXXXX, sending time 7 sec. 2012-10-23 21:07:21,5, smsd: Moved file /var/spool/sms/outgoing/send_NpoTqX to /var/spool/sms/checked</code> </pre>  check sent SMS: <pre> <code class="bash hljs">&gt;cat /var/spool/sms/sent/send_NpoTqX To: 38067XXXXXXX Alphabet: Unicode Modem: GSM1 Sent: 12-10-23 21:07:29 IMSI: 255030837719869 <span class="hljs-built_in"><span class="hljs-built_in">test</span></span> message</code> </pre><br><h4>  Zabbix configuration </h4><br>  Let's write a script that will execute Zabbix for send sms.  In Zabbix, these scripts are in the directory defined in the variable <b>AlertScriptsPath</b> . <pre> <code class="bash hljs">cat /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/etc/zabbix_server.conf | grep AlertScriptsPath <span class="hljs-comment"><span class="hljs-comment">### Option: AlertScriptsPath AlertScriptsPath=/home/zabbix/bin/</span></span></code> </pre>  The script itself is <b>called sms_send.sh</b> and it consists of almost one line: <pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash to=$1 subject="$2" body="$3" smssend $to "$subject"</span></span></code> </pre>  Further configuration is done via the web interface.  First go to Administration -&gt; Alert Methods (Administration Media types-&gt;) and create a new alert type (Media types).  The name of the script must be the same as the name of the script file in the AlertScriptsPath directory <br><img src="https://habrastorage.org/storage2/afc/bb4/db7/afcbb4db763d8b417faca7db9ca40800.jpg"><br>  Next in the user settings (Administration -&gt; Users or Administration -&gt; Users) add the Alert Method (Media): <br><img src="https://habrastorage.org/storage2/a34/a76/a9c/a34a76a9ca4fac9d7f45341a2742e8e5.jpg"><br>  After that, in the Actions settings you will be able to use this Media: <br><img src="https://habrastorage.org/storage2/db9/0a7/76e/db90a776e916aa749c12fc51ecb960e1.jpg"><br><br><br><h4>  Tariffs </h4><br>  Standard price of one SMS = 0.5 UAH.  With a large number of SMS can result in a large penny.  What does the operator offer to reduce costs? <br><br>  <b>first option - Prepaid</b> <br><br>  Here are two options: <ol><li>  "Package 30 SMS" with a subscription fee of 4 UAH per week.  It turns out that the price is 1 sms = 13.33 kopecks. </li><li>  "Package 60 SMS" with a subscription fee of 6 UAH per week.  It turns out that the price is 1 sms = 10 kopecks. </li></ol>  The price is good.  But there are also disadvantages: <ul><li>  In both cases, unused at the end of the week SMS ‚Äúburn‚Äù. <br></li><li>  You need to regularly go to My Kyivstar's profile and re-order the service, otherwise you can remain without notice at the most important moment. </li></ul><br><br>  <b>option two - contract</b> <br>  Here are three options: <ol><li>  "SMS Package -50%" with a subscription fee of 3 UAH per month.  The package includes 500 sms at a discount.  It turns out that the price is 1 sms = 25 kopecks. </li><li>  "SMS package -70%" with a subscription fee of UAH 7 per month.  The package includes 500 sms at a discount.  It turns out that the price is 1 sms = 15 kopecks. </li><li>  "Package 1000 SMS" with a subscription fee of 120 UAH per month.  The package includes 1000 free sms.  It turns out that the price is 1 sms = 12 kopecks. </li></ol>  It turns out more expensive than in prepaid packages, but you do not need to activate it weekly.  Once done - and forgot. <br>  By the way, the prices are competitive.  For example, the internet service <a href="http://smscentre.kiev.ua/">smscentre.kiev.ua</a> for our organization offered a price of 15 kopecks.  for one SMS when the number of SMS per month is 1-25000 without a subscriber.  boards and with free activation package. But when using a modem, we get one indisputable advantage - independence from the Internet.  After all, they are not interested in mass SMS-sending, but notices from Zabbix.  And when using Internet-based SMS-sending services, I don‚Äôt risk receiving an important SMS in the case of, for example, a prolonged switching off of the light in the office or an accident at the provider.  Which package to choose is up to you. <br>  More information about SMS packages can be found at: <a href="http://www.kyivstar.ua/ru/kh/business/mobile/tariffs/wholesale/sms_bundles/">for the contract</a> and <a href="http://www.kyivstar.ua/ru/kh/mm/mobile/services/packages/sms_bundles/">for Prepaid</a> <br><br><h4>  PlaySMS setup </h4><br>  Installing this application is optional.  The application is necessary for mass mailing SMS, which adds to the mysql database. To work, you need the packages httpd, mysql, php, php-pear, php-mysql, php-cli, phpmyadmin.  But I have already installed all these packages for Zabbix to work.  Create a new user and directory for PlaySMS.  Download the latest version of PlaySMS and create a database in mysql: <pre> <code class="bash hljs">adduser playsms mkdir -p /var/www/playsms mkdir -p /var/spool/playsms mkdir -p /var/<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>/playsms chown -R apache /var/www/playsms chown -R apache /var/spool/playsms chown -R apache /var/<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>/playsms chmod -a -G smstools playsms wget http://downloads.sourceforge.net/project/playsms/playsms/Version%200.9.7.1/playsms-0.9.7.1.tar.gz tar -zxvf playsms-0.9.7.1.tar.gz -C /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/src <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/src/playsms-0.9.7.1/web/ cp -rR * /var/www/playsms cp playsmsd* sendsmsd* /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/bin/ chown -R apache /var/www/playsms mysqladmin -u root -p create playsms</code> </pre>  We import into the created database: <pre> <code class="bash hljs">mysql -u root -p playsms &lt; /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/src/playsms-0.9.7.1/db/playsms.sql</code> </pre>  We copy the config by editing the password in it to connect to the database (and login, if you are not root) <pre> <code class="bash hljs">cp /var/www/playsms/config-dist.php /var/www/playsms/config.php vi /var/www/playsms/config.php <span class="hljs-variable"><span class="hljs-variable">$core_config</span></span>[<span class="hljs-string"><span class="hljs-string">'db'</span></span>][<span class="hljs-string"><span class="hljs-string">'pass'</span></span>] = <span class="hljs-string"><span class="hljs-string">' '</span></span>; // database password</code> </pre>  Configuring automatic launch of the program: <pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/src/playsms-0.9.7.1/bin cp playsmsd playsmsd.php playsmsd_start /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/bin/ cp playsms /etc/default/</code> </pre>  In /etc/rc.d/rc.local add the line - / usr / local / bin / playsmsd_start.  PlaySMS control panel is available via htpp: //ip.address.your.server/playsms.  Login admin \ admin. <br>  Check that the correct path is specified in / etc / default / playsms <pre> <code class="bash hljs">PLAYSMS_PATH=/var/www/html/playsms</code> </pre><br><br><h4>  useful links </h4><br>  Links that will push you to thoughts on further improving the idea of ‚Äã‚Äãsending SMS: <br>  <a href="http://linuxshare.ru/docs/admin/smstools.html">The article with the script-gateway E-mail-&gt; SMS</a> <br>  <a href="http://www.developershome.com/sms/">Detailed manual on AT commands and sending SMS</a> <br>  <a href="http://we.easyelectronics.ru/part/gsm-gprs-modul-sim900-chast-vtoraya.html">Description of various AT commands</a> <br>  <a href="http://theapplegeek.ru/blog/2011/04/05/pereadresaciya-sms-mezhdu-dvumya-operatorami-s-pomoshhyu-smstools/">SMS forwarding using SMSTools</a> <br>  <a href="http://www.lissyara.su/articles/freebsd/programms/smstools_3/">Description of SMS File Headers</a> <br><br>  <b>UPD:</b> to view the balance on the account and the number of promotional SMS you need to install the gsm-ussd package.  Format command and the result is as follows: <pre> <code class="bash hljs">&gt;gsm-ussd -m /dev/ttyUSB2 <span class="hljs-string"><span class="hljs-string">'*115#'</span></span> Bonusy 55.0 SMS na nomery po Ukraini (dijsni <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> 2012-11-06 23:59:59). Zamovlennia Paketu SMS za tel. 477*030* &gt;gsm-ussd -m /dev/ttyUSB2 <span class="hljs-string"><span class="hljs-string">'*111#'</span></span> Na rahunku: 17.14 grn. Nomer die <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> 24-10-2013. Bonusy: 0 grn (dijsni <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> 14-10-2022); 104810496 bytes</code> </pre></div><p>Source: <a href="https://habr.com/ru/post/155321/">https://habr.com/ru/post/155321/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../155301/index.html">Habrasorsing</a></li>
<li><a href="../155303/index.html">Group artificial intelligence for Oracle SQL XE stacker robots</a></li>
<li><a href="../155309/index.html">Google introduced Samsung Chromebook for 249 dollars</a></li>
<li><a href="../155317/index.html">Konstantin Kalinov, founder of Aviasales: we went to develop horizontally</a></li>
<li><a href="../155319/index.html">Oracle Certified JAVA Associate Exam Preparation</a></li>
<li><a href="../155323/index.html">We write the Gameboy emulator, part 2</a></li>
<li><a href="../155325/index.html">Mobile Applications: HTML5 vs. Native Code</a></li>
<li><a href="../155329/index.html">Cisco CCNA Short Notes (part ICND1)</a></li>
<li><a href="../155335/index.html">Results of the 21st IOCCC competition</a></li>
<li><a href="../155337/index.html">IDCEE 2012 - the first day</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>