<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The whole truth about the SSD backup area, and whether it is needed at all</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Giktayms! Many SSD manufacturers advise leaving unallocated space or specific free space on solid-state drives for improved performance. We will t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The whole truth about the SSD backup area, and whether it is needed at all</h1><div class="post__text post__text-html js-mediator-article">  Hi, Giktayms!  Many SSD manufacturers advise leaving unallocated space or specific free space on solid-state drives for improved performance.  We will try to figure out whether a backup SSD area is needed at all, and how it affects the performance of the drives.  By tradition, all the details under the cut. <br><br> <a href="https://geektimes.ru/company/ocz/blog/274647/"><img src="https://habrastorage.org/getpro/geektimes/post_images/f70/290/52f/f7029052f82ff7e2e9216ee9bf174390.jpg"></a> <br><a name="habracut"></a><br><h2>  <font color="#0a548b">Little about the main thing</font> </h2><br>  Last time, we <a href="https://geektimes.ru/company/ocz/blog/274328/">told</a> you about how flash memory works.  The principle of its work visually perfectly characterizes the picture below.  Block (X) could be cleared for later recording due to the presence of a free block (Y) - new pages were written into block (X), and then into (Y), after which the block (X) was erased. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/282/0f1/7ca/2820f17cad8ce6f0643fe2738e7d40b2.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      This is just one example of how flash works.  The bottom line is that when there is a lot of free space on the SSD, then there are a lot of such units as (Y).  Although the speed of the controller itself is constant, the performance of the drive itself may vary.  The fewer free blocks of flash memory, the more processes it has to perform before data is written, and hence the speed of the drive will suffer.  For example, when filling an SSD by 98%, there are less and less free blocks.  Question one: what happens if during such a busy drive you start recording large amounts of data?  This is where the backup SSD area comes in handy. <br><br><h2>  <font color="#0a548b">What is a backup area and why is it needed?</font> </h2><br>  In fact, the operating system does not recognize the entire amount of memory in solid-state drives.  The reserve area of ‚Äã‚Äãthe SSD or the so-called spare area is allocated on the principle of over-provisioning and is visible only to the controller.  To understand how it works, it is useful to consider, and how, in fact, measured the capacity of SSD. <br><br>  SSD capacity is measured in gigabytes (decimal prefixes) and gibbytes (binary prefixes).  If in one gigabyte 1 billion bytes, then in gibibite ~ 1,074 x 10 in the ninth power byte.  Manufacturers, including OCZ, indicate the capacity in gigabytes, while the operating system performs its calculation in gibbytes.  Because of this, it turns out that the actual capacity of the drive is less than stated. <br><br>  For example, interesting statistics on one of the drives.  He has 264 GiB NAND on board, but only 186 GiB are available to the user, compared with 200 GB stated by the manufacturer.  The rest of the SSD is used as a backup area to improve drive performance and endurance. <br><img src="https://habrastorage.org/getpro/geektimes/post_images/4a4/470/d96/4a4470d9638858c81f20730ce44a362c.png"><br><br>  As a rule, the backup area is about 7% of the total NAND capacity.  To calculate the actual SSD capacity in GiB, you need to divide the capacity in gigabytes by 1,073741824.  In the case of a 256 GB drive, this will be 238.4 GiB.  The rest of the SSD and is used as a spare area.  For clarity, let us once again turn to how flash memory works. <br><br>  People often ask why some SSDs have a capacity of 120/240/480 GB, when others are 128/256/512 GB.  In the case of OCZ, the physical volume of these pairs of storage tanks is the same.  The difference lies in the amount of reserve for different models: with full volumes of 128/256 / 512GB, there is no reserve, and on 120/240 / 480GB there is a reserve area that is not available to the user. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/geektimes/post_images/fc7/69e/6d0/fc769e6d01d6300fc96a10894a41384f.png"></div><br>  The relationship between write amplification and spare area is well reflected in the IBM research lab report: <br><br>  As you can see, the larger the backup area, the smaller the recording gain.  Due to the presence of such a relationship between them, manufacturers and recommend not to load the solid-state drive completely, and leave from 10% to 20% of free space.  What for SSD generally need a backup area? <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/geektimes/post_images/471/6c1/dc9/4716c1dc954f258379feb6ef19e1312d.jpg"></div><br>  Firstly, the so-called garbage collection (garbage collection), which we disassembled in the first picture, is performed less often due to the fact that the operating system cannot access the backup area and fill up free memory blocks - therefore, the controller gets access to more memory blocks.  Therefore, SSD always has free blocks ‚Äúin reserve‚Äù, which is important.  In addition, if one of the memory blocks fails, the controller takes free from the backup area.  Also, the spare area affects the leveling of depreciation: if the data is written to the same block, the drive resource will be depleted by increasing the number of blocks rewriting cycles.  The controller distributes the data evenly, thereby equalizing the wear. <br><br><h2>  <font color="#0a548b">And what about performance?</font> </h2><br>  For companies, it is very important to have drives with a large amount of backup area, since it is there that attacks with random data most often occur.  The more blocks of the backup area available to the controller, the greater the likelihood that the controller will work correctly, and the performance of the SSD will not fall even under heavy load.  OCZ has <a href="http://ru.ocz.com/enterprise/z-drive-6000-pcie-nvme-ssd">excellent corporate solutions</a> for these cases - Z-Drive 6000 NVMe, Toshiba Hawk 4R (THNSN8) and Hawk 4E (THNSN8).  2900 MB / s for reading and 1900 MB / s for writing, capacity up to 6.4 TB. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/a9d/29c/ee5/a9d29cee5edbfce72197f49b0cfabe4f.jpg"><br><br>  But let's not be unfounded, we better show how the performance of the SSD depends on the volume of the backup area with the help of tests.  To do this, we take one of the drives with a controller that is not optimized for an increased backup area and will gradually increase the size of the spare area - from 12% up to 50%.  The last option at home, of course, excluded, but it is important to capture the essence. <br><br>  We will compare in terms of IOPS - the number of input and output operations - in simple terms, the number of blocks that is read or written to the media.  Accordingly, the higher the value, the better.  Determined by IOPS as a quotient of speed and block size when performing an operation.  First, take an SSD with a standard reserve area (about 7%).  Here are some indicators he boasts in the tests: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/geektimes/post_images/b70/439/a97/b70439a971bc4984b438c9cd972aa63a.png"></div><br>  And now we will have a little experience - we will increase the reserve area to 12% and again measure IOPS. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/geektimes/post_images/be6/f12/da7/be6f12da7f3d006978d91c29f402b66f.png"></div><br>  The difference, albeit small, is still visible - IOPS has clearly increased.  Well, let's not stop there, increase the backup area to 25% - a quarter of the drive is now available only to the controller. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/geektimes/post_images/bd1/376/d1e/bd1376d1ea6a705466c67a1a58ac2d25.png"></div><br>  We think everything is clear without words.  However, it is obviously inexpedient to give as much of the backup area as only 3/4 SSDs become useful.  And hardly anyone will repeat this at home, but for the purity of the experiment, we still do it.  Yes, we will increase the spare area to 50%. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/geektimes/post_images/100/b10/b36/100b10b36ec615383896b4875c4875d1.png"></div><br>  Changes in performance are noticeable, but certainly not enough to give half the drive under the reserve.  This is simply impractical because the performance increase in this case will not be able to compensate for the lost SSD capacity.  One thing is clear for sure: the size of the backup area does affect the speed of the drive.  If you decide to repeat such a test with your SSD, keep in mind that the results may differ depending on the controller, firmware and, in fact, the manufacturer and model of the drive itself. <br><br>  In addition to performance, the backup area also reduces wear on solid-state drives and extends their lifespan.  There is no need to carry out any tests: obviously, if fewer read / write operations are performed, the amount of recorded data also decreases.  So the more spare area, the longer the drive will serve you (but, as we said, you should not abuse it). <br><br><h2>  <font color="#0a548b">How to change the size of the backup SSD area?</font> </h2><br>  Typically, manufacturers give this opportunity in their proprietary utilities for solid-state drives.  At OCZ, this is implemented very simply and conveniently using the special SSD utility Guru - it not only monitors the state of the SSD, but also monitors SMART, includes the TRIM command, automatically checks for new firmware - in general, an indispensable assistant for users of our drives.  We have already <a href="https://geektimes.ru/company/ocz/blog/248052/">introduced</a> you to the utility itself, so pay attention only to the tab that is needed in our case. <br><br>  Go to the Tuner tab and get access not only to Trim activation, but also to over over setting on the fly: just drag the slider and choose the size of the backup area yourself.  In our case, for example, it is possible to increase the spare area to 134 GB - despite the fact that the volume of the drive itself is 480 GB.  It turns out almost 28%. <br><br>  If you want to do it yourself, just hide part of the drive from the operating system - leave unallocated space on it. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/geektimes/post_images/d0b/bd1/4d5/d0bbd14d5d55c7f80364d0911ac0d453.jpg"></div><br><h2>  <font color="#0a548b">Take care of your drives!</font> </h2><br>  Of course, even without manipulating the backup area, the solid-state drive will serve you for a long time: the good of most of the myths about the fragility of SSDs have been dispelled.  If possible, drive, of course, should be protected, but only if it does not limit your needs.  The easiest way is to leave free from 10 to 20% of the amount of SSD available to you: for you, not for the controller. </div><p>Source: <a href="https://habr.com/ru/post/393131/">https://habr.com/ru/post/393131/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../393119/index.html">Glasses to the new reality: a guide to choosing HMD</a></li>
<li><a href="../393121/index.html">Water bluetooth gun will destroy any water-soluble enemy</a></li>
<li><a href="../393125/index.html">Chrome 50 no longer supports Windows XP, Vista and older versions of OS X</a></li>
<li><a href="../393127/index.html">3D printing allows you to achieve a significant reduction in the weight of aircraft parts and simplify their production.</a></li>
<li><a href="../393129/index.html">The famous photo from the Chernobyl nuclear power plant is a selfie with a long exposure.</a></li>
<li><a href="../393137/index.html">Google patents user face recognition for analyzing the response to search results</a></li>
<li><a href="../393139/index.html">Microsoft has stopped the release of Xbox 360</a></li>
<li><a href="../393143/index.html">DEC Mini Computers - PDP Family</a></li>
<li><a href="../393145/index.html">Californian startup testing delivery of four-wheel robots</a></li>
<li><a href="../393147/index.html">Rolls-Royce: Unmanned ships to sail by 2020</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>