<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>(Archive) Matreshka.js - MK.Array</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The article is outdated. The new documentation contains the most current information from this post. See Matreshka.Array . 



- Introduction 
- Inher...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>(Archive) Matreshka.js - MK.Array</h1><div class="post__text post__text-html js-mediator-article">  <b>The article is outdated.</b>  <b>The <a href="http://ru.matreshka.io/">new documentation</a> contains the most current information from this post.</b>  <b>See <a href="http://ru.matreshka.io/">Matreshka.Array</a> .</b> <br><br><ul><li>  <a href="http://habrahabr.ru/post/196146/">Introduction</a> </li><li>  <a href="http://habrahabr.ru/post/200078/">Inheritance</a> </li><li>  <a href="http://habrahabr.ru/post/196886/">MK.Object</a> </li><li>  <b>MK.Array</b> </li><li>  <a href="http://habrahabr.ru/post/217241/">Matreshka.js v0.1</a> </li><li>  <a href="http://habrahabr.ru/post/231333/">Matreshka.js v0.2</a> </li><li>  <a href="http://habrahabr.ru/post/231347/">Implement TodoMVC</a> </li></ul><br><br>  (Remember, the repository is <a href="https://github.com/finom/matreshka">here</a> ) 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Greetings to all.  I ended the <a href="http://habrahabr.ru/post/196886/">previous article</a> on the fact that we may need an array of data.  An array in the project Matreshka.js are instances of the class <code>MK.Array</code> .  How are they different from ordinary arrays?  Almost nothing.  The <code>MK.Array</code> prototype contains all the methods that a ‚Äútraditional‚Äù array has, the constructor takes the same arguments as the original <code>Array</code> , and the instances have several interesting features. <br><br>  <b><code>MK.Array</code></b> is an array on steroids that can: <br><ul><li>  Anything that can <code>Array</code> </li><li>  Generate modification events </li><li>  Use chained method calls where possible </li><li>  Knows what Matryoshka can do: bind elements to properties and generate custom events </li></ul><br><br><div class="spoiler">  <b class="spoiler_title">Remember the gif from the first article in the series?</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/5c0/b8b/768/5c0b8b768c3054e729da66e74c9f6870.gif"></div></div><br><a name="habracut"></a><br>  When using <code>MK.Array</code> you need to remember 5 things: <br><br>  <b>0. The</b> methods that came from <code>Array</code> to <code>MK.Array</code> not rewritten.  <code>MK.Array</code> uses the built-in capabilities of the array, which means, firstly, the class code is very compact, and secondly, we avoid the bugs of incorrect implementation of the methods.  This also means that many new methods will not work in Internet Explorer 8 unless you connect, say, <a href="https://github.com/kriskowal/es5-shim">es5-shim</a> .  When calling an unsupported method, an error is generated, the message of which will offer to connect this library. <br><br>  The list of implemented methods was compiled when studying the <code>Array</code> prototype in the latest build of Chrome and the MDN documentation. <br><br>  <b>1.</b> Methods that modify an instance, generate two events: <code>"modify"</code> and the name of the method.  For example, after executing the <code>.push</code> method, not only <code>"modify"</code> generated, but also <code>"push"</code> .  <b>UPD</b> : When adding elements, the event <code>"add"</code> generated, when deleting - <code>"remove"</code> . <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> mkArray = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MK.Array; mkArray.on( <span class="hljs-string"><span class="hljs-string">'push'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ alert( <span class="hljs-string"><span class="hljs-string">'push'</span></span> ); }); mkArray.on( <span class="hljs-string"><span class="hljs-string">'modify'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ alert( <span class="hljs-string"><span class="hljs-string">'modify'</span></span> ); }); mkArray.push( <span class="hljs-number"><span class="hljs-number">42</span></span> );</code> </pre><br><br>  List of modifying methods: <br><ul><li> <a href="http://finom.github.io/matreshka/docs/Matreshka.Array.html"><code>.push</code></a> </li> <li> <a href="http://finom.github.io/matreshka/docs/Matreshka.Array.html"><code>.pop</code></a> </li> <li> <a href="http://finom.github.io/matreshka/docs/Matreshka.Array.html"><code>.unshift</code></a> </li> <li> <a href="http://finom.github.io/matreshka/docs/Matreshka.Array.html"><code>.shift</code></a> </li> <li> <a href="http://finom.github.io/matreshka/docs/Matreshka.Array.html"><code>.sort</code></a> </li> <li> <a href="http://finom.github.io/matreshka/docs/Matreshka.Array.html"><code>.reverse</code></a> </li> <li> <a href="http://finom.github.io/matreshka/docs/Matreshka.Array.html"><code>.splice</code></a> </li> </ul><br><br>  <b>2.</b> To avoid generating relevant events, use methods starting with <code>silent</code> .  For example, if you want to add an element to an array, but want to avoid generating events, use <code>silentPush</code> (note that the name of the original method is written with a capital letter). <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> mkArray = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MK.Array; mkArray.silentPush( <span class="hljs-number"><span class="hljs-number">42</span></span> );</code> </pre><br>  A list of modifying methods that do not generate events when they are run: <br><ul><li> <a href="http://finom.github.io/matreshka/docs/Matreshka.Array.html"><code>.silentPush</code></a> </li> <li> <a href="http://finom.github.io/matreshka/docs/Matreshka.Array.html"><code>.silentPop</code></a> </li> <li> <a href="http://finom.github.io/matreshka/docs/Matreshka.Array.html"><code>.silentUnshift</code></a> </li> <li> <a href="http://finom.github.io/matreshka/docs/Matreshka.Array.html"><code>.silentShift</code></a> </li> <li> <a href="http://finom.github.io/matreshka/docs/Matreshka.Array.html"><code>.silentSort</code></a> </li> <li> <a href="http://finom.github.io/matreshka/docs/Matreshka.Array.html"><code>.silentReverse</code></a> </li> <li> <a href="http://finom.github.io/matreshka/docs/Matreshka.Array.html"><code>.silentSplice</code></a> </li> </ul><br><br>  <b>3.</b> The <code>.forEach</code> method, which in the prototype of the original <code>Array</code> returns <code>undefined</code> , in <code>MK.Array</code> returns itself: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> mapped = mkArray .forEach( <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ ... }) .forEach( <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ ... }) .map( <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ ... }) ;</code> </pre><br><br>  <b>4.</b> Methods of the original <code>Array</code> , which modify the array and perform the secondary function, returning the length of the array ( <code>.push</code> , <code>.unshift</code> ) <s>or the deleted element ( <code>.pop</code> , <code>.shift</code> )</s> ( <b>UPD</b> : Fixed in 0.1), in <code>MK.Array</code> return themselves.  This allows you to build chains of methods (something that I have always lacked).  Methods whose primary task is to return a value of another type work in the traditional way.  This means that <code>.indexOf</code> returns a number, <code>.toString</code> - a string ... <br><br><pre> <code class="javascript hljs">mkArray .push( <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span> ) .unshift( <span class="hljs-number"><span class="hljs-number">0</span></span> ) .push( <span class="hljs-number"><span class="hljs-number">5</span></span> ) .forEach( <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ ... } ) .sort() .reverse() ;</code> </pre><br><br>  It is very easy to compensate for this behavior, for example, for the <code>.push</code> method: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> array = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>( <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span> ), mkArray = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MK.Array( <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span> ), arrayLength, mkArrayLength; arrayLength = array.push( <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span> ); mkArray.push( <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span> ); mkArrayLength = mkArray.length;</code> </pre><br><br>  <b>5.</b> Iterator methods ( <code>.forEach</code> , <code>.map</code> , <code>.filter</code> , ...) take as their first argument a function whose third argument is an instance of the native array.  The feature of the eighth Donkey does not allow the use of <code>Array.prototype[ method ].apply</code> in the context of the Nested doll, therefore, the launch of the methods is as follows: <br>  1. An instance of <code>MK.Array</code> converted to an <code>Array</code> instance. <br>  2. The <code>Array.prototype[ name ].apply( array, arguments );</code> <br>  3. The <code>MK.Array</code> instance is cleared and updated with the resulting <code>Array</code> . <br><br><pre> <code class="javascript hljs">mkArray.forEach( <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> item, index, array </span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log( array === mkArray ); <span class="hljs-comment"><span class="hljs-comment">// false });</span></span></code> </pre><br><br>  This is a feature of the implementation of the Matryoshka, which can cause confusion among experienced programmers.  Do not rush to write an angry comment.  If Habra is interested, I will tell the most important thing: how the Nested doll works. <br><br>  <b>UPD</b> : In version 1.0, this feature will be fixed due to the abandonment of support for IE8 <br><br><h5>  Inheritance </h5><br>  Nested array is inherited in the same way as any class inherited from Nested doll: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> MyArray = Class({ <span class="hljs-string"><span class="hljs-string">'extends'</span></span>: MK.Array, <span class="hljs-attr"><span class="hljs-attr">constructor</span></span>: fucntion() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.initMK(); } });</code> </pre><br>  The <code>.initMK</code> method, in this case, besides the initialization of the main pseudo-private Matryoshka properties, adds event handlers necessary for the array and is required to run when inheriting. <br><br><div class="spoiler">  <b class="spoiler_title">The text under the spoiler has lost relevance after the release of the Matryoshka 0.1.</b>  <b class="spoiler_title">You can not read it.</b> <div class="spoiler_text"><h5>  Practical application </h5><br>  <code>MK.Array</code> itself is a ready-to-use class that will add sugar to any application.  There is only one ‚Äúbut‚Äù: a matryoshko array does not know how to bind data to the elements of an array.  <code>.bindElement</code> course, you can <code>.bindElement</code> an element to an index using a <code>.bindElement</code> , but obviously it makes little sense: indexes are constantly changing when modified.  What to do if you have, say, a list that needs to be updated when the array changes.  In this case, you need to track the necessary methods and change the DOM manually.  For example, if the application involves adding and removing elements, you need to listen to the events of <code>"push"</code> and <code>"splice"</code> , the only question is what your application needs. <br><br>  The GIF in the beginning of the post is a demonstration of the work (so far) of the <a href="">undocumented MK.DOMArray plugin</a> , which, in response to changes in data, automatically changes the DOM.  The plugin was created as an experiment, demonstrating the capabilities of the Matryoshka and to get closer to the idea that the DOM should update itself when the data changes.  But the experiment was so successful that, perhaps, the plugin code will be <code>MK.Array</code> into the <code>MK.Array</code> code.  Changes in the DOM are optimal: when adding objects to an array, new elements are added to the page, deleted when deleted, sorted.  This is me to the fact that the table is not redrawn anew, but responds consistently. <br><br>  Here the matreshka-array (or rather its descendant: <code>MK.DOMArray</code> ) in the example can be called the analogue of the Collection in Backbone, and its elements - the analogue of the Model.  An example can be seen here: <a href="http://jsbin.com/aZEseWE/16/">jsbin.com/aZEseWE/16</a> (it was from this example that the gif was recorded).  And here: <a href="http://jsbin.com/eQomoJe/9/">jsbin.com/eQomoJe/9 is a</a> more ascetic option.  It does not override built-in methods.  I prefer the second method, despite the apparent redundancy. <br><br>  <code>MK.DOMArray</code> works in this way: when adding objects (to the beginning, end, middle ... all the same), it checks whether the "self" has a <code>.renderer</code> method and, if it exists, inserts the returned element into the page tree and raises an event on the object <code>"render"</code> . <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Example = Class({ <span class="hljs-string"><span class="hljs-string">'extends'</span></span>: MK.DOMArray, <span class="hljs-attr"><span class="hljs-attr">constructor</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span> <span class="hljs-comment"><span class="hljs-comment">//   .initMK() //   .bindElement( this, 'table tbody' ) ; }, renderer: function( object ) { //     .    ,   return '&lt;tr&gt;&lt;td class="a"&gt;&lt;/td&gt;&lt;td class="b"&gt;&lt;/td&gt;&lt;td class="c"&gt;&lt;/td&gt;&lt;/tr&gt;'; } });</span></span></code> </pre><br>  The task of the added object is to capture the <code>"render"</code> event and bind the elements inside the element bound to <code>"__this__"</code> . <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ExampleObject = Class({ <span class="hljs-string"><span class="hljs-string">'extends'</span></span>: MK.Object, <span class="hljs-attr"><span class="hljs-attr">constructor</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> o </span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span> .initMK() .jset( o ) .on( <span class="hljs-string"><span class="hljs-string">'render'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> evt </span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span> <span class="hljs-comment"><span class="hljs-comment">//    'render' ‚Äî ,    //  MK.DOMArray    HTML    ? //    ( )   ,  , //          .bindElement( this, evt.el ) //    .bindElement({ a: this.$( '.a' ), b: this.$( '.b' ), c: this.$( '.c' ) }, MK.htmlp ) ; }) ; } });</span></span></code> </pre><br></div></div><br><br><div class="spoiler">  <b class="spoiler_title">Idea</b> <div class="spoiler_text">  Here and the plugin, which works exclusively with tables.  Perhaps it will work like this: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> table = MK.Table({ <span class="hljs-attr"><span class="hljs-attr">table</span></span>: <span class="hljs-string"><span class="hljs-string">'.my-table'</span></span> rows: [{ <span class="hljs-attr"><span class="hljs-attr">title</span></span>: <span class="hljs-string"><span class="hljs-string">'A'</span></span>, <span class="hljs-attr"><span class="hljs-attr">key</span></span>: <span class="hljs-string"><span class="hljs-string">'a'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">title</span></span>: <span class="hljs-string"><span class="hljs-string">'B'</span></span>, <span class="hljs-attr"><span class="hljs-attr">key</span></span>: <span class="hljs-string"><span class="hljs-string">'b'</span></span> }] }); table.push({ <span class="hljs-attr"><span class="hljs-attr">a</span></span>: <span class="hljs-string"><span class="hljs-string">'Fuck'</span></span>, <span class="hljs-attr"><span class="hljs-attr">b</span></span>: <span class="hljs-string"><span class="hljs-string">'Yeah'</span></span> });</code> </pre><br></div></div><br><br><h4>  At the end of the cycle </h4><br>  Matryoshka is a compact, easy-to-learn framework that will continue to evolve.  Regardless of the level of training of the programmer, Matryoshka is easy to learn and, most likely, is a great start when moving to structured code by beginners.  Compact and extensible gives a bunch of ideas for plugins and add-ons.  Over time, the dependence on jQuery ( <b>UPD</b> : Already removed), support for Internet Explorer 8, improved performance, and more ... will be removed <br><br>  Thank you for your attention, all good. <br><br>  PS The README repository now has a <a href="https://github.com/finom/matreshka">roadmap</a> . </div><p>Source: <a href="https://habr.com/ru/post/198212/">https://habr.com/ru/post/198212/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../198196/index.html">Veeam Management Pack for VMware v6.5 released for Microsoft System Center: what's new?</a></li>
<li><a href="../198198/index.html">Open data from existing state portals</a></li>
<li><a href="../198202/index.html">Perfeo 9748-RT - Retina display and capacious battery</a></li>
<li><a href="../198204/index.html">Automatically download music to Google Music</a></li>
<li><a href="../198206/index.html">Artificial Intelligence and Search Engines</a></li>
<li><a href="../198216/index.html">The digest of interesting materials from the world of web development and IT for the last week No. 79 (October 13 - 19, 2013)</a></li>
<li><a href="../198218/index.html">Following the D-Link Vulnerability: Backdoor Detected in Tenda and Medialink Wireless Routers</a></li>
<li><a href="../198220/index.html">Why do copyright holders have to live on donations?</a></li>
<li><a href="../198224/index.html">ETL process using web services in Integration Services 2012</a></li>
<li><a href="../198228/index.html">Programming language J. Amateur look. Part 3. Arrays</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>