<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Revise old projects for Android 4.0. Part two</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Most recently, I published a topic that talked about code that worked in Android 2.3, but stopped working in Android 4.0. Several people wrote in pers...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Revise old projects for Android 4.0. Part two</h1><div class="post__text post__text-html js-mediator-article">  Most recently, I published a <a href="http://habrahabr.ru/post/145092/">topic</a> that talked about code that worked in Android 2.3, but stopped working in Android 4.0.  Several people wrote in person to the post office, thanked for the information and asked to continue such publications.  This time let's talk about ActionBar.  One user had a problem with the code that worked on Android 3.0, but again stopped working on Android 4.0. <br><a name="habracut"></a><br><h4>  A small digression - Evil you, I'll leave you </h4><br>  About 15 years ago, when I began to independently study programming and simultaneously connected to the Internet, I noticed an amazing thing.  When I, as a newcomer, asked a question on a Russian-speaking forum, I received silence in response, or I would advise me to teach a materiel and not get under my feet.  When I asked a similar question on the bourgeois forums, and even in bad English (I studied German at school), I received detailed answers.  Since then, almost nothing has changed.  I have long since scored on our forums and prefer to communicate only ‚Äúthere‚Äù.  Surely, many noticed how strikingly different comments on blogs.  They have: nice tutorial, thanks for post, excelent article.  We have: why another bike, your horizon is littered, the colors of the eyebrow, vindekapets, etc. <br>  I personally know several of the ‚Äúformer‚Äù who blogged in two languages ‚Äã‚Äã- English and Russian, and then left only the English part.  Do you understand why? <br>  It was the same with my previous post.  Here are typical statements: shoot, severe Chelyabinsk programmers, etc.  Somehow it coincided that on foreign resources such questions came up several times, but no one offered to shoot for the wrong code, but simply explained why it was impossible to do that.  One example is <a href="http://stackoverflow.com/questions/9442527/networkonmainthreadexception-when-reading-from-web">http://stackoverflow.com/questions/9442527/networkonmainthreadexception-when-reading-from-web</a> .  In general, only this resource <b>yielded</b> 90 results on the request of <b>NetworkOnMainThreadException</b> .  And no one swears.  As they say, feel the difference.  Mentality that we have such. <br><br><h4>  New problem - the icon does not work in ActionBar </h4><br>  This problem was shared by one of the registered users of <a href="http://developer.alexanderklimov.ru/android/index.php">my site</a> .  The bottom line was the following: The application icon can work as a navigation element and play the role of the Home button, like the Habra logo on the site in particular.  This is very convenient in some cases when an application consists of several screens and you can ‚Äúpoke‚Äù into the system application icon for a quick return.  The example is described in the documentation and worked fine on a tablet running Android 3.0, and suddenly stopped working under Android 4.0. <br>  In principle, the answer on the Internet was found quickly, moreover, even in the documentation you can find a solution.  But, apparently, the person was just tired or the eye was crawling, but the applicant did not find it.  And the casket opened simply.  For the application icon to work as a navigation element, you must explicitly set the <b>setHomeButtonEnabled ()</b> method <br><br><pre><code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Bundle savedInstanceState)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onCreate(savedInstanceState); setContentView(R.layout.two); ActionBar bar = getActionBar(); bar.setHomeButtonEnabled(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); }</code> </pre> <br>  It turned out that in Android 3.0 the icon was enabled as the default navigation button, but not in Android 4.0. <br>  By the way, I found an interesting moment associated with this button.  The system allows you to add an extra arrow to the left of the application icon using the <b>bar.setDisplayHomeAsUpEnabled (true)</b> method <b>;</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/storage2/ea1/194/cd9/ea1194cd90be33edde1dfcca20012e0d.png"><br><br>  So, if you call this method, then the previous method setHomeButtonEnabled () is not necessary to call, everything works. <br>  Happy programming! </div><p>Source: <a href="https://habr.com/ru/post/145646/">https://habr.com/ru/post/145646/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../145640/index.html">Andy Rubin: Android activate 900,000 times a day</a></li>
<li><a href="../145641/index.html">Funny vulnerability in MySQL under Linux 64-bit</a></li>
<li><a href="../145642/index.html">LinkedIn started using salt</a></li>
<li><a href="../145643/index.html">Magenta: an open source iOS clone</a></li>
<li><a href="../145644/index.html">TV shows: online viewing or downloading?</a></li>
<li><a href="../145648/index.html">Salt the passwords</a></li>
<li><a href="../145649/index.html">Effective web development with Visual Studio 2012: innovations in the editors HTML / CSS and JavaScript</a></li>
<li><a href="../145650/index.html">A series of database leaks continues, this time Riot Games</a></li>
<li><a href="../145651/index.html">YoungYear Electronics introduced a wire case for PC</a></li>
<li><a href="../145652/index.html">Duracell and Powermat show off new charging system</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>