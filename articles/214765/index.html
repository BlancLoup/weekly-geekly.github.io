<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Prudence</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="For some supernatural reasons, for half a year I have not been able to write this text, but I really want to talk about a new, almost unknown, in any ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Prudence</h1><div class="post__text post__text-html js-mediator-article"> For some supernatural reasons, for half a year I have not been able to write this text, but I really want to talk about a new, almost unknown, in any case on the habre, the framework - <a href="http://threecrickets.com/prudence/">Prudence</a> . <br><br>  <b>Prudence</b> - written in java framework, which allows you to create an application on other PLs (javascript, php, python, etc.). In this article I will consider the possibility of working with server-side javascript.  Unlike node.js, prudence works on the basis of the JVM engine, which allows using third-party java libraries.  In addition, the application turns out to be cross-platform and works inside its ‚Äúcontainer‚Äù. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0b4/ea9/9a8/0b4ea99a8e4095fe361efbf6f5b28da2.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><br>  A year ago, there was very little documentation about prudence, and the developer Tal Liron advised to look at the sample applications as part of the framework.  I will do the same in this way, having laid out the source codes of a simple application on <a href="https://github.com/Zazza/prudence-data">github</a> , going over all the points: installation, configuration, development and launch of the application. <br><br>  <b>The task</b> : to create an application that allows you to store certain objects in a tree structure and separately to each object allows you to add text data.  In addition, the data from the client's browser (frontend) to the server (backend) and back must be transferred encrypted. <br><br>  For the frontend, I‚Äôll use Twitter Bootstrap and JS (again the framework) Kendo UI Web, because all the necessary widgets (treeview, htmleditor, tabstrip are in the GPL version, which, by the way, Teleric (developer of the Kendo UI framework) was hiding :( <br><br>  For data storage in backend I will use <b>MongoDB</b> .  The code will be in JS, despite the fact that the framework allows writing in other languages. <br>  To encrypt data between the client and the server, I will use the Stanford Javascript Crypto Library (http://bitwiseshiftleft.github.io/sjcl/).  The library is used in both Frontend and Backend.  Post request data and response is encrypted accordingly. <br>  On the client side, in order to encrypt each Ajax request, a ‚Äúwrapper‚Äù is used: <br><br> <code>encryptAjax(URL, DATA, function(res) { <br> //   <br> }); <br></code> <br><br><h6>  Example client - server and server - client requests / responses: </h6><br><img src="https://habrastorage.org/getpro/habr/post_images/c7f/198/519/c7f1985198e24bd96aee22333936aeeb.png"><br><br><h5>  Installation </h5><br>  You can install prudence by downloading the source code of the framework, but it‚Äôs better with the <b>sincerity</b> utility. <br>  <b>Sincerity</b> is a lightweight package manager that allows you to build (update) the required framework environment. <br>  Download sincerity <a href="http://threecrickets.com/sincerity/">here</a> . <br><br>  After installing sincerity in the system: <br><br> <code>sincerity create myprudence : add prudence.admin : add mongovision : install</code> <br> <br>  will create a ‚Äúcontainer‚Äù with all utilities needed to launch the application, where myprudence is the directory in which all the necessary file structure will be created. <br><br>  The application source code is here: <b>\ component \ applications \ &lt;application&gt;</b> <br>  Here <b>\ component \ templates \ default \</b> you can take templates for creating a new application. <br>  The <b>default.js</b> , <b>routing.js</b> and <b>settings.js</b> files are basic for the project, their syntax can be found in the documentation, and an example in the project on <a href="https://github.com/Zazza/prudence-data">github</a> . <br><br><h5>  Frontend </h5><br>  All files are located by default in the <b>resources</b> directory.  The main file should be called <b>index.t.html</b> (with the suffix t).  Paths to project files are specified relative to the <b>resources</b> directory: <br><br> <code>/&gt; <br> /&gt; <br></code> <br><br><h5>  Backend </h5><br>  Since the application is small, one route is enough for us: <b>/ data / {action}</b> <br>  To do this, <b>we</b> add one line to <b>routing.js</b> : <br> <code>'/data/{action}/': '@app'</code> <br>  <b>{action}</b> can be obtained in the controller of our application - <b>conversation.locals.get ('action')</b> <br>  Also in <b>routing.js the</b> following entry is required: <br><br> <code>app.dispatchers = { <br> javascript: '/resources/js/' <br> } <br></code> <br>  Where we indicate which programming language we use and the path to the file "dispatcher". <br>  This file will be located here <b>/ resources / js /</b> and it is called <b>default.js</b> .  It will need to connect the necessary controller files and call them.  Since we specified '@app' in the routes, we will make the corresponding entry in the resources parameter: <br><br> <code>document.executeOnce('/resources/js/app/') <br> resources = { <br> app: new AppResource() <br> } <br></code> <br><br>  The file <b>/resources/js/app.js</b> will be our controller. <br>  You can see the class itself in the example or read the documentation on how to create the simplest 'Hello world!'  attachment. <br>  In settings.js: <br><br> <code>app.globals.sjcl = { <br> password: 'xxxx' <br> } <br></code> <br><br>  The password that must be entered in the "Login" field and click "Ok". <br>  In the backend, it will be available as: <b>application.globals.get ('sjcl.password')</b> <br>  Separately, I mention this: <br><br> <code>Public.handleInit = function(conversation) { <br> conversation.addMediaTypeByName('application/json') <br> } <br></code> <br><br>  Here we indicate the type of response our backend <br>  And in the functions <b>Public.handlePost</b> or <b>Public.handleGet we</b> create answers for Post or Get requests. <br>  You can start the application with the command: <code>sincerity start restlet</code> <br>  from the myprudence directory. <br><br>  By default, the application will start on port 8080 (http: // localhost: 8080 /).  Port and virtual host can be changed in the configuration files of the framework. <br><br><h5>  Windows </h5><br>  Since the framework is multiplatform, it is logical that it can work not only on nix.  For linux, you can download the deb or rpm sincerity package and install it on the system.  For windows, I would recommend downloading the zip archive and running the sincerity.bat file.  After the container has been created, all the files from the archive must be copied to the container folder and later started with the <code>sincerity.bat start restler</code> from there. <br><br>  That remarkable in prudence, than it differs from node.js - it is written on the <a href="http://threecrickets.com/prudence/">site</a> .  There is also documentation, code samples and API links. </div><p>Source: <a href="https://habr.com/ru/post/214765/">https://habr.com/ru/post/214765/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../214745/index.html">How can using randomness help make your code faster? Lecture of Michael Sluggish in Yandex</a></li>
<li><a href="../214755/index.html">Using DSP SB Live! for the benefit of radio amateurs (KX Driver's) - Part [1/2]</a></li>
<li><a href="../214759/index.html">We program robots on Windows 8. We control Sphero from a tablet using an accelerometer and a collision sensor</a></li>
<li><a href="../214761/index.html">Only developers of the 90s remember this.</a></li>
<li><a href="../214763/index.html">The story of Ruby on Windows Azure</a></li>
<li><a href="../214767/index.html">Conference DUMP-2014: Section "Analytics"</a></li>
<li><a href="../214769/index.html">Start problem</a></li>
<li><a href="../214771/index.html">BPM or ERP?</a></li>
<li><a href="../214775/index.html">Free HTML5 Font Editor</a></li>
<li><a href="../214777/index.html">Sochi 2014 mobile apps: how to show megabytes of results to users</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>