<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to install 1C Enterprise 8.2 (release 8.2.16.368 from 10/05/12) on CentOS 6.3 (article, HowTo)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Warning: There will be no detailed instructions! Only the sequence of actions, the necessary steps and guidance. This guide is for experienced Linux a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to install 1C Enterprise 8.2 (release 8.2.16.368 from 10/05/12) on CentOS 6.3 (article, HowTo)</h1><div class="post__text post__text-html js-mediator-article">  <i>Warning: There will be no detailed instructions!</i>  <i>Only the sequence of actions, the necessary steps and guidance.</i>  <i>This guide is for experienced Linux administrators only!</i> <br><br>  Examples of some of my configs <a href="">are attached ...</a> <br><br>  Note: this article is based on experiments with 32-bit CentOS 6.3 <i>(A 64-bit OS is required for the server. But it turned out that 64-bit CentOS was not installed on the hardware I could use for experiments.)</i> However, there is no difference for the installation method ( 32 vs 64bit) - it is only in the suffixes of the distribution files: either i686 (or i386) or x86_64 ... 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>Content:</b> <br><ul><li>  <a href="https://habr.com/ru/post/155735/">0) Prepare server hardware</a> </li><li>  <a href="https://habr.com/ru/post/155735/">1) Install the operating system (OS)</a> </li><li>  <a href="https://habr.com/ru/post/155735/">2) Configure the Network</a> </li><li>  <a href="https://habr.com/ru/post/155735/">3) Set up the package manager (yum)</a> </li><li>  <a href="https://habr.com/ru/post/155735/">4) Install additional software not related to the 1C system</a> </li><li>  <a href="https://habr.com/ru/post/155735/">5) Configure Samba Server</a> </li><li>  <a href="https://habr.com/ru/post/155735/">6) We get and prepare 1C: Enterprise distributions ... Where can I get everything from?</a> </li><li>  <a href="https://habr.com/ru/post/155735/">7) Building and Installing ‚ÄúPostgreSQL DBMS from 1C (Release 9.0.3-3.1C from 01/17/12)‚Äù on CentOS Linux (6.3)</a> </li><li>  <a href="https://habr.com/ru/post/155735/">8) Installing the ‚Äú1C: Enterprise 32bit server for RPM-based Linux systems (8.2.16.368)‚Äù on CentOS Linux (6.3)</a> </li><li>  <a href="https://habr.com/ru/post/155735/">9) Installation of security keys (1C licensing)</a> </li><li>  <a href="https://habr.com/ru/post/155735/">10) Next, install the client part - on another machine running Windows</a> </li><li>  <a href="https://habr.com/ru/post/155735/">Literature (used and additionally recommended)</a> </li></ul><br><br><a name="habracut"></a><br><hr><br><a name="chapter0"></a><br><h2>  0) Prepare server hardware </h2><br><br>  I will not give you specific recommendations on the choice of server hardware (what power is required), there is no personal experience.  See the official <a href="http://www.v8.1c.ru/predpriyatie/recomendations.htm">‚ÄúRecommendations for choosing equipment for working with 1C: Enterprise 8‚Äù</a> from v8.1c.ru and unofficial <a href="http://1c.xxi.kiev.ua/predprijatie80/requirements/">‚ÄúComputer requirements for working with the 1C: Enterprise 8 program‚Äù</a> from 1c.xxi.kiev.ua ... <br>  And I recommend taking iron with a power margin than the recommended one (because the growth of the needs of the enterprise; and because the 1C Platform is also constantly growing and optimizing, it means that more and more resources are consumed from release to release). <br><br>  In addition, in a nutshell, the following strategy is most beneficial: <br><ul><li>  Spread two servers (1C server and Postgres DBMS server) on two different machines - the capacity is doubled, and there is no need to buy extra licenses.  This is a cheap solution: Linux is free, and the cost of hardware is not counted (iron is always cheaper than licenses). </li><li>  Note: note that the "1C server cluster" is still very buggy.  Moreover, each additional separate machine under the ‚Äú1C Server in the cluster‚Äù - requires the purchase of a separate ‚ÄúServer License‚Äù!  Therefore, from all sides, under the "Server 1C" is most advantageous to use ONLY ONE MACHINE - buy under the server only one machine, with a fairly powerful iron, which is able to pull the entire load ... </li><li>  Install a hardware RAID10 in the DBMS server (the database files are backed up and the amount of disk space to grow as necessary). <br>  Moreover: In budget solutions, it is <a href="http://people.overclockers.ru/Dentarg/12812/Igry_s_RAID">enough to use a chipset RAID controller integrated into many modern motherboards</a> , rather than buying a separate and expensive Hardware RAID controller (which costs from $ 250).  Embedded chipset RAID controllers already have <a href="http://www.triatis.md/reviews_in.php%3Fid%3D66">wide functionality</a> ;  support the <a href="http://www.thg.ru/storage/raid_migration_level/onepage.html">necessary RAID modes (0, 1, 5, 10) and automated migration</a> between them, while preserving data. <br>  There is only one significant spoon of tar: <a href="http://www.linuxcenter.ru/lib/articles/hardware/DPT_Hardware_RAID_minihowto.phtml">poor support for hardware RAID controllers in Linux</a> .  And besides, the <a href="http://asplinux.net/node/3511">SATA-RAID chipset</a> built into the motherboard <a href="http://asplinux.net/node/3511">is not fully hardware</a> : data management takes place not at the level of the hardware itself, but at the BIOS microcode level through the OS driver - hence such concepts as ‚ÄúSATA-RAID drivers‚Äù (Intel Matrix Storage Driver), without which RAID is seen as separate disks - hence the problem of support ... <a href="http://citkit.ru/articles/524/">Under Linux - software RAID arrays are traditionally used</a> , the support of which has long been implemented and debugged! </li><li>  Of course, both servers will be raised on windows / linux 64bit OS (since they support a lot of RAM and more power).  A "1C server" to buy and install 32bit (because the "1C 64bit server" costs 2 times more, and the performance gain, all other things being equal, gives only 5% !!! informally, the <u>craftsmen tested</u> ...) </li></ul><br><br><hr><br><a name="chapter1"></a><br><h2>  1) Install the operating system (OS) </h2><br><br>  Install Linux CentOS 6.x (latest release), better 64bit. <br>  <i>Reasons for choosing a CentOS distribution: This is a Linux server distribution.</i>  <i>This is a free (free, ‚ÄúCommunity Edition‚Äù) distribution.</i>  <i>This is a distribution based on the RedHat core, which 1C declares as ‚Äúsupported‚Äù.</i> <br><br>  Images of the CentOS distribution are swaying <a href="http://www.centos.org/modules/tinycontent/index.php%3Fid%3D30">from here (from any of the mirrors)</a> . <br>  <i>It is more convenient to deflate iso, burn a dummy (DVDRW) and set it up.</i> <i><br></i>  <i>For installation, as a rule, it suffices to only the first disk of the two composable (on the second disk - any minor software).</i> <i><br></i>  <i>And then the installation distky are no longer needed - all the same, all the software needs to be updated and delivered via the Internet ...</i> <br><br>  Note: <b>The root user on the CentOS system is non-login</b> (must be)! <br>  All work in the CentOS system is ALWAYS performed from a regular user session, incl.  and install / configure the system.  And only for some actions, ‚Äúsuperuser‚Äù privileges are requested each time (something similar appeared in Windows7). <br>  Therefore, to edit configs, install packages and other ‚Äúadmin‚Äù actions ‚Äî by opening the console in a normal user session, we immediately execute the ‚Äúsu‚Äù command, which switches the current console to the ‚Äúsuperuser‚Äù mode (CentOS feature): <br><pre>	 bash # su
	 Password: &lt;enter root password&gt;
</pre><br>  This bash # console is then used for various privileged actions.  For example, you can run ‚Äúmc‚Äù and edit configs in / etc / ... <br><br><hr><br><a name="chapter2"></a><br><h2>  2) Configure the Network </h2><br><br>  Configure network adapters, hostname, gateway and DNS ... <br>  Connect to the Internet and update all the basic packages to the latest versions ... <br>  All further actions will be done only if there is an Internet connection, we believe that it is permanent! <br><br>  Network configuration is standard ... But there are <a href="http://www.alsigned.ru/%3Fp%3D1756">common Rakes that need to be circumvented</a> : <br><br><h3>  2a) </h3><br>  The first is that the name of our server should be resolved to an IP address without any problems. <br><br>  In the / etc / sysconfig / network file, we check the value of the hostname parameter (‚Äúcomputer name‚Äù of the north); if necessary, we change it so that the new parameters take effect to restart the system. <br><pre>	 bash # cat / etc / sysconfig / network
	 NETWORKING = yes
	 NETWORKING_IPV6 = no
	 HOSTNAME = delldev
	 GATEWAY = 192.168.10.2    
</pre><br>  <i>(The last line is the default gateway, it is optional to specify. If not specified, it will be taken from ifcfg configs or via DHCP ...)</i> <br><br>  The file / etc / hosts should not contain localhost.localdomian or IPv6-related records; if there is no DNS server, it should contain a clear correspondence between the IP address of the server and the FQDN name - the short name.  An example of the correct hosts file: <br><pre>	 bash # cat / etc / hosts
	 127.0.0.1 localhost delldev
</pre><br><br>  Check: Does the server ping itself?  Type in the console: <br><pre>	 bash # ping delldev
</pre><br><br><h3>  2b) </h3><br>  The second is that the firewall should not have rules prohibiting the interaction between the components of enterprise 1c. <br>  In most cases, the enterprise server 1c is located within the local network, so we can completely disable the firewall (at least for the time of commissioning): <br><pre>	 bash # chkconfig iptables off
	 bash # service iptables stop
</pre><br><br><h3>  2c) </h3><br>  Third, you must also disable the SELinux policy! <br><br>  The reasons: <br>  1) Previously, SELinux caused a Segmentation Fault error. <br>  2) With SELinux enabled, Samba balls do not work (remote users go into the balls, but they don‚Äôt see the files ... or they see the files, but they aren‚Äôt readable ... etc. bugs) <br>  3) In addition, the advantages of using SELinux on a high-load server located within the local network are extremely vague. <br><br>  How to disable: <br><pre>	 Editing config / etc / selinux / config
	 string SELINUX = enforcing
	 change to SELINUX = disabled
	 we overload the car ...
</pre><br><br><h3>  2d) </h3><br>  The Internet provider Ukrtelecom / Ukraine still has such a rake: buggy DNS servers - so you need to use auxiliary ones (better from Google) ... And maybe my DSL router turned out to be poorly compatible with Linux OS ... <br><br>  <b>Symptom:</b> when working with the Internet, rezolving each DNS name takes a very long time (several [tens] seconds of timeout), it works very badly ... <br>  <b>Solution:</b> Therefore, I did not automatically receive the DNS server via DHCP, but I statically registered the following addresses in the / etc / sysconfig / network-scripts / ifcfg-eth0 configuration in the adapter: 213.179.249.151, 213.179.249.152, 8.8.8.8, 8.8 .4.4 <i>(the first two are new Ukrtelekomovskys, the next two are from Google)</i> . <br><br><hr><br><a name="chapter3"></a><br><h2>  3) Set up the package manager (yum) </h2><br>  Note: for a detailed manual on using yum, see the article <a href="http://hrafn.me/articles/package-management-in-rhel6-yum/">‚ÄúPackage Management in RHEL6.</a>  <a href="http://hrafn.me/articles/package-management-in-rhel6-yum/">Yum "...</a> <br><br><h3>  3a) </h3><br>  <b>Configure software sources (repositories):</b> <br><br>  we include standard repositories (in the repository config we write enabled = 1, or install checkboxes through the graphic interface ...): <br>  CentOS-6 - Base <br>  CentOS-6 - Contrib <br>  CentOS-6 - Extras <br>  CentOS-6 - Plus <br>  CentOS-6 - Updates <br><br>  And we <a href="http://wiki.centos.org/AdditionalResources/Repositories">add / connect additional repositories</a> (without them it‚Äôs very sad, because the standard repositories contain mostly server software, and outdated, albeit super-smooth versions). <br><br>  Note: In most cases, to facilitate the connection of new repositories, the owners of the repositories have prepared RPM packages for automatic configuration - these packages need only to be downloaded and installed.  Moreover, choose the packages of the correct version: for the corresponding version of the repository and intended for the corresponding Linux release.  When this pseudo-package is installed, the necessary configs will be generated automatically, yum will be configured, etc. <br><br>  Recommendations: <br>  Use "cat / etc / redhat-release" to find out which you are using <i>(I have said: "CentOS release 6.3" - i.e. "el6")</i> <br>  Use "uname -a" to find your processor architecture <i>(it says: "i686 i386")</i> <br>  Use "rpm -ivh package-filename" to install the rpmforge-release package <i>(also works with URLs)</i> <br><br>  <b>RPMforge</b> <br>  Installation Instructions: <a href="http://repoforge.org/use/">repoforge.org</a> and <a href="http://wiki.centos.org/AdditionalResources/Repositories/RPMForge">wiki.centos.org</a> <br>  working installation example: su -c 'rpm -Uvh <a href="">packages.sw.be/rpmforge-release/rpmforge-release-0.5.2-2.el6.rf.i686.rpm</a> ' <br><br>  <b>EPEL</b> <br>  Installation Instructions: <a href="http://fedoraproject.org/wiki/EPEL/FAQ">fedoraproject.org</a> <br>  working installation example: su -c 'rpm -Uvh <a href="">download.fedoraproject.org/pub/epel/6/i386/epel-release-6-7.noarch.rpm</a> ' <br><br>  <b>ATrpms</b> <br>  Installation Instructions: <a href="http://atrpms.net/documentation/install/">atrpms.net</a> <br>  working installation example: su -c 'rpm -Uvh <a href="">dl.atrpms.net/all/atrpms-repo-6-5.el6.i686.rpm</a> ' <br><br><h3>  3b) </h3><br>  Concept: the <b>main thing is not to violate the functionality of the base system kernel</b> . <br>  Standard CentOS repositories (especially ‚ÄúCentOS-6 - Base‚Äù) are made up of specially trained people who ensure that at each time in the repository a slice of packages and libraries are compatible with each other.  <i>(CentOS is a server system, which is installed on the most expensive Production servers running in autoupdate mode. The glitch in the repository will break many servers, well, that is, admins will have a lot of crap and CentOS credit will be undermined ... This is not allowed.)</i> <br>  But if you play with the third left distributions, then they always have new (and unstable) versions of libraries appear earlier - they can be automatically installed into the system with auto-add, causing incompatibility for kernel services.  Poorly! <br><br>  In order for the most debugged software to be installed on the server, and of the additional repositories, only software that is missing in the base ones was installed (packages are untied by ‚Äúdependencies‚Äù) - you need to configure / use the priority system: <br><br>  To manage priorities, you need to <u>install additional plugins for yum</u> (it is useful to install all three): <br><ul><li>  yum-protect-packages (allows you to protect specified packages from deletion; by default, yum itself and its dependency chain are protected) </li><li>  <a href="http://wiki.centos.org/PackageManagement/Yum/ProtectBase">yum-plugin-protectbase</a> (allows you to protect packages from the specified repository from updating from unprotected repositories) - ITS EASIER TO CUSTOMIZE. </li><li>  <a href="http://wiki.centos.org/PackageManagement/Yum/Priorities">yum-plugin-priorities</a> (allows you to assign priorities to different repositories; packages from a repository with a lower priority value cannot be updated from a repository with a high priority value - this is another type of protection, more advanced and flexible) - IT IS BETTER! </li></ul><br>  <i>(Note: for yum there are many more interesting plugins, but these are the most necessary ...)</i> <br><br>  <u>Repository Settings yum</u> stores in: /etc/yum.repos.d/ <br>  Configs that can be edited are called: * .repo <br>  other service files - do not touch them. <br><br>  It is necessary to add to text configs (at least for all repositories with enabled = 1): lines with protect = ... and priority = ... <i>(note: the lower the priority value - the more important the repository)</i> <br><div class="spoiler">  <b class="spoiler_title">I recommend setting the following priority settings ...</b> <div class="spoiler_text"><pre> # == CentOS-Base.repo
 [base]
 enabled = 1
 protect = 1
 priority = 1<font></font>
<font></font>
 [updates]
 enabled = 1
 protect = 1
 priority = 1<font></font>
<font></font>
 [extras]
 enabled = 1
 protect = 1
 priority = 1<font></font>
<font></font>
 [centosplus]
 enabled = 1
 protect = 0
 priority = 2<font></font>
<font></font>
 [contrib]
 enabled = 1
 protect = 0
 priority = 2<font></font>
<font></font>
<font></font>
 # == CentOS-Media.repo
 [c6-media]
 enabled = 0 # This is actually a local repository on the installation disks.  In real work, it is not needed, because  Internet is being used - Disable this repository.
 protect = 0
 priority = 2<font></font>
<font></font>
<font></font>
 # == rpmforge.repo
 [rpmforge]
 enabled = 1
 protect = 0
 priority = 9<font></font>
<font></font>
 [rpmforge-extras]
 enabled = 0
 protect = 0
 priority = 9<font></font>
<font></font>
 [rpmforge-testing]
 enabled = 0
 protect = 0
 priority = 99<font></font>
<font></font>
<font></font>
 # == epel.repo
 [epel]
 enabled = 1
 protect = 0
 priority = 10<font></font>
<font></font>
 [epel-debuginfo]
 enabled = 0
 protect = 0
 priority = 10<font></font>
<font></font>
 [epel-source]
 enabled = 0
 protect = 0
 priority = 10<font></font>
<font></font>
<font></font>
 # == epel-testing.repo
 enabled = 0<font></font>
<font></font>
<font></font>
 # == atrpms.repo
 [atrpms]
 enabled = 1
 protect = 0
 priority = 11<font></font>
<font></font>
 [atrpms-debuginfo]
 enabled = 0
 protect = 0
 priority = 11<font></font>
<font></font>
 [atrpms-source]
 enabled = 0
 protect = 0
 priority = 11<font></font>
<font></font>
<font></font>
 # == atrpms-bleeding.repo
 enabled = 0<font></font>
<font></font>
<font></font>
 # == atrpms-testing.repo
 enabled = 0
</pre><br></div></div><br><br><h3>  3c) </h3><br>  I also recommend installing the graphical package to the package manager: Yum Extender (the binary is called yumex) - it is much more advanced than the standard GUI! <br><br><hr><br><a name="chapter4"></a><br><h2>  4) Install additional software not related to the 1C system </h2><br><br>  Now you can install (via the yum package manager management console, of course): <br>  ntfs support <br>  wine (emulator for running simple windows apps) <br>  and other useful local applications ... <br><br><hr><br><a name="chapter5"></a><br><h2>  5) Configure Samba Server </h2><br><br>  It is necessary to install (via yum) and configure the Samba server (‚Äúsmb‚Äù and ‚Äúnmb‚Äù services) - this is support for the Microsoft NetBIOS protocol under Linux, the so-called.  "Network"‚Ä¶ <br><br>  Moreover, I recommend that Samba be raised, even if you do not provide file balls on this server for other clients of the local network, so that this server appears in the ‚Äúnetwork environment‚Äù of all Windows clients and other servers on the network, scanned by the standard API, resolves its ‚Äúnetwork machine name "- so that you can refer to it somehow like \\ MyLinuxServer¬®.  For convenience, configure Samba so that the 1C Server is visible in your WORKGROUP ... <br><br><div class="spoiler">  <b class="spoiler_title">Note about: Do I need a Samba server for 1C: Enterprise operation or not?</b> <div class="spoiler_text">  1) Previously, for running 1C: Enterprise version 8.1, a Samba server was strictly necessary: ‚Äã‚Äãfor example, the ‚ÄúServer Administration‚Äù MMC snap-in, if the 1C server was under Linux, an analogue of ‚ÄúWindows File and Printer Access Service‚Äù was required - Samba ... But now <a href="http://habrahabr.ru/post/155735/">admins note that later versions of 1C: Enterprise 8.2 work fine without raising Samba on the server</a> .  <i>(Although I will note that then 1C client applications, including the Server Administration snap-in, have to access the 1C server only via IP. Or, you need to raise and configure the local DNS server accordingly to translate the IP server into the symbolic name of the computer .)</i> <br><br>  2) Unlike the ‚Äúfile Information Base‚Äù, which required a ‚Äúshared network folder‚Äù, it is no longer required in the client-server version of the samba ball ... However, the Samba-server remains useful!  <i>The main purpose of Samba in a client-server configuration is to easily and easily resolve a local network with a symbolic "server name" in its IP</i> , for all 1C client applications, without the need for a local DNS server - which <u>greatly simplifies network configuration and administration</u> , for small 1C -resolutions <br><br>  3) In addition, you need to understand that the 1C: Enterprise platform has always been sharpened for Windows (COM, RPC, NetBIOS) and its migration under Linux, to a cross-platform solution (TCP / IP, HTTP and to its own portable protocols), has recently begun.  So far, cross-platform solutions have much less available functionality than when deploying the system on the Windows platform.  And the 1C developers are still working on reworking 1C platform services for ‚Äúcross-platform protocols‚Äù (and there are many services in the package) ... And ‚Äú1C: Enterprise 8.x‚Äù is largely focused on working ‚Äúin the local network‚Äù (for example, their entire licensing policy on this is built) ... Therefore, there is still a lot of explicit and implicit use of the NetBIOS protocol by 1C services (which may be undocumented, but these are ordinary overlays for ‚Äúiterative development‚Äù) - and professional intuition tells me that <b>Samba is very desirable to raise</b> ! <br></div></div><br><br>  To configure Samba I advise: <br>  Create and configure ball folders like this: <br><pre>	 mkdir / home / samba
	 mkdir / home / samba / all other
	 ...
	 chown -R samba / home / samba
	 chgrp -R samba / home / samba
	 chmod -R a + rw / home / samba
</pre><br>  create non-user / group: samba / samba <br>  Assign this user a home folder: / home / samba <br><br>  Configuring Samba Service: <br>  Configs lie in / etc / samba / <br>  see man smb.conf <br>  see <a href="http://smb-conf.ru/">smb-conf.ru</a> <br>  For easy setup, see the article <a href="http://centos.moy.su/news/prostaja_ustanovka_i_konfiguracija_servera_samba_v_centos/2010-05-19-27">‚ÄúEasy installation and configuration of a SAMBA server on CentOS‚Äù ...</a> <br><br>  <b>Important:</b> In addition to the ‚Äúsmb‚Äù service (main), you should also ‚Äúenable‚Äù and ‚Äústart‚Äù the ‚Äúnmb‚Äù service (which is responsible for publishing the NetBIOS name of the computer on the local network - the Server will become visible in the Network Neighborhood): <br><pre>	 chkconfig --level 2345 smb on
	 chkconfig --level 2345 nmb on
	 service smb start
	 service nmb start
</pre><br>  <b>Tip: It‚Äôs</b> best to configure the operating mode of the Services through the GNOME / System / Administration / Services graphical tool ... <br><br><hr><br><a name="chapter6"></a><br><h2>  6) We get and prepare 1C: Enterprise distributions ... Where can I get everything from? </h2><br><br>  Pirate distributions of 1C (and cracks) can be downloaded from the exchangers (I don‚Äôt provide links, you can find on <a href="http://forum.ru-board.com/">forum.ru-board.com</a> in the ‚ÄúVareznik‚Äù section) ... <br><br>  So, the <b>‚Äú1C: Platform 8.2 release 8.2.16.368 dated 05.10.12‚Äù was</b> extracted / downloaded -&gt; we take ‚ÄúServer 1C: Enterprise (32bit) for RPM-based Linux systems‚Äù from it, the file <b>‚Äú8_2_16_368_rpm.tar.gz‚Äù</b> (169.07 MB) -&gt; after unpacking the archive, we get 8 RPM files of the distribution ... <br><br>  Ready-made assemblies ‚ÄúPostgreSQL from 1C release 9.0.3-3.1C from 01/17/12‚Äù will not work for us, they will not be installed according to dependencies (packages are built for CentOS 5.x, and not for 6.x.). <br>  We <u>need PostgreSQL source codes patched with 1C for self-assembly!</u>  From the distribution kit <b>‚ÄúPostgreSQL from 1C release 9.0.3-3.1C from 01/17/12‚Äù</b> -&gt; we take only the file ‚ÄúPG90331_Patch903.rar‚Äù -&gt; from the archive we take only the file <b>‚Äúpostgresql-9.0.3-3.1C.src.rpm‚Äù</b> <i>( This is an RPM package with PostgreSQL source code version 9.0.3, ALREADY INCLUDING ALL NECESSARY PATCHES to ensure compatibility with the 1C: Enterprise 8.1 and 1C: Enterprise server 8.2)</i> <br>  Note: In addition, the source codes for self-building PostgreSQL DBMS, supported by 1C: Enterprise 8, are the easiest to <a href="">download directly from off.site ...</a> <br><br>  Remarks: Which platform to choose? <br><ol><li>  1C server is: x64 and x86 </li><li>  1C client programs are: only x86, at the moment (I repeat: x64 is only 1C server) </li><li>  it is known that x86 programs can be installed on OS (this concerns not only 1C) </li><li>  1C client programs (thick and thin clients) work only under Windows! <br><div class="spoiler">  <b class="spoiler_title">Additional Information...</b> <div class="spoiler_text">  <a href="http://v8.1c.ru/requirements/">On the off site, v8.1c.ru</a> for ‚Äú1C: Enterprise Technology Platform‚Äù / ‚ÄúThin Client‚Äù and ‚ÄúFat Client‚Äù - the ability to work under Linux is not mentioned!  Although it is mentioned for the web client and for 1C Server ... <br><br>  In distributions of the 1C: Enterprise platform, 8.2 client applications for Linux - DON'T DETECTED (thus, only Web-clients are accessible from under Linux, which work in the browser's environment). <br><br>  In distributions of the 1C: Enterprise 8.3 platform (for the time being the test version), client applications for Linux (both 32bit and 64bit) are ALREADY PRESENT! <br><br>  <i>By the way, therefore, for the local installation of 1C (one user / one computer) - only the option under Win32 is available so far.</i> <br></div></div><br></li></ol><br><br><hr><br><a name="chapter7"></a><br><h2>  7) Building and Installing ‚ÄúPostgreSQL DBMS from 1C (Release 9.0.3-3.1C from 01/17/12)‚Äù on CentOS Linux (6.3) </h2><br><br>  First of all, in order to avoid conflicts in the system, you need to uninstall all other / previous versions of the PostgreSQL SERVER, if installed (check). <br><br>  <sub>Harmful advice: To avoid confusion due to software incompatibility, I also uninstalled the ‚Äúpostgresql-8.4.13‚Äù client (installed initially, from the standard CentOS 6.3 repository) ... Some packages (for example, ‚Äúpostgresql-libs-8.4.13‚Äù and etc.) now had to leave, because</sub>  <sub>Many other packages in the system depend on them - however, they can be uninstalled later, after installing PostgreSQL 9.0.3 (looking ahead, I managed it) ...</sub> <sub><br></sub>  <sub>However, it makes sense to leave these standard packages on the system (especially ‚Äúpostgresql-libs-8.4.13‚Äù) - in case you have to uninstall PostgreSQL 9.0.3 in the future.</sub>  <sub>Because now I have such a situation that all system packages now depend only on the package ‚Äúpostgresql-libs-9.0.3-3.1C‚Äù and the package manager does not allow to uninstall the last one without demolishing half the system (crash).</sub> <sub><br></sub> <br><br>  Unfortunately, in CentOS 6.3 basic repositories, i.e.  in the current system, there are not all the necessary libraries (dependencies) for using the ready-made PostgreSQL from 1C assembly.  In addition, it should be borne in mind that the 1C: Enterprise 8.2 server <a href="http://v8.1c.ru/overview/postgres_patches_notes.htm">requires PostgreSQL version not lower than 8.3.8</a> . <br><br><div class="spoiler">  <b class="spoiler_title">I tried different distros ...</b> <div class="spoiler_text">  PostgreSQL from 1C release 9.0.3-3.1C (latest available stable version, patched 1C) - not immediately installed due to missing dependencies, requires new versions of libraries (libcrypto.so.4, libssl.so.4, libreadline.so. 4, libtermcap.so.2). <br><br>  PostgreSQL from 1C 8.4.3-3.1C - not immediately installed due to missing dependencies, requires new versions of libraries (libcrypto.so.4, libssl.so.4, libreadline.so.4, libtermcap.so.2);  You also need to install the openldap package (libldap-2.2.so.7, libldap_r-2.2.so.7);  [and optionally, for additional clients, libraries are required: libpython2.3.so.1.0, libtcl8.4.so]. <br><br>  PostgreSQL from 1C release 8.3.3-2.1C - not immediately installed due to missing dependencies, requires new versions of libraries (libreadline.so.4, libtermcap.so.2);  [and optionally, for additional clients, libraries are required: libpython2.3.so.1.0, libtcl8.4.so].  In addition, the ‚Äúpostgresql-libs-8.3.3‚Äù installable package was a smaller version and conflicted with the ‚Äúpostgresql-libs-8.4.13‚Äù package already installed on the system (therefore, version 8.3.3 does not fit at all). <br></div></div><br><br>  So, the version ‚ÄúPostgreSQL from 1C release 9.0.3-3.1C‚Äù is best, but the collected RPM packages from the ‚ÄúPG90331_setuppln903.rar‚Äù distribution kit will not work for us: they will not be installed according to dependencies (there are packages for CentOS 5.x, but not for 6.x.) ... <br><br>  <sub>Wrong approach: Manually upgrade existing old libraries - this is hemorrhoid and dangerous (a lot of software depends on them from the basic and stable CentOS kernel)!</sub>  <sub>You could also insert crutches-hacks in the form of symbolic links (with the names of the required libraries, which refer to the existing versions), but this is really bad on the Production server ...</sub> <sub><br></sub> <br><br>  Therefore, in order not to violate the integrity of the CentOS kernel, <u>you need to rebuild PostgreSQL itself from source codes</u> , patching it with 1C patches (it will be based on our existing libraries).  Patched PostgreSQL sources are taken from the distribution package ‚ÄúPostgreSQL from 1C release 9.0.3-3.1C‚Äù -&gt; we need only the file ‚ÄúPG90331_Patch903.rar‚Äù -&gt; and from the archive we take only the file ‚Äúpostgresql-9.0.3-3.1C.src.rpm "... or download this file directly from the offsite ... <br><br><h3>  7a) </h3><br>  <i>Note: I am not experienced in building from source, so the slightly modified recipe from <a href="http://www.alsigned.ru/%3Fp%3D1756">the Admin Maniac blog on alsigned.ru</a> (respect author) <a href="http://www.alsigned.ru/%3Fp%3D1756">follows</a> .</i> <br><br>  <u>Installation must be performed as root user ...</u> <br><br>  Before PostgreSQL, you need to install (or make sure that you already have installed) <a href="http://icu.sourceforge.net/">the ICU library</a> - it is necessary for PostgreSQL version 1C to work.  You can install manually from the RPM package (but not needed) ... Or using yum, from the standard repository (which is better): <br><pre>	 yum install icu libicu libicu-devel
</pre><br><br>  We also install the packages required for compilation and assembly: <br><pre>	 yum install rpm-build wget glibc-devel bison flex readline-devel zlib-devel openssl-devel pam-devel gettext gcc make 
</pre><br><br><h3>  7b) </h3><br>  Download the PostgreSQL 9.0.3 source from the 1c site: <br><pre>	 wget http://v8.1c.ru/overview/postgresql_patches/9-0-3/postgresql-9.0.3-3.1C.src.rpm
</pre><br>  and install the source package (different folders will be created in the system and the source files scattered over them): <br><pre>	 rpm -ihv postgresql-9.0.3-3.1C.src.rpm
</pre><br><br>  We open for editing the file / usr / lib / rpm / macros and change the level of matching _default_patch_fuzz to 2 in it: <br><pre>	 % _default_patch_fuzz 2
</pre><br>  <i>Note: Previously, similar actions had to be done only on Fedora 12 and higher, when building software that does not support the processing of new files with scripts, and starting from version 6, new scripts came to CentOS.</i> <br><br>  Create symbolic links to libicu libraries: <br><pre>	 ln -s /usr/lib/libicui18n.so /usr/local/lib/libicui18n.so.46
	 ln -s /usr/lib/libicudata.so /usr/local/lib/libicudata.so.46
	 ln -s /usr/lib/libicuuc.so /usr/local/lib/libicuuc.so.46
</pre><br><br>  Moving on to building PostgreSQL: <br><pre>	 rpmbuild -bb --define 'runselftest 0' ~ / rpmbuild / SPECS / postgresql-9.0-1C.spec
</pre><br>  <i>Note: By setting the ‚Äúrunselftest 0‚Äù parameter, we refuse to initialize the test base and test PosgreSQL to work during the build process, in order for the test to succeed it must be run from under a restricted user, otherwise the build process will be stopped.</i> <br><br>  The build process will take some time ... <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Finally, let's review the list of collected RPM packages (since I have a Linux OS 32-bit, then the PostgreSQL packages were also assembled in the 32-bit version): </font></font><br><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">	bash # ls -1 ~ / rpmbuild / RPMS / i686</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
	postgresql-9.0.3-3.1C.i686.rpm</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
	postgresql-contrib-9.0.3-3.1C.i686.rpm</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
	postgresql-debuginfo-9.0.3-3.1C.i686.rpm</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
	postgresql-devel-9.0.3-3.1C.i686.rpm</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
	postgresql-docs-9.0.3-3.1C.i686.rpm</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
	postgresql-libs-9.0.3-3.1C.i686.rpm</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
	postgresql-server-9.0.3-3.1C.i686.rpm</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
	postgresql-test-9.0.3-3.1C.i686.rpm</font></font><font></font>
</pre><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 7c) </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Installing the PostgreSQL patched DBMS server from 1C: </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It is not necessary to install all the packages ... Four is enough for PostgreSQL to work properly: postgresql-libs, postgresql, postgresql-server, postgresql-contrib. </font><font style="vertical-align: inherit;">Go to the / root / rpmbuild / RPMS / i686 directory (on a 64-bit OS, go to / root / rpmbuild / RPMS / x86_64) and install the packages ... </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">the package installation procedure is as follows:</font></font><br><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">	postgresql-libs-9.0.3-3.1C.i686.rpm</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
	postgresql-9.0.3-3.1C.i686.rpm</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
	postgresql-server-9.0.3-3.1C.i686.rpm</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
	postgresql-contrib-9.0.3-3.1C.i686.rpm</font></font><font></font>
</pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Optional but useful (for developers) then install the following packages: </font></font><br><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">	postgresql-docs-9.0.3-3.1C.i686.rpm</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
	postgresql-devel-9.0.3-3.1C.i686.rpm</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
	postgresql-debuginfo-9.0.3-3.1C.i686.rpm</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
	postgresql-test-9.0.3-3.1C.i686.rpm</font></font><font></font>
</pre><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">But in order not to bother with the order of installation, it is better to install all the packages in a crowd (yum will deal with dependencies): </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rpm -ihv postgresql-9.0.3-3.1C.i686.rpm postgresql-contrib-9.0.3-3.1C.i686.rpm postgresql-debuginfo-9.0.3-3.1C.i686.rpm postgresql-devel-9.0.3-3.1C.i686.rpm postgresql-docs-9.0.3-3.1C.i686.rpm postgresql-libs-9.0.3- 3.1C.i686.rpm postgresql-server-9.0.3-3.1C.i686.rpm postgresql-test-9.0.3-3.1C.i686.rpm </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rake:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> when installing the postgresql-contrib-9.0.3-3.1C package .i686.rpm ‚Äùerror occurs?</font></font><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">error: unpacking archive failed on file /usr/pgsql/lib/libicudata.so.46;4e9327cc: cpio: Digest mismatch </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">error: postgresql-contrib-9.0.3-3.1C.i686: install failed</font></font><br></blockquote><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Solution:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Run rpm without checking digest and md5</font></font><br><pre>	rpm --nodigest --nomd5 -ihv postgresql-contrib-9.0.3-3.1C.i686.rpm
</pre><br><br> <u>        root.</u> <br><br> <i>       ¬´postgres¬ª,              (       ). <br>    /etc/init.d/postgresql     . <br>      PostgreSQL 9.0.3   /usr/pgsql/bin/‚Ä¶ <br></i> <br><br><h3> 7d) </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We initialize the PostgreSQL database cluster (this is the name of the directory, usually / var / lib / pgsql / data, which stores data for all databases of this PostgreSQL DBMS installation): </font></font><br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Note: in previous versions of Postgres, it was a trick that we just started the database server and it when you first start without detecting the directory with the database files - he initiated initdb ... But now it does not work -</font></font></i> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> you need to run initdb explicitly and with the correct parameters. </font><font style="vertical-align: inherit;">At the same time, you need to explicitly specify the system user in whose session the DBMS server is started (using the ‚Äúsu postgres‚Äù command). </font><font style="vertical-align: inherit;">We also explicitly indicate the locale in which the server is running (locale = en_RU.UTF-8).</font></font><br><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">	bash # su postgres -c '/ usr / pgsql / bin / initdb -D / var / lib / pgsql / data --locale = ru_RU.UTF-8'
</font></font></pre><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> When executing this command, its console output will confirm the specified parameters (the text will appear in the console): </font></font><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The files accompanying this database system will be owned by the ‚Äúpostgres‚Äù user. </font><font style="vertical-align: inherit;">This user must also own the server process. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The database cluster will be initialized with the ru_RU.UTF-8 locale. </font><font style="vertical-align: inherit;">The base encoding is set to UTF8 by default. </font><font style="vertical-align: inherit;">The full-text search configuration is set to ‚Äúrussian‚Äù by default.</font></font><br></blockquote><br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As a result, a database will be created, located in the / var / lib / pgsql / data directory (note: here are PostgreSQL server configs). </font></font></i> <br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rakes:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> If during the initialization of the database cluster an error occurs?</font></font><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FATAL: this could not create a shared memory segment ... </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HINT: This error usually means that it would be the SHMMAX parameter. </font><font style="vertical-align: inherit;">You can either reduce the size of the kernel with larger SHMMAX. </font><font style="vertical-align: inherit;">To reduce the request size (currently 35233792 bytes), reduce PostgreSQL's shared_buffers parameter (currently 3584) and / or its max_connections parameter (currently 104).</font></font><br></blockquote><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Solution:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> It is necessary to increase the value of the kernel.shmmax parameter. To do this, add the following line to the /etc/sysctl.conf file:</font></font><br><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">	kernel.shmmax = 40000000
</font></font></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Then we update the sysctl parameters with the following command: </font></font><br><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">	bash # sysctl -p
</font></font></pre><br> <i>:      32- ‚Ä¶     CentOS 6.3 32bit     ‚Äî     kernel.shmmax = 4294967295 <br></i> <br><br><h3> 7e) </h3><br>   PostgreSQL: <br><br>       PostgreSQL: <br><pre>	bash# chkconfig postgresql on<font></font>
	bash# service postgresql start<font></font>
</pre><br><br>      PostgreSQL 9.0.3   /usr/pgsql/bin/‚Ä¶      ,       (      PostgreSQL): <br><pre>	ln -s /usr/pgsql/bin/psql /usr/local/bin/psql
	 and etc.
</pre><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">When PostgreSQL is first run, to control access privileges to database entities, the DBMS creates an account of the superuser ‚Äúpostgres‚Äù with the password ‚Äúpostgres‚Äù (do not confuse it with the account of the Linux OS). </font><font style="vertical-align: inherit;">The first thing to do is change the standard password ... Set the password for the superuser of the ‚Äúpostgres‚Äù DBMS with the command:</font></font><br><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">	bash # psql -U postgres -c "ALTER USER postgres PASSWORD 'newpassword'"
</font></font></pre><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Note: now this password will be used when connecting clients to the DBMS: login = "postgres" password = "newpassword".</font></font></i> <br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 7f) </font></font></h3><br>   PostgreSQL    ¬´ 1: ¬ª ( ): <br> . <a href="http://1clinux.org/index.php%3Ftopic%3D447.0">    ...</a> <br><br>   /var/lib/pgsql/data/postgresql.conf ‚Äî  .    (      ,    ): <br><pre>	default_with_oid = on
</pre><br><br>  ,   PostgreSQL 9.0.3 ‚Ä¶     ¬´   (Automatic Vacuuming)¬ª   (    ,       ¬´ ¬ª   ,     ) ‚Äî    : <br><pre>	track_counts = on<font></font>
	autovacuum = on<font></font>
</pre><br> <i>:       ¬´stats_row_level¬ª‚Ä¶   PostgreSQL 9.0.3         ¬´track_counts¬ª.</i> <br><br>   /var/lib/pgsql/data/pg_hba.conf       (..     PostgreSQL-)‚Ä¶ ,          (  ¬´      ,     md5¬ª): <br><pre>	host all all 0.0.0.0/0 md5
</pre><br> <i>:      ¬´md5¬ª  ¬´trust¬ª,       ! (  /   )   ,   -     localhost:   ...</i> <br><br> <i>:       .   ,     1  ‚Äî  ,   ,      localhost (   ¬´  1¬ª,   )...</i> <br><br> ,   PostgreSQL: <br><pre>	/etc/init.d/postgresql restart
</pre><br><br><hr><br><a name="chapter8"></a><br><h2> 8)  ¬´ 1:  32bit  RPM-based Linux- (8.2.16.368)¬ª   CentOS (6.3) </h2><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> The distribution of the server part of 1C: Enterprise 8 for Linux is presented in the form of several rpm packages: </font></font><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 1C_Enterprise-common - common components of 1C: Enterprise 8; </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 1C_Enterprise-server - 1C: Enterprise 8 server components; </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 1C_Enterprise-ws - adapter for publishing Web services 1C: Enterprise 8 on a web server based on Apache HTTP Server 2.0 or Apache HTTP Server 2.2; </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 1C-Enterprise-crs ‚Äî 1C: Enterprise 8 configuration storage server components. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Packages containing the suffix "-nls" in the title are additional national resources for the corresponding package. </font></font></li></ul><br>  1C_Enterprise-server  1C_Enterprise-ws     . ,         ,     (.. ¬´ 1¬ª  ¬´Web-¬ª     ,     ,   ¬´ 1¬ª)‚Ä¶ <br><br><a name="note20140115"></a><div class="spoiler"> <b class="spoiler_title">  2014.01.15: ,    ¬´1C_Enterprise-ws¬ª -    ¬´1C_Enterprise-server¬ª,    ...</b> <div class="spoiler_text">   <a href="https://habrahabr.ru/users/tern222/" class="user_link">Tern222</a> , ,    ¬´1C_Enterprise-ws¬ª -    ¬´1C_Enterprise-server¬ª! (,       .)  ,   ¬´1C web-server  Linux¬ª     . ,     Web-‚Ä¶ <br><blockquote>    ¬´ ¬ª .    ¬´¬ª ,     ,  : ¬´Error loading component pack¬ª.     ‚Äî  .   :    ‚Ä¶ <br> ,    ¬´web-¬ª,      ¬´ 1¬ª   ,  . </blockquote><br></div></div><br><br> <u>      root...</u> <br><br>         (   ,     ,    ) ‚Äî    : <br><pre>	rpm -ihv 1C_Enterprise82-common-8.2.16-368.i386.rpm<font></font>
	rpm -ihv 1C_Enterprise82-common-nls-8.2.16-368.i386.rpm<font></font>
	rpm -ihv 1C_Enterprise82-server-8.2.16-368.i386.rpm<font></font>
	rpm -ihv 1C_Enterprise82-server-nls-8.2.16-368.i386.rpm<font></font>
	rpm -ihv 1C_Enterprise82-ws-8.2.16-368.i386.rpm<font></font>
	rpm -ihv 1C_Enterprise82-ws-nls-8.2.16-368.i386.rpm<font></font>
	rpm -ihv 1C_Enterprise82-crs-8.2.16-368.i386.rpm<font></font>
	rpm -ihv 1C_Enterprise82-crs-nls-8.2.16-368.i386.rpm<font></font>
</pre><br><br>       : <br><pre>	/etc/rc.d/init.d/srv1cv82 stop<font></font>
	/opt/1C/v8.2/i386/ragent -daemon<font></font>
	/etc/rc.d/init.d/srv1cv82 restart<font></font>
</pre><br><br> <u>        root.</u> <br><br> <i>     1C:  8       usr1cv82,         1:  8.</i> <br><br><h3> 8a) </h3><br>     ,           1 v8.2    ,   . (            1 v8.2   ,   ,  1  - .) <br><pre>	/opt/1C/v8.2/i386/utils/config_server
</pre><br><br>     ¬´config_server¬ª:  <a href="http://nefrit.arvixe.ru/page/oshibka-inicializacii-graficheskoj-podsistemy-v-1s-v82">nefrit.arvixe.ru</a>  <a href="http://blog.unixstyle.ru/index.php%3F/archives/106-1-v8.2.html">blog.unixstyle.ru</a> ‚Ä¶ <br><br>       ¬´config_server¬ª    <i>(        ‚Äî )</i> : <br><br> <u>      root...</u> <br><br> 1)     ¬´config_server¬ª ‚Äî   : ¬´Can not detect font directory, please specify it!¬ª <br> <b>:</b>   TTF-   <a href="http://linewb.ru/faq/kak_ustanovit_shrifty_microsoft_true_type_na_linux/12-0-54">linewb.ru FAQ</a>  <a href="http://corefonts.sourceforge.net/"> corefonts.sourceforge.net</a> . <br> <i>:   ~/rpmbuild/      (   ,    PostgreSQL).</i> <br>  ,   ,    : <br><pre>	yum install rpm-build cabextract<font></font>
	wget http://corefonts.sourceforge.net/msttcorefonts-2.5-1.spec<font></font>
	rpmbuild -bb msttcorefonts-2.5-1.spec<font></font>
	rpm -ivh ~/rpmbuild/RPMS/noarch/msttcorefonts-2.5-1.noarch.rpm<font></font>
</pre><br><br> 2)    ¬´config_server¬ª ‚Äî   : ¬´No truetype conversion utility found! Please install ttf2afm or ttf2pt1!¬ª <br> <b>:</b>   ttf2pt1 (   EPEL): <br><pre>	yum install ttf2pt1
</pre><br><br> 3)     ¬´config_server¬ª ‚Äî c      :      ‚Ä¶ <br><br> ,   ¬´ 1¬ª (   ): <br><pre>	/etc/init.d/srv1cv82 restart
</pre><br><br> <u>        root.</u> <br><br><h3> 8b) </h3><br> ,  ¬´ 1¬ª    ! <br>     ¬´ 1¬ª  MMC- ¬´  1:  8.2¬ª   ¬´ ¬ª .   ‚Ä¶ <br><br> <i>: MMC-    ¬´  1:  8.2¬ª ‚Äî   ,     Windows. (   ¬´1:  8.3¬ª ,        ...)</i> <br><br><h3> 8c) </h3><br>   web- 1   Apache: <br><br> :      Apache,     -,   ¬´ 1¬ª.        Apache ‚Äî      ¬´Task: Install Apache/httpd under Fedora Core/Cent OS Linux¬ª  <a href="httpd/">¬´How to install and start the Apache or httpd service under Linux¬ª</a> : <br><pre>	yum install httpd
	 chkconfig httpd on<font></font>
	/etc/init.d/httpd start<font></font>
</pre><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Further, we act as it is said in section ‚Äú2. </font><font style="vertical-align: inherit;">Publishing a web-client ‚Äùof the article </font></font><a href="http://www.alsigned.ru/%3Fp%3D416"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚Äú Installing a 1C web-client on Apache ‚Äù...</font></font></a> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Suppose you have an information base called‚Äú test1c ‚Äùon the‚Äú 1C Server ‚Äù </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(in fact, it will be created later, after cluster initialization and creating a database in postgreSQL ... but the publication can be performed speculatively now, because in fact we will not turn to the IB, we just fix the Apache configs and create a stub on the web server, some folders / files). </font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The publication procedure is very simple and automated (each step is described in detail in the above article, so I don‚Äôt repeat here) - the following commands should be executed:</font></font><br><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">	cd /opt/1c/v8.2/i386</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
	./webinst -apache22 -wsdir test1c -dir '/ var / www / html / test1c /' -connStr 'Srvr = "delldev"; Ref = "test1c"' -confPath /etc/httpd/conf/httpd.conf</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
	chown apache: apache /var/www/html/test1c/default.vrd</font></font><font></font>
	 chkconfig httpd on
	 service httpd start
</pre><br>  Everything, the information base "test1c" is published!  When you fully configure the ‚Äú1C server cluster‚Äù and information database, you can connect to it through a browser by entering the address http: // delldev / test1c <i>(where delldev is the host name running CentOS, with ‚Äú1C Server‚Äù and ‚Äúweb server‚Äù Apache ‚Äù, which we are now setting up) ...</i> <br><br>  <i>Remember: for the web client to work, it is also necessary: ‚Äã‚Äãto the host on which the 1C Server or Apache Web Server is running (in this case it is one), connect the Network Client Access Licenses package (the protection key can be connected locally or configure access to the "license manager");</i>  <i>and include in the "Properties" of the Information Base the item "Issue licenses by the application server" (configured using the Server Administration snap-in).</i> <br><br><h3>  8d) </h3><br>  Additionally: you should know <a href="http://www.kraeg.ru/content/vklyuchenie-tekhnologicheskogo-zhurnala-v-1s">how to enable the "Technology log"</a> (aka "logs", aka "log") ... <br><br>  By default, the logs are disabled because they grow quickly and take up a lot of disk space (in case of errors, along with the ‚Äúlogs‚Äù, ‚Äúdumps‚Äù are also created).  Include logs only if you really need to track down some problem. <br><br><h3>  8e) </h3><br>  In addition: if you suddenly need ... to remove the "1C Server", you should follow these steps: <br><br>  Before deleting, you must shut down the server cluster: <br><pre>	 /etc/rc.d/init.d/srv1cv82 stop 
</pre><br>  Then, remove the packages in the reverse order of installation so that the dependent package is removed before the package on which it depends: <br><pre>	 rpm -e 1C_Enterprise82-crs-nls-8.2.16-368.i386.rpm
	 rpm -e 1C_Enterprise82-crs-8.2.16-368.i386.rpm
	 rpm -e 1C_Enterprise82-ws-nls-8.2.16-368.i386.rpm
	 rpm -e 1C_Enterprise82-ws-8.2.16-368.i386.rpm
	 rpm -e 1C_Enterprise82-server-nls-8.2.16-368.i386.rpm
	 rpm -e 1C_Enterprise82-server-8.2.16-368.i386.rpm
	 rpm -e 1C_Enterprise82-common-nls-8.2.16-368.i386.rpm
	 rpm -e 1C_Enterprise82-common-8.2.16-368.i386.rpm
</pre><br><br>  Or you can also remove all rpm-packages with one universal command, which will remove all installed packages that start with the prefix ‚Äú1C_‚Äù and the dependencies will be tracked automatically: <br><pre>	 rpm ‚Äîe`rpm ‚Äîqa | grep 1C_` 
</pre><br><br><hr><br><a name="chapter9"></a><br><h2>  9) Installation of security keys (1C licensing) </h2><br><br>  Connect the keys to the "1C Server" - easy.  You need to download the driver from the key manufacturer‚Äôs website, unpack it and perform the installation with a double click ... <br><br>  Driver Selection Tips - <a href="http://forum.alsigned.ru/viewtopic.php%3Ff%3D5%26t%3D165">Etersoft</a> drivers are <a href="http://forum.alsigned.ru/viewtopic.php%3Ff%3D5%26t%3D165">recommended to use ...</a> <br>  Key drivers and license manager for Linux and WINE @ Etersoft, compiled for all systems - <a href="http://wiki.etersoft.ru/HASP">available here ...</a> <br>  Specifically, under Linux CentOS 6 - <a href="http://download.etersoft.ru/pub/Etersoft/HASP/last/CentOS/6/">drivers download from here ...</a> <br><br>  Installing the HASP driver from Etersoft, with a built-in "license manager": <br><pre>	 rpm -ihv haspd-3.3-eter4scientific.i586.rpm haspd-modules-3.3-eter4scientific.i586.rpm
</pre><br><br>  Next, you need to insert two hardware keys into the USB port of this server: ‚Äúkey to 1C: Enterprise server‚Äù and ‚Äúkey to X network user licenses‚Äù (all keys in one physical ‚Äúflash drive‚Äù).  And everything should earn: customers will receive client licenses through the server ... <br><br>  <i>Note: Keys are needed only for the ‚Äú1C: Enterprise Application Server‚Äù and for the ‚Äú1C Secure Client Applications‚Äù.</i>  <i>there are no problems with PostgreSQL DBMS - it opensource and does not require any licenses or keys (unlike the MS SQL Server DBMS, but we do not use it).</i> <i><br><br></i>  <i>Note: Some versions of 1C worked without keys (beta) ...</i> <br><br>  <b>Attention:</b> Unlicensed "1C Server" (i.e., even without a "server key") normally works with a small number of client connections (up to ~ 12 connections).  This is probably done to facilitate administrative tasks: initial configuration and monitoring in case of problems ... But if this administrative limit is exceeded - the Server starts to reject new connections and demand a key. <br><div class="spoiler">  <b class="spoiler_title">According to the results of the experiment ...</b> <div class="spoiler_text">  I have the exact number of allowable connections = 13, of which 1-3 connections, at different times, can be captured by some external services of 1C itself (they periodically start automatically, do something of their own and turn off). <br><br>  The list of current connections can be seen through the Server Administration snap-in: <br><ul><li>  "... / Work servers / Work processes / Connections" - connections to the server as a whole </li><li>  "... / Information bases / test1c (name of IB) / Connections" - connections to a specific IB (there may be fewer than to the server as a whole) </li></ul><br></div></div><br>  <i>Note: however, ‚Äúclient keys‚Äù (local or network) are required for ‚Äú1C secure client applications,‚Äù in any case ‚Äî that for the first connection to the server, which for the hundredth!</i> <br><br><div class="spoiler">  <b class="spoiler_title">Additional information on using keys ...</b> <div class="spoiler_text"><h4>  What are the keys? </h4><br><br>  <b>1) By assignment</b> , 1C keys are of three types: <br><br><ol><li>  <u>Local single-user client keys</u> - must necessarily be physically connected to the computer on which the 1C client runs (one per computer).  ‚ÄúHASP HL ‚Äã‚ÄãBasic‚Äù key model (blue), this key is labeled ‚ÄúH4 M1 ORGL8‚Äù, does not have a built-in memory and personal ID, does not store any parameters and settings.  Usually comes with products licensed for one workplace ... </li><li>  <u>Network multiuser client keys</u> - are distributed from one computer to many remote network clients via the License Manager service.  Model key "HASP HL ‚Äã‚ÄãNet" (red).  They have internal memory, which stores the number of licenses, and a unique ID.  There are variations for 5, 10, 20, 50 and 100 users.  It has the label "NETXX ORGL8", where XX is the number of licenses (for example, NET5 ORGL8). </li><li>  <u>[Local] Server keys</u> - must be physically connected locally to the computer where the 1C: Enterprise agent server is installed and running.  (I will stress: The keys for the 1C: Enterprise server are only local!) <br><ul><li>  The 32-bit version of the server has the ‚ÄúHASP HL ‚Äã‚ÄãPro‚Äù security key (purple), which has internal memory and a unique ID.  It has the label ENSR8, comes with a license for the server 1C: Enterprise. </li><li>  For a 64-bit server, the ‚ÄúHASP HL ‚Äã‚ÄãMax‚Äù key (green) is used, with internal memory and a unique ID.  It has an EN8SA label and also supports a 32-bit server (i.e., having a license for a 64-bit server, you can, without changing the key, use the 32-bit version, but not vice versa). </li></ul><br></li></ol><br>  Details here: <br>  <a href="http://www.online-ufa.ru/content/articles/marking_security_keys_1c/">www.online-ufa.ru/content/articles/marking_security_keys_1c</a> <br>  <a href="http://interface31.ru/tech_it/2010/02/klyuchi-zashhity-1s-predpriyatie-81.html">interface31.ru/tech_it/2010/02/klyuchi-zashhity-1s-predpriyatie-81.html</a> <br>  <a href="http://www.k-max.name/windows/ne-obnaruzhen-klyuch-zashhity-programmy-v-1spredpriyatie-8-ili-likbez-zashhity-1s/">www.k-max.name/windows/ne-obnaruzhen-klyuch-zashhity-programmy-v-1spredpriyatie-8-ili-likbez-zashhity-1s</a> <br><br>  <b>2) By design</b> , both server and client keys are implemented as: <br><br><ol><li>  ‚ÄúHardware keys‚Äù (physical devices are inserted into the USB port like flash drives) - they are easier to use and they are the most understandable / tested in practice. </li><li>  ‚ÄúSoftware keys‚Äù (as a serial; they are activated with reference to a specific hardware via the Internet / telephone; they need to be re-activated every time WITH ANY change in hardware configuration: for example, if the memory level has changed) - <a href="http://forum.ixbt.com/topic.cgi%3Fid%3D96:1019">many questions arise with their use ...</a> </li></ol><br><br>  Notes: <br><ul><li>  The name HASP itself (from the English. Hardware Against Software Piracy) is a multiplatform hardware-software system for protecting programs and data from unauthorized use and unauthorized distribution ... </li><li>  Many drivers support Protection HARDWARE KEYS (USB, LPT) - they are easier and safer to deal with, they are more universal. </li><li>  But there is also information that some drivers also support SOFTWARE LICENSES (which is convenient when working with 1C: Enterprise in a virtualized environment like Hyper-V).  But such solutions are much smaller number.  And is there a driver implementation for your Linux?  - one more question... </li><li>  Hardware keys and software licenses can be shared ... </li></ul><br><br>  Read more here: <a href="http://www.gilev.ru/1c/hasp/">www.gilev.ru/1c/hasp</a> <br><br>  <b>3) The license policy of 1C is</b> muddy ... Moreover, there are two licensing models: ‚Äúthe old one that is used in version 8.1‚Äù and ‚Äúthe new one that came in connection with the release of version 8.2‚Äù (because in version 8.2 new unusual features appeared: ‚Äúthin client‚Äù and "Web-client", all the logic of which is implemented on the server. Moreover, the "Web-client" does not have the technical ability to connect LOCAL HASP key, because it works in the environment of a web browser - you need a new licensing model ...) <br><ul><li>  For users working with a thick or thin client, the licensing model used in version 8.1 can be used.  The license gives the right to run an unlimited number of sessions on a specific user's computer.  In this case, the hardware protection key must be installed in the user's computer or accessible to this computer over the local network. </li><li>  For users working with thin, thick, and web clients in client-server mode or through a web server, a new licensing model can be applied.  The license gives the right to start one session.  The hardware security key must be installed in the server or web server computer or accessible to this computer over a local network. </li></ul><br><br>  Source: <a href="http://nefrit.arvixe.ru/page/utochnenie-licenzionnoj-politiki-dlja-1spredprijatija-82">nefrit.arvixe.ru/page/utochnenie-licenzionnoj-politiki-dlja-1spredprijatija-82</a> <br><br><h4>  What keys are supported by the Etersoft driver? </h4><br><br>  Etersoft driver supported security keys: <br><pre>     HASP 3 / HASP 4 / HASP HL ‚Äã‚Äãfrom Aladdin (HASP SRM is not yet supported)
     Smartkey 3 from Eutron
     SafeNet and UltraPro / SuperPro from Sentinel
     SenseLock (USB)
     Katran (USB and LPT)
     Guardant Stealth / Net II USB, Stealth / Net III USB, Stealth III Sign / Time USB HID from Active
</pre><br>  For details, see the <a href="http://kb.etersoft.ru/Support_key">full list of supported keys ...</a> <br><br>  <i>The question that has not yet been clarified: Does the Etersoft driver support ‚Äúsoftware licenses‚Äù for Linux (and if so, how are they activated?) Or only ‚Äúhardware keys (USB)‚Äù?</i> <br><br>  <i>The question that has not yet been clarified: How many keys simultaneously connected locally to the computer are recognized by the driver from Etersoft under Linux?</i> <br><ul><li>  I will clarify: it is guaranteed that you can connect one ‚Äúserver key‚Äù to one computer, and one ‚Äúclient key‚Äù (for 5, 10, 20, 50, 100 users) - both will pick up and work normally.  But if you connect two or more ‚Äúclient keys‚Äù at the same time (for example, for 5 + for 20 users), only one of them will be seen, and by chance which one. </li><li>  There is a well-known feature of ‚ÄúHASP drivers for Windows‚Äù: it recognizes / picks up only one key from the set connected to the computer (At least, it does not exactly support several keys of one series! And several keys of different series can also be indexed, depending on the implementation / driver versions ... Moreover, it does not pick up on such a system: either it picks up any key completely by accident, ignoring the rest, or it picks up only the key in the USB port with the minor number or in the LPT port the closest.) </li><li>  How is this with "drivers from Etersoft under Linux"?  It seems that also - since it is a feature of the technology, and is regulated in most manuals ... </li></ul><br><br>  <i>According to the results of the experiment: the driver from Etersoft also has a built-in service "HASP License Manager".</i>  <i>The Aladdin NetHASP Monitor utility sees the HASP License Manager service on a Linux host with a 1C: Enterprise server.</i>  <i>But I still could not test the real work of the service (distribution of network client keys) (there are no official keys) ...</i> <br><br><h4>  Documentation / Questions on installing / configuring the driver from Etersoft </h4><br><br>  About installing and using HARDWARE KEYS protection in Linux, with the driver from Etersoft - read here: <br><ul><li>  <a href="http://etersoft.ru/products/wine/manual">Product Documentation WINE @ Etersoft / Using hardware security keys in Linux ...</a> </li><li>  <a href="http://kb.etersoft.ru/%25D0%259F%25D0%25BE%25D0%25B4%25D0%25B4%25D0%25B5%25D1%2580%25D0%25B6%25D0%25BA%25D0%25B0_%25D0%25BA%25D0%25BB%25D1%258E%25D1%2587%25D0%25B5%25D0%25B9_HASP_%25D0%25B2_Wine">HASP key support in Wine</a> </li></ul><br><br><h4>  Other issues on the use of keys (only hardware security keys are considered) </h4><br><br>  The hardware security key inserted into the USB port can be used as follows: <br><ul><li>  Locally installed software; </li><li>     USB-     (VM),     1; </li><li>    USB-   (  -   ,    ¬´ ¬ª). </li></ul><br><br>     1: <br><ul><li> ¬´   ¬ª   USB-  ,    HASP-     ¬´ ¬ª. :  ¬´   ¬ª    ,    ! </li><li>  ¬´ ¬ª (  ,    ¬´ ¬ª   ¬´ ¬ª) ‚Äî        ( 1)   . </li></ul><br><br>       <u>   ‚Äî   ¬´   ¬ª</u> ,  ¬´HASP License Manager¬ª (¬´ ¬ª),         (¬´ ¬ª     ,   ¬´ ¬ª). <br><br> <i>: ¬´ ¬ª    1 7.7        ‚Ä¶  1 8.2     / :       ,       ..  1 8.2          ¬´ ¬ª!    1 8.2     ‚Äî -‚Ä¶ <br><br> , ¬´ ¬ª       1 8.2    :     /  1 ¬´   ¬ª     (       );          (   VPN)       -     ¬´- 1¬ª (, ¬´-¬ª  ¬´ ¬ª    ,  <a href="http://easyprog.ru/index.php%3Foption%3Dcom_content%26task%3Dview%26id%3D630%26Itemid%3D9">  ¬´ ¬ª</a> ).</i> <br><br> <u>  - 1:  8.2</u> ,     -       ( )     ( ) ‚Äî    ,  <u>¬´ ¬ª        ¬´ 1¬ª  ¬´-¬ª.</u> <br><br> <i>   -:     ¬´  ¬ª (       ¬´ ¬ª),     ¬´¬ª    ¬´   ¬ª (  ¬´ ¬ª) ‚Äî . <a href="http://www.forum.mista.ru/topic.php%3Fid%3D536845"> ...</a></i> <br><br><h4>      ‚Äî   </h4><br><br> <u>       ¬´  ¬ª</u> (,    ),         (    ).        ,   ¬´HASP driver¬ª  ¬´HASP License Manager¬ª (    ),         ¬´ ¬ª.    ‚Äî  ‚Ä¶   ¬´ ¬ª     ! <br><br>   ¬´ ¬ª: <br><ul><li>   ,      ¬´ ¬ª  (  1):       Windows. </li><li>  ,  <a href="http://forum.ru-board.com/topic.cgi%3Fforum%3D8%26topic%3D42852">   ¬´HASP License Manager¬ª   </a> :  1:  8.2  Linux +  PostgreSQL 9.0.3  Linux + HASP License Manager  Linux +  1  Windows. </li><li>         ,       ... </li></ul><br><br>  ¬´ ¬ª: <br><ul><li> HASP License Manager     ,       1 ( ). </li><li> HASP License Manager  :      ¬´ ¬ª.       .    ,          ¬´ ¬ª ‚Äî  ¬´ ¬ª       ¬´ ¬ª (  )     ,   ‚Ä¶ </li><li>        ,    ;     (  ) ¬´ ¬ª    ( ,   ),   nethasp.ini,      ¬´ ¬ª ( <a href="http://www.forum.mista.ru/topic.php%3Fid%3D502155">   : /opt/1/v8.2/i386/conf/</a> )... </li><li>   ,  ¬´ ¬ª        .      VPN (    ),       (  /) ‚Äî       ¬´ ¬ª (  IP   ). </li></ul><br><br> /   1C  : <br><ol><li>     ¬´ ¬ª‚Ä¶ </li><li>     ,     ¬´ ¬ª     . </li><li>    ¬´ ¬ª   ,      ¬´ ¬ª ‚Äî           ... </li><li>    ¬´  ¬ª ‚Äî     ¬´ 1¬ª. </li><li> ¬´ 1¬ª   ¬´  ¬ª     <i>(      ,   ;      ¬´ 1¬ª  ¬´ ¬ª)</i> ‚Äî  ,         . </li><li>     ()      :    . </li></ol><br><br> <i>:    ,    ,       .     , 1     ‚Äî   -     ,     ¬´   ¬ª.       ¬´ ¬ª? (  ,  HASP- ,  ¬´License Manager¬ª  ,  ,    ) ‚Äî .  ‚Ä¶    ¬´   ¬ª (   ) ‚Äî          .</i> <br><br></div></div><br><br><hr><br><a name="chapter10"></a><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 10) Next, install the client part - on another machine running Windows </font></font></h2><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 10a) </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">See the most detailed </font></font><a href="http://1c-md.com/administrirovanie/ustanovka-1s.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">installation instructions for the Technological Platform for Windows</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (in pictures and video) ... </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We launch the Technological Platform for Windows version 8.2.16.368 installer (in version 8.2 there is only 32-bit) - there all the programs are in one bottle. </font><font style="vertical-align: inherit;">When installing, select the following components:</font></font><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 1C: Enterprise (Main components of 1C: Enterprise, including components for administration, configuration, a thick and thin client) </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> "1C: Enterprise - Thin Client" (Components of a thin client only for working in a client-server version, without the possibility of working with the file version) </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 1C: Enterprise Server Administration (MMC-console for server cluster administration) </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‚ÄúInterfaces in various languages: English, Russian ...‚Äù (by default) </font></font></li></ul><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> I emphasize, we do not put the following components (they are not needed in this client / server use case of 1C): </font></font><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"1C: Enterprise - Thin client, file version" (Components of a thin client, including </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">components for working with the file version of the information base</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></li><li> ¬´ 1: ¬ª ( <u>     </u> , ..         ‚Ä¶         ¬´  1¬ª:          ,   Widows ‚Äî      ...) </li><li> ¬´  -¬ª (   Windows: ¬´ 1¬ª  Windows + web- IIS  Windows,    ‚Ä¶      ,     1-    web-.   ,      -  ¬´ 1¬ª ‚Äî  DCOM‚Ä¶ <i>  :        -    ¬´ ¬ª!        ...</i> ) </li><li> ¬´   1: ¬ª (       ,   ‚Äî     ,  1  Web- Apache. <i> :  ,   1    ...</i> ) </li><li> ¬´  1:  7.7¬ª (  ) </li></ul><br><br> <u>¬´ HASP-¬ª</u>    ,  1      :   USB-     ,        ¬´ ¬ª‚Ä¶ <i>(:    /,      ¬´HASP- ¬ª!)</i> <br><br> <b>:</b>    , <u>    DCOM</u>       Windows,       1. <br> DCOM    dcomcnfg, <a href="http://www.mista.ru/articles1c/1cv8_setup.htm">   ...</a> <i>(:       DCOM,    1v8+MSSQL‚Ä¶        ,     DCOM.)</i> <br><br><h3> 10b) </h3><br>        : <br><br>  MMC-:  -&gt;  -&gt; 1:  8.2 -&gt;  -&gt;   1: . <br><br>  ,   : ¬´ ¬ª, ¬´¬ª, ¬´ ¬ª, ¬´ ¬ª, ¬´ ¬ª ‚Äî      <a href="http://1c-md.com/administrirovanie/administrirovanie-serverov-1s.html"> ¬´  1 ¬ª...</a> <br><br>       (  MMC-,     ),       ,      : <br><ul><li> <a href="http://life.screenshots.ru/the-code-inside/php-platform/linux-1c-setup/">¬´  1:  8.1  Linux- ( )¬ª</a> / .   ¬´  ¬ª. </li><li> <a href="http://www.gilev.ru/1c/81/setup/pgsql.htm">¬´ 1:  8.1   ¬ª</a> </li></ul><br><br><h3> 10c) </h3><br>    USB- - 1    ( :   ¬´  ¬ª,    ¬´  ¬ª),  <u>    !</u> <i>          ‚Äî       ‚Ä¶       email/ (    ?),   / ( ,  <u>     </u> ,    , ..   )...</i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> After, through the server administration MMC-console, [already] the "Information database" was created (empty for now) - you can connect to it with the "Thick client" in the "Configurator" mode and start creating / configuring the application Configuration ... Do it now: </font></font><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Connect to the IB Configurator (when you first start the client, you need to add the IB to the list: the Add button / Add the existing information database to the list / On the 1C: Enterprise server / Server cluster = delldev (server host name); "Name of IB in the cluster" = test1c); </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Load the Configuration (‚ÄúConfiguration / Load configuration from file (.cf)‚Äù ... then a long process of merging configurations and rebuilding the database, with confirmation requests) will take place; </font></font></li><li>     (  ¬´ /   ¬ª ‚Äî        ¬´  ¬ª,    ); <br> <i>:      <a href="http://forum.vingrad.ru/index.php%3Fshowtopic%3D233642%26view%3Dfindpost%26p%3D1740630">¬´   PostgreSQL    ¬ª</a> ‚Äî       PostgreSQL,      , ..         ‚Ä¶     ,             ...</i> </li><li>       (  ¬´ / ¬ª‚Ä¶    ¬´¬ª      ). </li></ol><br><br>         ‚Äî        (, , web)      ‚Ä¶ <br><br>  That's all!  Thanks for attention! <br><br><hr><br><a name="chapterL"></a><br><h2>  (   ) </h2><br><br>     : <br><ul><li> <a href="http://life.screenshots.ru/the-code-inside/php-platform/linux-1c-setup/">¬´  1:  8.1  Linux- ( )¬ª</a> </li><li> <a href="http://www.gilev.ru/1c/81/setup/pgsql.htm">¬´ 1:  8.1   ¬ª</a> </li><li> <a href="http://wiki.sergeysi.net/index.php%3Ftitle%3D1C:%25D0%259F%25D1%2580%25D0%25B5%25D0%25B4%25D0%25BF%25D1%2580%25D0%25B8%25D1%258F%25D1%2582%25D0%25B8%25D0%25B5_%25D0%25BD%25D0%25B0_Ubuntu_10.04">¬´1C:   Ubuntu 10.04 /  PostgreSQL 9.0¬ª</a> </li><li> <a href="http://www.alsigned.ru/%3Fp%3D1756">¬´ 1 8.2  PostgreSQL 9.0.3  CentOS 6¬ª</a> </li><li> <a href="http://1c-md.com/administrirovanie/ustanovka-1s-linux.html">¬´ 1:  8.2  PostgreSQL 8.4  Linux¬ª (  !)</a> </li><li> <a href="http://1c-md.com/administrirovanie/administrirovanie-serverov-1s.html">¬´  1 ¬ª</a> </li></ul><br><br>  ¬´1:  8.2 ‚Äî  ¬ª. <br><br>     - <a href="http://forum.ru-board.com/topic.cgi%3Fforum%3D8%26topic%3D38289">¬´    : 1    PostgreSQL?¬ª</a> <br><br>         PostgreSQL (   ) ( ): <a href="http://1clinux.org/index.php%3Ftopic%3D447.0"></a> , <a href="http://www.gilev.ru/1c/81/postgresql/index.htm"></a> , <a href="http://wiki.etersoft.ru/PostgreSQL/Optimum"></a> , <a href="http://postgresmen.ru/articles/view/83"></a> , <a href="http://forum.vingrad.ru/forum/topic-233642/0.html"></a> ‚Ä¶ <br><br> <a href="http://v8.1c.ru/requirements/">       1:  8.x ...</a> </div><p>Source: <a href="https://habr.com/ru/post/155735/">https://habr.com/ru/post/155735/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../155709/index.html">Data transfer via features API to Drupal - add a new component for export</a></li>
<li><a href="../155713/index.html">iPad Mini: come see me</a></li>
<li><a href="../155721/index.html">Once again about learning languages ‚Äã‚Äã(part 2)</a></li>
<li><a href="../155723/index.html">Post-travel or rules of work on the road</a></li>
<li><a href="../155725/index.html">Googlebot performs Javascript with a three-day delay.</a></li>
<li><a href="../155739/index.html">If I need to update a file on a web hosting, I most likely use</a></li>
<li><a href="../155741/index.html">Google told where and how tablet owners use their devices.</a></li>
<li><a href="../155743/index.html">Habrahabra icon disappeared</a></li>
<li><a href="../155745/index.html">GTLD administrators will provide registration services directly</a></li>
<li><a href="../155747/index.html">Chromebook for 249 cu already available on Google Play Store</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>