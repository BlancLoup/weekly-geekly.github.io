<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Elegant patterns of modern javascript: Ice Factory</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We bring to your attention the translation of the next material by Bill Soro, which is dedicated to design patterns in JavaScript. Last time we talked...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Elegant patterns of modern javascript: Ice Factory</h1><div class="post__text post__text-html js-mediator-article">  We bring to your attention the translation of the next material by Bill Soro, which is dedicated to design patterns in JavaScript.  <a href="https://habrahabr.ru/company/ruvds/blog/350536/">Last time</a> we talked about the RORO pattern, and today our theme will be the Ice Factory pattern.  In a nutshell, this template is a function that returns a ‚Äúfrozen‚Äù object.  This is a very important and powerful pattern, and we will begin to talk about it with a description of one of the JS problems, which he is addressing. <br><br> <a href="https://habrahabr.ru/company/ruvds/blog/351800/"><img src="https://habrastorage.org/getpro/habr/post_images/a82/884/7e1/a828847e1629d556985184ba51a7e8ce.jpg" alt="image"></a> <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Javascript class problem</font> </h2><br>  Related functions often make sense to group in a single object.  For example, in an online store application, there may be a <code>cart</code> object that contains the public methods <code>addProduct</code> and <code>removeProduct</code> .  These methods can be invoked using the <code>cart.addProduct()</code> and <code>cart.removeProduct()</code> constructs. <br><br>  If you came to JavaScript development from languages ‚Äã‚Äãlike Java or C #, where classes are at the forefront, where everything is focused on objects, then the situation described above is likely to be perceived by you as something quite natural. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      If you are just starting to learn programming, then now you are familiar with expressions like <code>cart.addProduct()</code> .  And I suspect that the idea of ‚Äã‚Äãgrouping functions represented by methods of a single object is also clear to you now. <br><br>  Talk about how to create a <code>cart</code> object.  Perhaps the first thing that comes to your mind, given the possibilities of modern JavaScript, will be an appeal to the keyword <code>class</code> .  For example, it might look like this: <br><br><pre> <code class="hljs pgsql">// ShoppingCart.js export <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> ShoppingCart { constructor({db}) {   this.db = db } addProduct (product) {   this.db.push(product) } empty () {   this.db = [] } <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> products () {   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Object</span></span>     .<span class="hljs-keyword"><span class="hljs-keyword">freeze</span></span>(this.db) } removeProduct (id) {   //   } //   } // someOtherModule.js const db = [] const cart = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> ShoppingCart({db}) cart.addProduct({ <span class="hljs-type"><span class="hljs-type">name</span></span>: <span class="hljs-string"><span class="hljs-string">'foo'</span></span>, price: <span class="hljs-number"><span class="hljs-number">9.99</span></span> })</code> </pre> <br>  Notice that I use an array as the <code>db</code> parameter.  This is done to simplify the example.  In real code, such a variable will be represented by something like a <a href="http://mongoosejs.com/docs/models.html">Model</a> or <a href="https://reallyshouldblogthis.blogspot.ca/2016/02/writing-pure-javascript-repository.html">Repo</a> object that interacts with a real database. <br><br>  Unfortunately, even though all this looks good, classes in JavaScript behave quite differently than you might expect.  Figuratively speaking, if you do not take care when working with classes in JS, they can bite you. <br><br>  For example, objects created using the <code>new</code> keyword are mutable.  This means that you, for example, can override their methods: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> db = [] <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> cart = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ShoppingCart({db}) cart.addProduct = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-string"><span class="hljs-string">'nope!'</span></span> <span class="hljs-comment"><span class="hljs-comment">//     ! cart.addProduct({ name: 'foo', price: 9.99 }) // : "nope!" ?</span></span></code> </pre> <br>  In fact, everything is even worse, since the objects created with the <code>new</code> keyword inherit the prototype of the class that was used to create them.  Therefore, changes in the prototype of this class will affect all objects created on the basis of this class, and even if these changes are made after the creation of objects. <br><br>  Here is an example: <br><br><pre> <code class="hljs coffeescript">const cart = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ShoppingCart({db: []}) const other = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ShoppingCart({db: []}) ShoppingCart.prototype .addProduct = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-string"><span class="hljs-string">'nope!'</span></span> <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>     ! cart.addProduct({ name: <span class="hljs-string"><span class="hljs-string">'foo'</span></span>, price: <span class="hljs-number"><span class="hljs-number">9.99</span></span> }) <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> : <span class="hljs-string"><span class="hljs-string">"nope!"</span></span> other.addProduct({ name: <span class="hljs-string"><span class="hljs-string">'bar'</span></span>, price: <span class="hljs-number"><span class="hljs-number">8.88</span></span> }) <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> : <span class="hljs-string"><span class="hljs-string">"nope!"</span></span></code> </pre> <br>  Next, recall the dynamic binding of the <code>this</code> in JavaScript.  If we pass somewhere the methods of the <code>cart</code> object, we may lose the original link to <code>this</code> .  Such behavior is not intuitive, it can become a source of many problems. <br><br>  The usual annoyance that <code>this</code> suits programmers is manifested when the method of an object is assigned to an event handler.  Consider the <code>cart.empty</code> method for cleaning the basket: <br><br><pre> <code class="hljs kotlin">empty () {   <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.db = [] }</code> </pre> <br>  Let us assign this method to the <code>click</code> event handler of a certain button on a web page: <br><br><pre> <code class="hljs php">&lt;button id=<span class="hljs-string"><span class="hljs-string">"empty"</span></span>&gt; <span class="hljs-keyword"><span class="hljs-keyword">Empty</span></span> cart &lt;/button&gt; --- document .querySelector(<span class="hljs-string"><span class="hljs-string">'#empty'</span></span>) .addEventListener(   <span class="hljs-string"><span class="hljs-string">'click'</span></span>,   cart.<span class="hljs-keyword"><span class="hljs-keyword">empty</span></span> )</code> </pre> <br>  If the user clicks on this button, then nothing will change.  His cart, represented by the <code>cart</code> object, will remain full. <br><br>  In this case, all this happens without any error messages, since <code>this</code> now related not to the basket, but to the button.  As a result, calling <code>cart.empty</code> results in the creation of a new property for the button with the name <code>db</code> , and assigning an empty array to this property, and not affecting the <code>db</code> property of the <code>cart</code> object. <br><br>  This error belongs to the category of those who are able to literally drive the developer‚Äôs mind, because, on the one hand, there are no error messages, and on the other, code that looks quite working from the standpoint of common sense does not actually work As expected. <br><br>  In order to force the above code to do what we expect from it, you need to do this: <br><br><pre> <code class="hljs coffeescript"><span class="hljs-built_in"><span class="hljs-built_in">document</span></span> .querySelector(<span class="hljs-string"><span class="hljs-string">"#empty"</span></span>) .addEventListener(   <span class="hljs-string"><span class="hljs-string">"click"</span></span>,   <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> cart.empty() )</code> </pre> <br>  Or so: <br><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">document</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.querySelector</span></span>("<span class="hljs-selector-id"><span class="hljs-selector-id">#empty</span></span>") <span class="hljs-selector-class"><span class="hljs-selector-class">.addEventListener</span></span>(   "<span class="hljs-selector-tag"><span class="hljs-selector-tag">click</span></span>",   <span class="hljs-selector-tag"><span class="hljs-selector-tag">cart</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.empty</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.bind</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">cart</span></span>) )</code> </pre> <br>  I suppose <a href="https://youtu.be/ImwrezYhw4w">in this video</a> you can find an excellent description of all this, but the quote from this video: <code>¬´new</code> and <code>this</code> [in JavaScript] are illogical, strange, mysterious traps." <br><br><h2>  <font color="#3AC1EF">Ice Factory Pattern as a Solution to JS Class Problems</font> </h2><br>  As already mentioned, the Ice Factory pattern is a function that creates and returns ‚Äúfrozen‚Äù objects.  When using this design pattern, our shopping cart example will look like this: <br><br><pre> <code class="hljs pgsql">// makeShoppingCart.js export <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> makeShoppingCart({ db }) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Object</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">freeze</span></span>({   addProduct,   empty,   getProducts,   removeProduct,   //  }) <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> addProduct (product) {   db.push(product) } <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> empty () {   db = [] } <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> getProducts () {   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Object</span></span>     .<span class="hljs-keyword"><span class="hljs-keyword">freeze</span></span>(db) } <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> removeProduct (id) {   //   } //   } // someOtherModule.js const db = [] const cart = makeShoppingCart({ db }) cart.addProduct({ <span class="hljs-type"><span class="hljs-type">name</span></span>: <span class="hljs-string"><span class="hljs-string">'foo'</span></span>, price: <span class="hljs-number"><span class="hljs-number">9.99</span></span> })</code> </pre> <br>  Please note that our "strange, mysterious traps" disappeared.  Namely, after analyzing this code, we can draw the following conclusions: <br><br><ul><li>  We no longer need the <code>new</code> keyword.  Here, to create the <code>cart</code> object, we simply call the normal JS function. <br></li><li>  We no longer need the <code>this</code> .  Now you can access the <code>db</code> directly from the object's methods. <br></li><li>  The <code>cart</code> object is now immutable.  The <code>Object.freeze()</code> command freezes it.  This leads to the fact that it can not add new properties, and existing properties can not be deleted or modified.  In addition, its prototype cannot be changed either.  Here it is worth remembering only that the <code>Object.freeze()</code> command performs the so-called ‚Äúsmall freezing‚Äù of the object.  That is, if the returned object contains an array or another object, then the <code>Object.freeze()</code> command must also be applied to them.  In addition, if a frozen object is used outside the <a href="https://hacks.mozilla.org/2015/08/es6-in-depth-modules/">ES module</a> , you must use <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode">strict mode</a> in order to ensure that an error is issued when you try to make changes to the object. <br></li></ul><br><h2>  <font color="#3AC1EF">Private properties and methods</font> </h2><br>  Another advantage of the Ice Factory template is that objects created with it can have private properties and methods.  Consider an example: <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">function</span></span> makeThing(spec) { const secret = <span class="hljs-string"><span class="hljs-string">'shhh!'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Object</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">freeze</span></span>({   doStuff }) <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> doStuff () {   //      spec,   //  secret } } //  secret  const thing = makeThing() thing.secret // undefined</code> </pre> <br>  This is possible due to the mechanism of closures, details of which can be <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures">here</a> . <br><br><h2>  <font color="#3AC1EF">About the origins of the Ice Factory pattern</font> </h2><br>  Although the factory functions (Factory Functions) were always in JavaScript, the development of the Ice Factory pattern was seriously inspired by the code that <a href="https://en.wikipedia.org/wiki/Douglas_Crockford">Douglas Crocford</a> showed in <a href="https://www.youtube.com/watch%3Fv%3DrhV6hlL_wMc">this</a> video.  Here's a shot from where he demonstrates how to create an object using a function that he calls a ‚Äúconstructor‚Äù. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/544/e29/005/544e290050a634617de288bfc03b7676.png"></div><br>  <i><font color="#999999">Douglas Crockford shows the code that inspired me</font></i> <br><br>  My version of the code, which is a variation of what Crockford showed, looks like this: <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">function</span></span> makeSomething({ member }) { const { other } = makeSomethingElse() <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Object</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">freeze</span></span>({   other,   <span class="hljs-keyword"><span class="hljs-keyword">method</span></span> }) <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> <span class="hljs-keyword"><span class="hljs-keyword">method</span></span> () {   // ,   "member" } }</code> </pre> <br>  I took the opportunity to ‚Äúraise‚Äù functions in order to put the return expression closer to the top of the code.  As a result, the one who will read this code, immediately, before he gets into the details, will be able to see the overall picture of what is happening. <br><br>  In addition, I used the <code>spec</code> parameter destructuring.  I also gave the name to this template, calling it Ice Factory.  I believe that this way it will be easier to remember and more difficult to confuse with the <code>constructor</code> function from the JS-classes.  But, in general, my pattern and constructor are the same. <br>  Therefore, if we are talking about the authorship of this pattern, then it belongs to Douglas Crockford. <br><br>  Please note that Crockford considers elevating functions to be the ‚Äúweak side‚Äù of JavaScript, and he probably will not like my approach.  I spoke about my attitude to this in one of my <a href="https://medium.freecodecamp.org/constant-confusion-why-i-still-use-javascript-function-statements-984ece0b72fd">previous articles</a> , and specifically in <a href="https://medium.com/%40BillSourour/thank-you-for-your-thoughtful-response-7542ba5ff94e">this</a> comment. <br><br><h2>  <font color="#3AC1EF">Inheritance and Ice Factory</font> </h2><br>  If you continue thinking about creating an application for an online store, you can quite soon understand that the concept of adding and removing products when working with a basket appears again and again in different places. <br><br>  Along with the shopping cart, we are likely to have <code>Catalog</code> and Order objects.  In this case, these objects will most likely have some variants of the open methods <code>addProduct</code> and <code>removeProduct</code> . <br><br>  We know that duplication of code is bad, so we will eventually come to create something like the <code>productList</code> object, which is a list of products from which we will inherit the basket, catalog and order objects. <br><br>  Since objects created using the Ice Factory pattern cannot be extended, they cannot be inherited from other objects.  Given this, what do we do with code duplication?  Can we get some benefit from the use of the object, which is a list of goods? <br><br>  Of course we can! <br><br>  The Ice Factory pattern leads us to the application of the ever-current principle, cited in one of the most influential books on programming - ‚ÄúObject-oriented programming techniques.  Design patterns.  This principle: ‚ÄúPrefer composition to class inheritance‚Äù. <br><br>  The authors of this book, known as the ‚ÄúGang of Four‚Äù, continue, saying: ‚ÄúHowever, our experience shows that designers are abusing inheritance.  Often the design could become better and simpler if the author relied more on the composition of objects. ‚Äù <br><br>  So, here is our list of products: <br><br><pre> <code class="hljs lua"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">makeProductList</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">({ productDb })</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Object.freeze({   addProduct,   empty,   getProducts,   removeProduct,   //  )} //   // addProduct   ... }   : <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">makeShoppingCart</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">({  addProduct,  empty,  getProducts,  removeProduct,  //  })</span></span></span></span> {   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Object.freeze({     addProduct,     empty,     getProducts,     removeProduct,     someOtherMethod,    //    )} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">someOtherMethod</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {   //  } }</code> </pre> <br>  Now we can simply inject the object representing the list of products into the object representing the basket: <br><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> productDb = [] <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> productList = makeProductList({ productDb }) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> cart = makeShoppingCart(productList)</code> </pre> <br><h2>  <font color="#3AC1EF">Results</font> </h2><br>  When we learn about something new, especially if we are talking about something quite complicated, such as an architectural method of designing applications, we tend to expect clear rules related to what we have learned.  We want to hear something like the following: "always do it and never do it like that." <br><br>  The longer I rotate in the software development environment, the better I understand that there are no such concepts as "always" and "never."  A programmer always has a choice dictated by a combination of strengths and weaknesses of a particular technique applied to a specific situation. <br><br>  Above, we talked about the strengths of the Ice Factory pattern.  But he has his drawbacks.  They consist in the fact that objects using this pattern are created more slowly than using classes, and require more memory. <br><br>  For those options for using this pattern that were described above, these minuses do not matter.  In particular, even though the Ice Factory is slower than the use of classes, this pattern still works quite quickly. <br><br>  If you need to create hundreds of thousands of objects, so to speak, in one sitting, or you are in a situation where performance and memory consumption are in the foreground, then you will probably be better off with ordinary classes. <br><br>  The main thing - do not forget to profile the application and do not strive for premature optimization.  Creating objects is rarely a bottleneck. <br><br>  Despite the fact that I said above, the features of the JS-classes can not always be considered weaknesses.  For example, one should not abandon a library or framework only because classes are used there.  <a href="https://medium.com/%40dan_abramov/how-to-use-classes-and-sleep-at-night-9af8de78ccb4">Here is</a> <a href="https://medium.com/%40dan_abramov">Dan Abramov</a> <a href="https://medium.com/%40dan_abramov/how-to-use-classes-and-sleep-at-night-9af8de78ccb4">'s</a> good material on this topic. <br><br>  And finally, I have to admit that in those code fragments that I cited above, I used many architectural solutions dictated solely by my preferences and not being something like absolute truth.  Here are some of them: <br><br><ul><li>  I use the <a href="https://medium.freecodecamp.org/constant-confusion-why-i-still-use-javascript-function-statements-984ece0b72fd">Function Statement</a> construct <a href="https://medium.freecodecamp.org/constant-confusion-why-i-still-use-javascript-function-statements-984ece0b72fd">instead of the Function Expression</a> . <br></li><li>  I place the return command closer to the beginning of the code (this is possible using the Function Statement construction). <br></li><li>  I call the factory functions by the <code>makeX</code> pattern, rather than using the <code>createX</code> , or <code>buildX</code> , or any other naming pattern. <br></li><li>  My factory functions accept a <a href="https://medium.freecodecamp.org/elegant-patterns-in-modern-javascript-roro-be01e7669cbd">single, unstructured parameter as an object</a> . <br></li><li>  I do not use a semicolon ( <a href="https://github.com/twbs/bootstrap/issues/3057">Crockford will definitely not approve</a> ). <br></li></ul><br>  You can use other approaches to code style, and this is <a href="https://medium.freecodecamp.org/the-100-correct-coding-style-guide-5b594a1655f0">completely normal</a> .  Style is not a pattern. <br><br>  The Ice Factory design pattern, in general, comes down to using the function to create and return ‚Äúfrozen‚Äù objects.  And how exactly to write such a function, you can decide for yourself. <br><br>  <b>Dear readers!</b>  Do you use something like the Ice Factory pattern in your projects? <br><br><div style="text-align:center;"> <a href="https://ruvds.com/ru-rub/"><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a href="https://habr.com/ru/post/351800/">https://habr.com/ru/post/351800/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../351790/index.html">Benefits, risks and secrets of in-app advertising</a></li>
<li><a href="../351792/index.html">Profile of non-ideal customer. What clients to refuse and why it is vital</a></li>
<li><a href="../351794/index.html">Seminar Dino Esposito March 29 in Moscow</a></li>
<li><a href="../351796/index.html">Conference DEFCON 19. "The Art of trolling." Matt "OpenFly" Joyce</a></li>
<li><a href="../351798/index.html">Alert in Telegram and Slack in real time. Or How to Make an Alert in Splunk - Part 2</a></li>
<li><a href="../351802/index.html">How JS works: web page rendering engines and tips for optimizing their performance</a></li>
<li><a href="../351804/index.html">How and why to move from service-oriented architecture to microservices</a></li>
<li><a href="../351806/index.html">"Calendar tester" for March. Test security</a></li>
<li><a href="../351808/index.html">Using kubernetes to develop blockchain projects on Hyperledger Fabric</a></li>
<li><a href="../351810/index.html">Live broadcast from Vue.js Moscow Meetup # 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>