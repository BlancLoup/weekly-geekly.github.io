<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Money class</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Many applications operate with money, but in most programming languages, including Java, there is no standard Money class. Many simply store monetary ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Money class</h1><div class="post__text post__text-html js-mediator-article">  Many applications operate with money, but in most programming languages, including Java, there is no standard Money class.  Many simply store monetary values ‚Äã‚Äãin a floating-point variable, but this is a bad decision, as there are always problems with rounding, which have to be solved differently each time.  In addition, money can be measured in different values ‚Äã‚Äã(rubles, dollars, euros and others).  It is impossible to add or compare euros with rubles - this will inevitably cause an error in the result. <br><a name="habracut"></a><br>  When implementing a class of money, you must first select the type of data to store the amount of money.  First of all, it comes to mind that you need to use a type with a floating point.  This will not be a good solution.  The fact is that floating point calculations do not always lead to the desired result.  Try the following example: <br><blockquote>  <font color="black"><font color="#0000ff">double</font> val = 0.00;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i = 0; i &lt;10; i ++)</font> <font color="black"><br></font>  <font color="black">val + = 0.10;</font> <font color="black"><br></font>  <font color="black">System.</font>  <font color="black"><font color="#0000ff">out</font> .println (val == 1.00);</font>  <font color="gray">* This source code was highlighted with <a href="http://source.virtser.net/"><font color="gray">Source Code Highlighter</font></a> .</font> </blockquote><br>  Therefore, it is better to choose the integral type and express it in the smallest units for the selected currency: in kopecks or cents.  For currency, it is better to use the standard Java data type Currency. <br><br>  The class that turned out at me: <br><blockquote>  <font color="black"><font color="#0000ff">package</font> money;</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">import</font> java.util.Currency;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">import</font> java.util.Locale;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">import</font> org.junit.Assert;</font> <font color="black">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </font>  <font color="black"><font color="#008000">/ **</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* Created by IntelliJ IDEA.</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* User: Anthony</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* Date: 09/14/2008</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* Time: 15:25:26</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* To change this template use File |</font></font>  <font color="black"><font color="#008000">Settings |</font></font>  <font color="black"><font color="#008000">File Templates.</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* /</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">class</font> Money {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">private</font> <font color="#0000ff">long</font> amount;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">private</font> currency currency;</font> <font color="black"><br><br></font>  <font color="black"><font color="#008000">/ **</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* <a href="https://habrahabr.ru/users/return/" class="user_link">return The</a> numeric value of the money.</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* /</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">double</font> getAmount () {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> ( <font color="#0000ff">double</font> ) amount / centFactor ();</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#008000">/ **</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* <a href="https://habrahabr.ru/users/return/" class="user_link">return</a> Current currency</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* /</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> Currency getCurrency () {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> currency;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">public</font> Money ( <font color="#0000ff">long</font> amount, Currency currency)</font> <font color="black"><br></font>  <font color="black">{</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">this</font> .currency = currency;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">this</font> .amount = amount * centFactor ();</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">public</font> Money ( <font color="#0000ff">double</font> amount, Currency currency)</font> <font color="black"><br></font>  <font color="black">{</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">this</font> .currency = currency;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">this</font> .amount = Math.round (amount * centFactor ());</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">private</font> Money ()</font> <font color="black"><br></font>  <font color="black">{</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">static</font> Money dollars ( <font color="#0000ff">double</font> amount)</font> <font color="black"><br></font>  <font color="black">{</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> <font color="#0000ff">new</font> Money (amount, Currency.getInstance (Locale.US));</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">static</font> Money locale ( <font color="#0000ff">double</font> amount)</font> <font color="black"><br></font>  <font color="black">{</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">Return</font> <font color="#0000ff">new</font> Money (amount, Currency.getInstance (Locale.getDefault ()));</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">public</font> boolean equals (Object o) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">if</font> ( <font color="#0000ff">this</font> == o) <font color="#0000ff">return</font> <font color="#0000ff">true</font> ;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">if</font> (o == <font color="#0000ff">null</font> || getClass ()! = o.getClass ()) <font color="#0000ff">return</font> <font color="#0000ff">false</font> ;</font> <font color="black"><br><br></font>  <font color="black">Money Money = (Money) o;</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">if</font> (amount! = money.amount) <font color="#0000ff">return</font> <font color="#0000ff">false</font> ;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">if</font> (currency! = <font color="#0000ff">null</font> ?! currency.equals (money.currency): money.currency! = <font color="#0000ff">null</font> ) <font color="#0000ff">return</font> <font color="#0000ff">false</font> ;</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">return</font> <font color="#0000ff">true</font> ;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">int</font> hashCode () {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">int</font> result;</font> <font color="black"><br></font>  <font color="black">result = ( <font color="#0000ff">int</font> ) (amount ^ (amount &gt;&gt;&gt; 32));</font> <font color="black"><br></font>  <font color="black">result = 31 * result + (currency! = <font color="#0000ff">null</font> ? currency.hashCode (): 0);</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> result;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#008000">/ **</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* Function adds money.</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* <a href="https://habrahabr.ru/users/param/" class="user_link">param</a> other with what to fold.</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* <a href="https://habrahabr.ru/users/return/" class="user_link">return</a> The result of the addition.</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* /</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> Money add (Money other)</font> <font color="black"><br></font>  <font color="black">{</font> <font color="black"><br></font>  <font color="black">assertSameCurrencyAs (other);</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> newMoney (amount + other.amount);</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#008000">/ **</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* Function deducts money.</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* <a href="https://habrahabr.ru/users/param/" class="user_link">param</a> other cleaned.</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* <a href="https://habrahabr.ru/users/return/" class="user_link">return</a> The result of the subtraction.</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* /</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> Money subtract (Money other)</font> <font color="black"><br></font>  <font color="black">{</font> <font color="black"><br></font>  <font color="black">assertSameCurrencyAs (other);</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> newMoney (amount - other.amount);</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#008000">/ **</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* Function multiplies money by a factor.</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* <a href="https://habrahabr.ru/users/param/" class="user_link">param</a> arg cleaned.</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* <a href="https://habrahabr.ru/users/return/" class="user_link">return</a> The result of multiplication.</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* /</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> Money multiply ( <font color="#0000ff">double</font> arg)</font> <font color="black"><br></font>  <font color="black">{</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> <font color="#0000ff">new</font> Money (getAmount () * arg, currency);</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">int</font> compareTo (Object other)</font> <font color="black"><br></font>  <font color="black">{</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> compareTo ((Money) other);</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#008000">/ **</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* Func comparison of money.</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* <a href="https://habrahabr.ru/users/param/" class="user_link">param</a> other to compare with</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* <a href="https://habrahabr.ru/users/return/" class="user_link">return</a></font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* -1 less than &lt;br&gt;</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* 0 equals &lt;br&gt;</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* 1 more &lt;br&gt;</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* /</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">int</font> compareTo (Money other)</font> <font color="black"><br></font>  <font color="black">{</font> <font color="black"><br></font>  <font color="black">assertSameCurrencyAs (other);</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">if</font> (amount &lt;other.amount)</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> -1;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">if</font> (amount == other.amount)</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> 0;</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">return</font> 1;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#008000">/ **</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* Is there more money?</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* <a href="https://habrahabr.ru/users/param/" class="user_link">param</a> other to compare with.</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* <a href="https://habrahabr.ru/users/return/" class="user_link">return</a> True if more.</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* /</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> boolean greaterThan (Money other)</font> <font color="black"><br></font>  <font color="black">{</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> (compareTo (other)&gt; 0);</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#008000">/ **</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* Divide money into several parts.</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* <a href="https://habrahabr.ru/users/param/" class="user_link">param</a> n number of parts.</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* <a href="https://habrahabr.ru/users/return/" class="user_link">return</a> Array of divided money.</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* /</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> Money [] allocate ( <font color="#0000ff">int</font> n)</font> <font color="black"><br></font>  <font color="black">{</font> <font color="black"><br></font>  <font color="black">Money lowResult = newMoney (amount / n);</font> <font color="black"><br></font>  <font color="black">Money highResult = newMoney (lowResult.amount + 1);</font> <font color="black"><br></font>  <font color="black">Money [] results = <font color="#0000ff">new</font> Money [n];</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">int</font> remainder = ( <font color="#0000ff">int</font> ) amount% n;</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i = 0; i &lt;remainder; i ++)</font> <font color="black"><br></font>  <font color="black">results [i] = highResult;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i = remainder; i &lt;n; i ++)</font> <font color="black"><br></font>  <font color="black">results [i] = lowResult;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> results;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#008000">/ **</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* Splits money into unequal parts.</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* <a href="https://habrahabr.ru/users/param/" class="user_link">param</a> ratios proportion for separation.</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* <a href="https://habrahabr.ru/users/return/" class="user_link">return</a> Array of divided money.</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* /</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> Money [] allocate ( <font color="#0000ff">long</font> [] ratios) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">long</font> total = 0;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i = 0; i &lt;ratios.length; i ++)</font> <font color="black"><br></font>  <font color="black">total + = ratios [i];</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">long</font> remainder = amount;</font> <font color="black"><br></font>  <font color="black">Money [] results = <font color="#0000ff">new</font> Money [ratios.length];</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i = 0; i &lt;results.length; i ++)</font> <font color="black"><br></font>  <font color="black">{</font> <font color="black"><br></font>  <font color="black">results [i] = newMoney (amount * ratios [i] / total);</font> <font color="black"><br></font>  <font color="black">remainder - = results [i] .amount;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">for</font> ( <font color="#0000ff">int</font> i = 0; i &lt;remainder; i ++) {</font> <font color="black"><br></font>  <font color="black">results [i] .amount ++;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">return</font> results;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">private</font> <font color="#0000ff">static</font> final <font color="#0000ff">int</font> [] cents = <font color="#0000ff">new</font> <font color="#0000ff">int</font> [] {1, 10, 100, 1000};</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">private</font> <font color="#0000ff">int</font> centFactor ()</font> <font color="black"><br></font>  <font color="black">{</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> cents [currency.getDefaultFractionDigits ()];</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">private</font> <font color="#0000ff">void</font> assertSameCurrencyAs (Money arg)</font> <font color="black"><br></font>  <font color="black">{</font> <font color="black"><br></font>  <font color="black">Assert.assertEquals ( <font color="#A31515">"money math mismatch"</font> , currency, arg.currency);</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">private</font> Money newMoney ( <font color="#0000ff">long</font> amount)</font> <font color="black"><br></font>  <font color="black">{</font> <font color="black"><br></font>  <font color="black">Money Money = <font color="#0000ff">new</font> Money ();</font> <font color="black"><br></font>  <font color="black">money.currency = <font color="#0000ff">this</font> .currency;</font> <font color="black"><br></font>  <font color="black">money.amount = amount;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> money;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="gray">* This source code was highlighted with <a href="http://source.virtser.net/"><font color="gray">Source Code Highlighter</font></a> .</font> </blockquote><br><br>  And the JUnit test to it: <br><blockquote>  <font color="black"><font color="#0000ff">package</font> test.money;</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">import</font> junit.framework.Test;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">import</font> junit.framework.TestSuite;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">import</font> junit.framework.TestCase;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">import</font> junit.framework.Assert;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">import</font> money.Money;</font> <font color="black"><br><br></font>  <font color="black"><font color="#008000">/ **</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* Money Tester.</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">*</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* <a href="https://habrahabr.ru/users/author/" class="user_link">author</a> &lt;Authors name&gt;</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* <a href="https://habrahabr.ru/users/since/" class="user_link">since</a> &lt;pre&gt; 09/14/2008 &lt;/ pre&gt;</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* <a href="https://habrahabr.ru/users/version/" class="user_link">version</a> 1.0</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* /</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">class</font> MoneyTest extends TestCase {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> MoneyTest (String name) {</font> <font color="black"><br></font>  <font color="black">super (name);</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">void</font> setUp () throws Exception {</font> <font color="black"><br></font>  <font color="black">super.setUp ();</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">void</font> tearDown () throws Exception {</font> <font color="black"><br></font>  <font color="black">super.tearDown ();</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#008000">/ **</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">*</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* Method: add (Money other)</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">*</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* /</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">void</font> testAdd () throws Exception {</font> <font color="black"><br></font>  <font color="black">Money m1 = Money.dollars (1.316);</font> <font color="black"><br></font>  <font color="black">Money m2 = Money.dollars (1.291);</font> <font color="black"><br></font>  <font color="black">Assert.assertEquals (m1.add (m2), Money.dollars (2.61));</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#008000">/ **</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">*</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* Method: subtract (Money other)</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">*</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* /</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">void</font> testSubtract () throws Exception {</font> <font color="black"><br></font>  <font color="black">Money m1 = Money.dollars (1.316);</font> <font color="black"><br></font>  <font color="black">Money m2 = Money.dollars (1.291);</font> <font color="black"><br></font>  <font color="black">Assert.assertEquals (m1.subtract (m2), Money.dollars (0.03));</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#008000">/ **</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">*</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* Method: compareTo (Object other)</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">*</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* /</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">void</font> testCompareTo () throws Exception {</font> <font color="black"><br></font>  <font color="black">Money m1 = Money.dollars (1.316);</font> <font color="black"><br></font>  <font color="black">Money m2 = Money.dollars (1.313);</font> <font color="black"><br></font>  <font color="black">Assert.assertEquals (m1.compareTo (m2), 1);</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#008000">/ **</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">*</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* Method: multiply (double arg)</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">*</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* /</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">void</font> testMultiply () throws Exception {</font> <font color="black"><br></font>  <font color="black">Money m1 = Money.dollars (1.316);</font> <font color="black"><br></font>  <font color="black">Assert.assertEquals (m1.multiply (1.333), Money.dollars (1.76));</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#008000">/ **</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">*</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* Method: allocate (int n)</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">*</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* /</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">void</font> testAllocateN () throws Exception {</font> <font color="black"><br><br></font>  <font color="black">Money m [] = Money.dollars (1.35). Allocate (3);</font> <font color="black"><br></font>  <font color="black">Assert.assertEquals (m [0] .add (m [1]) .add (m [2]), Money.dollars (1.35));</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#008000">/ **</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">*</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* Method: allocate (long [] ratios)</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">*</font></font> <font color="black"><br></font>  <font color="black"><font color="#008000">* /</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">void</font> testAllocateRatios () throws Exception {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">long</font> [] allocation = {3,7};</font> <font color="black"><br></font>  <font color="black">Money [] result = Money.dollars (0.05). Allocate (allocation);</font> <font color="black"><br></font>  <font color="black">assertEquals (Money.dollars (0.02), result [0]);</font> <font color="black"><br></font>  <font color="black">assertEquals (Money.dollars (0.03), result [1]);</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">static</font> Test suite () {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> <font color="#0000ff">new</font> TestSuite (MoneyTest. <font color="#0000ff">class</font> );</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="gray">* This source code was highlighted with <a href="http://source.virtser.net/"><font color="gray">Source Code Highlighter</font></a> .</font> </blockquote><br><br>  The article is written based on the book by Martin Fowler "Architecture of corporate applications." <br></div><p>Source: <a href="https://habr.com/ru/post/39811/">https://habr.com/ru/post/39811/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../398101/index.html">PON Networks Next Step</a></li>
<li><a href="../398103/index.html">Blockchain digital lifeline</a></li>
<li><a href="../398105/index.html">Date of sale and price of Sony Xperia XZ in Russia announced</a></li>
<li><a href="../398107/index.html">Like humans, monkeys are able to guess what their relatives think</a></li>
<li><a href="../398109/index.html">NASA has tested a rotor excavator for Mars</a></li>
<li><a href="../398111/index.html">Fur beaver as a sample wetsuit</a></li>
<li><a href="../398113/index.html">Kick NOW! Crowdfunding makes the future closer</a></li>
<li><a href="../398115/index.html">Space safety for suborbital tourism</a></li>
<li><a href="../398117/index.html">The story of the hackers "The Life of Carder Black," 2 and 3 chapters</a></li>
<li><a href="../398119/index.html">Lefties are the most numerous minority of the planet.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>