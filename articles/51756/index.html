<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Localization and numerals</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Habr√© is full of articles, with examples in different languages, on how to properly handle numerals and to incline the nouns related to them. Let's se...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Localization and numerals</h1><div class="post__text post__text-html js-mediator-article">  Habr√© is full of articles, with examples in different languages, on how to properly handle numerals and to incline the nouns related to them.  Let's see how this task <a name="habracut"></a>  is solved in qt. <br><br>  In the previous article <a href="http://habrahabr.ru/blogs/qt_software/51319/">about localization, Qt</a> mentioned the QObject :: tr () function and even told that you can insert placeholders% 1,% 2, etc. into the string. <br><br>  However, unfortunately, no special placeholder is mentioned -% n.  If you look closely at the signature of the function QObject :: tr <br><blockquote><code>QString QObject::tr ( const char * sourceText, const char * comment = 0, int n = -1 )</code> </blockquote>  you can see that it has a third parameter - some integer n, what is it? 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Take the example from the previous article and simplify it a bit, we will only show the number of copied files: <br><blockquote> <code>void FileCopier::showProgress(int done) <br> { <br> label.setText(tr("%1 files copied.").arg(done)); <br> }</code> </blockquote>  As you can see, depending on the condition done == 1, we have to write either file or files.  When translated into Russian, everything becomes even more complicated - the form becomes 3 (1 file, 2 files, 5 files copied) and the condition becomes more complicated. <br><br>  And here comes the placeholder% n and the third argument to the tr () function. <br>  To make it all right, let's write the showProgress function as follows: <br><blockquote> <code>void FileCopier::showProgress(int done) <br> { <br> label.setText(tr("%n files copied.", "", done)); <br> }</code> </blockquote>  And when translating, in a linguist, we will have the opportunity to set several options for translating this string for different values ‚Äã‚Äãof% n. <br><br>  For the English language there will be two options - Singular and Plural.  Singular will look like this: "% n file copied.", And Plural like this: "% n files copied." <br><br>  For Russian there are three - Singular, Dual and Plural. <br>  Singular: ‚ÄúCopied% n file.‚Äù <br>  Dual: "Copied% n file." <br>  Plural: "Copied% n files." <br><br>  This is where the work of the translator and programmer ends.  Qt itself knows for which numbers what form to use in this particular language.  When executing the program, the tr () function, depending on the current locale and the third parameter, will return the desired string. <br><br>  If you are interested, here are the <a href="http://doc.trolltech.com/qq/qq19-plurals.html">formulas</a> for some languages ‚Äã‚Äãused by Qt. </div><p>Source: <a href="https://habr.com/ru/post/51756/">https://habr.com/ru/post/51756/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../51745/index.html">Firefox minor bug (3.0.6)</a></li>
<li><a href="../51747/index.html">The kingdom of heaven is taken by force, and those who use force delight him. 11:12</a></li>
<li><a href="../51751/index.html">SEMANTIC WEB for the WORKING ONTOLOGIST</a></li>
<li><a href="../51752/index.html">Thoughts after the seminar ‚ÄúWe need to act!‚Äù NET, Start-up, crisis and opportunities that Anton Nosik spent</a></li>
<li><a href="../51753/index.html">OpenOffice.org 3.0.1 from Infra-resource</a></li>
<li><a href="../51757/index.html">JavaScript, AJAX, Socket and Flash / ActionScript - explore the issue of data transfer in AJAX applications</a></li>
<li><a href="../51759/index.html">Java Article Contest (a Java-based article contest)</a></li>
<li><a href="../51762/index.html">Asynchronous programming: Deferred concept</a></li>
<li><a href="../51768/index.html">using JSON in Ruby on Rails, plus a var_dump example in Javascript</a></li>
<li><a href="../51771/index.html">Good news, everyone!</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>