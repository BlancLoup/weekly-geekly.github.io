<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Kubernetes developers answer questions from Reddit users</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="On April 10, AMD (Ask My Anything) was held at Reddit, within which 9 Kubernetes developers from around the world answered Internet users' questions. ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Kubernetes developers answer questions from Reddit users</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/gw/q5/w4/gwq5w4n5-pb_2cnwtt_xjqeqbec.png"><br><br>  On April 10, AMD (Ask My Anything) <a href="https://twitter.com/kubernetesio/status/982291990539730944">was</a> held at Reddit, within which 9 Kubernetes developers from around the world answered Internet users' questions.  A total of 326 comments were collected, and we present a translation of some of them - containing answers to the most interesting (in our opinion) questions. <a name="habracut"></a><br><br>  Questions and answers for convenience are divided into conditional categories.  So: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  General technical issues </h2><br>  <i><b>Question</b> : Are there plans to add network limits to existing restrictions on CPU and RAM?</i>  <i>Can we also expect autoscaling based on network resources and without applying custom metrics?</i> <br><br>  <b>Answer ‚Ññ1</b> : At the moment, work in the scheduler for network bandwidth is not expected.  Given the experience of Borg, I doubt that such restrictions will work as users want.  A more preferable, in my opinion, way is to add something like QoS ranges, in which traffic with high priority will be preferable, but such an implementation is not yet designed and it will need to take into account the features of a large number of plug-ins supported by Kubernetes. <br><br>  <b>Clarification</b> : ‚ÄúNetwork bandwidth‚Äù is not among other scalar resources.  You can‚Äôt just say, ‚ÄúThe hearth must have XX throughput‚Äù, because the available bandwidth is a property of a particular network path, not a single endpoint.  Thus, it must be described as a property for a couple (‚ÄúThis hearth must have XX throughput to another hearth‚Äù), which quickly ceases to be described in cases that go beyond several hearths and require deep network integration for implementation.  TL; DR: We need to think more creative about network bandwidth. <br><br>  <b>Answer # 2</b> : In fact, there are bandwidth-limiting annotations ( <code>kubernetes.io/ingress-bandwidth</code> and <code>kubernetes.io/egress-bandwidth</code> ) applicable to plots, but whether the network plugin can use them depends on the individual case (for example , the built-in <i>kubenet</i> plugin and the <i>OpenShift SDN</i> plugin can, and I‚Äôm not sure about the others). <br><br>  Autoscaling without user metrics is hardly possible.  We try to support the API receiving <i>non-custom metrics with</i> limited resources that can be expressed in limits and queries, so that the API does not grow for a host of other reasons.  However, we also hope to better stabilize the name of some metrics that are currently exported by <i>kubelet</i> , in order to make network scaling using the capabilities of user metrics easier. <br><br><br>  <i><b>Question</b> : What do you think about using completely separate clusters for dev and production environments instead of using namespaces for such a separation?</i>  <i>What do you usually meet in real life?</i> <br><br>  <b>Answer # 1</b> : Kubernetes was created under the inspiration of Borg, which has a relatively small number of clusters on a large number of machines.  I would like to follow this direction.  At the same time, in life I meet both of these models (and their various intermediate versions), and there are usually good rationales for them.  Upstream cores are not perfect in isolation (help is welcome).  Security teams can be meticulous.  Multi <i>-tenancy</i> in Kubernetes is in an early stage of development.  And so on ... Despite all this, I think that the benefits of large clusters will eventually outweigh all costs. <br><br>  <b>Answer # 2</b> : This is a great question.  I get it almost every week.  Unfortunately, clusters are very rarely identical - too many variables are involved.  Therefore, introducing the next cluster, you add new risks.  Managing a Kubernetes cluster is not so simple in itself, and managing multiple conflicting clusters is an even more difficult task. <br><br>  Speaking about what I see in real installations, I think a lot of clusters for test / staging / dev are a fairly common pattern.  Ultimately, I agree that you should not run the developed code in the same place as production.  Namespaces are wonderful - you will be surprised at <b>how much</b> larger cloud providers use them more than you might think. <br><br><br>  <i><b>Question</b> : What factors affect the maximum supported number of pods per node (now it is 100)?</i> <br><br>  <b>Answer</b> : Docker scalability, kernel settings, testing, user needs. <br><br>  <b>Addition</b> : The size of the application, the complexity of the application and how much the application is demanding for different subsystems.  I saw a working production from 300-400 pods per node, which ran on medium machines (16-32 cores each) for small applications. <br><br>  For a long time, the <i>container runtime</i> was a bottleneck - now it is usually the network and iptables, and storage can also be a problem. <br><br><br>  <i><b>Question</b> : Are there any plans to improve the logging infrastructure?</i>  <i>Now it seems that this is just some temporary solution ...</i> <br><br>  <b>Answer</b> : Work is underway to improve the situation and to make it easier to connect third-party solutions for journaling.  I can not immediately find the appropriate links, but we follow this. <br><br><br>  <i><b>Question</b> : Which of the K8s features being developed right now excite you the most?</i> <br><br>  <b>Answer # 1</b> : For me personally: local volumes (I think this is useful work as much as I hate the need for them), identification (all kinds of), reworking <i>Ingress</i> , generalization of the API machinery.  I also improvise on how to develop <i>Services</i> - they are in a mess. <br><br>  <b>Answer # 2</b> : There are a lot of them!  Watch <a href="https://github.com/kubernetes/features/issues%3Futf8%3D%25E2%259C%2593%26q%3Dis%253Aissue%2Bis%253Aopen%2B">backlog on features</a> . <br><br><br><h2>  Affiliated / Related Projects </h2><br>  <i><b>Q</b> : Are there good GUI front-ends for container management and orchestration?</i> <br><br>  <b>Answer # 1</b> : <a href="https://github.com/kubernetes/dashboard">Kubernetes Dashboard web UI is</a> wonderfully controlled with Kubernetes primitives.  He has a ‚ÄúCreate‚Äù page where you can quickly deploy new <i>Deployments</i> just by filling out a form. <br><br>  Some distributions (for example, OpenShift and Tectonic) have their own web interfaces.  <a href="https://docs.kubernetic.com/">Kubernetic</a> is a desktop GUI for Kubernetes that looks like a Kubernetes Dashboard.  There is even a mobile app <a href="https://github.com/bitnami-labs/cabin">Cabin</a> !  If you are looking for something more high-level and application-oriented, there is <a href="https://github.com/kubeapps/kubeapps">Kubeapps</a> , through which the Helm-charts are installed and managed. <br><br>  <b>Answer # 2</b> : Have you seen the <a href="https://github.com/weaveworks/scope/">Weave Scope</a> ? <br><br><img src="https://habrastorage.org/webt/1y/b-/d7/1yb-d7idpi9euiwp85cyyuolgay.png"><br>  <i>Weave Scope Interface</i> <br><br><br>  <i><b>Question</b> : Do you expect <a href="https://github.com/kubernetes/kubeadm">kubeadm to</a> become a standard way to create / update clusters (outside hosted installations)?</i> <br><br>  <b>Answer # 1</b> : <i>Kubeadm</i> is a widely recognized method for deploying Kubernetes clusters with a large number of available options.  Although the Kubernetes community simultaneously supports many solutions for deploying clusters (mainly because there is no single best solution covering all needs), <a href="https://kubernetes.io/docs/setup/independent/create-cluster-kubeadm">Kubeadm</a> is the right solution that we usually offer for deploying Kubernetes clusters that are ready for production.  But again, there are many other solutions for deploying and managing clusters, and each of them has its pros and cons.  Kubeadm is just one of them. <br><br>  <b>Answer number 2</b> : I put on kubeadm.  And I really bet on it every day.  We are working to prepare it for a wide audience (GA) as soon as possible, and it will be really cool to finally see some stability in the most fragmented (in my opinion) part of Kubernetes - installation. <br><br><br>  <i><b>Q</b> : Are there any good tutorials / utilities to look at my existing clusters and see what access controls I need before activating RBAC?</i> <br><br>  <b>Answer</b> : Take a look at <a href="https://github.com/liggitt/audit2rbac">audit2rbac</a> - allows you to scan the <code>audit</code> log for unauthorized API requests and create corresponding RBAC roles for them. <br><br>  <b>Supplement</b> : <a href="https://www.youtube.com/watch%3Fv%3DNw1ymxcLIDI">This</a> audit2rbac <a href="https://www.youtube.com/watch%3Fv%3DNw1ymxcLIDI">presentation</a> is a good starting point. <br><br><br>  <i><b>Question</b> : What developed project / integration are you most pleased with?</i> <br><br>  <b>Answer # 1</b> : <a href="https://istio.io/">Istio</a> . <br><br>  <b>Answer # 2</b> : Istio. <br><br>  <b>Answer number 3</b> : <a href="https://github.com/kubernetes/kube-deploy/tree/master/cluster-api">Cluster API</a> !  Wow, he's finally available! <br><br><br><h2>  Project community </h2><br>  <i><b>Question</b> : Advise good resources for those who want to become an active contributor to the project (s) Kubernetes.</i> <br><br>  <b>Answer # 1</b> : I always say that those who want to make a contribution need to choose one binary ( <i>kubelet</i> , <i>controller manager</i> , <i>apiserver</i> , etc.) and start reading with <code>main()</code> .  If you can read like this for an hour, not finding <b>anything</b> worth fixing (or at least just renaming something for better readability), you are not looking carefully enough. <br><br>  <b>Answer # 2</b> : Starting with <code>main()</code> is also my preferred way of learning anything.  The Kubernetes codebase may seem confusing and huge to new users, so I always remind you that there is nothing wrong with adding a few <code>fmt.Printf()</code> to the code, recompiling and running it.  In addition, launching some parts of Kubernetes can be significantly more difficult than others.  Sometimes you just need to be creative - we all left crazy pieces of code working on different parts of the system.  Bash is your friend. <br><br>  <b>Answer # 3</b> : It‚Äôs best to start your contribution to the Kubernetes with the recently created <a href="https://github.com/kubernetes/community/tree/master/contributors/guide">Kubernetes Contributor guide</a> .  It describes in detail almost all aspects of making changes to the Kubernetes project and is the No. 1 source for those who want to become an active contributor to the project.  In addition, we regularly conduct <a href=""># meet-our-contributors</a> <i>(in Slack - <b>approx. Transl.</b> )</i> , Where you can ask your questions related to the process of making changes to Kubernetes. <br><br><br>  <i><b>Question</b> : What is the main difficulty for Kubernetes in 2018?</i> <br><br>  <b>Answer # 1</b> : Ready for enterprise.  This is a classic 80/20 problem.  The remaining work is <b>difficult</b> , ‚Äúdirty‚Äù and hard in good grades. <br><br>  <i><b>Question clarification</b> : What is the 20% that is so difficult?</i> <br><br>  <b>Answer-clarification</b> : Security requirements.  Integration with networks.  A long list of opportunities that people think they need.  Integration with auditing.  Policy management.  Compliance with regulatory requirements and regulations.  Each enterprise customer has accumulated over the years a ‚Äústatus quo‚Äù in an environment that must be reckoned with in order to be considered at all. <br><br>  <b>Addition</b> : I think that part of the enterprise readiness problem is teaching people how to exploit Kubernetes applications.  The way we work with orchestrated containers differs from the traditional methods used in the enterprise today.  Teaching people what they need to succeed is an actual omission. <br><br>  <b>Answer # 2</b> : People.  Project management is life-changing: we are at a turning point in which we need to figure out how to scale the human factor.  Over this - the management of all people - we have to work. <br><br><br>  <i><b>Question</b> : The strangest bug in K8s that you found or fixed?</i> <br><br>  <b>Answer # 1</b> : It is possible that a one-time collection of metrics of a particular storage class could become infinite because the method used to do this clogged the underlying storage layer, which caused a delay in timestamps, which in turn caused missing metrics in Heapster. <br><br>  <b>Answer # 2</b> : The hanging <i>kube-proxy</i> caused ICMP ‚Äúno route to host‚Äù errors, which led us to hell of a bewilderment and to search for a problem across the entire network stack except the recipient side. <br><br><br><h2>  Other ecosystem projects </h2><br>  <i><b>Q</b> : What advice would you give to the Docker Swarm team?</i> <br><br>  <b>Answer</b> : Take a close look at what has happened well and what is bad, and learn a lesson from it.  But remember that not only technical issues are important.  Do not underestimate the impact of timeliness and good luck.  There are excellent engineers in the team who do a really good job.  Swarm is of great value to many users. <br><br>  <b>Update</b> : Docker Swarm is a great technology, but unfortunately, not everything in it is Open Source.  I agree that timeliness and luck are very significant.  Docker Swarm is great, and I would like to do a project with Kubernetes that helps users understand these paradigms in their work. <br><br><br>  <i><b>Question</b> : What other CNCF projects are you most pleased with?</i>  <i>Are there any other existing projects that you will be glad to see among them in the near future?</i> <br><br>  <b>Answer # 1</b> : So many options.  I think <a href="https://prometheus.io/">Prometheus</a> and <a href="http://opentracing.io/">OpenTracing are</a> great.  <a href="https://www.envoyproxy.io/">Envoy also</a> makes me happy.  For a long time I worked with <a href="https://habrahabr.ru/company/flant/blog/329830/">CNI</a> , so it would be unfair not to mention him. <br><br>  <b>Answer # 2</b> : Envoy, <a href="https://jaegertracing.io/">Jaeger</a> , Prometheus. <br><br>  <b>Answer # 3</b> : I am glad to see that <a href="https://www.telepresence.io/">Telepresence has</a> applied <a href="https://github.com/cncf/toc/issues/99">for</a> joining CNCF projects.  Recently, a lot of great development tools for Kubernetes (as well as Draft, Skaffold, freshpod) have appeared - I expect that this area will grow! <br><br>  <b>Answer number 4</b> : <a href="http://kubicorn.io/">kubicorn</a> . <br><br><img src="https://habrastorage.org/webt/ru/f7/q_/ruf7q_7hogl5vp2xd5rpfb5xnlw.png"><br>  <i>List of CNCF projects under Incubating (as of April 17, 2018)</i> <br><br><br>  <i><b>Q</b> : What are the plans for OpenShift after <a href="https://www.redhat.com/en/about/press-releases/red-hat-acquire-coreos-expanding-its-kubernetes-and-containers-leadership">acquiring</a> CoreOS by Red Hat?</i>  <i>Will they be merged or maintained separately?</i> <br><br>  <b>Answer</b> : We expect a lot of news on this issue soon.  The goal is to take the best of Tectonic and connect them with the best of OpenShift, as well as ensure that all these parts can be used directly with Kubernetes and simplify the expansion of Kubernetes with them and create applications on this base. <br><br><br>  And finally - the most memorable answer to the question of what recommendations developers can give to medium and large companies migrating to K8s: ‚Äú <b>Know what problems you are trying to solve.</b>  <b>Don't <a href="https://www.urbandictionary.com/define.php%3Fterm%3D%2522boiling%2520the%2520ocean%2522">boil the ocean</a></b> . ‚Äù <br><br><br><h2>  PS from translator </h2><br>  Read also in our blog: <br><br><ul><li>  ‚Äú <a href="https://habrahabr.ru/company/flant/blog/353114/">Kubernetes 1.10: an overview of major innovations</a> ‚Äù; </li><li>  ‚Äú <a href="https://habrahabr.ru/company/flant/blog/346304/">An Illustrated Network Guide for Kubernetes</a> ‚Äù; </li><li>  ‚ÄúWhat happens in Kubernetes when starting the kubectl run?‚Äù: <a href="https://habrahabr.ru/company/flant/blog/342658/">Part 1</a> and <a href="https://habrahabr.ru/company/flant/blog/342822/">part 2</a> ; </li><li>  ‚Äú <a href="https://habrahabr.ru/company/flant/blog/335552/">How does the Kubernetes scheduler actually work?</a>  "; </li><li>  " <a href="https://habrahabr.ru/company/flant/blog/341760/">Infrastructure with Kubernetes as an affordable service</a> "; </li><li>  " <a href="https://habrahabr.ru/company/flant/blog/331188/">Our experience with Kubernetes in small projects</a> " <i>(video of the report, which includes an introduction to the technical device Kubernetes)</i> ; </li><li>  ‚Äú <a href="https://habrahabr.ru/company/flant/blog/349940/">Kubernetes success stories in production.</a>  <a href="https://habrahabr.ru/company/flant/blog/349940/">Part 8: Huawei</a> ; </li><li>  " <a href="https://habrahabr.ru/company/flant/blog/350928/">CNCF's Open Source Solutions Guide (and more) for cloud native</a> ." </li></ul></div><p>Source: <a href="https://habr.com/ru/post/353264/">https://habr.com/ru/post/353264/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../353252/index.html">Manage copying Active Directory attributes when duplicating user accounts</a></li>
<li><a href="../353254/index.html">How in hh.ru test job search</a></li>
<li><a href="../353256/index.html">How fast is AMP really?</a></li>
<li><a href="../353258/index.html">About decorators, end-to-end functionality, CQRS and layered architecture</a></li>
<li><a href="../353262/index.html">JS DevDay: about titanium, workers and hybrids</a></li>
<li><a href="../353266/index.html">The latest version of updates for our superpowers. Review of the book by Dan Roham "Draw to win"</a></li>
<li><a href="../353268/index.html">JPoint 2018: Debriefing</a></li>
<li><a href="../353270/index.html">Five Myths about Data Science</a></li>
<li><a href="../353272/index.html">7 principles for designing container-based applications</a></li>
<li><a href="../353274/index.html">Tips and Tricks for an IT Administrator: Deploying a Different OS with Windows Deployment Services</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>